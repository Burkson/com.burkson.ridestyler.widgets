!function(){function t(){this.OnSessionStart,this.OnWaitingForUpload,this.OnImageReady,this.OnEnded,this.SessionStartModel}t.prototype.StartSession=function(){var t,e=this;function n(n){var s;switch("string"==typeof n.wheelBoundInformation&&(n.wheelBoundInformation=(s=n.wheelBoundInformation,JSON.parse(s))),n.state){case 1:"function"==typeof e.OnSessionStart&&1!=t&&(e.OnSessionStart(n),t=1),o(n.id);break;case 2:"function"==typeof e.OnWaitingForUpload&&2!=t&&(e.OnWaitingForUpload(n),t=2),o(n.id);break;case 3:"function"==typeof e.OnImageReady&&3!=t&&(e.OnImageReady(n),t=3);break;case 4:"function"==typeof e.OnEnded&&4!=t&&(e.OnEnded(n),t=4)}}function o(t){e.SendRequest("Session/Get?id="+t,n)}e.SendRequest("Session/Start",function(n){e.SessionStartModel=n,o(n.session.id),t=0})},t.prototype.SendRequest=function(t,e){var n=new XMLHttpRequest,o="https://capture.ridestyler.net/"+t;n.addEventListener("readystatechange",function(){4===this.readyState&&200===this.status&&e(JSON.parse(this.response))}),n.open("GET",o),n.send()},window.QrCapture=t}();