function RideStylerVehicleSelectionModal(e){function t(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e}function n(e,t){if(e){"string"==typeof e?e=document.querySelectorAll(e):e.tagName&&(e=[e]);for(var n=0;n<e.length;n++)""==e[n].className.trim()?e[n].className=t:(" "+e[n].className+" ").indexOf(" "+t+" ")<0&&(e[n].className+=" "+t)}}function i(e,t){if(e){"string"==typeof e?e=document.querySelectorAll(e):e.tagName&&(e=[e]);for(var n=new RegExp(" "+t+" ","g"),i=new RegExp("(^)"+t+"($| )","g"),r=new RegExp("(^| )"+t+"($)","g"),o=0;o<e.length;o++)e[o].className=e[o].className.replace(n," "),e[o].className=e[o].className.replace(i,""),e[o].className=e[o].className.replace(r,""),""==e[o].className.trim()&&e[o].removeAttribute("class")}}function r(){if(!document.getElementById("vsm-backdrop")){var e=document.createElement("div");e.id="vsm-backdrop",e.style.opacity=0,e.style.transition="opacity linear .3s",s().appendChild(e),function(){var e=document.getElementById("vsm-backdrop");e||r();setTimeout(function(){e.style.opacity=.55,e.onTransitionEndOnce(function(){})},0)}()}}function o(){var e=document.getElementById("vsm-backdrop");e&&(e.style.opacity=0,e.onTransitionEndOnce(function(){e.parentNode.removeChild(e)}))}function a(){var t=document.querySelectorAll(".vsm-modal:not(#vsm_modal_base)"),n=document.querySelectorAll(".vsm-modal.in")[0],r=f.slice(0),a=d.slice(0);f=[],d=[],m=!0,v.indexOf(n.getAttribute("id"))>-1?(n.style.opacity=0,n.onTransitionEndOnce(function(){[].forEach.call(t,function(e){var t=e.getAttribute("id");v.indexOf(t)>-1&&e.parentNode.removeChild(e)});for(var n={},i=0;i<r.length;i++){var o=r[i].split(":");2==o.length&&(n[o[0]]=o[1])}if(e.callback&&"function"==typeof e.callback){var s={FinalSelectionMade:!1,Vehicle:n,FullSelectionData:a};e.callback(s)}else console.warn("No callback function provided.")}),o(),i(document.body,"vsm-modal-open")):console.warn("This vsm instance is not shown yet.")}function s(){return"function"==typeof e.container?e.container():e.container?e.container:document.body}function l(n,i,r){var o=document.getElementById("vsm_modal_base");if(o){var l=o.cloneNode(!0);if(l.id="vsm_modal_"+_vsmModalIDCounter,v.push("vsm_modal_"+_vsmModalIDCounter),l.className+=" vsm_modal_"+_vsmModalIDCounter,s().appendChild(l),void 0!==r){i=t({backModal:r,thisModal:l},i);var u=l.querySelectorAll(".vsm-back-step");[].forEach.call(u,function(t){var n=function(t){t.target.removeEventListener(t.type,n);var r=i.backModal,o=i.thisModal;c(r,o,!0).done(function(){if(f.length&&f.pop(),d.length&&d.pop(),o.parentNode&&o.parentNode.removeChild(o),e.afterBackClicked&&"function"==typeof e.afterBackClicked){for(var t={},n=0;n<f.length;n++){var i=f[n].split(":");2==i.length&&(t[i[0]]=i[1])}var r={FullSelection:t,FullSelectionData:d};e.afterBackClicked(r)}})};t.addEventListener("click",n,!1)})}"function"==typeof n&&n(l,i);var h=l.querySelectorAll(".vsm-close");return[].forEach.call(h,function(e){e.onclick=function(){a()}}),_vsmModalIDCounter++,l}}function c(e,t,r){if(r=!!r,e&&t){var o=ridestyler.promise(),a=ridestyler.promise();if(!r){var s=parseInt(t.style.zIndex,10)||0,l=parseInt(e.style.zIndex,10)||0;l<=s&&(l=s+1),e.style.zIndex=l}y?r?(e.style.display="block",n(e,"in"),a.resolve(),setTimeout(function(){i(t,"in"),t.onTransitionEndOnce(function(){t.style.display="none",o.resolve()})},50)):(e.style.display="block",setTimeout(function(){n(e,"in"),e.onTransitionEndOnce(function(){t.style.display="none",i(t,"in"),a.resolve(),o.resolve()})},50)):(r?(e.style.display="block",n(e,"in"),i(t,"in"),t.style.display="none"):(e.style.display="block",n(e,"in"),t.style.display="none",i(t,"in")),a.resolve(),o.resolve());var c=ridestyler.promise(),u=function(){var e=a.state(),t=o.state();if(0!==e&&0!==t)return 2===e||2===t?c.reject():void c.resolve()};return a.always(u),o.always(u),c}}function u(t,n){var i={Selection:d};n&&n.bestConfiguration?p(t,n.bestConfiguration):ridestyler.ajax.send({action:"Vehicle/Select",data:i,callback:function(n){n.Success&&(n.BestConfiguration?e.IncludeOETireOption?ridestyler.ajax.send({action:"Vehicle/GetTireOptionDetails",data:{VehicleConfiguration:n.BestConfiguration.Value},bestConfiguration:n.BestConfiguration,callback:function(e){if(e.Success){var n=e.Details,i=this.bestConfiguration;if(1==n.length){a=function(e){var t=e.Front.Description,n=e.Rear.Description;return t==n?t:"F: "+t+" R: "+n}(n[0]);i.TireOptionBasic={TireOptionID:n[0].TireOptionID,TireOptionString:a},p(t,i)}else{for(var r={Groups:null,Description:"Select Your Tire Size",Title:"Tire Size",Key:"tireoption",Options:[]},o=0;o<n.length;o++){var a=function(e){var t=e.Front.Description,n=e.Rear.Description;return t==n?t:"F: "+t+" R: "+n}(n[o]);r.Options.push({Group:null,Label:a,Value:n[o].TireOptionID})}h(t,r,i)}}else p(t,i)}}):p(t,n.BestConfiguration):h(t,n.Menu))}})}function h(t,i,r){var o=t.querySelectorAll(".vsm-list-container")[0],a=t.querySelectorAll(".vsm-header")[0],s=t.querySelectorAll(".vsm-modal-body")[0],h=t.querySelectorAll(".vsm-line-step")[0],p=t.querySelectorAll(".vsm-final")[0],v=i.Options,y=i.Key,g=i.Title,b=i.Groups,C=function(n){var i=n.Label,o=n.Value;if(void 0!==i&&void 0!==o){var a=document.createElement("a"),s=document.createTextNode(i);return a.className="vsm-option-item vsm-btn vsm-btn-gray",a.href="javascript:void(0)",a.setAttribute("data-optionvalue",o),a.setAttribute("data-optionlabel",i),a.appendChild(s),a.onclick=function(){!function(n){var i=n.getAttribute("data-optionvalue"),o=n.getAttribute("data-optionkey"),a=n.getAttribute("data-optionlabel"),s=n.getAttribute("data-menutitle");if(d.push(o+":"+i),f.push(s+":"+a),e.afterOptionSelected&&"function"==typeof e.afterOptionSelected){for(var h={},p=0;p<f.length;p++){var v=f[p].split(":");2==v.length&&(h[v[0]]=v[1])}var y={CurrentSelection:{},FullSelection:h,FullSelectionData:d};y.CurrentSelection[s]=a,e.afterOptionSelected(y)}if(!m){var g={};"tireoption"==o&&r&&(r.TireOptionBasic={TireOptionID:i,TireOptionString:a},g.bestConfiguration=r),c(l(u,g,t),t)}}(this)},a}},w=function(e){var t=document.createElement("p"),n=document.createTextNode(e);return t.className="vsm-group-title",t.appendChild(n),t};p.parentNode.removeChild(p),n(h,"vsm-single-step");var A=document.createElement("div"),S=document.createElement("i"),E=document.createElement("span");if(A.className="vsm-column-2",S.className="dot-style dot-before active",E.className="dot-info dot-info-before active",A.appendChild(S),A.appendChild(E),d.length){n(s,"vsm-has-back");I=document.createElement("div");I.className="vsm-column-2 vsm-before";var k=f.map(function(e){return e&&2===e.split(":").length?e.split(":")[1]:""});E.innerHTML=k.join(" "),h.appendChild(I),h.appendChild(A)}else{var I;(I=document.createElement("div")).className="vsm-column-2 no-style",h.appendChild(I),h.appendChild(A)}for(a.innerHTML=i.Description;o.firstChild;)o.removeChild(o.firstChild);if(v.length){var T=document.createElement("div");if(T.className="vsm-group-wrap center-piece",o.appendChild(T),e.GroupOptions&&b){for(var O={},L=0;L<v.length;L++){var _=v[L],H=_.Group;H?O[H]?O[H].push(_):O[H]=[_]:O._ungrouped?O._ungrouped.push(_):O._ungrouped=[_]}for(var R=0;R<b.length;R++){var M=b[R];if(D=O[M]){var B=document.createElement("div"),x="vsm-one-container";"year"==i.Key&&v.length>10&&(2==e.YearScreenColumns&&(x="vsm-half-container"),e.YearScreenColumns>=3&&(x="vsm-third-container")),"make"==i.Key&&v.length>10&&e.MakeScreenColumns>=2&&(x="vsm-half-container"),B.className="vsm-group-list "+x,T.appendChild(w(M)),T.appendChild(B);for(L=0;L<D.length;L++){void 0!==(P=C(D[L]))&&(P.setAttribute("data-optionkey",y),P.setAttribute("data-menutitle",g),B.appendChild(P))}}}if(O._ungrouped){var B=document.createElement("div"),x="vsm-one-container";"year"==i.Key&&v.length>10&&(2==e.YearScreenColumns&&(x="vsm-half-container"),e.YearScreenColumns>=3&&(x="vsm-third-container")),"make"==i.Key&&v.length>10&&e.MakeScreenColumns>=2&&(x="vsm-half-container"),B.className="vsm-group-list "+x,T.appendChild(w("Ungrouped")),T.appendChild(B);for(var D=O._ungrouped,L=0;L<D.length;L++){void 0!==(P=C(D[L]))&&(P.setAttribute("data-optionkey",y),P.setAttribute("data-menutitle",g),B.appendChild(P))}}}else{var B=document.createElement("div"),x="vsm-one-container";"year"==i.Key&&v.length>10&&(2==e.YearScreenColumns&&(x="vsm-half-container"),e.YearScreenColumns>=3&&(x="vsm-third-container")),"make"==i.Key&&v.length>10&&e.MakeScreenColumns>=2&&(x="vsm-half-container"),B.className="vsm-group-list "+x,T.appendChild(B);for(L=0;L<v.length;L++){var P=C(v[L]);void 0!==P&&(P.setAttribute("data-optionkey",y),P.setAttribute("data-menutitle",g),B.appendChild(P))}}}}function p(i,r){var s=i.querySelectorAll(".vsm-vehicle-display")[0],l=i.querySelectorAll(".vsm-final .vsm-loaderIcon")[0],c=i.querySelectorAll(".vehicle-result-name")[0],u=(i.querySelectorAll(".vehicle-result-size")[0],i.querySelectorAll(".vsm-find")[0]),h=i.querySelectorAll(".vsm-modal-body")[0],p=i.querySelectorAll(".vsm-in-progress")[0];n(h,"vsm-has-back"),u.innerHTML=e.ConfirmButtonText;for(var v=[],m={},y=0;y<f.length;y++){var g=f[y].split(":");2==g.length&&"Tire Size"!=g[0]&&(v.push(g[1]),m[g[0]]=g[1])}for(var b=v[0],C=v.pop(),y=1;y<v.length&&!(y>=3);y++)b+=" "+v[y];var w=b+" "+C;c.innerHTML=w,n(i.querySelectorAll(".vsm-modal-body")[0],"vsm-final-screen"),p.parentNode.removeChild(p);var A={Width:260,Height:120,PositionX:1,PositionY:1};e.ImageSettings&&t(A,"function"==typeof e.ImageSettings?e.ImageSettings.call(this,e):e.ImageSettings),A.VehicleConfiguration=r.Value;var S=ridestyler.ajax.url("Vehicle/Render",A);s.src=S,s.style.display="inline-block",s.onload=function(){l.style.display="none"};var E=function(n){n.target.removeEventListener(n.type,E);var i=document.querySelectorAll(".vsm-modal:not(#vsm_modal_base)"),s=function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null}(this,".vsm-modal"),l=d.slice(0);f=[],d=[],s.style.opacity=0,s.onTransitionEndOnce(function(){[].forEach.call(i,function(e){e.parentNode.removeChild(e)});var n={ImageUrl:S,VehicleDescription:w,VehicleConfiguration:r.Value};if(t(n,m),r.TireOptionBasic&&t(n,r.TireOptionBasic),e.callback&&"function"==typeof e.callback){var o={FinalSelectionMade:!0,Vehicle:n,FullSelectionData:l};e.callback(o)}else a(),console.warn("No callback function provided.")}),o()};u.addEventListener("click",E,!1)}var f=[],d=[],v=[],m=!1;e=t({ConfirmButtonText:"Confirm Vehicle",GroupOptions:!1,IncludeOETireOption:!1,YearScreenColumns:3,MakeScreenColumns:2,container:document.body,afterBackClicked:null,afterOptionSelected:null,callback:null},e);var y=function(){var e=(document.body||document.documentElement).style;return void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.OTransition||void 0!==e.transition}();!function(){var e,t=document.createElement("div"),n={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},i="";for(e in n)if(n.hasOwnProperty(e)&&void 0!==t.style[e]){i=n[e];break}HTMLElement.prototype.onTransitionEndOnce=function(e){if(""===i)return e(),this;var t=function(n){e(),n.target.removeEventListener(n.type,t)};return this.addEventListener(i,t,!1),this}}(),this.Show=function(){!function(){if(!document.getElementById("vsm_modal_base")){var e=document.createElement("div");e.innerHTML=vsm_template,s().appendChild(e.firstChild)}}();if(document.querySelectorAll(".vsm-modal:not(#vsm_modal_base)").length)console.warn("There is currently another vsm instance running.");else{var e=l();r(),e.style.display="block",m=!1,setTimeout(function(){n(e,"in"),n(document.body,"vsm-modal-open"),e.onTransitionEndOnce(function(){u(e)})},50)}},this.Hide=a}function RideStylerViewport(e,t){function n(){o.style.opacity=.75}var i="data:image/gif;base64,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ODwvYj48YnIgLz4KPGJyIC8+CjxiPldhcm5pbmc8L2I+OiAgbXlzcWxfcXVlcnkoKSBbPGEgaHJlZj0nZnVuY3Rpb24ubXlzcWwtcXVlcnknPmZ1bmN0aW9uLm15c3FsLXF1ZXJ5PC9hPl06IENhbid0IGNvbm5lY3QgdG8gbG9jYWwgTXlTUUwgc2VydmVyIHRocm91Z2ggc29ja2V0ICcvdmFyL3J1bi9teXNxbGQvbXlzcWxkLnNvY2snICgyKSBpbiA8Yj4vaG9tZS9hamF4bG9hZC93d3cvbGlicmFpcmllcy9jbGFzcy5teXNxbC5waHA8L2I+IG9uIGxpbmUgPGI+Njg8L2I+PGJyIC8+CjxiciAvPgo8Yj5XYXJuaW5nPC9iPjogIG15c3FsX3F1ZXJ5KCkgWzxhIGhyZWY9J2Z1bmN0aW9uLm15c3FsLXF1ZXJ5Jz5mdW5jdGlvbi5teXNxbC1xdWVyeTwvYT5dOiBBIGxpbmsgdG8gdGhlIHNlcnZlciBjb3VsZCBub3QgYmUgZXN0YWJsaXNoZWQgaW4gPGI+L2hvbWUvYWpheGxvYWQvd3d3L2xpYnJhaXJpZXMvY2xhc3MubXlzcWwucGhwPC9iPiBvbiBsaW5lIDxiPjY4PC9iPjxiciAvPgo8YnIgLz4KPGI+V2FybmluZzwvYj46ICBteXNxbF9xdWVyeSgpIFs8YSBocmVmPSdmdW5jdGlvbi5teXNxbC1xdWVyeSc+ZnVuY3Rpb24ubXlzcWwtcXVlcnk8L2E+XTogQ2FuJ3QgY29ubmVjdCB0byBsb2NhbCBNeVNRTCBzZXJ2ZXIgdGhyb3VnaCBzb2NrZXQgJy92YXIvcnVuL215c3FsZC9teXNxbGQuc29jaycgKDIpIGluIDxiPi9ob21lL2FqYXhsb2FkL3d3dy9saWJyYWlyaWVzL2NsYXNzLm15c3FsLnBocDwvYj4gb24gbGluZSA8Yj42ODwvYj48YnIgLz4KPGJyIC8+CjxiPldhcm5pbmc8L2I+OiAgbXlzcWxfcXVlcnkoKSBbPGEgaHJlZj0nZnVuY3Rpb24ubXlzcWwtcXVlcnknPmZ1bmN0aW9uLm15c3FsLXF1ZXJ5PC9hPl06IEEgbGluayB0byB0aGUgc2VydmVyIGNvdWxkIG5vdCBiZSBlc3RhYmxpc2hlZCBpbiA8Yj4vaG9tZS9hamF4bG9hZC93d3cvbGlicmFpcmllcy9jbGFzcy5teXNxbC5waHA8L2I+IG9uIGxpbmUgPGI+Njg8L2I+PGJyIC8+Cg==",r=null,o=null,a=null,s=!1,l={};(t=t||{}).state&&(l=t.state),"string"==typeof e?"function"==typeof document.querySelector?r=document.querySelector(e):"."===e[0]?r=document.getElementsByClassName(e.substring(1)):"#"===e[0]&&(r=document.getElementById(e.substring(1))):"object"==typeof e&&e.tagName&&(r=e),r||console.error("Could not find element specified for: "+e);(function(){var e=function(e){return"fixed"===e||"absolute"===e||"relative"===e};if(e(r.style.position))return!0;var t="getComputedStyle"in window?getComputedStyle(r):r.runtimeStyle;return!!t&&e(t.position)})()||(r.style.position="relative"),(o=document.createElement("img")).src=i,o.style.padding="5px",o.style.borderRadius="21px",o.style.background="#fff",o.style.opacity=0,o.style.transition="opacity linear 300ms",o.style.position="absolute",o.style.left="50%",o.style.top="50%",o.style.zIndex="50",o.style.marginLeft="-21px",o.style.marginTop="-21px",r.appendChild(o),n(),a=new function(e){function t(t){var a=ridestyler.promise();n();var s=ridestyler.ajax.url("Vehicle/Render",t);null!=i&&(r.push(i),i=null);for(var l=r.length-1;l>=0;l--){var c=r[l];c.style.opacity>.5&&(c.style.opacity=.5)}var u=document.createElement("img");return u.style.position="absolute",u.style.left=0,u.style.top=0,u.style.opacity=0,u.style.transition="opacity linear 300ms",e.appendChild(i=u),u.onload=function(){if(u==i){o.style.opacity=0,u.style.opacity=1;for(var t=r.splice(0,r.length),n=0;n<t.length;n++)t[n].style.opacity=0;setTimeout(function(){for(var n=0;n<t.length;n++)e.removeChild(t[n]);a.resolve()},300)}},u.onerror=function(){a.reject()},u.src=s,a}var i=null,r=[];this.Render=function(e){return t(e)}}(r);var c=null;"number"==typeof t.containerAspectRatio&&(c=t.containerAspectRatio);var u=0,h=0;this.ResizeRenderArea=function(){if(r.clientWidth!=u){if(u=r.clientWidth,l.width=u,null!=c){var e=Math.round(u*c);r.style.height=e+"px",l.height=e}s&&(clearTimeout(h),h=setTimeout(function(){a.Render(l)},150))}},!1!==t.responsive&&(setInterval(this.ResizeRenderArea,100),this.ResizeRenderArea()),this.Update=function(e){s=!0,(e=function(e){var t={};if("string"==typeof e){var n=e.split("?");n=(1==n.length?n[0]:n[1]).split("&");for(var i=0;i<n.length;i++){var r=n[i].split("="),o=decodeURIComponent(r[0]).toLowerCase();"key"!=o&&"token"!=o&&(t[o]=decodeURIComponent(r[1]))}}else for(var a in e)t[a.toLowerCase()]=e[a];return t}(e)).width=r.clientWidth,e.height=r.clientHeight;var t=!1;for(var n in e){var i=l[n],o=e[n];i!=o&&(l[n]=o,t=!0)}if(0==t){var c=ridestyler.promise();return c.resolve(),c}return a.Render(l)}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.noUiSlider=e()}(function(){"use strict";function e(e){e.preventDefault()}function t(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function n(e,t,n){n>0&&(o(e,t),setTimeout(function(){a(e,t)},n))}function i(e){return Array.isArray(e)?e:[e]}function r(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function o(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function a(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function s(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:n?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:n?e.documentElement.scrollTop:e.body.scrollTop}}function l(e,t){return 100/(t-e)}function c(e,t){return 100*t/(e[1]-e[0])}function u(e,t){for(var n=1;e>=t[n];)n+=1;return n}function h(e,t,n){if(n>=e.slice(-1)[0])return 100;var i,r,o,a,s=u(n,e);return i=e[s-1],r=e[s],o=t[s-1],a=t[s],o+function(e,t){return c(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}([i,r],n)/l(o,a)}function p(e,t,n,i){if(100===i)return i;var r,o,a=u(i,e);return n?(r=e[a-1],o=e[a],i-r>(o-r)/2?o:r):t[a-1]?e[a-1]+function(e,t){return Math.round(e/t)*t}(i-e[a-1],t[a-1]):i}function f(e,n,i){var r;if("number"==typeof n&&(n=[n]),"[object Array]"!==Object.prototype.toString.call(n))throw new Error("noUiSlider ("+j+"): 'range' contains invalid value.");if(r="min"===e?0:"max"===e?100:parseFloat(e),!t(r)||!t(n[0]))throw new Error("noUiSlider ("+j+"): 'range' value isn't numeric.");i.xPct.push(r),i.xVal.push(n[0]),r?i.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(i.xSteps[0]=n[1]),i.xHighestCompleteStep.push(0)}function d(e,t,n){if(!t)return!0;n.xSteps[e]=c([n.xVal[e],n.xVal[e+1]],t)/l(n.xPct[e],n.xPct[e+1]);var i=(n.xVal[e+1]-n.xVal[e])/n.xNumSteps[e],r=Math.ceil(Number(i.toFixed(3))-1),o=n.xVal[e]+n.xNumSteps[e]*r;n.xHighestCompleteStep[e]=o}function v(e,t,n){this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=t;var i,r=[];for(i in e)e.hasOwnProperty(i)&&r.push([e[i],i]);for(r.length&&"object"==typeof r[0][0]?r.sort(function(e,t){return e[0][0]-t[0][0]}):r.sort(function(e,t){return e[0]-t[0]}),i=0;i<r.length;i++)f(r[i][1],r[i][0],this);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)d(i,this.xNumSteps[i],this)}function m(e){if(function(e){return"object"==typeof e&&"function"==typeof e.to&&"function"==typeof e.from}(e))return!0;throw new Error("noUiSlider ("+j+"): 'format' requires 'to' and 'from' methods.")}function y(e,n){if(!t(n))throw new Error("noUiSlider ("+j+"): 'step' is not numeric.");e.singleStep=n}function g(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider ("+j+"): 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider ("+j+"): Missing 'min' or 'max' in 'range'.");if(t.min===t.max)throw new Error("noUiSlider ("+j+"): 'range' 'min' and 'max' cannot be equal.");e.spectrum=new v(t,e.snap,e.singleStep)}function b(e,t){if(t=i(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider ("+j+"): 'start' option is incorrect.");e.handles=t.length,e.start=t}function C(e,t){if(e.snap=t,"boolean"!=typeof t)throw new Error("noUiSlider ("+j+"): 'snap' option must be a boolean.")}function w(e,t){if(e.animate=t,"boolean"!=typeof t)throw new Error("noUiSlider ("+j+"): 'animate' option must be a boolean.")}function A(e,t){if(e.animationDuration=t,"number"!=typeof t)throw new Error("noUiSlider ("+j+"): 'animationDuration' option must be a number.")}function S(e,t){var n,i=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(n=1;n<e.handles;n++)i.push(t);i.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider ("+j+"): 'connect' option doesn't match handle count.");i=t}e.connect=i}function E(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider ("+j+"): 'orientation' option is invalid.")}}function k(e,n){if(!t(n))throw new Error("noUiSlider ("+j+"): 'margin' option must be numeric.");if(0!==n&&(e.margin=e.spectrum.getMargin(n),!e.margin))throw new Error("noUiSlider ("+j+"): 'margin' option is only supported on linear sliders.")}function I(e,n){if(!t(n))throw new Error("noUiSlider ("+j+"): 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(n),!e.limit||e.handles<2)throw new Error("noUiSlider ("+j+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function T(e,n){if(!t(n))throw new Error("noUiSlider ("+j+"): 'padding' option must be numeric.");if(0!==n){if(e.padding=e.spectrum.getMargin(n),!e.padding)throw new Error("noUiSlider ("+j+"): 'padding' option is only supported on linear sliders.");if(e.padding<0)throw new Error("noUiSlider ("+j+"): 'padding' option must be a positive number.");if(e.padding>=50)throw new Error("noUiSlider ("+j+"): 'padding' option must be less than half the range.")}}function O(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider ("+j+"): 'direction' option was not recognized.")}}function L(e,t){if("string"!=typeof t)throw new Error("noUiSlider ("+j+"): 'behaviour' must be a string containing options.");var n=t.indexOf("tap")>=0,i=t.indexOf("drag")>=0,r=t.indexOf("fixed")>=0,o=t.indexOf("snap")>=0,a=t.indexOf("hover")>=0;if(r){if(2!==e.handles)throw new Error("noUiSlider ("+j+"): 'fixed' behaviour must be used with 2 handles");k(e,e.start[1]-e.start[0])}e.events={tap:n||o,drag:i,fixed:r,snap:o,hover:a}}function _(e,t){if(e.multitouch=t,"boolean"!=typeof t)throw new Error("noUiSlider ("+j+"): 'multitouch' option must be a boolean.")}function H(e,t){if(!1!==t)if(!0===t){e.tooltips=[];for(var n=0;n<e.handles;n++)e.tooltips.push(!0)}else{if(e.tooltips=i(t),e.tooltips.length!==e.handles)throw new Error("noUiSlider ("+j+"): must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider ("+j+"): 'tooltips' must be passed a formatter or 'false'.")})}}function R(e,t){e.ariaFormat=t,m(t)}function M(e,t){e.format=t,m(t)}function B(e,t){if(void 0!==t&&"string"!=typeof t&&!1!==t)throw new Error("noUiSlider ("+j+"): 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function x(e,t){if(void 0!==t&&"object"!=typeof t)throw new Error("noUiSlider ("+j+"): 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix){e.cssClasses={};for(var n in t)t.hasOwnProperty(n)&&(e.cssClasses[n]=e.cssPrefix+t[n])}else e.cssClasses=t}function D(e,t){if(!0!==t&&!1!==t)throw new Error("noUiSlider ("+j+"): 'useRequestAnimationFrame' option should be true (default) or false.");e.useRequestAnimationFrame=t}function P(e){var t={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:N,format:N},n={step:{r:!1,t:y},start:{r:!0,t:b},connect:{r:!0,t:S},direction:{r:!0,t:O},snap:{r:!1,t:C},animate:{r:!1,t:w},animationDuration:{r:!1,t:A},range:{r:!0,t:g},orientation:{r:!1,t:E},margin:{r:!1,t:k},limit:{r:!1,t:I},padding:{r:!1,t:T},behaviour:{r:!0,t:L},multitouch:{r:!0,t:_},ariaFormat:{r:!1,t:R},format:{r:!1,t:M},tooltips:{r:!1,t:H},cssPrefix:{r:!1,t:B},cssClasses:{r:!1,t:x},useRequestAnimationFrame:{r:!1,t:D}},i={connect:!1,direction:"ltr",behaviour:"tap",multitouch:!1,orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(n).forEach(function(r){if(void 0===e[r]&&void 0===i[r]){if(n[r].r)throw new Error("noUiSlider ("+j+"): '"+r+"' is required.");return!0}n[r].t(t,void 0===e[r]?i[r]:e[r])}),t.pips=e.pips;var r=[["left","top"],["right","bottom"]];return t.style=r[t.dir][t.ort],t.styleOposite=r[t.dir?0:1][t.ort],t}function F(t,r,l){function c(e,t){var n=Z.createElement("div");return t&&o(n,t),e.appendChild(n),n}function u(e,t){var n=c(e,r.cssClasses.origin),i=c(n,r.cssClasses.handle);return i.setAttribute("data-handle",t),i.setAttribute("tabindex","0"),i.setAttribute("role","slider"),i.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===t?o(i,r.cssClasses.handleLower):t===r.handles-1&&o(i,r.cssClasses.handleUpper),n}function h(e,t){return!!t&&c(e,r.cssClasses.connect)}function p(e,t){return!!r.tooltips[t]&&c(e.firstChild,r.cssClasses.tooltip)}function f(e,t,n){function i(e,t){var n=t===r.cssClasses.value,i=n?s:l;return t+" "+(n?u:h)[r.ort]+" "+i[e]}var a=Z.createElement("div"),s=[r.cssClasses.valueNormal,r.cssClasses.valueLarge,r.cssClasses.valueSub],l=[r.cssClasses.markerNormal,r.cssClasses.markerLarge,r.cssClasses.markerSub],u=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],h=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];return o(a,r.cssClasses.pips),o(a,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(e).forEach(function(o){!function(e,o){o[1]=o[1]&&t?t(o[0],o[1]):o[1];var s=c(a,!1);s.className=i(o[1],r.cssClasses.marker),s.style[r.style]=e+"%",o[1]&&((s=c(a,!1)).className=i(o[1],r.cssClasses.value),s.style[r.style]=e+"%",s.innerText=n.to(o[0]))}(o,e[o])}),a}function d(){V&&(!function(e){e.parentElement.removeChild(e)}(V),V=null)}function v(e){d();var t=e.mode,n=e.density||1,i=e.filter||!1,r=function(e,t,n){function i(e,t){return(e+t).toFixed(7)/1}var r={},o=J.xVal[0],a=J.xVal[J.xVal.length-1],s=!1,l=!1,c=0;return(n=n.slice().sort(function(e,t){return e-t}).filter(function(e){return!this[e]&&(this[e]=!0)},{}))[0]!==o&&(n.unshift(o),s=!0),n[n.length-1]!==a&&(n.push(a),l=!0),n.forEach(function(o,a){var u,h,p,f,d,v,m,y,g,b=o,C=n[a+1];if("steps"===t&&(u=J.xNumSteps[a]),u||(u=C-b),!1!==b&&void 0!==C)for(u=Math.max(u,1e-7),h=b;h<=C;h=i(h,u)){for(m=(d=(f=J.toStepping(h))-c)/e,g=d/(y=Math.round(m)),p=1;p<=y;p+=1)r[(c+p*g).toFixed(5)]=["x",0];v=n.indexOf(h)>-1?1:"steps"===t?2:0,!a&&s&&(v=0),h===C&&l||(r[f.toFixed(5)]=[h,v]),c=f}}),r}(n,t,function(e,t,n){if("range"===e||"steps"===e)return J.xVal;if("count"===e){if(!t)throw new Error("noUiSlider ("+j+"): 'values' required for mode 'count'.");var i,r=100/(t-1),o=0;for(t=[];(i=o++*r)<=100;)t.push(i);e="positions"}return"positions"===e?t.map(function(e){return J.fromStepping(n?J.getStep(e):e)}):"values"===e?n?t.map(function(e){return J.fromStepping(J.getStep(J.toStepping(e)))}):t:void 0}(t,e.values||!1,e.stepped||!1)),o=e.format||{to:Math.round};return V=K.appendChild(f(r,i,o))}function m(){var e=D.getBoundingClientRect(),t="offset"+["Width","Height"][r.ort];return 0===r.ort?e.width||D[t]:e.height||D[t]}function y(e,t,n,i){var o=function(o){return!K.hasAttribute("disabled")&&(!function(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}(K,r.cssClasses.tap)&&(!!(o=function(e,t,n){var i,o,a=0===e.type.indexOf("touch"),l=0===e.type.indexOf("mouse"),c=0===e.type.indexOf("pointer");0===e.type.indexOf("MSPointer")&&(c=!0);if(a&&r.multitouch){var u=function(e){return e.target===n||n.contains(e.target)};if("touchstart"===e.type){var h=Array.prototype.filter.call(e.touches,u);if(h.length>1)return!1;i=h[0].pageX,o=h[0].pageY}else{var p=Array.prototype.find.call(e.changedTouches,u);if(!p)return!1;i=p.pageX,o=p.pageY}}else if(a){if(e.touches.length>1)return!1;i=e.changedTouches[0].pageX,o=e.changedTouches[0].pageY}t=t||s(Z),(l||c)&&(i=e.clientX+t.x,o=e.clientY+t.y);return e.pageOffset=t,e.points=[i,o],e.cursor=l||c,e}(o,i.pageOffset,i.target||t))&&(!(e===U.start&&void 0!==o.buttons&&o.buttons>1)&&((!i.hover||!o.buttons)&&(W||o.preventDefault(),o.calcPoint=o.points[r.ort],void n(o,i))))))},a=[];return e.split(" ").forEach(function(e){t.addEventListener(e,o,!!W&&{passive:!0}),a.push([e,o])}),a}function g(e){var t=100*(e-function(e,t){var n=e.getBoundingClientRect(),i=e.ownerDocument,r=i.documentElement,o=s(i);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(o.x=0),t?n.top+o.y-r.clientTop:n.left+o.x-r.clientLeft}(D,r.ort))/m();return r.dir?100-t:t}function b(e,t,n,i){var r=n.slice(),o=[!e,e],a=[e,!e];i=i.slice(),e&&i.reverse(),i.length>1?i.forEach(function(e,n){var i=T(r,e,r[e]+t,o[n],a[n],!1);!1===i?t=0:(t=i-r[e],r[e]=i)}):o=a=[!0];var s=!1;i.forEach(function(e,i){s=_(e,n[e]+t,o[i],a[i])||s}),s&&i.forEach(function(e){C("update",e),C("slide",e)})}function C(e,t,n){Object.keys(X).forEach(function(i){var o=i.split(".")[0];e===o&&X[i].forEach(function(e){e.call(Q,q.map(r.format.to),t,q.slice(),n||!1,z.slice())})})}function w(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&S(e,t)}function A(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return S(e,t);var n=(r.dir?-1:1)*(e.calcPoint-t.startCalcPoint);b(n>0,100*n/t.baseSize,t.locations,t.handleNumbers)}function S(t,n){n.handle&&(a(n.handle,r.cssClasses.active),G-=1),n.listeners.forEach(function(e){$.removeEventListener(e[0],e[1])}),0===G&&(a(K,r.cssClasses.drag),L(),t.cursor&&(ee.style.cursor="",ee.removeEventListener("selectstart",e))),n.handleNumbers.forEach(function(e){C("change",e),C("set",e),C("end",e)})}function E(t,n){var i;if(1===n.handleNumbers.length){var a=F[n.handleNumbers[0]];if(a.hasAttribute("disabled"))return!1;i=a.children[0],G+=1,o(i,r.cssClasses.active)}t.stopPropagation();var s=[],l=y(U.move,$,A,{target:t.target,handle:i,listeners:s,startCalcPoint:t.calcPoint,baseSize:m(),pageOffset:t.pageOffset,handleNumbers:n.handleNumbers,buttonsProperty:t.buttons,locations:z.slice()}),c=y(U.end,$,S,{target:t.target,handle:i,listeners:s,handleNumbers:n.handleNumbers}),u=y("mouseout",$,w,{target:t.target,handle:i,listeners:s,handleNumbers:n.handleNumbers});s.push.apply(s,l.concat(c,u)),t.cursor&&(ee.style.cursor=getComputedStyle(t.target).cursor,F.length>1&&o(K,r.cssClasses.drag),ee.addEventListener("selectstart",e,!1)),n.handleNumbers.forEach(function(e){C("start",e)})}function k(e){e.stopPropagation();var t=g(e.calcPoint),i=function(e){var t=100,n=!1;return F.forEach(function(i,r){if(!i.hasAttribute("disabled")){var o=Math.abs(z[r]-e);o<t&&(n=r,t=o)}}),n}(t);if(!1===i)return!1;r.events.snap||n(K,r.cssClasses.tap,r.animationDuration),_(i,t,!0,!0),L(),C("slide",i,!0),C("update",i,!0),C("change",i,!0),C("set",i,!0),r.events.snap&&E(e,{handleNumbers:[i]})}function I(e){var t=g(e.calcPoint),n=J.getStep(t),i=J.fromStepping(n);Object.keys(X).forEach(function(e){"hover"===e.split(".")[0]&&X[e].forEach(function(e){e.call(Q,i)})})}function T(e,t,n,i,o,a){return F.length>1&&(i&&t>0&&(n=Math.max(n,e[t-1]+r.margin)),o&&t<F.length-1&&(n=Math.min(n,e[t+1]-r.margin))),F.length>1&&r.limit&&(i&&t>0&&(n=Math.min(n,e[t-1]+r.limit)),o&&t<F.length-1&&(n=Math.max(n,e[t+1]-r.limit))),r.padding&&(0===t&&(n=Math.max(n,r.padding)),t===F.length-1&&(n=Math.min(n,100-r.padding))),n=J.getStep(n),!((n=function(e){return Math.max(Math.min(e,100),0)}(n))===e[t]&&!a)&&n}function O(e){return e+"%"}function L(){Y.forEach(function(e){var t=z[e]>50?-1:1,n=3+(F.length+t*e);F[e].childNodes[0].style.zIndex=n})}function _(e,t,n,i){return!1!==(t=T(z,e,t,n,i,!1))&&(function(e,t){z[e]=t,q[e]=J.fromStepping(t);var n=function(){F[e].style[r.style]=O(t),H(e),H(e+1)};window.requestAnimationFrame&&r.useRequestAnimationFrame?window.requestAnimationFrame(n):n()}(e,t),!0)}function H(e){if(N[e]){var t=0,n=100;0!==e&&(t=z[e-1]),e!==N.length-1&&(n=z[e]),N[e].style[r.style]=O(t),N[e].style[r.styleOposite]=O(100-n)}}function R(e,t){null!==e&&!1!==e&&("number"==typeof e&&(e=String(e)),!1===(e=r.format.from(e))||isNaN(e)||_(t,J.toStepping(e),!1,!1))}function M(e,t){var o=i(e),a=void 0===z[0];t=void 0===t||!!t,o.forEach(R),r.animate&&!a&&n(K,r.cssClasses.tap,r.animationDuration),Y.forEach(function(e){_(e,z[e],!0,!1)}),L(),Y.forEach(function(e){C("update",e),null!==o[e]&&t&&C("set",e)})}function B(){var e=q.map(r.format.to);return 1===e.length?e[0]:e}function x(e,t){X[e]=X[e]||[],X[e].push(t),"update"===e.split(".")[0]&&F.forEach(function(e,t){C("update",t)})}var D,F,N,Q,V,U=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},W=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),K=t,z=[],Y=[],G=0,J=r.spectrum,q=[],X={},Z=t.ownerDocument,$=Z.documentElement,ee=Z.body;if(K.noUiSlider)throw new Error("noUiSlider ("+j+"): Slider was already initialized.");return function(e){o(e,r.cssClasses.target),0===r.dir?o(e,r.cssClasses.ltr):o(e,r.cssClasses.rtl),0===r.ort?o(e,r.cssClasses.horizontal):o(e,r.cssClasses.vertical),D=c(e,r.cssClasses.base)}(K),function(e,t){F=[],(N=[]).push(h(t,e[0]));for(var n=0;n<r.handles;n++)F.push(u(t,n)),Y[n]=n,N.push(h(t,e[n+1]))}(r.connect,D),Q={destroy:function(){for(var e in r.cssClasses)r.cssClasses.hasOwnProperty(e)&&a(K,r.cssClasses[e]);for(;K.firstChild;)K.removeChild(K.firstChild);delete K.noUiSlider},steps:function(){return z.map(function(e,t){var n=J.getNearbySteps(e),i=q[t],r=n.thisStep.step,o=null;!1!==r&&i+r>n.stepAfter.startValue&&(r=n.stepAfter.startValue-i),o=i>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&i-n.stepBefore.highestStep,100===e?r=null:0===e&&(o=null);var a=J.countStepDecimals();return null!==r&&!1!==r&&(r=Number(r.toFixed(a))),null!==o&&!1!==o&&(o=Number(o.toFixed(a))),[o,r]})},on:x,off:function(e){var t=e&&e.split(".")[0],n=t&&e.substring(t.length);Object.keys(X).forEach(function(e){var i=e.split(".")[0],r=e.substring(i.length);t&&t!==i||n&&n!==r||delete X[e]})},get:B,set:M,reset:function(e){M(r.start,e)},__moveHandles:function(e,t,n){b(e,t,z,n)},options:l,updateOptions:function(e,t){var n=B(),i=["margin","limit","padding","range","animate","snap","step","format"];i.forEach(function(t){void 0!==e[t]&&(l[t]=e[t])});var o=P(l);i.forEach(function(t){void 0!==e[t]&&(r[t]=o[t])}),J=o.spectrum,r.margin=o.margin,r.limit=o.limit,r.padding=o.padding,r.pips&&v(r.pips),z=[],M(e.start||n,t)},target:K,removePips:d,pips:v},function(e){e.fixed||F.forEach(function(e,t){y(U.start,e.children[0],E,{handleNumbers:[t]})}),e.tap&&y(U.start,D,k,{}),e.hover&&y(U.move,D,I,{hover:!0}),e.drag&&N.forEach(function(t,n){if(!1!==t&&0!==n&&n!==N.length-1){var i=F[n-1],a=F[n],s=[t];o(t,r.cssClasses.draggable),e.fixed&&(s.push(i.children[0]),s.push(a.children[0])),s.forEach(function(e){y(U.start,e,E,{handles:[i,a],handleNumbers:[n-1,n]})})}})}(r.events),M(r.start),r.pips&&v(r.pips),r.tooltips&&function(){var e=F.map(p);x("update",function(t,n,i){if(e[n]){var o=t[n];!0!==r.tooltips[n]&&(o=r.tooltips[n].to(i[n])),e[n].innerHTML=o}})}(),x("update",function(e,t,n,i,o){Y.forEach(function(e){var t=F[e],i=T(z,e,0,!0,!0,!0),a=T(z,e,100,!0,!0,!0),s=o[e],l=r.ariaFormat.to(n[e]);t.children[0].setAttribute("aria-valuemin",i.toFixed(1)),t.children[0].setAttribute("aria-valuemax",a.toFixed(1)),t.children[0].setAttribute("aria-valuenow",s.toFixed(1)),t.children[0].setAttribute("aria-valuetext",l)})}),Q}var j="10.1.0";v.prototype.getMargin=function(e){var t=this.xNumSteps[0];if(t&&e/t%1!=0)throw new Error("noUiSlider ("+j+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&c(this.xVal,e)},v.prototype.toStepping=function(e){return e=h(this.xVal,this.xPct,e)},v.prototype.fromStepping=function(e){return function(e,t,n){if(n>=100)return e.slice(-1)[0];var i,r,o,a,s=u(n,t);return i=e[s-1],r=e[s],o=t[s-1],a=t[s],function(e,t){return(n-o)*l(o,a)*(e[1]-e[0])/100+e[0]}([i,r])}(this.xVal,this.xPct,e)},v.prototype.getStep=function(e){return e=p(this.xPct,this.xSteps,this.snap,e)},v.prototype.getNearbySteps=function(e){var t=u(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t-0],step:this.xNumSteps[t-0],highestStep:this.xHighestCompleteStep[t-0]}}},v.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(r);return Math.max.apply(null,e)},v.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var N={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};return{version:j,create:function(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider ("+j+"): create requires a single element, got: "+e);var n=F(e,P(t),t);return e.noUiSlider=n,n}}});var QRCode;!function(){function e(e){this.mode=s.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,n=this.data.length;t<n;t++){var i=[],r=this.data.charCodeAt(t);r>65536?(i[0]=240|(1835008&r)>>>18,i[1]=128|(258048&r)>>>12,i[2]=128|(4032&r)>>>6,i[3]=128|63&r):r>2048?(i[0]=224|(61440&r)>>>12,i[1]=128|(4032&r)>>>6,i[2]=128|63&r):r>128?(i[0]=192|(1984&r)>>>6,i[1]=128|63&r):i[0]=r,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function n(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}function i(e,t){this.totalCount=e,this.dataCount=t}function r(){this.buffer=[],this.length=0}function o(){var e=!1,t=navigator.userAgent;if(/android/i.test(t)){e=!0;var n=t.toString().match(/android ([0-9]\.[0-9])/i);n&&n[1]&&(e=parseFloat(n[1]))}return e}function a(e,t){for(var n=1,i=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),r=0,o=C.length;r<=o;r++){var a=0;switch(t){case l.L:a=C[r][0];break;case l.M:a=C[r][1];break;case l.Q:a=C[r][2];break;case l.H:a=C[r][3]}if(i<=a)break;n++}if(n>C.length)throw new Error("Too long data");return n}e.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,n=this.parsedData.length;t<n;t++)e.put(this.parsedData[t],8)}},t.prototype={addData:function(t){var n=new e(t);this.dataList.push(n),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,n){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[i][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,n),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(this.modules[e+n][t+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=y.getLostPoint(this);(0==n||e>i)&&(e=i,t=n)}return t},createMovieClip:function(e,t,n){var i=e.createEmptyMovieClip(t,n);this.make();for(var r=0;r<this.modules.length;r++)for(var o=1*r,a=0;a<this.modules[r].length;a++){var s=1*a;this.modules[r][a]&&(i.beginFill(0,100),i.moveTo(s,o),i.lineTo(s+1,o),i.lineTo(s+1,o+1),i.lineTo(s,o+1),i.endFill())}return i},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=y.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t],r=e[n];if(null==this.modules[i][r])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)this.modules[i+o][r+a]=-2==o||2==o||-2==a||2==a||0==o&&0==a}},setupTypeNumber:function(e){for(var t=y.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){i=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++){var i=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,i=y.getBCHTypeInfo(n),r=0;r<15;r++){o=!e&&1==(i>>r&1);r<6?this.modules[r][8]=o:r<8?this.modules[r+1][8]=o:this.modules[this.moduleCount-15+r][8]=o}for(r=0;r<15;r++){var o=!e&&1==(i>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=o:r<9?this.modules[8][15-r-1+1]=o:this.modules[8][15-r-1]=o}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,i=this.moduleCount-1,r=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;s<2;s++)if(null==this.modules[i][a-s]){var l=!1;o<e.length&&(l=1==(e[o]>>>r&1));y.getMask(t,i,a-s)&&(l=!l),this.modules[i][a-s]=l,-1==--r&&(o++,r=7)}if((i+=n)<0||this.moduleCount<=i){i-=n,n=-n;break}}}},t.PAD0=236,t.PAD1=17,t.createData=function(e,n,o){for(var a=i.getRSBlocks(e,n),s=new r,l=0;l<o.length;l++){var c=o[l];s.put(c.mode,4),s.put(c.getLength(),y.getLengthInBits(c.mode,e)),c.write(s)}for(var u=0,l=0;l<a.length;l++)u+=a[l].dataCount;if(s.getLengthInBits()>8*u)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*u+")");for(s.getLengthInBits()+4<=8*u&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;;){if(s.getLengthInBits()>=8*u)break;if(s.put(t.PAD0,8),s.getLengthInBits()>=8*u)break;s.put(t.PAD1,8)}return t.createBytes(s,a)},t.createBytes=function(e,t){for(var i=0,r=0,o=0,a=new Array(t.length),s=new Array(t.length),l=0;l<t.length;l++){var c=t[l].dataCount,u=t[l].totalCount-c;r=Math.max(r,c),o=Math.max(o,u),a[l]=new Array(c);for(v=0;v<a[l].length;v++)a[l][v]=255&e.buffer[v+i];i+=c;var h=y.getErrorCorrectPolynomial(u),p=new n(a[l],h.getLength()-1).mod(h);s[l]=new Array(h.getLength()-1);for(v=0;v<s[l].length;v++){var f=v+p.getLength()-s[l].length;s[l][v]=f>=0?p.get(f):0}}for(var d=0,v=0;v<t.length;v++)d+=t[v].totalCount;for(var m=new Array(d),g=0,v=0;v<r;v++)for(l=0;l<t.length;l++)v<a[l].length&&(m[g++]=a[l][v]);for(v=0;v<o;v++)for(l=0;l<t.length;l++)v<s[l].length&&(m[g++]=s[l][v]);return m};for(var s={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l={L:1,M:0,Q:3,H:2},c=0,u=1,h=2,p=3,f=4,d=5,v=6,m=7,y={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;y.getBCHDigit(t)-y.getBCHDigit(y.G15)>=0;)t^=y.G15<<y.getBCHDigit(t)-y.getBCHDigit(y.G15);return(e<<10|t)^y.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;y.getBCHDigit(t)-y.getBCHDigit(y.G18)>=0;)t^=y.G18<<y.getBCHDigit(t)-y.getBCHDigit(y.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return y.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case c:return(t+n)%2==0;case u:return t%2==0;case h:return n%3==0;case p:return(t+n)%3==0;case f:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case d:return t*n%2+t*n%3==0;case v:return(t*n%2+t*n%3)%2==0;case m:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new n([1],0),i=0;i<e;i++)t=t.multiply(new n([1,g.gexp(i)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case s.MODE_NUMBER:return 10;case s.MODE_ALPHA_NUM:return 9;case s.MODE_8BIT_BYTE:case s.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case s.MODE_NUMBER:return 12;case s.MODE_ALPHA_NUM:return 11;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case s.MODE_NUMBER:return 14;case s.MODE_ALPHA_NUM:return 13;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i++)for(u=0;u<t;u++){for(var r=0,o=e.isDark(i,u),a=-1;a<=1;a++)if(!(i+a<0||t<=i+a))for(var s=-1;s<=1;s++)u+s<0||t<=u+s||0==a&&0==s||o==e.isDark(i+a,u+s)&&r++;r>5&&(n+=3+r-5)}for(i=0;i<t-1;i++)for(u=0;u<t-1;u++){var l=0;e.isDark(i,u)&&l++,e.isDark(i+1,u)&&l++,e.isDark(i,u+1)&&l++,e.isDark(i+1,u+1)&&l++,0!=l&&4!=l||(n+=3)}for(i=0;i<t;i++)for(u=0;u<t-6;u++)e.isDark(i,u)&&!e.isDark(i,u+1)&&e.isDark(i,u+2)&&e.isDark(i,u+3)&&e.isDark(i,u+4)&&!e.isDark(i,u+5)&&e.isDark(i,u+6)&&(n+=40);for(u=0;u<t;u++)for(i=0;i<t-6;i++)e.isDark(i,u)&&!e.isDark(i+1,u)&&e.isDark(i+2,u)&&e.isDark(i+3,u)&&e.isDark(i+4,u)&&!e.isDark(i+5,u)&&e.isDark(i+6,u)&&(n+=40);for(var c=0,u=0;u<t;u++)for(i=0;i<t;i++)e.isDark(i,u)&&c++;return n+=10*(Math.abs(100*c/t/t-50)/5)}},g={glog:function(e){if(e<1)throw new Error("glog("+e+")");return g.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return g.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},b=0;b<8;b++)g.EXP_TABLE[b]=1<<b;for(b=8;b<256;b++)g.EXP_TABLE[b]=g.EXP_TABLE[b-4]^g.EXP_TABLE[b-5]^g.EXP_TABLE[b-6]^g.EXP_TABLE[b-8];for(b=0;b<255;b++)g.LOG_TABLE[g.EXP_TABLE[b]]=b;n.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var r=0;r<e.getLength();r++)t[i+r]^=g.gexp(g.glog(this.get(i))+g.glog(e.get(r)));return new n(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=g.glog(this.get(0))-g.glog(e.get(0)),i=new Array(this.getLength()),r=0;r<this.getLength();r++)i[r]=this.get(r);for(r=0;r<e.getLength();r++)i[r]^=g.gexp(g.glog(e.get(r))+t);return new n(i,0).mod(e)}},i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],i.getRSBlocks=function(e,t){var n=i.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,o=[],a=0;a<r;a++)for(var s=n[3*a+0],l=n[3*a+1],c=n[3*a+2],u=0;u<s;u++)o.push(new i(l,c));return o},i.getRsBlockTable=function(e,t){switch(t){case l.L:return i.RS_BLOCK_TABLE[4*(e-1)+0];case l.M:return i.RS_BLOCK_TABLE[4*(e-1)+1];case l.Q:return i.RS_BLOCK_TABLE[4*(e-1)+2];case l.H:return i.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},r.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var C=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],w=function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){function t(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);for(var i in t)t.hasOwnProperty(i)&&n.setAttribute(i,t[i]);return n}var n=this._htOption,i=this._el,r=e.getModuleCount();Math.floor(n.width/r),Math.floor(n.height/r);this.clear();var o=t("svg",{viewBox:"0 0 "+String(r)+" "+String(r),width:"100%",height:"100%",fill:n.colorLight});o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),i.appendChild(o),o.appendChild(t("rect",{fill:n.colorLight,width:"100%",height:"100%"})),o.appendChild(t("rect",{fill:n.colorDark,width:"1",height:"1",id:"template"}));for(var a=0;a<r;a++)for(var s=0;s<r;s++)if(e.isDark(a,s)){var l=t("use",{x:String(s),y:String(a)});l.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),o.appendChild(l)}},e.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},e}(),A="svg"===document.documentElement.tagName.toLowerCase()?w:"undefined"==typeof CanvasRenderingContext2D?function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){for(var t=this._htOption,n=this._el,i=e.getModuleCount(),r=Math.floor(t.width/i),o=Math.floor(t.height/i),a=['<table style="border:0;border-collapse:collapse;">'],s=0;s<i;s++){a.push("<tr>");for(var l=0;l<i;l++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+r+"px;height:"+o+"px;background-color:"+(e.isDark(s,l)?t.colorDark:t.colorLight)+';"></td>');a.push("</tr>")}a.push("</table>"),n.innerHTML=a.join("");var c=n.childNodes[0],u=(t.width-c.offsetWidth)/2,h=(t.height-c.offsetHeight)/2;u>0&&h>0&&(c.style.margin=h+"px "+u+"px")},e.prototype.clear=function(){this._el.innerHTML=""},e}():function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var t=1/window.devicePixelRatio,n=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(e,i,r,o,a,s,l,c,u){if("nodeName"in e&&/img/i.test(e.nodeName))for(var h=arguments.length-1;h>=1;h--)arguments[h]=arguments[h]*t;else void 0===c&&(arguments[1]*=t,arguments[2]*=t,arguments[3]*=t,arguments[4]*=t);n.apply(this,arguments)}}var i=function(e,t){this._bIsPainted=!1,this._android=o(),this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return i.prototype.draw=function(e){var t=this._elImage,n=this._oContext,i=this._htOption,r=e.getModuleCount(),o=i.width/r,a=i.height/r,s=Math.round(o),l=Math.round(a);t.style.display="none",this.clear();for(var c=0;c<r;c++)for(var u=0;u<r;u++){var h=e.isDark(c,u),p=u*o,f=c*a;n.strokeStyle=h?i.colorDark:i.colorLight,n.lineWidth=1,n.fillStyle=h?i.colorDark:i.colorLight,n.fillRect(p,f,o,a),n.strokeRect(Math.floor(p)+.5,Math.floor(f)+.5,s,l),n.strokeRect(Math.ceil(p)-.5,Math.ceil(f)-.5,s,l)}this._bIsPainted=!0},i.prototype.makeImage=function(){this._bIsPainted&&function(e,t){var n=this;if(n._fFail=t,n._fSuccess=e,null===n._bSupportDataURI){var i=document.createElement("img"),r=function(){n._bSupportDataURI=!1,n._fFail&&n._fFail.call(n)};return i.onabort=r,i.onerror=r,i.onload=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)},void(i.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===n._bSupportDataURI&&n._fSuccess?n._fSuccess.call(n):!1===n._bSupportDataURI&&n._fFail&&n._fFail.call(n)}.call(this,e)},i.prototype.isPainted=function(){return this._bIsPainted},i.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},i.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e},i}();(QRCode=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:l.H},"string"==typeof t&&(t={text:t}),t)for(var n in t)this._htOption[n]=t[n];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(A=w),this._android=o(),this._el=e,this._oQRCode=null,this._oDrawing=new A(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(e){this._oQRCode=new t(a(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=l}(),function(e,t){"function"==typeof define&&define.amd?define(["exports"],function(n){t(e.TinyAnimate=n)}):t("object"==typeof exports?exports:e.TinyAnimate={})}(this,function(e){e.animate=function(e,n,i,r,o,a){function s(t){if(!c){var p=(t||+new Date)-h;p>=0&&r(o(p,e,u,i)),p>=0&&p>=i?(r(n),a()):l(s)}}if("number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"function"==typeof r){"string"==typeof o&&t[o]&&(o=t[o]),"function"!=typeof o&&(o=t.linear),"function"!=typeof a&&(a=function(){});var l=window.requestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},c=!1,u=n-e;r(e);var h=window.performance&&window.performance.now?window.performance.now():+new Date;return l(s),{cancel:function(){c=!0}}}},e.animateCSS=function(t,n,i,r,o,a,s,l){return e.animate(r,o,a,function(e){t.style[n]=e+i},s,l)},e.cancel=function(e){e&&e.cancel()};var t=e.easings={};t.linear=function(e,t,n,i){return n*e/i+t},t.easeInQuad=function(e,t,n,i){return n*(e/=i)*e+t},t.easeOutQuad=function(e,t,n,i){return-n*(e/=i)*(e-2)+t},t.easeInOutQuad=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},t.easeInCubic=function(e,t,n,i){return n*(e/=i)*e*e+t},t.easeOutCubic=function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t},t.easeInOutCubic=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},t.easeInQuart=function(e,t,n,i){return n*(e/=i)*e*e*e+t},t.easeOutQuart=function(e,t,n,i){return-n*((e=e/i-1)*e*e*e-1)+t},t.easeInOutQuart=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},t.easeInQuint=function(e,t,n,i){return n*(e/=i)*e*e*e*e+t},t.easeOutQuint=function(e,t,n,i){return n*((e=e/i-1)*e*e*e*e+1)+t},t.easeInOutQuint=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},t.easeInSine=function(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t},t.easeOutSine=function(e,t,n,i){return n*Math.sin(e/i*(Math.PI/2))+t},t.easeInOutSine=function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t},t.easeInExpo=function(e,t,n,i){return 0==e?t:n*Math.pow(2,10*(e/i-1))+t},t.easeOutExpo=function(e,t,n,i){return e==i?t+n:n*(1-Math.pow(2,-10*e/i))+t},t.easeInOutExpo=function(e,t,n,i){return 0==e?t:e==i?t+n:(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},t.easeInCirc=function(e,t,n,i){return-n*(Math.sqrt(1-(e/=i)*e)-1)+t},t.easeOutCirc=function(e,t,n,i){return n*Math.sqrt(1-(e=e/i-1)*e)+t},t.easeInOutCirc=function(e,t,n,i){return(e/=i/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},t.easeInElastic=function(e,t,n,i){var r=0,o=n;if(0==e)return t;if(1==(e/=i))return t+n;if(r||(r=.3*i),o<Math.abs(n)){o=n;a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return-o*Math.pow(2,10*(e-=1))*Math.sin((e*i-a)*(2*Math.PI)/r)+t},t.easeOutElastic=function(e,t,n,i){var r=0,o=n;if(0==e)return t;if(1==(e/=i))return t+n;if(r||(r=.3*i),o<Math.abs(n)){o=n;a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return o*Math.pow(2,-10*e)*Math.sin((e*i-a)*(2*Math.PI)/r)+n+t},t.easeInOutElastic=function(e,t,n,i){var r=0,o=n;if(0==e)return t;if(2==(e/=i/2))return t+n;if(r||(r=i*(.3*1.5)),o<Math.abs(n)){o=n;a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return e<1?o*Math.pow(2,10*(e-=1))*Math.sin((e*i-a)*(2*Math.PI)/r)*-.5+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*i-a)*(2*Math.PI)/r)*.5+n+t},t.easeInBack=function(e,t,n,i,r){return void 0==r&&(r=1.70158),n*(e/=i)*e*((r+1)*e-r)+t},t.easeOutBack=function(e,t,n,i,r){return void 0==r&&(r=1.70158),n*((e=e/i-1)*e*((r+1)*e+r)+1)+t},t.easeInOutBack=function(e,t,n,i,r){return void 0==r&&(r=1.70158),(e/=i/2)<1?n/2*(e*e*((1+(r*=1.525))*e-r))+t:n/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t},t.easeInBounce=function(e,n,i,r){return i-t.easeOutBounce(r-e,0,i,r)+n},t.easeOutBounce=function(e,t,n,i){return(e/=i)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},t.easeInOutBounce=function(e,n,i,r){return e<r/2?.5*t.easeInBounce(2*e,0,i,r)+n:.5*t.easeOutBounce(2*e-r,0,i,r)+.5*i+n}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var n={exports:{}};t(n.exports,n),e.Impetus=n.exports}}(this,function(e,t){"use strict";function n(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return n=function(){return e},e}var i=.04,r=.11;window.addEventListener("touchmove",function(){});t.exports=function e(t){function a(){b.call(g,N,Q)}function s(e){if("touchmove"===e.type||"touchstart"===e.type||"touchend"===e.type){var t=e.targetTouches[0]||e.changedTouches[0];return{x:t.clientX,y:t.clientY,id:t.identifier}}return{x:e.clientX,y:e.clientY,id:null}}function l(e){var t=s(e);W||K||(W=!0,z=!1,P=t.id,M=x=t.x,B=D=t.y,Y=[],p(M,B),document.addEventListener("touchmove",c,!!n()&&{passive:!1}),document.addEventListener("touchend",u),document.addEventListener("touchcancel",h),document.addEventListener("mousemove",c,!!n()&&{passive:!1}),document.addEventListener("mouseup",u))}function c(e){e.preventDefault();var t=s(e);W&&t.id===P&&(x=t.x,D=t.y,p(M,B),U||o(f),U=!0)}function u(e){var t=s(e);W&&t.id===P&&h()}function h(){W=!1,p(M,B),function(){var e=Y[0],t=Y[Y.length-1],n=t.x-e.x,i=t.y-e.y,r=(t.time-e.time)/15/w;F=n/r||0,j=i/r||0;var a=v();(Math.abs(F)>1||Math.abs(j)>1||!a.inBounds)&&(z=!0,o(m))}(),document.removeEventListener("touchmove",c),document.removeEventListener("touchend",u),document.removeEventListener("touchcancel",h),document.removeEventListener("mouseup",u),document.removeEventListener("mousemove",c)}function p(e,t){for(var n=Date.now();Y.length>0&&!(n-Y[0].time<=100);)Y.shift();Y.push({x:e,y:t,time:n})}function f(){var e=x-M,t=D-B;if(N+=e*w,Q+=t*w,O){var n=v();0!==n.x&&(N-=e*d(n.x)*w),0!==n.y&&(Q-=t*d(n.y)*w)}else v(!0);a(),M=x,B=D,U=!1}function d(e){return 5e-6*Math.pow(e,2)+1e-4*e+.55}function v(e){var t=0,n=0;return void 0!==L&&N<L?t=L-N:void 0!==_&&N>_&&(t=_-N),void 0!==H&&Q<H?n=H-Q:void 0!==R&&Q>R&&(n=R-Q),e&&(0!==t&&(N=t>0?L:_),0!==n&&(Q=n>0?H:R)),{x:t,y:n,inBounds:0===t&&0===n}}function m(){if(z){N+=F*=S,Q+=j*=S;var e=v();if(Math.abs(F)>V||Math.abs(j)>V||!e.inBounds){if(O){if(0!==e.x&&(e.x*F<=0?F+=e.x*i:(t=e.x>0?2.5:-2.5,F=(e.x+t)*r)),0!==e.y)if(e.y*j<=0)j+=e.y*i;else{var t=e.y>0?2.5:-2.5;j=(e.y+t)*r}}else 0!==e.x&&(N=e.x>0?L:_,F=0),0!==e.y&&(Q=e.y>0?H:R,j=0);a(),o(m)}else z=!1}}var y=t.source,g=void 0===y?document:y,b=t.update,C=t.multiplier,w=void 0===C?1:C,A=t.friction,S=void 0===A?.92:A,E=t.initialValues,k=t.boundX,I=t.boundY,T=t.bounce,O=void 0===T||T;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var L,_,H,R,M,B,x,D,P,F,j,N=0,Q=0,V=.3*w,U=!1,W=!1,K=!1,z=!1,Y=[];!function(){if(!(g="string"==typeof g?document.querySelector(g):g))throw new Error("IMPETUS: source not found.");if(!b)throw new Error("IMPETUS: update function not defined.");E&&(E[0]&&(N=E[0]),E[1]&&(Q=E[1]),a()),k&&(L=k[0],_=k[1]),I&&(H=I[0],R=I[1]),g.addEventListener("touchstart",l),g.addEventListener("mousedown",l)}(),this.destroy=function(){return g.removeEventListener("touchstart",l),g.removeEventListener("mousedown",l),null},this.pause=function(){W=!1,K=!0},this.resume=function(){K=!1},this.setValues=function(e,t){"number"==typeof e&&(N=e),"number"==typeof t&&(Q=t)},this.setMultiplier=function(e){V=.3*(w=e)},this.setBoundX=function(e){L=e[0],_=e[1]},this.setBoundY=function(e){H=e[0],R=e[1]}};var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}});var vsm_template='<div id="vsm_modal_base" class="vsm-modal vsm-hide vsm-fade" style="z-index: 9999;" tabindex="-1" role="dialog"> <div class="vsm-modal-dialog"> <div class="vsm-modal-content"> <div class="vsm-modal-header"> <button type="button" class="vsm-close"> </button> </div><div class="vsm-modal-body vsm-option-body vsm-list-body"> <a href="javascript:void(0);" class="vsm-back-link vsm-back-step"> <i class="vsm-back-arrow"></i> </a> <div class="vsm-in-progress"> <p class="vsm-header vsm-center"></p><div class="vsm-line-step center-piece vsm-columns"> </div><div class="vsm-list-container"> <i class="vsm-loaderIcon" alt="Loading options"></i> </div></div><div class="vsm-final"> <div class="center-piece vsm-line-step vsm-columns vehicle-result-wrap"> <div class="vsm-column-2 vsm-before"></div><div class="vsm-column-2 no-style"><i class="dot-style dot-before active"></i></div><p class="vehicle-result-name"></p><p class="vehicle-result-size"></p></div> <div class="center-piece vehicle-image-wrap"> <div style="position: relative; text-align: center; min-height: 120px;"> <i class="vsm-loaderIcon" alt="Loading an image of your vehicle"></i> <img src="" alt="" class="vsm-vehicle-display" style="display: none;"> </div><a href="javascript:void(0);" class="vsm-btn vsm-btn-gray vsm-full-width vsm-find"></a> </div></div></div></div></div></div>',_vsmModalIDCounter=0;"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(e){"use strict";if("Element"in e){var t="prototype",n=e.Element[t],i=Object,r=String[t].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[t].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},a=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},s=function(e,t){if(""===t)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},l=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,o=n.length;i<o;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},c=l[t]=[],u=function(){return new l(this)};if(a[t]=Error[t],c.item=function(e){return this[e]||null},c.contains=function(e){return e+="",-1!==s(this,e)},c.add=function(){var e,t=arguments,n=0,i=t.length,r=!1;do{e=t[n]+"",-1===s(this,e)&&(this.push(e),r=!0)}while(++n<i);r&&this._updateClassName()},c.remove=function(){var e,t,n=arguments,i=0,r=n.length,o=!1;do{for(e=n[i]+"",t=s(this,e);-1!==t;)this.splice(t,1),o=!0,t=s(this,e)}while(++i<r);o&&this._updateClassName()},c.toggle=function(e,t){e+="";var n=this.contains(e),i=n?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),!0===t||!1===t?t:!n},c.toString=function(){return this.join(" ")},i.defineProperty){var h={get:u,enumerable:!0,configurable:!0};try{i.defineProperty(n,"classList",h)}catch(e){void 0!==e.number&&-2146823252!==e.number||(h.enumerable=!1,i.defineProperty(n,"classList",h))}}else i[t].__defineGetter__&&n.__defineGetter__("classList",u)}}(window.self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,i=arguments.length;for(n=0;n<i;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}()),function(e){function t(e,t,n,i){for(var r,o,a=n.slice(),s=function(e,t){return e.currentTarget=t,e.eventPhase=e.target===e.currentTarget?2:3,e}(t,e),l=0,c=a.length;l<c&&("object"==typeof(r=a[l])?"function"==typeof r.handleEvent&&r.handleEvent(s):r.call(e,s),!s.stoppedImmediatePropagation);l++);return o=!s.stoppedPropagation,i&&o&&e.parentNode?e.parentNode.dispatchEvent(s):!s.defaultPrevented}function n(e,t){return{configurable:!0,get:e,set:t}}function i(e,t,i){var r=g(t||e,i);m(e,"textContent",n(function(){return r.get.call(this)},function(e){r.set.call(this,e)}))}function r(e,t){for(var n=e.length;n--&&e[n]!==t;);return n}function o(){if("BR"===this.tagName)return"\n";for(var e=this.firstChild,t=[];e;)8!==e.nodeType&&7!==e.nodeType&&t.push(e.textContent),e=e.nextSibling;return t.join("")}function a(e){var t=document.createEvent("Event");t.initEvent("input",!0,!0),(e.srcElement||e.fromElement||document).dispatchEvent(t)}function s(e){!p&&S.test(document.readyState)&&(p=!p,document.detachEvent(f,s),(e=document.createEvent("Event")).initEvent(d,!0,!0),document.dispatchEvent(e))}function l(e){return function(){return I[e]||document.body&&document.body[e]||0}}function c(e){for(var t;t=this.lastChild;)this.removeChild(t);null!=e&&this.appendChild(document.createTextNode(e))}function u(t,n){return n||(n=e.event),n.target||(n.target=n.srcElement||n.fromElement||document),n.timeStamp||(n.timeStamp=(new Date).getTime()),n}if(!document.createEvent){var h=!0,p=!1,f="onreadystatechange",d="DOMContentLoaded",v="__IE8__"+Math.random(),m=Object.defineProperty||function(e,t,n){e[t]=n.value},y=Object.defineProperties||function(t,n){for(var i in n)if(b.call(n,i))try{m(t,i,n[i])}catch(n){e.console&&console.log(i+" failed on object:",t,n.message)}},g=Object.getOwnPropertyDescriptor,b=Object.prototype.hasOwnProperty,C=e.Element.prototype,w=e.Text.prototype,A=/^[a-z]+$/,S=/loaded|complete/,E={},k=document.createElement("div"),I=document.documentElement,T=I.removeAttribute,O=I.setAttribute,L=function(e){return{enumerable:!0,writable:!0,configurable:!0,value:e}};i(e.HTMLCommentElement.prototype,C,"nodeValue"),i(e.HTMLScriptElement.prototype,null,"text"),i(w,null,"nodeValue"),i(e.HTMLTitleElement.prototype,null,"text"),m(e.HTMLStyleElement.prototype,"textContent",function(e){return n(function(){return e.get.call(this.styleSheet)},function(t){e.set.call(this.styleSheet,t)})}(g(e.CSSStyleSheet.prototype,"cssText")));var _=/\b\s*alpha\s*\(\s*opacity\s*=\s*(\d+)\s*\)/;m(e.CSSStyleDeclaration.prototype,"opacity",{get:function(){var e=this.filter.match(_);return e?(e[1]/100).toString():""},set:function(e){this.zoom=1;var t=!1;e=e<1?" alpha(opacity="+Math.round(100*e)+")":"",this.filter=this.filter.replace(_,function(){return t=!0,e}),!t&&e&&(this.filter+=e)}}),y(C,{textContent:{get:o,set:c},firstElementChild:{get:function(){for(var e=this.childNodes||[],t=0,n=e.length;t<n;t++)if(1==e[t].nodeType)return e[t]}},lastElementChild:{get:function(){for(var e=this.childNodes||[],t=e.length;t--;)if(1==e[t].nodeType)return e[t]}},oninput:{get:function(){return this._oninput||null},set:function(e){this._oninput&&(this.removeEventListener("input",this._oninput),this._oninput=e,e&&this.addEventListener("input",e))}},previousElementSibling:{get:function(){for(var e=this.previousSibling;e&&1!=e.nodeType;)e=e.previousSibling;return e}},nextElementSibling:{get:function(){for(var e=this.nextSibling;e&&1!=e.nodeType;)e=e.nextSibling;return e}},childElementCount:{get:function(){for(var e=0,t=this.childNodes||[],n=t.length;n--;e+=1==t[n].nodeType);return e}},addEventListener:L(function(e,n,i){if("function"==typeof n||"object"==typeof n){var o,s,l=this,c="on"+e,h=l[v]||m(l,v,{value:{}})[v],p=h[c]||(h[c]={}),f=p.h||(p.h=[]);if(!b.call(p,"w")){if(p.w=function(e){return e[v]||t(l,u(0,e),f,!1)},!b.call(E,c))if(A.test(e)){try{(o=document.createEventObject())[v]=!0,9!=l.nodeType&&(null==l.parentNode&&k.appendChild(l),(s=l.getAttribute(c))&&T.call(l,c)),l.fireEvent(c,o),E[c]=!0}catch(e){for(E[c]=!1;k.hasChildNodes();)k.removeChild(k.firstChild)}null!=s&&O.call(l,c,s)}else E[c]=!1;(p.n=E[c])&&l.attachEvent(c,p.w)}r(f,n)<0&&f[i?"unshift":"push"](n),"input"===e&&l.attachEvent("onkeyup",a)}}),dispatchEvent:L(function(e){var n,i="on"+e.type,r=this[v],o=r&&r[i],a=!!o;return e.target||(e.target=this),a?o.n?this.fireEvent(i,e):t(this,e,o.h,!0):!(n=this.parentNode)||n.dispatchEvent(e),!e.defaultPrevented}),removeEventListener:L(function(e,t,n){if("function"==typeof t||"object"==typeof t){var i="on"+e,o=this[v],a=o&&o[i],s=a&&a.h,l=s?r(s,t):-1;-1<l&&s.splice(l,1)}})}),y(w,{addEventListener:L(C.addEventListener),dispatchEvent:L(C.dispatchEvent),removeEventListener:L(C.removeEventListener)}),y(e.XMLHttpRequest.prototype,{addEventListener:L(function(e,t,n){var i=this,o="on"+e,a=i[v]||m(i,v,{value:{}})[v],s=a[o]||(a[o]={}),l=s.h||(s.h=[]);r(l,t)<0&&(i[o]||(i[o]=function(){var t=document.createEvent("Event");t.initEvent(e,!0,!0),i.dispatchEvent(t)}),l[n?"unshift":"push"](t))}),dispatchEvent:L(function(e){var n="on"+e.type,i=this[v],r=i&&i[n];return!!r&&(r.n?this.fireEvent(n,e):t(this,e,r.h,!0))}),removeEventListener:L(C.removeEventListener)});var H=g(Event.prototype,"button").get;y(e.Event.prototype,{bubbles:L(!0),cancelable:L(!0),preventDefault:L(function(){this.cancelable&&(this.returnValue=!1)}),stopPropagation:L(function(){this.stoppedPropagation=!0,this.cancelBubble=!0}),stopImmediatePropagation:L(function(){this.stoppedImmediatePropagation=!0,this.stopPropagation()}),initEvent:L(function(e,t,n){this.type=e,this.bubbles=!!t,this.cancelable=!!n,this.bubbles||this.stopPropagation()}),pageX:{get:function(){return this._pageX||(this._pageX=this.clientX+e.scrollX-(I.clientLeft||0))}},pageY:{get:function(){return this._pageY||(this._pageY=this.clientY+e.scrollY-(I.clientTop||0))}},which:{get:function(){return this.keyCode?this.keyCode:isNaN(this.button)?void 0:this.button+1}},charCode:{get:function(){return this.keyCode&&"keypress"==this.type?this.keyCode:0}},buttons:{get:function(){return H.call(this)}},button:{get:function(){var e=this.buttons;return 1&e?0:2&e?2:4&e?1:void 0}},defaultPrevented:{get:function(){var e=this.returnValue;return!(void 0===e||e)}},relatedTarget:{get:function(){var e=this.type;return"mouseover"===e?this.fromElement:"mouseout"===e?this.toElement:null}}}),y(e.HTMLDocument.prototype,{defaultView:{get:function(){return this.parentWindow}},textContent:{get:function(){return 11===this.nodeType?o.call(this):null},set:function(e){11===this.nodeType&&c.call(this,e)}},addEventListener:L(function(t,n,i){var r=this;C.addEventListener.call(r,t,n,i),h&&t===d&&!S.test(r.readyState)&&(h=!1,r.attachEvent(f,s),e==top&&function e(t){try{r.documentElement.doScroll("left"),s()}catch(t){setTimeout(e,50)}}())}),dispatchEvent:L(C.dispatchEvent),removeEventListener:L(C.removeEventListener),createEvent:L(function(e){var t;if("Event"!==e)throw new Error("unsupported "+e);return t=document.createEventObject(),t.timeStamp=(new Date).getTime(),t})}),y(e.Window.prototype,{getComputedStyle:L(function(){function e(e){this._=e}function t(){}var n=/^(?:[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/,i=/^(top|right|bottom|left)$/,r=/\-([a-z])/g,o=function(e,t){return t.toUpperCase()};return e.prototype.getPropertyValue=function(e){var t,a,s,l=this._,c=l.style,u=l.currentStyle,h=l.runtimeStyle;return"opacity"==e?c.opacity||"1":(e=("float"===e?"style-float":e).replace(r,o),t=u?u[e]:c[e],n.test(t)&&!i.test(e)&&(a=c.left,(s=h&&h.left)&&(h.left=u.left),c.left="fontSize"===e?"1em":t,t=c.pixelLeft+"px",c.left=a,s&&(h.left=s)),null==t?t:t+""||"auto")},t.prototype.getPropertyValue=function(){return null},function(n,i){return i?new t(n):new e(n)}}()),addEventListener:L(function(n,i,o){var a,s=e,l="on"+n;s[l]||(s[l]=function(e){return t(s,u(0,e),a,!1)&&void 0}),r(a=s[l][v]||(s[l][v]=[]),i)<0&&a[o?"unshift":"push"](i)}),dispatchEvent:L(function(t){var n=e["on"+t.type];return!n||!1!==n.call(e,t)&&!t.defaultPrevented}),removeEventListener:L(function(t,n,i){var o=(e["on"+t]||Object)[v],a=o?r(o,n):-1;-1<a&&o.splice(a,1)}),pageXOffset:{get:l("scrollLeft")},pageYOffset:{get:l("scrollTop")},scrollX:{get:l("scrollLeft")},scrollY:{get:l("scrollTop")},innerWidth:{get:l("clientWidth")},innerHeight:{get:l("clientHeight")}}),e.HTMLElement=e.Element,function(e,t,n){for(n=0;n<t.length;n++)document.createElement(t[n]);e.length||document.createStyleSheet(""),e[0].addRule(t.join(","),"display:block;")}(document.styleSheets,["header","nav","section","article","aside","footer"])}}(this.window||global),function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),r=window.setTimeout(function(){t(n+i)},i);return e=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();!function(e){!function(e){var t;!function(n){(t=e.auth||(e.auth={})).validate=function(){return e.request("auth/validate")}}()}(e.api||(e.api={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(t){var n;!function(i){function r(e){if("string"!=typeof e||!e)return!!e;var t=e[0];return"y"===t||"Y"===t||"t"===t||"T"===t}var o={EnableSharing:!0,SuspensionRanges:{Default:{Min:-4,Max:0},Truck4WD:{Min:-4,Max:4},Van4WD:{Min:-4,Max:4}},UseRawTireDescription:!1};(n=t.settings||(t.settings={})).getSettings=function(){return e.PromiseHelper.then(t.request("organization/getsettings",{Keys:["ENABLE_SHARING","SUSPENSION_RANGES","RAWTIREDESC"]}),function(e){var t=e.Settings;return t?{EnableSharing:r(t.ENABLE_SHARING||o.EnableSharing),SuspensionRanges:function(e){if(!e)return o.SuspensionRanges;try{return JSON.parse(e)}catch(e){return console.error(e),o.SuspensionRanges}}(t.SUSPENSION_RANGES),UseRawTireDescription:r(t.RAWTIREDESC||o.UseRawTireDescription)}:o})}}()}(e.api||(e.api={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(){return 1===e.authenticated.state()}e.initialize=function(t){if(t){if("username"in t&&"password"in t)return t=t,void ridestyler.auth.start({data:{Username:t.username,Password:t.password},callback:function(t){t.Success?e.authenticated.resolve():e.authenticated.reject()}});("token"in t||"key"in t)&&ridestyler.auth.set(t)}return e.auth.validate().done(function(){var t=ridestyler.ajax.url("",void 0);/\/api-alpha\./i.test(t)?e.environment=n.Alpha:/\/api-beta\./i.test(t)?e.environment=n.Beta:/\/api\./i.test(t)?e.environment=n.Live:e.environment=n.Other,e.authenticated.resolve()}).fail(function(){return e.authenticated.reject()}),e.authenticated},e.authenticated=ridestyler.promise(),e.isAuthenticated=t,e.afterAuthenticated=function(n){t()?n():e.authenticated.done(function(){return n()})},e.request=function(e,t){var n=ridestyler.promise();return ridestyler.ajax.send({action:e,data:t,callback:function(e){e.Success?n.resolve(e):n.reject(e)}}),n},e.getURL=function(e,t){return ridestyler.ajax.url(e,t)};var n=void 0;!function(e){e[e.Alpha=0]="Alpha",e[e.Beta=1]="Beta",e[e.Live=2]="Live",e[e.Other=3]="Other"}(n=e.Environment||(e.Environment={}))}(e.api||(e.api={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.eventHandlers={}}return _createClass(t,[{key:"on",value:function(e,t){e in this.eventHandlers==!1&&(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)}},{key:"off",value:function(t,n){t in this.eventHandlers!=!1&&(this.eventHandlers[t]=e.ArrayHelper.remove(this.eventHandlers[t],n))}},{key:"trigger",value:function(e,t){if("function"==typeof this.debugCallback&&this.debugCallback(e,t,this.eventHandlers[e]||[]),e in this.eventHandlers==!1)return!0;var n=!0,i=!1,r=void 0;try{for(var o,a=this.eventHandlers[e][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(!1===(0,o.value)(t))return!1}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return!0}}]),t}();t.EventHandler=n}(e.events||(e.events={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(t){var n=function(){function e(){_classCallCheck(this,e),this.globalFilters=new o,this.tireFilters=new a(this.globalFilters),this.wheelFilters=new s(this.globalFilters)}return _createClass(e,[{key:"setVehicle",value:function(e){this.clearFilters(!1),this.globalFilters.setVehicle(e)}},{key:"clearFilters",value:function(e){this.globalFilters.clear(e),this.tireFilters.clear(e),this.wheelFilters.clear(e)}}]),e}();t.FilterController=n;var i=function(){function t(e,n){_classCallCheck(this,t),this.type=e,this.currentFilters={},this.globalFilterProvider=n}return _createClass(t,[{key:"triggerFilterChange",value:function(){"function"==typeof this.onFiltersChanged&&this.onFiltersChanged(this.getFilters())}},{key:"previewFilters",value:function(t){var n=this.globalFilterProvider?this.globalFilterProvider.getFilters():{},i={},r=(this.baseFilters,!0),o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=c.key,h=c.value;this.setFilter(u,h,i)}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return e.ObjectHelper.assign({},this.baseFilters,n,i)}},{key:"getFilters",value:function(){var t=this.globalFilterProvider?this.globalFilterProvider.getFilters():{};return e.ObjectHelper.assign({},this.baseFilters,t,this.currentFilters)}},{key:"retrieveOptions",value:function(e){return e.retrieveOptions(this.globalFilterProvider.getFilters())}},{key:"setFilter",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentFilters,i=this.findFilterOption(e);i&&i.apply(n,t)}},{key:"findFilterOption",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.filterOptions[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.key===e)return a}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"setFilters",value:function(e,t,n){var i={},r=void 0;"string"==typeof e?r=[{key:e,value:t}]:(r=e,"boolean"==typeof t&&(n=t));var o=!0,a=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,h=u.key,p=u.value;this.setFilter(h,p,i)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}var f=!1;for(var h in i)if(i.hasOwnProperty(h)){var d=i[h];d!==this.currentFilters[h]&&(this.currentFilters[h]=d,f=!0)}return void 0===n&&(n=!0),f&&n&&this.triggerFilterChange(),f}},{key:"clear",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.currentFilters={},e&&this.triggerFilterChange()}}]),t}();t.FilterProvider=i;var r="vehicle-config",o=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"global",void 0));return e.baseFilters={HasFitments:!0},e.currentFilters={},e.filterOptions=[{key:r,visible:!1,apply:function(e,t){var n=t.vehicleConfigurationID,i=t.vehicleTireOptionID;n&&(e.VehicleConfiguration=n),i&&(e.VehicleTireOption=i)}}],e}return _inherits(t,i),_createClass(t,[{key:"setVehicle",value:function(e){this.setFilter(r,e)}},{key:"getCount",value:function(){throw"Cannot count GlobalFilterModel"}}]),t}();t.GlobalFilterProvider=o;var a=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"tire",t));return i.baseFilters={RequiredFitmentResourceTypes:[2]},i.filterOptions=[{label:e.strings.getString("brands"),unselectedOptionLabel:e.strings.getString("all-brands"),key:"tire-brand",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("tire/getbrands",t),function(t){return e.ArrayHelper.map(t.Brands,function(e){return{label:e.TireBrandName,value:e.TireBrandID}})})},getValueFromFilters:function(e){return e.TireBrand},apply:function(e,t){e.TireBrand=t}},{label:e.strings.getString("features"),unselectedOptionLabel:e.strings.getString("any-features"),key:"tire-model-attribute",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("tire/getmodelattributes",t),function(t){return e.ArrayHelper.map(t.Attributes,function(e){return{label:e.TireModelAttributeName,value:e.TireModelAttributeID}})})},getValueFromFilters:function(e){return e.RequiredTireModelAttribute},apply:function(e,t){e.RequiredTireModelAttribute=t}},{label:e.strings.getString("speed-rating"),unselectedOptionLabel:e.strings.getString("any-speed-ratings"),key:"tire-speed-rating",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("tire/getspeedratings",t),function(t){return e.ArrayHelper.map(t.SpeedRatings,function(e){return{label:e.TireSpeedRatingCode,value:e.TireSpeedRatingID}})})},getValueFromFilters:function(e){return e.SpeedRating},apply:function(e,t){e.SpeedRating=t}}],i}return _inherits(n,i),_createClass(n,[{key:"getCount",value:function(t){return e.PromiseHelper.then(e.api.request("tire/countmodels",t),function(e){return e.Count})}}]),n}();t.TireFilterProvider=a;var s=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"wheel",t));return i.baseFilters={FitmentResourceTypes:[2,3,1]},i.filterOptions=[{label:e.strings.getString("brands"),unselectedOptionLabel:e.strings.getString("all-brands"),key:"wheel-brand",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("wheel/getbrands",t),function(t){return e.ArrayHelper.map(t.Brands,function(e){return{label:e.WheelBrandName,value:e.WheelBrandID}})})},getValueFromFilters:function(e){return e.WheelBrand},apply:function(e,t){e.WheelBrand=t}},{label:e.strings.getString("finishes"),unselectedOptionLabel:e.strings.getString("all-finishes"),key:"wheel-finish",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("wheel/getfinishes",t),function(t){return e.ArrayHelper.map(t.Finishes,function(e){return{label:e.WheelFinishCategoryName,value:e.WheelFinishCategoryID}})})},getValueFromFilters:function(e){return e.WheelFinishCategory},apply:function(e,t){e.WheelFinishCategory=t}},{label:e.strings.getString("sizes"),unselectedOptionLabel:e.strings.getString("all-sizes"),key:"wheel-size",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("wheel/getdiameters",t),function(t){return e.ArrayHelper.map(t.Diameters,function(e){return{label:e.toString(),value:e}})})},getValueFromFilters:function(e){return function(e,t){var n=!0,i=!1,r=void 0;try{for(var o,a=(e.FitmentFilters||[])[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.GroupKey===l)return s[t]}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}(e,"Diameter")},apply:function(t,n){t.FitmentFilters||(t.FitmentFilters=[]),function(t,n){var i=t.FitmentFilters||[],r=void 0,o=!0,a=!1,s=void 0;try{for(var c,u=i[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;if(h.GroupKey===l){r=h;break}}}catch(e){a=!0,s=e}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}r?(e.ObjectHelper.assign(r,n),r.GroupKey=l):(n.GroupKey=l,i.push(n),t.FitmentFilters=i)}(t,{Diameter:n})}}],i}return _inherits(n,i),_createClass(n,[{key:"getCount",value:function(t){return e.PromiseHelper.then(e.api.request("wheel/countmodels",t),function(e){return e.Count})}}]),n}();t.WheelFilterProvider=s;var l="ridestyler-showcase-filters"}(e.filters||(e.filters={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(e){e[e.ChooseVehicle=0]="ChooseVehicle",e[e.Visualize=1]="Visualize"}(e.States||(e.States={}))}(RideStylerShowcase||(RideStylerShowcase={})),function(e){!function(e){var t=function(){function e(t){_classCallCheck(this,e),this.state=t,this.exitCallbacks=[],this.enterCallbacks=[]}return _createClass(e,[{key:"triggerExitCallbacks",value:function(e,t,n){var i=!0,r=!1,o=void 0;try{for(var a,s=this.exitCallbacks[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){if(!1===(0,a.value)(e,t,n))return!1}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return!0}},{key:"triggerEnterCallbacks",value:function(e,t,n){var i=!0,r=!1,o=void 0;try{for(var a,s=this.enterCallbacks[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){if(!1===(0,a.value)(e,t,n))return!1}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return!0}}]),e}(),n=function(){function e(t){_classCallCheck(this,e),this.currentData={currentVehicleConfigurationID:void 0,currentVehicleDescription:void 0,vehicleHasAngledImage:void 0,vehicleHasSideImage:void 0,currentVehicleTireOptionDescription:void 0,currentVehicleTireOptionID:void 0,currentPaintScheme:void 0,currentTire:void 0,currentWheel:void 0,currentWheelFitment:void 0,currentTireOption:void 0,currentVehicleDescriptionModel:void 0},this.callbacks={},this.changeCallbacks=[],this.dataChangedCallbacks=[],this.currentState=t}return _createClass(e,[{key:"getData",value:function(){return this.currentData}},{key:"setData",value:function(e){var t=[],n=[],i=!0,r=!1,o=void 0;try{for(var a,s=this.dataChangedCallbacks[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,c=l.callback;l.before?t.push(c):n.push(c)}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}var u=!0,h=!1,p=void 0;try{for(var f,d=t[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){(c=f.value)(e)}}catch(e){h=!0,p=e}finally{try{!u&&d.return&&d.return()}finally{if(h)throw p}}this.currentData=e;var v=!0,m=!1,y=void 0;try{for(var g,b=n[Symbol.iterator]();!(v=(g=b.next()).done);v=!0){(0,g.value)(this.currentData)}}catch(e){m=!0,y=e}finally{try{!v&&b.return&&b.return()}finally{if(m)throw y}}}},{key:"extendData",value:function(e){var t=!1,n={},i=this.currentData;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r],a=e[r];r in e&&o!==a?(t=!0,n[r]=a):n[r]=o}t&&this.setData(n)}},{key:"callbacksForState",value:function(e){return e in this.callbacks?this.callbacks[e]:this.callbacks[e]=new t(e)}},{key:"onExit",value:function(e,t){this.callbacksForState(e).exitCallbacks.push(t)}},{key:"onEnter",value:function(e,t){this.callbacksForState(e).enterCallbacks.push(t)}},{key:"onChange",value:function(e){this.changeCallbacks.push(e)}},{key:"beforeDataChange",value:function(e){this.dataChangedCallbacks.push({callback:e,before:!0})}},{key:"afterDataChange",value:function(e){this.dataChangedCallbacks.push({callback:e,before:!1})}},{key:"changeState",value:function(e,t){if(this.currentState!==e){var n=this.currentState;t&&this.setData(t);var i={oldState:n,newState:e,newData:this.currentData};"function"==typeof this.debugCallback&&this.debugCallback(i,!1);var r=!0,o=!1,a=void 0;try{for(var s,l=this.changeCallbacks[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){if(!(0,s.value)(i))return}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}!1!==this.callbacksForState(n).triggerExitCallbacks(n,e,this.currentData)&&!1!==this.callbacksForState(e).triggerEnterCallbacks(n,e,this.currentData)&&("function"==typeof this.debugCallback&&this.debugCallback(i,!0),this.currentState=e)}}}]),e}();e.RideStylerShowcaseState=n}(e.state||(e.state={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t={currency:function(e,t){return t+(+e.toFixed(2)).toLocaleString()}};!function(e){e[e.En=0]="En"}(e.LanguageKeys||(e.LanguageKeys={}));var n=function(){function e(t){_classCallCheck(this,e),this.language=t,this.format=t.format}return _createClass(e,[{key:"getString",value:function(e){return this.language[e]}}]),e}(),i=void 0,r={};!function(e){function o(e){return e in r?r[e]:i}e.registerLanguage=function(e,o,a){if(o.format)for(var s in t)t.hasOwnProperty(s)&&s in o.format==0&&(o.format[s]=t[s]);else o.format=t;var l=r[e]=new n(o);!a&&i||(i=l)},e.setDefaultLanguage=function(e){return e in r&&(i=r[e],!0)},e.languageIsRegistered=function(e){return e in r},e.getString=function(e,t){var n=void 0;return(n=o(t).getString(e))?n:e},e.format=function(e){return o(e).format}}(e.strings||(e.strings={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(t){var n=[["phone-portrait",319],["phone-landscape",420],["tablet",768],["desktop",992],["desktop-xl",1200],["tv",1600]],i=function(){function t(e){_classCallCheck(this,t),this.element=e,this.initialized=ridestyler.promise(),this.initializeBreakpoints(),this.watchSize(),this.initializeCSS(),this.resolveOnDOMLoad(),this.initializeStyleClasses()}return _createClass(t,[{key:"resolveOnDOMLoad",value:function(){var e=this;"complete"!==document.readyState?window.addEventListener("load",function(){return e.initialized.resolve()},!1):this.initialized.resolve()}},{key:"initializeCSS",value:function(){if(e.StyleHelper.isOffsetPositioned(this.element)||(this.element.style.position="relative"),"css"in e!=!1){var t=this.element.ownerDocument,n=t.getElementsByTagName("head").item(0);n||(n=document.createElement("head"),t.documentElement.insertBefore(n,t.firstChild));var i=document.createElement("style");i.appendChild(document.createTextNode(e.css)),n.insertBefore(i,e.HTMLHelper.firstChildWithTag(n,"STYLE")),delete e.css}}},{key:"initializeStyleClasses",value:function(){e.StyleHelper.isTouchDevice&&this.element.classList.add("is-touch")}},{key:"initializeBreakpoints",value:function(){var t=this;switch(n.sort(function(e,t){return e[1]-t[1]}),this.applyBreakpointClasses(),document.readyState){case"loading":e.HTMLHelper.getDocument(this.element).addEventListener("DOMContentLoaded",function(){return t.applyBreakpointClasses()});case"interactive":e.HTMLHelper.getWindow(this.element).addEventListener("load",function(){return t.applyBreakpointClasses()})}}},{key:"resize",value:function(){this.applyBreakpointClasses(),"function"==typeof this.onResize&&this.onResize()}},{key:"resized",value:function(){"function"==typeof this.onResized&&this.onResized()}},{key:"breakpointChanged",value:function(e){"function"==typeof this.onBreakpointChanged&&this.onBreakpointChanged(e)}},{key:"watchSize",value:function(){var t=this,n=this.element,i=void 0,r={width:n.clientWidth,height:n.clientHeight};e.HTMLHelper.getWindow(n).addEventListener("resize",function(){var e={width:n.clientWidth,height:n.clientHeight};e.width===r.width&&e.height===r.height||(r=e,t.resize(),clearTimeout(i),i=setTimeout(function(){t.resized()},200))},!1)}},{key:"getCurrentBreakpoint",value:function(){return this.currentBreakpoint}},{key:"applyBreakpointClasses",value:function(){var e=this.element,t=e.offsetHeight,i=e.offsetWidth;if(t&&i){var r=void 0,o=void 0;for(o=n.length-1;o>=0&&!(n[o][1]<=i);o--);if((r=o>=0?n[o]:void 0)!==this.currentBreakpoint){this.currentBreakpoint=r;var a=e.className,s=a;s=s.replace(/\bridestyler-showcase-breakpoint-.+?(?= |$)/gi,"").trim(),r&&(s+=" ridestyler-showcase-breakpoint-"+r[0]),s!==a&&(e.className=s,this.breakpointChanged(r))}}}}]),t}();t.StyleManager=i}(e.styles||(e.styles={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(){function t(n,i){_classCallCheck(this,t),this.activeLoadingSessionKeys=[],this.settings=i||{},this.settings.debug=this.settings.debug||{},this.events=new e.events.EventHandler,!0===this.settings.debug.events&&(this.events.debugCallback=function(e,t,n){"resize"!==e&&console.log("[RideStylerShowcase Event] Name:"+e+" Data:",t,n)}),n&&("string"==typeof n&&((n=document.getElementById(n))||console.error('The ID "'+n+'" could not be found in the DOM.')),this.initialize(n))}return _createClass(t,[{key:"registerComponents",value:function(){this.events;this.otherComponents=[new e.RideStylerShowcaseBackground(this)],this.stateComponentMapping={},this.stateComponentMapping[e.States.ChooseVehicle]=new e.RideStylerShowcaseVehicleSelection(this),this.stateComponentMapping[e.States.Visualize]=new e.RideStylerShowcaseVehicleVisualization(this),this.mainComponents=[];for(var t in this.stateComponentMapping)this.mainComponents.push(this.stateComponentMapping[t])}},{key:"initialize",value:function(t){var n=this;if(!t)throw"Cannot initialize showcase without a container to put it in.";this.container=e.ObjectHelper.assign(t,{ridestylerShowcase:this}),this.initializeState(),this.registerComponents(),e.api.initialize(this.settings),this.initializeStyle(),this.initializeFilters(),this.initializeComponents(),this.events.on("vehicle-selected",function(t){return n.state.changeState(e.States.Visualize,{currentVehicleConfigurationID:t.VehicleConfiguration,currentVehicleDescription:t.VehicleDescription,currentVehicleTireOptionID:t.TireOptionID,currentVehicleTireOptionDescription:t.TireOptionString,currentPaintScheme:void 0,vehicleHasAngledImage:void 0,vehicleHasSideImage:void 0,currentTire:void 0,currentWheel:void 0,currentWheelFitment:void 0,currentTireOption:void 0,currentVehicleDescriptionModel:void 0}),!0});var i=e.PromiseHelper.then(e.api.authenticated,function(){return e.api.settings.getSettings().done(function(e){n.settingsFromAPI=e})});e.PromiseHelper.all([this.style.initialized,i]).done(function(){n.events.trigger("initialized",void 0)}),this.onStateChanged({newState:this.state.currentState,oldState:void 0,newData:void 0})}},{key:"initializeState",value:function(){var t=this;this.state=new e.state.RideStylerShowcaseState(e.States.ChooseVehicle),!0===this.settings.debug.state&&(this.state.debugCallback=function(t,n){var i=n?"Finished":"Beginning",r="to "+e.States[t.newState];"number"==typeof t.oldState&&(r="from "+e.States[t.oldState]+" "+r),console.log("[RideStylerShowcase State] "+r+" "+i,t)}),this.state.onChange(function(e){return t.events.trigger("state-changed",e)&&t.onStateChanged(e)})}},{key:"initializeStyle",value:function(){var t=this;this.style=new e.styles.StyleManager(this.container),this.style.onResize=function(){return t.events.trigger("resize",void 0)},this.style.onResized=function(){return t.events.trigger("resized",void 0)},this.style.onBreakpointChanged=function(e){return t.events.trigger("breakpoint-changed",e)},this.container.classList.contains("ridestyler-showcase")||this.container.classList.add("ridestyler-showcase")}},{key:"initializeFilters",value:function(){var t=this;this.filters=new e.filters.FilterController,this.events.on("vehicle-selected",function(e){t.filters.setVehicle({vehicleConfigurationID:e.VehicleConfiguration,vehicleTireOptionID:e.TireOptionID})})}},{key:"initializeComponents",value:function(){var e=this.container,t=!0,n=!1,i=void 0;try{for(var r,o=this.otherComponents[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e.appendChild(a.component)}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}var s=!0,l=!1,c=void 0;try{for(var u,h=this.mainComponents[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var p=u.value;p.setVisible(!1),e.appendChild(p.component)}}catch(e){l=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}}},{key:"onStateChanged",value:function(e){return this.updateCurrentComponent(e),!0}},{key:"updateCurrentComponent",value:function(t){var n=this.stateComponentMapping[t.newState],i=void 0,r="ridestyler-showcase-state-";"number"==typeof t.oldState&&(i=this.stateComponentMapping[t.oldState],this.container.classList.remove(r+e.States[t.oldState].toLowerCase())),this.container.classList.add(r+e.States[t.newState].toLowerCase()),i&&i.isVisible()?i.hide(function(){n.show()}):n.show()}}]),t}();e.RideStylerShowcaseInstance=t,e.create=function(e,n){return new t(e,n)}}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(){function e(t){_classCallCheck(this,e),this.showcase=t,this.events=t.events,this.state=t.state,this.initializeComponent()}return _createClass(e,[{key:"initializeComponent",value:function(){}}]),e}();e.ComponentBase=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return i.component=document.createElement("div"),i.component.classList.add("ridestyler-showcase-main-component"),e.StyleHelper.transitionsSupported&&i.component.addEventListener(e.StyleHelper.transitionEndEvent,function(e){e.target===i.component&&i.onTransitionEnd()}),i.setVisible(!1),i.buildComponent(i.component),i.initializeMainComponent(),i}return _inherits(n,t),_createClass(n,[{key:"initializeComponent",value:function(){}},{key:"initializeMainComponent",value:function(){}},{key:"isVisible",value:function(){return this._visible}},{key:"setVisible",value:function(t){var n=this;this._visible!==t&&(this._visible=t,this.setVisibleStyling(t),e.StyleHelper.skipTransition(this.component,function(){return t?n.show():n.hide()}))}},{key:"setVisibleStyling",value:function(e){var t=this.component.style;e?(t.visibility="visible",t.top=""):(t.visibility="hidden",t.top="1000%")}},{key:"callWhenDoneAnimating",value:function(t){var n=this;this._animating?e.StyleHelper.onNextTransitionEnd(this.component,function(){return t.call(n)}):t.call(this)}},{key:"onShow",value:function(){}},{key:"onDisplay",value:function(){}},{key:"onShown",value:function(){}},{key:"onHide",value:function(){}},{key:"onHidden",value:function(){}},{key:"show",value:function(t){var n=this;if(this.component.classList.contains("in"))return this._visible=!0,void("function"==typeof t&&this.callWhenDoneAnimating(t));this._animating?e.StyleHelper.onNextTransitionEnd(this.component,function(){return n.show(t)}):(this._visible=!0,this._animating=e.StyleHelper.transitionsSupported,this.onShow(),this.setVisibleStyling(!0),e.StyleHelper.triggerReflow(this.component),this.onDisplay(),this.callWhenDoneAnimating(function(){this.onShown(),"function"==typeof t&&t.call(this)}),this.component.classList.add("in"))}},{key:"hide",value:function(t){var n=this;if(!this.component.classList.contains("in"))return this._visible=!1,void("function"==typeof t&&this.callWhenDoneAnimating(t));this._animating?e.StyleHelper.onNextTransitionEnd(this.component,function(){return n.hide(t)}):(this._visible=!1,this._animating=e.StyleHelper.transitionsSupported,this.onHide(),this.callWhenDoneAnimating(function(){this.onHidden(),"function"==typeof t&&t.call(this)}),this.component.classList.remove("in"),e.StyleHelper.transitionsSupported||this.setVisibleStyling(!1))}},{key:"onTransitionEnd",value:function(){this.component.classList.contains("in")||this.setVisibleStyling(!1),this._animating=!1}}]),n}(e.ComponentBase);e.MainComponentBase=t}(RideStylerShowcase||(RideStylerShowcase={}));var _slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t={width:200,height:200},n={width:50,height:50},i={width:800,height:800},r={PositionY:0,PositionX:0},o=function(){function o(t,n){var i=this;if(_classCallCheck(this,o),this.resizeCallback=function(){i.update()},this.container=t,this.action=n.action,this.image=document.createElement("img"),this.container.appendChild(this.image),this.events=[],n.transitionClass&&(this.image.classList.add(n.transitionClass),this.useTransitions=!0),this.transitionInClass=n.transitionInClass,void 0===n.padding?this.padding=e.StyleHelper.calculatePadding:!1===n.padding?this.padding={width:0,height:0}:this.padding=n.padding,this.imageLoadCallback=n.onLoad,this.imageErrorCallback=n.onError,this.image.addEventListener("error",function(e){return i.onImageError(e)}),this.image.addEventListener("load",function(e){return i.onImageLoad(e)}),"object"===_typeof(n.baseInstructions)&&(this.baseInstructions=n.baseInstructions),this.instructions&&!1!==n.loadInitially&&this.update(this.instructions),!1!==n.listenToWindowResize){var r=void 0,a=function(){clearTimeout(r),r=setTimeout(function(){i.update()},500)};window.addEventListener("resize",a,!1),this.events.push([window,"resize",a])}}return _createClass(o,[{key:"destroy",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.events[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value,a=_slicedToArray(o,3),s=a[0],l=a[1],c=a[2];s.removeEventListener(l,c)}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}}},{key:"onImageError",value:function(e){"function"==typeof this.imageErrorCallback&&this.imageErrorCallback(this.image,e)}},{key:"onImageLoad",value:function(e){"function"==typeof this.imageLoadCallback&&this.imageLoadCallback(this.image,e),this.visible||this.show()}},{key:"show",value:function(){var t=this;this.visible||(this.useTransitions&&e.VisibilityHelper.show(this.image,this.transitionInClass).done(function(){"function"==typeof t.imageDisplayCallback&&t.imageDisplayCallback(t.image)}),this.visible=!0)}},{key:"calculateRenderSize",value:function(){var r=this.container,o=r.clientWidth,a=r.clientHeight;if(!a||!o)return t;var s="function"==typeof this.padding?this.padding(this.container):this.padding,l={width:o-s.width,height:a-s.height},c=window.devicePixelRatio||1;return l.width*=c,l.height*=c,e.BoxHelper.floor(e.BoxHelper.bound(l,n,i))}},{key:"sizeIsDifferent",value:function(e){if(!this.currentSize)return!0;var t=this.currentSize,n=t.width,i=t.height,r=e.width,o=e.height;return n!==r||i!==o}},{key:"update",value:function(t){var n=!1;t&&this.instructions!==t&&(this.instructions=t,n=!0);var i=this.calculateRenderSize();if(this.sizeIsDifferent(i)&&(this.currentSize=i,n=!0),n){var o=this.currentSize,a=o.width,s=o.height;this.image.src=ridestyler.ajax.url(this.action,e.ObjectHelper.assign({Width:a,Height:s},r,this.baseInstructions,this.instructions))}}}]),o}();e.ResizeableResourceImage=o}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,t),_createClass(n,[{key:"initializeComponent",value:function(){var t=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-background"});e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-background-texture",appendTo:t});this.component=t}}]),n}(e.ComponentBase);e.RideStylerShowcaseBackground=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-button-picker",n=t+"-option",i=n+"-active",r=function(r){function o(n,i){_classCallCheck(this,o);var r=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,n));return r.component=e.HTMLHelper.createElement("div",{className:t}),e.HTMLHelper.createElement("div",{className:t+"-title",text:i.title,appendTo:r.component}).addEventListener("click",function(){r.optionContainer.style.display="none"==r.optionContainer.style.display?"":"none"}),r.optionContainer=e.HTMLHelper.createElement("div",{className:t+"-option-container",appendTo:r.component,style:{display:"none"}}),r.optionContainer.addEventListener("click",function(e){return r.onOptionClick(e)}),r}return _inherits(o,r),_createClass(o,[{key:"setOptions",value:function(t){e.HTMLHelper.empty(this.optionContainer);var r=document.createDocumentFragment(),o=!0,a=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,h=Object.assign(e.HTMLHelper.createElement("div",{className:n,text:u.label}),{value:u.value});u.active&&h.classList.add(i),r.appendChild(h)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}this.optionContainer.appendChild(r)}},{key:"onOptionClick",value:function(t){for(var r=t.target;r!==this.optionContainer;){if(r.classList.contains(n)){var o=!0,a=!1,s=void 0;try{for(var l,c=e.HTMLHelper.childrenWithClasses(this.optionContainer,i)[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){l.value.classList.remove(i)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}return r.classList.add(i),void("function"==typeof this.optionSelectedCallback&&this.optionSelectedCallback(r.value))}r=r.parentElement}}}]),o}(e.ComponentBase);e.RideStylerShowcaseButtonPicker=r}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,{title:e.strings.getString("change-wheel-size")}));return i.component.classList.add("ridestyler-showcase-change-wheel-size"),i}return _inherits(n,t),_createClass(n,[{key:"setFitmentOptions",value:function(t,n){var i={},r=[],o=!0,a=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,h=u.DiameterMin;h in i==!1&&(i[h]=!0,r.push([h,u]))}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}r.sort(function(e,t){return e[0]-t[0]}),1===r.length&&(this.component.style.display="none"),this.setOptions(e.ArrayHelper.map(r,function(e){return{label:e[0]+"″",value:e[1],active:e[1]===n}}))}}]),n}(e.RideStylerShowcaseButtonPicker);e.RideStylerShowcaseChangeWheelSize=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-modal",n=t+"-backdrop",i=function(i){function o(e,t){_classCallCheck(this,o);var n=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return n.options=t,n.createBackdropIfNeeded(),n.buildModal(),n.setVisibility(!1),n.parent=e.container,n.parent.appendChild(n.component),n}return _inherits(o,i),_createClass(o,[{key:"buildModal",value:function(){var n=this;this.component=Object.assign(e.HTMLHelper.createElement("div",{className:t}),{modal:this}),this.options.full&&this.component.classList.add(t+"-full"),e.HTMLHelper.createElement("button",{className:t+"-close",appendTo:this.component}).addEventListener("click",function(){n.hide()}),this.options.actions&&this.buildActions(this.options.actions)}},{key:"buildActions",value:function(n){var i=this,r=e.HTMLHelper.createElement("div",{className:t+"-actions",appendTo:this.component}),o=function(t){e.HTMLHelper.createButton(e.ObjectHelper.assign({appendTo:r},t)).addEventListener("click",function(){"function"==typeof t.action?t.action():"hide-modal"===t.action&&i.hide()})},a=!0,s=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){o(c.value)}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}}},{key:"onShow",value:function(){this.events.trigger("modal-show",{modal:this})}},{key:"onShown",value:function(){}},{key:"onHide",value:function(){this.events.trigger("modal-hide",{modal:this})}},{key:"onHidden",value:function(){this.options.removeOnHidden&&this.parent.removeChild(this.component)}},{key:"show",value:function(){var t=this,n=e.VisibilityHelper.show(this.component);return this.onShow(),n.done(function(){return t.onShown()}),n}},{key:"hide",value:function(){var t=this,n=e.VisibilityHelper.hide(this.component);return this.onHide(),n.done(function(){return t.onHidden()}),n}},{key:"setVisibility",value:function(t){e.VisibilityHelper.setVisibility(this.component,t)}},{key:"createBackdropIfNeeded",value:function(){e.HTMLHelper.hasChildWithClass(this.showcase.container,n)||new r(this.showcase)}}]),o}(e.ComponentBase);e.RideStylerShowcaseModal=i;var r=function(i){function r(e){_classCallCheck(this,r);var t=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.buildBackdrop(),t.setVisibility(!1),e.container.appendChild(t.component),t}return _inherits(r,i),_createClass(r,[{key:"buildBackdrop",value:function(){var i=this;this.component=e.HTMLHelper.createElementWithClass("div",n),this.component.addEventListener("click",function(){var n=e.HTMLHelper.lastSiblingWithClass(i.component,t,"in");n&&n.modal.hide()})}},{key:"initializeComponent",value:function(){var e=this;this.events.on("modal-show",function(t){e.update()}),this.events.on("modal-hide",function(t){e.update()})}},{key:"update",value:function(){this[e.HTMLHelper.hasSiblingWithClass(this.component,t,"in")?"show":"hide"]()}},{key:"show",value:function(){return e.VisibilityHelper.show(this.component)}},{key:"hide",value:function(){return e.VisibilityHelper.hide(this.component)}},{key:"setVisibility",value:function(t){e.VisibilityHelper.setVisibility(this.component,t)}}]),r}(e.ComponentBase);e.RideStylerShowcaseModalBackdrop=r,i=e.RideStylerShowcaseModal||(e.RideStylerShowcaseModal={})}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-option-menu",n=t+"-option",i=n+"-active",r=t+"-loading",o=function(){function o(n,i){var r=this;_classCallCheck(this,o),this.name=n,this.component=e.HTMLHelper.createElement({className:t}),this.component.addEventListener("click",function(e){return r.onClicked(e)}),i?this.setOptions(i):this.setLoading(!0)}return _createClass(o,[{key:"setLoading",value:function(e){this.component.classList.toggle(r,e)}},{key:"generateOptionElement",value:function(t){var i=e.HTMLHelper.createElement("div",{className:n,text:t.label});return i.value=t.value,i}},{key:"clearOptions",value:function(){e.HTMLHelper.empty(this.component)}},{key:"appendOptions",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.component.appendChild(this.generateOptionElement(a))}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"setOptions",value:function(e){this.clearOptions(),this.appendOptions(e),this.setLoading(!1)}},{key:"setValue",value:function(e){for(var t=0;t<this.component.children.length;t++){var n=this.component.children[t],r=n.value===e;n.classList.toggle(i,r),r&&(this.value=e)}}},{key:"onClicked",value:function(t){var r=t.target;if(r.classList.contains(n)&&!r.classList.contains(i)){var o=e.HTMLHelper.firstChildWithClass(this.component,i),a=r;o&&o.classList.remove(i),a.classList.add(i),this.value=a.value,"function"==typeof this.onChange&&this.onChange(a.value)}}}]),o}();e.RideStylerShowcaseOptionMenu=o}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-pagination-option",n=t+"-selected",i=t+"-loading",r=t+"-loader",o=function(o){function a(){_classCallCheck(this,a);var e=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments));return e.hasMoreResults=!0,e.isLoading=!1,e.isFirstLoad=!0,e.enableShowNoResults=!0,e}return _inherits(a,o),_createClass(a,[{key:"initializeComponent",value:function(){var t=this;this.component=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination"}),this.optionContainer=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-wrapper",appendTo:this.component}),this.prevButton=e.HTMLHelper.createElement("button",{className:"ridestyler-showcase-pagination-prev",appendTo:this.component,append:e.HTMLHelper.createIcon("chevron-left")}),this.nextButton=e.HTMLHelper.createElement("button",{className:"ridestyler-showcase-pagination-next",appendTo:this.component,append:e.HTMLHelper.createIcon("chevron-right")}),this.component.addEventListener("click",function(e){return t.onComponentClick(e)}),this.clearOptions(),setTimeout(function(){return t.loadMore()},0),e.ScrollHelper.attachWheelListener(this.component,function(e){var n=e.deltaX||e.deltaY,i=t.optionContainer,r=i.scrollLeft,o=i.scrollWidth,a=i.offsetWidth,s=Math.min(r+n,o-a);t.optionContainer.scrollLeft=s,t.touchScrollHandler.setValues(s,0),t.onScroll()}),this.touchScrollHandler=new Impetus({source:this.optionContainer,bounce:!1,multiplier:-1,update:function(e,n){console.log(e,n),t.optionContainer.scrollLeft=e,t.optionContainer.scrollTop=n,t.onScroll()},boundY:[0,0]})}},{key:"loadMore",value:function(){var e=this;return this._loadMore().always(function(){e.clearOptionLoader(),e.updateBounds()})}},{key:"updateBounds",value:function(){var e=this.optionContainer,t=e.scrollWidth,n=e.offsetWidth;this.touchScrollHandler.setBoundX([0,t-n])}},{key:"onScroll",value:function(){this.updatePaginationButtons();var e=this.optionContainer;e.scrollLeft>=e.scrollWidth-e.offsetWidth-10&&this.onEndVisible()}},{key:"onEndVisible",value:function(){!this.isLoading&&this.hasMoreResults&&(this.addOptionLoader(),this.updateBounds(),this.loadMore())}},{key:"onComponentClick",value:function(e){for(var n=e.target;n!==this.component;){if(n.classList.contains(t))return void this.onOptionClick(n);if(n===this.prevButton)return void this.previousPage();if(n===this.nextButton)return void this.nextPage();n=n.parentElement}}},{key:"updatePaginationButtons",value:function(){var e=this.optionContainer;this.prevButton.disabled=0===e.scrollLeft,this.nextButton.disabled=e.scrollLeft>=e.scrollWidth-e.clientWidth-1}},{key:"addOptionLoader",value:function(){this.optionContainer.appendChild(e.HTMLHelper.createElement("div",{className:t+" "+r}))}},{key:"clearOptionLoader",value:function(){e.HTMLHelper.removeChildrenWithClasses(this.optionContainer,r)}},{key:"addOptionElements",value:function(e){if(e instanceof Node)this.optionContainer.appendChild(e);else if(!e.length&&this.enableShowNoResults)this.showNoResults();else{var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.optionContainer.appendChild(a)}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}this.clearOptionLoader(),this.update(),this.isFirstLoad=!1}},{key:"showNoResults",value:function(){this.noResultsElement=e.HTMLHelper.createElement("div",{className:t+" ridestyler-showcase-pagination-option-no-results",text:e.strings.getString("no-results"),appendTo:this.optionContainer})}},{key:"clearOptions",value:function(){e.HTMLHelper.empty(this.optionContainer),this.addOptionLoader(),this.isFirstLoad=!0}},{key:"update",value:function(){this.updatePaginationButtons(),this.updateBounds()}},{key:"scrollTo",value:function(e){var t=this,n=this.optionContainer.scrollLeft,i=Math.abs(n-e)/2;TinyAnimate.animate(n,e,i,function(e){t.optionContainer.scrollLeft=e},"easeOutCubic",function(){return t.update()})}},{key:"previousPage",value:function(){this.scrollTo(this.optionContainer.scrollLeft-this.optionContainer.clientWidth)}},{key:"nextPage",value:function(){this.scrollTo(this.optionContainer.scrollLeft+this.optionContainer.clientWidth)}},{key:"selectOption",value:function(e){if(this.selectedOption!==e){var t=this.selectedOption;t&&t.classList.remove(n,i),e.classList.add(n),this.selectedOption=e}}},{key:"setOptionIsLoading",value:function(e){this.selectedOption&&this.selectedOption.classList[e?"add":"remove"](i)}},{key:"onOptionClick",value:function(e){this.selectOption(e)}}]),a}(e.ComponentBase);e.RideStylerShowcasePaginationComponent=o}(RideStylerShowcase||(RideStylerShowcase={}));var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)};!function(e){var t=function(t){function n(e){_classCallCheck(this,n);var t=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e)),i=e.state.getData().currentVehicleConfigurationID;return t.vehicleConfigurationID=i,t}return _inherits(n,t),_createClass(n,[{key:"_loadMore",value:function(){var t=this;return this.hasMoreResults=!1,this.isLoading=!0,e.api.request("vehicle/getpaintschemedescriptions",{VehicleConfiguration:this.vehicleConfigurationID}).done(function(e){return t.createOptions(e.Schemes)}).always(function(){return t.isLoading=!1})}},{key:"createOptions",value:function(t){var i=document.createDocumentFragment(),r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option ridestyler-showcase-paint-option",appendTo:i});u.paintScheme=c;var h=c.Colors[0];e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-display ridestyler-showcase-paint-swatch",style:{backgroundColor:h.Hex},appendTo:u}),e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label",text:c.SchemeName,appendTo:u}),e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label-secondary",text:n.createAttributeLabel(h.Attributes),appendTo:u})}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}e.HTMLHelper.empty(this.optionContainer),this.optionContainer.appendChild(i),this.update()}},{key:"onOptionClick",value:function(e){var t=e.paintScheme;t&&(_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"onOptionClick",this).call(this,e),this.state.extendData({currentPaintScheme:t}),"function"==typeof this.onPaintSchemeSelected&&this.onPaintSchemeSelected(t))}}],[{key:"createAttributeLabel",value:function(e){if(0===e)return"Glossy";var t=[];return e&&t.push("Matte"),e&&t.push("Metallic"),e&&t.push("Pearlescent"),0===t.length?"Glossy":t.join(", ")}}]),n}(e.RideStylerShowcasePaginationComponent);e.RideStylerShowcasePaintSelector=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-popover",n=function(){function n(){_classCallCheck(this,n),this.component=e.HTMLHelper.createElement({className:t})}return _createClass(n,[{key:"show",value:function(){this.setVisible(!0)}},{key:"hide",value:function(){this.setVisible(!1)}},{key:"setVisible",value:function(e){this.component.classList.toggle("in",e)}},{key:"isVisible",value:function(){return this.component.classList.contains("in")}},{key:"toggle",value:function(){this.setVisible(!this.isVisible())}}]),n}();e.RideStylerShowcasePopover=n}(RideStylerShowcase||(RideStylerShowcase={}));var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)};!function(e){var t="ridestyler-showcase-product-modal",n=t+"-title",i=function(i){function r(e){return _classCallCheck(this,r),_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,{removeOnHidden:!0}))}return _inherits(r,i),_createClass(r,[{key:"buildModal",value:function(){var i=this;_get(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"buildModal",this).call(this),this.component.classList.add(t),this.toggleButton=new e.RideStylerShowcaseToggleButton(this.showcase),this.toggleButton.onChanged=function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=i.pages[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(s.label===e)return void i.showPage(s)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}},this.component.appendChild(this.toggleButton.component),e.HTMLHelper.createElement("h1",{className:n,appendTo:this.component,append:[this.brandTitleElement=e.HTMLHelper.createElementWithClass("span",n+"-brand"),this.titleElement=e.HTMLHelper.createElement("span"),this.subtitleElement=e.HTMLHelper.createElementWithClass("span",n+"-subtitle")]}),this.summaryContainer=e.HTMLHelper.createElement({className:t+"-summary-container"}),this.imageContainer=e.HTMLHelper.createElement({className:t+"-image",appendTo:this.summaryContainer}),this.image=this.createImage(),this.summaryElement=e.HTMLHelper.createElement({className:t+"-summary",appendTo:this.summaryContainer}),this.addPage({label:e.strings.getString("summary"),container:this.summaryContainer},!0)}},{key:"addPage",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.pages||(this.pages=[]),this.pages.push(t),this.toggleButton.addOption({label:t.label,value:t.label}),n?this.showPage(t):e.VisibilityHelper.setVisibility(t.container,!1),t.container.classList.add("ridestyler-showcase-product-modal-page"),this.component.appendChild(t.container)}},{key:"showPage",value:function(t){var n=!0,i=!1,r=void 0;try{for(var o,a=this.pages[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.VisibilityHelper.setVisibility(s.container,s===t)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}this.toggleButton.setValue(t.label)}},{key:"onHidden",value:function(){this.image.destroy()}}]),r}(e.RideStylerShowcaseModal);e.RideStylerShowcaseProductModal=i}(RideStylerShowcase||(RideStylerShowcase={}));var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)};!function(e){var t=function(t){function n(){_classCallCheck(this,n);var e=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return e.resultsPerLoad=20,e.count=-1,e.index=0,e}return _inherits(n,t),_createClass(n,[{key:"_loadMore",value:function(){var t=this;this.isLoading=!0;var n=void 0;n=this.count>-1?e.PromiseHelper.resolved(this.count):this.countResults(this.currentFilters);var i=this.resultsPerLoad;return e.PromiseHelper.then(n,function(n){t.count=n;var r=e.ObjectHelper.assign({Start:t.index,Count:i},t.currentFilters);return t.getResults(r).done(function(e){t.index+=i,t.hasMoreResults=t.index+i<n,t.createOptions(e)})}).always(function(){return t.isLoading=!1})}},{key:"setFilters",value:function(e){this.clearOptions(),this.count=-1,this.index=0,this.currentFilters=e,this.loadMore()}},{key:"updateFilters",value:function(t){this.setFilters(e.ObjectHelper.assign(this.currentFilters,t))}},{key:"createOptions",value:function(t){var n=document.createDocumentFragment(),i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(this.productFilter(l)){var c=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option",appendTo:n});c.product=l;var u=this.productImageSource(l);u&&e.HTMLHelper.createElement("img",{className:"ridestyler-showcase-pagination-option-display",appendTo:c,properties:{src:u}});var h=this.productImageLabels(l);e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label",text:h.primary,appendTo:c}),h.secondary&&e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label-secondary",text:h.secondary,appendTo:c}),h.tertiary&&e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label-tertiary",text:h.tertiary,appendTo:c})}}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}this.addOptionElements(n)}},{key:"onOptionClick",value:function(e){var t=e.product;t&&(_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"onOptionClick",this).call(this,e),this.onProductClick(t))}},{key:"onProductClick",value:function(e){"function"==typeof this.productSelectedCallback&&this.productSelectedCallback(e)}}]),n}(e.RideStylerShowcasePaginationComponent);e.RideStylerShowcaseProductSelector=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-qr-display",n=function(){function n(i){_classCallCheck(this,n),this.component=e.HTMLHelper.createElement("div",{className:t}),this.qrCodeElement=e.HTMLHelper.createElement("a",{className:t+"-image",appendTo:this.component,properties:{target:"_blank"}}),this.qrCode=new QRCode(this.qrCodeElement),i&&this.displayURL(i)}return _createClass(n,[{key:"displayURL",value:function(e){this.qrCodeElement.href=e,this.qrCode.makeCode(e)}}]),n}();e.RideStylerShowcaseQRCodeComponent=n}(RideStylerShowcase||(RideStylerShowcase={}));var _get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(t){var n="ridestyler-showcase-share-button",i=function(){function t(i){var r=this;_classCallCheck(this,t),this.component=e.HTMLHelper.createButton({className:n}),i.className&&this.component.classList.add(i.className),i.title&&(this.component.title=i.title),this.component.addEventListener("click",function(){return r.onClick()})}return _createClass(t,[{key:"setURL",value:function(e){this.currentURL=e}},{key:"setTags",value:function(e){this.tags=e}},{key:"setMessage",value:function(e){this.message=e}},{key:"onClick",value:function(){this.currentURL&&this.share()}},{key:"share",value:function(){}},{key:"openNewWindow",value:function(e,t){var n=(t=t||{}).width||550,i=t.height||420,r=screen.height,o=screen.width,a=r>i?Math.round(r/2-i/2):0,s=Math.round(o/2-n/2),l=t.target||"share",c=[],u=function(e,t){return c.push(e+"="+t)},h=function(e,t,n){"boolean"!=typeof t&&(t=n),u(e,t?"yes":"no")};h("scrollbars",t.enableScrollbars,!0),h("resizable",t.enableResizeable,!0),h("toolbar",t.enableToolbar,!1),h("location",t.enableLocation,!0),u("width",n.toString()),u("height",i.toString()),u("top",a.toString()),u("left",s.toString()),window.open(e,l,"_blank"!==l?c.join(","):"")}},{key:"getShareRedirectURL",value:function(){var t="https://app.ridestyler.net";return e.api.environment===e.api.Environment.Alpha?t="http://app-alpha.ridestyler.net":e.api.environment===e.api.Environment.Beta&&(t="http://app-beta.ridestyler.net"),t+"/shared.html"}}]),t}();t.ShareButton=i;var r=function(t){function r(){return _classCallCheck(this,r),_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{className:n+"-twitter",title:"Twitter"}))}return _inherits(r,i),_createClass(r,[{key:"share",value:function(){var t="https://twitter.com/intent/tweet?",n=["url="+encodeURIComponent(this.currentURL)];this.message&&n.push("text="+encodeURIComponent(this.message)),this.tags&&this.tags.length&&n.push("hashtags="+e.ArrayHelper.map(this.tags,function(e){return encodeURIComponent(e)}).join(",")),t+=n.join("&"),this.openNewWindow(t)}}]),r}();t.TwitterShareButton=r;var o=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{className:n+"-facebook",title:"Facebook"}))}return _inherits(t,i),_createClass(t,[{key:"share",value:function(){var e="https://www.facebook.com/dialog/share?",t=["app_id=1576380412582845","display=popup","href="+encodeURIComponent(this.currentURL),"redirect_uri="+encodeURIComponent(this.getShareRedirectURL())];this.tags&&this.tags.length&&t.push("hashtag="+encodeURIComponent("#"+this.tags[0])),e+=t.join("&"),this.openNewWindow(e)}}]),t}();t.FacebookShareButton=o;var a=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{className:n+"-link"}))}return _inherits(t,i),_createClass(t,[{key:"share",value:function(){this.openNewWindow(this.currentURL,{target:"_blank"})}}]),t}();t.NewWindowShareButton=a;var s=function(t){function r(){_classCallCheck(this,r);var t=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{className:n+"-qr-code"}));return t.popover=new e.RideStylerShowcasePopover,t.component.appendChild(t.popover.component),t.qrCode=new e.RideStylerShowcaseQRCodeComponent,t.popover.component.appendChild(t.qrCode.component),t}return _inherits(r,i),_createClass(r,[{key:"setURL",value:function(e){_get(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"setURL",this).call(this,e),this.qrCode.displayURL(e)}},{key:"onClick",value:function(){this.popover.toggle()}}]),r}();t.QRShareButton=s}(e.share||(e.share={}))}(RideStylerShowcase||(RideStylerShowcase={}));var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)};!function(e){var t="ridestyler-showcase-share",n=function(n){function i(e,t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,{removeOnHidden:!0,full:!0}));return n.imageType=2,n.resizedCallback=function(){return n.updateViewport()},n.vehicleRenderInstructions=Object.assign({},t),n.onInstructionsChanged(),n}return _inherits(i,n),_createClass(i,[{key:"buildModal",value:function(){var n=this;_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"buildModal",this).call(this),this.component.classList.add(t);var r=new e.RideStylerShowcaseBackground(this.showcase);this.component.appendChild(r.component),e.HTMLHelper.createElement("h1",{appendTo:this.component,text:e.strings.getString("share-my-vehicle")}),e.HTMLHelper.createElement("p",{className:"ridestyler-showcase-share-instructions",text:e.strings.getString("share-instructions"),appendTo:this.component}),this.createShareButtons(),this.canSwitchAngle()&&(this.rotateElement=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-rotate-vehicle",appendTo:this.component}),this.rotateElement.addEventListener("click",function(){return n.switchAngle()}))}},{key:"createShareButtons",value:function(){this.shareButtons=[new e.share.FacebookShareButton,new e.share.TwitterShareButton,new e.share.QRShareButton,new e.share.NewWindowShareButton];var n=e.HTMLHelper.createElement({className:t+"-buttons",appendTo:this.component}),i=!0,r=!1,o=void 0;try{for(var a,s=this.shareButtons[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n.appendChild(l.component)}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}},{key:"onShow",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"onShow",this).call(this),this.setupViewport(),this.events.on("resized",this.resizedCallback)}},{key:"onHidden",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"onHidden",this).call(this),this.events.off("resized",this.resizedCallback)}},{key:"updateViewport",value:function(){this.vehicleViewport.Update(this.vehicleRenderInstructions)}},{key:"getShareURL",value:function(){var t="https://app.ridestyler.net";e.api.environment===e.api.Environment.Alpha?t="http://app-alpha.ridestyler.net":e.api.environment===e.api.Environment.Beta&&(t="http://app-beta.ridestyler.net");return t+"/share.cshtml?"+ridestyler.utils.toParamString(e.ObjectHelper.assign(ridestyler.auth.authenticateData(null),this.vehicleRenderInstructions))}},{key:"setupViewport",value:function(){var t=this,n=e.HTMLHelper.createElementWithClass("div","ridestyler-showcase-viewport");this.component.appendChild(n),n.addEventListener("click",function(){return t.switchAngle()}),this.vehicleViewport=new RideStylerViewport(n);var i=this.vehicleViewport.Update(this.vehicleRenderInstructions);this.rotateElement&&i.done(function(){t.rotateElement.classList.add("in")})}},{key:"canSwitchAngle",value:function(){var e=this.state.getData().currentVehicleDescriptionModel;return e.HasAngledImage&&e.HasSideImage}},{key:"onInstructionsChanged",value:function(){var t=this;this.getShareURL();this.setEnabled(!1),e.api.request("link/create",{URL:this.getShareURL()}).done(function(e){t.updateURL(e.ShortURL),t.setEnabled(!0)})}},{key:"setEnabled",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.shareButtons[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.component.disabled=!e}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"updateURL",value:function(t){var n=["vehicle"],i=e.strings.getString("check-out-my-vehicle");this.vehicleRenderInstructions.WheelFitment&&n.push("wheels");var r=!0,o=!1,a=void 0;try{for(var s,l=this.shareButtons[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;c.setURL(t),c.setTags(n),c.setMessage(i)}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}}},{key:"switchAngle",value:function(){this.canSwitchAngle()&&(2===this.imageType?this.imageType=1:this.imageType=2,this.vehicleRenderInstructions.Type=this.imageType,this.vehicleViewport.Update({Type:this.imageType}),this.onInstructionsChanged())}}]),i}(e.RideStylerShowcaseModal);e.RideStylerShowcaseShareModal=n}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-suspension-selector-element",n={Min:-4,Max:0},i=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"initializeComponent",value:function(){var t=this;this.component=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-suspension-selector"});var i=this.state.getData().currentVehicleDescriptionModel,r={min:n.Min,max:n.Max,start:0,step:1,decimalPlaces:1,unitAbbreviation:"″"},a=this.showcase.settingsFromAPI.SuspensionRanges,s=i.StyleType+i.DriveType;s in a==!1&&(s="Default");var l=a[s]||n;r.min=l.Min,r.max=l.Max,this.frontAndRear=new o(this.showcase,e.ObjectHelper.assign({label:e.strings.getString("suspension")},r)),this.frontAndRear.suspensionChangedCallback=function(){"function"==typeof t.suspensionChangeCallback&&t.suspensionChangeCallback({Suspension:t.frontAndRear.value})},this.component.appendChild(this.frontAndRear.component)}}]),i}(e.ComponentBase);e.RideStylerShowcaseSuspensionSelector=i;var r=function(e){function t(e,n){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.options=n,i.value=n.start,i}return _inherits(t,e),_createClass(t,[{key:"onSuspensionChanged",value:function(e){this.value=e,"function"==typeof this.suspensionChangedCallback&&this.suspensionChangedCallback(e)}}]),t}(e.ComponentBase),o=function(n){function i(n,r){_classCallCheck(this,i);var o=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n,r));o.component=e.HTMLHelper.createElement("div",{className:t,append:e.HTMLHelper.createElement("div",{className:t+"-label",text:r.label})});var a=e.HTMLHelper.createElement("div",{className:t+"-slider",appendTo:o.component});return noUiSlider.create(a,{start:r.start,range:{min:r.min,max:r.max},step:r.step,pips:{mode:"steps",format:function(){var t=r.unitAbbreviation,n=r.decimalPlaces;return{to:function(e){return e.toFixed(n)+t},from:function(n){return parseFloat(n.replace(new RegExp(e.StringHelper.escapeRegExp(t)+"$"),""))}}}()}}),o.sliderElement=a,o.slider=o.sliderElement.noUiSlider,o.slider.on("update",function(e,t,n){o.onSuspensionChanged(n[0])}),o}return _inherits(i,r),i}()}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-tab-bar",n=t+"-tab",i=n+"-background",r=n+"-active",o=t+"-",a=function(i){function a(){return _classCallCheck(this,a),_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return _inherits(a,i),_createClass(a,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElement("div",{className:t}),this.setMode("vertical"),this.component.addEventListener("click",function(e){return n.onClick(e)})}},{key:"setMode",value:function(e){var t=this;if(this.mode!==e){var n=function(e,n){return t.component.classList.toggle(e,n)};"string"==typeof this.mode&&n(o+this.mode,!1),this.mode=e,n(o+e,!0),this.updateTabDisplay()}}},{key:"updateTabDisplay",value:function(){if(this.tabs){var e=100/this.tabs.length+"%",t=this.mode,n=!0,i=!1,r=void 0;try{for(var o,a=this.tabs[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;"vertical"===t?(s.element.style.height=e,s.element.style.width=""):(s.element.style.height="",s.element.style.width=e),s.updateBackgroundPolygon(t)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}}},{key:"setTabs",value:function(t){var n=void 0;if(0===t.length)n=[];else if(t[0]instanceof a.Tab)n=t;else{n=new Array(t.length);for(var i=0;i<t.length;i++){var r=t[i];n[i]=new a.Tab(r)}}this.tabs=e.ArrayHelper.copy(n),e.HTMLHelper.empty(this.component);n.length;var o=!0,s=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;this.component.appendChild(h.element)}}catch(e){s=!0,l=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}this.updateTabDisplay(),this.currentTab=void 0,this.setActiveTab(n[0])}},{key:"clearActiveTab",value:function(){this.setActiveTab(void 0)}},{key:"setActiveTab",value:function(e){var t=this.currentTab;t!==e&&(this.currentTab=e,t&&t.element.classList.remove(r),e&&e.element.classList.add(r),e&&"function"==typeof this.tabSwitchedCallback&&this.tabSwitchedCallback({oldTab:t,newTab:e}))}},{key:"onClick",value:function(e){for(var t=e.target;t!==this.component;){if(t.classList.contains(n))return void this.onTabClick(this.tabForElement(t));t=t.parentElement}}},{key:"onTabClick",value:function(e){e&&this.setActiveTab(e)}},{key:"tabForLabel",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.tabs[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.label===e)return a}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"tabForElement",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.tabs[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.element===e)return a}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}}]),a}(e.ComponentBase);e.RideStylerShowcaseTabBar=a,function(t){var r=function(){function t(r){_classCallCheck(this,t),this.label=r.label,this.iconClass=r.icon,this.key=r.key,this.backgroundMode="horizontal",this.element=e.HTMLHelper.createElement("div",{className:n}),e.HTMLHelper.createIcon({icon:r.icon,appendTo:this.element,wrap:e.HTMLHelper.createElementWithClass("div",n+"-icon")});var o=e.HTMLHelper.createElement({className:i,appendTo:this.element});e.StyleHelper.svgSupported?e.HTMLHelper.createSVGElement("svg",{attributes:{width:"100%",height:"100%",preserveAspectRatio:"none",viewBox:"0 0 100 100"},append:this.backgroundPolygon=e.HTMLHelper.createSVGElement("polygon",{attributes:{fill:"black"}}),appendTo:o}):o.classList.add(i+"-nosvg"),this.element.title=r.label}return _createClass(t,[{key:"updateBackgroundPolygon",value:function(e){if(this.backgroundPolygon){var t="vertical"===e?30:15,n="vertical"===e?15:30;this.backgroundPolygon.setAttribute("points","vertical"===e?"0,0 100,0 100,"+(50-t/2)+" "+(100-n)+",50 100,"+(50+t/2)+" 100,100 0,100":"0,0 "+(50-t/2)+",0 50,"+t+" "+(50+t/2)+",0 100,0 100,100, 0,100")}}}]),t}();t.Tab=r}(a=e.RideStylerShowcaseTabBar||(e.RideStylerShowcaseTabBar={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-table",n=t+"-head",i=t+"-body",r=i+"-loading",o=function(o){function a(r,o){_classCallCheck(this,a),o=e.ObjectHelper.assign({},o);var s=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,r));s.options=o,s.columns=o.columns;var l=e.HTMLHelper.createElement("table",{appendTo:s.component,className:t}),c=e.HTMLHelper.createElement("thead",{appendTo:l,className:n});return s.tbody=e.HTMLHelper.createElement("tbody",{appendTo:l,className:i}),s.generateHeaders(c),s.component=l,o.rows?s.appendRows(o.rows):o.startLoading&&s.setLoading(!0),s}return _inherits(a,o),_createClass(a,[{key:"generateHeaderCell",value:function(t){var n=t.header;if("function"==typeof n){var i=n(t);return"string"==typeof i?e.HTMLHelper.createElement("th",{text:i}):i}return e.HTMLHelper.createElement("th",{text:n})}},{key:"generateHeaders",value:function(t){var n=e.HTMLHelper.createElement("tr"),i=!0,r=!1,o=void 0;try{for(var a,s=this.columns[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n.appendChild(this.generateHeaderCell(l))}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}t.appendChild(n)}},{key:"generateRowCell",value:function(t,n){var i=n.cell;if("function"==typeof i){var r=i(t,n);return"string"==typeof r?e.HTMLHelper.createElement("td",{text:r}):r}return e.HTMLHelper.createElement("td",{text:t[i].toString()})}},{key:"generateRow",value:function(t){var n=e.HTMLHelper.createElement("tr"),i=!0,r=!1,o=void 0;try{for(var a,s=this.columns[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n.appendChild(this.generateRowCell(t,l))}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}},{key:"appendRows",value:function(e){this.setLoading(!1);var t=document.createDocumentFragment(),n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.appendChild(this.generateRow(s))}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}this.tbody.appendChild(t)}},{key:"setLoading",value:function(e){this.tbody.classList.toggle(r,e)}}],[{key:"formatCell",value:function(t,n,i){var r=t[n].toString();return e.HTMLHelper.createElement("td",{text:r?i?r+i:r:a.emptyCellString})}}]),a}(e.ComponentBase);o.emptyCellString="-",e.RideStylerShowcaseTable=o}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t)),r=t.state.getData();return i.supportedVehicleImagery={angled:r.vehicleHasAngledImage,side:r.vehicleHasSideImage},i.vehicleTireOptionID=r.currentVehicleTireOptionID,i.defaultFilters={VehicleTireOption:i.vehicleTireOptionID,HasCatalogImage:!0},i.currentFilters=e.ObjectHelper.assign({},i.defaultFilters),i}return _inherits(n,t),_createClass(n,[{key:"countResults",value:function(t){return e.PromiseHelper.then(e.api.request("tire/countmodels",t),function(e){return e.Count})}},{key:"getResults",value:function(t){return e.PromiseHelper.then(e.api.request("tire/getmodeldescriptions",t),function(e){return e.Models})}},{key:"productFilter",value:function(e){return!0}},{key:"productImageSource",value:function(e){return ridestyler.tire.image({TireFitmentResourceType:2,TireModel:e.TireModelID,Width:100,Height:100,PositionX:1,PositionY:1,IncludeShadow:!0})}},{key:"productImageLabels",value:function(e){return{primary:e.TireBrandName,secondary:e.TireModelName,tertiary:e.Attributes&&e.Attributes.length?e.Attributes.join(", "):""}}}]),n}(e.RideStylerShowcaseProductSelector);e.RideStylerShowcaseTireSelector=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-toggle-button",n=t+"-option",i=n+"-active",r=function(r){function o(){return _classCallCheck(this,o),_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return _inherits(o,r),_createClass(o,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElement({className:t}),this.component.addEventListener("click",function(e){return n.onClicked(e)})}},{key:"onClicked",value:function(e){var t=e.target;t.classList.contains(n)&&(t.classList.contains(i)||this.selectOptionElement(t))}},{key:"selectOptionElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.value;if(this.value!==n){this.value=n;for(var r=0;r<this.component.children.length;r++){var o=this.component.children[r];o.classList.toggle(i,o===e)}"function"==typeof this.onChanged&&t&&this.onChanged(n)}}},{key:"setValue",value:function(e){if(this.value!==e)for(var t=0;t<this.component.children.length;t++){var n=this.component.children[t];if(n.value===e)return void this.selectOptionElement(n)}}},{key:"setOptions",value:function(t){e.HTMLHelper.empty(this.component),this.value=void 0;var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.addOption(s)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}},{key:"addOption",value:function(t){var i=e.ObjectHelper.assign(e.HTMLHelper.createElement("span",{className:n,text:t.label,appendTo:this.component}),{value:t.value});void 0===this.value&&this.selectOptionElement(i,!1)}}]),o}(e.ComponentBase);e.RideStylerShowcaseToggleButton=r}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,t),_createClass(n,[{key:"initializeMainComponent",value:function(){var t=this;this.modal=new RideStylerVehicleSelectionModal({container:function(){return t.component.parentElement},callback:function(e){e.FinalSelectionMade&&t.onVehicleSelected(e.Vehicle)},ImageSettings:function(e){return t.generateVehiclePreviewSettings()},IncludeOETireOption:!0}),e.api.afterAuthenticated(function(){return t.onAuthenticated()})}},{key:"buildComponent",value:function(t){var n=this;t.classList.add("ridestyler-showcase-vehicle-selection"),this.contentContainer=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-content ridestyler-showcase-vehicle-selection-content",appendTo:t}),this.buildCopy(),this.chooseVehicleButton=e.HTMLHelper.createButton({text:e.strings.getString("select-your-vehicle"),appendTo:this.contentContainer,disabled:!0,large:!0,id:"ridestyler-showcase-select-your-vehicle",wrap:e.HTMLHelper.createElementWithID("div","ridestyler-showcase-select-your-vehicle-wrapper")}),this.chooseVehicleButton.addEventListener("click",function(){n.modal.Show()})}},{key:"buildCopy",value:function(){function t(t){var n=e.StringHelper.getFirstWord(t),i=t.substr(n.length);return[e.HTMLHelper.createElementWithText("strong",n),e.HTMLHelper.createTextElement(i)]}e.HTMLHelper.createElement("h1",{append:t(e.strings.getString("vehicle-select-visualize-intro")),appendTo:this.contentContainer}),e.HTMLHelper.createElement("h1",{append:t(e.strings.getString("vehicle-select-share-intro")),appendTo:this.contentContainer})}},{key:"onAuthenticated",value:function(){var t=this;this.chooseVehicleButton.disabled=!1,e.api.request("wheel/getmodels",{Count:3,HasCatalogImage:!0}).done(function(e){return t.showWheels(e.Models)})}},{key:"onVehicleSelected",value:function(e){this.events.trigger("vehicle-selected",e)}},{key:"showWheels",value:function(t){var n=void 0;this.wheelContainer?(n=this.wheelContainer,e.HTMLHelper.empty(n)):n=this.wheelContainer=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-vehicle-selection-wheel-showcase",appendTo:this.component});var i=[],r=function(){var e=!0,t=!1,r=void 0;try{for(var o,a=i[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){if(!o.value.complete)return}}catch(e){t=!0,r=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw r}}n.style.opacity="1"},o=!0,a=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,h=ridestyler.wheel.image({WheelModel:u.WheelModelID,Width:400,Height:400,PositionX:1,PositionY:1,WheelFitmentResourceType:3,IncludeShadow:!0}),p=e.HTMLHelper.createElement("img");p.className="ridestyler-showcase-vehicle-selection-wheel-showcase-image",p.addEventListener("load",r),i.push(p),p.src=h,n.appendChild(p)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}}},{key:"generateVehiclePreviewSettings",value:function(){var e=Math.max(window.devicePixelRatio||0,1),t=.8*this.component.clientWidth;t||(t=500),(t*=e)>1920&&(t=1920);return{Width:~~t,Height:~~(.5*t)}}}]),n}(e.MainComponentBase);e.RideStylerShowcaseVehicleSelection=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-customizations",n=t+"-loading",i=function(i){function r(){_classCallCheck(this,r);var t=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.customizationComponentOrder=["paint","wheels","tires","suspension"],t.customizationComponentSettings={paint:{title:e.strings.getString("select-paint"),showFilterButton:!1,enabled:!0},wheels:{title:e.strings.getString("select-wheels"),showFilterButton:!0,enabled:!0},tires:{title:e.strings.getString("select-tires"),showFilterButton:!0,enabled:!0},suspension:{title:e.strings.getString("adjust-suspension"),showFilterButton:!1,enabled:!0}},t}return _inherits(r,i),_createClass(r,[{key:"buildComponent",value:function(n){var i=this;this.events.on("initialized",function(){i.setupViewport(n),i.updateTabLayout(),i.showcase.settingsFromAPI.EnableSharing||(u.style.display="none");var t=e.api.request("tire/countbrands",i.showcase.filters.tireFilters.getFilters()),r=e.api.request("wheel/countbrands",i.showcase.filters.wheelFilters.getFilters());e.PromiseHelper.all([t,r]).done(function(e){var t=e[0].Count,n=e[1].Count;t||(i.customizationComponentSettings.tires.enabled=!1),n||(i.customizationComponentSettings.wheels.enabled=!1),i.updateTabs()})}),this.setupTabs(),this.changeWheelSize=new e.RideStylerShowcaseChangeWheelSize(this.showcase),this.changeWheelSize.optionSelectedCallback=function(e){i.state.extendData({currentWheelFitment:e}),i.updateViewport({WheelFitment:e.WheelFitmentID})},this.components=[this.vehicleDetails=new e.VehicleDetails(this.showcase),new e.WheelDetails(this.showcase),new e.TireDetails(this.showcase),this.tabBar,this.changeWheelSize],this.customizationComponentContainer=e.HTMLHelper.createElement("div",{className:t,appendTo:this.component});var r=!0,o=!1,a=void 0;try{for(var s,l=this.components[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;this.component.appendChild(c.component)}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}this.rotateElement=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-rotate-vehicle",appendTo:this.component}),this.rotateElement.addEventListener("click",function(){i.switchAngle()}),e.HTMLHelper.createElement({className:"ridestyler-showcase-customization-component-title-container",appendTo:this.component,append:[this.titleElement=e.HTMLHelper.createElement({className:"ridestyler-showcase-customization-component-title",appendTo:this.component}),this.filterButton=e.HTMLHelper.createButton({text:e.strings.getString("filter-results"),skinny:!0})]}),this.filterButton.addEventListener("click",function(){i.showFilters()});var u=e.HTMLHelper.createButton({className:"ridestyler-share-my-vehicle-button",text:e.strings.getString("share-my-vehicle"),appendTo:this.component});u.addEventListener("click",function(){new e.RideStylerShowcaseShareModal(i.showcase,i.currentRenderInstructions).show()}),this.events.on("resized",function(){i.isVisible()&&i.updateViewport()}),this.events.on("breakpoint-changed",function(e){i.updateTabLayout()}),this.vehicleDetails.paintSwatchClickCallback=function(){i.setActiveCustomizationComponent(i.customizationComponents.paint)}}},{key:"setupViewport",value:function(t){var n=this,i=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-viewport",appendTo:t});i.addEventListener("click",function(){n.switchAngle()}),this.viewport=new RideStylerViewport(i)}},{key:"updateTabs",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var r,o=this.customizationComponentOrder[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.customizationComponentSettings[a].enabled&&e.push(this.tabs[a])}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}this.tabBar.setTabs(e),this.updateTabLayout()}},{key:"updateTabLayout",value:function(){var e=this.showcase.style.getCurrentBreakpoint(),t=e&&"phone-portrait"===e[0];this.tabBar.setMode(t?"horizontal":"vertical")}},{key:"setupTabs",value:function(){var t=this;this.tabBar=new e.RideStylerShowcaseTabBar(this.showcase),this.tabs={paint:new e.RideStylerShowcaseTabBar.Tab({icon:"paint",key:"paint",label:e.strings.getString("paint")}),wheels:new e.RideStylerShowcaseTabBar.Tab({icon:"wheel",key:"wheels",label:e.strings.getString("wheels")}),tires:new e.RideStylerShowcaseTabBar.Tab({icon:"tire",key:"tires",label:e.strings.getString("tires")}),suspension:new e.RideStylerShowcaseTabBar.Tab({icon:"suspension",key:"suspension",label:e.strings.getString("suspension")})},this.tabBar.tabSwitchedCallback=function(e){var n=e.newTab.key;t.customizationComponents&&n in t.customizationComponents&&t.setActiveCustomizationComponent(t.customizationComponents[n])}}},{key:"onDisplay",value:function(){var t=this.state.getData();t.currentVehicleConfigurationID&&t.currentVehicleTireOptionID||console.error("Trying to show the visualize screen without a vehicle configuration or tire option.");var n=!e.GUIDHelper.areEqual(t.currentVehicleConfigurationID,this.vehicleConfigurationID),i=!e.GUIDHelper.areEqual(t.currentVehicleTireOptionID,this.vehicleTireOptionID);(n||i)&&(this.vehicleConfigurationID=t.currentVehicleConfigurationID,this.vehicleDescription=t.currentVehicleDescription,this.vehicleTireOptionID=t.currentVehicleTireOptionID,this.vehicleTireOptionDescription=t.currentVehicleTireOptionDescription,this.onVehicleChanged())}},{key:"onVehicleChanged",value:function(){var t=this;e.HTMLHelper.empty(this.customizationComponentContainer),this.customizationComponentContainer.classList.add(n),this.updateTabs(),this.tabBar.clearActiveTab(),this.rotateElement.classList.remove("in");var i=e.api.request("vehicle/getdescriptions",{Count:1,VehicleConfiguration:this.vehicleConfigurationID}),r=e.api.request("vehicle/gettireoptiondetails",{VehicleConfiguration:this.vehicleConfigurationID});e.PromiseHelper.all([i,r]).done(function(n){var i=t.vehicleDescriptionModel=n[0].Descriptions[0],r=void 0,o=e.GUIDHelper.parse(t.vehicleTireOptionID),a=!0,s=!1,l=void 0;try{for(var c,u=n[1].Details[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;if(e.GUIDHelper.areEqual(h.TireOptionID,o)){r=h;break}}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}t.vehicleTireOption=r,t.state.extendData({vehicleHasAngledImage:i.HasAngledImage,vehicleHasSideImage:i.HasSideImage,currentTireOption:r,currentVehicleDescriptionModel:i}),t.initializeForNewVehicle()})}},{key:"initializeForNewVehicle",value:function(){var t=this;this.currentRenderInstructions={},this.tabBar.setActiveTab(this.tabs.paint),this.customizationComponents={paint:new e.RideStylerShowcasePaintSelector(this.showcase),wheels:new e.RideStylerShowcaseWheelSelector(this.showcase),tires:new e.RideStylerShowcaseTireSelector(this.showcase),suspension:new e.RideStylerShowcaseSuspensionSelector(this.showcase)},this.showcase.filters.wheelFilters.onFiltersChanged=function(e){t.customizationComponents.wheels.setFilters(e)},this.showcase.filters.tireFilters.onFiltersChanged=function(e){t.customizationComponents.tires.setFilters(e)},this.customizationComponents.paint.onPaintSchemeSelected=function(e){t.customizationComponents.paint.setOptionIsLoading(!0),t.updateViewport({PaintColor:e.Colors[0].Hex}).always(function(){t.customizationComponents.paint.setOptionIsLoading(!1)})},this.customizationComponents.wheels.productSelectedCallback=function(n){t.customizationComponents.wheels.setOptionIsLoading(!0);2===t.imageType&&n.HasAngleImage||1===t.imageType&&n.HasSideImage||t.switchAngle(),e.api.request("wheel/getfitmentdescriptions",{VehicleConfiguration:t.vehicleConfigurationID,WheelModel:n.WheelModelID}).done(function(e){var i=e.Fitments,r=void 0,o=t.vehicleTireOption.Front.InsideDiameter;i.sort(function(e,t){return Math.abs(e.DiameterMin-o)-Math.abs(t.DiameterMin-o)}),r=i[0],t.state.extendData({currentWheel:n,currentWheelFitment:r}),t.changeWheelSize.setFitmentOptions(i,r),t.changeWheelSize.component.style.display="",t.updateViewport({WheelFitment:r.WheelFitmentID}).always(function(){t.customizationComponents.wheels.setOptionIsLoading(!1)})}).fail(function(){return t.customizationComponents.wheels.setOptionIsLoading(!1)})},this.customizationComponents.tires.productSelectedCallback=function(e){t.state.extendData({currentTire:e})},this.customizationComponents.suspension.suspensionChangeCallback=function(e){t.updateViewport(e)},this.setActiveCustomizationComponent(this.customizationComponents.wheels);var i=!0,r=!1,o=void 0;try{for(var a,s=e.ObjectHelper.getValues(this.customizationComponents)[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l.component.classList.add("ridestyler-showcase-customization-component"),this.customizationComponentContainer.appendChild(l.component)}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}this.imageType=2,this.vehicleDescriptionModel.HasAngledImage||(this.imageType=1),this.rotateElement.style.display=this.canSwitchAngle()?"":"none",this.updateViewport({VehicleConfiguration:this.vehicleConfigurationID,VehicleTireOption:this.vehicleTireOptionID,PositionX:1,PositionY:2,Type:this.imageType}).done(function(){t.rotateElement.classList.add("in")}),this.customizationComponentContainer.classList.remove(n)}},{key:"setActiveCustomizationComponent",value:function(t){var n=this.state.getData(),i=this.getComponentKey(t),r=this.customizationComponentSettings[i],o=this.tabs[i];o&&this.tabBar.setActiveTab(o),this.activeCustomizationComponent&&this.activeCustomizationComponent.component.classList.remove("in"),t.component.classList.add("in"),this.activeCustomizationComponent=t,"function"==typeof t.update&&t.update(),this.changeWheelSize.component.style.display=t instanceof e.RideStylerShowcaseWheelSelector&&n.currentWheel?"":"none",this.filterButton.style.display=r.showFilterButton?"":"none",e.HTMLHelper.setText(this.titleElement,r.title)}},{key:"getComponentKey",value:function(e){for(var t in this.customizationComponents){if(this.customizationComponents[t]===e)return t}}},{key:"updateViewport",value:function(e){return Object.assign(this.currentRenderInstructions,e),this.viewport.Update(e)}},{key:"canSwitchAngle",value:function(){return this.vehicleDescriptionModel.HasAngledImage&&this.vehicleDescriptionModel.HasSideImage}},{key:"showFilters",value:function(){var t=this.activeCustomizationComponent,n=void 0;t===this.customizationComponents.tires?n=new e.RideStylerShowcaseFilterModal(this.showcase,{filterProvider:this.showcase.filters.tireFilters,showCountTextFormat:e.strings.getString("show-count-format-tires")}):t===this.customizationComponents.wheels&&(n=new e.RideStylerShowcaseFilterModal(this.showcase,{filterProvider:this.showcase.filters.wheelFilters,showCountTextFormat:e.strings.getString("show-count-format-wheels")})),n&&n.show()}},{key:"switchAngle",value:function(){this.canSwitchAngle()&&(2===this.imageType?this.imageType=1:this.imageType=2,this.updateViewport({Type:this.imageType}))}}]),r}(e.MainComponentBase);e.RideStylerShowcaseVehicleVisualization=i}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(t,i){_classCallCheck(this,n);var r=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.image.update({WheelFitmentResourceType:3,WheelModel:i.WheelModelID}),e.HTMLHelper.setText(r.brandTitleElement,i.WheelBrandName),e.HTMLHelper.setText(r.titleElement,i.WheelModelName),e.HTMLHelper.setText(r.subtitleElement,i.WheelModelFinishDescription),r.summaryTable=new e.RideStylerShowcaseTable(r.showcase,{columns:[{header:e.strings.getString("size"),cell:"size"},{header:e.strings.getString("price"),cell:"price"}],startLoading:!0}),r.summaryElement.appendChild(r.summaryTable.component),r.buildSpecsPage(),e.api.request("wheel/getfitmentdescriptions",{WheelModel:i.WheelModelID,IncludePromotions:!0,IncludePricing:!0}).done(function(e){r.summaryTable.appendRows(r.buildSummaryTable(e.Fitments)),r.specsTable.appendRows(e.Fitments)}),r}return _inherits(n,t),_createClass(n,[{key:"buildSummaryTable",value:function(t){var i=[],r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=n.getFitmentRetailPriceDataObject(c),h=u?u.WheelPricingAmount:void 0;i.push({diameter:c.DiameterMin,width:c.WidthMin,price:h}),i.push({diameter:c.DiameterMin,width:c.WidthMax,price:h}),i.push({diameter:c.DiameterMax,width:c.WidthMin,price:h}),i.push({diameter:c.DiameterMax,width:c.WidthMax,price:h})}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}var p={},f=!0,d=!1,v=void 0;try{for(var m,y=i[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){var g=m.value,b=g.diameter,C=g.price,w=void 0;w=(E=b+"″ x "+g.width)in p==!1?p[E]={min:1/0,max:-1/0}:p[E],C&&e.NumberHelper.extendRange(C,w)}}catch(e){d=!0,v=e}finally{try{!f&&y.return&&y.return()}finally{if(d)throw v}}var A=[],S=function(e){return"number"!=typeof e||isNaN(e)||e===1/0||e===-1/0};for(var E in p)if(p.hasOwnProperty(E)){var k=void 0;k=S((w=p[E]).min)||S(w.max)?e.strings.getString("call"):w.min===w.max?e.strings.format().currency(w.min,"$"):e.strings.format().currency(w.min,"$")+" - "+e.strings.format().currency(w.max,"$"),A.push({size:E,price:k})}return A}},{key:"buildSpecsPage",value:function(){this.specsTable=new e.RideStylerShowcaseTable(this.showcase,{columns:[{header:e.strings.getString("size"),cell:n.getFitmentSizeDescription},{header:e.strings.getString("offset"),cell:function(t){return e.RideStylerShowcaseTable.formatCell(t,"OffsetMin","mm")}},{header:e.strings.getString("bolt-pattern"),cell:"BoltPatternDescription"},{header:e.strings.getString("centerbore"),cell:function(t){return e.RideStylerShowcaseTable.formatCell(t,"CenterboreMM","mm")}},{header:"Price",cell:n.getFitmentPrice},{header:e.strings.getString("item-number"),cell:n.getFitmentItemNumber}]});var t=e.HTMLHelper.createElement({className:"scrollable",append:this.specsTable.component});this.addPage({container:t,label:e.strings.getString("specifications")})}},{key:"createImage",value:function(){return new e.ResizeableResourceImage(this.imageContainer,{action:"wheel/image",baseInstructions:{PositionX:1,PositionY:2,IncludeShadow:!0}})}}],[{key:"getFitmentRetailPriceDataObject",value:function(e){return e.Pricing&&e.Pricing.Retail||void 0}},{key:"getFitmentSizeDescription",value:function(t){var n=t.DiameterMin,i=t.WidthMin;return n&&i?n+"″ x "+i:e.RideStylerShowcaseTable.emptyCellString}},{key:"getFitmentPrice",value:function(t){var i=e.strings.getString("call"),r=n.getFitmentRetailPriceDataObject(t);if(!r)return i;var o=r.WheelPricingAmount;return o?e.strings.format().currency(o,"$"):i}},{key:"getFitmentItemNumber",value:function(t){var i=n.getFitmentRetailPriceDataObject(t),r=void 0;return i&&(r=i.WheelPricingItemNumber),r||(r=t.PartNumber),r||e.RideStylerShowcaseTable.emptyCellString}}]),n}(e.RideStylerShowcaseProductModal);e.RideStylerShowcaseWheelModal=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t)),r=t.state.getData();return i.supportedVehicleImagery={angled:r.vehicleHasAngledImage,side:r.vehicleHasSideImage},i.vehicleConfigurationID=r.currentVehicleConfigurationID,i.defaultFilters={VehicleConfiguration:r.currentVehicleConfigurationID,HasCatalogImage:!0,HasFitments:!0},i.currentFilters=e.ObjectHelper.assign({},i.defaultFilters),i}return _inherits(n,t),_createClass(n,[{key:"countResults",value:function(t){return e.PromiseHelper.then(e.api.request("wheel/countmodels",t),function(e){return e.Count})}},{key:"getResults",value:function(t){return e.PromiseHelper.then(e.api.request("wheel/getmodeldescriptions",e.ObjectHelper.assign({IncludeMetaKeys:["Description","Highlights"],HasFitments:!0},t)),function(e){return e.Models})}},{key:"productFilter",value:function(e){return!0}},{key:"productImageSource",value:function(e){return ridestyler.wheel.image({WheelFitmentResourceType:3,WheelModel:e.WheelModelID,Width:100,Height:100,PositionX:1,PositionY:1,IncludeShadow:!0})}},{key:"productImageLabels",value:function(e){return{primary:e.WheelBrandName,secondary:e.WheelModelName,tertiary:e.WheelModelFinishDescription}}}]),n}(e.RideStylerShowcaseProductSelector);e.RideStylerShowcaseWheelSelector=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-tire-details",n=function(n){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,n),_createClass(i,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElementWithClass("div",t+" ridestyler-showcase-details"),e.HTMLHelper.createElement("div",{className:t+"-title ridestyler-showcase-details-title",text:e.strings.getString("tire-details"),appendTo:this.component}),this.tireNameElement=e.HTMLHelper.createElement("div",{className:t+"-name",appendTo:this.component}),this.tireDescriptionElement=e.HTMLHelper.createElement("div",{className:t+"-description ridestyler-showcase-details-secondary",appendTo:this.component}),this.state.afterDataChange(function(e){return n.onDataChange(e)})}},{key:"onDataChange",value:function(t){var n=t.currentTire;this.component.style.display=n?"":"none",n&&(e.HTMLHelper.setText(this.tireNameElement,n.TireBrandName+" "+n.TireModelName),e.HTMLHelper.setText(this.tireDescriptionElement,n.Attributes&&n.Attributes.length?n.Attributes.join(", "):""))}}]),i}(e.ComponentBase);e.TireDetails=n}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-vehicle-details",n=function(n){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,n),_createClass(i,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElementWithClass("div",t+" ridestyler-showcase-details"),e.HTMLHelper.createElement("div",{className:t+"-title ridestyler-showcase-details-title",text:e.strings.getString("vehicle-details"),appendTo:this.component}),e.HTMLHelper.createElement("div",{className:t+"-vehicle",append:[this.vehiclePaintSwatchElement=e.HTMLHelper.createElement("div",{className:t+"-vehicle-swatch ridestyler-showcase-paint-swatch",style:{backgroundColor:"#999"}}),this.vehicleDescriptionElement=e.HTMLHelper.createElement("div",{className:t+"-vehicle-details"})],appendTo:this.component}),this.tireSizeElement=e.HTMLHelper.createElement("div",{className:t+"-tire-size ridestyler-showcase-details-secondary",appendTo:this.component}),e.HTMLHelper.createButton({className:t+"-change-vehicle",appendTo:this.component,text:e.strings.getString("change-vehicle"),link:!0}).addEventListener("click",function(){n.state.changeState(e.States.ChooseVehicle)}),this.state.afterDataChange(function(e){return n.onDataChange(e)}),this.vehiclePaintSwatchElement.addEventListener("click",function(){"function"==typeof n.paintSwatchClickCallback&&n.paintSwatchClickCallback()})}},{key:"onDataChange",value:function(t){e.HTMLHelper.setText(this.vehicleDescriptionElement,t.currentVehicleDescription),this.vehiclePaintSwatchElement.style.backgroundColor=t.currentPaintScheme?t.currentPaintScheme.Colors[0].Hex:"#999",e.HTMLHelper.setText(this.tireSizeElement,t.currentVehicleTireOptionDescription)}}]),i}(e.ComponentBase);e.VehicleDetails=n}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-wheel-details",n=function(n){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,n),_createClass(i,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElementWithClass("div",t+" ridestyler-showcase-details"),e.HTMLHelper.createElement("div",{className:t+"-title ridestyler-showcase-details-title",text:e.strings.getString("wheel-details"),appendTo:this.component}),this.wheelNameElement=e.HTMLHelper.createElement("div",{className:t+"-name",appendTo:this.component}),this.wheelDescriptionElement=e.HTMLHelper.createElement("div",{className:t+"-description ridestyler-showcase-details-secondary",appendTo:this.component}),e.HTMLHelper.createButton({className:t+"-features-specs",appendTo:this.component,text:e.strings.getString("wheel-features-specs"),link:!0}).addEventListener("click",function(){n.showWheelModal()}),this.state.afterDataChange(function(e){return n.onDataChange(e)})}},{key:"showWheelModal",value:function(){var t=this.state.getData();new e.RideStylerShowcaseWheelModal(this.showcase,t.currentWheel).show()}},{key:"onDataChange",value:function(t){var n=t.currentWheel,i=t.currentWheelFitment;if(this.component.style.display=n?"":"none",n)if(e.HTMLHelper.setText(this.wheelNameElement,n.WheelBrandName+" "+n.WheelModelName),i){var r=i.DiameterMin.toString()+"″";i.DiameterMin!==i.DiameterMax&&(r="("+i.DiameterMin+"-"+i.DiameterMax+")″"),e.HTMLHelper.setText(this.wheelDescriptionElement,r+" "+n.WheelModelFinishDescription)}else e.HTMLHelper.setText(this.wheelDescriptionElement,n.WheelModelFinishDescription)}}]),i}(e.ComponentBase);e.WheelDetails=n}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-filter-modal",n=t+"-menu-title",i=function(i){function r(e,n){_classCallCheck(this,r);var i=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,{removeOnHidden:!0}));return i.filterProvider=n.filterProvider,i.showCountTextFormat=n.showCountTextFormat,i.component.classList.add(t),i.buildShowButton(),i.buildFilterMenus().done(function(){i.updateCount()}),i.component.appendChild(i.showButton),i}return _inherits(r,i),_createClass(r,[{key:"buildFilterMenus",value:function(){var i=this,r=e.HTMLHelper.createElement({className:t+"-menus",appendTo:this.component}),o=this.filterProvider,a=[],s=o.getFilters();this.menus=[];var l=function(l){if(!1===l.visible||!l.label)return"continue";var c=new e.RideStylerShowcaseOptionMenu(l.key),u=(e.HTMLHelper.createElement({className:t+"-menu-container",appendTo:r,append:[e.HTMLHelper.createElement({className:n,text:l.label}),c.component]}),o.retrieveOptions(l).done(function(t){t.unshift({label:l.unselectedOptionLabel||e.strings.getString("all"),value:void 0}),c.setOptions(t),"function"==typeof l.getValueFromFilters?c.setValue(l.getValueFromFilters(s)):c.setValue(void 0)}));c.onChange=function(){i.updateCount()},a.push(u),i.menus.push(c)},c=!0,u=!1,h=void 0;try{for(var p,f=o.filterOptions[Symbol.iterator]();!(c=(p=f.next()).done);c=!0)l(p.value)}catch(e){u=!0,h=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw h}}return e.PromiseHelper.all(a)}},{key:"buildShowButton",value:function(){var t=this;this.showButton=e.HTMLHelper.createButton({large:!0,disabled:!0,text:e.strings.getString("loading-ellipsis")}),this.showButton.addEventListener("click",function(){t.filterProvider.setFilters(t.getValues()),t.hide()})}},{key:"getValues",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var r,o=this.menus[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e.push({key:a.name,value:a.value})}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}return e}},{key:"getFilters",value:function(){return this.filterProvider.previewFilters(this.getValues())}},{key:"updateCount",value:function(){var e=this;this.setCountText(!1),this.filterProvider.getCount(this.getFilters()).done(function(t){e.setCountText(t)})}},{key:"setCountText",value:function(t){!1===t?(e.HTMLHelper.setText(this.showButton,e.strings.getString("loading-ellipsis")),this.showButton.disabled=!0):(e.HTMLHelper.setText(this.showButton,this.showCountTextFormat.replace("{count}",t.toString())),this.showButton.disabled=0===t)}}]),r}(e.RideStylerShowcaseModal);e.RideStylerShowcaseFilterModal=i}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(e,t){for(var n=new Array(e.length),i=-1,r=0;r<e.length;r++){var o=e[r];"function"==typeof t&&t(o)||o===t||(n[++i]=o)}return n.length=i+1,n}e.copy=function(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t},e.remove=t,e.filter=function(e,n){return t(e,function(e){return!n(e)})},e.map=function(e,t,n){if("function"==typeof Array.prototype.map)return e.map(t,n);for(var i=new Array(e.length),r=0;r<e.length;r++)e[r],i[r]=void 0===n?t(e[r],r,e):t.call(n,e[r],r,e);return i},e.reduce=function(e,t,n){if("function"==typeof Array.prototype.reduce)return e.reduce(t,n);for(var i=n,r=0;r<e.length;r++)i=void 0!==i?t.call(void 0,i,e[r],r,e):e[r];return i}}(e.ArrayHelper||(e.ArrayHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(e,t){return"number"==typeof t&&(t={width:t,height:t}),{width:e.width*t.width,height:e.height*t.height}}e.bound=function(e,n,i){"number"==typeof n&&(n={width:n,height:n}),"number"==typeof i&&(i={width:i,height:i});var r=i?Math.min(i.width/e.width,i.height/e.height):1,o=n?Math.max(n.width/e.width,n.height/e.height):1,a=void 0;if(r<1)a=r;else{if(!(o>1))return e;a=o}return t(e,a)},e.scale=t,e.floor=function(e){return{width:~~e.width,height:~~e.height}}}(e.BoxHelper||(e.BoxHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(e,t,n){var r=t&&n||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){return o<16&&(t[r+o++]=i[e]),""});o<16;)t[r+o++]=0;return t}for(var n=[],i={},r=0;r<256;r++)n[r]=(r+256).toString(16).substr(1),i[n[r]]=r;e.parse=t,e.unparse=function(e,t){var i=t||0,r=n;return r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]},e.areEqual=function(e,n){if(!e)return!n;if(!n)return!1;var i=void 0,r=void 0;i="string"==typeof e?t(e):e,r="string"==typeof n?t(n):n;for(var o=0;o<i.length;o++)if(i[o]!==r[o])return!1;return!0}}(e.GUIDHelper||(e.GUIDHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){!function(t){function n(e,t){for(var n=new Array(e.length),i=0,r=0;r<e.length;r++){var o=e[r];t(o)&&(n[i++]=o)}return n.length=i,n}function i(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(t(i))return i}return null}function r(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];if(t(i))return i}return null}function o(e,t){return n(e.children,t)}function a(e,t){return i(e.children,t)}function s(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i=e.StyleHelper.flattenClassList(i),o(t,function(t){return e.StyleHelper.hasClasses(t,i)})}function l(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return a(t,function(t){return e.StyleHelper.hasClasses(t,i)})}function c(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return!!l.apply(void 0,[e].concat(n))}function u(e,t){var n=e;if("object"===(void 0===t?"undefined":_typeof(t))){if("string"==typeof t.className&&(e.className=t.className),"string"==typeof t.id&&(e.id=t.id),t.wrap&&t.wrap.appendChild(e),t.appendTo&&t.appendTo.appendChild(t.wrap||e),"string"==typeof t.text&&e.appendChild(document.createTextNode(t.text)),t.append){if(t.append instanceof Array){var i=!0,r=!1,o=void 0;try{for(var a,s=t.append[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;e.appendChild(l)}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}else e.appendChild(t.append);document.createElementNS}if(t.attributes)for(var c in t.attributes)t.attributes.hasOwnProperty(c)&&e.setAttribute(c,t.attributes[c]);if(t.style&&"object"===_typeof(n.style))for(var u in t.style)t.style.hasOwnProperty(u)&&(n.style[u]=t.style[u]);if(t.properties)for(var h in t.properties)t.properties.hasOwnProperty(h)&&(e[h]=t.properties[h])}}function h(e,t){var n=void 0;"string"==typeof e?n=e:(n="div",t=e);var i=document.createElement(n);return u(i,t),i}function p(e,n){var i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;t.createElement("dt",{text:l.label,appendTo:e}),t.createElement("dd",{text:l.description,appendTo:e})}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}function f(e){for(var t=void 0;t=e.lastChild;)e.removeChild(t)}function d(e){return e.ownerDocument}t.elementsMatching=n,t.firstElementMatching=i,t.lastElementMatching=r,t.childrenMatching=o,t.firstChildMatching=a,t.childrenWithClasses=s,t.removeChildrenWithClasses=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=!0,o=!1,a=void 0;try{for(var l,c=s.apply(void 0,[e].concat(n))[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value;e.removeChild(u)}}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}},t.firstChildWithTag=function(e,t){return t=t.toUpperCase(),a(e,function(e){return e.tagName===t})},t.firstChildWithClass=l,t.hasChildWithClass=c,t.hasSiblingWithClass=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return c.apply(void 0,[e.parentElement].concat(n))},t.lastSiblingWithClass=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return r(t.parentElement.children,function(n){return n!==t&&e.StyleHelper.hasClasses(n,i)})},t.createElement=h,t.createElementWithText=function(e,t){return h(e,{text:t})},t.createElementWithClass=function(e,t){var n=e;return void 0===t&&(n="div",t=e),h(n,{className:t})},t.createElementWithID=function(e,t){return h(e,{id:t})},t.createTextElement=function(e){return document.createTextNode(e)},t.createButton=function(e){var t=h("button",e),n="ridestyler-showcase-button";return t.classList.add(n),e.large&&t.classList.add(n+"-large"),e.disabled&&(t.disabled=!0),e.link&&t.classList.add(n+"-link"),e.skinny&&t.classList.add(n+"-skinny"),t};var v="ridestyler-showcase-icon ridestyler-showcase-icon-";t.createIcon=function(e){var t=void 0,n=(t="string"==typeof e?{icon:e}:e).icon;return n.startsWith(v)||(n=v+n),"string"==typeof t.className&&(n=t.className+" "+n),t.className=n,h("i",t)},t.createSVGElement=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);return u(n,t),n},t.createDescriptionList=function(e){var n=t.createElement("dl",{className:"ridestyler-showcase-description-list",appendTo:this.summaryElement});return e&&p(n,e),n},t.appendDescriptionListValues=p,t.empty=f,t.once=function(e,t,n,i){e.addEventListener(t,function r(o){return e.removeEventListener(t,r,i),"object"===(void 0===n?"undefined":_typeof(n))&&(n=n.handleEvent),n.call(this,o)},i)},t.getDocument=d,t.getWindow=function(e){return d(e).defaultView},t.setText=function(e,t){return f(e),e.appendChild(document.createTextNode(t)),e}}(e.HTMLHelper||(e.HTMLHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){e.bound=function(e,t,n){return e<t?t:e>n?n:e},e.extendRange=function(e,t){return t||(t={min:1/0,max:-1/0}),e<t.min&&(t.min=e),e>t.max&&(t.max=e),t}}(e.NumberHelper||(e.NumberHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=!0,a=!1,s=void 0;try{for(var l,c=i[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if(u)for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(t[h]=u[h])}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}return t}e.assign=t,e.copy=function(e){return t({},e)},e.getKeys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},e.getValues=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}}(e.ObjectHelper||(e.ObjectHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){!function(t){function n(e,t,n){var i=ridestyler.promise();return e.done(function(e){if("function"==typeof t)try{var n=t(e);r(n)?n.done(function(e){return i.resolve(e)}).fail(function(e){return i.reject(e)}):i.resolve(n)}catch(e){i.reject(e)}else i.resolve(e)}),e.fail(function(e){if("function"==typeof n)try{var t=n(e);r(t)?t.done(function(e){return i.resolve(e)}).fail(function(e){return i.reject(e)}):i.resolve(t)}catch(e){i.reject(e)}else i.reject(e)}),i}function i(e){var t=ridestyler.promise();return t.resolve(e),t}function r(e){return"object"===(void 0===e?"undefined":_typeof(e))&&"function"==typeof e.done&&"function"==typeof e.fail&&"function"==typeof e.always}t.all=function(t){var r=[],o=e.ArrayHelper.reduce(t,function(e,t){return n(n(e,function(){return t}),function(e){return r.push(e)})},i(null));return Promise.all,n(o,function(){return r})},t.then=n,t.resolved=i,t.isPromise=r}(e.PromiseHelper||(e.PromiseHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(t){var n=void 0,i=-.025,r=document.createElement("div");n="onwheel"in r?"wheel":void 0!==document.onmousewheel?"mousewheel":"MozMousePixelScroll",t.attachWheelListener=function(t,r){"wheel"!==n?t.addEventListener(n,function(e){e||(e=window.event);var t={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"===e.type?0:1,deltaX:0,deltaY:0,deltaZ:0,preventDefault:function(){"function"==typeof e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"===n?(t.deltaY=i*e.wheelDelta,e.wheelDeltaX&&(t.deltaX=i*e.wheelDeltaX)):t.deltaY=e.detail,r(t)}):t.addEventListener("wheel",function(t){var n=e.ObjectHelper.assign(t,{originalEvent:t});return r(n)})}}(e.ScrollHelper||(e.ScrollHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){e.getFirstWord=function(e){if("string"==typeof e)return e.trim().substr(0,e.indexOf(" "))},e.endsWith=function(e,t,n){n<this.length?n|=0:n=this.length;var i=t.length;return e.substr(n-i,i)===t},e.escapeRegExp=function(e){var t=/[\\^$.*+?()[\]{}|]/g,n=RegExp(t.source);return e&&n.test(e)?e.replace(t,"\\$&"):e}}(e.StringHelper||(e.StringHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(t){function n(e){if(o)return window.getComputedStyle(e);if(a&&null!==e.currentStyle)return e.currentStyle;throw"Unable to get computed style"}function i(e){e.offsetHeight}function r(t){if(e.StringHelper.endsWith(t,"px"))return parseInt(t)}var o="getComputedStyle"in window,a=!1;!function(){var e=document.createElement("div");a="currentStyle"in e,t.transitionEndEvent=function(){var t={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd"};for(var n in t)if(n in e.style)return t[n]}(),t.transitionsSupported=!!t.transitionEndEvent}(),t.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0,t.svgSupported=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,t.getComputedStyle=n;var s=["absolute","relative","fixed"];t.isOffsetPositioned=function(e){var t=e.style.position;if(t||(t=n(e).position),!t)return!1;t=t.toLowerCase();var i=!0,r=!1,o=void 0;try{for(var a,l=s[Symbol.iterator]();!(i=(a=l.next()).done);i=!0)if(t===a.value)return!0}catch(e){r=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}return!1},t.flattenClassList=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.ArrayHelper.reduce(n,function(e,t){var n=void 0;n="string"==typeof t?[t]:t;var i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;e=e.concat(l.split(/\s+/))}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return e},[])},t.triggerReflow=i,t.skipTransition=function(e,n){if(!t.transitionsSupported)return n();var r=e.style.transition;e.style.transition="none",n.call(this),i(e),e.style.transition=r},t.onNextTransitionEnd=function(n,i){return e.HTMLHelper.once(n,t.transitionEndEvent,i)},t.hasClasses=function(e,t){var n=void 0;if("string"==typeof t){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];(n=r||[]).push(t)}else n=t;var a=!0,s=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;if(!e.classList.contains(h))return!1}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}return!0},t.parsePixels=r,t.calculatePadding=function(e){var t=n(e),i=t.paddingBottom,o=t.paddingTop,a=t.paddingLeft,s=t.paddingRight,l=r(a)+r(s),c=r(o)+r(i);return isNaN(l)&&(l=0),isNaN(c)&&(c=0),{width:l,height:c}}}(e.StyleHelper||(e.StyleHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(t){function n(e,t){t?(e.style.visibility="",e.style.pointerEvents=""):(e.style.visibility="hidden",e.style.pointerEvents="none")}var i="in";t.show=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;n(t,!0),e.StyleHelper.triggerReflow(t),t.classList.add(r);var o=ridestyler.promise();return e.StyleHelper.transitionsSupported?e.StyleHelper.onNextTransitionEnd(t,function(){return o.resolve()}):o.resolve(),o},t.hide=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;t.classList.remove(r);var o=ridestyler.promise();return o.done(function(){return n(t,!1)}),e.StyleHelper.transitionsSupported?e.StyleHelper.onNextTransitionEnd(t,function(){return o.resolve()}):o.resolve(),o},t.setVisibility=n}(e.VisibilityHelper||(e.VisibilityHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));var RideStylerShowcase;!function(e){(e.strings||(e.strings={})).registerLanguage(e.LanguageKeys.En,{"vehicle-select-visualize-intro":"Visualize wheels, tires and suspension modifications on your vehicle.","vehicle-select-share-intro":"Share with your friends, or save for inspiration.","select-your-vehicle":"Select your Vehicle",paint:"Paint",suspension:"Suspension",wheels:"Wheels",tires:"Tires",front:"Front",rear:"Rear","vehicle-details":"Vehicle Details","change-vehicle":"Change Vehicle","wheel-details":"Wheel Details","tire-details":"Tire Details","select-paint":"Select Paint","select-wheels":"Select Wheels","select-tires":"Select Tires","adjust-suspension":"Adjust Suspension","change-wheel-size":"Change Wheel Size","no-results":"No Results Found","wheel-features-specs":"Wheel Features & Specs","share-my-vehicle":"Share My Vehicle","share-instructions":"Use the buttons to share or save your vehicle configuration.","no-description-wheel":"We don't have a description for this wheel yet","show-specs":"Show Specs",call:"Call",size:"Size",offset:"Offset","bolt-pattern":"Bolt Pattern",centerbore:"Centerbore",price:"Price","item-number":"Item #",brands:"Brands",finishes:"Finishes",sizes:"Sizes",all:"All","all-brands":"All Brands","all-finishes":"All Finishes","all-sizes":"All Sizes","filter-results":"Filter Results","loading-ellipsis":"Loading...","show-count-format-tires":"Show {count} Tires","show-count-format-wheels":"Show {count} Wheels",specifications:"Specifications","speed-rating":"Speed Rating","any-speed-ratings":"Any Speed Ratings",features:"Features","any-features":"Any Features",finish:"Finish",summary:"Summary","check-out-my-vehicle":"Check out my vehicle!"})}(RideStylerShowcase||(RideStylerShowcase={}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJzdnNtLmpzIiwicnN2ci5qcyIsInNjcmlwdHMvUmlkZVN0eWxlclNob3djYXNlLmV2ZW50cy5qcyIsInNjcmlwdHMvUmlkZVN0eWxlclNob3djYXNlLmZpbHRlcnMuanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5zdGF0ZS5qcyIsInNjcmlwdHMvUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5zdHlsZXMuanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9Db21wb25lbnRCYXNlLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL01haW5Db21wb25lbnRCYXNlLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1Jlc2l6ZWFibGVSZXNvdXJjZUltYWdlLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZS5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbC5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51LmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3Rvci5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VQb3BvdmVyLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbC5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0U2VsZWN0b3IuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlUVJDb2RlQ29tcG9uZW50LmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVNoYXJlQnV0dG9uLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlU3VzcGVuc2lvblNlbGVjdG9yLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVRhYkJhci5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZS5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VUaXJlU2VsZWN0b3IuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlVG9nZ2xlQnV0dG9uLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb24uanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb24uanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbC5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1RpcmVEZXRhaWxzLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1ZlaGljbGVEZXRhaWxzLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1doZWVsRGV0YWlscy5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9tb2RhbHMvUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwuanMiLCJub3Vpc2xpZGVyLmpzIiwicXJjb2RlLmpzIiwiVGlueUFuaW1hdGUuanMiLCJpbXBldHVzLmpzIiwiaW5kZXguanMiLCJpZTgubWF4LmpzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzIiwic2NyaXB0cy9SaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLmF1dGguanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5hcGkuc2V0dGluZ3MuanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5hcGkuanMiLCJzY3JpcHRzL2hlbHBlcnMvQXJyYXlIZWxwZXIuanMiLCJzY3JpcHRzL2hlbHBlcnMvQm94SGVscGVyLmpzIiwic2NyaXB0cy9oZWxwZXJzL0dVSURIZWxwZXIuanMiLCJzY3JpcHRzL2hlbHBlcnMvSFRNTEhlbHBlci5qcyIsInNjcmlwdHMvaGVscGVycy9OdW1iZXJIZWxwZXIuanMiLCJzY3JpcHRzL2hlbHBlcnMvT2JqZWN0SGVscGVyLmpzIiwic2NyaXB0cy9oZWxwZXJzL1Byb21pc2VIZWxwZXIuanMiLCJzY3JpcHRzL2hlbHBlcnMvU2Nyb2xsSGVscGVyLmpzIiwic2NyaXB0cy9oZWxwZXJzL1N0cmluZ0hlbHBlci5qcyIsInNjcmlwdHMvaGVscGVycy9TdHlsZUhlbHBlci5qcyIsInNjcmlwdHMvaGVscGVycy9WaXNpYmlsaXR5SGVscGVyLmpzIiwic2NyaXB0cy9zdHJpbmdzL1JpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmVuLmpzIl0sIm5hbWVzIjpbIlJpZGVTdHlsZXJWZWhpY2xlU2VsZWN0aW9uTW9kYWwiLCJvcHRpb25zIiwiZXh0ZW5kIiwib3V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsImtleSIsImhhc093blByb3BlcnR5IiwiYWRkQ2xhc3MiLCJlbGVtZW50cyIsIm15Q2xhc3MiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0YWdOYW1lIiwiY2xhc3NOYW1lIiwidHJpbSIsImluZGV4T2YiLCJyZW1vdmVDbGFzcyIsInJlZzEiLCJSZWdFeHAiLCJyZWcyIiwicmVnMyIsInJlcGxhY2UiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjcmVhdGVCYWNrZHJvcCIsImdldEVsZW1lbnRCeUlkIiwiYmFja0Ryb3AiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJzdHlsZSIsIm9wYWNpdHkiLCJ0cmFuc2l0aW9uIiwiZ2V0TW9kYWxDb250YWluZXIiLCJhcHBlbmRDaGlsZCIsImV4aXN0aW5nQmFja2Ryb3AiLCJzZXRUaW1lb3V0Iiwib25UcmFuc2l0aW9uRW5kT25jZSIsInNob3dCYWNrZHJvcCIsImhpZGVCYWNrZHJvcCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImhpZGVNb2RhbHMiLCJhbGxNb2RhbHMiLCJjdXJyZW50QmFzZSIsImNvcHlPZkFycmF5IiwiaW5mb0FycmF5Iiwic2xpY2UiLCJjb3B5T2ZEYXRhQXJyYXkiLCJkYXRhQXJyYXkiLCJkaXNDb3VudGludWVkIiwibW9kYWxBcnJheSIsImdldEF0dHJpYnV0ZSIsImZvckVhY2giLCJjYWxsIiwidGhpc01vZGFsIiwidGhpc0lEIiwiaW5mb0Jhc2VPYmoiLCJzcGxpdHRlZEFycmF5Iiwic3BsaXQiLCJjYWxsYmFjayIsIm91dE9iaiIsIkZpbmFsU2VsZWN0aW9uTWFkZSIsIlZlaGljbGUiLCJGdWxsU2VsZWN0aW9uRGF0YSIsImNvbnNvbGUiLCJ3YXJuIiwiYm9keSIsImNvbnRhaW5lciIsImJhc2UiLCJwcmVwYXJlRnVuY3Rpb24iLCJwcmVwYXJlRnVuY3Rpb25PcHRpb25zIiwidHJhbnNpdGlvbk1vZGFsIiwibW9kYWxCYXNlIiwibW9kYWxCYXNlQ29weSIsImNsb25lTm9kZSIsIl92c21Nb2RhbElEQ291bnRlciIsInB1c2giLCJiYWNrTW9kYWwiLCJiYWNrTGlua3MiLCJiYWNrTGluayIsImJhY2tIYW5kbGVyIiwiZSIsInRhcmdldCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0eXBlIiwiYm0iLCJiYyIsInRyYW5zaXRpb25Ub01vZGFsIiwiZG9uZSIsInBvcCIsImFmdGVyQmFja0NsaWNrZWQiLCJvdXRJbmZvT2JqIiwiRnVsbFNlbGVjdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbG9zZUJ1dHRvbnMiLCJjbG9zZUJ1dHRvbiIsIm9uY2xpY2siLCJ0b01vZGFsIiwiZnJvbU1vZGFsIiwiYmFja3dhcmRzIiwiZnJvbUFuaW1hdGVQcm9taXNlIiwicmlkZXN0eWxlciIsInByb21pc2UiLCJ0b0FuaW1hdGVQcm9taXNlIiwiZnJvbVoiLCJwYXJzZUludCIsInpJbmRleCIsInRvWiIsInRyYW5zaXRpb25TdXBwb3J0IiwiZGlzcGxheSIsInJlc29sdmUiLCJhbGxQcm9taXNlIiwib25Qcm9taXNlQ2hhbmdlIiwidG9TdGF0ZSIsInN0YXRlIiwiZnJvbVN0YXRlIiwicmVqZWN0IiwiYWx3YXlzIiwicmVxdWVzdFN0ZXAiLCJtb2RhbCIsInN0ZXBPcHRpb25zIiwicmVxdWVzdCIsIlNlbGVjdGlvbiIsImJlc3RDb25maWd1cmF0aW9uIiwic2hvd1NlbGVjdGlvbiIsImFqYXgiLCJzZW5kIiwiYWN0aW9uIiwiZGF0YSIsInJlc3BvbnNlIiwiU3VjY2VzcyIsIkJlc3RDb25maWd1cmF0aW9uIiwiSW5jbHVkZU9FVGlyZU9wdGlvbiIsIlZlaGljbGVDb25maWd1cmF0aW9uIiwiVmFsdWUiLCJkZXRhaWxSZXNwb25zZSIsImRldGFpbHMiLCJEZXRhaWxzIiwidGhpcyIsImRldGFpbFN0cmluZyIsImRldGFpbCIsImYiLCJGcm9udCIsInIiLCJSZWFyIiwiVGlyZU9wdGlvbkJhc2ljIiwiVGlyZU9wdGlvbklEIiwiVGlyZU9wdGlvblN0cmluZyIsIm9wdGlvbk1lbnUiLCJHcm91cHMiLCJEZXNjcmlwdGlvbiIsIlRpdGxlIiwiS2V5IiwiT3B0aW9ucyIsIkdyb3VwIiwiTGFiZWwiLCJ1cGRhdGVNb2RhbCIsIk1lbnUiLCJtZW51IiwiaXRlbUxpc3RDb250YWluZXIiLCJoZWFkZXJFbGVtZW50IiwiYm9keUVsZW1lbnQiLCJ2c21MaW5rU3R5bGUiLCJmaW5hbFNjcmVlbiIsIm1lbnVPcHRpb25zIiwibWVudUtleSIsIm1lbnVUaXRsZSIsIm1lbnVHcm91cHMiLCJidWlsZExpc3RJdGVtIiwib3B0T2JqIiwib3B0aW9uTGFiZWwiLCJvcHRpb25WYWx1ZSIsIm9wdGlvbkJ0biIsIm9wdGlvblRleHQiLCJjcmVhdGVUZXh0Tm9kZSIsImhyZWYiLCJzZXRBdHRyaWJ1dGUiLCJvIiwib3B0aW9uS2V5Iiwib3B0aW9uVGl0bGUiLCJhZnRlck9wdGlvblNlbGVjdGVkIiwiQ3VycmVudFNlbGVjdGlvbiIsInRyYW5zaXRpb25PcHRpb24iLCJvbkxpc3RJdGVtU2VsZWN0ZWQiLCJidWlsZExpc3RIZWFkZXIiLCJoZWFkZXJUZXh0IiwibWVudVN1YkhlYWRlciIsIm1lbnVTdWJIZWFkZXJUZXh0IiwiZGl2RUxlIiwiZG90RWxlIiwic3BhbkVsZSIsIm5vdFN0eWxlRGl2IiwiaW5mb0Jhc2VBcnJheSIsIm1hcCIsImVsZSIsImlubmVySFRNTCIsImpvaW4iLCJmaXJzdENoaWxkIiwiZ3JvdXBXcmFwIiwiR3JvdXBPcHRpb25zIiwibWVudUdyb3VwZWRPcHRpb25zIiwidGhpc01lbnVPcHRpb24iLCJ0aGlzTWVudU9wdGlvbkdyb3VwIiwiaiIsIm1lbnVHcm91cCIsInN1Ykdyb3VwIiwiZ3JvdXBMaXN0IiwiY29sdW1uQ2xhc3MiLCJZZWFyU2NyZWVuQ29sdW1ucyIsIk1ha2VTY3JlZW5Db2x1bW5zIiwibGlzdEl0ZW0iLCJ2ZWhpY2xlSW1hZ2UiLCJ2ZWhpY2xlTG9hZGVyIiwibmFtZUVsZW1lbnQiLCJjb25maXJtQnV0dG9uIiwiaW5Qcm9ncmVzc1NjcmVlbiIsIkNvbmZpcm1CdXR0b25UZXh0IiwibWFpblBhcnRTdHJpbmciLCJsYXN0SXRlbSIsInZlaGljbGVEZXNjIiwiaW1hZ2VTZXR0aW5ncyIsIldpZHRoIiwiSGVpZ2h0IiwiUG9zaXRpb25YIiwiUG9zaXRpb25ZIiwiSW1hZ2VTZXR0aW5ncyIsImltYWdlVXJsIiwidXJsIiwic3JjIiwib25sb2FkIiwiY29uZmlybUhhbmRsZXIiLCJwYXJlbnRCYXNlIiwiZWxlbWVudCIsInNlbGVjdG9yIiwiRWxlbWVudCIsInByb3RvdHlwZSIsIm1hdGNoZXMiLCJtYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJzIiwib3duZXJEb2N1bWVudCIsIml0ZW0iLCJnZXRDbG9zZXN0IiwidmVoaWNsZUluZm8iLCJJbWFnZVVybCIsIlZlaGljbGVEZXNjcmlwdGlvbiIsInRoaXNTdHlsZSIsImRvY3VtZW50RWxlbWVudCIsInVuZGVmaW5lZCIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJlbCIsInRyYW5zaXRpb25zIiwidHJhbnNpdGlvbkVuZCIsIkhUTUxFbGVtZW50IiwidHJhbnNpdGlvbkVuZFdyYXAiLCJTaG93IiwiZGl2RWxlIiwidnNtX3RlbXBsYXRlIiwibG9hZEJhc2UiLCJIaWRlIiwiUmlkZVN0eWxlclZpZXdwb3J0IiwiZWxlbSIsInNob3dMb2FkZXJFbGVtZW50IiwibG9hZGVyIiwibG9hZGVyRGF0YSIsInJlbmRlcmVyIiwiYWN0aXZlIiwicXVlcnlTZWxlY3RvciIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJzdWJzdHJpbmciLCJlcnJvciIsImlzT2Zmc2V0UG9zaXRpb25WYWx1ZSIsInZhbHVlIiwicG9zaXRpb24iLCJjYWxjdWxhdGVkU3R5bGUiLCJ3aW5kb3ciLCJnZXRDb21wdXRlZFN0eWxlIiwicnVudGltZVN0eWxlIiwicGFkZGluZyIsImJvcmRlclJhZGl1cyIsImJhY2tncm91bmQiLCJsZWZ0IiwidG9wIiwibWFyZ2luTGVmdCIsIm1hcmdpblRvcCIsImNyZWF0ZU5ld0xheWVyIiwiaW5zdHJ1Y3Rpb25zIiwiYWN0aXZlSW1hZ2UiLCJyZXRpcmVkSW1hZ2VzIiwib2ltZyIsImltZyIsInJlbW92ZWRJbWFnZXMiLCJzcGxpY2UiLCJvbmVycm9yIiwiUmVuZGVyIiwiZGVzaXJlZEFzcGVjdEhlaWdodCIsImNvbnRhaW5lckFzcGVjdFJhdGlvIiwibGFzdENsaWVudFdpZHRoIiwicmVmcmVzaFRpbWVvdXQiLCJSZXNpemVSZW5kZXJBcmVhIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJNYXRoIiwicm91bmQiLCJjbGVhclRpbWVvdXQiLCJyZXNwb25zaXZlIiwic2V0SW50ZXJ2YWwiLCJVcGRhdGUiLCJhcmdzIiwidmFsdWVzIiwidG9rZW5zIiwia3YiLCJkZWNvZGVVUklDb21wb25lbnQiLCJ0b0xvd2VyQ2FzZSIsImsiLCJwcmVwYXJlQXJndW1lbnRzIiwiY2xpZW50SGVpZ2h0IiwiaGFzQ2hhbmdlcyIsIngiLCJ2MSIsInYyIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJleHBvcnRzIiwibW9kdWxlIiwibm9VaVNsaWRlciIsInByZXZlbnREZWZhdWx0IiwiaXNOdW1lcmljIiwiYSIsImlzTmFOIiwiaXNGaW5pdGUiLCJhZGRDbGFzc0ZvciIsImR1cmF0aW9uIiwiYXNBcnJheSIsIkFycmF5IiwiaXNBcnJheSIsImNvdW50RGVjaW1hbHMiLCJudW1TdHIiLCJwaWVjZXMiLCJTdHJpbmciLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJnZXRQYWdlT2Zmc2V0IiwiZG9jIiwic3VwcG9ydFBhZ2VPZmZzZXQiLCJwYWdlWE9mZnNldCIsImlzQ1NTMUNvbXBhdCIsImNvbXBhdE1vZGUiLCJzY3JvbGxMZWZ0IiwieSIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG9wIiwic3ViUmFuZ2VSYXRpbyIsInBhIiwicGIiLCJmcm9tUGVyY2VudGFnZSIsInJhbmdlIiwiZ2V0SiIsImFyciIsInRvU3RlcHBpbmciLCJ4VmFsIiwieFBjdCIsInZhIiwidmIiLCJhYnMiLCJ0b1BlcmNlbnRhZ2UiLCJnZXRTdGVwIiwieFN0ZXBzIiwic25hcCIsImIiLCJ0byIsImNsb3Nlc3QiLCJoYW5kbGVFbnRyeVBvaW50IiwiaW5kZXgiLCJ0aGF0IiwicGVyY2VudGFnZSIsInRvU3RyaW5nIiwiRXJyb3IiLCJWRVJTSU9OIiwicGFyc2VGbG9hdCIsInhIaWdoZXN0Q29tcGxldGVTdGVwIiwiaGFuZGxlU3RlcFBvaW50IiwibiIsInRvdGFsU3RlcHMiLCJ4TnVtU3RlcHMiLCJoaWdoZXN0U3RlcCIsImNlaWwiLCJOdW1iZXIiLCJ0b0ZpeGVkIiwic3RlcCIsIlNwZWN0cnVtIiwiZW50cnkiLCJzaW5nbGVTdGVwIiwib3JkZXJlZCIsInNvcnQiLCJ2YWxpZGF0ZUZvcm1hdCIsImZyb20iLCJpc1ZhbGlkRm9ybWF0dGVyIiwidGVzdFN0ZXAiLCJwYXJzZWQiLCJ0ZXN0UmFuZ2UiLCJtaW4iLCJtYXgiLCJzcGVjdHJ1bSIsInRlc3RTdGFydCIsImhhbmRsZXMiLCJzdGFydCIsInRlc3RTbmFwIiwidGVzdEFuaW1hdGUiLCJhbmltYXRlIiwidGVzdEFuaW1hdGlvbkR1cmF0aW9uIiwiYW5pbWF0aW9uRHVyYXRpb24iLCJ0ZXN0Q29ubmVjdCIsImNvbm5lY3QiLCJ0ZXN0T3JpZW50YXRpb24iLCJvcnQiLCJ0ZXN0TWFyZ2luIiwibWFyZ2luIiwiZ2V0TWFyZ2luIiwidGVzdExpbWl0IiwibGltaXQiLCJ0ZXN0UGFkZGluZyIsInRlc3REaXJlY3Rpb24iLCJkaXIiLCJ0ZXN0QmVoYXZpb3VyIiwidGFwIiwiZHJhZyIsImZpeGVkIiwiaG92ZXIiLCJldmVudHMiLCJ0ZXN0TXVsdGl0b3VjaCIsIm11bHRpdG91Y2giLCJ0ZXN0VG9vbHRpcHMiLCJ0b29sdGlwcyIsImZvcm1hdHRlciIsInRlc3RBcmlhRm9ybWF0IiwiYXJpYUZvcm1hdCIsInRlc3RGb3JtYXQiLCJmb3JtYXQiLCJ0ZXN0Q3NzUHJlZml4IiwiY3NzUHJlZml4IiwidGVzdENzc0NsYXNzZXMiLCJjc3NDbGFzc2VzIiwidGVzdFVzZVJhZiIsInVzZVJlcXVlc3RBbmltYXRpb25GcmFtZSIsInRlc3RPcHRpb25zIiwiZGVmYXVsdEZvcm1hdHRlciIsInRlc3RzIiwidCIsImRpcmVjdGlvbiIsIm9yaWVudGF0aW9uIiwiYmVoYXZpb3VyIiwiZGVmYXVsdHMiLCJvcmlnaW4iLCJoYW5kbGUiLCJoYW5kbGVMb3dlciIsImhhbmRsZVVwcGVyIiwiaG9yaXpvbnRhbCIsInZlcnRpY2FsIiwibHRyIiwicnRsIiwiZHJhZ2dhYmxlIiwidG9vbHRpcCIsInBpcHMiLCJwaXBzSG9yaXpvbnRhbCIsInBpcHNWZXJ0aWNhbCIsIm1hcmtlciIsIm1hcmtlckhvcml6b250YWwiLCJtYXJrZXJWZXJ0aWNhbCIsIm1hcmtlck5vcm1hbCIsIm1hcmtlckxhcmdlIiwibWFya2VyU3ViIiwidmFsdWVIb3Jpem9udGFsIiwidmFsdWVWZXJ0aWNhbCIsInZhbHVlTm9ybWFsIiwidmFsdWVMYXJnZSIsInZhbHVlU3ViIiwia2V5cyIsIm5hbWUiLCJzdHlsZXMiLCJzdHlsZU9wb3NpdGUiLCJjbG9zdXJlIiwib3JpZ2luYWxPcHRpb25zIiwiYWRkTm9kZVRvIiwiZGl2Iiwic2NvcGVfRG9jdW1lbnQiLCJhZGRPcmlnaW4iLCJoYW5kbGVOdW1iZXIiLCJhZGRDb25uZWN0IiwiYWRkVG9vbHRpcCIsImFkZE1hcmtpbmciLCJzcHJlYWQiLCJmaWx0ZXJGdW5jIiwiZ2V0Q2xhc3NlcyIsInNvdXJjZSIsInNpemVDbGFzc2VzIiwidmFsdWVTaXplQ2xhc3NlcyIsIm1hcmtlclNpemVDbGFzc2VzIiwidmFsdWVPcmllbnRhdGlvbkNsYXNzZXMiLCJtYXJrZXJPcmllbnRhdGlvbkNsYXNzZXMiLCJvZmZzZXQiLCJub2RlIiwiaW5uZXJUZXh0IiwiYWRkU3ByZWFkIiwicmVtb3ZlUGlwcyIsInNjb3BlX1BpcHMiLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlRWxlbWVudCIsImdyaWQiLCJtb2RlIiwiZGVuc2l0eSIsImZpbHRlciIsImdyb3VwIiwic2FmZUluY3JlbWVudCIsImluY3JlbWVudCIsImluZGV4ZXMiLCJmaXJzdEluUmFuZ2UiLCJzY29wZV9TcGVjdHJ1bSIsImxhc3RJblJhbmdlIiwiaWdub3JlRmlyc3QiLCJpZ25vcmVMYXN0IiwicHJldlBjdCIsInVuc2hpZnQiLCJjdXJyZW50IiwicSIsIm5ld1BjdCIsInBjdERpZmZlcmVuY2UiLCJzdGVwcyIsInJlYWxTdGVwcyIsInN0ZXBzaXplIiwibG93IiwiaGlnaCIsImdlbmVyYXRlU3ByZWFkIiwic3RlcHBlZCIsInYiLCJmcm9tU3RlcHBpbmciLCJnZXRHcm91cCIsInNjb3BlX1RhcmdldCIsImJhc2VTaXplIiwicmVjdCIsInNjb3BlX0Jhc2UiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJhbHQiLCJ3aWR0aCIsImF0dGFjaEV2ZW50IiwibWV0aG9kIiwiaGFzQXR0cmlidXRlIiwiY29udGFpbnMiLCJ0ZXN0IiwiaGFzQ2xhc3MiLCJwYWdlT2Zmc2V0IiwidG91Y2giLCJtb3VzZSIsInBvaW50ZXIiLCJpc1RvdWNoT25UYXJnZXQiLCJ0YXJnZXRUb3VjaGVzIiwidG91Y2hlcyIsInBhZ2VYIiwicGFnZVkiLCJ0YXJnZXRUb3VjaCIsImZpbmQiLCJjaGFuZ2VkVG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwicG9pbnRzIiwiY3Vyc29yIiwiZml4RXZlbnQiLCJhY3Rpb25zIiwiYnV0dG9ucyIsInN1cHBvcnRzUGFzc2l2ZSIsImNhbGNQb2ludCIsIm1ldGhvZHMiLCJldmVudE5hbWUiLCJwYXNzaXZlIiwiY2FsY1BvaW50VG9QZXJjZW50YWdlIiwicHJvcG9zYWwiLCJkb2NFbGVtIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiY2xpZW50VG9wIiwiY2xpZW50TGVmdCIsIm1vdmVIYW5kbGVzIiwidXB3YXJkIiwibG9jYXRpb25zIiwiaGFuZGxlTnVtYmVycyIsInByb3Bvc2FscyIsInJldmVyc2UiLCJjaGVja0hhbmRsZVBvc2l0aW9uIiwic2V0SGFuZGxlIiwiZmlyZUV2ZW50Iiwic2NvcGVfRXZlbnRzIiwidGFyZ2V0RXZlbnQiLCJldmVudFR5cGUiLCJzY29wZV9TZWxmIiwic2NvcGVfVmFsdWVzIiwic2NvcGVfTG9jYXRpb25zIiwiZG9jdW1lbnRMZWF2ZSIsImV2ZW50Iiwibm9kZU5hbWUiLCJyZWxhdGVkVGFyZ2V0IiwiZXZlbnRFbmQiLCJldmVudE1vdmUiLCJhcHBWZXJzaW9uIiwiYnV0dG9uc1Byb3BlcnR5IiwibW92ZW1lbnQiLCJzdGFydENhbGNQb2ludCIsInNjb3BlX0FjdGl2ZUhhbmRsZXNDb3VudCIsImxpc3RlbmVycyIsImMiLCJzY29wZV9Eb2N1bWVudEVsZW1lbnQiLCJzZXRaaW5kZXgiLCJzY29wZV9Cb2R5IiwiZXZlbnRTdGFydCIsImhhbmRsZU9yaWdpbiIsInNjb3BlX0hhbmRsZXMiLCJjaGlsZHJlbiIsInN0b3BQcm9wYWdhdGlvbiIsIm1vdmVFdmVudCIsIm1vdmUiLCJlbmRFdmVudCIsImVuZCIsIm91dEV2ZW50IiwiYXBwbHkiLCJjb25jYXQiLCJldmVudFRhcCIsInBvcyIsImdldENsb3Nlc3RIYW5kbGUiLCJldmVudEhvdmVyIiwicmVmZXJlbmNlIiwibG9va0JhY2t3YXJkIiwibG9va0ZvcndhcmQiLCJnZXRWYWx1ZSIsInRvUGN0IiwicGN0Iiwic2NvcGVfSGFuZGxlTnVtYmVycyIsImNoaWxkTm9kZXMiLCJzdGF0ZVVwZGF0ZSIsInVwZGF0ZUNvbm5lY3QiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ1cGRhdGVIYW5kbGVQb3NpdGlvbiIsInNjb3BlX0Nvbm5lY3RzIiwibCIsImgiLCJzZXRWYWx1ZSIsInZhbHVlU2V0IiwiaW5wdXQiLCJmaXJlU2V0RXZlbnQiLCJpc0luaXQiLCJ2YWx1ZUdldCIsImJpbmRFdmVudCIsIm5hbWVzcGFjZWRFdmVudCIsInBvaW50ZXJFbmFibGVkIiwibXNQb2ludGVyRW5hYmxlZCIsIkNTUyIsInN1cHBvcnRzIiwib3B0cyIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiZ2V0U3VwcG9ydHNQYXNzaXZlIiwiYWRkU2xpZGVyIiwiY29ubmVjdE9wdGlvbnMiLCJhZGRFbGVtZW50cyIsImRlc3Ryb3kiLCJsb2NhdGlvbiIsIm5lYXJieVN0ZXBzIiwiZ2V0TmVhcmJ5U3RlcHMiLCJ0aGlzU3RlcCIsImRlY3JlbWVudCIsInN0ZXBBZnRlciIsInN0YXJ0VmFsdWUiLCJzdGVwQmVmb3JlIiwic3RlcERlY2ltYWxzIiwiY291bnRTdGVwRGVjaW1hbHMiLCJvbiIsIm9mZiIsIm5hbWVzcGFjZSIsImJpbmQiLCJ0RXZlbnQiLCJ0TmFtZXNwYWNlIiwic2V0IiwicmVzZXQiLCJfX21vdmVIYW5kbGVzIiwidXBkYXRlT3B0aW9ucyIsIm9wdGlvbnNUb1VwZGF0ZSIsInVwZGF0ZUFibGUiLCJuZXdPcHRpb25zIiwiaGFuZGxlQmVmb3JlIiwiaGFuZGxlQWZ0ZXIiLCJldmVudEhvbGRlcnMiLCJldmVudEhvbGRlciIsImJpbmRTbGlkZXJFdmVudHMiLCJ0aXBzIiwidW5lbmNvZGVkIiwiZm9ybWF0dGVkVmFsdWUiLCJwb3NpdGlvbnMiLCJub3ciLCJ0ZXh0IiwiaXNQZXJjZW50YWdlIiwiY29udmVydCIsInZlcnNpb24iLCJhcGkiLCJRUkNvZGUiLCJRUjhiaXRCeXRlIiwiUVJNb2RlIiwiTU9ERV84QklUX0JZVEUiLCJwYXJzZWREYXRhIiwiYnl0ZUFycmF5IiwiY29kZSIsImNoYXJDb2RlQXQiLCJRUkNvZGVNb2RlbCIsInR5cGVOdW1iZXIiLCJlcnJvckNvcnJlY3RMZXZlbCIsIm1vZHVsZXMiLCJtb2R1bGVDb3VudCIsImRhdGFDYWNoZSIsImRhdGFMaXN0IiwiUVJQb2x5bm9taWFsIiwibnVtIiwic2hpZnQiLCJRUlJTQmxvY2siLCJ0b3RhbENvdW50IiwiZGF0YUNvdW50IiwiUVJCaXRCdWZmZXIiLCJidWZmZXIiLCJfZ2V0QW5kcm9pZCIsImFuZHJvaWQiLCJzQWdlbnQiLCJhTWF0IiwibWF0Y2giLCJfZ2V0VHlwZU51bWJlciIsInNUZXh0IiwibkNvcnJlY3RMZXZlbCIsIm5UeXBlIiwicmVwbGFjZWRUZXh0IiwiZW5jb2RlVVJJIiwiX2dldFVURjhMZW5ndGgiLCJsZW4iLCJRUkNvZGVMaW1pdExlbmd0aCIsIm5MaW1pdCIsIlFSRXJyb3JDb3JyZWN0TGV2ZWwiLCJMIiwiTSIsIlEiLCJIIiwiZ2V0TGVuZ3RoIiwid3JpdGUiLCJwdXQiLCJhZGREYXRhIiwibmV3RGF0YSIsImlzRGFyayIsInJvdyIsImNvbCIsImdldE1vZHVsZUNvdW50IiwibWFrZSIsIm1ha2VJbXBsIiwiZ2V0QmVzdE1hc2tQYXR0ZXJuIiwibWFza1BhdHRlcm4iLCJzZXR1cFBvc2l0aW9uUHJvYmVQYXR0ZXJuIiwic2V0dXBQb3NpdGlvbkFkanVzdFBhdHRlcm4iLCJzZXR1cFRpbWluZ1BhdHRlcm4iLCJzZXR1cFR5cGVJbmZvIiwic2V0dXBUeXBlTnVtYmVyIiwiY3JlYXRlRGF0YSIsIm1hcERhdGEiLCJtaW5Mb3N0UG9pbnQiLCJwYXR0ZXJuIiwibG9zdFBvaW50IiwiUVJVdGlsIiwiZ2V0TG9zdFBvaW50IiwiY3JlYXRlTW92aWVDbGlwIiwidGFyZ2V0X21jIiwiaW5zdGFuY2VfbmFtZSIsImRlcHRoIiwicXJfbWMiLCJjcmVhdGVFbXB0eU1vdmllQ2xpcCIsImJlZ2luRmlsbCIsIm1vdmVUbyIsImxpbmVUbyIsImVuZEZpbGwiLCJnZXRQYXR0ZXJuUG9zaXRpb24iLCJiaXRzIiwiZ2V0QkNIVHlwZU51bWJlciIsIm1vZCIsImZsb29yIiwiZ2V0QkNIVHlwZUluZm8iLCJpbmMiLCJiaXRJbmRleCIsImJ5dGVJbmRleCIsImRhcmsiLCJnZXRNYXNrIiwiUEFEMCIsIlBBRDEiLCJyc0Jsb2NrcyIsImdldFJTQmxvY2tzIiwiZ2V0TGVuZ3RoSW5CaXRzIiwidG90YWxEYXRhQ291bnQiLCJwdXRCaXQiLCJjcmVhdGVCeXRlcyIsIm1heERjQ291bnQiLCJtYXhFY0NvdW50IiwiZGNkYXRhIiwiZWNkYXRhIiwiZGNDb3VudCIsImVjQ291bnQiLCJyc1BvbHkiLCJnZXRFcnJvckNvcnJlY3RQb2x5bm9taWFsIiwibW9kUG9seSIsIm1vZEluZGV4IiwidG90YWxDb2RlQ291bnQiLCJNT0RFX05VTUJFUiIsIk1PREVfQUxQSEFfTlVNIiwiTU9ERV9LQU5KSSIsIlFSTWFza1BhdHRlcm4iLCJQQVRURVJOX1BPU0lUSU9OX1RBQkxFIiwiRzE1IiwiRzE4IiwiRzE1X01BU0siLCJkIiwiZ2V0QkNIRGlnaXQiLCJkaWdpdCIsImVycm9yQ29ycmVjdExlbmd0aCIsIm11bHRpcGx5IiwiUVJNYXRoIiwiZ2V4cCIsInFyQ29kZSIsInNhbWVDb3VudCIsImNvdW50IiwiZGFya0NvdW50IiwiZ2xvZyIsIkxPR19UQUJMRSIsIkVYUF9UQUJMRSIsInJhdGlvIiwiUlNfQkxPQ0tfVEFCTEUiLCJyc0Jsb2NrIiwiZ2V0UnNCbG9ja1RhYmxlIiwibGlzdCIsImJ1ZkluZGV4IiwiYml0Iiwic3ZnRHJhd2VyIiwiRHJhd2luZyIsImh0T3B0aW9uIiwiX2VsIiwiX2h0T3B0aW9uIiwiZHJhdyIsIm9RUkNvZGUiLCJtYWtlU1ZHIiwidGFnIiwiYXR0cnMiLCJjcmVhdGVFbGVtZW50TlMiLCJuQ291bnQiLCJjbGVhciIsInN2ZyIsInZpZXdCb3giLCJmaWxsIiwiY29sb3JMaWdodCIsInNldEF0dHJpYnV0ZU5TIiwiY29sb3JEYXJrIiwiY2hpbGQiLCJoYXNDaGlsZE5vZGVzIiwibGFzdENoaWxkIiwiQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwibldpZHRoIiwibkhlaWdodCIsImFIVE1MIiwiZWxUYWJsZSIsIm5MZWZ0TWFyZ2luVGFibGUiLCJvZmZzZXRXaWR0aCIsIm5Ub3BNYXJnaW5UYWJsZSIsIm9mZnNldEhlaWdodCIsIl9vbk1ha2VJbWFnZSIsIl9lbEltYWdlIiwiX2VsQ2FudmFzIiwidG9EYXRhVVJMIiwiX2FuZHJvaWQiLCJmYWN0b3IiLCJkZXZpY2VQaXhlbFJhdGlvIiwiZHJhd0ltYWdlIiwiaW1hZ2UiLCJzeCIsInN5Iiwic3ciLCJzaCIsImR4IiwiZHkiLCJkdyIsImRoIiwiX2JJc1BhaW50ZWQiLCJfb0NvbnRleHQiLCJnZXRDb250ZXh0IiwiX2JTdXBwb3J0RGF0YVVSSSIsIm5Sb3VuZGVkV2lkdGgiLCJuUm91bmRlZEhlaWdodCIsImJJc0RhcmsiLCJuTGVmdCIsIm5Ub3AiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsImZpbGxTdHlsZSIsImZpbGxSZWN0Iiwic3Ryb2tlUmVjdCIsIm1ha2VJbWFnZSIsImZTdWNjZXNzIiwiZkZhaWwiLCJfZkZhaWwiLCJfZlN1Y2Nlc3MiLCJmT25FcnJvciIsIm9uYWJvcnQiLCJpc1BhaW50ZWQiLCJjbGVhclJlY3QiLCJuTnVtYmVyIiwidk9wdGlvbiIsImNvcnJlY3RMZXZlbCIsInVzZVNWRyIsIl9vUVJDb2RlIiwiX29EcmF3aW5nIiwibWFrZUNvZGUiLCJ0aXRsZSIsIkNvcnJlY3RMZXZlbCIsInJvb3QiLCJUaW55QW5pbWF0ZSIsInVwZGF0ZSIsImVhc2luZyIsImxvb3AiLCJ0aW1lc3RhbXAiLCJjYW5jZWxlZCIsInRpbWUiLCJEYXRlIiwiY2hhbmdlIiwickFGIiwiZWFzaW5ncyIsImxpbmVhciIsInBlcmZvcm1hbmNlIiwiY2FuY2VsIiwiYW5pbWF0ZUNTUyIsInByb3BlcnR5IiwidW5pdCIsImFuaW1hdGlvbiIsImVhc2VJblF1YWQiLCJlYXNlT3V0UXVhZCIsImVhc2VJbk91dFF1YWQiLCJlYXNlSW5DdWJpYyIsImVhc2VPdXRDdWJpYyIsImVhc2VJbk91dEN1YmljIiwiZWFzZUluUXVhcnQiLCJlYXNlT3V0UXVhcnQiLCJlYXNlSW5PdXRRdWFydCIsImVhc2VJblF1aW50IiwiZWFzZU91dFF1aW50IiwiZWFzZUluT3V0UXVpbnQiLCJlYXNlSW5TaW5lIiwiY29zIiwiUEkiLCJlYXNlT3V0U2luZSIsInNpbiIsImVhc2VJbk91dFNpbmUiLCJlYXNlSW5FeHBvIiwicG93IiwiZWFzZU91dEV4cG8iLCJlYXNlSW5PdXRFeHBvIiwiZWFzZUluQ2lyYyIsInNxcnQiLCJlYXNlT3V0Q2lyYyIsImVhc2VJbk91dENpcmMiLCJlYXNlSW5FbGFzdGljIiwicCIsImFzaW4iLCJlYXNlT3V0RWxhc3RpYyIsImVhc2VJbk91dEVsYXN0aWMiLCJlYXNlSW5CYWNrIiwiZWFzZU91dEJhY2siLCJlYXNlSW5PdXRCYWNrIiwiZWFzZUluQm91bmNlIiwiZWFzZU91dEJvdW5jZSIsImVhc2VJbk91dEJvdW5jZSIsImdsb2JhbCIsIkltcGV0dXMiLCJnZXRQYXNzaXZlU3VwcG9ydGVkIiwicGFzc2l2ZVN1cHBvcnRlZCIsImVyciIsImJvdW5jZURlY2VsZXJhdGlvbiIsImJvdW5jZUFjY2VsZXJhdGlvbiIsIl9yZWYiLCJjYWxsVXBkYXRlQ2FsbGJhY2siLCJ1cGRhdGVDYWxsYmFjayIsInNvdXJjZUVsIiwidGFyZ2V0WCIsInRhcmdldFkiLCJub3JtYWxpemVFdmVudCIsImV2IiwiaWRlbnRpZmllciIsIm9uRG93biIsInBvaW50ZXJBY3RpdmUiLCJwYXVzZWQiLCJkZWNlbGVyYXRpbmciLCJwb2ludGVySWQiLCJwb2ludGVyTGFzdFgiLCJwb2ludGVyQ3VycmVudFgiLCJwb2ludGVyTGFzdFkiLCJwb2ludGVyQ3VycmVudFkiLCJ0cmFja2luZ1BvaW50cyIsImFkZFRyYWNraW5nUG9pbnQiLCJvbk1vdmUiLCJvblVwIiwic3RvcFRyYWNraW5nIiwidGlja2luZyIsInJlcXVlc3RBbmltRnJhbWUiLCJ1cGRhdGVBbmRSZW5kZXIiLCJmaXJzdFBvaW50IiwibGFzdFBvaW50IiwieE9mZnNldCIsInlPZmZzZXQiLCJEIiwibXVsdGlwbGllciIsImRlY1ZlbFgiLCJkZWNWZWxZIiwiZGlmZiIsImNoZWNrQm91bmRzIiwiaW5Cb3VuZHMiLCJzdGVwRGVjZWxBbmltIiwic3RhcnREZWNlbEFuaW0iLCJwb2ludGVyQ2hhbmdlWCIsInBvaW50ZXJDaGFuZ2VZIiwiYm91bmNlIiwiZHJhZ091dE9mQm91bmRzTXVsdGlwbGllciIsInZhbCIsInJlc3RyaWN0IiwieERpZmYiLCJ5RGlmZiIsImJvdW5kWG1pbiIsImJvdW5kWG1heCIsImJvdW5kWW1pbiIsImJvdW5kWW1heCIsImZyaWN0aW9uIiwic3RvcFRocmVzaG9sZCIsImFkanVzdCIsIl9yZWYkc291cmNlIiwiX3JlZiRtdWx0aXBsaWVyIiwiX3JlZiRmcmljdGlvbiIsImluaXRpYWxWYWx1ZXMiLCJib3VuZFgiLCJib3VuZFkiLCJfcmVmJGJvdW5jZSIsInBhdXNlIiwicmVzdW1lIiwic2V0VmFsdWVzIiwic2V0TXVsdGlwbGllciIsInNldEJvdW5kWCIsInNldEJvdW5kWSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsInZpZXciLCJwcm90b1Byb3AiLCJlbGVtQ3RyUHJvdG8iLCJvYmpDdHIiLCJzdHJUcmltIiwiYXJySW5kZXhPZiIsIkRPTUV4IiwibWVzc2FnZSIsIkRPTUV4Y2VwdGlvbiIsImNoZWNrVG9rZW5BbmRHZXRJbmRleCIsInRva2VuIiwiQ2xhc3NMaXN0IiwidHJpbW1lZENsYXNzZXMiLCJjbGFzc2VzIiwiX3VwZGF0ZUNsYXNzTmFtZSIsImNsYXNzTGlzdFByb3RvIiwiY2xhc3NMaXN0R2V0dGVyIiwidXBkYXRlZCIsInRvZ2dsZSIsImZvcmNlIiwicmVzdWx0IiwiY2xhc3NMaXN0UHJvcERlc2MiLCJleCIsIm51bWJlciIsIl9fZGVmaW5lR2V0dGVyX18iLCJ0ZXN0RWxlbWVudCIsImNyZWF0ZU1ldGhvZCIsIm9yaWdpbmFsIiwiRE9NVG9rZW5MaXN0IiwiX3RvZ2dsZSIsImNvbW1vbkV2ZW50TG9vcCIsImN1cnJlbnRUYXJnZXQiLCIkaGFuZGxlcnMiLCJzeW50aGV0aWMiLCJoYW5kbGVyIiwiY29udGludWVQcm9wYWdhdGlvbiIsImhhbmRsZXJzIiwiZXZ0IiwiZXZlbnRQaGFzZSIsImVucmljaCIsImhhbmRsZUV2ZW50Iiwic3RvcHBlZEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwic3RvcHBlZFByb3BhZ2F0aW9uIiwiZGlzcGF0Y2hFdmVudCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJjb21tb25EZXNjcmlwdG9yIiwiY29tbW9uVGV4dENvbnRlbnQiLCJwcm90b0Rlc3QiLCJwcm90b1NvdXJjZSIsImRlc2NyaXB0b3IiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ0ZXh0Q29udGVudCIsImFycmF5IiwiZ2V0VGV4dENvbnRlbnQiLCJ0ZXh0Tm9kZSIsImFycmF5Q29udGVudCIsIm5vZGVUeXBlIiwibmV4dFNpYmxpbmciLCJvbmtleXVwIiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJzcmNFbGVtZW50IiwiZnJvbUVsZW1lbnQiLCJvblJlYWR5U3RhdGUiLCJSRUFEWUVWRU5URElTUEFUQ0hFRCIsInJlYWR5U3RhdGVPSyIsInJlYWR5U3RhdGUiLCJkZXRhY2hFdmVudCIsIk9OUkVBRFlTVEFURUNIQU5HRSIsIkRPTUNPTlRFTlRMT0FERUQiLCJnZXR0ZXIiLCJhdHRyIiwiaHRtbCIsInNldFRleHRDb250ZW50IiwidmVyaWZ5IiwidGltZVN0YW1wIiwiZ2V0VGltZSIsIkRVTk5PQUJPVVRET01MT0FERUQiLCJTRUNSRVQiLCJyYW5kb20iLCJvYmplY3QiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVzY3JpcHRvcnMiLCJvX08iLCJsb2ciLCJFbGVtZW50UHJvdG90eXBlIiwiVGV4dFByb3RvdHlwZSIsIlRleHQiLCJwb3NzaWJseU5hdGl2ZUV2ZW50IiwidHlwZXMiLCJ2YWx1ZURlc2MiLCJIVE1MQ29tbWVudEVsZW1lbnQiLCJIVE1MU2NyaXB0RWxlbWVudCIsIkhUTUxUaXRsZUVsZW1lbnQiLCJIVE1MU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsIkNTU1N0eWxlU2hlZXQiLCJvcGFjaXR5cmUiLCJDU1NTdHlsZURlY2xhcmF0aW9uIiwibSIsInpvb20iLCJmb3VuZCIsImZpcnN0RWxlbWVudENoaWxkIiwibGFzdEVsZW1lbnRDaGlsZCIsIm9uaW5wdXQiLCJfb25pbnB1dCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJwcmV2aW91c1NpYmxpbmciLCJuZXh0RWxlbWVudFNpYmxpbmciLCJjaGlsZEVsZW1lbnRDb3VudCIsImNhcHR1cmUiLCJvbnR5cGUiLCJ0ZW1wbGUiLCJjdXJyZW50VHlwZSIsInciLCJjcmVhdGVFdmVudE9iamVjdCIsIm1laCIsInZhbGlkIiwiWE1MSHR0cFJlcXVlc3QiLCJidXR0b25HZXR0ZXIiLCJFdmVudCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwicmV0dXJuVmFsdWUiLCJjYW5jZWxCdWJibGUiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJfcGFnZVgiLCJzY3JvbGxYIiwiX3BhZ2VZIiwic2Nyb2xsWSIsIndoaWNoIiwia2V5Q29kZSIsImJ1dHRvbiIsImNoYXJDb2RlIiwidW5kZWYiLCJ0b0VsZW1lbnQiLCJIVE1MRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsInBhcmVudFdpbmRvdyIsImdvbm5hIiwiZG9TY3JvbGwiLCJDbGFzcyIsIldpbmRvdyIsIkNvbXB1dGVkU3R5bGUiLCJfIiwiUHNldWRvQ29tcHV0ZWRTdHlsZSIsIm5vdHBpeGVsIiwicmUiLCJwbGFjZSIsIiQxIiwidG9VcHBlckNhc2UiLCJnZXRQcm9wZXJ0eVZhbHVlIiwicnRMZWZ0IiwiY3VycmVudFN0eWxlIiwicGl4ZWxMZWZ0IiwicHNldWRvIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0Iiwic3R5bGVTaGVldHMiLCJIVE1MNUVsZW1lbnQiLCJjcmVhdGVTdHlsZVNoZWV0IiwiYWRkUnVsZSIsImxhc3RUaW1lIiwidmVuZG9ycyIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY3VyclRpbWUiLCJ0aW1lVG9DYWxsIiwiUmlkZVN0eWxlclNob3djYXNlIiwiYXV0aCIsInZhbGlkYXRlIiwic2V0dGluZ3MiLCJzZXR0aW5nc18xIiwicGFyc2VCb29sZWFuIiwiYm9vbGVhbiIsImZpcnN0Q2hhciIsImRlZmF1bHRTZXR0aW5ncyIsIkVuYWJsZVNoYXJpbmciLCJTdXNwZW5zaW9uUmFuZ2VzIiwiRGVmYXVsdCIsIk1pbiIsIk1heCIsIlRydWNrNFdEIiwiVmFuNFdEIiwiVXNlUmF3VGlyZURlc2NyaXB0aW9uIiwiZ2V0U2V0dGluZ3MiLCJQcm9taXNlSGVscGVyIiwidGhlbiIsIktleXMiLCJTZXR0aW5ncyIsInN1c3BlbnNpb25SYW5nZXNTZXR0aW5nIiwiSlNPTiIsInBhcnNlIiwicGFyc2VTdXNwZW5zaW9uUmFuZ2VzIiwiaXNBdXRoZW50aWNhdGVkIiwiYXV0aGVudGljYXRlZCIsImluaXRpYWxpemUiLCJVc2VybmFtZSIsInVzZXJuYW1lIiwiUGFzc3dvcmQiLCJwYXNzd29yZCIsImVudmlyb25tZW50IiwiRW52aXJvbm1lbnQiLCJBbHBoYSIsIkJldGEiLCJMaXZlIiwiT3RoZXIiLCJmYWlsIiwiYWZ0ZXJBdXRoZW50aWNhdGVkIiwiZ2V0VVJMIiwiX2NyZWF0ZUNsYXNzIiwicHJvcHMiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJFdmVudEhhbmRsZXIiLCJldmVudEhhbmRsZXJzIiwiQXJyYXlIZWxwZXIiLCJkZWJ1Z0NhbGxiYWNrIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJfc3RlcCIsIl9pdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImV2ZW50SGFuZGxlciIsInJldHVybiIsImZpbHRlcnNfMSIsIkZpbHRlckNvbnRyb2xsZXIiLCJnbG9iYWxGaWx0ZXJzIiwiR2xvYmFsRmlsdGVyUHJvdmlkZXIiLCJ0aXJlRmlsdGVycyIsIlRpcmVGaWx0ZXJQcm92aWRlciIsIndoZWVsRmlsdGVycyIsIldoZWVsRmlsdGVyUHJvdmlkZXIiLCJ2ZWhpY2xlIiwiY2xlYXJGaWx0ZXJzIiwic2V0VmVoaWNsZSIsInRyaWdnZXJDaGFuZ2UiLCJGaWx0ZXJQcm92aWRlciIsImdsb2JhbEZpbHRlclByb3ZpZGVyIiwiY3VycmVudEZpbHRlcnMiLCJvbkZpbHRlcnNDaGFuZ2VkIiwiZ2V0RmlsdGVycyIsImZpbHRlclZhbHVlcyIsImZpbHRlcnMiLCJiYXNlRmlsdGVycyIsImZpbHRlclZhbHVlIiwic2V0RmlsdGVyIiwiT2JqZWN0SGVscGVyIiwiYXNzaWduIiwicmV0cmlldmVPcHRpb25zIiwiZmlsdGVyT3B0aW9uIiwiZmluZEZpbHRlck9wdGlvbiIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yIiwiX2RpZEl0ZXJhdG9yRXJyb3IyIiwiX2l0ZXJhdG9yRXJyb3IyIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsImZpbHRlck9wdGlvbnMiLCJzZWxlY3RlZEZpbHRlcnNPcktleSIsIm5ld0ZpbHRlcnMiLCJzZWxlY3RlZEZpbHRlcnMiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyIsIl9kaWRJdGVyYXRvckVycm9yMyIsIl9pdGVyYXRvckVycm9yMyIsIl9zdGVwMyIsIl9pdGVyYXRvcjMiLCJzZWxlY3RlZEZpbHRlciIsIl92YWx1ZSIsImhhc0NoYW5nZWQiLCJuZXdGaWx0ZXJWYWx1ZSIsInRyaWdnZXJGaWx0ZXJDaGFuZ2UiLCJ2ZWhpY2xlQ29uZmlnRmlsdGVyS2V5IiwiX0ZpbHRlclByb3ZpZGVyIiwiX3RoaXMiLCJnZXRQcm90b3R5cGVPZiIsIkhhc0ZpdG1lbnRzIiwidmlzaWJsZSIsInZlaGljbGVDb25maWd1cmF0aW9uSUQiLCJ2ZWhpY2xlVGlyZU9wdGlvbklEIiwiVmVoaWNsZVRpcmVPcHRpb24iLCJfRmlsdGVyUHJvdmlkZXIyIiwiX3RoaXMyIiwiUmVxdWlyZWRGaXRtZW50UmVzb3VyY2VUeXBlcyIsImxhYmVsIiwic3RyaW5ncyIsImdldFN0cmluZyIsInVuc2VsZWN0ZWRPcHRpb25MYWJlbCIsIkJyYW5kcyIsImJyYW5kIiwiVGlyZUJyYW5kTmFtZSIsIlRpcmVCcmFuZElEIiwiZ2V0VmFsdWVGcm9tRmlsdGVycyIsIlRpcmVCcmFuZCIsInRpcmVCcmFuZElEIiwiQXR0cmlidXRlcyIsImF0dHJpYnV0ZSIsIlRpcmVNb2RlbEF0dHJpYnV0ZU5hbWUiLCJUaXJlTW9kZWxBdHRyaWJ1dGVJRCIsIlJlcXVpcmVkVGlyZU1vZGVsQXR0cmlidXRlIiwiYXR0cmlidXRlSUQiLCJTcGVlZFJhdGluZ3MiLCJUaXJlU3BlZWRSYXRpbmdDb2RlIiwiVGlyZVNwZWVkUmF0aW5nSUQiLCJTcGVlZFJhdGluZyIsInNwZWVkUmF0aW5nSUQiLCJDb3VudCIsIl9GaWx0ZXJQcm92aWRlcjMiLCJfdGhpczMiLCJGaXRtZW50UmVzb3VyY2VUeXBlcyIsIldoZWVsQnJhbmROYW1lIiwiV2hlZWxCcmFuZElEIiwiV2hlZWxCcmFuZCIsIndoZWVsQnJhbmRJRCIsIkZpbmlzaGVzIiwiZmluaXNoQ2F0ZWdvcnkiLCJXaGVlbEZpbmlzaENhdGVnb3J5TmFtZSIsIldoZWVsRmluaXNoQ2F0ZWdvcnlJRCIsIldoZWVsRmluaXNoQ2F0ZWdvcnkiLCJ3aGVlbEZpbmlzaENhdGVnb3J5SUQiLCJEaWFtZXRlcnMiLCJkaWFtZXRlciIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240IiwiX2RpZEl0ZXJhdG9yRXJyb3I0IiwiX2l0ZXJhdG9yRXJyb3I0IiwiX3N0ZXA0IiwiX2l0ZXJhdG9yNCIsIkZpdG1lbnRGaWx0ZXJzIiwiZml0bWVudEZpbHRlciIsIkdyb3VwS2V5IiwiZml0bWVudEZpbHRlckdyb3VwS2V5IiwiZ2V0Rml0bWVudEZpbHRlclZhbHVlIiwiZml0bWVudEZpbHRlcnMiLCJleGlzdGluZ0ZpdG1lbnRGaWx0ZXJHcm91cCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241IiwiX2RpZEl0ZXJhdG9yRXJyb3I1IiwiX2l0ZXJhdG9yRXJyb3I1IiwiX3N0ZXA1IiwiX2l0ZXJhdG9yNSIsImFwcGxpZWRGaXRtZW50RmlsdGVyIiwiYXBwbHlGaXRtZW50RmlsdGVyIiwiRGlhbWV0ZXIiLCJTdGF0ZXMiLCJzdGF0ZV8xIiwiU3RhdGVDYWxsYmFja1JlZ2lzdGVyIiwiZXhpdENhbGxiYWNrcyIsImVudGVyQ2FsbGJhY2tzIiwiY3VycmVudFN0YXRlIiwibmV3U3RhdGUiLCJleGl0Q2FsbGJhY2siLCJvbGRTdGF0ZSIsImVudGVyQ2FsbGJhY2siLCJSaWRlU3R5bGVyU2hvd2Nhc2VTdGF0ZSIsImluaXRpYWxTdGF0ZSIsImN1cnJlbnREYXRhIiwiY3VycmVudFZlaGljbGVDb25maWd1cmF0aW9uSUQiLCJjdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uIiwidmVoaWNsZUhhc0FuZ2xlZEltYWdlIiwidmVoaWNsZUhhc1NpZGVJbWFnZSIsImN1cnJlbnRWZWhpY2xlVGlyZU9wdGlvbkRlc2NyaXB0aW9uIiwiY3VycmVudFZlaGljbGVUaXJlT3B0aW9uSUQiLCJjdXJyZW50UGFpbnRTY2hlbWUiLCJjdXJyZW50VGlyZSIsImN1cnJlbnRXaGVlbCIsImN1cnJlbnRXaGVlbEZpdG1lbnQiLCJjdXJyZW50VGlyZU9wdGlvbiIsImN1cnJlbnRWZWhpY2xlRGVzY3JpcHRpb25Nb2RlbCIsImNhbGxiYWNrcyIsImNoYW5nZUNhbGxiYWNrcyIsImRhdGFDaGFuZ2VkQ2FsbGJhY2tzIiwiYmVmb3JlQ2FsbGJhY2tzIiwiYWZ0ZXJDYWxsYmFja3MiLCJkYXRhQ2hhbmdlZENhbGxiYWNrIiwiYmVmb3JlIiwiX2NhbGxiYWNrIiwiZGF0YUV4dGVuc2lvbiIsImN1cnJlbnRWYWx1ZSIsIm5ld1ZhbHVlIiwic2V0RGF0YSIsImNhbGxiYWNrc0ZvclN0YXRlIiwicHJldmlvdXNTdGF0ZSIsInN0YXRlQ2hhbmdlZEV2ZW50IiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYiLCJfZGlkSXRlcmF0b3JFcnJvcjYiLCJfaXRlcmF0b3JFcnJvcjYiLCJfc3RlcDYiLCJfaXRlcmF0b3I2IiwidHJpZ2dlckV4aXRDYWxsYmFja3MiLCJ0cmlnZ2VyRW50ZXJDYWxsYmFja3MiLCJkZWZhdWx0TGFuZ3VhZ2VGb3JtYXRQcm92aWRlciIsImN1cnJlbmN5Iiwic3ltYm9sIiwidG9Mb2NhbGVTdHJpbmciLCJMYW5ndWFnZUtleXMiLCJMYW5ndWFnZVJlZ2lzdGVyIiwibGFuZ3VhZ2UiLCJkZWZhdWx0TGFuZ3VhZ2UiLCJsYW5ndWFnZVJlZ2lzdGVycyIsImdldExhbmd1YWdlIiwibGFuZ3VhZ2VLZXkiLCJyZWdpc3Rlckxhbmd1YWdlIiwic2V0QXNEZWZhdWx0IiwibGFuZ3VhZ2VSZWdpc3RlciIsInNldERlZmF1bHRMYW5ndWFnZSIsImxhbmd1YWdlSXNSZWdpc3RlcmVkIiwic3RyaW5nIiwid2lkdGhCcmVha3BvaW50cyIsIlN0eWxlTWFuYWdlciIsImluaXRpYWxpemVkIiwiaW5pdGlhbGl6ZUJyZWFrcG9pbnRzIiwid2F0Y2hTaXplIiwiaW5pdGlhbGl6ZUNTUyIsInJlc29sdmVPbkRPTUxvYWQiLCJpbml0aWFsaXplU3R5bGVDbGFzc2VzIiwiU3R5bGVIZWxwZXIiLCJpc09mZnNldFBvc2l0aW9uZWQiLCJjb250YWluZXJEb2N1bWVudCIsImhlYWQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImluc2VydEJlZm9yZSIsInN0eWxlc2hlZXQiLCJjc3MiLCJIVE1MSGVscGVyIiwiZmlyc3RDaGlsZFdpdGhUYWciLCJpc1RvdWNoRGV2aWNlIiwiYXBwbHlCcmVha3BvaW50Q2xhc3NlcyIsImdldERvY3VtZW50IiwiZ2V0V2luZG93Iiwib25SZXNpemUiLCJvblJlc2l6ZWQiLCJuZXdCcmVha3BvaW50Iiwib25CcmVha3BvaW50Q2hhbmdlZCIsInRpbWVyIiwiZWxlbWVudFNpemUiLCJuZXdFbGVtZW50U2l6ZSIsInJlc2l6ZSIsInJlc2l6ZWQiLCJjdXJyZW50QnJlYWtwb2ludCIsIm9yaWdpbmFsQ2xhc3NOYW1lIiwiYnJlYWtwb2ludENoYW5nZWQiLCJSaWRlU3R5bGVyU2hvd2Nhc2VJbnN0YW5jZSIsImFjdGl2ZUxvYWRpbmdTZXNzaW9uS2V5cyIsImRlYnVnIiwib3RoZXJDb21wb25lbnRzIiwiUmlkZVN0eWxlclNob3djYXNlQmFja2dyb3VuZCIsInN0YXRlQ29tcG9uZW50TWFwcGluZyIsIkNob29zZVZlaGljbGUiLCJSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlU2VsZWN0aW9uIiwiVmlzdWFsaXplIiwiUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb24iLCJtYWluQ29tcG9uZW50cyIsInJpZGVzdHlsZXJTaG93Y2FzZSIsImluaXRpYWxpemVTdGF0ZSIsInJlZ2lzdGVyQ29tcG9uZW50cyIsImluaXRpYWxpemVTdHlsZSIsImluaXRpYWxpemVGaWx0ZXJzIiwiaW5pdGlhbGl6ZUNvbXBvbmVudHMiLCJzZWxlY3Rpb24iLCJjaGFuZ2VTdGF0ZSIsInNldHRpbmdzUmV0cmlldmVkIiwic2V0dGluZ3NGcm9tQVBJIiwiYWxsIiwidHJpZ2dlciIsIm9uU3RhdGVDaGFuZ2VkIiwiZmluaXNoZWQiLCJmaW5pc2hlZFN0cmluZyIsInN0YXRlQ2hhbmdlIiwib25DaGFuZ2UiLCJfdGhpczQiLCJjb21wb25lbnQiLCJfY29tcG9uZW50Iiwic2V0VmlzaWJsZSIsInVwZGF0ZUN1cnJlbnRDb21wb25lbnQiLCJuZXdDb21wb25lbnQiLCJvbGRDb21wb25lbnQiLCJzdGF0ZUNsYXNzUHJlZml4IiwiaXNWaXNpYmxlIiwiaGlkZSIsInNob3ciLCJDb21wb25lbnRCYXNlIiwic2hvd2Nhc2VJbnN0YW5jZSIsInNob3djYXNlIiwiaW5pdGlhbGl6ZUNvbXBvbmVudCIsIk1haW5Db21wb25lbnRCYXNlIiwiX1JpZGVTdHlsZXJTaG93Y2FzZSRDIiwidHJhbnNpdGlvbnNTdXBwb3J0ZWQiLCJ0cmFuc2l0aW9uRW5kRXZlbnQiLCJvblRyYW5zaXRpb25FbmQiLCJidWlsZENvbXBvbmVudCIsImluaXRpYWxpemVNYWluQ29tcG9uZW50IiwiX3Zpc2libGUiLCJzZXRWaXNpYmxlU3R5bGluZyIsInNraXBUcmFuc2l0aW9uIiwidmlzaWJpbGl0eSIsIl9hbmltYXRpbmciLCJvbk5leHRUcmFuc2l0aW9uRW5kIiwiY2FsbFdoZW5Eb25lQW5pbWF0aW5nIiwib25TaG93IiwidHJpZ2dlclJlZmxvdyIsIm9uRGlzcGxheSIsIm9uU2hvd24iLCJfdGhpczUiLCJvbkhpZGUiLCJvbkhpZGRlbiIsIl9zbGljZWRUb0FycmF5IiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsIl9zIiwiX2kiLCJzbGljZUl0ZXJhdG9yIiwiX3R5cGVvZiIsIm9iaiIsImRlZmF1bHRTaXplIiwibWluaW11bVNpemUiLCJtYXhpbXVtU2l6ZSIsImRlZmF1bHRQb3NpdGlvbiIsIlJlc2l6ZWFibGVSZXNvdXJjZUltYWdlIiwicmVzaXplQ2FsbGJhY2siLCJ0cmFuc2l0aW9uQ2xhc3MiLCJ1c2VUcmFuc2l0aW9ucyIsInRyYW5zaXRpb25JbkNsYXNzIiwiY2FsY3VsYXRlUGFkZGluZyIsImltYWdlTG9hZENhbGxiYWNrIiwib25Mb2FkIiwiaW1hZ2VFcnJvckNhbGxiYWNrIiwib25FcnJvciIsIm9uSW1hZ2VFcnJvciIsIm9uSW1hZ2VMb2FkIiwiYmFzZUluc3RydWN0aW9ucyIsImxvYWRJbml0aWFsbHkiLCJsaXN0ZW5Ub1dpbmRvd1Jlc2l6ZSIsInRpbWVvdXQiLCJyZWdpc3RlcmVkRXZlbnQiLCJfcmVnaXN0ZXJlZEV2ZW50IiwibGlzdGVuZXIiLCJlcnJvckV2ZW50IiwiVmlzaWJpbGl0eUhlbHBlciIsImltYWdlRGlzcGxheUNhbGxiYWNrIiwiX2NvbnRhaW5lciIsImRldGVjdGVkU2l6ZSIsInBpeGVsUmF0aW8iLCJCb3hIZWxwZXIiLCJib3VuZCIsImJveCIsImN1cnJlbnRTaXplIiwiX2N1cnJlbnRTaXplIiwidGhpc1dpZHRoIiwidGhpc0hlaWdodCIsImJveFdpZHRoIiwiYm94SGVpZ2h0IiwibmVlZHNVcGRhdGUiLCJyZW5kZXJTaXplIiwiY2FsY3VsYXRlUmVuZGVyU2l6ZSIsInNpemVJc0RpZmZlcmVudCIsIl9jdXJyZW50U2l6ZTIiLCJiYWNrZ3JvdW5kRWxlbWVudCIsImFwcGVuZFRvIiwib3B0aW9uQ2xhc3MiLCJhY3RpdmVDbGFzcyIsIlJpZGVTdHlsZXJTaG93Y2FzZUJ1dHRvblBpY2tlciIsIm9wdGlvbkNvbnRhaW5lciIsIm9uT3B0aW9uQ2xpY2siLCJlbXB0eSIsImZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsIm9wdGlvbiIsIm9wdGlvbkVsZW1lbnQiLCJjaGlsZHJlbldpdGhDbGFzc2VzIiwib3B0aW9uU2VsZWN0ZWRDYWxsYmFjayIsIlJpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZSIsIl9SaWRlU3R5bGVyU2hvd2Nhc2UkUiIsImZpdG1lbnRzIiwiYWN0aXZlRml0bWVudCIsInNlZW5EaWFtZXRlcnMiLCJkaWFtZXRlckZpdG1lbnRzIiwiZml0bWVudCIsIkRpYW1ldGVyTWluIiwic2V0T3B0aW9ucyIsImRpYW1ldGVyRml0bWVudCIsIm1vZGFsQ2xhc3MiLCJiYWNrZHJvcENsYXNzIiwiUmlkZVN0eWxlclNob3djYXNlTW9kYWwiLCJjcmVhdGVCYWNrZHJvcElmTmVlZGVkIiwiYnVpbGRNb2RhbCIsInNldFZpc2liaWxpdHkiLCJwYXJlbnQiLCJmdWxsIiwiYnVpbGRBY3Rpb25zIiwiYWN0aW9uQ29udGFpbmVyIiwiX2xvb3AiLCJjcmVhdGVCdXR0b24iLCJyZW1vdmVPbkhpZGRlbiIsImhhc0NoaWxkV2l0aENsYXNzIiwiUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcCIsIl9SaWRlU3R5bGVyU2hvd2Nhc2UkQzIiLCJfdGhpczYiLCJidWlsZEJhY2tkcm9wIiwiX3RoaXM3IiwiY3JlYXRlRWxlbWVudFdpdGhDbGFzcyIsInRvcFZpc2libGVNb2RhbCIsImxhc3RTaWJsaW5nV2l0aENsYXNzIiwiX3RoaXM4IiwiaGFzU2libGluZ1dpdGhDbGFzcyIsIm9wdGlvbk1lbnVDbGFzcyIsIm9wdGlvbk1lbnVPcHRpb25DbGFzcyIsIm9wdGlvbk1lbnVPcHRpb25BY3RpdmVDbGFzcyIsIm9wdGlvbk1lbnVMb2FkaW5nQ2xhc3MiLCJSaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51IiwiY2xpY2tFdmVudCIsIm9uQ2xpY2tlZCIsInNldExvYWRpbmciLCJsb2FkaW5nIiwiZ2VuZXJhdGVPcHRpb25FbGVtZW50IiwiY2xlYXJPcHRpb25zIiwiYXBwZW5kT3B0aW9ucyIsInByZXZpb3VzbHlTZWxlY3RlZE9wdGlvbiIsImZpcnN0Q2hpbGRXaXRoQ2xhc3MiLCJuZXdTZWxlY3RlZE9wdGlvbiIsIm9wdGlvblNlbGVjdGVkQ2xhc3MiLCJvcHRpb25Mb2FkaW5nQ2xhc3MiLCJvcHRpb25Mb2FkZXJDbGFzcyIsIlJpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQiLCJoYXNNb3JlUmVzdWx0cyIsImlzTG9hZGluZyIsImlzRmlyc3RMb2FkIiwiZW5hYmxlU2hvd05vUmVzdWx0cyIsInByZXZCdXR0b24iLCJhcHBlbmQiLCJjcmVhdGVJY29uIiwibmV4dEJ1dHRvbiIsIm9uQ29tcG9uZW50Q2xpY2siLCJsb2FkTW9yZSIsIlNjcm9sbEhlbHBlciIsImF0dGFjaFdoZWVsTGlzdGVuZXIiLCJkZWx0YSIsImRlbHRhWCIsImRlbHRhWSIsIl9vcHRpb25Db250YWluZXIiLCJzY3JvbGxXaWR0aCIsInRvdWNoU2Nyb2xsSGFuZGxlciIsIm9uU2Nyb2xsIiwiX2xvYWRNb3JlIiwiY2xlYXJPcHRpb25Mb2FkZXIiLCJ1cGRhdGVCb3VuZHMiLCJfb3B0aW9uQ29udGFpbmVyMiIsInVwZGF0ZVBhZ2luYXRpb25CdXR0b25zIiwib25FbmRWaXNpYmxlIiwiYWRkT3B0aW9uTG9hZGVyIiwicHJldmlvdXNQYWdlIiwibmV4dFBhZ2UiLCJkaXNhYmxlZCIsInJlbW92ZUNoaWxkcmVuV2l0aENsYXNzZXMiLCJOb2RlIiwic2hvd05vUmVzdWx0cyIsIm5vUmVzdWx0c0VsZW1lbnQiLCJuZXdMZWZ0Iiwic3RhcnRMZWZ0IiwiY3VycmVudExlZnQiLCJzY3JvbGxUbyIsInNlbGVjdGVkT3B0aW9uIiwib2xkT3B0aW9uRWxlbWVudCIsInNlbGVjdE9wdGlvbiIsIl9nZXQiLCJyZWNlaXZlciIsIkZ1bmN0aW9uIiwiZGVzYyIsIlJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3IiLCJnZXREYXRhIiwiY3JlYXRlT3B0aW9ucyIsIlNjaGVtZXMiLCJzY2hlbWVzIiwic2NoZW1lIiwicGFpbnRTY2hlbWUiLCJjb2xvciIsIkNvbG9ycyIsImJhY2tncm91bmRDb2xvciIsIkhleCIsIlNjaGVtZU5hbWUiLCJjcmVhdGVBdHRyaWJ1dGVMYWJlbCIsImV4dGVuZERhdGEiLCJvblBhaW50U2NoZW1lU2VsZWN0ZWQiLCJhdHRyaWJ1dGVzIiwic3RyaW5nQXR0cmlidXRlcyIsInBvcG92ZXJDbGFzcyIsIlJpZGVTdHlsZXJTaG93Y2FzZVBvcG92ZXIiLCJwcm9kdWN0TW9kYWxDbGFzcyIsInRpdGxlQ2xhc3MiLCJSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0TW9kYWwiLCJ0b2dnbGVCdXR0b24iLCJSaWRlU3R5bGVyU2hvd2Nhc2VUb2dnbGVCdXR0b24iLCJvbkNoYW5nZWQiLCJwYWdlcyIsInBhZ2UiLCJzaG93UGFnZSIsImJyYW5kVGl0bGVFbGVtZW50IiwidGl0bGVFbGVtZW50Iiwic3VidGl0bGVFbGVtZW50Iiwic3VtbWFyeUNvbnRhaW5lciIsImltYWdlQ29udGFpbmVyIiwiY3JlYXRlSW1hZ2UiLCJzdW1tYXJ5RWxlbWVudCIsImFkZFBhZ2UiLCJhZGRPcHRpb24iLCJuZXdQYWdlIiwiUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yIiwicmVzdWx0c1BlckxvYWQiLCJjb3VudFByb21pc2UiLCJyZXNvbHZlZCIsImNvdW50UmVzdWx0cyIsInByb2R1Y3RDb3VudCIsIlN0YXJ0IiwiZ2V0UmVzdWx0cyIsInByb2R1Y3RzIiwiZmlsdGVyVXBkYXRlcyIsInNldEZpbHRlcnMiLCJwcm9kdWN0IiwicHJvZHVjdEZpbHRlciIsImltYWdlU291cmNlIiwicHJvZHVjdEltYWdlU291cmNlIiwicHJvcGVydGllcyIsInByb2R1Y3RJbWFnZUxhYmVscyIsInByaW1hcnkiLCJzZWNvbmRhcnkiLCJ0ZXJ0aWFyeSIsImFkZE9wdGlvbkVsZW1lbnRzIiwib25Qcm9kdWN0Q2xpY2siLCJwcm9kdWN0U2VsZWN0ZWRDYWxsYmFjayIsIlJpZGVTdHlsZXJTaG93Y2FzZVFSQ29kZUNvbXBvbmVudCIsImxpbmsiLCJxckNvZGVFbGVtZW50IiwiZGlzcGxheVVSTCIsInNoYXJlIiwiYnV0dG9uQ2xhc3MiLCJTaGFyZUJ1dHRvbiIsIm9uQ2xpY2siLCJjdXJyZW50VVJMIiwidGFncyIsInNjcmVlbkhlaWdodCIsInNjcmVlbiIsInNjcmVlbldpZHRoIiwid2luZG93U2V0dGluZ3MiLCJhZGRTZXR0aW5nIiwiYWRkQm9vbGVhblNldHRpbmciLCJlbmFibGVkIiwiZW5hYmxlZEJ5RGVmYXVsdCIsImVuYWJsZVNjcm9sbGJhcnMiLCJlbmFibGVSZXNpemVhYmxlIiwiZW5hYmxlVG9vbGJhciIsImVuYWJsZUxvY2F0aW9uIiwib3BlbiIsImFwcFVSTCIsIlR3aXR0ZXJTaGFyZUJ1dHRvbiIsIl9TaGFyZUJ1dHRvbiIsInR3aXR0ZXJJbnRlbnRQYXJhbWV0ZXJzIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwib3Blbk5ld1dpbmRvdyIsIkZhY2Vib29rU2hhcmVCdXR0b24iLCJfU2hhcmVCdXR0b24yIiwiZmFjZWJvb2tEaWFsb2dQYXJhbWV0ZXJzIiwiZ2V0U2hhcmVSZWRpcmVjdFVSTCIsIk5ld1dpbmRvd1NoYXJlQnV0dG9uIiwiX1NoYXJlQnV0dG9uMyIsIlFSU2hhcmVCdXR0b24iLCJfU2hhcmVCdXR0b240IiwicG9wb3ZlciIsInNoYXJlTW9kYWxDbGFzcyIsIlJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwiLCJ2ZWhpY2xlUmVuZGVySW5zdHJ1Y3Rpb25zIiwiaW1hZ2VUeXBlIiwicmVzaXplZENhbGxiYWNrIiwidXBkYXRlVmlld3BvcnQiLCJvbkluc3RydWN0aW9uc0NoYW5nZWQiLCJjcmVhdGVTaGFyZUJ1dHRvbnMiLCJjYW5Td2l0Y2hBbmdsZSIsInJvdGF0ZUVsZW1lbnQiLCJzd2l0Y2hBbmdsZSIsInNoYXJlQnV0dG9ucyIsInNoYXJlQnV0dG9uQ29udGFpbmVyIiwic2hhcmVCdXR0b24iLCJzZXR1cFZpZXdwb3J0IiwidmVoaWNsZVZpZXdwb3J0IiwidXRpbHMiLCJ0b1BhcmFtU3RyaW5nIiwiYXV0aGVudGljYXRlRGF0YSIsInZpZXdwb3J0RWxlbWVudCIsInZpZXdwb3J0VXBkYXRlZCIsIkhhc0FuZ2xlZEltYWdlIiwiSGFzU2lkZUltYWdlIiwiZ2V0U2hhcmVVUkwiLCJzZXRFbmFibGVkIiwiVVJMIiwidXBkYXRlVVJMIiwiU2hvcnRVUkwiLCJzaGFyZVVSTCIsInNoYXJlVGFncyIsInNoYXJlTWVzc2FnZSIsIldoZWVsRml0bWVudCIsInNldFVSTCIsInNldFRhZ3MiLCJzZXRNZXNzYWdlIiwiVHlwZSIsImVsZW1lbnRDbGFzc05hbWUiLCJkZWZhdWx0U3VzcGVuc2lvblJhbmdlIiwiUmlkZVN0eWxlclNob3djYXNlU3VzcGVuc2lvblNlbGVjdG9yIiwidmVoaWNsZURlc2NyaXB0aW9uIiwic3VzcGVuc2lvbk9wdGlvbnMiLCJkZWNpbWFsUGxhY2VzIiwidW5pdEFiYnJldmlhdGlvbiIsInN1c3BlbnNpb25SYW5nZXMiLCJzdXNwZW5zaW9uUmFuZ2VLZXkiLCJTdHlsZVR5cGUiLCJEcml2ZVR5cGUiLCJzdXNwZW5zaW9uUmFuZ2UiLCJmcm9udEFuZFJlYXIiLCJOb1VJU3VzcGVuc2lvbkVsZW1lbnQiLCJzdXNwZW5zaW9uQ2hhbmdlZENhbGxiYWNrIiwic3VzcGVuc2lvbkNoYW5nZUNhbGxiYWNrIiwiU3VzcGVuc2lvbiIsIlN1c3BlbnNpb25VSUVsZW1lbnQiLCJfU3VzcGVuc2lvblVJRWxlbWVudCIsInNsaWRlckVsZW1lbnQiLCJwb3N0Zml4IiwiU3RyaW5nSGVscGVyIiwiZXNjYXBlUmVnRXhwIiwic2xpZGVyIiwiZm9ybWF0dGVkVmFsdWVzIiwib25TdXNwZW5zaW9uQ2hhbmdlZCIsImJhckNsYXNzIiwidGFiQ2xhc3MiLCJ0YWJCYWNrZ3JvdW5kQ2xhc3MiLCJhY3RpdmVUYWJDbGFzcyIsIm1vZGVDbGFzcyIsIlJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhciIsInNldE1vZGUiLCJ1cGRhdGVUYWJEaXNwbGF5IiwidGFicyIsInRhYlBlcmNlbnQiLCJ0YWIiLCJ1cGRhdGVCYWNrZ3JvdW5kUG9seWdvbiIsInRhYnNPclRhYkNyZWF0ZU9wdGlvbnMiLCJUYWIiLCJjb3B5IiwiY3VycmVudFRhYiIsInNldEFjdGl2ZVRhYiIsIm5ld1RhYiIsIm9sZFRhYiIsInRhYlN3aXRjaGVkQ2FsbGJhY2siLCJjdXJyZW50RWxlbWVudCIsIm9uVGFiQ2xpY2siLCJ0YWJGb3JFbGVtZW50IiwiaWNvbkNsYXNzIiwiaWNvbiIsImJhY2tncm91bmRNb2RlIiwid3JhcCIsInN2Z1N1cHBvcnRlZCIsImNyZWF0ZVNWR0VsZW1lbnQiLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwiYmFja2dyb3VuZFBvbHlnb24iLCJ0cmlhbmdsZUhlaWdodCIsInRyaWFuZ2xlV2lkdGgiLCJ0YWJsZUNsYXNzIiwiaGVhZENsYXNzIiwiYm9keUNsYXNzIiwiYm9keUxvYWRpbmdDbGFzcyIsIlJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlIiwiY29sdW1ucyIsInRhYmxlIiwidGhlYWQiLCJ0Ym9keSIsImdlbmVyYXRlSGVhZGVycyIsInJvd3MiLCJhcHBlbmRSb3dzIiwic3RhcnRMb2FkaW5nIiwiY29sdW1uIiwiaGVhZGVyIiwiZ2VuZXJhdGVkSGVhZGVyIiwiaGVhZGVyUm93IiwiZ2VuZXJhdGVIZWFkZXJDZWxsIiwiY2VsbCIsImdlbmVyYXRlZENlbGwiLCJ0ciIsImdlbmVyYXRlUm93Q2VsbCIsInJvd3NGcmFnbWVudCIsImdlbmVyYXRlUm93IiwiZW1wdHlDZWxsU3RyaW5nIiwiUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yIiwic3RhdGVEYXRhIiwic3VwcG9ydGVkVmVoaWNsZUltYWdlcnkiLCJhbmdsZWQiLCJzaWRlIiwiZGVmYXVsdEZpbHRlcnMiLCJIYXNDYXRhbG9nSW1hZ2UiLCJNb2RlbHMiLCJ0aXJlIiwiVGlyZUZpdG1lbnRSZXNvdXJjZVR5cGUiLCJUaXJlTW9kZWwiLCJUaXJlTW9kZWxJRCIsIkluY2x1ZGVTaGFkb3ciLCJUaXJlTW9kZWxOYW1lIiwidG9nZ2xlQnV0dG9uQ2xhc3MiLCJvcHRpb25BY3RpdmVDbGFzcyIsInNlbGVjdE9wdGlvbkVsZW1lbnQiLCJjaGlsZEluZGV4IiwiY2hpbGRPcHRpb25FbGVtZW50IiwiX1JpZGVTdHlsZXJTaG93Y2FzZSRNIiwib25WZWhpY2xlU2VsZWN0ZWQiLCJnZW5lcmF0ZVZlaGljbGVQcmV2aWV3U2V0dGluZ3MiLCJvbkF1dGhlbnRpY2F0ZWQiLCJjb250ZW50Q29udGFpbmVyIiwiYnVpbGRDb3B5IiwiY2hvb3NlVmVoaWNsZUJ1dHRvbiIsImxhcmdlIiwiY3JlYXRlRWxlbWVudFdpdGhJRCIsImVtYm9sZGVuRmlyc3RXb3JkIiwiZmlyc3RXb3JkIiwiZ2V0Rmlyc3RXb3JkIiwicmVtYWluaW5nU3RyaW5nIiwic3Vic3RyIiwiY3JlYXRlRWxlbWVudFdpdGhUZXh0IiwiY3JlYXRlVGV4dEVsZW1lbnQiLCJzaG93V2hlZWxzIiwibW9kZWxzIiwid2hlZWxDb250YWluZXIiLCJtb2RlbEltYWdlcyIsIm9uTW9kZWxJbWFnZUxvYWQiLCJjb21wbGV0ZSIsIm1vZGVsIiwibW9kZWxJbWFnZVNvdXJjZSIsIndoZWVsIiwiV2hlZWxNb2RlbCIsIldoZWVsTW9kZWxJRCIsIldoZWVsRml0bWVudFJlc291cmNlVHlwZSIsIm1vZGVsSW1hZ2UiLCJzY2FsZSIsImN1c3RvbWl6YXRpb25zQ2xhc3MiLCJsb2FkaW5nQ2xhc3MiLCJjdXN0b21pemF0aW9uQ29tcG9uZW50T3JkZXIiLCJjdXN0b21pemF0aW9uQ29tcG9uZW50U2V0dGluZ3MiLCJwYWludCIsInNob3dGaWx0ZXJCdXR0b24iLCJ3aGVlbHMiLCJ0aXJlcyIsInN1c3BlbnNpb24iLCJ1cGRhdGVUYWJMYXlvdXQiLCJjb3VudFRpcmVCcmFuZHMiLCJjb3VudFdoZWVsQnJhbmRzIiwicmVzdWx0cyIsInRpcmVCcmFuZENvdW50Iiwid2hlZWxCcmFuZENvdW50IiwidXBkYXRlVGFicyIsInNldHVwVGFicyIsImNoYW5nZVdoZWVsU2l6ZSIsIm5ld09wdGlvbiIsIldoZWVsRml0bWVudElEIiwiY29tcG9uZW50cyIsInZlaGljbGVEZXRhaWxzIiwiVmVoaWNsZURldGFpbHMiLCJXaGVlbERldGFpbHMiLCJUaXJlRGV0YWlscyIsInRhYkJhciIsImN1c3RvbWl6YXRpb25Db21wb25lbnRDb250YWluZXIiLCJmaWx0ZXJCdXR0b24iLCJza2lubnkiLCJzaG93RmlsdGVycyIsImN1cnJlbnRSZW5kZXJJbnN0cnVjdGlvbnMiLCJwYWludFN3YXRjaENsaWNrQ2FsbGJhY2siLCJzZXRBY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50IiwiY3VzdG9taXphdGlvbkNvbXBvbmVudHMiLCJ2aWV3cG9ydCIsInNldFRhYnMiLCJnZXRDdXJyZW50QnJlYWtwb2ludCIsInZlaGljbGVDaGFuZ2VkIiwiR1VJREhlbHBlciIsImFyZUVxdWFsIiwidGlyZU9wdGlvbkNoYW5nZWQiLCJ2ZWhpY2xlVGlyZU9wdGlvbkRlc2NyaXB0aW9uIiwib25WZWhpY2xlQ2hhbmdlZCIsImNsZWFyQWN0aXZlVGFiIiwiZ2V0VmVoaWNsZURlc2NyaXB0aW9uIiwiZ2V0VmVoaWNsZVRpcmVPcHRpb24iLCJyZXNwb25zZXMiLCJ2ZWhpY2xlRGVzY3JpcHRpb25Nb2RlbCIsIkRlc2NyaXB0aW9ucyIsInZlaGljbGVUaXJlT3B0aW9uIiwic2VsZWN0ZWRUaXJlT3B0aW9uSUQiLCJ0aXJlT3B0aW9uIiwiaW5pdGlhbGl6ZUZvck5ld1ZlaGljbGUiLCJSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yIiwic2V0T3B0aW9uSXNMb2FkaW5nIiwiUGFpbnRDb2xvciIsIkhhc0FuZ2xlSW1hZ2UiLCJGaXRtZW50cyIsImJlc3RGaXRtZW50IiwidGFyZ2V0RGlhbWV0ZXIiLCJJbnNpZGVEaWFtZXRlciIsInNldEZpdG1lbnRPcHRpb25zIiwicmVuZGVyVXBkYXRlIiwiZ2V0VmFsdWVzIiwiY3VzdG9taXphdGlvbkNvbXBvbmVudCIsImNvbXBvbmVudEtleSIsImdldENvbXBvbmVudEtleSIsImFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQiLCJzZXRUZXh0IiwiZmlsdGVyTW9kYWwiLCJSaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbCIsImZpbHRlclByb3ZpZGVyIiwic2hvd0NvdW50VGV4dEZvcm1hdCIsIlJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwiLCJ3aGVlbE1vZGVsIiwiV2hlZWxNb2RlbE5hbWUiLCJXaGVlbE1vZGVsRmluaXNoRGVzY3JpcHRpb24iLCJzdW1tYXJ5VGFibGUiLCJidWlsZFNwZWNzUGFnZSIsIkluY2x1ZGVQcm9tb3Rpb25zIiwiSW5jbHVkZVByaWNpbmciLCJidWlsZFN1bW1hcnlUYWJsZSIsInNwZWNzVGFibGUiLCJhbGxTaXplUHJpY2VDb21iaW5hdGlvbnMiLCJmaXRtZW50UHJpY2UiLCJnZXRGaXRtZW50UmV0YWlsUHJpY2VEYXRhT2JqZWN0IiwiZml0bWVudFByaWNlQW1vdW50IiwiV2hlZWxQcmljaW5nQW1vdW50IiwiV2lkdGhNaW4iLCJwcmljZSIsIldpZHRoTWF4IiwiRGlhbWV0ZXJNYXgiLCJzaXplUHJpY2VSYW5nZXMiLCJzaXplUHJpY2VDb21ibyIsInByaWNlUmFuZ2UiLCJzaXplIiwiSW5maW5pdHkiLCJOdW1iZXJIZWxwZXIiLCJleHRlbmRSYW5nZSIsInN1bW1hcnlUYWJsZVJvd3MiLCJwcmljZUlzVW5zcGVjaWZpZWQiLCJwcmljZVN0cmluZyIsImdldEZpdG1lbnRTaXplRGVzY3JpcHRpb24iLCJmb3JtYXRDZWxsIiwiZ2V0Rml0bWVudFByaWNlIiwiZ2V0Rml0bWVudEl0ZW1OdW1iZXIiLCJzcGVjc0NvbnRhaW5lciIsIlByaWNpbmciLCJub1ByaWNlU3RyaW5nIiwicmV0YWlsUHJpY2VEYXRhT2JqZWN0IiwiaXRlbU51bWJlciIsIldoZWVsUHJpY2luZ0l0ZW1OdW1iZXIiLCJQYXJ0TnVtYmVyIiwiSW5jbHVkZU1ldGFLZXlzIiwidGlyZU5hbWVFbGVtZW50IiwidGlyZURlc2NyaXB0aW9uRWxlbWVudCIsImFmdGVyRGF0YUNoYW5nZSIsIm9uRGF0YUNoYW5nZSIsInZlaGljbGVQYWludFN3YXRjaEVsZW1lbnQiLCJ2ZWhpY2xlRGVzY3JpcHRpb25FbGVtZW50IiwidGlyZVNpemVFbGVtZW50Iiwid2hlZWxOYW1lRWxlbWVudCIsIndoZWVsRGVzY3JpcHRpb25FbGVtZW50Iiwic2hvd1doZWVsTW9kYWwiLCJmaWx0ZXJNb2RhbENsYXNzIiwiZmlsdGVyTW9kYWxNZW51VGl0bGVDbGFzcyIsImJ1aWxkU2hvd0J1dHRvbiIsImJ1aWxkRmlsdGVyTWVudXMiLCJ1cGRhdGVDb3VudCIsInNob3dCdXR0b24iLCJtZW51c0NvbnRhaW5lciIsIm1lbnVMb2FkZWRQcm9taXNlcyIsIm1lbnVzIiwibWVudUxvYWRlZFByb21pc2UiLCJfbWVudSIsInByZXZpZXdGaWx0ZXJzIiwic2V0Q291bnRUZXh0IiwiZ2V0Q291bnQiLCJpdGVtTWF0Y2giLCJuZXdBcnJheSIsIm5ld0FycmF5SW5kZXgiLCJhcnJheUluZGV4IiwibWFwRnVuY3Rpb24iLCJ0aGlzQXJnIiwicmVkdWNlIiwicmVkdWNlciIsImluaXRpYWxWYWx1ZSIsImFjY3VtdWxhdG9yIiwic2NhbGFyIiwiYm91bmRzTWluIiwiYm91bmRzTWF4Iiwic2NhbGVUb01heCIsInNjYWxlVG9NaW4iLCJvY3QiLCJoZXhUb0J5dGUiLCJieXRlVG9IZXgiLCJ1bnBhcnNlIiwiYnRoIiwiaWRBIiwiaWRCIiwiZ3VpZEEiLCJndWlkQiIsImVsZW1lbnRzTWF0Y2hpbmciLCJtYXRjaGluZ0VsZW1lbnRzIiwibWF0Y2hpbmdFbGVtZW50c0luZGV4IiwiZmlyc3RFbGVtZW50TWF0Y2hpbmciLCJsYXN0RWxlbWVudE1hdGNoaW5nIiwiY2hpbGRyZW5NYXRjaGluZyIsImZpcnN0Q2hpbGRNYXRjaGluZyIsIl9sZW4iLCJfa2V5IiwiZmxhdHRlbkNsYXNzTGlzdCIsImhhc0NsYXNzZXMiLCJfbGVuMyIsIl9rZXkzIiwiX2xlbjQiLCJfa2V5NCIsImFwcGx5T3B0aW9ucyIsImh0bWxFbGVtZW50IiwiY2hpbGRFbGVtZW50IiwiX2tleTciLCJfa2V5OCIsInRhZ05hbWVPckRpdk9wdGlvbnMiLCJhcHBlbmREZXNjcmlwdGlvbkxpc3RWYWx1ZXMiLCJkZXNjcmlwdGlvbkxpc3QiLCJkZXNjcmlwdGlvbiIsIl9sZW4yIiwiX2tleTIiLCJfbGVuNSIsIl9rZXk1IiwiX2xlbjYiLCJfa2V5NiIsInNpYmxpbmciLCJ0YWdOYW1lT3JDbGFzc05hbWUiLCJidXR0b25DbGFzc05hbWUiLCJpY29uQ2xhc3NQcmVmaXgiLCJpY29uT3JPcHRpb25zIiwic3RhcnRzV2l0aCIsImNyZWF0ZURlc2NyaXB0aW9uTGlzdCIsIm9uY2UiLCJ1c2VDYXB0dXJlIiwib25jZUxpc3RlbmVyIiwiYXNzaWduT2JqZWN0cyIsImdldEtleXMiLCJvbmZ1bGZpbGxlZCIsIm9ucmVqZWN0ZWQiLCJyZXR1cm5Qcm9taXNlIiwib25mdWxmaWxsZWRSZXN1bHQiLCJpc1Byb21pc2UiLCJleGNlcHRpb24iLCJvbnJlamVjdGVkUmVzdWx0IiwicHJvbWlzZXMiLCJtZXJnZWQiLCJjdXJyZW50UHJvbWlzZSIsIlByb21pc2UiLCJzY3JvbGxFdmVudCIsIm1vdXNld2hlZWxFdmVudFNjYWxlIiwib25tb3VzZXdoZWVsIiwibm9ybWFsaXplZEV2ZW50Iiwib3JpZ2luYWxFdmVudCIsImRlbHRhTW9kZSIsImRlbHRhWiIsIndoZWVsRGVsdGEiLCJ3aGVlbERlbHRhWCIsImVuZHNXaXRoIiwiZW5kaW5nIiwiZW5kaW5nTGVuZ3RoIiwicmVSZWdFeHBDaGFyIiwicmVIYXNSZWdFeHBDaGFyIiwiaGFzR2V0Q29tcHV0ZWRTdHlsZSIsImhhc0N1cnJlbnRTdHlsZVN1cHBvcnQiLCJwYXJzZVBpeGVscyIsInBpeGVscyIsIm1heFRvdWNoUG9pbnRzIiwiY3JlYXRlU1ZHUmVjdCIsIm9mZnNldFBvc2l0aW9uaW5ncyIsInN1YmNsYXNzTGlzdCIsIm9sZFRyYW5zaXRpb24iLCJjbGFzc0FycmF5IiwiX2dldENvbXB1dGVkU3R5bGUiLCJwYWRkaW5nQm90dG9tIiwicGFkZGluZ1RvcCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0IiwicG9pbnRlckV2ZW50cyIsImRlZmF1bHRUcmFuc2l0aW9uSW5DbGFzcyIsIkVuIiwidmVoaWNsZS1zZWxlY3QtdmlzdWFsaXplLWludHJvIiwidmVoaWNsZS1zZWxlY3Qtc2hhcmUtaW50cm8iLCJzZWxlY3QteW91ci12ZWhpY2xlIiwiZnJvbnQiLCJyZWFyIiwidmVoaWNsZS1kZXRhaWxzIiwiY2hhbmdlLXZlaGljbGUiLCJ3aGVlbC1kZXRhaWxzIiwidGlyZS1kZXRhaWxzIiwic2VsZWN0LXBhaW50Iiwic2VsZWN0LXdoZWVscyIsInNlbGVjdC10aXJlcyIsImFkanVzdC1zdXNwZW5zaW9uIiwiY2hhbmdlLXdoZWVsLXNpemUiLCJuby1yZXN1bHRzIiwid2hlZWwtZmVhdHVyZXMtc3BlY3MiLCJzaGFyZS1teS12ZWhpY2xlIiwic2hhcmUtaW5zdHJ1Y3Rpb25zIiwibm8tZGVzY3JpcHRpb24td2hlZWwiLCJzaG93LXNwZWNzIiwiYm9sdC1wYXR0ZXJuIiwiY2VudGVyYm9yZSIsIml0ZW0tbnVtYmVyIiwiYnJhbmRzIiwiZmluaXNoZXMiLCJzaXplcyIsImFsbC1icmFuZHMiLCJhbGwtZmluaXNoZXMiLCJhbGwtc2l6ZXMiLCJmaWx0ZXItcmVzdWx0cyIsImxvYWRpbmctZWxsaXBzaXMiLCJzaG93LWNvdW50LWZvcm1hdC10aXJlcyIsInNob3ctY291bnQtZm9ybWF0LXdoZWVscyIsInNwZWNpZmljYXRpb25zIiwic3BlZWQtcmF0aW5nIiwiYW55LXNwZWVkLXJhdGluZ3MiLCJmZWF0dXJlcyIsImFueS1mZWF0dXJlcyIsImZpbmlzaCIsInN1bW1hcnkiLCJjaGVjay1vdXQtbXktdmVoaWNsZSJdLCJtYXBwaW5ncyI6IkFBSUEsU0FBQUEsZ0NBQUFDLEdBT0EsU0FBQUMsRUFBQUMsR0FDQUEsRUFBQUEsTUFFQSxJQUFBLElBQUFDLEVBQUEsRUFBQUEsRUFBQUMsVUFBQUMsT0FBQUYsSUFDQSxHQUFBQyxVQUFBRCxHQUdBLElBQUEsSUFBQUcsS0FBQUYsVUFBQUQsR0FDQUMsVUFBQUQsR0FBQUksZUFBQUQsS0FDQUosRUFBQUksR0FBQUYs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RUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsR0FBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsR0FBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEs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cUksS0FBQXJJLFdBQUEsSUFBQXF2QixJQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsSUFBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLElBQUEsR0FBQSxLQUFBLElBQUEsSUFBQSxHQUFBLEtBQUEsSUFBQSxJQUFBLElBQUEsS0FBQSxJQUFBLElBQUEsSUFBQSxLQUFBLElBQUEsSUFBQSxJQUFBLE1BQUEsSUFBQSxJQUFBLElBQUEsTUFBQSxJQUFBLElBQUEsSUFBQSxNQUFBLElBQUEsSUFBQSxJQUFBLE1BQUEsSUFBQSxJQUFBLElBQUEsTUFBQSxJQUFBLElBQUEsSUFBQSxNQUFBLElBQUEsSUFBQSxJQUFBLE1BQUEsSUFBQSxJQUFBLElBQUEsTUFBQSxJQUFBLElBQUEsSUFBQSxNQUFBLElBQUEsSUFBQSxJQUFBLE1BQUEsSUFBQSxJQUFBLElBQUEsTUFBQSxJQUFBLElBQUEsSUFBQSxNQUFBLEtBQUEsSUFBQSxJQUFBLE1BQUEsS0FBQSxJQUFBLElBQUEsTUFBQSxLQUFBLElBQUEsSUFBQSxNQUFBLEtBQUEsSUFBQSxJQUFBLE1BQUEsS0FBQSxLQUFBLElBQUEsTUFBQSxLQUFBLEtBQUEsSUFBQSxNQUFBLEtBQUEsS0FBQSxJQUFBLE1BQUEsS0FBQSxLQUFBLElBQUEsTUFBQSxLQUFBLEtBQUEsSUFBQSxNQUFBLEtBQUEsS0FBQSxLQUFBLE1BQUEsS0FBQSxLQUFBLEtBQUEsTUFBQSxLQUFBLEtBQUEsS0FBQSxNQUFBLEtBQUEsS0FBQSxLQUFBLE1BQUEsS0FBQSxLQUFBLEtBQUEsTUFBQSxLQUFBLEtBQUEsS0FBQSxPQUFBLEtBQUEsS0FBQSxLQUFBLE9BQUEsS0FBQSxLQUFBLEtBQUEsT0FBQSxLQUFBLEtBQUEsS0FBQSxPQUFBLEtBQUEsS0FBQSxLQUFBLE9BdUJBcUcsRUFBQSxXQUVBLElBQUFDLEVBQUEsU0FBQWptQixFQUFBa21CLEdBQ0F2dEIsS0FBQXd0QixJQUFBbm1CLEVBQ0FySCxL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Z0JBQ0FDLGVBQUEsZUFDQUMsZUFBQSxlQUNBQyxnQkFBQSxnQkFDQUMsZUFBQSxlQUNBQyxvQkFBQSxvQkFDQUMsb0JBQUEsb0JBQ0FDLGFBQUEsbUJBQ0FDLHVCQUFBLHlCQUNBQyxtQkFBQSxtQkFDQUMscUJBQUEsK0RBQ0FDLHVCQUFBLGlEQUNBQyxhQUFBLGFBQ0FqckUsS0FBQSxPQUNBc2dFLEtBQUEsT0FDQTlpRCxPQUFBLFNBQ0EwdEQsZUFBQSxlQUNBQyxXQUFBLGFBQ0FuTCxNQUFBLFFBQ0FvTCxjQUFBLFNBQ0FDLE9BQUEsU0FDQUMsU0FBQSxXQUNBQyxNQUFBLFFBQ0EzdUIsSUFBQSxNQUNBNHVCLGFBQUEsYUFDQUMsZUFBQSxlQUNBQyxZQUFBLFlBQ0FDLGlCQUFBLGlCQUNBQyxtQkFBQSxhQUNBQywwQkFBQSxxQkFDQUMsMkJBQUEsc0JBQ0FDLGVBQUEsaUJBQ0FDLGVBQUEsZUFDQUMsb0JBQUEsb0JBQ0FDLFNBQUEsV0FDQUMsZUFBQSxlQUNBQyxPQUFBLFNBQ0FDLFFBQUEsVUFDQUMsdUJBQUEsMEJBckRBLENBd0RBamlDLHFCQUFBQSIsImZpbGUiOiJyaWRlc3R5bGVyLnNob3djYXNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9UZW1wbGF0ZSBIVE1MXG52YXIgdnNtX3RlbXBsYXRlID0gJzxkaXYgaWQ9XCJ2c21fbW9kYWxfYmFzZVwiIGNsYXNzPVwidnNtLW1vZGFsIHZzbS1oaWRlIHZzbS1mYWRlXCIgc3R5bGU9XCJ6LWluZGV4OiA5OTk5O1wiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCI+IDxkaXYgY2xhc3M9XCJ2c20tbW9kYWwtZGlhbG9nXCI+IDxkaXYgY2xhc3M9XCJ2c20tbW9kYWwtY29udGVudFwiPiA8ZGl2IGNsYXNzPVwidnNtLW1vZGFsLWhlYWRlclwiPiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInZzbS1jbG9zZVwiPiA8L2J1dHRvbj4gPC9kaXY+PGRpdiBjbGFzcz1cInZzbS1tb2RhbC1ib2R5IHZzbS1vcHRpb24tYm9keSB2c20tbGlzdC1ib2R5XCI+IDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCIgY2xhc3M9XCJ2c20tYmFjay1saW5rIHZzbS1iYWNrLXN0ZXBcIj4gPGkgY2xhc3M9XCJ2c20tYmFjay1hcnJvd1wiPjwvaT4gPC9hPiA8ZGl2IGNsYXNzPVwidnNtLWluLXByb2dyZXNzXCI+IDxwIGNsYXNzPVwidnNtLWhlYWRlciB2c20tY2VudGVyXCI+PC9wPjxkaXYgY2xhc3M9XCJ2c20tbGluZS1zdGVwIGNlbnRlci1waWVjZSB2c20tY29sdW1uc1wiPiA8L2Rpdj48ZGl2IGNsYXNzPVwidnNtLWxpc3QtY29udGFpbmVyXCI+IDxpIGNsYXNzPVwidnNtLWxvYWRlckljb25cIiBhbHQ9XCJMb2FkaW5nIG9wdGlvbnNcIj48L2k+IDwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJ2c20tZmluYWxcIj4gPGRpdiBjbGFzcz1cImNlbnRlci1waWVjZSB2c20tbGluZS1zdGVwIHZzbS1jb2x1bW5zIHZlaGljbGUtcmVzdWx0LXdyYXBcIj4gPGRpdiBjbGFzcz1cInZzbS1jb2x1bW4tMiB2c20tYmVmb3JlXCI+PC9kaXY+PGRpdiBjbGFzcz1cInZzbS1jb2x1bW4tMiBuby1zdHlsZVwiPjxpIGNsYXNzPVwiZG90LXN0eWxlIGRvdC1iZWZvcmUgYWN0aXZlXCI+PC9pPjwvZGl2PjxwIGNsYXNzPVwidmVoaWNsZS1yZXN1bHQtbmFtZVwiPjwvcD48cCBjbGFzcz1cInZlaGljbGUtcmVzdWx0LXNpemVcIj48L3A+PC9kaXY+IDxkaXYgY2xhc3M9XCJjZW50ZXItcGllY2UgdmVoaWNsZS1pbWFnZS13cmFwXCI+IDxkaXYgc3R5bGU9XCJwb3NpdGlvbjogcmVsYXRpdmU7IHRleHQtYWxpZ246IGNlbnRlcjsgbWluLWhlaWdodDogMTIwcHg7XCI+IDxpIGNsYXNzPVwidnNtLWxvYWRlckljb25cIiBhbHQ9XCJMb2FkaW5nIGFuIGltYWdlIG9mIHlvdXIgdmVoaWNsZVwiPjwvaT4gPGltZyBzcmM9XCJcIiBhbHQ9XCJcIiBjbGFzcz1cInZzbS12ZWhpY2xlLWRpc3BsYXlcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+IDwvZGl2PjxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCIgY2xhc3M9XCJ2c20tYnRuIHZzbS1idG4tZ3JheSB2c20tZnVsbC13aWR0aCB2c20tZmluZFwiPjwvYT4gPC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+JztcblxudmFyIF92c21Nb2RhbElEQ291bnRlciA9IDA7XG5mdW5jdGlvbiBSaWRlU3R5bGVyVmVoaWNsZVNlbGVjdGlvbk1vZGFsKG9wdGlvbnMpIHtcbiAgICB2YXIgaW5mb0FycmF5ID0gW10sIC8vS2VlcCB0cmFjayBvZiBzZWxlY3RlZCBvcHRpb25zIGluZm9cbiAgICBkYXRhQXJyYXkgPSBbXSwgLy9LZWVwIHRyYWNrIG9mIHNlbGVjdGVkIG9wdGlvbnMgZGF0YSAoZGF0YSBzZW50IHRvIFZlaGljbGUvU2VsZWN0IGVuZHBvaW50KVxuICAgIG1vZGFsQXJyYXkgPSBbXSwgLy9LZWVwIHRyYWNrIG9mIG1vZGFsIHNjcmVlbiBnZW5lcmF0ZWQgYnkgdGhpcyBpbnN0YW5jZVxuICAgIGRpc0NvdW50aW51ZWQgPSBmYWxzZTsgLy9EZWNpZGUgd2hldGhlciBvciBub3QgY29udGludWUgdG8gbmV4dCBtb2RhbCBzY3JlZW5cblxuICAgIC8vU2ltaWxhciB0byAkLmV4dGVuZFxuICAgIGZ1bmN0aW9uIGV4dGVuZChvdXQpIHtcbiAgICAgICAgb3V0ID0gb3V0IHx8IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWFyZ3VtZW50c1tpXSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGFyZ3VtZW50c1tpXSkge1xuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbaV0uaGFzT3duUHJvcGVydHkoa2V5KSlcbiAgICAgICAgICAgICAgICBvdXRba2V5XSA9IGFyZ3VtZW50c1tpXVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuXG4gICAgLy8gRXh0ZW5kIGRlZmF1bHQgc2V0dGluZ3NcbiAgICBvcHRpb25zID0gZXh0ZW5kKHtcbiAgICAgICAgQ29uZmlybUJ1dHRvblRleHQ6ICdDb25maXJtIFZlaGljbGUnLFxuICAgICAgICBHcm91cE9wdGlvbnM6IGZhbHNlLFxuICAgICAgICBJbmNsdWRlT0VUaXJlT3B0aW9uOiBmYWxzZSxcbiAgICAgICAgWWVhclNjcmVlbkNvbHVtbnM6IDMsXG4gICAgICAgIE1ha2VTY3JlZW5Db2x1bW5zOiAyLFxuXG4gICAgICAgIGNvbnRhaW5lcjogZG9jdW1lbnQuYm9keSxcblxuICAgICAgICBhZnRlckJhY2tDbGlja2VkOiBudWxsLFxuICAgICAgICBhZnRlck9wdGlvblNlbGVjdGVkOiBudWxsLFxuICAgICAgICBjYWxsYmFjazogbnVsbFxuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgLy9DaGVjayBpZiB0cmFuc2l0aW9uIGlzIHN1cHBvcnRlZCwgQm9vbGVhblxuICAgIHZhciB0cmFuc2l0aW9uU3VwcG9ydCA9IChmdW5jdGlvbigpe1xuICAgICAgICB2YXIgdGhpc0JvZHkgPSBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcbiAgICAgICAgdGhpc1N0eWxlID0gdGhpc0JvZHkuc3R5bGUsXG4gICAgICAgIHN1cHBvcnQgPSB0aGlzU3R5bGUuV2Via2l0VHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkIHx8IHRoaXNTdHlsZS5Nb3pUcmFuc2l0aW9uICE9PSB1bmRlZmluZWQgfHwgdGhpc1N0eWxlLk9UcmFuc2l0aW9uICE9PSB1bmRlZmluZWQgfHwgdGhpc1N0eWxlLnRyYW5zaXRpb24gIT09IHVuZGVmaW5lZDtcblxuICAgICAgICByZXR1cm4gc3VwcG9ydDtcbiAgICB9KSgpO1xuXG4gICAgLy8gYWRkIG9uVHJhbnNpdGlvbkVuZE9uY2UgdG8gSFRNTEVsZW1lbnRcbiAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICB0cmFuc2l0aW9ucyA9IHtcbiAgICAgICAgICAgICd0cmFuc2l0aW9uJzondHJhbnNpdGlvbmVuZCcsXG4gICAgICAgICAgICAnT1RyYW5zaXRpb24nOidvdHJhbnNpdGlvbmVuZCcsXG4gICAgICAgICAgICAnTW96VHJhbnNpdGlvbic6J3RyYW5zaXRpb25lbmQnLFxuICAgICAgICAgICAgJ1dlYmtpdFRyYW5zaXRpb24nOid3ZWJraXRUcmFuc2l0aW9uRW5kJ1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciB0cmFuc2l0aW9uRW5kID0gJyc7XG4gICAgICAgIGZvciAoaSBpbiB0cmFuc2l0aW9ucykge1xuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25zLmhhc093blByb3BlcnR5KGkpICYmIGVsLnN0eWxlW2ldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uRW5kID0gdHJhbnNpdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBIVE1MRWxlbWVudC5wcm90b3R5cGUub25UcmFuc2l0aW9uRW5kT25jZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpZiAodHJhbnNpdGlvbkVuZCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25FbmRXcmFwID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLnR5cGUsIHRyYW5zaXRpb25FbmRXcmFwKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIodHJhbnNpdGlvbkVuZCwgdHJhbnNpdGlvbkVuZFdyYXAsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBBZGQgY2VydGFpbiBjbGFzcyB0byBlbGVtZW50c1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7RWxlbWVudHxbRWxlbWVudF19IGVsZW1lbnRzIC0gRWxlbWVudChzKSB0byBzZWFyY2hcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBteUNsYXNzIC0gQ2xhc3MgbmFtZSB0byBhZGRcbiAgICAgKiBAcmV0dXJuIHZvaWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50cywgbXlDbGFzcykge1xuICAgICAgICBpZiAoIWVsZW1lbnRzKSB7IHJldHVybjsgfVxuICAgICAgICBpZiAodHlwZW9mKGVsZW1lbnRzKSA9PT0gJ3N0cmluZycpIGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbGVtZW50cyk7XG4gICAgICAgIGVsc2UgaWYgKGVsZW1lbnRzLnRhZ05hbWUpIGVsZW1lbnRzPVtlbGVtZW50c107XG4gICAgICAgIC8vIGFkZCBjbGFzcyB0byBhbGwgY2hvc2VuIGVsZW1lbnRzXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRzW2ldLmNsYXNzTmFtZS50cmltKCkgPT0gJycpIGVsZW1lbnRzW2ldLmNsYXNzTmFtZSA9IG15Q2xhc3M7XG4gICAgICAgICAgICBlbHNlIGlmICgoJyAnK2VsZW1lbnRzW2ldLmNsYXNzTmFtZSsnICcpLmluZGV4T2YoJyAnK215Q2xhc3MrJyAnKSA8IDApIHtcbiAgICAgICAgICAgICAgICAvLyBhZGQgY2xhc3NcbiAgICAgICAgICAgICAgICBlbGVtZW50c1tpXS5jbGFzc05hbWUgKz0gJyAnICsgbXlDbGFzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBjZXJ0YWluIGNsYXNzIGZyb20gZWxlbWVudHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge0VsZW1lbnR8W0VsZW1lbnRdfSBlbGVtZW50cyAtIEVsZW1lbnQocykgdG8gc2VhcmNoXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgbXlDbGFzcyAtIENsYXNzIG5hbWUgdG8gbWF0Y2ggYWdhaW5zdFxuICAgICAqIEByZXR1cm4gdm9pZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnRzLCBteUNsYXNzKSB7XG4gICAgICAgIGlmICghZWxlbWVudHMpIHsgcmV0dXJuOyB9XG4gICAgICAgIGlmICh0eXBlb2YoZWxlbWVudHMpID09PSAnc3RyaW5nJykgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW1lbnRzKTtcbiAgICAgICAgZWxzZSBpZiAoZWxlbWVudHMudGFnTmFtZSkgZWxlbWVudHM9W2VsZW1lbnRzXTtcbiAgICAgICAgdmFyIHJlZzEgPSBuZXcgUmVnRXhwKCcgJytteUNsYXNzKycgJywnZycpO1xuICAgICAgICB2YXIgcmVnMiA9IG5ldyBSZWdFeHAoJyheKScrbXlDbGFzcysnKCR8ICknLCdnJyk7XG4gICAgICAgIHZhciByZWczID0gbmV3IFJlZ0V4cCgnKF58ICknK215Q2xhc3MrJygkKScsJ2cnKTtcbiAgICAgICAgLy8gcmVtb3ZlIGNsYXNzIGZyb20gYWxsIGNob3NlbiBlbGVtZW50c1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8ZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGVsZW1lbnRzW2ldLmNsYXNzTmFtZSA9IGVsZW1lbnRzW2ldLmNsYXNzTmFtZS5yZXBsYWNlKHJlZzEsJyAnKTtcbiAgICAgICAgICAgIGVsZW1lbnRzW2ldLmNsYXNzTmFtZSA9IGVsZW1lbnRzW2ldLmNsYXNzTmFtZS5yZXBsYWNlKHJlZzIsJycpO1xuICAgICAgICAgICAgZWxlbWVudHNbaV0uY2xhc3NOYW1lID0gZWxlbWVudHNbaV0uY2xhc3NOYW1lLnJlcGxhY2UocmVnMywnJyk7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50c1tpXS5jbGFzc05hbWUudHJpbSgpID09ICcnKSBlbGVtZW50c1tpXS5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNsb3Nlc3QgbWF0Y2hpbmcgZWxlbWVudCB1cCB0aGUgRE9NIHRyZWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtFbGVtZW50fSBlbGVtZW50IC0gU3RhcnRpbmcgZWxlbWVudFxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIHNlbGVjdG9yIFNlbGVjdG9yIHRvIG1hdGNoIGFnYWluc3RcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufEVsZW1lbnR9ICBSZXR1cm5zIG51bGwgaWYgbm8gbWF0Y2ggZm91bmRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRDbG9zZXN0KGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgICAgIC8vIEVsZW1lbnQubWF0Y2hlcygpIHBvbHlmaWxsXG4gICAgICAgIGlmICghRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykge1xuICAgICAgICAgICAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9XG4gICAgICAgICAgICBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgIEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgIEVsZW1lbnQucHJvdG90eXBlLm9NYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgIEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgZnVuY3Rpb24ocykge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzID0gKHRoaXMuZG9jdW1lbnQgfHwgdGhpcy5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHMpLFxuICAgICAgICAgICAgICAgICAgICBpID0gbWF0Y2hlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgd2hpbGUgKC0taSA+PSAwICYmIG1hdGNoZXMuaXRlbShpKSAhPT0gdGhpcykge31cbiAgICAgICAgICAgICAgICByZXR1cm4gaSA+IC0xO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBjbG9zZXN0IG1hdGNoXG4gICAgICAgIGZvciAoIDsgZWxlbWVudCAmJiBlbGVtZW50ICE9PSBkb2N1bWVudDsgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSApIHtcbiAgICAgICAgICAgIGlmICggZWxlbWVudC5tYXRjaGVzKCBzZWxlY3RvciApICkgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFja2Ryb3AoKSB7XG4gICAgICAgIHZhciBleGlzdGluZ0JhY2tkcm9wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZzbS1iYWNrZHJvcCcpO1xuICAgICAgICBpZiAoIWV4aXN0aW5nQmFja2Ryb3ApIHtcbiAgICAgICAgICAgIHZhciBiYWNrRHJvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgYmFja0Ryb3AuaWQgPSAndnNtLWJhY2tkcm9wJztcbiAgICAgICAgICAgIGJhY2tEcm9wLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICAgICAgYmFja0Ryb3Auc3R5bGUudHJhbnNpdGlvbiA9ICdvcGFjaXR5IGxpbmVhciAuM3MnO1xuICAgICAgICAgICAgZ2V0TW9kYWxDb250YWluZXIoKS5hcHBlbmRDaGlsZChiYWNrRHJvcCk7XG5cbiAgICAgICAgICAgIHNob3dCYWNrZHJvcCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2hvd0JhY2tkcm9wKCkge1xuICAgICAgICB2YXIgZXhpc3RpbmdCYWNrZHJvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2c20tYmFja2Ryb3AnKTtcbiAgICAgICAgaWYgKCFleGlzdGluZ0JhY2tkcm9wKSB7XG4gICAgICAgICAgICBjcmVhdGVCYWNrZHJvcCgpO1xuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGV4aXN0aW5nQmFja2Ryb3Auc3R5bGUub3BhY2l0eSA9IDAuNTVcbiAgICAgICAgICAgIGV4aXN0aW5nQmFja2Ryb3Aub25UcmFuc2l0aW9uRW5kT25jZShmdW5jdGlvbigpe30pO1xuICAgICAgICB9LCAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoaWRlQmFja2Ryb3AoKSB7XG4gICAgICAgIHZhciBleGlzdGluZ0JhY2tkcm9wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZzbS1iYWNrZHJvcCcpO1xuICAgICAgICBpZiAoZXhpc3RpbmdCYWNrZHJvcCkge1xuICAgICAgICAgICAgZXhpc3RpbmdCYWNrZHJvcC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIGV4aXN0aW5nQmFja2Ryb3Aub25UcmFuc2l0aW9uRW5kT25jZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nQmFja2Ryb3AucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChleGlzdGluZ0JhY2tkcm9wKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGlkZU1vZGFscygpIHtcbiAgICAgICAgdmFyIGFsbE1vZGFscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tbW9kYWw6bm90KCN2c21fbW9kYWxfYmFzZSknKSxcbiAgICAgICAgY3VycmVudEJhc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLW1vZGFsLmluJylbMF07XG5cbiAgICAgICAgdmFyIGNvcHlPZkFycmF5ID0gaW5mb0FycmF5LnNsaWNlKDApLCBjb3B5T2ZEYXRhQXJyYXkgPSBkYXRhQXJyYXkuc2xpY2UoMCk7XG5cbiAgICAgICAgaW5mb0FycmF5ID0gW107XG4gICAgICAgIGRhdGFBcnJheSA9IFtdO1xuICAgICAgICBkaXNDb3VudGludWVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAobW9kYWxBcnJheS5pbmRleE9mKGN1cnJlbnRCYXNlLmdldEF0dHJpYnV0ZSgnaWQnKSkgPiAtMSkge1xuICAgICAgICAgICAgY3VycmVudEJhc2Uuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICBjdXJyZW50QmFzZS5vblRyYW5zaXRpb25FbmRPbmNlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGFsbE1vZGFscywgZnVuY3Rpb24gKHRoaXNNb2RhbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0lEID0gdGhpc01vZGFsLmdldEF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGFsQXJyYXkuaW5kZXhPZih0aGlzSUQpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNNb2RhbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXNNb2RhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBpbmZvQmFzZU9iaiA9IHt9O1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3B5T2ZBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgdmFyIHNwbGl0dGVkQXJyYXkgPSBjb3B5T2ZBcnJheVtpXS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgICAgICAgaWYgKHNwbGl0dGVkQXJyYXkubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpbmZvQmFzZU9ialtzcGxpdHRlZEFycmF5WzBdXSA9IHNwbGl0dGVkQXJyYXlbMV07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2FsbGJhY2sgJiYgdHlwZW9mIG9wdGlvbnMuY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3V0T2JqID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgRmluYWxTZWxlY3Rpb25NYWRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFZlaGljbGU6IGluZm9CYXNlT2JqLFxuICAgICAgICAgICAgICAgICAgICAgICAgRnVsbFNlbGVjdGlvbkRhdGE6IGNvcHlPZkRhdGFBcnJheVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY2FsbGJhY2sob3V0T2JqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTm8gY2FsbGJhY2sgZnVuY3Rpb24gcHJvdmlkZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoaWRlQmFja2Ryb3AoKTtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKGRvY3VtZW50LmJvZHksICd2c20tbW9kYWwtb3BlbicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdUaGlzIHZzbSBpbnN0YW5jZSBpcyBub3Qgc2hvd24geWV0LicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjb250YWluZXIgdGhhdCBtb2RhbHMgc2hvdWxkIGJlIGFwcGVuZGVkIHRvXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TW9kYWxDb250YWluZXIoKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jb250YWluZXIgPT09ICdmdW5jdGlvbicpIHJldHVybiBvcHRpb25zLmNvbnRhaW5lcigpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmNvbnRhaW5lcikgcmV0dXJuIG9wdGlvbnMuY29udGFpbmVyO1xuXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5ib2R5O1xuICAgIH1cblxuICAgIC8qTG9hZCBIVE1MIGNvZGUgYW5kIGFwcGVuZCB0byBib2R5Ki9cbiAgICBmdW5jdGlvbiBsb2FkQmFzZSgpIHtcbiAgICAgICAgdmFyIGV4aXN0aW5nTW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndnNtX21vZGFsX2Jhc2UnKTtcbiAgICAgICAgaWYgKCFleGlzdGluZ01vZGFsKSB7XG4gICAgICAgICAgICB2YXIgZGl2RWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBkaXZFbGUuaW5uZXJIVE1MID0gdnNtX3RlbXBsYXRlO1xuICAgICAgICAgICAgZ2V0TW9kYWxDb250YWluZXIoKS5hcHBlbmRDaGlsZChkaXZFbGUuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhbmQgcHJlcGFyZSBtb2RhbCBzY3JlZW5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBwcmVwYXJlRnVuY3Rpb24gLSBUaGUgZnVuY3Rpb24gdG8gcHJlcGFyZSB0aGUgbW9kYWxcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IHByZXBhcmVGdW5jdGlvbk9wdGlvbnMgLSBPcHRpb25zIHRvIHBhc3MgaW5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IHRyYW5zaXRpb25Nb2RhbCAtIFRoZSBtb2RhbCBzY3JlZW4gdG8gdHJhbnNpdGlvbiB0b1xuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9ICBSZXR1cm5zIHRoZSBwcmVwYXJlZCBtb2RhbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2UocHJlcGFyZUZ1bmN0aW9uLCBwcmVwYXJlRnVuY3Rpb25PcHRpb25zLCB0cmFuc2l0aW9uTW9kYWwpIHtcbiAgICAgICAgdmFyIG1vZGFsQmFzZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2c21fbW9kYWxfYmFzZScpO1xuICAgICAgICBpZiAoIW1vZGFsQmFzZSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgLy9NYWtlIGEgY29weSBvZiAjdnNtX21vZGFsX2Jhc2VcbiAgICAgICAgdmFyIG1vZGFsQmFzZUNvcHkgPSBtb2RhbEJhc2UuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgICAgIC8vT3ZlcnJpZGUgaWQgb2YgbW9kYWxCYXNlQ29weSBhbmQgYXBwZW5kIHRvIGJvZHlcbiAgICAgICAgbW9kYWxCYXNlQ29weS5pZCA9ICd2c21fbW9kYWxfJyArIF92c21Nb2RhbElEQ291bnRlcjtcbiAgICAgICAgbW9kYWxBcnJheS5wdXNoKCd2c21fbW9kYWxfJyArIF92c21Nb2RhbElEQ291bnRlcik7XG4gICAgICAgIG1vZGFsQmFzZUNvcHkuY2xhc3NOYW1lICs9ICcgdnNtX21vZGFsXycgKyBfdnNtTW9kYWxJRENvdW50ZXI7XG4gICAgICAgIGdldE1vZGFsQ29udGFpbmVyKCkuYXBwZW5kQ2hpbGQobW9kYWxCYXNlQ29weSk7XG5cbiAgICAgICAgLy9TZXR1cCB0cmFuc2l0aW9uXG4gICAgICAgIGlmICh0eXBlb2YodHJhbnNpdGlvbk1vZGFsKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHByZXBhcmVGdW5jdGlvbk9wdGlvbnMgPSBleHRlbmQoe1xuICAgICAgICAgICAgICAgIGJhY2tNb2RhbDogdHJhbnNpdGlvbk1vZGFsLFxuICAgICAgICAgICAgICAgIHRoaXNNb2RhbDogbW9kYWxCYXNlQ29weVxuICAgICAgICAgICAgfSwgcHJlcGFyZUZ1bmN0aW9uT3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHZhciBiYWNrTGlua3MgPSBtb2RhbEJhc2VDb3B5LnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tYmFjay1zdGVwJyk7XG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoYmFja0xpbmtzLCBmdW5jdGlvbiAoYmFja0xpbmspIHtcbiAgICAgICAgICAgICAgICB2YXIgYmFja0hhbmRsZXIgPSBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLnR5cGUsIGJhY2tIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJtID0gcHJlcGFyZUZ1bmN0aW9uT3B0aW9ucy5iYWNrTW9kYWwsXG4gICAgICAgICAgICAgICAgICAgIGJjID0gcHJlcGFyZUZ1bmN0aW9uT3B0aW9ucy50aGlzTW9kYWw7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25Ub01vZGFsKGJtLCBiYywgdHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgLmRvbmUoXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZvQXJyYXkubGVuZ3RoKSBpbmZvQXJyYXkucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFBcnJheS5sZW5ndGgpIGRhdGFBcnJheS5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmMucGFyZW50Tm9kZSkgYmMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiYyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hZnRlckJhY2tDbGlja2VkICYmIHR5cGVvZiBvcHRpb25zLmFmdGVyQmFja0NsaWNrZWQgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5mb0Jhc2VPYmogPSB7fTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZm9BcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcGxpdHRlZEFycmF5ID0gaW5mb0FycmF5W2ldLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwbGl0dGVkQXJyYXkubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mb0Jhc2VPYmpbc3BsaXR0ZWRBcnJheVswXV0gPSBzcGxpdHRlZEFycmF5WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXRJbmZvT2JqID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRnVsbFNlbGVjdGlvbjogaW5mb0Jhc2VPYmosXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGdWxsU2VsZWN0aW9uRGF0YTogZGF0YUFycmF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmFmdGVyQmFja0NsaWNrZWQob3V0SW5mb09iaik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJhY2tMaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYmFja0hhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9DYWxsIHRoZSBwcmVwYXJlIGZ1bmN0aW9uIHRvIGluaXRpYWxpemUgdGhlIG5ldyBtb2RhbFxuICAgICAgICBpZiAodHlwZW9mIHByZXBhcmVGdW5jdGlvbiA9PT0gXCJmdW5jdGlvblwiKSBwcmVwYXJlRnVuY3Rpb24obW9kYWxCYXNlQ29weSwgcHJlcGFyZUZ1bmN0aW9uT3B0aW9ucyk7XG5cbiAgICAgICAgLy9iaW5kIGNsaWNrIGV2ZW50IHRvIGNsb3NlIHRoZSBtb2RhbFxuICAgICAgICB2YXIgY2xvc2VCdXR0b25zID0gbW9kYWxCYXNlQ29weS5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLWNsb3NlJyk7XG4gICAgICAgIFtdLmZvckVhY2guY2FsbChjbG9zZUJ1dHRvbnMsIGZ1bmN0aW9uIChjbG9zZUJ1dHRvbikge1xuICAgICAgICAgICAgY2xvc2VCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgaGlkZU1vZGFscygpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3ZzbU1vZGFsSURDb3VudGVyKys7XG5cbiAgICAgICAgcmV0dXJuIG1vZGFsQmFzZUNvcHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNpdGlvbiBiZXR3ZWVuIG1vZGFsXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtFbGVtZW50fSB0b01vZGFsIC0gVGhlIG1vZGFsIHRvIHRyYW5zaXRpb24gdG9cbiAgICAgKiBAcGFyYW0gIHtFbGVtZW50fSBmcm9tTW9kYWwgLSBUaGUgY3VycmVudCBtb2RhbCB0byB0cmFuc2l0aW9uIGZyb21cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBiYWNrd2FyZHMgLSBzZXQgdG8gdHJ1ZSwgaWYgdHJhbnNpdGlvbiBmcm9tIGhpZ2hlciBpbmRleCB0byBsb3dlciBpbmRleFxuICAgICAqIEByZXR1cm4ge1JpZGVTdHlsZXJQcm9taXNlfSAtIFJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIHdoZW4gdGhlIHRyYW5zaXRpb24gaXMgY29tcGxldGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2l0aW9uVG9Nb2RhbCh0b01vZGFsLCBmcm9tTW9kYWwsIGJhY2t3YXJkcykge1xuICAgICAgICBiYWNrd2FyZHMgPSAhISBiYWNrd2FyZHM7XG5cbiAgICAgICAgaWYgKCF0b01vZGFsIHx8ICFmcm9tTW9kYWwpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgLyoqIEB0eXBlIHtSaWRlU3R5bGVyUHJvbWlzZX0gKi9cbiAgICAgICAgdmFyIGZyb21BbmltYXRlUHJvbWlzZSA9IHJpZGVzdHlsZXIucHJvbWlzZSgpLFxuICAgICAgICAgICAgdG9BbmltYXRlUHJvbWlzZSA9IHJpZGVzdHlsZXIucHJvbWlzZSgpO1xuXG4gICAgICAgIGlmICghYmFja3dhcmRzKSB7XG4gICAgICAgICAgICB2YXIgZnJvbVogPSBwYXJzZUludChmcm9tTW9kYWwuc3R5bGUuekluZGV4LCAxMCkgfHwgMCxcbiAgICAgICAgICAgICAgICB0b1ogPSBwYXJzZUludCh0b01vZGFsLnN0eWxlLnpJbmRleCwgMTApIHx8IDA7XG4gICAgICAgICAgICBpZiAodG9aIDw9IGZyb21aKSB0b1ogPSBmcm9tWiArIDE7XG4gICAgICAgICAgICB0b01vZGFsLnN0eWxlLnpJbmRleCA9IHRvWjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFuc2l0aW9uU3VwcG9ydCkge1xuICAgICAgICAgICAgaWYgKGJhY2t3YXJkcykge1xuICAgICAgICAgICAgICAgIHRvTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3ModG9Nb2RhbCwgJ2luJyk7XG5cbiAgICAgICAgICAgICAgICB0b0FuaW1hdGVQcm9taXNlLnJlc29sdmUoKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGZyb21Nb2RhbCwgJ2luJyk7XG4gICAgICAgICAgICAgICAgICAgIGZyb21Nb2RhbC5vblRyYW5zaXRpb25FbmRPbmNlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb21BbmltYXRlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSwgNTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9Nb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKHRvTW9kYWwsICdpbicpO1xuICAgICAgICAgICAgICAgICAgICB0b01vZGFsLm9uVHJhbnNpdGlvbkVuZE9uY2UoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb21Nb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoZnJvbU1vZGFsLCAnaW4nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdG9BbmltYXRlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tQW5pbWF0ZVByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChiYWNrd2FyZHMpIHtcbiAgICAgICAgICAgICAgICB0b01vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKHRvTW9kYWwsICdpbicpO1xuXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoZnJvbU1vZGFsLCAnaW4nKTtcbiAgICAgICAgICAgICAgICBmcm9tTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRvTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3ModG9Nb2RhbCwgJ2luJyk7XG5cbiAgICAgICAgICAgICAgICBmcm9tTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhmcm9tTW9kYWwsICdpbicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0b0FuaW1hdGVQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIGZyb21BbmltYXRlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWxsUHJvbWlzZSA9IHJpZGVzdHlsZXIucHJvbWlzZSgpO1xuICAgICAgICB2YXIgb25Qcm9taXNlQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRvU3RhdGUgPSB0b0FuaW1hdGVQcm9taXNlLnN0YXRlKCksXG4gICAgICAgICAgICAgICAgZnJvbVN0YXRlID0gZnJvbUFuaW1hdGVQcm9taXNlLnN0YXRlKCk7XG5cbiAgICAgICAgICAgIC8vIFN0aWxsIHdhaXRpbmcgZm9yIHJlc29sdXRpb25cbiAgICAgICAgICAgIGlmICh0b1N0YXRlID09PSAwIHx8IGZyb21TdGF0ZSA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyBPbmUgcHJvbWlzZSBoYXMgYmVlbiByZWplY3RlZCBidXQgdGhlIG90aGVyIGlzIHJlc29sdmVkXG4gICAgICAgICAgICBpZiAodG9TdGF0ZSA9PT0gMiB8fCBmcm9tU3RhdGUgPT09IDIpIHJldHVybiBhbGxQcm9taXNlLnJlamVjdCgpO1xuXG4gICAgICAgICAgICAvLyBCb3RoIHByb21pc2VzIGFyZSByZXNvbHZlZFxuICAgICAgICAgICAgYWxsUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdG9BbmltYXRlUHJvbWlzZS5hbHdheXMob25Qcm9taXNlQ2hhbmdlKTtcbiAgICAgICAgZnJvbUFuaW1hdGVQcm9taXNlLmFsd2F5cyhvblByb21pc2VDaGFuZ2UpO1xuXG4gICAgICAgIHJldHVybiBhbGxQcm9taXNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vZGFsIHByZXBhcmF0aW9uOiBQcm9jZXNzIHRoZSB2ZWhpY2xlIHNlbGVjdCByZXF1ZXN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtFbGVtZW50fSBtb2RhbCAtIFRoZSBtb2RhbCB0byBwcmVwYXJlXG4gICAgICogQHJldHVybiB2b2lkXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVxdWVzdFN0ZXAobW9kYWwsIHN0ZXBPcHRpb25zKSB7XG4gICAgICAgIHZhciByZXF1ZXN0ID0ge1xuICAgICAgICAgICAgU2VsZWN0aW9uOiBkYXRhQXJyYXlcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoc3RlcE9wdGlvbnMgJiYgc3RlcE9wdGlvbnMuYmVzdENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIHNob3dTZWxlY3Rpb24obW9kYWwsIHN0ZXBPcHRpb25zLmJlc3RDb25maWd1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICByaWRlc3R5bGVyLmFqYXguc2VuZCh7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnVmVoaWNsZS9TZWxlY3QnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHJlcXVlc3QsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLkJlc3RDb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuSW5jbHVkZU9FVGlyZU9wdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWRlc3R5bGVyLmFqYXguc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdWZWhpY2xlL0dldFRpcmVPcHRpb25EZXRhaWxzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsnVmVoaWNsZUNvbmZpZ3VyYXRpb24nOiByZXNwb25zZS5CZXN0Q29uZmlndXJhdGlvbi5WYWx1ZX0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZXN0Q29uZmlndXJhdGlvbjogcmVzcG9uc2UuQmVzdENvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGRldGFpbFJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldGFpbFJlc3BvbnNlLlN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRldGFpbHMgPSBkZXRhaWxSZXNwb25zZS5EZXRhaWxzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZXN0Q29uZmlndXJhdGlvbiA9IHRoaXMuYmVzdENvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXRhaWxzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGV0YWlsU3RyaW5nID0gKGZ1bmN0aW9uIChkZXRhaWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZiA9IGRldGFpbC5Gcm9udFsnRGVzY3JpcHRpb24nXSwgciA9IGRldGFpbC5SZWFyWydEZXNjcmlwdGlvbiddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmPT1yKSByZXR1cm4gZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHJldHVybiBcIkY6IFwiICsgZiArIFwiIFI6IFwiICsgcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKGRldGFpbHNbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVzdENvbmZpZ3VyYXRpb24uVGlyZU9wdGlvbkJhc2ljID0ge1RpcmVPcHRpb25JRDogZGV0YWlsc1swXVsnVGlyZU9wdGlvbklEJ10sIFRpcmVPcHRpb25TdHJpbmc6IGRldGFpbFN0cmluZ307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2VsZWN0aW9uKG1vZGFsLCBiZXN0Q29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uTWVudSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cHM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb246ICdTZWxlY3QgWW91ciBUaXJlIFNpemUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRpdGxlOiAnVGlyZSBTaXplJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBLZXk6ICd0aXJlb3B0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPcHRpb25zOiBbXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXRhaWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRldGFpbFN0cmluZyA9IChmdW5jdGlvbiAoZGV0YWlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmID0gZGV0YWlsLkZyb250WydEZXNjcmlwdGlvbiddLCByID0gZGV0YWlsLlJlYXJbJ0Rlc2NyaXB0aW9uJ107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmPT1yKSByZXR1cm4gZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSByZXR1cm4gXCJGOiBcIiArIGYgKyBcIiBSOiBcIiArIHI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkoZGV0YWlsc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uTWVudS5PcHRpb25zLnB1c2goe0dyb3VwOiBudWxsLCBMYWJlbDogZGV0YWlsU3RyaW5nLCBWYWx1ZTogZGV0YWlsc1tpXVsnVGlyZU9wdGlvbklEJ119KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1vZGFsKG1vZGFsLCBvcHRpb25NZW51LCBiZXN0Q29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBzaG93U2VsZWN0aW9uKG1vZGFsLCBiZXN0Q29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dTZWxlY3Rpb24obW9kYWwsIHJlc3BvbnNlLkJlc3RDb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1vZGFsKG1vZGFsLCByZXNwb25zZS5NZW51KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vZGFsIHByZXBhcmF0aW9uOiBVcGRhdGUgbW9kYWwgY29udGVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7RWxlbWVudH0gbW9kYWwgLSBUaGUgbW9kYWwgdG8gcHJlcGFyZVxuICAgICAqIEBwYXJhbSAge09iamVjdH0gbWVudSAtIE1lbnUgb2JqZWN0IHRvIHBhc3MgaW4gZm9yIG1vZGFsIGNvbnRlbnQgdXBkYXRlXG4gICAgICogQHJldHVybiB2b2lkXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlTW9kYWwobW9kYWwsIG1lbnUsIGJlc3RDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIHZhciBpdGVtTGlzdENvbnRhaW5lciA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tbGlzdC1jb250YWluZXInKVswXSxcbiAgICAgICAgaGVhZGVyRWxlbWVudCA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20taGVhZGVyJylbMF0sXG4gICAgICAgIGJvZHlFbGVtZW50ID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1tb2RhbC1ib2R5JylbMF0sXG4gICAgICAgIHZzbUxpbmtTdHlsZSA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tbGluZS1zdGVwJylbMF0sXG4gICAgICAgIGZpbmFsU2NyZWVuID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1maW5hbCcpWzBdO1xuXG4gICAgICAgIHZhciBtZW51T3B0aW9ucyA9IG1lbnUuT3B0aW9ucyxcbiAgICAgICAgbWVudUtleSA9IG1lbnUuS2V5LFxuICAgICAgICBtZW51VGl0bGUgPSBtZW51LlRpdGxlLFxuICAgICAgICBtZW51R3JvdXBzID0gbWVudS5Hcm91cHM7XG5cbiAgICAgICAgdmFyIG9uTGlzdEl0ZW1TZWxlY3RlZCA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25WYWx1ZSA9IG8uZ2V0QXR0cmlidXRlKCdkYXRhLW9wdGlvbnZhbHVlJyk7XG4gICAgICAgICAgICB2YXIgb3B0aW9uS2V5ID0gby5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3B0aW9ua2V5Jyk7XG4gICAgICAgICAgICB2YXIgb3B0aW9uTGFiZWwgPSBvLmdldEF0dHJpYnV0ZSgnZGF0YS1vcHRpb25sYWJlbCcpO1xuICAgICAgICAgICAgdmFyIG9wdGlvblRpdGxlID0gby5nZXRBdHRyaWJ1dGUoJ2RhdGEtbWVudXRpdGxlJyk7XG4gICAgICAgICAgICBkYXRhQXJyYXkucHVzaChvcHRpb25LZXkgKyAnOicgKyBvcHRpb25WYWx1ZSk7XG4gICAgICAgICAgICBpbmZvQXJyYXkucHVzaChvcHRpb25UaXRsZSArICc6JyArIG9wdGlvbkxhYmVsKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYWZ0ZXJPcHRpb25TZWxlY3RlZCAmJiB0eXBlb2Ygb3B0aW9ucy5hZnRlck9wdGlvblNlbGVjdGVkID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5mb0Jhc2VPYmogPSB7fTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5mb0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzcGxpdHRlZEFycmF5ID0gaW5mb0FycmF5W2ldLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGxpdHRlZEFycmF5Lmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvQmFzZU9ialtzcGxpdHRlZEFycmF5WzBdXSA9IHNwbGl0dGVkQXJyYXlbMV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgb3V0SW5mb09iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgQ3VycmVudFNlbGVjdGlvbjoge30sXG4gICAgICAgICAgICAgICAgICAgIEZ1bGxTZWxlY3Rpb246IGluZm9CYXNlT2JqLFxuICAgICAgICAgICAgICAgICAgICBGdWxsU2VsZWN0aW9uRGF0YTogZGF0YUFycmF5XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb3V0SW5mb09iai5DdXJyZW50U2VsZWN0aW9uW29wdGlvblRpdGxlXSA9IG9wdGlvbkxhYmVsO1xuXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5hZnRlck9wdGlvblNlbGVjdGVkKG91dEluZm9PYmopO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWRpc0NvdW50aW51ZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNpdGlvbk9wdGlvbiA9IHt9O1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25LZXkgPT0gJ3RpcmVvcHRpb24nICYmIGJlc3RDb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlc3RDb25maWd1cmF0aW9uLlRpcmVPcHRpb25CYXNpYyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRpcmVPcHRpb25JRDogb3B0aW9uVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBUaXJlT3B0aW9uU3RyaW5nOiBvcHRpb25MYWJlbFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uT3B0aW9uLmJlc3RDb25maWd1cmF0aW9uID0gYmVzdENvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25Ub01vZGFsKFxuICAgICAgICAgICAgICAgICAgICBiYXNlKHJlcXVlc3RTdGVwLCB0cmFuc2l0aW9uT3B0aW9uLCBtb2RhbCksXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYnVpbGRMaXN0SXRlbSA9IGZ1bmN0aW9uKG9wdE9iaikge1xuICAgICAgICAgICAgdmFyIG9wdGlvbkxhYmVsID0gb3B0T2JqLkxhYmVsLFxuICAgICAgICAgICAgb3B0aW9uVmFsdWUgPSBvcHRPYmouVmFsdWU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbkxhYmVsID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2Ygb3B0aW9uVmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG9wdGlvbkJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKSxcbiAgICAgICAgICAgIG9wdGlvblRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShvcHRpb25MYWJlbCk7XG4gICAgICAgICAgICBvcHRpb25CdG4uY2xhc3NOYW1lID0gJ3ZzbS1vcHRpb24taXRlbSB2c20tYnRuIHZzbS1idG4tZ3JheSc7XG4gICAgICAgICAgICBvcHRpb25CdG4uaHJlZiA9ICdqYXZhc2NyaXB0OnZvaWQoMCknO1xuICAgICAgICAgICAgb3B0aW9uQnRuLnNldEF0dHJpYnV0ZSgnZGF0YS1vcHRpb252YWx1ZScsIG9wdGlvblZhbHVlKTtcbiAgICAgICAgICAgIG9wdGlvbkJ0bi5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3B0aW9ubGFiZWwnLCBvcHRpb25MYWJlbCk7XG4gICAgICAgICAgICBvcHRpb25CdG4uYXBwZW5kQ2hpbGQob3B0aW9uVGV4dCk7XG5cbiAgICAgICAgICAgIG9wdGlvbkJ0bi5vbmNsaWNrID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBvbkxpc3RJdGVtU2VsZWN0ZWQodGhpcyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbkJ0bjtcbiAgICAgICAgfSxcbiAgICAgICAgYnVpbGRMaXN0SGVhZGVyID0gZnVuY3Rpb24oaGVhZGVyVGV4dCkge1xuICAgICAgICAgICAgdmFyIG1lbnVTdWJIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyksXG4gICAgICAgICAgICBtZW51U3ViSGVhZGVyVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGhlYWRlclRleHQpO1xuICAgICAgICAgICAgbWVudVN1YkhlYWRlci5jbGFzc05hbWUgPSAndnNtLWdyb3VwLXRpdGxlJztcbiAgICAgICAgICAgIG1lbnVTdWJIZWFkZXIuYXBwZW5kQ2hpbGQobWVudVN1YkhlYWRlclRleHQpO1xuXG4gICAgICAgICAgICByZXR1cm4gbWVudVN1YkhlYWRlcjtcbiAgICAgICAgfTtcblxuICAgICAgICAvL0luIHByb2dyZXNzLCByZW1vdmluZyB0aGUgZmluYWwgc2NyZWVuIGVsZW1lbnQgZnJvbSBsb2FkZWQgbW9kYWxcbiAgICAgICAgZmluYWxTY3JlZW4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmaW5hbFNjcmVlbik7XG4gICAgICAgIGFkZENsYXNzKHZzbUxpbmtTdHlsZSwgJ3ZzbS1zaW5nbGUtc3RlcCcpO1xuXG4gICAgICAgIC8vQ3JlYXRlIHJpZ2h0LXNpZGUgcHJvZ3Jlc3MgYmFyXG4gICAgICAgIHZhciBkaXZFTGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgZG90RWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpLFxuICAgICAgICBzcGFuRWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBkaXZFTGUuY2xhc3NOYW1lID0gJ3ZzbS1jb2x1bW4tMic7XG4gICAgICAgIGRvdEVsZS5jbGFzc05hbWUgPSAnZG90LXN0eWxlIGRvdC1iZWZvcmUgYWN0aXZlJztcbiAgICAgICAgc3BhbkVsZS5jbGFzc05hbWUgPSAnZG90LWluZm8gZG90LWluZm8tYmVmb3JlIGFjdGl2ZSc7XG4gICAgICAgIC8vc3BhbkVsZS5pbm5lckhUTUwgPSBtZW51VGl0bGU7XG4gICAgICAgIGRpdkVMZS5hcHBlbmRDaGlsZChkb3RFbGUpO1xuICAgICAgICBkaXZFTGUuYXBwZW5kQ2hpbGQoc3BhbkVsZSk7XG5cbiAgICAgICAgLy9DcmVhdGUgbGVmdC1zaWRlIHByb2dyZXNzIGluZm9cbiAgICAgICAgaWYgKCFkYXRhQXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgbm90U3R5bGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIG5vdFN0eWxlRGl2LmNsYXNzTmFtZSA9ICd2c20tY29sdW1uLTIgbm8tc3R5bGUnO1xuICAgICAgICAgICAgdnNtTGlua1N0eWxlLmFwcGVuZENoaWxkKG5vdFN0eWxlRGl2KTtcbiAgICAgICAgICAgIHZzbUxpbmtTdHlsZS5hcHBlbmRDaGlsZChkaXZFTGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWRkQ2xhc3MoYm9keUVsZW1lbnQsICd2c20taGFzLWJhY2snKTtcbiAgICAgICAgICAgIHZhciBub3RTdHlsZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgLypjZWxsRWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpLCovXG4gICAgICAgICAgICAvKmluZm9FbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7Ki9cbiAgICAgICAgICAgIG5vdFN0eWxlRGl2LmNsYXNzTmFtZSA9ICd2c20tY29sdW1uLTIgdnNtLWJlZm9yZSc7XG4gICAgICAgICAgICAvKmNlbGxFbGUuY2xhc3NOYW1lID0gJ3ZzbS10YWJsZS1jZWxsJztcbiAgICAgICAgICAgIGluZm9FbGUuY2xhc3NOYW1lID0gJ3ZzbS1zZWxlY3RlZC1pbmZvJztcbiAgICAgICAgICAgIGNlbGxFbGUuYXBwZW5kQ2hpbGQoaW5mb0VsZSk7XG4gICAgICAgICAgICBub3RTdHlsZURpdi5hcHBlbmRDaGlsZChjZWxsRWxlKTsqL1xuICAgICAgICAgICAgdmFyIGluZm9CYXNlQXJyYXkgPSBpbmZvQXJyYXkubWFwKGZ1bmN0aW9uIChlbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlICYmIGVsZS5zcGxpdCgnOicpLmxlbmd0aCA9PT0gMiA/IGVsZS5zcGxpdCgnOicpWzFdIDogJyc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8qaW5mb0VsZS5pbm5lckhUTUwgPSBpbmZvQmFzZUFycmF5LmpvaW4oJyAnKTsqL1xuICAgICAgICAgICAgc3BhbkVsZS5pbm5lckhUTUwgPSBpbmZvQmFzZUFycmF5LmpvaW4oJyAnKTtcbiAgICAgICAgICAgIHZzbUxpbmtTdHlsZS5hcHBlbmRDaGlsZChub3RTdHlsZURpdik7XG4gICAgICAgICAgICB2c21MaW5rU3R5bGUuYXBwZW5kQ2hpbGQoZGl2RUxlKTtcblxuICAgICAgICB9XG4gICAgICAgIGhlYWRlckVsZW1lbnQuaW5uZXJIVE1MID0gbWVudS5EZXNjcmlwdGlvbjtcblxuICAgICAgICAvL0NsZWFyIHRoZSBjb250YWluZXJcbiAgICAgICAgd2hpbGUgKGl0ZW1MaXN0Q29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIGl0ZW1MaXN0Q29udGFpbmVyLnJlbW92ZUNoaWxkKGl0ZW1MaXN0Q29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1lbnVPcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGdyb3VwV3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZ3JvdXBXcmFwLmNsYXNzTmFtZSA9ICd2c20tZ3JvdXAtd3JhcCBjZW50ZXItcGllY2UnO1xuICAgICAgICAgICAgaXRlbUxpc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoZ3JvdXBXcmFwKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuR3JvdXBPcHRpb25zICYmIG1lbnVHcm91cHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWVudUdyb3VwZWRPcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZW51T3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc01lbnVPcHRpb24gPSBtZW51T3B0aW9uc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgdGhpc01lbnVPcHRpb25Hcm91cCA9IHRoaXNNZW51T3B0aW9uLkdyb3VwO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc01lbnVPcHRpb25Hcm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9JZiBHcm91cCB2YWx1ZSBvZiB0aGlzIG9wdGlvbiBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWVudUdyb3VwZWRPcHRpb25zW3RoaXNNZW51T3B0aW9uR3JvdXBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudUdyb3VwZWRPcHRpb25zW3RoaXNNZW51T3B0aW9uR3JvdXBdID0gW3RoaXNNZW51T3B0aW9uXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVHcm91cGVkT3B0aW9uc1t0aGlzTWVudU9wdGlvbkdyb3VwXS5wdXNoKHRoaXNNZW51T3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vSWYgR3JvdXAgdmFsdWUgb2YgdGhpcyBvcHRpb24gaXMgbnVsbCBvciB1bmRlZmluZWQsIHB1dCB0aGVtIGluIFVuZ3JvdXBlZCBhcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgLy9NYXkgbmV2ZXIgaGFwcGVuLCBtb3JlIGxpa2UgYW4gZXJyb3IgaGFuZGxpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWVudUdyb3VwZWRPcHRpb25zWydfdW5ncm91cGVkJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW51R3JvdXBlZE9wdGlvbnNbJ191bmdyb3VwZWQnXSA9IFt0aGlzTWVudU9wdGlvbl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW51R3JvdXBlZE9wdGlvbnNbJ191bmdyb3VwZWQnXS5wdXNoKHRoaXNNZW51T3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL0dvIHRocm91Z2gga25vd24gR3JvdXBzIGJlZm9yZSBjaGVja2luZyB1bmdyb3VwZWQgb3B0aW9uc1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWVudUdyb3Vwcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVudUdyb3VwID0gbWVudUdyb3Vwc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1Ykdyb3VwID0gbWVudUdyb3VwZWRPcHRpb25zW21lbnVHcm91cF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdyb3VwTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uQ2xhc3MgPSAndnNtLW9uZS1jb250YWluZXInO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lbnUuS2V5ID09ICd5ZWFyJyAmJiBtZW51T3B0aW9ucy5sZW5ndGggPiAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLlllYXJTY3JlZW5Db2x1bW5zID09IDIpIGNvbHVtbkNsYXNzID0gJ3ZzbS1oYWxmLWNvbnRhaW5lcic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuWWVhclNjcmVlbkNvbHVtbnMgPj0gMykgY29sdW1uQ2xhc3MgPSAndnNtLXRoaXJkLWNvbnRhaW5lcic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVudS5LZXkgPT0gJ21ha2UnICYmIG1lbnVPcHRpb25zLmxlbmd0aCA+IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuTWFrZVNjcmVlbkNvbHVtbnMgPj0gMikgY29sdW1uQ2xhc3MgPSAndnNtLWhhbGYtY29udGFpbmVyJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwTGlzdC5jbGFzc05hbWUgPSAndnNtLWdyb3VwLWxpc3QgJyArIGNvbHVtbkNsYXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBXcmFwLmFwcGVuZENoaWxkKGJ1aWxkTGlzdEhlYWRlcihtZW51R3JvdXApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwV3JhcC5hcHBlbmRDaGlsZChncm91cExpc3QpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN1Ykdyb3VwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gYnVpbGRMaXN0SXRlbShzdWJHcm91cFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsaXN0SXRlbSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLW9wdGlvbmtleScsIG1lbnVLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtbWVudXRpdGxlJywgbWVudVRpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBMaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9DaGVjayBpZiBVbmdyb3VwZWQgb3B0aW9ucyBleGlzdFxuICAgICAgICAgICAgICAgIGlmIChtZW51R3JvdXBlZE9wdGlvbnNbJ191bmdyb3VwZWQnXSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ3JvdXBMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbkNsYXNzID0gJ3ZzbS1vbmUtY29udGFpbmVyJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lbnUuS2V5ID09ICd5ZWFyJyAmJiBtZW51T3B0aW9ucy5sZW5ndGggPiAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuWWVhclNjcmVlbkNvbHVtbnMgPT0gMikgY29sdW1uQ2xhc3MgPSAndnNtLWhhbGYtY29udGFpbmVyJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLlllYXJTY3JlZW5Db2x1bW5zID49IDMpIGNvbHVtbkNsYXNzID0gJ3ZzbS10aGlyZC1jb250YWluZXInO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZW51LktleSA9PSAnbWFrZScgJiYgbWVudU9wdGlvbnMubGVuZ3RoID4gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLk1ha2VTY3JlZW5Db2x1bW5zID49IDIpIGNvbHVtbkNsYXNzID0gJ3ZzbS1oYWxmLWNvbnRhaW5lcic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBMaXN0LmNsYXNzTmFtZSA9ICd2c20tZ3JvdXAtbGlzdCAnICsgY29sdW1uQ2xhc3M7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwV3JhcC5hcHBlbmRDaGlsZChidWlsZExpc3RIZWFkZXIoJ1VuZ3JvdXBlZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBXcmFwLmFwcGVuZENoaWxkKGdyb3VwTGlzdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1Ykdyb3VwID0gbWVudUdyb3VwZWRPcHRpb25zWydfdW5ncm91cGVkJ107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3ViR3JvdXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IGJ1aWxkTGlzdEl0ZW0oc3ViR3JvdXBbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsaXN0SXRlbSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3B0aW9ua2V5JywgbWVudUtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLW1lbnV0aXRsZScsIG1lbnVUaXRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBMaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBncm91cExpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgICAgICAgICBjb2x1bW5DbGFzcyA9ICd2c20tb25lLWNvbnRhaW5lcic7XG4gICAgICAgICAgICAgICAgaWYgKG1lbnUuS2V5ID09ICd5ZWFyJyAmJiBtZW51T3B0aW9ucy5sZW5ndGggPiAxMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5ZZWFyU2NyZWVuQ29sdW1ucyA9PSAyKSBjb2x1bW5DbGFzcyA9ICd2c20taGFsZi1jb250YWluZXInO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5ZZWFyU2NyZWVuQ29sdW1ucyA+PSAzKSBjb2x1bW5DbGFzcyA9ICd2c20tdGhpcmQtY29udGFpbmVyJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1lbnUuS2V5ID09ICdtYWtlJyAmJiBtZW51T3B0aW9ucy5sZW5ndGggPiAxMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5NYWtlU2NyZWVuQ29sdW1ucyA+PSAyKSBjb2x1bW5DbGFzcyA9ICd2c20taGFsZi1jb250YWluZXInO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncm91cExpc3QuY2xhc3NOYW1lID0gJ3ZzbS1ncm91cC1saXN0ICcgKyBjb2x1bW5DbGFzcztcbiAgICAgICAgICAgICAgICBncm91cFdyYXAuYXBwZW5kQ2hpbGQoZ3JvdXBMaXN0KTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVudU9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gYnVpbGRMaXN0SXRlbShtZW51T3B0aW9uc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGlzdEl0ZW0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3B0aW9ua2V5JywgbWVudUtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtbWVudXRpdGxlJywgbWVudVRpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwTGlzdC5hcHBlbmRDaGlsZChsaXN0SXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb2RhbCBwcmVwYXJhdGlvbjogU2hvdyBmaW5hbCB2ZWhpY2xlIHNlbGVjdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7RWxlbWVudH0gbW9kYWwgLSBUaGUgbW9kYWwgdG8gcHJlcGFyZVxuICAgICAqIEBwYXJhbSAge09iamVjdH0gYmVzdENvbmZpZ3VyYXRpb24gLSBiZXN0Q29uZmlndXJhdGlvbiBvYmplY3QgdG8gcGFzcyBpbiBmb3IgbW9kYWwgY29udGVudCB1cGRhdGVcbiAgICAgKiBAcmV0dXJuIHZvaWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaG93U2VsZWN0aW9uKG1vZGFsLCBiZXN0Q29uZmlndXJhdGlvbikge1xuICAgICAgICB2YXIgdmVoaWNsZUltYWdlID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnZzbS12ZWhpY2xlLWRpc3BsYXknKVswXSxcbiAgICAgICAgdmVoaWNsZUxvYWRlciA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tZmluYWwgLnZzbS1sb2FkZXJJY29uJylbMF0sXG4gICAgICAgIG5hbWVFbGVtZW50ID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnZlaGljbGUtcmVzdWx0LW5hbWUnKVswXSxcbiAgICAgICAgc2l6ZUVsZW1lbnQgPSBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcudmVoaWNsZS1yZXN1bHQtc2l6ZScpWzBdLFxuICAgICAgICBjb25maXJtQnV0dG9uID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1maW5kJylbMF0sXG4gICAgICAgIGJvZHlFbGVtZW50ID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1tb2RhbC1ib2R5JylbMF0sXG4gICAgICAgIGluUHJvZ3Jlc3NTY3JlZW4gPSBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLWluLXByb2dyZXNzJylbMF07XG5cbiAgICAgICAgYWRkQ2xhc3MoYm9keUVsZW1lbnQsICd2c20taGFzLWJhY2snKTtcbiAgICAgICAgY29uZmlybUJ1dHRvbi5pbm5lckhUTUwgPSBvcHRpb25zLkNvbmZpcm1CdXR0b25UZXh0O1xuXG4gICAgICAgIHZhciBpbmZvQmFzZUFycmF5ID0gW10sIGluZm9CYXNlT2JqID0ge307XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmZvQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgc3BsaXR0ZWRBcnJheSA9IGluZm9BcnJheVtpXS5zcGxpdCgnOicpO1xuICAgICAgICAgIGlmIChzcGxpdHRlZEFycmF5Lmxlbmd0aCA9PSAyICYmIHNwbGl0dGVkQXJyYXlbMF0gIT0gJ1RpcmUgU2l6ZScpIHtcbiAgICAgICAgICAgICAgaW5mb0Jhc2VBcnJheS5wdXNoKHNwbGl0dGVkQXJyYXlbMV0pO1xuICAgICAgICAgICAgICBpbmZvQmFzZU9ialtzcGxpdHRlZEFycmF5WzBdXSA9IHNwbGl0dGVkQXJyYXlbMV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1haW5QYXJ0U3RyaW5nID0gaW5mb0Jhc2VBcnJheVswXSxcbiAgICAgICAgbGFzdEl0ZW0gPSBpbmZvQmFzZUFycmF5LnBvcCgpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgaW5mb0Jhc2VBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPj0gMykgYnJlYWs7XG4gICAgICAgICAgICBtYWluUGFydFN0cmluZyArPSAnICcgKyBpbmZvQmFzZUFycmF5W2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZlaGljbGVEZXNjID0gbWFpblBhcnRTdHJpbmcgKyAnICcgKyBsYXN0SXRlbTtcblxuICAgICAgICBuYW1lRWxlbWVudC5pbm5lckhUTUwgPSB2ZWhpY2xlRGVzYztcblxuICAgICAgICBhZGRDbGFzcyhtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLW1vZGFsLWJvZHknKVswXSwgJ3ZzbS1maW5hbC1zY3JlZW4nKTtcbiAgICAgICAgaW5Qcm9ncmVzc1NjcmVlbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGluUHJvZ3Jlc3NTY3JlZW4pO1xuXG4gICAgICAgIHZhciBpbWFnZVNldHRpbmdzID0ge1xuICAgICAgICAgICAgV2lkdGg6IDI2MCxcbiAgICAgICAgICAgIEhlaWdodDogMTIwLFxuICAgICAgICAgICAgUG9zaXRpb25YOiAxLFxuICAgICAgICAgICAgUG9zaXRpb25ZOiAxXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuSW1hZ2VTZXR0aW5ncykge1xuICAgICAgICAgICAgZXh0ZW5kKGltYWdlU2V0dGluZ3MsIFxuICAgICAgICAgICAgICAgICAgIHR5cGVvZiBvcHRpb25zLkltYWdlU2V0dGluZ3MgPT09IFwiZnVuY3Rpb25cIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLkltYWdlU2V0dGluZ3MuY2FsbCh0aGlzLCBvcHRpb25zKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLkltYWdlU2V0dGluZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW1hZ2VTZXR0aW5ncy5WZWhpY2xlQ29uZmlndXJhdGlvbiA9IGJlc3RDb25maWd1cmF0aW9uLlZhbHVlO1xuXG4gICAgICAgIHZhciBpbWFnZVVybCA9IHJpZGVzdHlsZXIuYWpheC51cmwoXCJWZWhpY2xlL1JlbmRlclwiLCBpbWFnZVNldHRpbmdzKTtcblxuICAgICAgICB2ZWhpY2xlSW1hZ2Uuc3JjID0gaW1hZ2VVcmw7XG4gICAgICAgIHZlaGljbGVJbWFnZS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgICAgIHZlaGljbGVJbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmVoaWNsZUxvYWRlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbmZpcm1IYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZS50eXBlLCBjb25maXJtSGFuZGxlcik7XG4gICAgICAgICAgICAvL0hpZGUgbW9kYWxcbiAgICAgICAgICAgIHZhciBhbGxNb2RhbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLW1vZGFsOm5vdCgjdnNtX21vZGFsX2Jhc2UpJyksXG4gICAgICAgICAgICBwYXJlbnRCYXNlID0gZ2V0Q2xvc2VzdCh0aGlzLCAnLnZzbS1tb2RhbCcpO1xuXG4gICAgICAgICAgICB2YXIgY29weU9mRGF0YUFycmF5ID0gZGF0YUFycmF5LnNsaWNlKDApO1xuXG4gICAgICAgICAgICBpbmZvQXJyYXkgPSBbXTtcbiAgICAgICAgICAgIGRhdGFBcnJheSA9IFtdO1xuXG4gICAgICAgICAgICBwYXJlbnRCYXNlLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICAgICAgcGFyZW50QmFzZS5vblRyYW5zaXRpb25FbmRPbmNlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGFsbE1vZGFscywgZnVuY3Rpb24gKHRoaXNNb2RhbCkge3RoaXNNb2RhbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXNNb2RhbCk7fSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdmVoaWNsZUluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgIEltYWdlVXJsOiBpbWFnZVVybCxcbiAgICAgICAgICAgICAgICAgICAgVmVoaWNsZURlc2NyaXB0aW9uOiB2ZWhpY2xlRGVzYyxcbiAgICAgICAgICAgICAgICAgICAgVmVoaWNsZUNvbmZpZ3VyYXRpb246IGJlc3RDb25maWd1cmF0aW9uLlZhbHVlXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGV4dGVuZCh2ZWhpY2xlSW5mbywgaW5mb0Jhc2VPYmopO1xuICAgICAgICAgICAgICAgIGlmIChiZXN0Q29uZmlndXJhdGlvbi5UaXJlT3B0aW9uQmFzaWMpIGV4dGVuZCh2ZWhpY2xlSW5mbywgYmVzdENvbmZpZ3VyYXRpb24uVGlyZU9wdGlvbkJhc2ljKTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5jYWxsYmFjayAmJiB0eXBlb2Ygb3B0aW9ucy5jYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvdXRPYmogPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBGaW5hbFNlbGVjdGlvbk1hZGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBWZWhpY2xlOiB2ZWhpY2xlSW5mbyxcbiAgICAgICAgICAgICAgICAgICAgICAgIEZ1bGxTZWxlY3Rpb25EYXRhOiBjb3B5T2ZEYXRhQXJyYXlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmNhbGxiYWNrKG91dE9iaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaWRlTW9kYWxzKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTm8gY2FsbGJhY2sgZnVuY3Rpb24gcHJvdmlkZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoaWRlQmFja2Ryb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjb25maXJtSGFuZGxlciwgZmFsc2UpO1xuICAgIH1cblxuICAgIHRoaXMuU2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9hZEJhc2UoKTtcbiAgICAgICAgLy9DaGVjayBmb3IgYW55IGV4aXN0aW5nIG1vZGFsc1xuICAgICAgICB2YXIgYWxsTW9kYWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1tb2RhbDpub3QoI3ZzbV9tb2RhbF9iYXNlKScpO1xuICAgICAgICBpZiAoYWxsTW9kYWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdUaGVyZSBpcyBjdXJyZW50bHkgYW5vdGhlciB2c20gaW5zdGFuY2UgcnVubmluZy4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbW9kYWwgPSBiYXNlKCk7XG4gICAgICAgIGNyZWF0ZUJhY2tkcm9wKCk7XG4gICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICBkaXNDb3VudGludWVkID0gZmFsc2U7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFkZENsYXNzKG1vZGFsLCAnaW4nKTtcbiAgICAgICAgICAgIGFkZENsYXNzKGRvY3VtZW50LmJvZHksICd2c20tbW9kYWwtb3BlbicpO1xuICAgICAgICAgICAgbW9kYWwub25UcmFuc2l0aW9uRW5kT25jZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHJlcXVlc3RTdGVwKG1vZGFsKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sIDUwKTtcbiAgICB9XG5cbiAgICB0aGlzLkhpZGUgPSBoaWRlTW9kYWxzO1xufSIsIi8qIGV4cG9ydGVkIFJpZGVTdHlsZXJWaWV3cG9ydCAqL1xuZnVuY3Rpb24gUmlkZVN0eWxlclZpZXdwb3J0KGVsZW0sIG9wdGlvbnMpIHtcblxuICAgIC8vIFVJIHJlc291cmNlc1xuICAgIHZhciBsb2FkZXJEYXRhID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaElBQWdBUFlBQVAvLy93QUFBUHI2K3RiVzF0cmEydno4L0xxNnVvQ0FnSXFLaXNEQXdQYjI5dWpvNklpSWlINStmcUNnb09ibTVuQndjRkpTVW9LQ2d1VGs1UEx5OG54OGZLS2lvcTZ1cmpZMk5qbzZPa0JBUUdwcWF0emMzUFQwOUhwNmVxYW1wdmo0K01qSXlEdzhQR3hzYk9ycTZwNmVubmg0ZUw2K3Z0TFMwalEwTkRnNE9LeXNyTWJHeHN6TXpPN3U3dFRVMURBd01MUzB0THk4dktpb3FQRHc4RzV1YnBLU2t0alkyT0xpNG9hR2hoSVNFaEFRRUNRa0pBNE9EaTR1THBxYW11RGc0TjdlM3V6czdMQ3dzSnljbkphV2xtSmlZbzZPanBTVWxFWkdSa3hNVEZCUVVFUkVSRXBLU3BDUWtNN096a2hJU0VKQ1F0RFEwTUxDd2s1T1RwaVltQm9hR2lnb0tESXlNaFlXRmhRVUZMaTR1RnBhV2xSVVZLU2twSEp5Y2xoWVdGNWVYbVJrWkZ4Y1hGWldWaUlpSWlBZ0lCNGVIaW9xS3NyS3lzVEV4R2hvYUxhMnRtWm1aaXdzTEtxcXFoZ1lHR0JnWUJ3Y0hIUjBkSFoyZHJLeXNpWW1Kb1NFaEQ0K1BveU1qQXdNREFBQUFBQUFBQUFBQUFBQUFBQUFBQ0grR2tOeVpXRjBaV1FnZDJsMGFDQmhhbUY0Ykc5aFpDNXBibVp2QUNINUJBQUZBQUFBSWY4TFRrVlVVME5CVUVVeUxqQURBUUFBQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam8rUWtaS0VDemsyTkpPQ0R4Y2hnd1UxT2pzU21Rb1FHQ0lXZ2hRaU96MDFucEFMRVJrWUdRNEFGQnF0UDRJTE4wQUNqZ0lTR2hrcEdESUFOancrS0FCQ0tORXVqeE1iR2lvd293QUVISUlUMFNnVWtCd2pHaUl6aGtJdktEaVNKQ3N4d1lZZG1JOEtGQjBGamZxTEFnWU1FaVNVRUplb0FKQUJCQWdpR25DZ1FRVVBKbGdvSWdHdVd5SUNDQmhvUk5CQ0ViUm9GaEVWU09EQXdvY1RJQlFWd0VFZ2lNSkVDaFNrek5UUFJRZEVGRjQ2S3NBQnhZdHBoVWlzQXhMcFc3UUpna0RNeEFGTzV5SUMwVjVnRWpyZzVrY1VRQjA5OEVsQ0VGUVVSQUg0Q2lMdkVRVUZnMjVFQ3dLTHBpQ21LQkM2dWkwa1lJTGN1WGp6NnQzTGQxSWdBQ0g1QkFBRkFBRUFMQUFBQUFBZ0FDQUFBQWYvZ0FDQ2c0U0Zob2VJaVlxTGpJMk9odzhUajQ0WEtsaGJrNHNLRVZaWlhBV1pnd3N4TFlNZFRKMVJDcUVBSUExSlNqT0NGS2hhVVNDQ29JOGtSa3BNVUxJS1ZGWmFYYUFMTjBDNmpBVkhTMDFSVEZNQVZWYzhYZ0JDS05zdWp3c21TMUFhQ0lKU3BRQVQyeWdVazBBZVMwb1hoa0l2S0RpaFFqRXl5NFFkTkpNZ09xeHF4QzlSQ3lKRmtLd1lpS2dBa0FFRTJDV2k0Q0NoRFNkU0ZKRlF4MEVSaUNFV1FscTRvVWpidG82S2dDUXdJT09KQUVVRmNCQUlJbkdSZ0lLc0dycm9nSWhDelVjRmdxQjQwYTBRaVhwQU1qMVFKNmtWTGdBNDFQMWt4R0hiaTM5SEIvQTBpYUtvbzZNdlNBZ2lzQzBwQUdSQlhrNFNPT2pHdGlDREZYQ0dTb2RDU002R0M3emUzY3UzcjkrL2dBY0ZBZ0FoK1FRQUJRQUNBQ3dBQUFBQUlBQWdBQUFILzRBQWdvT0VoWWFIaUltS2k0eU5qb1lrVGo4VWo0MFNQR1VNbFlzZFN6eG1TaUNiZzBJeUtJTTBUVHhuVEFxakFDQUlZR05EZ2gxVXExQ2lBQjJWTGw5aFpHQVhzR1NyWEFVS0VqTkFCWTRGUkdKalhWMHNBRDgrYUI4QU5tSXRLQzZQSkF4aVhCRklBQUloSVlKVlV5Z29sSThUQ05JeGhrQXZLRGlqTGlkVHpneDFvTEVKeEM1R0FSZVJrTEZpeFpTRGh3b0FHVUJBWGlJV1F5NnNtTUZCRVFsNEtEb3FlbktpNUFsK2lZU0FGSm1Jd2dBVUw1b3BLb0NEUUJDTE0xODljOUhyRUFXY3o0TEFERmVJaEQ0Z214YUFuQ0RJb0NBY0lJRXVFZ3FUb05FQnZWVENJK3JJeFlBWEpBUVJnSWNVd0lJYlFRUVVQSGlEN0tDRU9oTUJUSUFuSkc3RUJWenQ2dDNMdDYvZnZZRUFBQ0g1QkFBRkFBTUFMQUFBQUFBZ0FDQUFBQWYvZ0FDQ2c0U0Zob2VJaVlxTGpJMk9oaVJWRGhTUGpRaFlQa2VWaXdwaldHNWRJSnVEQlRkQmd4UmtXR2hLQ3FPQ0sxOFFXNElkWEtzUm9nQVBIWThGTmw4Ykcyd0FJRWFyUmdVS0RXNFJPSThYSGw5cmJTMEFEaGtZYndCSVdqMXdVNDh1UHg0UVlnNEFCUzFwZ20wOVpVYzBsUXRFNVNlR1IxaEV6NXNVSVdrRkRBa0FJcTlTQVFHT0FqSUM4WUxGRkJRSUV4VUFNb0FBSlVVNDFvVlFzMEFSQ1JRZ09TeWFBQktrQzBWQ1NvcFVKQURIalJzVEZoWEFRU0RJUlptdkVycm9kWWpDVFY5QlVMdzRXWWpFQ3hSQU5uMEVHYk5ZUkJ3bGZ6SWlLVlNlMFJ1OVVwcXNSR0hBQUJLQ0NJQk1DbUNCcVlpUEJLQzlNWlpVVGtKVUVJVzhQVlJnQWRHNWVQUHEzY3RYYnlBQUlma0VBQVVBQkFBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2R1FoWkRIWStOU0ZFaVJaV0xDbXRSR1hFZ200UWdDb01kWWhvWllLYWpBQTlFVG1xQ25Sb3FZNklBQ3k2VkNRZ0hEUWtBSUJBYUdDTUFDaElwU2h5UFR6WU1EUjRvQUROUVVVTUFWWEpaT2orUEhSZE9PUjRyQUFWU1Q0SWozam9YbFM3ak9TeUdObkE3WVJTYkhTZ3ZoeUFNdkJIaXFsRUJneE51M01DeHFBQ1FBUVQyS1hLQm9pSUtHb3BJV0hRMjBlSkZSVUkyTnNTaGNNSklBa0VrTml4bzBBV2xReFJVUGlvUXhCK3ZRaVJlb0FDeVNXTkZrOE1FQ01KaFVTYWpDUlZmWU14NWcxTElpamNkS1NBd2dJUWdBaFY1NnJvQlJHaWxBZ2NGM2NnNktDeExBRWhSRUR4YnFBQ0pxR3dJNDhxZFM3ZnVxRUFBSWZrRUFBVUFCUUFzQUFBQUFDQUFJQUFBQi8rQUFJS0RoSVdHaDRpSmlvdU1qWTZHTGl0c0NvK05KUkZVTTVXTElDWVJUU01DbTRrZGM1OWlJSUlnTHcrVlQyd29nZ3AwRVZCcm9ndGZibEZTamhOZVAwaHBBQUlORVVsMEFBcGZaV2R5VHI0ckZrVk9CQUIxWUJGc0FEOTJ6bFoxamlCVGJ3NDJXd0FGTDdFQ1JtWnljRVlVanhScWJ5VzloVWZ3UmlTYklFR0NIS0x3eG9LUVVZMUFVQ2pRaUFRQkFoTVdGV2pSZ2tDSFJSUlFhRVJCUXhHSmpSd3didVNvU0FoSVJnOXUzSWlvcUFBT0FrQXVNbUtJc0ZFQkZ6SU5VWmkzcVVBUUZDOWNHQ0t4RHNpbWp4cFpnaEFGQU1kR25vNGVhSHpSa2VpTml5WTFDbjBFZ3NBQWZ3QUlhRFFLWU1FTklFd3IwUVJ3WSt5Z3RUVVVBVXpRZURDdW9RSWt0dHJkeTdldjM3OTlBd0VBSWZrRUFBVUFCZ0FzQUFBQUFDQUFJQUFBQi8rQUFJS0RoSVdHaDRpSmlvdU1qWTZHQlFNRGo0NXNJMjB5bElzZ0RHMWpCd1dhaVFwM25sOGdnaUF5UXhTUEpDZ1BxWjFjZEFJQUpCNHBia2VPQ21veEY1TUNSMjFjRWdBS0ZUQm9kbU8yakIwaHF6TTRBRElqUnBrT0tjdzhQNDhjTEFZcklRQUZONU1GSTI1MlpSdXRqaUFFTEZzY2hrVlhaV3NrbWdVa0M0Y29YUGpnUWxRakVEajRNU0pCZ01DRVJSUEEyTWxnWUpHQ0Z5Z3kwbENFNU13VkgyMVFqY0tvVVJFQk5nbFkzR0MwNE1hTmg0b0s0Q0FBUklIQm00Z0t1T2lBaUFJOFNnV0NvSGhSc0JBSmpFQTB2Y29JRThRekhCbFIvR3owSU9PTGpVZHY4QlFTdFdnOEFqY1VFc2lZRkVCTElNK0FEcnBCZGxBb25JSVJKbVFVQWhjU0NhOTE4K3JkeTdldnFFQUFJZmtFQUFVQUJ3QXNBQUFBQUNBQUlBQUFCLytBQUlLRGhJV0doNGlKaW91TWpZNkhJQUtQamtGRlAwQ1RqQjhWWHgrWmlnSS9GUkFNa2dBQ0NXd2Rqd1ZDTklJQ1JLTUhra0ozVVJsSWowRlBJVGdBQlE0Vk5VY0ZJRGw0S2lsaXBvc0NMeWd0VXlRQUlYZDBMUUF6dUNsWURvOUFLRkloTjRJVG1BVjBHU2t3WDZ1T0lCemlDNFpFS1Q0UVFwbXRyNFlkZFN0Y2ZHb0VZb0krUmtJSUVKaXdhRUlZTnhwa0xBSUJEUVdLZm9qeTZOaVlSSUVpaWhZdktqclNvMlFURUlzVzNMakJVTkVERDFTb2hCZ0lxbG1qQWk3ZUdhSkE0Vk9CSUNoZUNDeEVBaHFtU1NSQ3Rvd2tDRWZJbm84ZVdIenhxdWlOVlVKQ0RvVkg0QVkxQUFRc0hsVUpwSURQUVRmRURqSkxjOUFFaXdjUDJ4WXFRR0tyM0x0NDgrcmRpemNRQUNINUJBQUZBQWdBTEFBQUFBQWdBQ0FBQUFmL2dBQ0NnNFNGaG9lSWlZcUxqSTJPajVDSENta2hDcEdMVTBnTU1wZUpCVU9hUHdXQ0Fpd3lIWkFkbGdBQ0YwZzVOZ0lBTGtjUlRTV1BFeThEUWdBRmRVaDN1Q0JPVkZCTUVMS01CVGNvS0M4VUFDOC9DQzhBUTExTlRCb3pqMERPS0ErQ0pPSUZFdHA0RmFpT0lCelBMb1plVEhnZThKQUZMdEdHSFZ0MU5KMk1RRXpveFVnSUFRSVRGajFvZzRFSm0wVUNCb0Q3bDhpR0hDdFdsSUJRRkhHaUlodFpRbXBjWlBCR1FrVVB4SWhZOGhEZ29RSVVsRG5DdDg0UUJYMzNncnd6Uk9JRkNpQ1JTSUE3Q1VJWkRuQTRHejF3OXVKZnp4dW9oSUN6eDQ3QURSS0NDRGdEQ21EQkRSeWpJb1VGME96bm9MRXVKemdqNkxKUUFSSlVDdHZLblV1M3J0MjVnUUFBSWZrRUFBVUFDUUFzQUFBQUFDQUFJQUFBQi8rQUFJS0RoSVdHaDRpSmlvdU1qWTZQa0lna0M1R01IRU16TjVXS0xCY09RNE1DTDJvS2tDQWdnZ1dkSlI4RkFEUkViV01manlRdkEwS0NhUmRFRndBQ0pVWmNYUTJ1alJ3b0tDOFVBRUIxRmh3QUJySmRTNzZPT01rb0Q0STBKSUpPWTExVU9hV09JTWd2TklZWFpPVHJrQVV1eklZS0oxdndtNG9DRDBGQ3hvbUVFQ0F3WVJHUUdocFVKUG1TejVDQUFkb2FHcnBqcHlLUEt6SVNGWUNZVEdJaEJHWkNtckZqUUpFTEFqY0tLbnF3SVFvVEprNEU2RE5Vb0lQTlIvSTZJR0l4UkdlOElNcGNHQ0tSNEVzYm9iVzBxUVFoRTBBMktRNVFRSHFRVEIwQVd6ZDBDdEdXNnhFSWxOOEFFRWdHUk5DQ0d6Z0E0aHgwZyt3Z3Rmb1RKaVRyT3JOUUFSSkk2K3JkeTdldlg3NkJBQUFoK1FRQUJRQUtBQ3dBQUFBQUlBQWdBQUFILzRBQWdvT0VoWWFIaUltS2k0eU5qbytRaUNBQ2tZeENUeXdrbFlvRWFUSXNnd1VjUUpFZ0JZTTNhUVl5Z2gxdkhpWXRqMEl2TjBLQ25WdFRBQVVySmhCckRvOGNLQ2d2RkFCQ0xRWVRBR29Wd0dKYmp6akZLQStDQ2pTQ0RsOXJSa2dLanlERUw5dUZXeHR4TnVlUEJTN0loaUFzSi9HYmlnSUxRRUQyaUVJRUJKb3A0akNIU2hJbVlsQWtFakRBV3J0RE9WS2t3RUlSd2lsRUJCd3F1dU9tWTBjSWlsd1F1Q0V3RVE0SVNwUlFtVVBnbnFFQ0hXSmVaUFN1d3lFUVE0YlloRlFnaURFWGhoeG8wVElHNkNNUzFnUk9FcFFHaWg0ZE1TQTlLR1lPQUlsYU5vVVl3S09IQ0NRUUl6VUJ5SWlDRklBRk1pcVVkSWVxbUZsZUxoUUhUU2gySzI2aEFpU00ydDNMdDYvZnY1c0NBUUFoK1FRQUJRQUxBQ3dBQUFBQUlBQWdBQUFILzRBQWdvT0VoWWFIaUltS2k0eU5qbytRaUFXUmpSUTNCQXFVaWh3b0tCeUVJSk9RQmFJQUJKMHZnZ29KUkJlWmpqUTNOMEtDcDFJREFBVXlSemtIS0k5QnFCUUFRZ01vTGdCU05nd05EWitPT0owb0M0SWdyM1hNSmw2bGpDQ2NMOE9GYWdkMERoMlJCUzdoaFNCUEllZWFpd0lrT0RqcmlDNEVCQk9MUUFkalpMcEF3SlhvVkNjYWlvNHdpY0pRZ3dkRkJsRWdUSlFuZzBXTER4TlJJSENEbjZJSkhzaUFBVlBoV1R4Q0JUcDBlTlVvSGJ4Q0FtTEVlT21vUUxBWHlBb3hzQ0xIU0U1SEpLUjVCQ0ZBVUpnZFdxeXdnZlFBRlVJU0wyNmNRNklEcVFOSUlEaVNxTlVKQ0FBRkRkeUk4VGhxMEkydWd4NFVQUWxnUWlkYWJBNExGU0R4TTY3ZHUzano2cVVVQ0FBaCtRUUFCUUFNQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam8rUWtaS0VDa0JBQXBPSlFDZ29ENW1EQlFXREJKd2NnZ1VEVXdTUUhUYzNRb0trS0VHQ1R6TU9EalNQT0p3dkhRQkNBd01VQUVFckRrVlZMbzhUbkNnTGdnSWdnaXdXUlVkMWtDQWNLQy9FaFZKVmVSY0trUVV1MzRVQ053UGxuNGtGUWc4UHY0b1VCQVFUaXhONU5XMWlEVllsa29WQ1Y2SWZaTHAwaVJBaGh5S0NCaEVWYVVLUjRoMTdCRzdvVS9UZ2pwaVBPV2k5bzZUQVhhTno5ZFJ0MlpMU1VZRWczWllWeXNQanlvYUlqVWc0MndnQ0V3QWpWczdZTVFEcFFTOWRKRjdjK0ZYRVNsQXYyaktTaU1VSkNBQUZFckJ3TVdWdTBJMnFneFpNZTljTUJheVJoQXFRa0ltMnJkdTNjQVRqTmdvRUFDSDVCQUFGQUEwQUxBQUFBQUFnQUNBQUFBZi9nQUNDZzRTRmhvZUlpWXFMakkyT2o1Q1Jrb1FLUURnQ2s0azRLQ2dQbVlNRkJZTUVuQnlESkJ3VWtCMDNOMEtDcENoQmdrQXNCaUdRRTV3dkhRQkNBd09xSkNFeWRXeVlqZytjS0F1Q0FpQ0NITVV6dUk4Q0hDZ3Zxb1U0ZFI4SjBKQUZMdHVHT0VIaG40Z0ZOQ1FreUlrVUJBUVRpd3RFQng0bVNFQ0tzU2cwRkgzWXNLYU5RU1QrbGdWTTVHRE1tREFPYlNpU2Q2T2VJaEpIdm55Wll3T0h1a0lLRktSak5LNlhJUXB2THBoOFZDQklOaGVHanJqQk11ZlZJeExMTElJSUtJQUxEelErNkNoNHBDeGJRQkl2dnJBQmdJUUhqeXRZVGp3Q1FlQUdDVmdvUEpBcG9PQkxtYWRlSW9rU2RBTUZrYTBBYUhqQW9tVEFKMTBYRklpQTRuRDFVd0VTQzBaKzNNdTNyOSsva0FJQkFDSDVCQUFGQUE0QUxBQUFBQUFnQUNBQUFBZi9nQUNDZzRTRmhvZUlpWXFMakkyT2o1Q1Jrb1FDRXdzRms0azRLQ2dMbVlPWWd3U2NISU1VTHBFZEJEZENncU1vUVlJVEx5ZzRrQk9jTHgwQVFnTURGTHljTFMrUUM1eWRnZ0lnc2lndGFrQ1FCUndvTDhDRlFpMVRLS0dQQlM3V2hrS1huNHVuSGR5SUZBUUVFNHRDSzBWT05oK3RpYThvTklveEJ3MFZGUjViRk4zTGwrakNsNE1IWXloU2Q2T2RJaUZFSk55NTR3QVZPVUlnTW5aenNjdVFpeFZzT25ZTFFzMGlJUnNaTkRRdzJZakVNWWRQU2luZ2drVUZuZ01pR1QzSWxRK0lDalFCcS9qQWdnR1BsMGNnVnBFUTlFTEZqakVGUUhnWWltR0VnR2lEV3ZqWVFRYVRFQWcrVXZ6NDlPS0tqaUttMklUOFJPRklsWndYQ09QS25VdTNMcVJBQUNINUJBQUZBQThBTEFBQUFBQWdBQ0FBQUFmL2dBQ0NnNFNGaG9lSWlZcUxqSTJPajVDUmtvUUZKQ1NUaWpnb0tBdVlpQVNiSElNZEhaRUtIQVJDZ3FBb1FZSVRMeStYancrYkw2VkNBd01VQUVLYnJaQUx2NTBBQWlDdnY2cVBCUndvTDd5RnZpZzRrZ1V1MElZVU5KNk1DaFRIaXhRRUJCT0xIVk1ySHl0U2k2d28yNGtzVlVWSVNEL3duNy80aDFNTS9ndzJYQ2dTZDZQY3dEZEliQkJoeDYyUUFBVUNscmtvWlloR0RCa0tJaFVJNGt4Z29SOU5JaURZeDRqRXIzSUNXcmdDSVVZREZDcDVLRGFxNVd4YkRqbFlEQUJ3SUVKREVpb3JIb0VnY09NU0JSVTY0QmdwQUVKQ3p5UW1Da0NTQ29BRWpLUmhwTHJ3SUNLS0JVOXRrdjRZUk1FQVJrOFRqdnlRMmJDdDI3ZHdCT05HQ2dRQUlma0VBQVVBRUFBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2UGtKR1NoQVVrSkpPS0V5Z29DNWlJQkpzY2d5QWdrUW9jQkVLQ29DaEJnZzh2QXpTUUQ1c3ZIUUJDQXpjVXVac29PSkFMdjUwQUFnS0NtcHVxandVY0tDKzloVUtid1pFRkx0S0dGTE9laXdJZ0JZd1VCQVFUM3k5cUNTek1pYXdvM1lnM2RVTVhGeWVMNy9HSFVoYitGZ1lXVWVCdzQ1eWlEZ1ptdklseHlWc2hBZUthdWNCbGlJWU1OYVVnRlFnQ3pZVWhMMlBhVk5IV2lNU3Zjd0tlQUFFQTRrc0VMbkdxS0hoVUM5b3NCRHhFNFB0QUpRS1lPREVlZ1NCdzR4SUZQRmJLYkNnQUlvOFNuemtpT29vb0JFUFNOdUpvM0tIUzVZMm5FVlo0bEJqVUljMlVtWmdtMkhDQTFxSGJ0M0FGNDhxVkZBZ0FJZmtFQUFVQUVRQXNBQUFBQUNBQUlBQUFCLytBQUlLRGhJV0doNGlKaW91TWpZNlBrSkdTaEFVa1FwT0tEeWdvQzVpSUJKc2NneUFGa1FvY0JKY0FvQ2hCZ2c4dk54MlFtaWd2czBJRE54UUFRcHNvRDVBTHY1MEFBZ0tDRTcrcWpnVWN0cnlGUWk4b09KSUZMdEdHSFRTZWpBV2xqQlFFQkJPTEJVQURBMERJaXF3bzNZa1BUeTFwYWRidXYvR0lRVEwrTXE0VVVlQnd3NXdpRUMxT25KQUN3cHNoY0pDd3pkckc0a25EaUVGUVNBbGg2QUlFRHg4bU9uS3g2Y2djWXlGUUdEdlFwZ2FkRHhjYmFYcUR4UXNBSno3d0dBQXdKRTZiRVhNU1BBTHhRZ3dEQVJTUzJJRmh3bGlWTUQ5L1FCSlFEQWNXT3o3YUlLUGd4RWliR0pnV3FNQ3FWWkNDalRFalVWQml4ODBkaDRVUUx1Q2hrZ1p1b1FjazdPcmR5NWRRSUFBaCtRUUFCUUFTQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam8rUWtaS0VCU1F1azRvUEtDZ2ttSWdFbXh5REFnV1JDaHdFUW9LZ0tFR0NEd01FSUpDYUtDOGRBRUlETnhTNW15Z0xrQXUvd1FDa2doTy9xbzhGSExhOWhVSXZLRGlTQlM3UWhoMDBub3lsalJRRUJCT0xCVUM3MVl1c0tOeUp3Ny9abjcvdGlPK2I4WWNVSERma2lnVkJMd2FrNjBid1doQUJoa0NndUlFUVVyTWlXSDRZa3NIQXhoWUZrSVFnTUxNRGdyRTBMNHc1cVhEbkNKdUdqV1pZNlFGbkJvQWlHWlFrQUdCZ0RzazhMUjZseWVBbWo0QU9TMUxndVdQTXl4d1BFdGhBSXZGQUVBa21LVVI4S2RYQmdvazdVakE5alZyam00QWJyakM1YUpJaWd3bUNoVHhFZllPVzBJSVNid2d3dHAxTHQ2NmdRQUFoK1FRQUJRQVRBQ3dBQUFBQUlBQWdBQUFILzRBQWdvT0VoWWFIaUltS2k0eU5qbytRa1pLRUJVSXVrNG9QS0Nna21JZ0VteHlEQlpJS0hBUkNncUFvUVlJUEF4d0NrSm9vTHgwQVFnTTNGTGliS0ttUEM3NExnZ0trQUJPK3ZJOEZITFhMaEVJdktEaVNCUzdRaFIwMG5vekhqQlFFQkJPTEJVQzZ4SXVyS055SndwdTI2cjd0aUVLKzhZb1VIRGZraWdVNEJEZ0E2MFlRU0FrWnNnb0pDSUxqbTZNSlNYcklLV0VvaElNVmFSSTZxckpEQjV3NUFBUTh1U0ZvaG8wU0gxcEFNcUVqUzVrVkFJZzBHY01DZ0JvRU5vaDhlUENvaFlZVVRnUjBHQk5saVJNQUJlcmdKQUlFa3BCMFFwWkVvWEtBRklndFB3eUF3QlExaXBJSzMyNTVva0hHNngyQ2hlNTRyWU9XRUlrUGRRaTJ0cDFMdDY2Z1FBQWgrUVFBQlFBVUFDd0FBQUFBSUFBZ0FBQUgvNEFBZ29PRWhZYUhpSW1LaTR5TmpvK1FrWktFQlVJdWs0b1BLQ2drbUlnRW14eURCWklLSEFSQ2dxQW9RWUlMTjBFQ2tKb29MeDBBUWdNM0ZMaWJLS21QQzc0TGdnS2tBQk8rdkk4RkhMWExoRUl2S0RpU0JTN1FoUjAwbm96SGpCUUVCQk9MQlVDNm5ZdXJLTnlKd3BzRHNvcnI3WWhDdnZHTEZCdzM1SW9GT0Fod3FOZXRHdzRISitRVkluRXAwZ1FsV1hoWU1IUkRCb3NnM3hvZGdTT25UQVVBQlY2MEFuQml4WllwSXgxNWtHUEd6UkFBWHJqVWVBSkFpb1VWYk5TQWVQUUVDcDRpQWhTczZXS2tCTWdwWGxhYzJQbElDREVBTHNKMGlYT0VsSUFYQ2FwaGNoR25TNWc4R2J2UkVPUFZSc0ZDUjd3YU9CdnRnZ0dtYkFianlwMExJQkFBSWZrRUFBVUFGUUFzQUFBQUFDQUFJQUFBQi8rQUFJS0RoSVdHaDRpSmlvdU1qWTZQa0pHU2hBVkNMcE9LRHlnb0pKaUlCSnNjZ3dXU0Nod0VRb0tnS0VHQ0N6ZEFwSSthS0M4ZEFFSUROeFM0bXlpOGp3dStDNElDc2hPK3dJNEZITFhLZzBJdktEaVNCUzdQaEIwMG5veXlqQlFFQkJPTEJVQzZxWXVyS051SkpMNDMzb2dEYWdreG5ZbEM3L0dITFdGTkpyY1NGY0JCSUFpN1JSMkU3T05HQ0FlUklTQU91YmdVS1VnWE0yNGNHS0lWNnhHSk1HV3UrSkFBb0FBQmFnQlFoSkNDNHNFakJ5SGRxRmdCNEVJTkNRTUFCRG14a3NBakNYYmNwTWdqUUlHSk5TWm9wdVFweXBHVUNGR0szS0pSWXcwZGpTV0JBRkVBeWNVNFFUUWdySmxEaENFaENuUFdmTEZnbHBBRHRXb04yZzZpSUlPRkFMbDQ4K1lOQkFBaCtRUUFCUUFXQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam8rUWtaS0VCVUl1azRvUEtDZ2ttSWdFbXh5REJaSUtIQVJDZ3FBb1FZSUxOMENrajVvb0x4MEFRZ00zRkxpYktMeVBDNzRMZ2dLeUU3N0FqZ1VjdGNxRFFpOG9PSklGTHMrRUhUU2VqTEtNdVRjVGl3VkF1cGVLUW1CS05SSTNpaVMrQklza0tUMDlPeC9vOFl3WFRDazEyQW9Wd0VFZ1NNQkRIVng0NDJab2dvVVlJQTY1T0FjSnlCZ2ZLdklWZ29jaTFpTWhiWHlrRUpFSEFEbGlBSUFNZStRRXhrZ29kUUJza1ZDbEZVY1VvaHFCNEpJaVF4UUhCVUF3YU9Ea2hLQUowaDQ4WXBCQmc1T0lGQ1EweUJOVEVBV0tqU2pJT0tIQTZwMEdDSVl3SkFRaUQ5Z3RZd2taT09Ba1oxcVRIQWVvdloxTGwyNGdBQ0g1QkFBRkFCY0FMQUFBQUFBZ0FDQUFBQWYvZ0FDQ2c0U0Zob2VJaVlxTGpJMk9qNUNSa29RRlFpNlRpZzhvS0NTWWlBU2JISjRBQ2tFRVFvS2dLRUdDSkFSQUJaQ2FLQzhkQUVJRE54UzNteWk3and1OUM0SUNzUUFUdmIrT0JSeTB5b05DTHlnNGtnVXV6NFFkTkpGQ3FJM0dqQ3NZTUd1ZGlRVkF1ZHVLUWhnNzcyK0tKTDBFaXlRWldWbHdNK3k5b290RG1vaVlnNjFRQVJ3RWdoUThwTUFGdUZHR0hzd3dBT0lRaFlXTGNMUVJBZVdDSVJMU1lEMFNBZ0VQRXlwVldsMENBRVRZb3lvbWxYQXhBRUROanlIRGhQUUM0Z2hFR3laTnVzd29JSUJJa1JsU0JEMTQ4Y0piSXlkTkloQ3BTTU5Ha1E4c0JuVlFBS25ERkRWY0FYUW9Vc1NMR29pRUJId29ZZ0VGV2tJNERTNGtXUGRXME1PNmVQUFdEUVFBSWZrRUFBVUFHQUFzQUFBQUFDQUFJQUFBQi8rQUFJS0RoSVdHaDRpSmlvdU1qWTZQa0pHU2hBVkNMcE9LRHlnb0pKaUlCSnNjbmdBS1FRUkNncUFvUVlJa0JFQUZrSm9vTHgwQVFnTTNGTGViS0x1UEM3MExnZ0t4QUJPOXY0NEZITFRLZzBJdktEaVNCUzdQaEIwMGtTNm9qY2FNUXlJWUk1MkpCVUFEQk5pR1FuaFdjSEFYaWlTOW9vcENVV1ptWlcvNDlveGlkRW5pZ1IwbEhBU0NHRFNrZ0FhNFVZWVdYRWdnNEJDRmhZb216RkhDaFkwaEV0S0FRSEpSZ1FxWk9GNEUwVkFnQ0VndmI0MGNMQ0VUWm9RYUFGSmlwTmtscE5jRVJ5RG0wRndUbzRDQUlVUFVVQVB3NE1VQWpJYUloR256cG1LSEdVT20zQ01GQWxLSEVDMk1nYmd3Sk1GV2lJSllERGt4RE8wZ0JUY0tmcnFkUzdldVhVT0JBQUFoK1FRQUJRQVpBQ3dBQUFBQUlBQWdBQUFILzRBQWdvT0VoWWFIaUltS2k0eU5qbytRa1pLRUJVSXVrNG9QS0Nna21JZ0VteHllQUFwQkJFS0NvQ2hCZ2lRRVFBV1FNaTBvTHgwQVFnTTNGTGliS0x5UE9SQzBDNElDc1FBVHZzQ09RRkJmVDh5RFFpOG9PSkk0RHNXSEhUU1BCUzRrUWdLTnlJb2tYeG9aSWh1b2lRVkFBd1MzaVY1MmRqdzhaUTdudnFLSk05d0lGT2hGa1JCZnJCS1JvTk1FeXBJR2w5N2hlS1ZnVVNVU0VVY2hJc0VtQkRsREZLUTVXbkFnVG8wRWhraFVBd0tKQm9JNEcralVFYVFBaENBZ3Z0dzFlbU5rd3h3SlR3QUVlVExnMXNGTjJ4Z0prTERoUzRVVEFBcXdvTVVTd0FONUZSM05jTXFHbkFBMXRQNEJPQVpKZ1pRWHlBcWtvYXF4RUpBbkx3MUV0cVdRdGEzZHUzanpLZ29FQUNINUJBQUZBQm9BTEFBQUFBQWdBQ0FBQUFmL2dBQ0NnNFNGaG9lSWlZcUxqSTJPajVDUmtvUUZRaTZUaWc4b0tDU1lneDBGZ3dTYkhKNEFhVTAvUW9LaktFR0NKQVJBb1k5elBTa0dIUUJDQXpjVXU1c292NDhTT3oxR0Q0SUN0QlBCdzQ0NFNUdGxUNFpDTHlnNGtqZy9iTFNGSFRTUEJUU1dBbzNmaVN3YlRVeEpYNTJKQlVBREJMcUlJRVpZK3pBd1NJb2tncjNDdHlHRFFZTU9GQWtKQmtSUml3MWt5SXhoRUE5UkFSeXlRQ3dDSVVTSU9GT0pYQ1I0a200UWhXZVBTRGlaYzZlRklSTFlHajZpVUlYT2dUd0pCSUhRQ0FCSHNJK04ySmc0Z09ESERRQXdCK2hhdUduQkl5SUhHQ0J4Q2FDVnpBWDFlRFpTazZlSW1sQUZibXdhQ0tCQVNVWVRrb25hcEEwa0lWNEVEUlM0TFdSMnJ0MjdlUE1lQ2dRQUlma0VBQVVBR3dBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2UGtKR1NoQVZDTHBPS0R5Z29KSmlERkVLREJKc2NuZ0F0VFNsRmdxTW9RWUlrQkVBRmtCNVpPbFlHQUVJRE54UzdteWkvand4d1dqc1NnZ0swQUJQQnc0NDRWSEJuRjRaQ0x5ZzRraE1sVzh5RkhUU1BCVFJDTk9DSzZZaHBjMlJMRVI2aGlRVkFBd1FkaVNBMVVWRWFHbmlJS0NJUjdCVWlBWFNhS0ZRNFE1R1FZRUFVU1RIUnBzMElHL01RRmNBaEM4UWlFQzVjUUROMWlFYWFHK3NFVVJqcHlJV0ZQRDl1R0NLUkxlSWpFRytPVlBtQVFoQUlqd0J3QkJ2bkNJV1RLbDVpUEFCQWMwQytoNXM2RmExaTRjSUFWcHRzTHJnSHRKR0NFMnhrQWlod1k1UEJzU2taQ1NERVlkTUNrb1VPS0hEZzBCV3UzYnQ0OCtwZEZBZ0FJZmtFQUFVQUhBQXNBQUFBQUNBQUlBQUFCLytBQUlLRGhJV0doNGlKaW91TWpZNlBrSkdTaEFWQ0xwT0tEeWdvSkppRE5FS0RCSnNjbmdBdFVCbFZncU1vUVlJa0JFQUZrQWRtVm1VeUFFSUROeFM3bXlpL2owYzhaMVk1Z2dLMEFCUEJ3NDRUWkR4MmRZWkNMeWc0a2hOZU1zeUZIVFNQQlJRdU5PQ0s2WWhTQjJKaGNUbmppUVZBQXdRS2lRSVZYVjBSUzBzdUtDSVJESWkrTzJNU0poeWlTRWhCUlFNWW1ERFJ3TUU4UkFWd3lBS3hTQUFGR2gxTUtlcnd3dUFoQ3RBZVVZamhoYzBEUXlTeW1YeDA0a09kS2RzQWdPQUlBTWV6UnlSVzFEbnhaRnpNQVNFZGJycmt5QVViR1dsZUFtaGxjc0dOSUFJZzJlc0VvTUNOVGE4RXJac1VaTk1Da1lVVUJKa3dGcTNidDNBRjQ4cEZGQWdBSWZrRUFBVUFIUUFzQUFBQUFDQUFJQUFBQi8rQUFJS0RoSVdHaDRpSmlvdU1qWTZQa0pHU2hBOFhMcE9FQ3hPRVgwMVNKSmdBVTBsNEpZSVVLa3BTSEtFVmJsZHVSQUFVR1dRb1FZSWtCRUFGajA0d2JuWm9CZ0JPYlRjVUFFSW96TW1PRDJFd2FEd1ZnaE85QUJQTUtNNk9OOUUrRm9aQ0x5ZzRrZzhmRndLSEhUU1E3aFRZaS9PSkwwZHpFQkJPNzRrRlFBTUlLRWdrSU0rYU5tM0VHR0dqaU1RMklQNlFmSms0a1ZpaVpjd2dKdUpRQlFFQ0p4ZTZIU3FBWXhlSVJRSTZVQmdZU3BFQ0hFSVFVUkRwQ0VTSUJFOHVGU0pSVHVPakYxT2VvTmdFQU1SSkFEaTIwWFFaUXVpTGR6d0hkRkMyVFdlakFnTlF2QUFGZ0VCR1FRdHU0S2pIU01FQ3F6ZVk0UkpFZGhJUVpnc1BXaG9TTU9HYTNMdDQ4K3JkaXlrUUFDSDVCQUFGQUI0QUxBQUFBQUFnQUNBQUFBZi9nQUNDZzRTRmhvZUlpWXFMakkyT2o1Q1Jrb1FMUlRNS2s0SkNGeUdFZERzNlI1a0NCeGdpRm9JVWVEczlKcGswWEJrcEtnNEFGQnFzUklJa0JFQUZqd3dhR1ZnWU1nQTJQRmdvQUVJb3poU1BFeHNhS2pBU2dnUVBnaFBPS05DUEhDTWFJak9HUWk4b09KSWtLekVDaHgwMGtBb1VIYitNOTRwQ0Zqa1NFaVhmRUJVQU1vQUFwa1JER2xUdzRNRkVBa1VrdWdGUkZJT0JSWXNzOUVsVTVJS05Bd2NmVG5SUVZBQkhMeENNRkNoQW1XbVJBQmNqRDFFSStLZ0FCeFF2WEJnaWdXNGlKRzdPSmdnQ3dSSkhONXFNQ0RoN0lZL25nSkhObmtFQ2dwTUVObWMrRjl4UUI2bUFpNE1BYmpnTE1paGZTNk1vckxZMEpPQ0IyclZ3QitQS25VdFhiaUFBT3dBQUFBQUFBQUFBQUR4aWNpQXZQZ284WWo1WFlYSnVhVzVuUEM5aVBqb2dJRzE1YzNGc1gzRjFaWEo1S0NrZ1d6eGhJR2h5WldZOUoyWjFibU4wYVc5dUxtMTVjM0ZzTFhGMVpYSjVKejVtZFc1amRHbHZiaTV0ZVhOeGJDMXhkV1Z5ZVR3dllUNWRPaUJEWVc0bmRDQmpiMjV1WldOMElIUnZJR3h2WTJGc0lFMTVVMUZNSUhObGNuWmxjaUIwYUhKdmRXZG9JSE52WTJ0bGRDQW5MM1poY2k5eWRXNHZiWGx6Y1d4a0wyMTVjM0ZzWkM1emIyTnJKeUFvTWlrZ2FXNGdQR0krTDJodmJXVXZZV3BoZUd4dllXUXZkM2QzTDJ4cFluSmhhWEpwWlhNdlkyeGhjM011YlhsemNXd3VjR2h3UEM5aVBpQnZiaUJzYVc1bElEeGlQalk0UEM5aVBqeGljaUF2UGdvOFluSWdMejRLUEdJK1YyRnlibWx1Wnp3dllqNDZJQ0J0ZVhOeGJGOXhkV1Z5ZVNncElGczhZU0JvY21WbVBTZG1kVzVqZEdsdmJpNXRlWE54YkMxeGRXVnllU2MrWm5WdVkzUnBiMjR1YlhsemNXd3RjWFZsY25rOEwyRStYVG9nUVNCc2FXNXJJSFJ2SUhSb1pTQnpaWEoyWlhJZ1kyOTFiR1FnYm05MElHSmxJR1Z6ZEdGaWJHbHphR1ZrSUdsdUlEeGlQaTlvYjIxbEwyRnFZWGhzYjJGa0wzZDNkeTlzYVdKeVlXbHlhV1Z6TDJOc1lYTnpMbTE1YzNGc0xuQm9jRHd2WWo0Z2IyNGdiR2x1WlNBOFlqNDJPRHd2WWo0OFluSWdMejRLUEdKeUlDOCtDanhpUGxkaGNtNXBibWM4TDJJK09pQWdiWGx6Y1d4ZmNYVmxjbmtvS1NCYlBHRWdhSEpsWmowblpuVnVZM1JwYjI0dWJYbHpjV3d0Y1hWbGNua25QbVoxYm1OMGFXOXVMbTE1YzNGc0xYRjFaWEo1UEM5aFBsMDZJRU5oYmlkMElHTnZibTVsWTNRZ2RHOGdiRzlqWVd3Z1RYbFRVVXdnYzJWeWRtVnlJSFJvY205MVoyZ2djMjlqYTJWMElDY3ZkbUZ5TDNKMWJpOXRlWE54YkdRdmJYbHpjV3hrTG5Odlkyc25JQ2d5S1NCcGJpQThZajR2YUc5dFpTOWhhbUY0Ykc5aFpDOTNkM2N2YkdsaWNtRnBjbWxsY3k5amJHRnpjeTV0ZVhOeGJDNXdhSEE4TDJJK0lHOXVJR3hwYm1VZ1BHSStOamc4TDJJK1BHSnlJQzgrQ2p4aWNpQXZQZ284WWo1WFlYSnVhVzVuUEM5aVBqb2dJRzE1YzNGc1gzRjFaWEo1S0NrZ1d6eGhJR2h5WldZOUoyWjFibU4wYVc5dUxtMTVjM0ZzTFhGMVpYSjVKejVtZFc1amRHbHZiaTV0ZVhOeGJDMXhkV1Z5ZVR3dllUNWRPaUJCSUd4cGJtc2dkRzhnZEdobElITmxjblpsY2lCamIzVnNaQ0J1YjNRZ1ltVWdaWE4wWVdKc2FYTm9aV1FnYVc0Z1BHSStMMmh2YldVdllXcGhlR3h2WVdRdmQzZDNMMnhwWW5KaGFYSnBaWE12WTJ4aGMzTXViWGx6Y1d3dWNHaHdQQzlpUGlCdmJpQnNhVzVsSUR4aVBqWTRQQzlpUGp4aWNpQXZQZ284WW5JZ0x6NEtQR0krVjJGeWJtbHVaend2WWo0NklDQnRlWE54YkY5eGRXVnllU2dwSUZzOFlTQm9jbVZtUFNkbWRXNWpkR2x2Ymk1dGVYTnhiQzF4ZFdWeWVTYytablZ1WTNScGIyNHViWGx6Y1d3dGNYVmxjbms4TDJFK1hUb2dRMkZ1SjNRZ1kyOXVibVZqZENCMGJ5QnNiMk5oYkNCTmVWTlJUQ0J6WlhKMlpYSWdkR2h5YjNWbmFDQnpiMk5yWlhRZ0p5OTJZWEl2Y25WdUwyMTVjM0ZzWkM5dGVYTnhiR1F1YzI5amF5Y2dLRElwSUdsdUlEeGlQaTlvYjIxbEwyRnFZWGhzYjJGa0wzZDNkeTlzYVdKeVlXbHlhV1Z6TDJOc1lYTnpMbTE1YzNGc0xuQm9jRHd2WWo0Z2IyNGdiR2x1WlNBOFlqNDJPRHd2WWo0OFluSWdMejRLUEdKeUlDOCtDanhpUGxkaGNtNXBibWM4TDJJK09pQWdiWGx6Y1d4ZmNYVmxjbmtvS1NCYlBHRWdhSEpsWmowblpuVnVZM1JwYjI0dWJYbHpjV3d0Y1hWbGNua25QbVoxYm1OMGFXOXVMbTE1YzNGc0xYRjFaWEo1UEM5aFBsMDZJRUVnYkdsdWF5QjBieUIwYUdVZ2MyVnlkbVZ5SUdOdmRXeGtJRzV2ZENCaVpTQmxjM1JoWW14cGMyaGxaQ0JwYmlBOFlqNHZhRzl0WlM5aGFtRjRiRzloWkM5M2QzY3ZiR2xpY21GcGNtbGxjeTlqYkdGemN5NXRlWE54YkM1d2FIQThMMkkrSUc5dUlHeHBibVVnUEdJK05qZzhMMkkrUEdKeUlDOCtDZz09JztcblxuICAgIC8vIFZpZXdwb3J0IGVsZW1lbnRzXG4gICAgLyoqIEB0eXBlIHtIVE1MRWxlbWVudH0gKi9cbiAgICB2YXIgY29udGFpbmVyICA9IG51bGw7XG4gICAgdmFyIGxvYWRlciA9IG51bGw7XG4gICAgdmFyIHJlbmRlcmVyID0gbnVsbDtcblxuICAgIC8vIFN0b3JlcyB0aGUgY3VycmVudCB2ZWhpY2xlIHN0YXRlIGZvciB0aGUgdmVoaWNsZVxuICAgIHZhciBhY3RpdmUgPSBmYWxzZTtcbiAgICB2YXIgc3RhdGUgPSB7IH07XG5cbiAgICAvLyBNYWtlIHN1cmUgb3VyIG9wdGlvbnMgb2JqZWN0IGlzIGluaXRpYWxpemVkXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICBpZiAob3B0aW9ucy5zdGF0ZSkge1xuICAgICAgICBzdGF0ZSA9IG9wdGlvbnMuc3RhdGU7XG4gICAgfVxuXG4gICAgLy8gQXR0ZW1wdCB0byBmaW5kIG91ciBjb250YWluZXIgYmFzZWQgb24gdGhlIHNlbGVjdGlvbiBzdHJpbmcgaWYgd2UgY2FuXG4gICAgaWYgKHR5cGVvZiBlbGVtID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAodHlwZW9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbVswXSA9PT0gJy4nKSB7XG4gICAgICAgICAgICBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGVsZW0uc3Vic3RyaW5nKDEpKTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtWzBdID09PSAnIycpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW0uc3Vic3RyaW5nKDEpKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIElzIHRoaXMgYSBET00gZWxlbWVudFxuICAgICAgICBpZiAoZWxlbS50YWdOYW1lKSB7XG4gICAgICAgICAgICBjb250YWluZXIgPSBlbGVtO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gTWFrZSBzdXJlIHdlIGNhbiBmaW5kIG91ciBlbGVtZW50IHRoYXQgd2UgYXJlIHRyeWluZyB0byB1c2UgZm9yIHRoaXMgdmlld2VyXG4gICAgaWYgKCFjb250YWluZXIpIGNvbnNvbGUuZXJyb3IoJ0NvdWxkIG5vdCBmaW5kIGVsZW1lbnQgc3BlY2lmaWVkIGZvcjogJyArIGVsZW0pO1xuXG4gICAgLy8gUHJlcGFyZSB0aGUgY29udGFpbmVyIHNvIGl0IGNhbiBwcm9wZXJseSB3cmFwIHRoZSBjb250ZW50c1xuICAgIHZhciBpc09mZnNldFBvc2l0aW9uZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbjtcbiAgICAgICAgdmFyIGlzT2Zmc2V0UG9zaXRpb25WYWx1ZSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID09PSAnZml4ZWQnIHx8IHZhbHVlID09PSAnYWJzb2x1dGUnIHx8IHZhbHVlID09PSAncmVsYXRpdmUnO1xuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChpc09mZnNldFBvc2l0aW9uVmFsdWUocG9zaXRpb24pKSByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAvKiogQHR5cGUge0NTU1N0eWxlRGVjbGFyYXRpb259ICovXG4gICAgICAgIHZhciBjYWxjdWxhdGVkU3R5bGUgPSAnZ2V0Q29tcHV0ZWRTdHlsZScgaW4gd2luZG93ID8gZ2V0Q29tcHV0ZWRTdHlsZShjb250YWluZXIpIDogY29udGFpbmVyLnJ1bnRpbWVTdHlsZTtcblxuICAgICAgICBpZiAoIWNhbGN1bGF0ZWRTdHlsZSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHJldHVybiBpc09mZnNldFBvc2l0aW9uVmFsdWUoY2FsY3VsYXRlZFN0eWxlLnBvc2l0aW9uKTtcbiAgICB9KCk7XG5cbiAgICAvLyBJZiB3ZSdyZSBub3QgcG9zaXRpb25lZCB1c2luZyBvZmZzZXQgcG9zaXRpb25pbmcsIHNldCByZWxhdGl2ZSBwb3NpdGlvbmluZyBvbiB0aGUgY29udGFpbmVyXG4gICAgaWYgKCFpc09mZnNldFBvc2l0aW9uZWQpXG4gICAgICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG5cbiAgICAvLyBDcmVhdGUgb3VyIG90aGVyIHJlcXVpcmVkIGVsZW1lbnRzXG4gICAgY3JlYXRlTG9hZGVyRWxlbWVudCgpO1xuXG4gICAgLy8gRmlndXJlIG91dCB3aGljaCB2ZXJzaW9uIG9mIG91ciB2aWV3ZXIgd2Ugd2FudCB0byB1c2VcbiAgICAvKlxuICAgIGlmIChpc0NhbnZhc1N1cHBvcnRlZCgpID09IGZhbHNlKSB7IC8vIFRPRE86IE5FRUQgVE8gUkVNT1ZFIFRIRSBGQUxTRSBSRVFVSVJFTUVOVCAtIFdFIEFSRSBGTElQUElORyBGT1IgREVCVUdcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbmRlcmVyID0gbmV3IFJpZGVTdHlsZXJJbWFnZVJlbmRlcmVyKGNvbnRhaW5lcik7XG4gICAgfVxuICAgICovXG5cbiAgICAvLyBXZSBhcmUgYWx3YXlzIHVzaW5nIHRoZSBpbWFnZSByZW5kZXJlciBzaW5jZSB0aGF0IGlzIGFsbCB0aGF0IGlzIHN1cHBvcnRlZCBjdXJyZW50bHlcbiAgICByZW5kZXJlciA9IG5ldyBSaWRlU3R5bGVySW1hZ2VSZW5kZXJlcihjb250YWluZXIpO1xuXG4gICAgdmFyIGRlc2lyZWRBc3BlY3RIZWlnaHQgPSBudWxsO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jb250YWluZXJBc3BlY3RSYXRpbyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgZGVzaXJlZEFzcGVjdEhlaWdodCA9IG9wdGlvbnMuY29udGFpbmVyQXNwZWN0UmF0aW87XG4gICAgfVxuXG4gICAgdmFyIGxhc3RDbGllbnRXaWR0aCA9IDA7XG4gICAgdmFyIHJlZnJlc2hUaW1lb3V0ID0gMDtcbiAgICB0aGlzLlJlc2l6ZVJlbmRlckFyZWEgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNvbnRhaW5lci5jbGllbnRXaWR0aCAhPSBsYXN0Q2xpZW50V2lkdGgpIHtcbiAgICAgICAgICAgIGxhc3RDbGllbnRXaWR0aCA9IGNvbnRhaW5lci5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgIHN0YXRlWyd3aWR0aCddID0gbGFzdENsaWVudFdpZHRoO1xuXG4gICAgICAgICAgICAvLyBJZiB3ZSBhcmUgbWFpbnRhaW5pbmcgdGhlIGFzcGVjdCByYXRpbyB3ZSBuZWVkIHRvIHVwZGF0ZSB0aGF0XG4gICAgICAgICAgICBpZiAoZGVzaXJlZEFzcGVjdEhlaWdodCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgucm91bmQobGFzdENsaWVudFdpZHRoICogZGVzaXJlZEFzcGVjdEhlaWdodCk7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLmhlaWdodCA9IGhlaWdodCArICdweCc7XG4gICAgICAgICAgICAgICAgc3RhdGVbJ2hlaWdodCddID0gaGVpZ2h0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgb3VyIHJlbmRlcmVyIGlzIGFjdGl2ZSBiZWZvcmUgYXR0ZW1wdCB0byByZWRyYXdcbiAgICAgICAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQocmVmcmVzaFRpbWVvdXQpO1xuICAgICAgICAgICAgICAgIHJlZnJlc2hUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBhIHJlZnJlc2ggb24gdGhlIHJlbmRlcmVyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlcmVyLlJlbmRlcihzdGF0ZSk7XG4gICAgICAgICAgICAgICAgfSwgMTUwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBDaGVjayB0byBzZWUgaWYgd2Ugc2hvdWxkIGJlIGNvbnRyb2xsaW5nIHRoZSBjb250YWluZXIgYXNwZWN0IHJhdGlvXG4gICAgaWYgKG9wdGlvbnMucmVzcG9uc2l2ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgc2V0SW50ZXJ2YWwodGhpcy5SZXNpemVSZW5kZXJBcmVhLCAxMDApO1xuICAgICAgICB0aGlzLlJlc2l6ZVJlbmRlckFyZWEoKTtcbiAgICB9XG5cbiAgICB0aGlzLlVwZGF0ZSA9IGZ1bmN0aW9uKGluc3RydWN0aW9ucykge1xuICAgICAgICAvLyBMZXQgb3VyIHN5c3RlbSBrbm93IHRoYXQgd2UgYXJlIHJlYWR5IHRvIHJvY2tcbiAgICAgICAgYWN0aXZlID0gdHJ1ZTtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgb3VyIGluc3RydWN0aW9ucyBhcmUgaW4gYW4gb2JqZWN0IGZvcm1hdFxuICAgICAgICBpbnN0cnVjdGlvbnMgPSBwcmVwYXJlQXJndW1lbnRzKGluc3RydWN0aW9ucyk7XG5cbiAgICAgICAgLy8gSW5qZWN0IG91ciB2YXJpYWJsZXMgYmFzZWQgb24gZ2xvYmFsIHBhcmFtc1xuICAgICAgICBpbnN0cnVjdGlvbnNbJ3dpZHRoJ10gPSBjb250YWluZXIuY2xpZW50V2lkdGg7XG4gICAgICAgIGluc3RydWN0aW9uc1snaGVpZ2h0J10gPSBjb250YWluZXIuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgIC8vIFVwZGF0ZSBvdXIgaW50ZXJuYWwgc3RhdGUgYW5kIHdhdGNoIGZvciBjaGFuZ2VzXG4gICAgICAgIHZhciBoYXNDaGFuZ2VzID0gZmFsc2U7XG4gICAgICAgIGZvcih2YXIgeCBpbiBpbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciB2MSA9IHN0YXRlW3hdO1xuICAgICAgICAgICAgdmFyIHYyID0gaW5zdHJ1Y3Rpb25zW3hdO1xuICAgICAgICAgICAgaWYgKHYxICE9IHYyKSB7XG4gICAgICAgICAgICAgICAgc3RhdGVbeF0gPSB2MjtcbiAgICAgICAgICAgICAgICBoYXNDaGFuZ2VzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHdlIGRpZG4ndCBtYWtlIGFueSBjaGFuZ2VzIHRvIG91ciBpbnRlcm5hbCBzdGF0ZSB3ZSBkb24ndCBuZWVkIHRvIHBlcmZvcm0gYW4gdXBkYXRlXG4gICAgICAgIGlmIChoYXNDaGFuZ2VzID09IGZhbHNlKSB7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHJpZGVzdHlsZXIucHJvbWlzZSgpO1xuXG4gICAgICAgICAgICBwcm9taXNlLnJlc29sdmUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVuZGVyZXIuUmVuZGVyKHN0YXRlKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcHJlcGFyZUFyZ3VtZW50cyhhcmdzKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSB7fTtcblxuICAgICAgICBpZiAodHlwZW9mIGFyZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW5zID0gYXJncy5zcGxpdCgnPycpO1xuICAgICAgICAgICAgdG9rZW5zID0gKHRva2Vucy5sZW5ndGggPT0gMSA/IHRva2Vuc1swXSA6IHRva2Vuc1sxXSkuc3BsaXQoJyYnKTtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga3YgPSB0b2tlbnNbaV0uc3BsaXQoJz0nKTtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gZGVjb2RlVVJJQ29tcG9uZW50KGt2WzBdKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gU2tpcCBvdmVyIHZhcmlhYmxlcyB0aGF0IGFyZSBub3QgdXNlZCBmb3IgcmVuZGVyaW5nXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PSAna2V5JyB8fCBrZXkgPT0gJ3Rva2VuJykgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICB2YWx1ZXNba2V5XSA9IGRlY29kZVVSSUNvbXBvbmVudChrdlsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgYWxsIGtleXMgYXJlIGluIGxvd2VyIGNhc2VcbiAgICAgICAgICAgIGZvcih2YXIgayBpbiBhcmdzKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzW2sudG9Mb3dlckNhc2UoKV0gPSBhcmdzW2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0NhbnZhc1N1cHBvcnRlZCgpIHtcbiAgICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgcmV0dXJuICEhKGVsZW0uZ2V0Q29udGV4dCAmJiBlbGVtLmdldENvbnRleHQoJzJkJykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJJbWFnZVJlbmRlcmVyKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgYWN0aXZlSW1hZ2UgPSBudWxsO1xuICAgICAgICB2YXIgcmV0aXJlZEltYWdlcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHtSaWRlU3R5bGVyUHJvbWlzZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuUmVuZGVyID0gZnVuY3Rpb24oaW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTmV3TGF5ZXIoaW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7UmlkZVN0eWxlclByb21pc2V9XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVOZXdMYXllcihpbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gcmlkZXN0eWxlci5wcm9taXNlKCk7XG5cbiAgICAgICAgICAgIC8vIFNob3cgb3VyIGxvYWRlciBzaW5jZSB3ZSBhcmUgY3JlYXRpbmcgYSBuZXcgbGF5ZXJcbiAgICAgICAgICAgIHNob3dMb2FkZXJFbGVtZW50KCk7XG5cbiAgICAgICAgICAgIHZhciBpbWFnZVVybCA9IHJpZGVzdHlsZXIuYWpheC51cmwoJ1ZlaGljbGUvUmVuZGVyJywgaW5zdHJ1Y3Rpb25zKTtcblxuICAgICAgICAgICAgLy8gUmV0aXJlIG91ciBhY3RpdmUgaW1hZ2UgaWYgaXQgaXMgYXZhaWxhYmxlXG4gICAgICAgICAgICBpZiAoYWN0aXZlSW1hZ2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldGlyZWRJbWFnZXMucHVzaChhY3RpdmVJbWFnZSk7XG4gICAgICAgICAgICAgICAgYWN0aXZlSW1hZ2UgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBGaW5kIGFsbCBvZiBvdXIgb2xkIGltYWdlcyBhbmQgZmFkZSB0aGVtIHRvIGhhbGYgdHJhbnNwYXJlbnQgKGlmIHRoZXkgYXJlIHZpc2libGUpXG4gICAgICAgICAgICBmb3IodmFyIGkgPSByZXRpcmVkSW1hZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9pbWcgPSByZXRpcmVkSW1hZ2VzW2ldO1xuXG4gICAgICAgICAgICAgICAgLy8gUGFydGlhbGx5IGZhZGUgb3V0IG91ciByZXRpcmVkIGltYWdlc1xuICAgICAgICAgICAgICAgIGlmIChvaW1nLnN0eWxlLm9wYWNpdHkgPiAwLjUpIG9pbWcuc3R5bGUub3BhY2l0eSA9IDAuNTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IGltYWdlIGVsZW1lbnQgZm9yIHRoZSBjdXJyZW50IHJlbmRlciByZXN1bHRcbiAgICAgICAgICAgIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgIGltZy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICBpbWcuc3R5bGUubGVmdCA9IDA7XG4gICAgICAgICAgICBpbWcuc3R5bGUudG9wID0gMDtcbiAgICAgICAgICAgIGltZy5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIGltZy5zdHlsZS50cmFuc2l0aW9uID0gJ29wYWNpdHkgbGluZWFyIDMwMG1zJztcblxuICAgICAgICAgICAgLy8gQWRkIG91ciBuZXcgaW1hZ2UgbGF5ZXIgdG8gdGhlIERPTVxuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGFjdGl2ZUltYWdlID0gaW1nKTtcblxuICAgICAgICAgICAgLy8gTGlzdGVuIGZvciBvdXIgbmV3IGxheWVyIHRvIGJlY29tZSByZWFkeSBhbmQgZGlzcGxheSBpdCB0byB0aGUgdXNlci4gQWxzbywgY2xlYW51cCBhbnkgbGVnYWN5IGxheWVycy5cbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IGZhZGUgaW4gdGhpcyBJTUcgaWYgaXQgaGFzbid0IGFscmVhZHkgYmVlbiByZXBsYWNlZC5cbiAgICAgICAgICAgICAgICBpZiAoaW1nID09IGFjdGl2ZUltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkZXJFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGltZy5zdHlsZS5vcGFjaXR5ID0gMTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlZEltYWdlcyA9IHJldGlyZWRJbWFnZXMuc3BsaWNlKDAsIHJldGlyZWRJbWFnZXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmFkZSBhbGwgb2Ygb3VyIG9sZCBpbWFnZXMgb3V0IG9mIHZpZXdcbiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHJlbW92ZWRJbWFnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZWRJbWFnZXNbaV0uc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGVsZW1lbnRzIGFmdGVyIHRoZXkgaGF2ZSBoYWQgYSBjaGFuY2UgdG8gZmFkZSBvdXRcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCByZW1vdmVkSW1hZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHJlbW92ZWRJbWFnZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlLnJlamVjdCgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gU3RhcnQgbG9hZGluZyBvdXIgaW1hZ2VcbiAgICAgICAgICAgIGltZy5zcmMgPSBpbWFnZVVybDtcblxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVMb2FkZXJFbGVtZW50KCkge1xuICAgICAgICBsb2FkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcblxuICAgICAgICAvLyBTZXQgb3VyIGltYWdlXG4gICAgICAgIGxvYWRlci5zcmMgPSBsb2FkZXJEYXRhO1xuXG4gICAgICAgIC8vIFNldHVwIHN0eWxlIG9mIHRoZSBlbGVtZW50XG4gICAgICAgIGxvYWRlci5zdHlsZS5wYWRkaW5nID0gJzVweCc7XG4gICAgICAgIGxvYWRlci5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnMjFweCc7XG4gICAgICAgIGxvYWRlci5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmZmYnO1xuICAgICAgICBsb2FkZXIuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgIGxvYWRlci5zdHlsZS50cmFuc2l0aW9uID0gJ29wYWNpdHkgbGluZWFyIDMwMG1zJztcblxuICAgICAgICAvLyBQb3NpdGlvbiBpbiBvdXIgY29udGFpbmVyXG4gICAgICAgIGxvYWRlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGxvYWRlci5zdHlsZS5sZWZ0ID0gJzUwJSc7XG4gICAgICAgIGxvYWRlci5zdHlsZS50b3AgPSAnNTAlJztcbiAgICAgICAgbG9hZGVyLnN0eWxlLnpJbmRleCA9ICc1MCc7XG5cbiAgICAgICAgLy8gT2Zmc2V0IGZvciBzaXplXG4gICAgICAgIGxvYWRlci5zdHlsZS5tYXJnaW5MZWZ0ID0gJy0yMXB4JztcbiAgICAgICAgbG9hZGVyLnN0eWxlLm1hcmdpblRvcCA9ICctMjFweCc7XG5cbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGxvYWRlcik7XG4gICAgICAgIHNob3dMb2FkZXJFbGVtZW50KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2hvd0xvYWRlckVsZW1lbnQoKSB7XG4gICAgICAgIGxvYWRlci5zdHlsZS5vcGFjaXR5ID0gMC43NTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoaWRlTG9hZGVyRWxlbWVudCgpIHtcbiAgICAgICAgbG9hZGVyLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgIH1cbn1cblxuIiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGV2ZW50cztcbiAgICAoZnVuY3Rpb24gKGV2ZW50cykge1xuICAgICAgICA7XG5cbiAgICAgICAgdmFyIEV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIEV2ZW50SGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXZlbnRIYW5kbGVyKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBMaXN0ZW4gZm9yIGFuIGV2ZW50XG4gICAgICAgICAgICAgKiBAcGFyYW0gZXZlbnROYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudCB0byBsaXN0ZW4gZm9yXG4gICAgICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgIFRoZSBjYWxsYmFjayB0byBydW4gd2hlbiB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkXG4gICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoRXZlbnRIYW5kbGVyLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ29uJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnROYW1lIGluIHRoaXMuZXZlbnRIYW5kbGVycyA9PT0gZmFsc2UpIHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTdG9wIGxpc3RlbmluZyBmb3IgYW4gZXZlbnRcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gZXZlbnROYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudCB0byBzdG9wIGxpc3RlbmluZyB0b1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdGhhdCB3YXMgb3JpZ2luYWxseSByZWdpc3RlcmVkXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdvZmYnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvZmYoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnROYW1lIGluIHRoaXMuZXZlbnRIYW5kbGVycyA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0gPSBSaWRlU3R5bGVyU2hvd2Nhc2UuQXJyYXlIZWxwZXIucmVtb3ZlKHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdLCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRyaWdnZXIgYW4gZXZlbnRcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gZXZlbnROYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudCB0byB0cmlnZ2VyXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGV2ICAgICAgICBUaGUgZGF0YSB0byBzZW5kIHRvIHRoZSBldmVudCBoYW5kbGVyc1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zICAgICAgICAgZmFsc2UsIGlmIHRoZSBldmVudCBoYXMgYmVlbiBjYW5jZWxsZWQgYnkgYSBoYW5kbGVyLCBvdGhlcndpc2UgdHJ1ZVxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAndHJpZ2dlcicsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRyaWdnZXIoZXZlbnROYW1lLCBldikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuZGVidWdDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5kZWJ1Z0NhbGxiYWNrKGV2ZW50TmFtZSwgZXYsIHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdIHx8IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSBpbiB0aGlzLmV2ZW50SGFuZGxlcnMgPT09IGZhbHNlKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRIYW5kbGVyID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRIYW5kbGVyKGV2KSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgcmV0dXJuIEV2ZW50SGFuZGxlcjtcbiAgICAgICAgfSgpO1xuXG4gICAgICAgIGV2ZW50cy5FdmVudEhhbmRsZXIgPSBFdmVudEhhbmRsZXI7XG4gICAgfSkoZXZlbnRzID0gUmlkZVN0eWxlclNob3djYXNlLmV2ZW50cyB8fCAoUmlkZVN0eWxlclNob3djYXNlLmV2ZW50cyA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgZmlsdGVycztcbiAgICAoZnVuY3Rpb24gKGZpbHRlcnNfMSkge1xuICAgICAgICB2YXIgRmlsdGVyQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIEZpbHRlckNvbnRyb2xsZXIoKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlckNvbnRyb2xsZXIpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxGaWx0ZXJzID0gbmV3IEdsb2JhbEZpbHRlclByb3ZpZGVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50aXJlRmlsdGVycyA9IG5ldyBUaXJlRmlsdGVyUHJvdmlkZXIodGhpcy5nbG9iYWxGaWx0ZXJzKTtcbiAgICAgICAgICAgICAgICB0aGlzLndoZWVsRmlsdGVycyA9IG5ldyBXaGVlbEZpbHRlclByb3ZpZGVyKHRoaXMuZ2xvYmFsRmlsdGVycyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhGaWx0ZXJDb250cm9sbGVyLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ3NldFZlaGljbGUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWZWhpY2xlKHZlaGljbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckZpbHRlcnMoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbEZpbHRlcnMuc2V0VmVoaWNsZSh2ZWhpY2xlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnY2xlYXJGaWx0ZXJzJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJGaWx0ZXJzKHRyaWdnZXJDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxGaWx0ZXJzLmNsZWFyKHRyaWdnZXJDaGFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpcmVGaWx0ZXJzLmNsZWFyKHRyaWdnZXJDaGFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndoZWVsRmlsdGVycy5jbGVhcih0cmlnZ2VyQ2hhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBGaWx0ZXJDb250cm9sbGVyO1xuICAgICAgICB9KCk7XG5cbiAgICAgICAgZmlsdGVyc18xLkZpbHRlckNvbnRyb2xsZXIgPSBGaWx0ZXJDb250cm9sbGVyO1xuXG4gICAgICAgIHZhciBGaWx0ZXJQcm92aWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIEZpbHRlclByb3ZpZGVyKHR5cGUsIGdsb2JhbEZpbHRlclByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlclByb3ZpZGVyKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RmlsdGVycyA9IHt9O1xuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRmlsdGVyUHJvdmlkZXIgPSBnbG9iYWxGaWx0ZXJQcm92aWRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVHJpZ2dlciB0aGUgZmlsdGVyIGNoYW5nZWQgY2FsbGJhY2tcbiAgICAgICAgICAgICAqL1xuXG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhGaWx0ZXJQcm92aWRlciwgW3tcbiAgICAgICAgICAgICAgICBrZXk6ICd0cmlnZ2VyRmlsdGVyQ2hhbmdlJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdHJpZ2dlckZpbHRlckNoYW5nZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uRmlsdGVyc0NoYW5nZWQgPT09ICdmdW5jdGlvbicpIHRoaXMub25GaWx0ZXJzQ2hhbmdlZCh0aGlzLmdldEZpbHRlcnMoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJldHVybnMgYSBmaWx0ZXIgbW9kZWwgd2l0aCB0aGUgc3BlY2lmaWVkIGZpbHRlciB2YWx1ZXMgc2V0LFxuICAgICAgICAgICAgICAgICAqIHdpdGhvdXQgYWN0dWFsbHkgc2V0dGluZyB0aGVtXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdwcmV2aWV3RmlsdGVycycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByZXZpZXdGaWx0ZXJzKGZpbHRlclZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ2xvYmFsRmlsdGVycyA9IHRoaXMuZ2xvYmFsRmlsdGVyUHJvdmlkZXIgPyB0aGlzLmdsb2JhbEZpbHRlclByb3ZpZGVyLmdldEZpbHRlcnMoKSA6IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVycyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmFzZUZpbHRlcnMgPSB0aGlzLmJhc2VGaWx0ZXJzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGZpbHRlclZhbHVlc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVyVmFsdWUgPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gZmlsdGVyVmFsdWUua2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGZpbHRlclZhbHVlLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRGaWx0ZXIoa2V5LCB2YWx1ZSwgZmlsdGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24oe30sIHRoaXMuYmFzZUZpbHRlcnMsIGdsb2JhbEZpbHRlcnMsIGZpbHRlcnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50bHkgYXBwbGllZCBmaWx0ZXJzXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdnZXRGaWx0ZXJzJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RmlsdGVycygpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdsb2JhbEZpbHRlcnMgPSB0aGlzLmdsb2JhbEZpbHRlclByb3ZpZGVyID8gdGhpcy5nbG9iYWxGaWx0ZXJQcm92aWRlci5nZXRGaWx0ZXJzKCkgOiB7fTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHt9LCB0aGlzLmJhc2VGaWx0ZXJzLCBnbG9iYWxGaWx0ZXJzLCB0aGlzLmN1cnJlbnRGaWx0ZXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmV0cmlldmUgdGhlIG9wdGlvbnMgZm9yIGEgZmlsdGVyXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGZpbHRlciBUaGUgZmlsdGVyXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdyZXRyaWV2ZU9wdGlvbnMnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXRyaWV2ZU9wdGlvbnMoZmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXIucmV0cmlldmVPcHRpb25zKHRoaXMuZ2xvYmFsRmlsdGVyUHJvdmlkZXIuZ2V0RmlsdGVycygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU2V0IGEgZmlsdGVyIG9wdGlvbiwgb24gYSBzcGVjaWZpYyBmaWx0ZXIgbW9kZWxcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ga2V5IFRoZSBmaWx0ZXIga2V5IHRvIGFwcGx5XG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBhcHBseSB0byB0aGUgZmlsdGVyXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGZpbHRlcnMgVGhlIGZpbHRlcnMgdG8gYXBwbHkgdGhlbSB0b1xuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnc2V0RmlsdGVyJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RmlsdGVyKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlcnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRoaXMuY3VycmVudEZpbHRlcnM7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlck9wdGlvbiA9IHRoaXMuZmluZEZpbHRlck9wdGlvbihrZXkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyT3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJPcHRpb24uYXBwbHkoZmlsdGVycywgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJldHVybnMgdGhlIGZpbHRlciBvcHRpb24gZm9yIHRoZSBzcGVjaWZpZWQga2V5XG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGtleSBUaGUgZmlsdGVyIGtleVxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnZmluZEZpbHRlck9wdGlvbicsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmRGaWx0ZXJPcHRpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IHRoaXMuZmlsdGVyT3B0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ3NldEZpbHRlcnMnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGaWx0ZXJzKHNlbGVjdGVkRmlsdGVyc09yS2V5LCB2YWx1ZSwgdHJpZ2dlckNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3RmlsdGVycyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRGaWx0ZXJzID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNlbGVjdGVkRmlsdGVyc09yS2V5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWx0ZXJzID0gW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHNlbGVjdGVkRmlsdGVyc09yS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfV07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEZpbHRlcnMgPSBzZWxlY3RlZEZpbHRlcnNPcktleTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykgdHJpZ2dlckNoYW5nZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IHNlbGVjdGVkRmlsdGVyc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZEZpbHRlciA9IF9zdGVwMy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gc2VsZWN0ZWRGaWx0ZXIua2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdmFsdWUgPSBzZWxlY3RlZEZpbHRlci52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RmlsdGVyKGtleSwgX3ZhbHVlLCBuZXdGaWx0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gbmV3RmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0ZpbHRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdGaWx0ZXJWYWx1ZSA9IG5ld0ZpbHRlcnNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudEZpbHRlclZhbHVlID0gdGhpcy5jdXJyZW50RmlsdGVyc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdGaWx0ZXJWYWx1ZSAhPT0gY3VycmVudEZpbHRlclZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEZpbHRlcnNba2V5XSA9IG5ld0ZpbHRlclZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0cmlnZ2VyQ2hhbmdlID09PSAndW5kZWZpbmVkJykgdHJpZ2dlckNoYW5nZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNDaGFuZ2VkICYmIHRyaWdnZXJDaGFuZ2UpIHRoaXMudHJpZ2dlckZpbHRlckNoYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFzQ2hhbmdlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnY2xlYXInLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyaWdnZXJDaGFuZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RmlsdGVycyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlckNoYW5nZSkgdGhpcy50cmlnZ2VyRmlsdGVyQ2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gRmlsdGVyUHJvdmlkZXI7XG4gICAgICAgIH0oKTtcblxuICAgICAgICBmaWx0ZXJzXzEuRmlsdGVyUHJvdmlkZXIgPSBGaWx0ZXJQcm92aWRlcjtcbiAgICAgICAgdmFyIHZlaGljbGVDb25maWdGaWx0ZXJLZXkgPSAndmVoaWNsZS1jb25maWcnO1xuXG4gICAgICAgIHZhciBHbG9iYWxGaWx0ZXJQcm92aWRlciA9IGZ1bmN0aW9uIChfRmlsdGVyUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIF9pbmhlcml0cyhHbG9iYWxGaWx0ZXJQcm92aWRlciwgX0ZpbHRlclByb3ZpZGVyKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gR2xvYmFsRmlsdGVyUHJvdmlkZXIoKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdsb2JhbEZpbHRlclByb3ZpZGVyKTtcblxuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChHbG9iYWxGaWx0ZXJQcm92aWRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEdsb2JhbEZpbHRlclByb3ZpZGVyKSkuY2FsbCh0aGlzLCAnZ2xvYmFsJywgdW5kZWZpbmVkKSk7XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5iYXNlRmlsdGVycyA9IHtcbiAgICAgICAgICAgICAgICAgICAgSGFzRml0bWVudHM6IHRydWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnRGaWx0ZXJzID0ge307XG4gICAgICAgICAgICAgICAgX3RoaXMuZmlsdGVyT3B0aW9ucyA9IFtcbiAgICAgICAgICAgICAgICAvLyBWZWhpY2xlQ29uZmlndXJhdGlvbiAmIFZlaGljbGVUaXJlT3B0aW9uXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IHZlaGljbGVDb25maWdGaWx0ZXJLZXksXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkoZmlsdGVycywgdmVoaWNsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZlaGljbGVDb25maWd1cmF0aW9uSUQgPSB2ZWhpY2xlLnZlaGljbGVDb25maWd1cmF0aW9uSUQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVoaWNsZVRpcmVPcHRpb25JRCA9IHZlaGljbGUudmVoaWNsZVRpcmVPcHRpb25JRDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZlaGljbGVDb25maWd1cmF0aW9uSUQpIGZpbHRlcnMuVmVoaWNsZUNvbmZpZ3VyYXRpb24gPSB2ZWhpY2xlQ29uZmlndXJhdGlvbklEO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZlaGljbGVUaXJlT3B0aW9uSUQpIGZpbHRlcnMuVmVoaWNsZVRpcmVPcHRpb24gPSB2ZWhpY2xlVGlyZU9wdGlvbklEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBcHBsaWVzIGEgdmVoaWNsZSBzZWxlY3Rpb24gdG8gYWxsXG4gICAgICAgICAgICAgKiBAcGFyYW0gdmVoaWNsZSBUaGUgdmVoaWNsZSB0byBhcHBseSB0byBmaWx0ZXIgcXVlcmllc1xuICAgICAgICAgICAgICovXG5cblxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKEdsb2JhbEZpbHRlclByb3ZpZGVyLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ3NldFZlaGljbGUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWZWhpY2xlKHZlaGljbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRGaWx0ZXIodmVoaWNsZUNvbmZpZ0ZpbHRlcktleSwgdmVoaWNsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ2dldENvdW50JyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q291bnQoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlJ2xsIG5ldmVyIGNhbGwgZ2V0Q291bnQgb24gdGhlIEdsb2JhbEZpbHRlck1vZGVsXG4gICAgICAgICAgICAgICAgICAgIHRocm93ICdDYW5ub3QgY291bnQgR2xvYmFsRmlsdGVyTW9kZWwnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgcmV0dXJuIEdsb2JhbEZpbHRlclByb3ZpZGVyO1xuICAgICAgICB9KEZpbHRlclByb3ZpZGVyKTtcblxuICAgICAgICBmaWx0ZXJzXzEuR2xvYmFsRmlsdGVyUHJvdmlkZXIgPSBHbG9iYWxGaWx0ZXJQcm92aWRlcjtcblxuICAgICAgICB2YXIgVGlyZUZpbHRlclByb3ZpZGVyID0gZnVuY3Rpb24gKF9GaWx0ZXJQcm92aWRlcjIpIHtcbiAgICAgICAgICAgIF9pbmhlcml0cyhUaXJlRmlsdGVyUHJvdmlkZXIsIF9GaWx0ZXJQcm92aWRlcjIpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBUaXJlRmlsdGVyUHJvdmlkZXIoZ2xvYmFsRmlsdGVyUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlyZUZpbHRlclByb3ZpZGVyKTtcblxuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVGlyZUZpbHRlclByb3ZpZGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGlyZUZpbHRlclByb3ZpZGVyKSkuY2FsbCh0aGlzLCAndGlyZScsIGdsb2JhbEZpbHRlclByb3ZpZGVyKSk7XG5cbiAgICAgICAgICAgICAgICBfdGhpczIuYmFzZUZpbHRlcnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkRml0bWVudFJlc291cmNlVHlwZXM6IFsyIC8qIENhdGFsb2cgKi9cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX3RoaXMyLmZpbHRlck9wdGlvbnMgPSBbXG4gICAgICAgICAgICAgICAgLy8gQnJhbmRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2JyYW5kcycpLFxuICAgICAgICAgICAgICAgICAgICB1bnNlbGVjdGVkT3B0aW9uTGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnYWxsLWJyYW5kcycpLFxuICAgICAgICAgICAgICAgICAgICBrZXk6ICd0aXJlLWJyYW5kJyxcbiAgICAgICAgICAgICAgICAgICAgcmV0cmlldmVPcHRpb25zOiBmdW5jdGlvbiByZXRyaWV2ZU9wdGlvbnMoZ2xvYmFsRmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVxdWVzdCBCcmFuZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdCgndGlyZS9nZXRicmFuZHMnLCBnbG9iYWxGaWx0ZXJzKSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFwIGJyYW5kcyB0byBJRmlsdGVyT3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuQXJyYXlIZWxwZXIubWFwKHJlc3BvbnNlLkJyYW5kcywgZnVuY3Rpb24gKGJyYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogYnJhbmQuVGlyZUJyYW5kTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBicmFuZC5UaXJlQnJhbmRJRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldFZhbHVlRnJvbUZpbHRlcnM6IGZ1bmN0aW9uIGdldFZhbHVlRnJvbUZpbHRlcnMoZmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcnMuVGlyZUJyYW5kO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkoZmlsdGVycywgdGlyZUJyYW5kSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnMuVGlyZUJyYW5kID0gdGlyZUJyYW5kSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIEF0dHJpYnV0ZXNcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2ZlYXR1cmVzJyksXG4gICAgICAgICAgICAgICAgICAgIHVuc2VsZWN0ZWRPcHRpb25MYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdhbnktZmVhdHVyZXMnKSxcbiAgICAgICAgICAgICAgICAgICAga2V5OiAndGlyZS1tb2RlbC1hdHRyaWJ1dGUnLFxuICAgICAgICAgICAgICAgICAgICByZXRyaWV2ZU9wdGlvbnM6IGZ1bmN0aW9uIHJldHJpZXZlT3B0aW9ucyhnbG9iYWxGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXF1ZXN0IFNwZWVkIFJhdGluZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdCgndGlyZS9nZXRtb2RlbGF0dHJpYnV0ZXMnLCBnbG9iYWxGaWx0ZXJzKSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFwIGJyYW5kcyB0byBJRmlsdGVyT3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuQXJyYXlIZWxwZXIubWFwKHJlc3BvbnNlLkF0dHJpYnV0ZXMsIGZ1bmN0aW9uIChhdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBhdHRyaWJ1dGUuVGlyZU1vZGVsQXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBhdHRyaWJ1dGUuVGlyZU1vZGVsQXR0cmlidXRlSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRWYWx1ZUZyb21GaWx0ZXJzOiBmdW5jdGlvbiBnZXRWYWx1ZUZyb21GaWx0ZXJzKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzLlJlcXVpcmVkVGlyZU1vZGVsQXR0cmlidXRlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkoZmlsdGVycywgYXR0cmlidXRlSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnMuUmVxdWlyZWRUaXJlTW9kZWxBdHRyaWJ1dGUgPSBhdHRyaWJ1dGVJRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gU3BlZWQgUmF0aW5nXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzcGVlZC1yYXRpbmcnKSxcbiAgICAgICAgICAgICAgICAgICAgdW5zZWxlY3RlZE9wdGlvbkxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2FueS1zcGVlZC1yYXRpbmdzJyksXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3RpcmUtc3BlZWQtcmF0aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgcmV0cmlldmVPcHRpb25zOiBmdW5jdGlvbiByZXRyaWV2ZU9wdGlvbnMoZ2xvYmFsRmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVxdWVzdCBTcGVlZCBSYXRpbmdzXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoJ3RpcmUvZ2V0c3BlZWRyYXRpbmdzJywgZ2xvYmFsRmlsdGVycyksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcCBicmFuZHMgdG8gSUZpbHRlck9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyLm1hcChyZXNwb25zZS5TcGVlZFJhdGluZ3MsIGZ1bmN0aW9uIChicmFuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGJyYW5kLlRpcmVTcGVlZFJhdGluZ0NvZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYnJhbmQuVGlyZVNwZWVkUmF0aW5nSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRWYWx1ZUZyb21GaWx0ZXJzOiBmdW5jdGlvbiBnZXRWYWx1ZUZyb21GaWx0ZXJzKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzLlNwZWVkUmF0aW5nO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkoZmlsdGVycywgc3BlZWRSYXRpbmdJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVycy5TcGVlZFJhdGluZyA9IHNwZWVkUmF0aW5nSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoVGlyZUZpbHRlclByb3ZpZGVyLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ2dldENvdW50JyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q291bnQoZmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoXCJ0aXJlL2NvdW50bW9kZWxzXCIsIGZpbHRlcnMpLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gVGlyZUZpbHRlclByb3ZpZGVyO1xuICAgICAgICB9KEZpbHRlclByb3ZpZGVyKTtcblxuICAgICAgICBmaWx0ZXJzXzEuVGlyZUZpbHRlclByb3ZpZGVyID0gVGlyZUZpbHRlclByb3ZpZGVyO1xuXG4gICAgICAgIHZhciBXaGVlbEZpbHRlclByb3ZpZGVyID0gZnVuY3Rpb24gKF9GaWx0ZXJQcm92aWRlcjMpIHtcbiAgICAgICAgICAgIF9pbmhlcml0cyhXaGVlbEZpbHRlclByb3ZpZGVyLCBfRmlsdGVyUHJvdmlkZXIzKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gV2hlZWxGaWx0ZXJQcm92aWRlcihnbG9iYWxGaWx0ZXJQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXaGVlbEZpbHRlclByb3ZpZGVyKTtcblxuICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoV2hlZWxGaWx0ZXJQcm92aWRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFdoZWVsRmlsdGVyUHJvdmlkZXIpKS5jYWxsKHRoaXMsICd3aGVlbCcsIGdsb2JhbEZpbHRlclByb3ZpZGVyKSk7XG5cbiAgICAgICAgICAgICAgICBfdGhpczMuYmFzZUZpbHRlcnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIEZpdG1lbnRSZXNvdXJjZVR5cGVzOiBbMiAvKiBBbmdsZWQgKi9cbiAgICAgICAgICAgICAgICAgICAgLCAzIC8qIENhdGFsb2cgKi9cbiAgICAgICAgICAgICAgICAgICAgLCAxIC8qIFNpZGUgKi9cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX3RoaXMzLmZpbHRlck9wdGlvbnMgPSBbXG4gICAgICAgICAgICAgICAgLy8gQnJhbmRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2JyYW5kcycpLFxuICAgICAgICAgICAgICAgICAgICB1bnNlbGVjdGVkT3B0aW9uTGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnYWxsLWJyYW5kcycpLFxuICAgICAgICAgICAgICAgICAgICBrZXk6ICd3aGVlbC1icmFuZCcsXG4gICAgICAgICAgICAgICAgICAgIHJldHJpZXZlT3B0aW9uczogZnVuY3Rpb24gcmV0cmlldmVPcHRpb25zKGdsb2JhbEZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlcXVlc3QgQnJhbmRzXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoJ3doZWVsL2dldGJyYW5kcycsIGdsb2JhbEZpbHRlcnMpLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXAgYnJhbmRzIHRvIElGaWx0ZXJPcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlci5tYXAocmVzcG9uc2UuQnJhbmRzLCBmdW5jdGlvbiAoYnJhbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBicmFuZC5XaGVlbEJyYW5kTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBicmFuZC5XaGVlbEJyYW5kSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRWYWx1ZUZyb21GaWx0ZXJzOiBmdW5jdGlvbiBnZXRWYWx1ZUZyb21GaWx0ZXJzKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzLldoZWVsQnJhbmQ7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFwcGx5OiBmdW5jdGlvbiBhcHBseShmaWx0ZXJzLCB3aGVlbEJyYW5kSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnMuV2hlZWxCcmFuZCA9IHdoZWVsQnJhbmRJRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gRmluaXNoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdmaW5pc2hlcycpLFxuICAgICAgICAgICAgICAgICAgICB1bnNlbGVjdGVkT3B0aW9uTGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnYWxsLWZpbmlzaGVzJyksXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3doZWVsLWZpbmlzaCcsXG4gICAgICAgICAgICAgICAgICAgIHJldHJpZXZlT3B0aW9uczogZnVuY3Rpb24gcmV0cmlldmVPcHRpb25zKGdsb2JhbEZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlcXVlc3QgZmluaXNoZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdCgnd2hlZWwvZ2V0ZmluaXNoZXMnLCBnbG9iYWxGaWx0ZXJzKSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFwIGZpbmlzaGVzIHRvIElGaWx0ZXJPcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlci5tYXAocmVzcG9uc2UuRmluaXNoZXMsIGZ1bmN0aW9uIChmaW5pc2hDYXRlZ29yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGZpbmlzaENhdGVnb3J5LldoZWVsRmluaXNoQ2F0ZWdvcnlOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZpbmlzaENhdGVnb3J5LldoZWVsRmluaXNoQ2F0ZWdvcnlJRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldFZhbHVlRnJvbUZpbHRlcnM6IGZ1bmN0aW9uIGdldFZhbHVlRnJvbUZpbHRlcnMoZmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcnMuV2hlZWxGaW5pc2hDYXRlZ29yeTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KGZpbHRlcnMsIHdoZWVsRmluaXNoQ2F0ZWdvcnlJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVycy5XaGVlbEZpbmlzaENhdGVnb3J5ID0gd2hlZWxGaW5pc2hDYXRlZ29yeUlEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBEaWFtZXRlclxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc2l6ZXMnKSxcbiAgICAgICAgICAgICAgICAgICAgdW5zZWxlY3RlZE9wdGlvbkxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2FsbC1zaXplcycpLFxuICAgICAgICAgICAgICAgICAgICBrZXk6ICd3aGVlbC1zaXplJyxcbiAgICAgICAgICAgICAgICAgICAgcmV0cmlldmVPcHRpb25zOiBmdW5jdGlvbiByZXRyaWV2ZU9wdGlvbnMoZ2xvYmFsRmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVxdWVzdCBkaWFtZXRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdCgnd2hlZWwvZ2V0ZGlhbWV0ZXJzJywgZ2xvYmFsRmlsdGVycyksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcCBkaWFtZXRlcnMgdG8gSUZpbHRlck9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyLm1hcChyZXNwb25zZS5EaWFtZXRlcnMsIGZ1bmN0aW9uIChkaWFtZXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGRpYW1ldGVyLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZGlhbWV0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRWYWx1ZUZyb21GaWx0ZXJzOiBmdW5jdGlvbiBnZXRWYWx1ZUZyb21GaWx0ZXJzKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRGaXRtZW50RmlsdGVyVmFsdWUoZmlsdGVycywgJ0RpYW1ldGVyJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFwcGx5OiBmdW5jdGlvbiBhcHBseShmaWx0ZXJzLCBkaWFtZXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWx0ZXJzLkZpdG1lbnRGaWx0ZXJzKSBmaWx0ZXJzLkZpdG1lbnRGaWx0ZXJzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBseUZpdG1lbnRGaWx0ZXIoZmlsdGVycywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpYW1ldGVyOiBkaWFtZXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoV2hlZWxGaWx0ZXJQcm92aWRlciwgW3tcbiAgICAgICAgICAgICAgICBrZXk6ICdnZXRDb3VudCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvdW50KGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwid2hlZWwvY291bnRtb2RlbHNcIiwgZmlsdGVycyksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLkNvdW50O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBXaGVlbEZpbHRlclByb3ZpZGVyO1xuICAgICAgICB9KEZpbHRlclByb3ZpZGVyKTtcblxuICAgICAgICBmaWx0ZXJzXzEuV2hlZWxGaWx0ZXJQcm92aWRlciA9IFdoZWVsRmlsdGVyUHJvdmlkZXI7XG4gICAgICAgIGZ1bmN0aW9uIGdldEZpdG1lbnRGaWx0ZXJWYWx1ZShmaWx0ZXJzLCBrZXkpIHtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjQgPSAoZmlsdGVycy5GaXRtZW50RmlsdGVycyB8fCBbXSlbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDQ7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSAoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpdG1lbnRGaWx0ZXIgPSBfc3RlcDQudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpdG1lbnRGaWx0ZXIuR3JvdXBLZXkgPT09IGZpdG1lbnRGaWx0ZXJHcm91cEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpdG1lbnRGaWx0ZXJba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yNCA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3I0ID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ICYmIF9pdGVyYXRvcjQucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmaXRtZW50RmlsdGVyR3JvdXBLZXkgPSBcInJpZGVzdHlsZXItc2hvd2Nhc2UtZmlsdGVyc1wiO1xuICAgICAgICBmdW5jdGlvbiBhcHBseUZpdG1lbnRGaWx0ZXIoZmlsdGVycywgZml0bWVudEZpbHRlcikge1xuICAgICAgICAgICAgdmFyIGZpdG1lbnRGaWx0ZXJzID0gZmlsdGVycy5GaXRtZW50RmlsdGVycyB8fCBbXTtcbiAgICAgICAgICAgIHZhciBleGlzdGluZ0ZpdG1lbnRGaWx0ZXJHcm91cCA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I1ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I1ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjUgPSBmaXRtZW50RmlsdGVyc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNTsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IChfc3RlcDUgPSBfaXRlcmF0b3I1Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXBwbGllZEZpdG1lbnRGaWx0ZXIgPSBfc3RlcDUudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFwcGxpZWRGaXRtZW50RmlsdGVyLkdyb3VwS2V5ID09PSBmaXRtZW50RmlsdGVyR3JvdXBLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nRml0bWVudEZpbHRlckdyb3VwID0gYXBwbGllZEZpdG1lbnRGaWx0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yNSA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3I1ID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ICYmIF9pdGVyYXRvcjUucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I1LnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I1O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWV4aXN0aW5nRml0bWVudEZpbHRlckdyb3VwKSB7XG4gICAgICAgICAgICAgICAgZml0bWVudEZpbHRlci5Hcm91cEtleSA9IGZpdG1lbnRGaWx0ZXJHcm91cEtleTtcbiAgICAgICAgICAgICAgICBmaXRtZW50RmlsdGVycy5wdXNoKGZpdG1lbnRGaWx0ZXIpO1xuICAgICAgICAgICAgICAgIC8vIFdlJ3ZlIG1vZGlmaWVkIHRoZSBhcnJheSBzbyB1cGRhdGUgdGhlIGFycmF5IGluIHRoZSBmaWx0ZXJzXG4gICAgICAgICAgICAgICAgZmlsdGVycy5GaXRtZW50RmlsdGVycyA9IGZpdG1lbnRGaWx0ZXJzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbihleGlzdGluZ0ZpdG1lbnRGaWx0ZXJHcm91cCwgZml0bWVudEZpbHRlcik7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdGaXRtZW50RmlsdGVyR3JvdXAuR3JvdXBLZXkgPSBmaXRtZW50RmlsdGVyR3JvdXBLZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KShmaWx0ZXJzID0gUmlkZVN0eWxlclNob3djYXNlLmZpbHRlcnMgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5maWx0ZXJzID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgU3RhdGVzID0gdm9pZCAwO1xuICAgIChmdW5jdGlvbiAoU3RhdGVzKSB7XG4gICAgICAgIFN0YXRlc1tTdGF0ZXNbXCJDaG9vc2VWZWhpY2xlXCJdID0gMF0gPSBcIkNob29zZVZlaGljbGVcIjtcbiAgICAgICAgU3RhdGVzW1N0YXRlc1tcIlZpc3VhbGl6ZVwiXSA9IDFdID0gXCJWaXN1YWxpemVcIjtcbiAgICB9KShTdGF0ZXMgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIHN0YXRlO1xuICAgIChmdW5jdGlvbiAoc3RhdGVfMSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWdpc3RlciBob2xkaW5nIHRoZSBleGl0L2VudGVyIGNhbGxiYWNrcyBmb3IgYSBzcGVjaWZpYyBzdGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIFN0YXRlQ2FsbGJhY2tSZWdpc3RlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIFN0YXRlQ2FsbGJhY2tSZWdpc3RlcihzdGF0ZSkge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGF0ZUNhbGxiYWNrUmVnaXN0ZXIpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICAgICAgICAgIHRoaXMuZXhpdENhbGxiYWNrcyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuZW50ZXJDYWxsYmFja3MgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVHJpZ2dlciBhbGwgb2YgdGhlIGV4aXQgY2FsbGJhY2tzIGZvciB0aGlzIHN0YXRlLiBJZiBhIGNhbGxiYWNrIHJldHVybnMgZmFsc2UsXG4gICAgICAgICAgICAgKiBza2lwIHRyaWdnZXJpbmcgdGhlIHJlbWFpbmluZyBjYWxsYmFja3MgYW5kIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAqL1xuXG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhTdGF0ZUNhbGxiYWNrUmVnaXN0ZXIsIFt7XG4gICAgICAgICAgICAgICAga2V5OiBcInRyaWdnZXJFeGl0Q2FsbGJhY2tzXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRyaWdnZXJFeGl0Q2FsbGJhY2tzKGN1cnJlbnRTdGF0ZSwgbmV3U3RhdGUsIG5ld0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB0aGlzLmV4aXRDYWxsYmFja3NbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4aXRDYWxsYmFjayA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXRDYWxsYmFjayhjdXJyZW50U3RhdGUsIG5ld1N0YXRlLCBuZXdEYXRhKSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUcmlnZ2VyIGFsbCBvZiB0aGUgZW50ZXIgY2FsbGJhY2tzIGZvciB0aGlzIHN0YXRlLiBJZiBhIGNhbGxiYWNrIHJldHVybnMgZmFsc2UsXG4gICAgICAgICAgICAgICAgICogc2tpcCB0cmlnZ2VyaW5nIHRoZSByZW1haW5pbmcgY2FsbGJhY2tzIGFuZCByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwidHJpZ2dlckVudGVyQ2FsbGJhY2tzXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRyaWdnZXJFbnRlckNhbGxiYWNrcyhvbGRTdGF0ZSwgY3VycmVudFN0YXRlLCBuZXdEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IHRoaXMuZW50ZXJDYWxsYmFja3NbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW50ZXJDYWxsYmFjayA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRlckNhbGxiYWNrKG9sZFN0YXRlLCBjdXJyZW50U3RhdGUsIG5ld0RhdGEpID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgcmV0dXJuIFN0YXRlQ2FsbGJhY2tSZWdpc3RlcjtcbiAgICAgICAgfSgpO1xuXG4gICAgICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVN0YXRlKGluaXRpYWxTdGF0ZSkge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VTdGF0ZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnREYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVoaWNsZUNvbmZpZ3VyYXRpb25JRDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHZlaGljbGVIYXNBbmdsZWRJbWFnZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB2ZWhpY2xlSGFzU2lkZUltYWdlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZWhpY2xlVGlyZU9wdGlvbkRlc2NyaXB0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZWhpY2xlVGlyZU9wdGlvbklEOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWludFNjaGVtZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGlyZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2hlZWw6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFdoZWVsRml0bWVudDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGlyZU9wdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uTW9kZWw6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQSBkaWN0aW9uYXJ5IG9mIFN0YXRlcyB0byBTdGF0ZUNhbGxiYWNrUmVnaXN0ZXJzXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFja3MgPSB7fTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTdGF0ZSBjaGFuZ2VkIGNhbGxiYWNrc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlQ2FsbGJhY2tzID0gW107XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGF0YSBjaGFuZ2VkIGNhbGxiYWNrc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5nZWRDYWxsYmFja3MgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVN0YXRlLCBbe1xuICAgICAgICAgICAgICAgIGtleTogXCJnZXREYXRhXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERhdGEoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnREYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwic2V0RGF0YVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREYXRhKG5ld0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJlZm9yZUNhbGxiYWNrcyA9IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJDYWxsYmFja3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gdGhpcy5kYXRhQ2hhbmdlZENhbGxiYWNrc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhQ2hhbmdlZENhbGxiYWNrID0gX3N0ZXAzLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGRhdGFDaGFuZ2VkQ2FsbGJhY2suY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZSA9IGRhdGFDaGFuZ2VkQ2FsbGJhY2suYmVmb3JlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJlZm9yZSkgYmVmb3JlQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO2Vsc2UgYWZ0ZXJDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gYmVmb3JlQ2FsbGJhY2tzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA0OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gKF9zdGVwNCA9IF9pdGVyYXRvcjQubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gX3N0ZXA0LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNCA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCAmJiBfaXRlcmF0b3I0LnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RGF0YSA9IG5ld0RhdGE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yNSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNSA9IGFmdGVyQ2FsbGJhY2tzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA1OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gKF9zdGVwNSA9IF9pdGVyYXRvcjUubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9jYWxsYmFjayA9IF9zdGVwNS52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jYWxsYmFjayh0aGlzLmN1cnJlbnREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3I1ID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ICYmIF9pdGVyYXRvcjUucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjUucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImV4dGVuZERhdGFcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZXh0ZW5kRGF0YShkYXRhRXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdEYXRhID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50RGF0YSA9IHRoaXMuY3VycmVudERhdGE7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBjdXJyZW50RGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnREYXRhLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gY3VycmVudERhdGFba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBkYXRhRXh0ZW5zaW9uW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSBpbiBkYXRhRXh0ZW5zaW9uICYmIGN1cnJlbnRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGFba2V5XSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGFba2V5XSA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RGF0YShuZXdEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZXR1cm5zIGFuIGV4aXRpbmcgY2FsbGJhY2sgcmVnaXN0ZXIgZm9yIHRoZSBzcGVjaWZpZWQgc3RhdGUgb3IgY3JlYXRlc1xuICAgICAgICAgICAgICAgICAqIGEgbmV3IG9uZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBzdGF0ZSBUaGUgc3RhdGUgdG8gcmV0dXJuIGEgY2FsbGJhY2sgcmVnaXN0ZXIgZm9yXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiY2FsbGJhY2tzRm9yU3RhdGVcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2FsbGJhY2tzRm9yU3RhdGUoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlIGluIHRoaXMuY2FsbGJhY2tzKSByZXR1cm4gdGhpcy5jYWxsYmFja3Nbc3RhdGVdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYWxsYmFja3Nbc3RhdGVdID0gbmV3IFN0YXRlQ2FsbGJhY2tSZWdpc3RlcihzdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJlZ2lzdGVyIGEgY2FsbGJhY2sgdGhhdCBpcyB0cmlnZ2VyZWQgd2hlbiBleGl0aW5nIGEgc3BlY2lmaWMgc3RhdGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gc3RhdGUgVGhlIHN0YXRlIHRvIHJlZ2lzdGVyIGEgZXhpdCBjYWxsYmFjayBmb3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiBleGl0aW5nIHRoZSBzdGF0ZVxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIm9uRXhpdFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkV4aXQoc3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzRm9yU3RhdGUoc3RhdGUpLmV4aXRDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJlZ2lzdGVyIGEgY2FsbGJhY2sgdGhhdCBpcyB0cmlnZ2VyZWQgd2hlbiBlbnRlcmluZyBhIHNwZWNpZmljIHN0YXRlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHN0YXRlIFRoZSBzdGF0ZSB0byByZWdpc3RlciBhbiBlbnRlciBjYWxsYmFjayBmb3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiBlbnRlcmluZyB0aGUgc3RhdGVcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJvbkVudGVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uRW50ZXIoc3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzRm9yU3RhdGUoc3RhdGUpLmVudGVyQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZWdpc3RlciBhIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgc3RhdGUgaGFzIGJlZW4gY2hhbmdlZFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gcnVuXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwib25DaGFuZ2VcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25DaGFuZ2UoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJlZ2lzdGVyIGEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGJlZm9yZSB0aGUgc3RhdGUgZGF0YSBoYXMgYmVlbiBjaGFuZ2VkLlxuICAgICAgICAgICAgICAgICAqIFRoaXMgYWxsb3dzIGNhbGxiYWNrIGZ1bmN0aW9ucyB0byBtb2RpZnkgdGhlIGRhdGEgYmVmb3JlIGl0J3Mgc2VudCB0byBvdGhlciBjYWxsYmFja3MuXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBydW5cbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJiZWZvcmVEYXRhQ2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJlZm9yZURhdGFDaGFuZ2UoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhQ2hhbmdlZENhbGxiYWNrcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmVnaXN0ZXIgYSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgYWZ0ZXIgdGhlIHN0YXRlIGRhdGEgaGFzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIHJ1blxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImFmdGVyRGF0YUNoYW5nZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZnRlckRhdGFDaGFuZ2UoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhQ2hhbmdlZENhbGxiYWNrcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJjaGFuZ2VTdGF0ZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VTdGF0ZShuZXdTdGF0ZSwgbmV3RGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50U3RhdGUgPT09IG5ld1N0YXRlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c1N0YXRlID0gdGhpcy5jdXJyZW50U3RhdGU7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCBvdXIgc3RhdGUgZGF0YVxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3RGF0YSkgdGhpcy5zZXREYXRhKG5ld0RhdGEpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVDaGFuZ2VkRXZlbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRTdGF0ZTogcHJldmlvdXNTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlOiBuZXdTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGE6IHRoaXMuY3VycmVudERhdGFcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmRlYnVnQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHRoaXMuZGVidWdDYWxsYmFjayhzdGF0ZUNoYW5nZWRFdmVudCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIHRoZSBzdGF0ZS1jaGFuZ2VkIGV2ZW50LCBjYW5jZWwgc3RhdGUgY2hhbmdlIGlmIGNhbmNlbGxlZFxuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I2ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjYgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjYgPSB0aGlzLmNoYW5nZUNhbGxiYWNrc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IChfc3RlcDYgPSBfaXRlcmF0b3I2Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IF9zdGVwNi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2soc3RhdGVDaGFuZ2VkRXZlbnQpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIGV4aXQgY2FsbGJhY2tzXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I2ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNiA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiAmJiBfaXRlcmF0b3I2LnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I2LnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzRm9yU3RhdGUocHJldmlvdXNTdGF0ZSkudHJpZ2dlckV4aXRDYWxsYmFja3MocHJldmlvdXNTdGF0ZSwgbmV3U3RhdGUsIHRoaXMuY3VycmVudERhdGEpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25lIG9mIHRoZSBleGl0IGNhbGxiYWNrcyBjYW5jZWxlZCB0aGUgc3RhdGUgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBlbnRlciBjYWxsYmFja3NcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzRm9yU3RhdGUobmV3U3RhdGUpLnRyaWdnZXJFbnRlckNhbGxiYWNrcyhwcmV2aW91c1N0YXRlLCBuZXdTdGF0ZSwgdGhpcy5jdXJyZW50RGF0YSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmUgb2YgdGhlIGVudGVyIGNhbGxiYWNrcyBjYW5jZWxlZCB0aGUgc3RhdGUgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmRlYnVnQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHRoaXMuZGVidWdDYWxsYmFjayhzdGF0ZUNoYW5nZWRFdmVudCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFsbCBvZiB0aGUgY2FsbGJhY2tzIGhhdmUgYmVlbiByYW4sIGNoYW5nZSB0aGUgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VTdGF0ZTtcbiAgICAgICAgfSgpO1xuXG4gICAgICAgIHN0YXRlXzEuUmlkZVN0eWxlclNob3djYXNlU3RhdGUgPSBSaWRlU3R5bGVyU2hvd2Nhc2VTdGF0ZTtcbiAgICB9KShzdGF0ZSA9IFJpZGVTdHlsZXJTaG93Y2FzZS5zdGF0ZSB8fCAoUmlkZVN0eWxlclNob3djYXNlLnN0YXRlID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgZGVmYXVsdExhbmd1YWdlRm9ybWF0UHJvdmlkZXIgPSB7XG4gICAgICAgIGN1cnJlbmN5OiBmdW5jdGlvbiBjdXJyZW5jeShudW1iZXIsIHN5bWJvbCkge1xuICAgICAgICAgICAgcmV0dXJuIHN5bWJvbCArICgrbnVtYmVyLnRvRml4ZWQoMikpLnRvTG9jYWxlU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiBhY2NlcHRhYmxlIGxhbmd1YWdlc1xuICAgICAqL1xuICAgIHZhciBMYW5ndWFnZUtleXMgPSB2b2lkIDA7XG4gICAgKGZ1bmN0aW9uIChMYW5ndWFnZUtleXMpIHtcbiAgICAgICAgTGFuZ3VhZ2VLZXlzW0xhbmd1YWdlS2V5c1tcIkVuXCJdID0gMF0gPSBcIkVuXCI7XG4gICAgfSkoTGFuZ3VhZ2VLZXlzID0gUmlkZVN0eWxlclNob3djYXNlLkxhbmd1YWdlS2V5cyB8fCAoUmlkZVN0eWxlclNob3djYXNlLkxhbmd1YWdlS2V5cyA9IHt9KSk7XG4gICAgLyoqXG4gICAgICogQW4gaW50ZXJuYWwgc3RydWN0dXJlIGZvciBob2xkaW5nIGxhbmd1YWdlIGRhdGFcbiAgICAgKi9cblxuICAgIHZhciBMYW5ndWFnZVJlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGEgcmVnaXN0ZXIgZm9yIGEgbGFuZ3VhZ2VcbiAgICAgICAgICogQHBhcmFtIGxhbmd1YWdlIFRoZSBsYW5ndWFnZSBkZWZpbml0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBMYW5ndWFnZVJlZ2lzdGVyKGxhbmd1YWdlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGFuZ3VhZ2VSZWdpc3Rlcik7XG5cbiAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5ndWFnZTtcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0ID0gbGFuZ3VhZ2UuZm9ybWF0O1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSBrZXkgZnJvbSB0aGUgbGFuZ3VhZ2UgZGljdGlvbmFyeVxuICAgICAgICAgKiBAcGFyYW0ga2V5IFRoZSBzdHJpbmcga2V5XG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKExhbmd1YWdlUmVnaXN0ZXIsIFt7XG4gICAgICAgICAgICBrZXk6IFwiZ2V0U3RyaW5nXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3RyaW5nKGtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxhbmd1YWdlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gTGFuZ3VhZ2VSZWdpc3RlcjtcbiAgICB9KCk7XG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgbGFuZ3VhZ2UgdG8gdXNlIGlmIG9uZSBpcyBub3QgcHJvdmlkZWQgdG8gZ2V0U3RyaW5nc1xuICAgICAqL1xuXG5cbiAgICB2YXIgZGVmYXVsdExhbmd1YWdlID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEFuIGludGVybmFsIGxpc3Qgb2YgYWxsIHJlZ2lzdGVyZWQgbGFuZ3VhZ2VzIGFuZCB0aGVpciBzdHJpbmdzXG4gICAgICovXG4gICAgdmFyIGxhbmd1YWdlUmVnaXN0ZXJzID0ge307XG4gICAgdmFyIHN0cmluZ3MgPSB2b2lkIDA7XG4gICAgKGZ1bmN0aW9uIChzdHJpbmdzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWdpc3RlciBhIGxhbmd1YWdlIHRvIGJlIHVzZWQgaW4gdGhlIHNob3djYXNlXG4gICAgICAgICAqIEBwYXJhbSBsYW5ndWFnZUtleSBUaGUga2V5IG9mIHRoZSBsYW5ndWFnZSB5b3UgYXJlIHJlZ2lzdGVyaW5nXG4gICAgICAgICAqIEBwYXJhbSBsYW5ndWFnZSBUaGUgbGFuZ3VhZ2UgcHJvdmlkZXJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyTGFuZ3VhZ2UobGFuZ3VhZ2VLZXksIGxhbmd1YWdlLCBzZXRBc0RlZmF1bHQpIHtcbiAgICAgICAgICAgIC8vIFNldCBkZWZhdWx0IGZvcm1hdCBwcm92aWRlclxuICAgICAgICAgICAgaWYgKCFsYW5ndWFnZS5mb3JtYXQpIGxhbmd1YWdlLmZvcm1hdCA9IGRlZmF1bHRMYW5ndWFnZUZvcm1hdFByb3ZpZGVyO2Vsc2UgZm9yICh2YXIga2V5IGluIGRlZmF1bHRMYW5ndWFnZUZvcm1hdFByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGRlZmF1bHRMYW5ndWFnZVByb3ZpZGVyIGhhcyBhIGZvcm1hdCBmdW5jdGlvbiB0aGF0IGlzIG1pc3Npbmcgb24gdGhlIGxhbmd1YWdlJ3MgZm9ybWF0IHByb3ZpZGVyLFxuICAgICAgICAgICAgICAgIC8vIGltcGxlbWVudCBpdCBpbiB0aGUgbGFuZ3VhZ2UncyBmb3JtYXQgcHJvdmlkZXJcbiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdExhbmd1YWdlRm9ybWF0UHJvdmlkZXIuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBrZXkgaW4gbGFuZ3VhZ2UuZm9ybWF0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZS5mb3JtYXRba2V5XSA9IGRlZmF1bHRMYW5ndWFnZUZvcm1hdFByb3ZpZGVyW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxhbmd1YWdlUmVnaXN0ZXIgPSBsYW5ndWFnZVJlZ2lzdGVyc1tsYW5ndWFnZUtleV0gPSBuZXcgTGFuZ3VhZ2VSZWdpc3RlcihsYW5ndWFnZSk7XG4gICAgICAgICAgICBpZiAoc2V0QXNEZWZhdWx0IHx8ICFkZWZhdWx0TGFuZ3VhZ2UpIGRlZmF1bHRMYW5ndWFnZSA9IGxhbmd1YWdlUmVnaXN0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgc3RyaW5ncy5yZWdpc3Rlckxhbmd1YWdlID0gcmVnaXN0ZXJMYW5ndWFnZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIGxhbmd1YWdlIHRvIGJlIHVzZWQgYnkgZGVmYXVsdCwgd2hlbiBubyBrZXkgaXMgcGFzc2VkIGludG8gZ2V0U3RyaW5nc1xuICAgICAgICAgKiBAcGFyYW0gbGFuZ3VhZ2VLZXkgVGhlIGxhbmd1YWdlIGtleSB0byB1c2UgYnkgZGVmYXVsdFxuICAgICAgICAgKiBAcmV0dXJucyB0cnVlLCBpZiB0aGUgbGFuZ3VhZ2UgaXMgcmVnaXN0ZXJlZCBhbmQgc2V0IGFzIGRlZmF1bHQ7IG90aGVyd2lzZSBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc2V0RGVmYXVsdExhbmd1YWdlKGxhbmd1YWdlS2V5KSB7XG4gICAgICAgICAgICBpZiAobGFuZ3VhZ2VLZXkgaW4gbGFuZ3VhZ2VSZWdpc3RlcnMpIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0TGFuZ3VhZ2UgPSBsYW5ndWFnZVJlZ2lzdGVyc1tsYW5ndWFnZUtleV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgc3RyaW5ncy5zZXREZWZhdWx0TGFuZ3VhZ2UgPSBzZXREZWZhdWx0TGFuZ3VhZ2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZWxscyB5b3Ugd2hldGhlciBvciBub3QgYSBsYW5ndWFnZSBpcyByZWdpc3RlcmVkXG4gICAgICAgICAqIEBwYXJhbSBsYW5ndWFnZUtleSBUaGUga2V5IGZvciB0aGUgbGFuZ3VhZ2VcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGxhbmd1YWdlSXNSZWdpc3RlcmVkKGxhbmd1YWdlS2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbGFuZ3VhZ2VLZXkgaW4gbGFuZ3VhZ2VSZWdpc3RlcnM7XG4gICAgICAgIH1cbiAgICAgICAgc3RyaW5ncy5sYW5ndWFnZUlzUmVnaXN0ZXJlZCA9IGxhbmd1YWdlSXNSZWdpc3RlcmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgc3BlY2lmaWVkIGxhbmd1YWdlLCBvciB0aGUgZGVmYXVsdCBsYW5ndWFnZSBpZiBpdCBjb3VsZCBub3QgYmUgZm91bmRcbiAgICAgICAgICogQHBhcmFtIGxhbmd1YWdlS2V5IFRoZSBrZXkgb2YgdGhlIGxhbmd1YWdlIHRvIHJldHJpZXZlXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRMYW5ndWFnZShsYW5ndWFnZUtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGxhbmd1YWdlS2V5IGluIGxhbmd1YWdlUmVnaXN0ZXJzID8gbGFuZ3VhZ2VSZWdpc3RlcnNbbGFuZ3VhZ2VLZXldIDogZGVmYXVsdExhbmd1YWdlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSBzdHJpbmcgZnJvbSB0aGUgcmVnaXN0ZXJlZCBzdHJpbmdzXG4gICAgICAgICAqIEBwYXJhbSBrZXkgVGhlIHN0cmluZyBrZXkgdG8gcmV0dXJuIGEgc3RyaW5nIGZvclxuICAgICAgICAgKiBAcGFyYW0gbGFuZ3VhZ2VLZXkgVGhlIGxhbmd1YWdlIHlvdSB3YW50IHRvIHVzZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0U3RyaW5nKGtleSwgbGFuZ3VhZ2VLZXkpIHtcbiAgICAgICAgICAgIHZhciBsYW5ndWFnZVJlZ2lzdGVyID0gZ2V0TGFuZ3VhZ2UobGFuZ3VhZ2VLZXkpO1xuICAgICAgICAgICAgdmFyIHN0cmluZyA9IHZvaWQgMDtcbiAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBsYW5ndWFnZSwgb3IgY291bGQgbm90IGdldCB0aGUgc3RyaW5nIGZyb20gdGhlIHJlZ2lzdGVyIFxuICAgICAgICAgICAgaWYgKCEoc3RyaW5nID0gbGFuZ3VhZ2VSZWdpc3Rlci5nZXRTdHJpbmcoa2V5KSkpIHJldHVybiBrZXk7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIHN0cmluZ3MuZ2V0U3RyaW5nID0gZ2V0U3RyaW5nO1xuICAgICAgICBmdW5jdGlvbiBmb3JtYXQobGFuZ3VhZ2VLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRMYW5ndWFnZShsYW5ndWFnZUtleSkuZm9ybWF0O1xuICAgICAgICB9XG4gICAgICAgIHN0cmluZ3MuZm9ybWF0ID0gZm9ybWF0O1xuICAgIH0pKHN0cmluZ3MgPSBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncyB8fCAoUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBzdHlsZXM7XG4gICAgKGZ1bmN0aW9uIChzdHlsZXMpIHtcbiAgICAgICAgdmFyIHdpZHRoQnJlYWtwb2ludHMgPSBbWydwaG9uZS1wb3J0cmFpdCcsIDMxOV0sIFsncGhvbmUtbGFuZHNjYXBlJywgNDIwXSwgWyd0YWJsZXQnLCA3NjhdLCBbJ2Rlc2t0b3AnLCA5OTJdLCBbJ2Rlc2t0b3AteGwnLCAxMjAwXSwgWyd0dicsIDE2MDBdXTtcblxuICAgICAgICB2YXIgU3R5bGVNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gU3R5bGVNYW5hZ2VyKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3R5bGVNYW5hZ2VyKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHJpZGVzdHlsZXIucHJvbWlzZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZUJyZWFrcG9pbnRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy53YXRjaFNpemUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVDU1MoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVPbkRPTUxvYWQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVTdHlsZUNsYXNzZXMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKFN0eWxlTWFuYWdlciwgW3tcbiAgICAgICAgICAgICAgICBrZXk6ICdyZXNvbHZlT25ET01Mb2FkJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzb2x2ZU9uRE9NTG9hZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIERPTSBpcyBhbHJlYWR5IGxvYWRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplZC5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIERPTSB0byBsb2FkXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmluaXRpYWxpemVkLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBMb2FkIHRoZSBDU1MgZnJvbSB7QGxpbmsgUmlkZVN0eWxlclNob3djYXNlLmNzc30gaW50byB0aGUgZmlyc3QgSEVBRCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICogZm91bmQgaW4gdGhlIGRvY3VtZW50IG9mIHRoZSBjb250YWluZXJcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVDU1MnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplQ1NTKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIVJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5pc09mZnNldFBvc2l0aW9uZWQodGhpcy5lbGVtZW50KSkgdGhpcy5lbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKCdjc3MnIGluIFJpZGVTdHlsZXJTaG93Y2FzZSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lckRvY3VtZW50ID0gdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWFkID0gY29udGFpbmVyRG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpLml0ZW0oMCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBIRUFEIGVsZW1lbnQsIGNyZWF0ZSBvbmUgYW5kIGFkZCBpdCB0byB0aGUgRE9NXG4gICAgICAgICAgICAgICAgICAgIGlmICghaGVhZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2hlYWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoaGVhZCwgY29udGFpbmVyRG9jdW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0eWxlc2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgb3VyIENTUyB0byB0aGUgc3R5bGVzaGVldFxuICAgICAgICAgICAgICAgICAgICBzdHlsZXNoZWV0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFJpZGVTdHlsZXJTaG93Y2FzZS5jc3MpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBDU1MgdG8gdGhlIGhlYWRlciBiZWZvcmUgdGhlIGZpcnN0IEhFQUQgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBoZWFkLmluc2VydEJlZm9yZShzdHlsZXNoZWV0LCBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5maXJzdENoaWxkV2l0aFRhZyhoZWFkLCBcIlNUWUxFXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBDU1MgZnJvbSBvdXIgb2JqZWN0IHNvIGl0J3Mgbm90IHNwZWNpZmllZCB0d2ljZVxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgUmlkZVN0eWxlclNob3djYXNlLmNzcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZVN0eWxlQ2xhc3NlcycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVTdHlsZUNsYXNzZXMoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIuaXNUb3VjaERldmljZSkgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2lzLXRvdWNoJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVCcmVha3BvaW50cycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVCcmVha3BvaW50cygpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIG91ciBicmVha3BvaW50cyBhcmUgc29ydGVkXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoQnJlYWtwb2ludHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFbMV0gLSBiWzFdO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUJyZWFrcG9pbnRDbGFzc2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZG9jdW1lbnQucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImxvYWRpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5nZXREb2N1bWVudCh0aGlzLmVsZW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5hcHBseUJyZWFrcG9pbnRDbGFzc2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW50ZXJhY3RpdmVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5nZXRXaW5kb3codGhpcy5lbGVtZW50KS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuYXBwbHlCcmVha3BvaW50Q2xhc3NlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ3Jlc2l6ZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUJyZWFrcG9pbnRDbGFzc2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vblJlc2l6ZSA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5vblJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdyZXNpemVkJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uUmVzaXplZCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5vblJlc2l6ZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnYnJlYWtwb2ludENoYW5nZWQnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBicmVha3BvaW50Q2hhbmdlZChuZXdCcmVha3BvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vbkJyZWFrcG9pbnRDaGFuZ2VkID09PSAnZnVuY3Rpb24nKSB0aGlzLm9uQnJlYWtwb2ludENoYW5nZWQobmV3QnJlYWtwb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ3dhdGNoU2l6ZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHdhdGNoU2l6ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aW1lciA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc2l6ZWRFdmVudERlbGF5ID0gMjAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudFNpemUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogZWxlbWVudC5jbGllbnRIZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuZ2V0V2luZG93KGVsZW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdFbGVtZW50U2l6ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGVsZW1lbnQuY2xpZW50SGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0VsZW1lbnRTaXplLndpZHRoICE9PSBlbGVtZW50U2l6ZS53aWR0aCB8fCBuZXdFbGVtZW50U2l6ZS5oZWlnaHQgIT09IGVsZW1lbnRTaXplLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50J3Mgc2l6ZSBoYXMgY2hhbmdlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRTaXplID0gbmV3RWxlbWVudFNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnJlc2l6ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZXNpemVkRXZlbnREZWxheSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnZ2V0Q3VycmVudEJyZWFrcG9pbnQnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50QnJlYWtwb2ludCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEJyZWFrcG9pbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ2FwcGx5QnJlYWtwb2ludENsYXNzZXMnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBseUJyZWFrcG9pbnRDbGFzc2VzKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBydW4gaWYgd2UgZG9uJ3QgaGF2ZSBhIGhlaWdodCBvciB3aWR0aCB5ZXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWlnaHQgfHwgIXdpZHRoKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdCcmVha3BvaW50ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbmV3IGJyZWFrcG9pbnQgaXMgdGhlIG5leHQgbG93ZXN0IHZhbHVlIGluIHRoZSBhcnJheVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IHdpZHRoQnJlYWtwb2ludHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGhCcmVha3BvaW50c1tpXVsxXSA8PSB3aWR0aCkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9bmV3QnJlYWtwb2ludCA9IGkgPj0gMCA/IHdpZHRoQnJlYWtwb2ludHNbaV0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnQgYnJlYWtwb2ludCBoYXNuJ3QgY2hhbmdlZCwgZG9uJ3QgcnVuIHRoZSByZXN0IG9mIHRoaXMgbG9naWNcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0JyZWFrcG9pbnQgPT09IHRoaXMuY3VycmVudEJyZWFrcG9pbnQpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IG91ciBjdXJyZW50IGJyZWFrcG9pbnQgdG8gdGhlIG5ld2x5IGRlZmluZWQgb25lXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEJyZWFrcG9pbnQgPSBuZXdCcmVha3BvaW50O1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxDbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IG9yaWdpbmFsQ2xhc3NOYW1lO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgYW55IGJyZWFrcG9pbnQgY2xhc3NlcyBmcm9tIHRoZSBlbGVtZW50J3MgY2xhc3NcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnJlcGxhY2UoL1xcYnJpZGVzdHlsZXItc2hvd2Nhc2UtYnJlYWtwb2ludC0uKz8oPz0gfCQpL2dpLCBcIlwiKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBpbiB0aGUgYnJlYWtwb2ludCBjbGFzcyBpZiB3ZSBoYXZlIG9uZVxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3QnJlYWtwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lICs9ICcgcmlkZXN0eWxlci1zaG93Y2FzZS1icmVha3BvaW50LScgKyBuZXdCcmVha3BvaW50WzBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjbGFzc05hbWUgaGFzbid0IGNoYW5nZWQgZG8gbm90aGluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2xhc3NOYW1lID09PSBvcmlnaW5hbENsYXNzTmFtZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5icmVha3BvaW50Q2hhbmdlZChuZXdCcmVha3BvaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBTdHlsZU1hbmFnZXI7XG4gICAgICAgIH0oKTtcblxuICAgICAgICBzdHlsZXMuU3R5bGVNYW5hZ2VyID0gU3R5bGVNYW5hZ2VyO1xuICAgIH0pKHN0eWxlcyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHlsZXMgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5zdHlsZXMgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlSW5zdGFuY2UoY29udGFpbmVyLCBzZXR0aW5ncykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZUluc3RhbmNlKTtcblxuICAgICAgICAgICAgdGhpcy5hY3RpdmVMb2FkaW5nU2Vzc2lvbktleXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB7fTtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuZGVidWcgPSB0aGlzLnNldHRpbmdzLmRlYnVnIHx8IHt9O1xuICAgICAgICAgICAgdGhpcy5ldmVudHMgPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLmV2ZW50cy5FdmVudEhhbmRsZXIoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmRlYnVnLmV2ZW50cyA9PT0gdHJ1ZSkgdGhpcy5ldmVudHMuZGVidWdDYWxsYmFjayA9IGZ1bmN0aW9uIChuYW1lLCBlLCBoYW5kbGVycykge1xuICAgICAgICAgICAgICAgIGlmIChuYW1lID09PSAncmVzaXplJykgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbUmlkZVN0eWxlclNob3djYXNlIEV2ZW50XSBOYW1lOicgKyBuYW1lICsgJyBEYXRhOicsIGUsIGhhbmRsZXJzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250YWluZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29udGFpbmVyKSBjb25zb2xlLmVycm9yKCdUaGUgSUQgXCInICsgY29udGFpbmVyICsgJ1wiIGNvdWxkIG5vdCBiZSBmb3VuZCBpbiB0aGUgRE9NLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoY29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmVnaXN0ZXIgdGhlIG1haW4gY29tcG9uZW50cyB1c2VkIGJ5IHRoZSBzaG93Y2FzZVxuICAgICAgICAgKi9cblxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VJbnN0YW5jZSwgW3tcbiAgICAgICAgICAgIGtleTogJ3JlZ2lzdGVyQ29tcG9uZW50cycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXJDb21wb25lbnRzKCkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudEhhbmRsZXIgPSB0aGlzLmV2ZW50cztcbiAgICAgICAgICAgICAgICAvLyBSZWdpc3RlciBvdGhlciBjb21wb25lbnRzIHRvIGJlIGRpc3BsYXllZFxuICAgICAgICAgICAgICAgIHRoaXMub3RoZXJDb21wb25lbnRzID0gW25ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlQmFja2dyb3VuZCh0aGlzKV07XG4gICAgICAgICAgICAgICAgLy8gUmVnaXN0ZXIgb3VyIG1hcHBpbmcgb2Ygc3RhdGVzIHRvIG1haW4gY29tcG9uZW50c1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVDb21wb25lbnRNYXBwaW5nID0ge307XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUNvbXBvbmVudE1hcHBpbmdbUmlkZVN0eWxlclNob3djYXNlLlN0YXRlcy5DaG9vc2VWZWhpY2xlXSA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVNlbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQ29tcG9uZW50TWFwcGluZ1tSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzLlZpc3VhbGl6ZV0gPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVWaXN1YWxpemF0aW9uKHRoaXMpO1xuICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIG1haW5Db21wb25lbnRzIGZyb20gdGhlIHN0YXRlQ29tcG9uZW50TWFwcGluZ1xuICAgICAgICAgICAgICAgIHRoaXMubWFpbkNvbXBvbmVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzdGF0ZSBpbiB0aGlzLnN0YXRlQ29tcG9uZW50TWFwcGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW5Db21wb25lbnRzLnB1c2godGhpcy5zdGF0ZUNvbXBvbmVudE1hcHBpbmdbc3RhdGVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNldCB0aGUgY29udGFpbmVyIG9mIHRoaXMgc2hvd2Nhc2UgaW5zdGFuY2UgYW5kIGluaXRpYWxpemUgKG9yIHJlLWluaXRpYWxpemUpIGl0XG4gICAgICAgICAgICAgKiBAcGFyYW0gY29udGFpbmVyIFRoZSBjb250YWluZXIgdG8gaW5pdGlhbGl6ZSB0aGlzIHNob3djYXNlIGluXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5lcikgdGhyb3cgXCJDYW5ub3QgaW5pdGlhbGl6ZSBzaG93Y2FzZSB3aXRob3V0IGEgY29udGFpbmVyIHRvIHB1dCBpdCBpbi5cIjtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKGNvbnRhaW5lciwge1xuICAgICAgICAgICAgICAgICAgICByaWRlc3R5bGVyU2hvd2Nhc2U6IHRoaXNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJDb21wb25lbnRzKCk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLmFwaS5pbml0aWFsaXplKHRoaXMuc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZVN0eWxlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRmlsdGVycygpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNvbXBvbmVudHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vbihcInZlaGljbGUtc2VsZWN0ZWRcIiwgZnVuY3Rpb24gKHNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0ZS5jaGFuZ2VTdGF0ZShSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzLlZpc3VhbGl6ZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVDb25maWd1cmF0aW9uSUQ6IHNlbGVjdGlvbi5WZWhpY2xlQ29uZmlndXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZWhpY2xlRGVzY3JpcHRpb246IHNlbGVjdGlvbi5WZWhpY2xlRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVoaWNsZVRpcmVPcHRpb25JRDogc2VsZWN0aW9uLlRpcmVPcHRpb25JRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZWhpY2xlVGlyZU9wdGlvbkRlc2NyaXB0aW9uOiBzZWxlY3Rpb24uVGlyZU9wdGlvblN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWludFNjaGVtZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVoaWNsZUhhc0FuZ2xlZEltYWdlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWhpY2xlSGFzU2lkZUltYWdlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGlyZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFdoZWVsOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2hlZWxGaXRtZW50OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGlyZU9wdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbk1vZGVsOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBzZXR0aW5nc1JldHJpZXZlZCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oUmlkZVN0eWxlclNob3djYXNlLmFwaS5hdXRoZW50aWNhdGVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnNldHRpbmdzLmdldFNldHRpbmdzKCkuZG9uZShmdW5jdGlvbiAoc2V0dGluZ3NGcm9tQVBJKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5nc0Zyb21BUEkgPSBzZXR0aW5nc0Zyb21BUEk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLmFsbChbdGhpcy5zdHlsZS5pbml0aWFsaXplZCwgc2V0dGluZ3NSZXRyaWV2ZWRdKS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRzLnRyaWdnZXIoJ2luaXRpYWxpemVkJywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uU3RhdGVDaGFuZ2VkKHtcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGU6IHRoaXMuc3RhdGUuY3VycmVudFN0YXRlLFxuICAgICAgICAgICAgICAgICAgICBvbGRTdGF0ZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBuZXdEYXRhOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZVN0YXRlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplU3RhdGUoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5zdGF0ZS5SaWRlU3R5bGVyU2hvd2Nhc2VTdGF0ZShSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzLkNob29zZVZlaGljbGUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmRlYnVnLnN0YXRlID09PSB0cnVlKSB0aGlzLnN0YXRlLmRlYnVnQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZSwgZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbmlzaGVkU3RyaW5nID0gZmluaXNoZWQgPyAnRmluaXNoZWQnIDogJ0JlZ2lubmluZyc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZUNoYW5nZSA9IFwidG8gXCIgKyBSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzW2UubmV3U3RhdGVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGUub2xkU3RhdGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNoYW5nZSA9IFwiZnJvbSBcIiArIFJpZGVTdHlsZXJTaG93Y2FzZS5TdGF0ZXNbZS5vbGRTdGF0ZV0gKyBcIiBcIiArIHN0YXRlQ2hhbmdlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbUmlkZVN0eWxlclNob3djYXNlIFN0YXRlXSAnICsgc3RhdGVDaGFuZ2UgKyAnICcgKyBmaW5pc2hlZFN0cmluZywgZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLm9uQ2hhbmdlKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZXZlbnRzLnRyaWdnZXIoXCJzdGF0ZS1jaGFuZ2VkXCIsIGUpICYmIF90aGlzMi5vblN0YXRlQ2hhbmdlZChlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZVN0eWxlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplU3R5bGUoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHlsZXMuU3R5bGVNYW5hZ2VyKHRoaXMuY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlLm9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmV2ZW50cy50cmlnZ2VyKCdyZXNpemUnLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5vblJlc2l6ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuZXZlbnRzLnRyaWdnZXIoJ3Jlc2l6ZWQnLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5vbkJyZWFrcG9pbnRDaGFuZ2VkID0gZnVuY3Rpb24gKG5ld0JyZWFrcG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5ldmVudHMudHJpZ2dlcignYnJlYWtwb2ludC1jaGFuZ2VkJywgbmV3QnJlYWtwb2ludCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygncmlkZXN0eWxlci1zaG93Y2FzZScpKSB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdyaWRlc3R5bGVyLXNob3djYXNlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVGaWx0ZXJzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplRmlsdGVycygpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVycyA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuZmlsdGVycy5GaWx0ZXJDb250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMub24oXCJ2ZWhpY2xlLXNlbGVjdGVkXCIsIGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LmZpbHRlcnMuc2V0VmVoaWNsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWhpY2xlQ29uZmlndXJhdGlvbklEOiBzZWxlY3Rpb24uVmVoaWNsZUNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWhpY2xlVGlyZU9wdGlvbklEOiBzZWxlY3Rpb24uVGlyZU9wdGlvbklEXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplQ29tcG9uZW50cycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbXBvbmVudHMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB0aGlzLm90aGVyQ29tcG9uZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvbXBvbmVudC5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IHRoaXMubWFpbkNvbXBvbmVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfY29tcG9uZW50ID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY29tcG9uZW50LnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKF9jb21wb25lbnQuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25TdGF0ZUNoYW5nZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3RhdGVDaGFuZ2VkKGV2KSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50Q29tcG9uZW50KGV2KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndXBkYXRlQ3VycmVudENvbXBvbmVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQ3VycmVudENvbXBvbmVudChldikge1xuICAgICAgICAgICAgICAgIHZhciBuZXdDb21wb25lbnQgPSB0aGlzLnN0YXRlQ29tcG9uZW50TWFwcGluZ1tldi5uZXdTdGF0ZV07XG4gICAgICAgICAgICAgICAgdmFyIG9sZENvbXBvbmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGVDbGFzc1ByZWZpeCA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXN0YXRlLSc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldi5vbGRTdGF0ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgb2xkQ29tcG9uZW50ID0gdGhpcy5zdGF0ZUNvbXBvbmVudE1hcHBpbmdbZXYub2xkU3RhdGVdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKHN0YXRlQ2xhc3NQcmVmaXggKyBSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzW2V2Lm9sZFN0YXRlXS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChzdGF0ZUNsYXNzUHJlZml4ICsgUmlkZVN0eWxlclNob3djYXNlLlN0YXRlc1tldi5uZXdTdGF0ZV0udG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKG9sZENvbXBvbmVudCAmJiBvbGRDb21wb25lbnQuaXNWaXNpYmxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgb2xkQ29tcG9uZW50LmhpZGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29tcG9uZW50LnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3Q29tcG9uZW50LnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlSW5zdGFuY2U7XG4gICAgfSgpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZUluc3RhbmNlID0gUmlkZVN0eWxlclNob3djYXNlSW5zdGFuY2U7XG4gICAgZnVuY3Rpb24gY3JlYXRlKGNvbnRhaW5lciwgc2V0dGluZ3MpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2VJbnN0YW5jZShjb250YWluZXIsIHNldHRpbmdzKTtcbiAgICB9XG4gICAgUmlkZVN0eWxlclNob3djYXNlLmNyZWF0ZSA9IGNyZWF0ZTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgQ29tcG9uZW50QmFzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gQ29tcG9uZW50QmFzZShzaG93Y2FzZUluc3RhbmNlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29tcG9uZW50QmFzZSk7XG5cbiAgICAgICAgICAgIHRoaXMuc2hvd2Nhc2UgPSBzaG93Y2FzZUluc3RhbmNlO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMgPSBzaG93Y2FzZUluc3RhbmNlLmV2ZW50cztcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBzaG93Y2FzZUluc3RhbmNlLnN0YXRlO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplQ29tcG9uZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgb3ZlcnJpZGFibGUgZnVuY3Rpb24gY2FsbGVkIGFmdGVyIHRoZSBiYXNlIGNvbXBvbmVudCBpcyBpbml0aWFsaXplZFxuICAgICAgICAgKiBAdmlydHVhbFxuICAgICAgICAgKi9cblxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhDb21wb25lbnRCYXNlLCBbe1xuICAgICAgICAgICAga2V5OiBcImluaXRpYWxpemVDb21wb25lbnRcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplQ29tcG9uZW50KCkge31cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBDb21wb25lbnRCYXNlO1xuICAgIH0oKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5Db21wb25lbnRCYXNlID0gQ29tcG9uZW50QmFzZTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBNYWluQ29tcG9uZW50QmFzZSA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJEMpIHtcbiAgICAgICAgX2luaGVyaXRzKE1haW5Db21wb25lbnRCYXNlLCBfUmlkZVN0eWxlclNob3djYXNlJEMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIE1haW5Db21wb25lbnRCYXNlKHNob3djYXNlSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYWluQ29tcG9uZW50QmFzZSk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChNYWluQ29tcG9uZW50QmFzZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE1haW5Db21wb25lbnRCYXNlKSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlKSk7XG5cbiAgICAgICAgICAgIF90aGlzLmNvbXBvbmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgX3RoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5hZGQoJ3JpZGVzdHlsZXItc2hvd2Nhc2UtbWFpbi1jb21wb25lbnQnKTtcbiAgICAgICAgICAgIGlmIChSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIudHJhbnNpdGlvbnNTdXBwb3J0ZWQpIF90aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci50cmFuc2l0aW9uRW5kRXZlbnQsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSB0cmFuc2l0aW9ucyBvbiB0aGlzIGNvbXBvbmVudCBlbGVtZW50XG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSBfdGhpcy5jb21wb25lbnQpIHJldHVybjtcbiAgICAgICAgICAgICAgICBfdGhpcy5vblRyYW5zaXRpb25FbmQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICBfdGhpcy5idWlsZENvbXBvbmVudChfdGhpcy5jb21wb25lbnQpO1xuICAgICAgICAgICAgX3RoaXMuaW5pdGlhbGl6ZU1haW5Db21wb25lbnQoKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQSBvdmVycmlkYWJsZSBmdW5jdGlvbiBjYWxsZWQgYWZ0ZXIgdGhlIGJhc2UgY29tcG9uZW50IGlzIGNvbnN0cnVjdGVkXG4gICAgICAgICAqIEB2aXJ0dWFsXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKE1haW5Db21wb25lbnRCYXNlLCBbe1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZUNvbXBvbmVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbXBvbmVudCgpIHt9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEEgb3ZlcnJpZGFibGUgZnVuY3Rpb24gY2FsbGVkIGFmdGVyIHRoZSBtYWluIGNvbXBvbmVudCBpcyBjb25zdHJ1Y3RlZFxuICAgICAgICAgICAgICogQHZpcnR1YWxcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVNYWluQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplTWFpbkNvbXBvbmVudCgpIHt9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgY29tcG9uZW50IGlzIHZpc2libGVcbiAgICAgICAgICAgICAqIEByZXR1cm4gdHJ1ZSwgaWYgdGhpcyBjb21wb25lbnQgaXMgdmlzaWJsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdpc1Zpc2libGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzVmlzaWJsZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdmlzaWJsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSGlkZS9zaG93IHRoZSBjb21wb25lbnQgd2l0aG91dCBhbmltYXRpb25cbiAgICAgICAgICAgICAqIEBwYXJhbSB2aXNpYmxlIElmIHRydWUsIHNob3cgdGhlIGNvbXBvbmVudCwgb3RoZXJ3aXNlIGhpZGUgdGhlIGNvbXBvbmVudFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0VmlzaWJsZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmlzaWJsZSh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdmlzaWJsZSA9PT0gdmlzaWJsZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Zpc2libGUgPSB2aXNpYmxlO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VmlzaWJsZVN0eWxpbmcodmlzaWJsZSk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLnNraXBUcmFuc2l0aW9uKHRoaXMuY29tcG9uZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2aXNpYmxlID8gX3RoaXMyLnNob3coKSA6IF90aGlzMi5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldFZpc2libGVTdHlsaW5nJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWaXNpYmxlU3R5bGluZyh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlcyA9IHRoaXMuY29tcG9uZW50LnN0eWxlO1xuICAgICAgICAgICAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlcy52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgICAgICAgICAgICAgICBzdHlsZXMudG9wID0gJyc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzLnRvcCA9ICcxMDAwJSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdjYWxsV2hlbkRvbmVBbmltYXRpbmcnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGxXaGVuRG9uZUFuaW1hdGluZyhjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2FsbCB0aGUgY2FsbGJhY2sgYWZ0ZXIgdGhlIHZpZXcgaGFzIGJlZW4gYW5pbWF0ZWQgaW4gXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FuaW1hdGluZykgUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLm9uTmV4dFRyYW5zaXRpb25FbmQodGhpcy5jb21wb25lbnQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwoX3RoaXMzKTtcbiAgICAgICAgICAgICAgICB9KTtlbHNlIGNhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxlZCBiZWZvcmUgdGhpcyBjb21wb25lbnQgaXMgc2hvd25cbiAgICAgICAgICAgICAqIEB2aXJ0dWFsXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblNob3cnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2hvdygpIHt9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxlZCBiZWZvcmUgdGhpcyBjb21wb25lbnQgaXMgc2hvd24gYnV0IGFmdGVyIGl0IGhhcyByZWNlaXZlZCBkaW1lbnNpb25zXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkRpc3BsYXknLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uRGlzcGxheSgpIHt9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxlZCBhZnRlciB0aGUgY29tcG9uZW50IGlzIHNob3duXG4gICAgICAgICAgICAgKiBAdmlydHVhbFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25TaG93bicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25TaG93bigpIHt9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxlZCBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBoaWRkZW5cbiAgICAgICAgICAgICAqIEB2aXJ0dWFsXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkhpZGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uSGlkZSgpIHt9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxlZCBhZnRlciB0aGUgY29tcG9uZW50IGlzIGhpZGRlblxuICAgICAgICAgICAgICogQHZpcnR1YWxcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uSGlkZGVuJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkhpZGRlbigpIHt9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFuaW1hdGUgdGhlIGNvbXBvbmVudCBpbnRvIHRoZSB2aWV3XG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzaG93JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjb21wb25lbnQgaXMgYWxyZWFkeSB2aXNpYmxlLCB0cmlnZ2VyIHRoZSBjYWxsYmFjayBhcyBuZWVkZWRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFdoZW5Eb25lQW5pbWF0aW5nKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hbmltYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyB2aWV3IGlzIGFuaW1hdGluZyBvdXQsIHNob3cgaXQgYWZ0ZXIgaXQncyBkb25lXG4gICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5vbk5leHRUcmFuc2l0aW9uRW5kKHRoaXMuY29tcG9uZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LnNob3coY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl92aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmltYXRpbmcgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIudHJhbnNpdGlvbnNTdXBwb3J0ZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5vblNob3coKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpc2libGVTdHlsaW5nKHRydWUpO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci50cmlnZ2VyUmVmbG93KHRoaXMuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRGlzcGxheSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbFdoZW5Eb25lQW5pbWF0aW5nKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblNob3duKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LmFkZCgnaW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQW5pbWF0ZSB0aGUgY29tcG9uZW50IG91dCBvZiB0aGUgdmlld1xuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaGlkZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZShjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2luJykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWxyZWFkeSBoaWRkZW5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxXaGVuRG9uZUFuaW1hdGluZyhjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYW5pbWF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgdmlldyBpcyBhbmltYXRpbmcgaW4sIHNob3cgaXQgYWZ0ZXIgaXQncyBkb25lXG4gICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5vbk5leHRUcmFuc2l0aW9uRW5kKHRoaXMuY29tcG9uZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmhpZGUoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl92aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5pbWF0aW5nID0gUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLnRyYW5zaXRpb25zU3VwcG9ydGVkO1xuICAgICAgICAgICAgICAgIHRoaXMub25IaWRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsV2hlbkRvbmVBbmltYXRpbmcoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uSGlkZGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaW4nKTtcbiAgICAgICAgICAgICAgICBpZiAoIVJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci50cmFuc2l0aW9uc1N1cHBvcnRlZCkgdGhpcy5zZXRWaXNpYmxlU3R5bGluZyhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEhpZGUgY29tcG9uZW50cyBhZnRlciB0cmFuc2l0aW9uIG91dFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25UcmFuc2l0aW9uRW5kJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblRyYW5zaXRpb25FbmQoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2luJykpIHRoaXMuc2V0VmlzaWJsZVN0eWxpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIE1haW5Db21wb25lbnRCYXNlO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLk1haW5Db21wb25lbnRCYXNlID0gTWFpbkNvbXBvbmVudEJhc2U7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBkZWZhdWx0U2l6ZSA9IHtcbiAgICAgICAgd2lkdGg6IDIwMCxcbiAgICAgICAgaGVpZ2h0OiAyMDBcbiAgICB9O1xuICAgIHZhciBtaW5pbXVtU2l6ZSA9IHtcbiAgICAgICAgd2lkdGg6IDUwLFxuICAgICAgICBoZWlnaHQ6IDUwXG4gICAgfTtcbiAgICB2YXIgbWF4aW11bVNpemUgPSB7XG4gICAgICAgIHdpZHRoOiA4MDAsXG4gICAgICAgIGhlaWdodDogODAwXG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdFBvc2l0aW9uID0ge1xuICAgICAgICBQb3NpdGlvblk6IDAgLyogTmVhciAqL1xuICAgICAgICAsIFBvc2l0aW9uWDogMCAvKiBOZWFyICovIC8vIExlZnRcbiAgICB9O1xuXG4gICAgdmFyIFJlc2l6ZWFibGVSZXNvdXJjZUltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIGNvbnRhaW5lciBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB0aGUgaW1hZ2UgaW5cbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIFJlc2l6ZWFibGVSZXNvdXJjZUltYWdlKGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlc2l6ZWFibGVSZXNvdXJjZUltYWdlKTtcblxuICAgICAgICAgICAgdGhpcy5yZXNpemVDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gb3B0aW9ucy5hY3Rpb247XG4gICAgICAgICAgICB0aGlzLmltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmltYWdlKTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzID0gW107XG4gICAgICAgICAgICBpZiAob3B0aW9ucy50cmFuc2l0aW9uQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLmNsYXNzTGlzdC5hZGQob3B0aW9ucy50cmFuc2l0aW9uQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMudXNlVHJhbnNpdGlvbnMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uSW5DbGFzcyA9IG9wdGlvbnMudHJhbnNpdGlvbkluQ2xhc3M7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMucGFkZGluZyA9PT0gJ3VuZGVmaW5lZCcpIHRoaXMucGFkZGluZyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5jYWxjdWxhdGVQYWRkaW5nO2Vsc2UgaWYgKG9wdGlvbnMucGFkZGluZyA9PT0gZmFsc2UpIHRoaXMucGFkZGluZyA9IHsgd2lkdGg6IDAsIGhlaWdodDogMCB9O2Vsc2UgdGhpcy5wYWRkaW5nID0gb3B0aW9ucy5wYWRkaW5nO1xuICAgICAgICAgICAgdGhpcy5pbWFnZUxvYWRDYWxsYmFjayA9IG9wdGlvbnMub25Mb2FkO1xuICAgICAgICAgICAgdGhpcy5pbWFnZUVycm9yQ2FsbGJhY2sgPSBvcHRpb25zLm9uRXJyb3I7XG4gICAgICAgICAgICB0aGlzLmltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9uSW1hZ2VFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5vbkltYWdlTG9hZChldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChfdHlwZW9mKG9wdGlvbnMuYmFzZUluc3RydWN0aW9ucykgPT09ICdvYmplY3QnKSB0aGlzLmJhc2VJbnN0cnVjdGlvbnMgPSBvcHRpb25zLmJhc2VJbnN0cnVjdGlvbnM7XG4gICAgICAgICAgICBpZiAodGhpcy5pbnN0cnVjdGlvbnMgJiYgb3B0aW9ucy5sb2FkSW5pdGlhbGx5ICE9PSBmYWxzZSkgdGhpcy51cGRhdGUodGhpcy5pbnN0cnVjdGlvbnMpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGlzdGVuVG9XaW5kb3dSZXNpemUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdmFyIHdhaXRNcyA9IDUwMDtcbiAgICAgICAgICAgICAgICB2YXIgcmVzaXplQ2FsbGJhY2sgPSBmdW5jdGlvbiByZXNpemVDYWxsYmFjaygpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgd2FpdE1zKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVDYWxsYmFjaywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnB1c2goW3dpbmRvdywgJ3Jlc2l6ZScsIHJlc2l6ZUNhbGxiYWNrXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGwgdGhpcyBmdW5jdGlvbiBhZnRlciB0aGUgY29tcG9uZW50IHdpbGwgbm8gbG9uZ2VyIGJlIHVzZWRcbiAgICAgICAgICogdG8gcmVtb3ZlIGFueSBpbnRlcm5hbGx5IGF0dGFjaGVkIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJlc2l6ZWFibGVSZXNvdXJjZUltYWdlLCBbe1xuICAgICAgICAgICAga2V5OiAnZGVzdHJveScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdGhpcy5ldmVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVnaXN0ZXJlZEV2ZW50ID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmVnaXN0ZXJlZEV2ZW50ID0gX3NsaWNlZFRvQXJyYXkocmVnaXN0ZXJlZEV2ZW50LCAzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBfcmVnaXN0ZXJlZEV2ZW50WzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9IF9yZWdpc3RlcmVkRXZlbnRbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBfcmVnaXN0ZXJlZEV2ZW50WzJdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBdHRhY2hlZCB0byB0aGUgaW1hZ2UgZXJyb3IgZXZlbnRcbiAgICAgICAgICAgICAqIEBwYXJhbSBlcnJvckV2ZW50IFRoZSBlcnJvciBldmVudFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25JbWFnZUVycm9yJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkltYWdlRXJyb3IoZXJyb3JFdmVudCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5pbWFnZUVycm9yQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHRoaXMuaW1hZ2VFcnJvckNhbGxiYWNrKHRoaXMuaW1hZ2UsIGVycm9yRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBdHRhY2hlZCB0byB0aGUgaW1hZ2UgbG9hZCBldmVudFxuICAgICAgICAgICAgICogQHBhcmFtIGV2ZW50IFRoZSBpbWFnZSBsb2FkIGV2ZW50XG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkltYWdlTG9hZCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25JbWFnZUxvYWQoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuaW1hZ2VMb2FkQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHRoaXMuaW1hZ2VMb2FkQ2FsbGJhY2sodGhpcy5pbWFnZSwgZXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy52aXNpYmxlKSB0aGlzLnNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2hvdyB0aGUgaW1hZ2VcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3Nob3cnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aXNpYmxlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlVHJhbnNpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLlZpc2liaWxpdHlIZWxwZXIuc2hvdyh0aGlzLmltYWdlLCB0aGlzLnRyYW5zaXRpb25JbkNsYXNzKS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMyLmltYWdlRGlzcGxheUNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBfdGhpczIuaW1hZ2VEaXNwbGF5Q2FsbGJhY2soX3RoaXMyLmltYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGN1bGF0ZSB0aGUgc2l6ZSBvZiB0aGUgaW1hZ2UgZnJvbSB0aGUgY29udGFpbmVyXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdjYWxjdWxhdGVSZW5kZXJTaXplJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxjdWxhdGVSZW5kZXJTaXplKCkge1xuICAgICAgICAgICAgICAgIC8vIEdyYWIgdGhlIHNpemUgb2YgdGhlIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgIHZhciBfY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudFdpZHRoID0gX2NvbnRhaW5lci5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50SGVpZ2h0ID0gX2NvbnRhaW5lci5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGRlZmF1bHQgc2l6ZSBpZiB0aGUgY29udGFpbmVyIHdhcyBub3QgYWJsZSB0byBiZSBkZXRlY3RlZFxuXG4gICAgICAgICAgICAgICAgaWYgKCFjbGllbnRIZWlnaHQgfHwgIWNsaWVudFdpZHRoKSByZXR1cm4gZGVmYXVsdFNpemU7XG4gICAgICAgICAgICAgICAgLy8gR3JhYiB0aGUgcGFkZGluZyBzaXplXG4gICAgICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSB0eXBlb2YgdGhpcy5wYWRkaW5nID09PSAnZnVuY3Rpb24nID8gdGhpcy5wYWRkaW5nKHRoaXMuY29udGFpbmVyKSA6IHRoaXMucGFkZGluZztcbiAgICAgICAgICAgICAgICAvLyBUaGUgZGV0ZWN0ZWQgc2l6ZSBvZiB0aGUgY29udGFpbmVyIG1pbnVzIHBhZGRpbmdcbiAgICAgICAgICAgICAgICB2YXIgZGV0ZWN0ZWRTaXplID0ge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogY2xpZW50V2lkdGggLSBwYWRkaW5nLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGNsaWVudEhlaWdodCAtIHBhZGRpbmcuaGVpZ2h0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHBpeGVsIHJhdGlvIGZvciByZXRpbmEgc2NyZWVuc1xuICAgICAgICAgICAgICAgIHZhciBwaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTtcbiAgICAgICAgICAgICAgICAvLyBBZGp1c3QgdGhlIGRldGVjdGVkIHNpemUgdG8gYWNjb3VudCBmb3IgcGl4ZWwgcmF0aW9cbiAgICAgICAgICAgICAgICBkZXRlY3RlZFNpemUud2lkdGggKj0gcGl4ZWxSYXRpbztcbiAgICAgICAgICAgICAgICBkZXRlY3RlZFNpemUuaGVpZ2h0ICo9IHBpeGVsUmF0aW87XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Cb3hIZWxwZXIuZmxvb3IoUmlkZVN0eWxlclNob3djYXNlLkJveEhlbHBlci5ib3VuZChkZXRlY3RlZFNpemUsIG1pbmltdW1TaXplLCBtYXhpbXVtU2l6ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzaXplSXNEaWZmZXJlbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNpemVJc0RpZmZlcmVudChib3gpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudFNpemUpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfY3VycmVudFNpemUgPSB0aGlzLmN1cnJlbnRTaXplLFxuICAgICAgICAgICAgICAgICAgICB0aGlzV2lkdGggPSBfY3VycmVudFNpemUud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIHRoaXNIZWlnaHQgPSBfY3VycmVudFNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHZhciBib3hXaWR0aCA9IGJveC53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgYm94SGVpZ2h0ID0gYm94LmhlaWdodDtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzV2lkdGggIT09IGJveFdpZHRoIHx8IHRoaXNIZWlnaHQgIT09IGJveEhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVXBkYXRlIG9yIGNyZWF0ZSB0aGUgaW1hZ2VcbiAgICAgICAgICAgICAqIEBwYXJhbSBpbnN0cnVjdGlvbnMgTmV3IGluc3RydWN0aW9ucyB0byByZW5kZXIgdGhlIGltYWdlIHdpdGhcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKGluc3RydWN0aW9ucykge1xuICAgICAgICAgICAgICAgIHZhciBuZWVkc1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBpbnN0cnVjdGlvbnNcbiAgICAgICAgICAgICAgICBpZiAoaW5zdHJ1Y3Rpb25zICYmIHRoaXMuaW5zdHJ1Y3Rpb25zICE9PSBpbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIG5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHNpemVcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZW5kZXJTaXplID0gdGhpcy5jYWxjdWxhdGVSZW5kZXJTaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNpemVJc0RpZmZlcmVudChyZW5kZXJTaXplKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U2l6ZSA9IHJlbmRlclNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5lZWRzVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfY3VycmVudFNpemUyID0gdGhpcy5jdXJyZW50U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gX2N1cnJlbnRTaXplMi53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IF9jdXJyZW50U2l6ZTIuaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gcmlkZXN0eWxlci5hamF4LnVybCh0aGlzLmFjdGlvbiwgUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgV2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgSGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgfSwgZGVmYXVsdFBvc2l0aW9uLCB0aGlzLmJhc2VJbnN0cnVjdGlvbnMsIHRoaXMuaW5zdHJ1Y3Rpb25zKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJlc2l6ZWFibGVSZXNvdXJjZUltYWdlO1xuICAgIH0oKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SZXNpemVhYmxlUmVzb3VyY2VJbWFnZSA9IFJlc2l6ZWFibGVSZXNvdXJjZUltYWdlO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRDKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kLCBfUmlkZVN0eWxlclNob3djYXNlJEMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQoKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlQmFja2dyb3VuZCk7XG5cbiAgICAgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlQmFja2dyb3VuZC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kLCBbe1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZUNvbXBvbmVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbXBvbmVudCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYmFja2dyb3VuZEVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtYmFja2dyb3VuZCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgYmFja2dyb3VuZFRleHR1cmUgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtYmFja2dyb3VuZC10ZXh0dXJlJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IGJhY2tncm91bmRFbGVtZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSBiYWNrZ3JvdW5kRWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQgPSBSaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9ICdyaWRlc3R5bGVyLXNob3djYXNlLWJ1dHRvbi1waWNrZXInO1xuICAgIHZhciBvcHRpb25DbGFzcyA9IGNsYXNzTmFtZSArICctb3B0aW9uJztcbiAgICB2YXIgYWN0aXZlQ2xhc3MgPSBvcHRpb25DbGFzcyArICctYWN0aXZlJztcblxuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VCdXR0b25QaWNrZXIgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRDKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VCdXR0b25QaWNrZXIsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkQyk7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyKHNob3djYXNlSW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VCdXR0b25QaWNrZXIpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyKSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlKSk7XG5cbiAgICAgICAgICAgIF90aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLXRpdGxlJyxcbiAgICAgICAgICAgICAgICB0ZXh0OiBvcHRpb25zLnRpdGxlLFxuICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBfdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgIH0pLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9wdGlvbkNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gX3RoaXMub3B0aW9uQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPT0gJ25vbmUnID8gJycgOiAnbm9uZSc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLm9wdGlvbkNvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctb3B0aW9uLWNvbnRhaW5lcicsXG4gICAgICAgICAgICAgICAgYXBwZW5kVG86IF90aGlzLmNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLm9wdGlvbkNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5vbk9wdGlvbkNsaWNrKGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZUJ1dHRvblBpY2tlciwgW3tcbiAgICAgICAgICAgIGtleTogJ3NldE9wdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmVtcHR5KHRoaXMub3B0aW9uQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IG9wdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25FbGVtZW50ID0gT2JqZWN0LmFzc2lnbihSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBvcHRpb25DbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBvcHRpb24ubGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uLmFjdGl2ZSkgb3B0aW9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGFjdGl2ZUNsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKG9wdGlvbkVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uT3B0aW9uQ2xpY2snLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uT3B0aW9uQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggcGFyZW50cyB1bnRpbCB3ZSd2ZSByZWFjaGVkIHRoZSBib3VuZCBlbGVtZW50XG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnRUYXJnZXQgIT09IHRoaXMub3B0aW9uQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhvcHRpb25DbGFzcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFuIG9wdGlvbiB3YXMgY2xpY2tlZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBhY3RpdmUgY2xhc3MgZnJvbSB0aGUgb2xkIG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNoaWxkcmVuV2l0aENsYXNzZXModGhpcy5vcHRpb25Db250YWluZXIsIGFjdGl2ZUNsYXNzKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuY2xhc3NMaXN0LnJlbW92ZShhY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBBZGQgaXQgdG8gdGhlIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoYWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvblNlbGVjdGVkQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHRoaXMub3B0aW9uU2VsZWN0ZWRDYWxsYmFjayhjdXJyZW50VGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VCdXR0b25QaWNrZXI7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyID0gUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZSA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJFIpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZSwgX1JpZGVTdHlsZXJTaG93Y2FzZSRSKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VDaGFuZ2VXaGVlbFNpemUoc2hvd2Nhc2VJbnN0YW5jZSkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZSk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VDaGFuZ2VXaGVlbFNpemUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VDaGFuZ2VXaGVlbFNpemUpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UsIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdjaGFuZ2Utd2hlZWwtc2l6ZScpXG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIF90aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QuYWRkKCdyaWRlc3R5bGVyLXNob3djYXNlLWNoYW5nZS13aGVlbC1zaXplJyk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlQ2hhbmdlV2hlZWxTaXplLCBbe1xuICAgICAgICAgICAga2V5OiAnc2V0Rml0bWVudE9wdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZpdG1lbnRPcHRpb25zKGZpdG1lbnRzLCBhY3RpdmVGaXRtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlZW5EaWFtZXRlcnMgPSB7fTtcbiAgICAgICAgICAgICAgICB2YXIgZGlhbWV0ZXJGaXRtZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBmaXRtZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXRtZW50ID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaWFtZXRlciA9IGZpdG1lbnQuRGlhbWV0ZXJNaW47XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlhbWV0ZXIgaW4gc2VlbkRpYW1ldGVycyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWVuRGlhbWV0ZXJzW2RpYW1ldGVyXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbWV0ZXJGaXRtZW50cy5wdXNoKFtkaWFtZXRlciwgZml0bWVudF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkaWFtZXRlckZpdG1lbnRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFbMF0gLSBiWzBdO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChkaWFtZXRlckZpdG1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNldE9wdGlvbnMoUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyLm1hcChkaWFtZXRlckZpdG1lbnRzLCBmdW5jdGlvbiAoZGlhbWV0ZXJGaXRtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZGlhbWV0ZXJGaXRtZW50WzBdICsgJ+KAsycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZGlhbWV0ZXJGaXRtZW50WzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiBkaWFtZXRlckZpdG1lbnRbMV0gPT09IGFjdGl2ZUZpdG1lbnRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlQ2hhbmdlV2hlZWxTaXplO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZUJ1dHRvblBpY2tlcik7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlQ2hhbmdlV2hlZWxTaXplID0gUmlkZVN0eWxlclNob3djYXNlQ2hhbmdlV2hlZWxTaXplO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIG1vZGFsQ2xhc3MgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1tb2RhbCc7XG4gICAgdmFyIGJhY2tkcm9wQ2xhc3MgPSBtb2RhbENsYXNzICsgJy1iYWNrZHJvcCc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlTW9kYWwgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRDKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbChzaG93Y2FzZUluc3RhbmNlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlTW9kYWwpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlTW9kYWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCkpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSkpO1xuXG4gICAgICAgICAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgYmFja2Ryb3AgaWYgbmVlZGVkXG4gICAgICAgICAgICBfdGhpcy5jcmVhdGVCYWNrZHJvcElmTmVlZGVkKCk7XG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIG1vZGFsXG4gICAgICAgICAgICBfdGhpcy5idWlsZE1vZGFsKCk7XG4gICAgICAgICAgICAvLyBNb2RhbHMgc3RhcnQgb2ZmIGhpZGRlbiB1bnRpbCBzaG93blxuICAgICAgICAgICAgX3RoaXMuc2V0VmlzaWJpbGl0eShmYWxzZSk7XG4gICAgICAgICAgICAvLyBNb2RhbHMgYXJlIGFwcGVuZGVkIHRvIHRoZSBzaG93Y2FzZSBjb250YWluZXJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudCA9IHNob3djYXNlSW5zdGFuY2UuY29udGFpbmVyO1xuICAgICAgICAgICAgX3RoaXMucGFyZW50LmFwcGVuZENoaWxkKF90aGlzLmNvbXBvbmVudCk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1aWxkIHRoZSBtb2RhbCBET00gc3RydWN0dXJlXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsLCBbe1xuICAgICAgICAgICAga2V5OiAnYnVpbGRNb2RhbCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRNb2RhbCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gT2JqZWN0LmFzc2lnbihSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogbW9kYWxDbGFzc1xuICAgICAgICAgICAgICAgIH0pLCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsOiB0aGlzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5mdWxsKSB0aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QuYWRkKG1vZGFsQ2xhc3MgKyAnLWZ1bGwnKTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdidXR0b24nLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogbW9kYWxDbGFzcyArICctY2xvc2UnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFjdGlvbnMpIHRoaXMuYnVpbGRBY3Rpb25zKHRoaXMub3B0aW9ucy5hY3Rpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnYnVpbGRBY3Rpb25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZEFjdGlvbnMoYWN0aW9ucykge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbkNvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBtb2RhbENsYXNzICsgJy1hY3Rpb25zJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGlvbkJ1dHRvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUJ1dHRvbihSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogYWN0aW9uQ29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgIH0sIGFjdGlvbikpO1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFjdGlvbi5hY3Rpb24gPT09ICdmdW5jdGlvbicpIGFjdGlvbi5hY3Rpb24oKTtlbHNlIGlmIChhY3Rpb24uYWN0aW9uID09PSAnaGlkZS1tb2RhbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGFjdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9sb29wKGFjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FsbGVkIHdoZW4gdGhpcyBtb2RhbCBpcyBsYXllZC1vdXQgYW5kIGFib3V0IHRvIHRyYW5zaXRpb24gaW5cbiAgICAgICAgICAgICAqIEB2aXJ0dWFsXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblNob3cnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2hvdygpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy50cmlnZ2VyKCdtb2RhbC1zaG93JywgeyBtb2RhbDogdGhpcyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FsbGVkIHdoZW4gdGhpcyBtb2RhbCBpcyB2aXNpYmxlXG4gICAgICAgICAgICAgKiBAdmlydHVhbFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25TaG93bicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25TaG93bigpIHt9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxlZCB3aGVuIHRoaXMgbW9kYWwgaXMgYWJvdXQgdG8gdHJhbnNpdGlvbiBvdXRcbiAgICAgICAgICAgICAqIEB2aXJ0dWFsXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkhpZGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uSGlkZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy50cmlnZ2VyKCdtb2RhbC1oaWRlJywgeyBtb2RhbDogdGhpcyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FsbGVkIHdoZW4gdGhpcyBtb2RhbCBpcyBoaWRkZW5cbiAgICAgICAgICAgICAqIEB2aXJ0dWFsXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkhpZGRlbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25IaWRkZW4oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmVPbkhpZGRlbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzaG93JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuVmlzaWJpbGl0eUhlbHBlci5zaG93KHRoaXMuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uU2hvdygpO1xuICAgICAgICAgICAgICAgIHByb21pc2UuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQub25TaG93bigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdoaWRlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuVmlzaWJpbGl0eUhlbHBlci5oaWRlKHRoaXMuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uSGlkZSgpO1xuICAgICAgICAgICAgICAgIHByb21pc2UuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUub25IaWRkZW4oKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0VmlzaWJpbGl0eScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmlzaWJpbGl0eSh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLlZpc2liaWxpdHlIZWxwZXIuc2V0VmlzaWJpbGl0eSh0aGlzLmNvbXBvbmVudCwgdmlzaWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENyZWF0ZXMgdGhlIGJhY2tkcm9wIGlmIG5lZWRlZFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY3JlYXRlQmFja2Ryb3BJZk5lZWRlZCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQmFja2Ryb3BJZk5lZWRlZCgpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIHByZXZpb3VzbHkgZXhpc3RpbmcgYmFja2Ryb3AgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICAgICAgICAgIGlmICghUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuaGFzQ2hpbGRXaXRoQ2xhc3ModGhpcy5zaG93Y2FzZS5jb250YWluZXIsIGJhY2tkcm9wQ2xhc3MpKSBuZXcgUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcCh0aGlzLnNob3djYXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbDtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5Db21wb25lbnRCYXNlKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCA9IFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsQmFja2Ryb3AgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRDMikge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcCwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDMik7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcChzaG93Y2FzZUluc3RhbmNlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcCk7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgYmFja2Ryb3BcbiAgICAgICAgICAgIHZhciBfdGhpczYgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsQmFja2Ryb3ApKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UpKTtcblxuICAgICAgICAgICAgX3RoaXM2LmJ1aWxkQmFja2Ryb3AoKTtcbiAgICAgICAgICAgIC8vIFRoZSBiYWNrZHJvcCBzdGFydHMgb2ZmIGhpZGRlblxuICAgICAgICAgICAgX3RoaXM2LnNldFZpc2liaWxpdHkoZmFsc2UpO1xuICAgICAgICAgICAgLy8gQXBwZW5kIHRoZSBiYWNrZHJvcCB0byB0aGUgc2hvd2Nhc2UgY29udGFpbmVyXG4gICAgICAgICAgICBzaG93Y2FzZUluc3RhbmNlLmNvbnRhaW5lci5hcHBlbmRDaGlsZChfdGhpczYuY29tcG9uZW50KTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczY7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcCwgW3tcbiAgICAgICAgICAgIGtleTogJ2J1aWxkQmFja2Ryb3AnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkQmFja2Ryb3AoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MoJ2RpdicsIGJhY2tkcm9wQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG9wVmlzaWJsZU1vZGFsID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIubGFzdFNpYmxpbmdXaXRoQ2xhc3MoX3RoaXM3LmNvbXBvbmVudCwgbW9kYWxDbGFzcywgJ2luJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3BWaXNpYmxlTW9kYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcFZpc2libGVNb2RhbC5tb2RhbC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZUNvbXBvbmVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbXBvbmVudCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uKCdtb2RhbC1zaG93JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzOC51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vbignbW9kYWwtaGlkZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczgudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEhpZGUgb3Igc2hvdyB0aGUgYmFja2Ryb3AgYmFzZWQgb2ZmIHRoZSBudW1iZXIgb2YgdmlzaWJsZSBtb2RhbHNcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICAgICAgICAgIHZhciBoYXNWaXNpYmxlTW9kYWwgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5oYXNTaWJsaW5nV2l0aENsYXNzKHRoaXMuY29tcG9uZW50LCBtb2RhbENsYXNzLCAnaW4nKTtcbiAgICAgICAgICAgICAgICB0aGlzW2hhc1Zpc2libGVNb2RhbCA/ICdzaG93JyA6ICdoaWRlJ10oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2hvdycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlZpc2liaWxpdHlIZWxwZXIuc2hvdyh0aGlzLmNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2hpZGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5WaXNpYmlsaXR5SGVscGVyLmhpZGUodGhpcy5jb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRWaXNpYmlsaXR5JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWaXNpYmlsaXR5KHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuVmlzaWJpbGl0eUhlbHBlci5zZXRWaXNpYmlsaXR5KHRoaXMuY29tcG9uZW50LCB2aXNpYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbEJhY2tkcm9wO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsQmFja2Ryb3AgPSBSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbEJhY2tkcm9wO1xuICAgIChmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlTW9kYWwpIHtcbiAgICAgICAgO1xuICAgIH0pKFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsID0gUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlTW9kYWwgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBvcHRpb25NZW51Q2xhc3MgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1vcHRpb24tbWVudSc7XG4gICAgdmFyIG9wdGlvbk1lbnVPcHRpb25DbGFzcyA9IG9wdGlvbk1lbnVDbGFzcyArICctb3B0aW9uJztcbiAgICB2YXIgb3B0aW9uTWVudU9wdGlvbkFjdGl2ZUNsYXNzID0gb3B0aW9uTWVudU9wdGlvbkNsYXNzICsgJy1hY3RpdmUnO1xuICAgIHZhciBvcHRpb25NZW51TG9hZGluZ0NsYXNzID0gb3B0aW9uTWVudUNsYXNzICsgJy1sb2FkaW5nJztcblxuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51KG5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51KTtcblxuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBvcHRpb25NZW51Q2xhc3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoY2xpY2tFdmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5vbkNsaWNrZWQoY2xpY2tFdmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zKSB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7ZWxzZSB0aGlzLnNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlT3B0aW9uTWVudSwgW3tcbiAgICAgICAgICAgIGtleTogJ3NldExvYWRpbmcnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldExvYWRpbmcobG9hZGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC50b2dnbGUob3B0aW9uTWVudUxvYWRpbmdDbGFzcywgbG9hZGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dlbmVyYXRlT3B0aW9uRWxlbWVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVPcHRpb25FbGVtZW50KG9wdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25FbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG9wdGlvbk1lbnVPcHRpb25DbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogb3B0aW9uLmxhYmVsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgb3B0aW9uRWxlbWVudC52YWx1ZSA9IG9wdGlvbi52YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9uRWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY2xlYXJPcHRpb25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhck9wdGlvbnMoKSB7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuZW1wdHkodGhpcy5jb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdhcHBlbmRPcHRpb25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBlbmRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gb3B0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYXBwZW5kQ2hpbGQodGhpcy5nZW5lcmF0ZU9wdGlvbkVsZW1lbnQob3B0aW9uKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0T3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhck9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0VmFsdWUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuY29tcG9uZW50LmNoaWxkcmVuLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uRWxlbWVudCA9IHRoaXMuY29tcG9uZW50LmNoaWxkcmVuW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZSA9IG9wdGlvbkVsZW1lbnQudmFsdWUgPT09IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25FbGVtZW50LmNsYXNzTGlzdC50b2dnbGUob3B0aW9uTWVudU9wdGlvbkFjdGl2ZUNsYXNzLCBhY3RpdmUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlKSB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkNsaWNrZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2tlZChjbGlja0V2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGNsaWNrRXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhvcHRpb25NZW51T3B0aW9uQ2xhc3MpKSByZXR1cm47IC8vIFRoZSBjbGljayB3YXMgbm90IG9uIGFuIG9wdGlvblxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKG9wdGlvbk1lbnVPcHRpb25BY3RpdmVDbGFzcykpIHJldHVybjsgLy8gVGhlIGNsaWNrIHdhcyBvbiBhbiBhY3RpdmUgb3B0aW9uXG4gICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzbHlTZWxlY3RlZE9wdGlvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmZpcnN0Q2hpbGRXaXRoQ2xhc3ModGhpcy5jb21wb25lbnQsIG9wdGlvbk1lbnVPcHRpb25BY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICAgICAgdmFyIG5ld1NlbGVjdGVkT3B0aW9uID0gdGFyZ2V0O1xuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c2x5U2VsZWN0ZWRPcHRpb24pIHByZXZpb3VzbHlTZWxlY3RlZE9wdGlvbi5jbGFzc0xpc3QucmVtb3ZlKG9wdGlvbk1lbnVPcHRpb25BY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICAgICAgbmV3U2VsZWN0ZWRPcHRpb24uY2xhc3NMaXN0LmFkZChvcHRpb25NZW51T3B0aW9uQWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBuZXdTZWxlY3RlZE9wdGlvbi52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHRoaXMub25DaGFuZ2UobmV3U2VsZWN0ZWRPcHRpb24udmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZU9wdGlvbk1lbnU7XG4gICAgfSgpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZU9wdGlvbk1lbnUgPSBSaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51O1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIHByZXZCdXR0b25DbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXBhZ2luYXRpb24tcHJldic7XG4gICAgdmFyIG5leHRCdXR0b25DbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXBhZ2luYXRpb24tbmV4dCc7XG4gICAgdmFyIG9wdGlvbkNsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi1vcHRpb24nO1xuICAgIHZhciBvcHRpb25TZWxlY3RlZENsYXNzID0gb3B0aW9uQ2xhc3MgKyAnLXNlbGVjdGVkJztcbiAgICB2YXIgb3B0aW9uTG9hZGluZ0NsYXNzID0gb3B0aW9uQ2xhc3MgKyAnLWxvYWRpbmcnO1xuICAgIHZhciBvcHRpb25Mb2FkZXJDbGFzcyA9IG9wdGlvbkNsYXNzICsgJy1sb2FkZXInO1xuICAgIHZhciBub1Jlc3VsdHNDbGFzcyA9IG9wdGlvbkNsYXNzICsgJy1uby1yZXN1bHRzJztcblxuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VQYWdpbmF0aW9uQ29tcG9uZW50ID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudCwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VQYWdpbmF0aW9uQ29tcG9uZW50KCkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQpO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRydWUsIHRoaXMgaGFzIG1vcmUgcmVzdWx0cyB0aGF0IGl0IGNhbiBsb2FkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VQYWdpbmF0aW9uQ29tcG9uZW50Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgICAgICBfdGhpcy5oYXNNb3JlUmVzdWx0cyA9IHRydWU7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRydWUsIHRoaXMgaXMgbG9hZGluZ1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdHJ1ZSwgdGhlIGZpcnN0IGxvYWQgaXMgYmVpbmcgcHJlZm9ybWVkIG9yIGhhc24ndCBiZWVuIHByZWZvcm1lZCB5ZXQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF90aGlzLmlzRmlyc3RMb2FkID0gdHJ1ZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0IHRoaXMgdG8gZmFsc2UgdG8gbm90IHNob3cgdGhlIG5vIHJlc3VsdHMgbWVzc2FnZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfdGhpcy5lbmFibGVTaG93Tm9SZXN1bHRzID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VQYWdpbmF0aW9uQ29tcG9uZW50LCBbe1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZUNvbXBvbmVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbXBvbmVudCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLXBhZ2luYXRpb24nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25Db250YWluZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi13cmFwcGVyJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2QnV0dG9uID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnYnV0dG9uJywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZXZCdXR0b25DbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUljb24oJ2NoZXZyb24tbGVmdCcpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0QnV0dG9uID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnYnV0dG9uJywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG5leHRCdXR0b25DbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUljb24oJ2NoZXZyb24tcmlnaHQnKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIExpc3RlbiBmb3IgY2xpY2tzIG9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uQ29tcG9uZW50Q2xpY2soZXZlbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIFJ1biBjbGVhciBvcHRpb25zIHRvIGdldCB0aGUgbG9hZGVyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhck9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAvLyBMb2FkIHBhZ2luYXRpb24gYWZ0ZXIgdGhpcyBjb21wb25lbnQgaGFzIGJlZW4gc2V0dXBcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5sb2FkTW9yZSgpO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5TY3JvbGxIZWxwZXIuYXR0YWNoV2hlZWxMaXN0ZW5lcih0aGlzLmNvbXBvbmVudCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IGV2ZW50LmRlbHRhWCB8fCBldmVudC5kZWx0YVk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfb3B0aW9uQ29udGFpbmVyID0gX3RoaXMyLm9wdGlvbkNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbExlZnQgPSBfb3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxXaWR0aCA9IF9vcHRpb25Db250YWluZXIuc2Nyb2xsV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRXaWR0aCA9IF9vcHRpb25Db250YWluZXIub2Zmc2V0V2lkdGg7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gTWF0aC5taW4oc2Nyb2xsTGVmdCArIGRlbHRhLCBzY3JvbGxXaWR0aCAtIG9mZnNldFdpZHRoKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLm9wdGlvbkNvbnRhaW5lci5zY3JvbGxMZWZ0ID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi50b3VjaFNjcm9sbEhhbmRsZXIuc2V0VmFsdWVzKG5ld1ZhbHVlLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLm9uU2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaFNjcm9sbEhhbmRsZXIgPSBuZXcgSW1wZXR1cyh7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogdGhpcy5vcHRpb25Db250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG11bHRpcGxpZXI6IC0xLFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSh4LCB5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5vcHRpb25Db250YWluZXIuc2Nyb2xsTGVmdCA9IHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIub3B0aW9uQ29udGFpbmVyLnNjcm9sbFRvcCA9IHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIub25TY3JvbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYm91bmRZOiBbMCwgMF1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnbG9hZE1vcmUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRNb3JlKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRNb3JlKCkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmNsZWFyT3B0aW9uTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMy51cGRhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndXBkYXRlQm91bmRzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVCb3VuZHMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9vcHRpb25Db250YWluZXIyID0gdGhpcy5vcHRpb25Db250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFdpZHRoID0gX29wdGlvbkNvbnRhaW5lcjIuc2Nyb2xsV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFdpZHRoID0gX29wdGlvbkNvbnRhaW5lcjIub2Zmc2V0V2lkdGg7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoU2Nyb2xsSGFuZGxlci5zZXRCb3VuZFgoWzAsIHNjcm9sbFdpZHRoIC0gb2Zmc2V0V2lkdGhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25TY3JvbGwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2Nyb2xsKCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGFnaW5hdGlvbkJ1dHRvbnMoKTtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uQ29udGFpbmVyID0gdGhpcy5vcHRpb25Db250YWluZXI7XG4gICAgICAgICAgICAgICAgdmFyIHJlYWNoZWRFbmRUb2xlcmFuY2UgPSAxMDtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgPj0gb3B0aW9uQ29udGFpbmVyLnNjcm9sbFdpZHRoIC0gb3B0aW9uQ29udGFpbmVyLm9mZnNldFdpZHRoIC0gcmVhY2hlZEVuZFRvbGVyYW5jZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRW5kVmlzaWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25FbmRWaXNpYmxlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkVuZFZpc2libGUoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzTG9hZGluZyAmJiB0aGlzLmhhc01vcmVSZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkT3B0aW9uTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZE1vcmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uQ29tcG9uZW50Q2xpY2snLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ29tcG9uZW50Q2xpY2soZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggcGFyZW50cyB1bnRpbCB3ZSd2ZSByZWFjaGVkIHRoZSBib3VuZCBlbGVtZW50XG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnRUYXJnZXQgIT09IHRoaXMuY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhvcHRpb25DbGFzcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25PcHRpb25DbGljayhjdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50VGFyZ2V0ID09PSB0aGlzLnByZXZCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFRhcmdldCA9PT0gdGhpcy5uZXh0QnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZVBhZ2luYXRpb25CdXR0b25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQYWdpbmF0aW9uQnV0dG9ucygpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uQ29udGFpbmVyID0gdGhpcy5vcHRpb25Db250YWluZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2QnV0dG9uLmRpc2FibGVkID0gb3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgPT09IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0QnV0dG9uLmRpc2FibGVkID0gb3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgPj0gb3B0aW9uQ29udGFpbmVyLnNjcm9sbFdpZHRoIC0gb3B0aW9uQ29udGFpbmVyLmNsaWVudFdpZHRoIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQWRkcyBhIHNwaW5uZXIgdG8gdGhlIGVuZCBvZiB0aGUgbGlzdCBpbmRpY2F0aW5nIHNvbWV0aGluZyBpcyBsb2FkaW5nXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdhZGRPcHRpb25Mb2FkZXInLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE9wdGlvbkxvYWRlcigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogb3B0aW9uQ2xhc3MgKyAnICcgKyBvcHRpb25Mb2FkZXJDbGFzc1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY2xlYXJPcHRpb25Mb2FkZXInLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyT3B0aW9uTG9hZGVyKCkge1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLnJlbW92ZUNoaWxkcmVuV2l0aENsYXNzZXModGhpcy5vcHRpb25Db250YWluZXIsIG9wdGlvbkxvYWRlckNsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnYWRkT3B0aW9uRWxlbWVudHMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE9wdGlvbkVsZW1lbnRzKGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzIGluc3RhbmNlb2YgTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50cyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbGVtZW50cy5sZW5ndGggJiYgdGhpcy5lbmFibGVTaG93Tm9SZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dOb1Jlc3VsdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGVsZW1lbnRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhck9wdGlvbkxvYWRlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0ZpcnN0TG9hZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzaG93Tm9SZXN1bHRzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93Tm9SZXN1bHRzKCkge1xuICAgICAgICAgICAgICAgIHRoaXMubm9SZXN1bHRzRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBvcHRpb25DbGFzcyArICcgJyArIG5vUmVzdWx0c0NsYXNzLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ25vLXJlc3VsdHMnKSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMub3B0aW9uQ29udGFpbmVyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NsZWFyT3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJPcHRpb25zKCkge1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmVtcHR5KHRoaXMub3B0aW9uQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE9wdGlvbkxvYWRlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNGaXJzdExvYWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd1cGRhdGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZ2luYXRpb25CdXR0b25zKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2Nyb2xsVG8nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFRvKG5ld0xlZnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHZhciBzdGFydExlZnQgPSB0aGlzLm9wdGlvbkNvbnRhaW5lci5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IE1hdGguYWJzKHN0YXJ0TGVmdCAtIG5ld0xlZnQpIC8gMjtcbiAgICAgICAgICAgICAgICBUaW55QW5pbWF0ZS5hbmltYXRlKHN0YXJ0TGVmdCwgbmV3TGVmdCwgZHVyYXRpb24sIGZ1bmN0aW9uIChjdXJyZW50TGVmdCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQub3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgPSBjdXJyZW50TGVmdDtcbiAgICAgICAgICAgICAgICB9LCAnZWFzZU91dEN1YmljJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdwcmV2aW91c1BhZ2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByZXZpb3VzUGFnZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFRvKHRoaXMub3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgLSB0aGlzLm9wdGlvbkNvbnRhaW5lci5jbGllbnRXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ25leHRQYWdlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBuZXh0UGFnZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFRvKHRoaXMub3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgKyB0aGlzLm9wdGlvbkNvbnRhaW5lci5jbGllbnRXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NlbGVjdE9wdGlvbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0T3B0aW9uKG9wdGlvbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE9wdGlvbiA9PT0gb3B0aW9uRWxlbWVudCkgcmV0dXJuOyAvLyBBbHJlYWR5IHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgdmFyIG9sZE9wdGlvbkVsZW1lbnQgPSB0aGlzLnNlbGVjdGVkT3B0aW9uO1xuICAgICAgICAgICAgICAgIGlmIChvbGRPcHRpb25FbGVtZW50KSBvbGRPcHRpb25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUob3B0aW9uU2VsZWN0ZWRDbGFzcywgb3B0aW9uTG9hZGluZ0NsYXNzKTtcbiAgICAgICAgICAgICAgICBvcHRpb25FbGVtZW50LmNsYXNzTGlzdC5hZGQob3B0aW9uU2VsZWN0ZWRDbGFzcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbiA9IG9wdGlvbkVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNldCBvciByZW1vdmUgdGhlIGxvYWRpbmcgY2xhc3MgZnJvbSB0aGUgY3VycmVudGx5IHNlbGVjdGVkIG9wdGlvblxuICAgICAgICAgICAgICogQHBhcmFtIGlzTG9hZGluZyBJZiB0cnVlLCBhZGQgdGhlIGxvYWRpbmcgY2xhc3MsIG90aGVyd2lzZSByZW1vdmUgaXRcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldE9wdGlvbklzTG9hZGluZycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0aW9uSXNMb2FkaW5nKGlzTG9hZGluZykge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZWxlY3RlZE9wdGlvbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24uY2xhc3NMaXN0W2lzTG9hZGluZyA/ICdhZGQnIDogJ3JlbW92ZSddKG9wdGlvbkxvYWRpbmdDbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxlZCB3aGVuIGFuIG9wdGlvbiBlbGVtZW50IGlzIGNsaWNrZWQgb24uXG4gICAgICAgICAgICAgKiBAcGFyYW0gb3B0aW9uRWxlbWVudCBUaGUgb3B0aW9uIGVsZW1lbnQgdGhhdCB3YXMgY2xpY2tlZCBvblxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25PcHRpb25DbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25PcHRpb25DbGljayhvcHRpb25FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RPcHRpb24ob3B0aW9uRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudDtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5Db21wb25lbnRCYXNlKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VQYWdpbmF0aW9uQ29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudDtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIHJlc3VsdHNQZXJSZXF1ZXN0ID0gMjA7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3RvciA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJFIpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3IsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkUik7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3RvcihzaG93Y2FzZUluc3RhbmNlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3RvcikpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSkpO1xuXG4gICAgICAgICAgICB2YXIgX3Nob3djYXNlSW5zdGFuY2Ukc3RhID0gc2hvd2Nhc2VJbnN0YW5jZS5zdGF0ZS5nZXREYXRhKCksXG4gICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVDb25maWd1cmF0aW9uSUQgPSBfc2hvd2Nhc2VJbnN0YW5jZSRzdGEuY3VycmVudFZlaGljbGVDb25maWd1cmF0aW9uSUQ7XG5cbiAgICAgICAgICAgIF90aGlzLnZlaGljbGVDb25maWd1cmF0aW9uSUQgPSBjdXJyZW50VmVoaWNsZUNvbmZpZ3VyYXRpb25JRDtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yLCBbe1xuICAgICAgICAgICAga2V5OiAnX2xvYWRNb3JlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfbG9hZE1vcmUoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmhhc01vcmVSZXN1bHRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIExvYWQgcGFpbnQgc2NoZW1lcyBmb3IgdGhlIHZlaGljbGVcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwidmVoaWNsZS9nZXRwYWludHNjaGVtZWRlc2NyaXB0aW9uc1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIFZlaGljbGVDb25maWd1cmF0aW9uOiB0aGlzLnZlaGljbGVDb25maWd1cmF0aW9uSURcbiAgICAgICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmNyZWF0ZU9wdGlvbnMocmVzcG9uc2UuU2NoZW1lcyk7XG4gICAgICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY3JlYXRlT3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlT3B0aW9ucyhzY2hlbWVzKSB7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgZnJhZ21lbnQgc28gd2UgYWRkIGFsbCBvcHRpb25zIHRvIHRoZSBlbGVtZW50IGF0IG9uY2VcbiAgICAgICAgICAgICAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGVhY2ggb3B0aW9uIGFuZCBhZGQgaXQgdG8gdGhlIGZyYWdtZW50XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHNjaGVtZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2NoZW1lID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbiByaWRlc3R5bGVyLXNob3djYXNlLXBhaW50LW9wdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IGZyYWdtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi5wYWludFNjaGVtZSA9IHNjaGVtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBtYWluIGNvbG9yIHRvIGJlIHJlcHJlc2VudGVkIGluIHRoZSBzd2F0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IG11bHRpLWNvbG9yIHBhaW50IHNjaGVtZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IHNjaGVtZS5Db2xvcnNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBcInN3YXRjaFwiOiBUaGUgZGlzcGxheSBvZiB0aGUgcGFpbnQgY29sb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzd2F0Y2ggPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbi1kaXNwbGF5IHJpZGVzdHlsZXItc2hvd2Nhc2UtcGFpbnQtc3dhdGNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLkhleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbmFtZSBvZiB0aGUgcGFpbnQgc2NoZW1lIGFzIHRoZSBsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbi1sYWJlbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogc2NoZW1lLlNjaGVtZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBdHRyaWJ1dGVzIG9mIHRoZSBjb2xvciBmb3IgdGhlIHNlY29uZGFyeSBsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbi1sYWJlbC1zZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3IuY3JlYXRlQXR0cmlidXRlTGFiZWwoY29sb3IuQXR0cmlidXRlcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgb3V0IG91ciBzbGlkZVdyYXBwZXIgb2YgYWxsIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5lbXB0eSh0aGlzLm9wdGlvbkNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgLy8gQWRkIGFsbCBvcHRpb25zIHRvIHRoZSBzbGlkZVdyYXBwZXIgYXQgb25jZVxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbk9wdGlvbkNsaWNrJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbk9wdGlvbkNsaWNrKG9wdGlvbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFpbnRTY2hlbWUgPSBvcHRpb25FbGVtZW50LnBhaW50U2NoZW1lO1xuICAgICAgICAgICAgICAgIGlmIChwYWludFNjaGVtZSkge1xuICAgICAgICAgICAgICAgICAgICBfZ2V0KFJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3IucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3Rvci5wcm90b3R5cGUpLCAnb25PcHRpb25DbGljaycsIHRoaXMpLmNhbGwodGhpcywgb3B0aW9uRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZXh0ZW5kRGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFpbnRTY2hlbWU6IHBhaW50U2NoZW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub25QYWludFNjaGVtZVNlbGVjdGVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUGFpbnRTY2hlbWVTZWxlY3RlZChwYWludFNjaGVtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dLCBbe1xuICAgICAgICAgICAga2V5OiAnY3JlYXRlQXR0cmlidXRlTGFiZWwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUF0dHJpYnV0ZUxhYmVsKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVmYXVsdEF0dHJpYnV0ZVN0cmluZyA9ICdHbG9zc3knO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzID09PSAwIC8qIE5vbmUgKi8pIHJldHVybiBkZWZhdWx0QXR0cmlidXRlU3RyaW5nO1xuICAgICAgICAgICAgICAgIHZhciBzdHJpbmdBdHRyaWJ1dGVzID0gW107XG4gICAgICAgICAgICAgICAgLy8gQWRkIGVhY2ggc2VsZWN0ZWQgcGFpbnQgYXR0cmlidXRlIGZsYWcgZm9yIHRoZSBjb2xvciB0byB0aGUgbGlzdFxuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzICYmIDQgLyogTWF0dGUgKi8gPT09IDQgLyogTWF0dGUgKi8pIHN0cmluZ0F0dHJpYnV0ZXMucHVzaCgnTWF0dGUnKTtcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlcyAmJiAxIC8qIE1ldGFsbGljICovID09PSAxIC8qIE1ldGFsbGljICovKSBzdHJpbmdBdHRyaWJ1dGVzLnB1c2goJ01ldGFsbGljJyk7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMgJiYgMiAvKiBQZWFybGVzY2VudCAqLyA9PT0gMiAvKiBQZWFybGVzY2VudCAqLykgc3RyaW5nQXR0cmlidXRlcy5wdXNoKCdQZWFybGVzY2VudCcpO1xuICAgICAgICAgICAgICAgIGlmIChzdHJpbmdBdHRyaWJ1dGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGRlZmF1bHRBdHRyaWJ1dGVTdHJpbmc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZ0F0dHJpYnV0ZXMuam9pbignLCAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3IgPSBSaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBwb3BvdmVyQ2xhc3MgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1wb3BvdmVyJztcbiAgICB2YXIgcG9wb3ZlckluQ2xhc3MgPSAnaW4nO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVBvcG92ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVBvcG92ZXIoKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlUG9wb3Zlcik7XG5cbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBwb3BvdmVyQ2xhc3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVBvcG92ZXIsIFt7XG4gICAgICAgICAgICBrZXk6ICdzaG93JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaGlkZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRWaXNpYmxlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWaXNpYmxlKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QudG9nZ2xlKHBvcG92ZXJJbkNsYXNzLCB2aXNpYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaXNWaXNpYmxlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc1Zpc2libGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5jb250YWlucyhwb3BvdmVySW5DbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3RvZ2dsZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VmlzaWJsZSh0aGlzLmlzVmlzaWJsZSgpID8gZmFsc2UgOiB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VQb3BvdmVyO1xuICAgIH0oKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VQb3BvdmVyID0gUmlkZVN0eWxlclNob3djYXNlUG9wb3Zlcjtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIHByb2R1Y3RNb2RhbENsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcHJvZHVjdC1tb2RhbCc7XG4gICAgdmFyIHRpdGxlQ2xhc3MgPSBwcm9kdWN0TW9kYWxDbGFzcyArICctdGl0bGUnO1xuICAgIHZhciBwYWdlQ2xhc3MgPSBwcm9kdWN0TW9kYWxDbGFzcyArICctcGFnZSc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkUikge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsLCBfUmlkZVN0eWxlclNob3djYXNlJFIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbChzaG93Y2FzZUluc3RhbmNlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsKTtcblxuICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0TW9kYWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0TW9kYWwpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UsIHtcbiAgICAgICAgICAgICAgICByZW1vdmVPbkhpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbCwgW3tcbiAgICAgICAgICAgIGtleTogJ2J1aWxkTW9kYWwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkTW9kYWwoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBfZ2V0KFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbC5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0TW9kYWwucHJvdG90eXBlKSwgJ2J1aWxkTW9kYWwnLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5hZGQocHJvZHVjdE1vZGFsQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUb2dnbGVCdXR0b24odGhpcy5zaG93Y2FzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVCdXR0b24ub25DaGFuZ2VkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3cgdGhlIGNvcnJlY3QgcGFnZSB3aGVuIHRoZSB0b2dnbGUgYnV0dG9uIGlzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBfdGhpczIucGFnZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhZ2UgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlLmxhYmVsID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2hvd1BhZ2UocGFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZENoaWxkKHRoaXMudG9nZ2xlQnV0dG9uLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnaDEnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGl0bGVDbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmQ6IFt0aGlzLmJyYW5kVGl0bGVFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudFdpdGhDbGFzcygnc3BhbicsIHRpdGxlQ2xhc3MgKyAnLWJyYW5kJyksIHRoaXMudGl0bGVFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnc3BhbicpLCB0aGlzLnN1YnRpdGxlRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MoJ3NwYW4nLCB0aXRsZUNsYXNzICsgJy1zdWJ0aXRsZScpXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc3VtbWFyeUNvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHByb2R1Y3RNb2RhbENsYXNzICsgJy1zdW1tYXJ5LWNvbnRhaW5lcidcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlQ29udGFpbmVyID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJvZHVjdE1vZGFsQ2xhc3MgKyAnLWltYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuc3VtbWFyeUNvbnRhaW5lclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2UgPSB0aGlzLmNyZWF0ZUltYWdlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdW1tYXJ5RWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHByb2R1Y3RNb2RhbENsYXNzICsgJy1zdW1tYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuc3VtbWFyeUNvbnRhaW5lclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUGFnZSh7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3N1bW1hcnknKSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB0aGlzLnN1bW1hcnlDb250YWluZXJcbiAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQWRkIGEgbmV3IHBhZ2UgdG8gdGhlIHByb2R1Y3QgbW9kYWwgYW5kIHRvZ2dsZSBidXR0b25cbiAgICAgICAgICAgICAqIEBwYXJhbSBwYWdlIFRoZSBuZXcgcGFnZVxuICAgICAgICAgICAgICogQHBhcmFtIHNldFZpc2libGUgSWYgdHJ1ZSwgc2hvdyB0aGUgcGFnZSBhZnRlciBhZGRpbmcgaXRcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2FkZFBhZ2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFBhZ2UocGFnZSkge1xuICAgICAgICAgICAgICAgIHZhciBzZXRWaXNpYmxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5wYWdlcykgdGhpcy5wYWdlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMucGFnZXMucHVzaChwYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvbi5hZGRPcHRpb24oe1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogcGFnZS5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHBhZ2UubGFiZWxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0VmlzaWJsZSkgdGhpcy5zaG93UGFnZShwYWdlKTtlbHNlIFJpZGVTdHlsZXJTaG93Y2FzZS5WaXNpYmlsaXR5SGVscGVyLnNldFZpc2liaWxpdHkocGFnZS5jb250YWluZXIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBwYWdlLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKHBhZ2VDbGFzcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYXBwZW5kQ2hpbGQocGFnZS5jb250YWluZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXQgdGhlIHBhZ2UgYXMgdmlzaWJsZSBhbmQgaGlkZSB0aGUgb3RoZXIgcGFnZXMsIHVwZGF0ZSB0aGUgc3RhdGUgb2YgdGhlIHRvZ2dsZSBidXR0b25cbiAgICAgICAgICAgICAqIEBwYXJhbSBuZXdQYWdlIFRoZSBwYWdlIHRvIHNob3dcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3Nob3dQYWdlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93UGFnZShuZXdQYWdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSB0aGlzLnBhZ2VzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFnZSA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLlZpc2liaWxpdHlIZWxwZXIuc2V0VmlzaWJpbGl0eShwYWdlLmNvbnRhaW5lciwgcGFnZSA9PT0gbmV3UGFnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvbi5zZXRWYWx1ZShuZXdQYWdlLmxhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25IaWRkZW4nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uSGlkZGVuKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2UuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbDtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsID0gUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KG9iamVjdCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTsgfSB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkUikge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yLCBfUmlkZVN0eWxlclNob3djYXNlJFIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3RvcigpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0U2VsZWN0b3IpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgICAgIF90aGlzLnJlc3VsdHNQZXJMb2FkID0gMjA7XG4gICAgICAgICAgICBfdGhpcy5jb3VudCA9IC0xO1xuICAgICAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3RvciwgW3tcbiAgICAgICAgICAgIGtleTogJ19sb2FkTW9yZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2xvYWRNb3JlKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBjb3VudFByb21pc2UgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY291bnQgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBjb3VudFByb21pc2UgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci5yZXNvbHZlZCh0aGlzLmNvdW50KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb3VudFByb21pc2UgPSB0aGlzLmNvdW50UmVzdWx0cyh0aGlzLmN1cnJlbnRGaWx0ZXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdHNQZXJMb2FkID0gdGhpcy5yZXN1bHRzUGVyTG9hZDtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihjb3VudFByb21pc2UsIGZ1bmN0aW9uIChwcm9kdWN0Q291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmNvdW50ID0gcHJvZHVjdENvdW50O1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVycyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0OiBfdGhpczIuaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBDb3VudDogcmVzdWx0c1BlckxvYWRcbiAgICAgICAgICAgICAgICAgICAgfSwgX3RoaXMyLmN1cnJlbnRGaWx0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5nZXRSZXN1bHRzKGZpbHRlcnMpLmRvbmUoZnVuY3Rpb24gKHByb2R1Y3RzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaW5kZXggKz0gcmVzdWx0c1BlckxvYWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaGFzTW9yZVJlc3VsdHMgPSBfdGhpczIuaW5kZXggKyByZXN1bHRzUGVyTG9hZCA8IHByb2R1Y3RDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5jcmVhdGVPcHRpb25zKHByb2R1Y3RzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0IGZpbHRlcnMgYW5kIHJlbG9hZFxuICAgICAgICAgICAgICogQHBhcmFtIG5ld0ZpbHRlcnMgVGhlIG5ldyBmaWx0ZXJzXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRGaWx0ZXJzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGaWx0ZXJzKG5ld0ZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyT3B0aW9ucygpO1xuICAgICAgICAgICAgICAgIC8vIFJlc2V0IG91ciBjb3VudFxuICAgICAgICAgICAgICAgIHRoaXMuY291bnQgPSAtMTtcbiAgICAgICAgICAgICAgICAvLyBSZXNldCBvdXIgaW5kZXhcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAvLyBTZXQgb3VyIGZpbHRlcnNcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRGaWx0ZXJzID0gbmV3RmlsdGVycztcbiAgICAgICAgICAgICAgICAvLyBMb2FkIGZpcnN0IHJlc3VsdCBzZXRcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRNb3JlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVwZGF0ZSBmaWx0ZXJzIGFuZCByZWxvYWRcbiAgICAgICAgICAgICAqIEBwYXJhbSBmaWx0ZXJVcGRhdGVzIFRoZSBmaWx0ZXIgcHJvcGVydGllcyB0byB1cGRhdGVcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZUZpbHRlcnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUZpbHRlcnMoZmlsdGVyVXBkYXRlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RmlsdGVycyhSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbih0aGlzLmN1cnJlbnRGaWx0ZXJzLCBmaWx0ZXJVcGRhdGVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NyZWF0ZU9wdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMocHJvZHVjdHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHByb2R1Y3RzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2R1Y3QgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnByb2R1Y3RGaWx0ZXIocHJvZHVjdCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLXBhZ2luYXRpb24tb3B0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogZnJhZ21lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnByb2R1Y3QgPSBwcm9kdWN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2VTb3VyY2UgPSB0aGlzLnByb2R1Y3RJbWFnZVNvdXJjZShwcm9kdWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnaW1nJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbi1kaXNwbGF5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBvcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjOiBpbWFnZVNvdXJjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZHVjdEltYWdlTGFiZWxzID0gdGhpcy5wcm9kdWN0SW1hZ2VMYWJlbHMocHJvZHVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbi1sYWJlbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogcHJvZHVjdEltYWdlTGFiZWxzLnByaW1hcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZHVjdEltYWdlTGFiZWxzLnNlY29uZGFyeSkgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi1vcHRpb24tbGFiZWwtc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBwcm9kdWN0SW1hZ2VMYWJlbHMuc2Vjb25kYXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2R1Y3RJbWFnZUxhYmVscy50ZXJ0aWFyeSkgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi1vcHRpb24tbGFiZWwtdGVydGlhcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHByb2R1Y3RJbWFnZUxhYmVscy50ZXJ0aWFyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRPcHRpb25FbGVtZW50cyhmcmFnbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uT3B0aW9uQ2xpY2snLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uT3B0aW9uQ2xpY2sob3B0aW9uRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBwcm9kdWN0ID0gb3B0aW9uRWxlbWVudC5wcm9kdWN0O1xuICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIF9nZXQoUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3Rvci5wcm90b3R5cGUpLCAnb25PcHRpb25DbGljaycsIHRoaXMpLmNhbGwodGhpcywgb3B0aW9uRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Qcm9kdWN0Q2xpY2socHJvZHVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblByb2R1Y3RDbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9kdWN0Q2xpY2socHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9kdWN0U2VsZWN0ZWRDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5wcm9kdWN0U2VsZWN0ZWRDYWxsYmFjayhwcm9kdWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0U2VsZWN0b3I7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudCk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yID0gUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBjbGFzc05hbWUgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1xci1kaXNwbGF5JztcblxuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VRUkNvZGVDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVFSQ29kZUNvbXBvbmVudChsaW5rKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlUVJDb2RlQ29tcG9uZW50KTtcblxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5xckNvZGVFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnYScsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctaW1hZ2UnLFxuICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogJ19ibGFuaydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucXJDb2RlID0gbmV3IFFSQ29kZSh0aGlzLnFyQ29kZUVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKGxpbmspIHRoaXMuZGlzcGxheVVSTChsaW5rKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VRUkNvZGVDb21wb25lbnQsIFt7XG4gICAgICAgICAgICBrZXk6ICdkaXNwbGF5VVJMJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwbGF5VVJMKHVybCkge1xuICAgICAgICAgICAgICAgIHRoaXMucXJDb2RlRWxlbWVudC5ocmVmID0gdXJsO1xuICAgICAgICAgICAgICAgIHRoaXMucXJDb2RlLm1ha2VDb2RlKHVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlUVJDb2RlQ29tcG9uZW50O1xuICAgIH0oKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VRUkNvZGVDb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2VRUkNvZGVDb21wb25lbnQ7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IHJldHVybiBnZXQocGFyZW50LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpOyB9IH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBzaGFyZTtcbiAgICAoZnVuY3Rpb24gKHNoYXJlKSB7XG4gICAgICAgIHZhciBidXR0b25DbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXNoYXJlLWJ1dHRvbic7XG5cbiAgICAgICAgdmFyIFNoYXJlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gU2hhcmVCdXR0b24oc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNoYXJlQnV0dG9uKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlQnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBidXR0b25DbGFzc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5jbGFzc05hbWUpIHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5hZGQoc2V0dGluZ3MuY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MudGl0bGUpIHRoaXMuY29tcG9uZW50LnRpdGxlID0gc2V0dGluZ3MudGl0bGU7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5vbkNsaWNrKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVwZGF0ZSB0aGUgVVJMIGZvciB0aGlzIHNoYXJlIGJ1dHRvbiB0byBzaGFyZVxuICAgICAgICAgICAgICogQHBhcmFtIHVybCBUaGUgVVJMIHRvIHNoYXJlXG4gICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoU2hhcmVCdXR0b24sIFt7XG4gICAgICAgICAgICAgICAga2V5OiAnc2V0VVJMJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VVJMKHVybCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRVUkwgPSB1cmw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEF0dGFjaCB0YWdzIHRvIHRoZSBtZXNzYWdlIGJlaW5nIHNoYXJlZFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB0YWdzIFRoZSB0YWdzIHRvIGF0dGFjaCB0byB0aGUgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnc2V0VGFncycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRhZ3ModGFncykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZ3MgPSB0YWdzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTZXQgYSBtZXNzYWdlIHRvIHNoYXJlIHdpdGggdGhlIFVSTFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIHNoYXJlIGFsb25nIHdpdGggdGhlIFVSTFxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnc2V0TWVzc2FnZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDYWxsZWQgZXZlcnkgdGltZSB0aGUgc2hhcmUgYnV0dG9uIGlzIGNsaWNrZWRcbiAgICAgICAgICAgICAgICAgKiBAdmlydHVhbFxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnb25DbGljaycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50VVJMKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhcmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU2hhcmUgdGhlIGN1cnJlbnQgVVJMXG4gICAgICAgICAgICAgICAgICogQHZpcnR1YWxcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ3NoYXJlJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hhcmUoKSB7fVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ29wZW5OZXdXaW5kb3cnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuTmV3V2luZG93KHVybCwgc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRIZWlnaHQgPSA0MjAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0V2lkdGggPSA1NTA7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHNldHRpbmdzLndpZHRoIHx8IGRlZmF1bHRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IHNldHRpbmdzLmhlaWdodCB8fCBkZWZhdWx0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2NyZWVuSGVpZ2h0ID0gc2NyZWVuLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcmVlbldpZHRoID0gc2NyZWVuLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG9wID0gc2NyZWVuSGVpZ2h0ID4gaGVpZ2h0ID8gTWF0aC5yb3VuZChzY3JlZW5IZWlnaHQgLyAyIC0gaGVpZ2h0IC8gMikgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IE1hdGgucm91bmQoc2NyZWVuV2lkdGggLyAyIC0gd2lkdGggLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IHNldHRpbmdzLnRhcmdldCB8fCAnc2hhcmUnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgd2luZG93U2V0dGluZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFkZFNldHRpbmcgPSBmdW5jdGlvbiBhZGRTZXR0aW5nKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93U2V0dGluZ3MucHVzaChuYW1lICsgJz0nICsgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWRkQm9vbGVhblNldHRpbmcgPSBmdW5jdGlvbiBhZGRCb29sZWFuU2V0dGluZyhuYW1lLCBlbmFibGVkLCBlbmFibGVkQnlEZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVuYWJsZWQgIT09ICdib29sZWFuJykgZW5hYmxlZCA9IGVuYWJsZWRCeURlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRTZXR0aW5nKG5hbWUsIGVuYWJsZWQgPyAneWVzJyA6ICdubycpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBhZGRCb29sZWFuU2V0dGluZygnc2Nyb2xsYmFycycsIHNldHRpbmdzLmVuYWJsZVNjcm9sbGJhcnMsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBhZGRCb29sZWFuU2V0dGluZygncmVzaXphYmxlJywgc2V0dGluZ3MuZW5hYmxlUmVzaXplYWJsZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZEJvb2xlYW5TZXR0aW5nKCd0b29sYmFyJywgc2V0dGluZ3MuZW5hYmxlVG9vbGJhciwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBhZGRCb29sZWFuU2V0dGluZygnbG9jYXRpb24nLCBzZXR0aW5ncy5lbmFibGVMb2NhdGlvbiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFNldHRpbmcoJ3dpZHRoJywgd2lkdGgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFNldHRpbmcoJ2hlaWdodCcsIGhlaWdodC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkU2V0dGluZygndG9wJywgdG9wLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICBhZGRTZXR0aW5nKCdsZWZ0JywgbGVmdC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4odXJsLCB0YXJnZXQsIHRhcmdldCAhPT0gJ19ibGFuaycgPyB3aW5kb3dTZXR0aW5ncy5qb2luKCcsJykgOiAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ2dldFNoYXJlUmVkaXJlY3RVUkwnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTaGFyZVJlZGlyZWN0VVJMKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXBwVVJMID0gJ2h0dHBzOi8vYXBwLnJpZGVzdHlsZXIubmV0JztcbiAgICAgICAgICAgICAgICAgICAgaWYgKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkuZW52aXJvbm1lbnQgPT09IFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkuRW52aXJvbm1lbnQuQWxwaGEpIGFwcFVSTCA9ICdodHRwOi8vYXBwLWFscGhhLnJpZGVzdHlsZXIubmV0JztlbHNlIGlmIChSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLmVudmlyb25tZW50ID09PSBSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLkVudmlyb25tZW50LkJldGEpIGFwcFVSTCA9ICdodHRwOi8vYXBwLWJldGEucmlkZXN0eWxlci5uZXQnO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBwVVJMICsgJy9zaGFyZWQuaHRtbCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gU2hhcmVCdXR0b247XG4gICAgICAgIH0oKTtcblxuICAgICAgICBzaGFyZS5TaGFyZUJ1dHRvbiA9IFNoYXJlQnV0dG9uO1xuICAgICAgICB2YXIgdHdpdHRlckludGVudFVSTCA9ICcnO1xuXG4gICAgICAgIHZhciBUd2l0dGVyU2hhcmVCdXR0b24gPSBmdW5jdGlvbiAoX1NoYXJlQnV0dG9uKSB7XG4gICAgICAgICAgICBfaW5oZXJpdHMoVHdpdHRlclNoYXJlQnV0dG9uLCBfU2hhcmVCdXR0b24pO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBUd2l0dGVyU2hhcmVCdXR0b24oKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFR3aXR0ZXJTaGFyZUJ1dHRvbik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFR3aXR0ZXJTaGFyZUJ1dHRvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFR3aXR0ZXJTaGFyZUJ1dHRvbikpLmNhbGwodGhpcywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGJ1dHRvbkNsYXNzICsgJy10d2l0dGVyJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdUd2l0dGVyJ1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2hhcmUgdGhlIGN1cnJlbnQgVVJMIHZpYSBUd2l0dGVyXG4gICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoVHdpdHRlclNoYXJlQnV0dG9uLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ3NoYXJlJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hhcmUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSAnaHR0cHM6Ly90d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQ/JztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR3aXR0ZXJJbnRlbnRQYXJhbWV0ZXJzID0gWyd1cmw9JyArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmN1cnJlbnRVUkwpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZSkgdHdpdHRlckludGVudFBhcmFtZXRlcnMucHVzaCgndGV4dD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMubWVzc2FnZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YWdzICYmIHRoaXMudGFncy5sZW5ndGgpIHR3aXR0ZXJJbnRlbnRQYXJhbWV0ZXJzLnB1c2goJ2hhc2h0YWdzPScgKyBSaWRlU3R5bGVyU2hvd2Nhc2UuQXJyYXlIZWxwZXIubWFwKHRoaXMudGFncywgZnVuY3Rpb24gKHRhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0YWcpO1xuICAgICAgICAgICAgICAgICAgICB9KS5qb2luKCcsJykpO1xuICAgICAgICAgICAgICAgICAgICB1cmwgKz0gdHdpdHRlckludGVudFBhcmFtZXRlcnMuam9pbignJicpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5OZXdXaW5kb3codXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBUd2l0dGVyU2hhcmVCdXR0b247XG4gICAgICAgIH0oU2hhcmVCdXR0b24pO1xuXG4gICAgICAgIHNoYXJlLlR3aXR0ZXJTaGFyZUJ1dHRvbiA9IFR3aXR0ZXJTaGFyZUJ1dHRvbjtcblxuICAgICAgICB2YXIgRmFjZWJvb2tTaGFyZUJ1dHRvbiA9IGZ1bmN0aW9uIChfU2hhcmVCdXR0b24yKSB7XG4gICAgICAgICAgICBfaW5oZXJpdHMoRmFjZWJvb2tTaGFyZUJ1dHRvbiwgX1NoYXJlQnV0dG9uMik7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIEZhY2Vib29rU2hhcmVCdXR0b24oKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZhY2Vib29rU2hhcmVCdXR0b24pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChGYWNlYm9va1NoYXJlQnV0dG9uLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRmFjZWJvb2tTaGFyZUJ1dHRvbikpLmNhbGwodGhpcywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGJ1dHRvbkNsYXNzICsgJy1mYWNlYm9vaycsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRmFjZWJvb2snXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTaGFyZSB0aGUgY3VycmVudCBVUkwgdmlhIEZhY2Vib29rXG4gICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoRmFjZWJvb2tTaGFyZUJ1dHRvbiwgW3tcbiAgICAgICAgICAgICAgICBrZXk6ICdzaGFyZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNoYXJlKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9kaWFsb2cvc2hhcmU/JztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZhY2Vib29rRGlhbG9nUGFyYW1ldGVycyA9IFsnYXBwX2lkPTE1NzYzODA0MTI1ODI4NDUnLCAnZGlzcGxheT1wb3B1cCcsICdocmVmPScgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5jdXJyZW50VVJMKSwgJ3JlZGlyZWN0X3VyaT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuZ2V0U2hhcmVSZWRpcmVjdFVSTCgpKV07XG4gICAgICAgICAgICAgICAgICAgIC8vIEZhY2Vib29rIG9ubHkgbGV0cyB5b3Ugc3BlY2lmeSBvbmUgaGFzaHRhZywgc28gd2UgdXNlIHRoZSBmaXJzdFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YWdzICYmIHRoaXMudGFncy5sZW5ndGgpIGZhY2Vib29rRGlhbG9nUGFyYW1ldGVycy5wdXNoKCdoYXNodGFnPScgKyBlbmNvZGVVUklDb21wb25lbnQoJyMnICsgdGhpcy50YWdzWzBdKSk7XG4gICAgICAgICAgICAgICAgICAgIHVybCArPSBmYWNlYm9va0RpYWxvZ1BhcmFtZXRlcnMuam9pbignJicpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5OZXdXaW5kb3codXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBGYWNlYm9va1NoYXJlQnV0dG9uO1xuICAgICAgICB9KFNoYXJlQnV0dG9uKTtcblxuICAgICAgICBzaGFyZS5GYWNlYm9va1NoYXJlQnV0dG9uID0gRmFjZWJvb2tTaGFyZUJ1dHRvbjtcblxuICAgICAgICB2YXIgTmV3V2luZG93U2hhcmVCdXR0b24gPSBmdW5jdGlvbiAoX1NoYXJlQnV0dG9uMykge1xuICAgICAgICAgICAgX2luaGVyaXRzKE5ld1dpbmRvd1NoYXJlQnV0dG9uLCBfU2hhcmVCdXR0b24zKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gTmV3V2luZG93U2hhcmVCdXR0b24oKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5ld1dpbmRvd1NoYXJlQnV0dG9uKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTmV3V2luZG93U2hhcmVCdXR0b24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihOZXdXaW5kb3dTaGFyZUJ1dHRvbikpLmNhbGwodGhpcywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGJ1dHRvbkNsYXNzICsgJy1saW5rJ1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2hhcmUgdGhlIGN1cnJlbnQgVVJMIGJ5IG9wZW5pbmcgaXQgaW4gYSBuZXcgd2luZG93XG4gICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoTmV3V2luZG93U2hhcmVCdXR0b24sIFt7XG4gICAgICAgICAgICAgICAga2V5OiAnc2hhcmUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaGFyZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuTmV3V2luZG93KHRoaXMuY3VycmVudFVSTCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAnX2JsYW5rJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBOZXdXaW5kb3dTaGFyZUJ1dHRvbjtcbiAgICAgICAgfShTaGFyZUJ1dHRvbik7XG5cbiAgICAgICAgc2hhcmUuTmV3V2luZG93U2hhcmVCdXR0b24gPSBOZXdXaW5kb3dTaGFyZUJ1dHRvbjtcblxuICAgICAgICB2YXIgUVJTaGFyZUJ1dHRvbiA9IGZ1bmN0aW9uIChfU2hhcmVCdXR0b240KSB7XG4gICAgICAgICAgICBfaW5oZXJpdHMoUVJTaGFyZUJ1dHRvbiwgX1NoYXJlQnV0dG9uNCk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIFFSU2hhcmVCdXR0b24oKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFFSU2hhcmVCdXR0b24pO1xuXG4gICAgICAgICAgICAgICAgdmFyIF90aGlzNSA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChRUlNoYXJlQnV0dG9uLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUVJTaGFyZUJ1dHRvbikpLmNhbGwodGhpcywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGJ1dHRvbkNsYXNzICsgJy1xci1jb2RlJ1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgIF90aGlzNS5wb3BvdmVyID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VQb3BvdmVyKCk7XG4gICAgICAgICAgICAgICAgX3RoaXM1LmNvbXBvbmVudC5hcHBlbmRDaGlsZChfdGhpczUucG9wb3Zlci5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIF90aGlzNS5xckNvZGUgPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVFSQ29kZUNvbXBvbmVudCgpO1xuICAgICAgICAgICAgICAgIF90aGlzNS5wb3BvdmVyLmNvbXBvbmVudC5hcHBlbmRDaGlsZChfdGhpczUucXJDb2RlLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKFFSU2hhcmVCdXR0b24sIFt7XG4gICAgICAgICAgICAgICAga2V5OiAnc2V0VVJMJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VVJMKHVybCkge1xuICAgICAgICAgICAgICAgICAgICBfZ2V0KFFSU2hhcmVCdXR0b24ucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUVJTaGFyZUJ1dHRvbi5wcm90b3R5cGUpLCAnc2V0VVJMJywgdGhpcykuY2FsbCh0aGlzLCB1cmwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnFyQ29kZS5kaXNwbGF5VVJMKHVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ29uQ2xpY2snLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcG92ZXIudG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gUVJTaGFyZUJ1dHRvbjtcbiAgICAgICAgfShTaGFyZUJ1dHRvbik7XG5cbiAgICAgICAgc2hhcmUuUVJTaGFyZUJ1dHRvbiA9IFFSU2hhcmVCdXR0b247XG4gICAgfSkoc2hhcmUgPSBSaWRlU3R5bGVyU2hvd2Nhc2Uuc2hhcmUgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5zaGFyZSA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IHJldHVybiBnZXQocGFyZW50LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpOyB9IH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9O1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBzaGFyZU1vZGFsQ2xhc3MgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1zaGFyZSc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbCA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJFIpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkUik7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbChzaG93Y2FzZUluc3RhbmNlLCB2ZWhpY2xlUmVuZGVySW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbCk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbCkpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSwge1xuICAgICAgICAgICAgICAgIHJlbW92ZU9uSGlkZGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgIGZ1bGw6IHRydWVcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgX3RoaXMuaW1hZ2VUeXBlID0gMiAvKiBBbmdsZSAqLztcbiAgICAgICAgICAgIF90aGlzLnJlc2l6ZWRDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudXBkYXRlVmlld3BvcnQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBDb3B5IHRoZSByZW5kZXIgaW5zdHJ1Y3Rpb25zXG4gICAgICAgICAgICBfdGhpcy52ZWhpY2xlUmVuZGVySW5zdHJ1Y3Rpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdmVoaWNsZVJlbmRlckluc3RydWN0aW9ucyk7XG4gICAgICAgICAgICBfdGhpcy5vbkluc3RydWN0aW9uc0NoYW5nZWQoKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQnVpbGQgdGhlIERPTSBzdHJ1Y3R1cmVcbiAgICAgICAgICovXG5cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbCwgW3tcbiAgICAgICAgICAgIGtleTogJ2J1aWxkTW9kYWwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkTW9kYWwoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBfZ2V0KFJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbC5wcm90b3R5cGUpLCAnYnVpbGRNb2RhbCcsIHRoaXMpLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LmFkZChzaGFyZU1vZGFsQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHZhciBiYWNrZ3JvdW5kID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kKHRoaXMuc2hvd2Nhc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZENoaWxkKGJhY2tncm91bmQuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdoMScsIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3NoYXJlLW15LXZlaGljbGUnKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIEluc3RydWN0aW9uc1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ3AnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2Utc2hhcmUtaW5zdHJ1Y3Rpb25zJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzaGFyZS1pbnN0cnVjdGlvbnMnKSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVTaGFyZUJ1dHRvbnMoKTtcbiAgICAgICAgICAgICAgICAvLyBSb3RhdGUgVUlcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW5Td2l0Y2hBbmdsZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm90YXRlRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2Utcm90YXRlLXZlaGljbGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnN3aXRjaEFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY3JlYXRlU2hhcmVCdXR0b25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVTaGFyZUJ1dHRvbnMoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFyZUJ1dHRvbnMgPSBbbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5zaGFyZS5GYWNlYm9va1NoYXJlQnV0dG9uKCksIG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2Uuc2hhcmUuVHdpdHRlclNoYXJlQnV0dG9uKCksIG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2Uuc2hhcmUuUVJTaGFyZUJ1dHRvbigpLCBuZXcgUmlkZVN0eWxlclNob3djYXNlLnNoYXJlLk5ld1dpbmRvd1NoYXJlQnV0dG9uKCldO1xuICAgICAgICAgICAgICAgIHZhciBzaGFyZUJ1dHRvbkNvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHNoYXJlTW9kYWxDbGFzcyArICctYnV0dG9ucycsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB0aGlzLnNoYXJlQnV0dG9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaGFyZUJ1dHRvbiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFyZUJ1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChzaGFyZUJ1dHRvbi5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uU2hvdycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25TaG93KCkge1xuICAgICAgICAgICAgICAgIF9nZXQoUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbC5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsLnByb3RvdHlwZSksICdvblNob3cnLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBWaWV3cG9ydCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uKCdyZXNpemVkJywgdGhpcy5yZXNpemVkQ2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkhpZGRlbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25IaWRkZW4oKSB7XG4gICAgICAgICAgICAgICAgX2dldChSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwucHJvdG90eXBlKSwgJ29uSGlkZGVuJywgdGhpcykuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vZmYoJ3Jlc2l6ZWQnLCB0aGlzLnJlc2l6ZWRDYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZVZpZXdwb3J0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVWaWV3cG9ydCgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVWaWV3cG9ydC5VcGRhdGUodGhpcy52ZWhpY2xlUmVuZGVySW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZ2V0U2hhcmVVUkwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNoYXJlVVJMKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcHBVUkwgPSAnaHR0cHM6Ly9hcHAucmlkZXN0eWxlci5uZXQnO1xuICAgICAgICAgICAgICAgIGlmIChSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLmVudmlyb25tZW50ID09PSBSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLkVudmlyb25tZW50LkFscGhhKSBhcHBVUkwgPSAnaHR0cDovL2FwcC1hbHBoYS5yaWRlc3R5bGVyLm5ldCc7ZWxzZSBpZiAoUmlkZVN0eWxlclNob3djYXNlLmFwaS5lbnZpcm9ubWVudCA9PT0gUmlkZVN0eWxlclNob3djYXNlLmFwaS5FbnZpcm9ubWVudC5CZXRhKSBhcHBVUkwgPSAnaHR0cDovL2FwcC1iZXRhLnJpZGVzdHlsZXIubmV0JztcbiAgICAgICAgICAgICAgICB2YXIgc2hhcmVQYXRoID0gJy9zaGFyZS5jc2h0bWw/JztcbiAgICAgICAgICAgICAgICB2YXIgc2hhcmVQYXJhbXMgPSByaWRlc3R5bGVyLnV0aWxzLnRvUGFyYW1TdHJpbmcoUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24ocmlkZXN0eWxlci5hdXRoLmF1dGhlbnRpY2F0ZURhdGEobnVsbCksIHRoaXMudmVoaWNsZVJlbmRlckluc3RydWN0aW9ucykpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHBVUkwgKyBzaGFyZVBhdGggKyBzaGFyZVBhcmFtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0dXBWaWV3cG9ydCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0dXBWaWV3cG9ydCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHZhciB2aWV3cG9ydEVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50V2l0aENsYXNzKCdkaXYnLCAncmlkZXN0eWxlci1zaG93Y2FzZS12aWV3cG9ydCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZENoaWxkKHZpZXdwb3J0RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLnN3aXRjaEFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlVmlld3BvcnQgPSBuZXcgUmlkZVN0eWxlclZpZXdwb3J0KHZpZXdwb3J0RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXdwb3J0VXBkYXRlZCA9IHRoaXMudmVoaWNsZVZpZXdwb3J0LlVwZGF0ZSh0aGlzLnZlaGljbGVSZW5kZXJJbnN0cnVjdGlvbnMpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0ZUVsZW1lbnQpIHZpZXdwb3J0VXBkYXRlZC5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnJvdGF0ZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaW4nKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY2FuU3dpdGNoQW5nbGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNhblN3aXRjaEFuZ2xlKCkge1xuICAgICAgICAgICAgICAgIHZhciBfc3RhdGUkZ2V0RGF0YSA9IHRoaXMuc3RhdGUuZ2V0RGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uTW9kZWwgPSBfc3RhdGUkZ2V0RGF0YS5jdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uTW9kZWw7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbk1vZGVsLkhhc0FuZ2xlZEltYWdlICYmIGN1cnJlbnRWZWhpY2xlRGVzY3JpcHRpb25Nb2RlbC5IYXNTaWRlSW1hZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uSW5zdHJ1Y3Rpb25zQ2hhbmdlZCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25JbnN0cnVjdGlvbnNDaGFuZ2VkKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdmFyIHNoYXJlVVJMID0gdGhpcy5nZXRTaGFyZVVSTCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwibGluay9jcmVhdGVcIiwge1xuICAgICAgICAgICAgICAgICAgICBVUkw6IHRoaXMuZ2V0U2hhcmVVUkwoKVxuICAgICAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC51cGRhdGVVUkwocmVzcG9uc2UuU2hvcnRVUkwpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2V0RW5hYmxlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0RW5hYmxlZCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RW5hYmxlZChlbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSB0aGlzLnNoYXJlQnV0dG9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNoYXJlQnV0dG9uID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFyZUJ1dHRvbi5jb21wb25lbnQuZGlzYWJsZWQgPSAhZW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndXBkYXRlVVJMJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVVUkwoc2hhcmVVUkwpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2hhcmVUYWdzID0gWyd2ZWhpY2xlJ107XG4gICAgICAgICAgICAgICAgdmFyIHNoYXJlTWVzc2FnZSA9IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnY2hlY2stb3V0LW15LXZlaGljbGUnKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52ZWhpY2xlUmVuZGVySW5zdHJ1Y3Rpb25zLldoZWVsRml0bWVudCkgc2hhcmVUYWdzLnB1c2goJ3doZWVscycpO1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgc2hhcmUgYnV0dG9uc1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gdGhpcy5zaGFyZUJ1dHRvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaGFyZUJ1dHRvbiA9IF9zdGVwMy52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVCdXR0b24uc2V0VVJMKHNoYXJlVVJMKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlQnV0dG9uLnNldFRhZ3Moc2hhcmVUYWdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlQnV0dG9uLnNldE1lc3NhZ2Uoc2hhcmVNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc3dpdGNoQW5nbGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN3aXRjaEFuZ2xlKCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jYW5Td2l0Y2hBbmdsZSgpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW1hZ2VUeXBlID09PSAyIC8qIEFuZ2xlICovKSB0aGlzLmltYWdlVHlwZSA9IDEgLyogU2lkZSAqLztlbHNlIHRoaXMuaW1hZ2VUeXBlID0gMiAvKiBBbmdsZSAqLztcbiAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVSZW5kZXJJbnN0cnVjdGlvbnMuVHlwZSA9IHRoaXMuaW1hZ2VUeXBlO1xuICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZVZpZXdwb3J0LlVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIFR5cGU6IHRoaXMuaW1hZ2VUeXBlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkluc3RydWN0aW9uc0NoYW5nZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsID0gUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbDtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBjbGFzc05hbWUgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1zdXNwZW5zaW9uLXNlbGVjdG9yJztcbiAgICB2YXIgZWxlbWVudENsYXNzTmFtZSA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXN1c3BlbnNpb24tc2VsZWN0b3ItZWxlbWVudCc7XG4gICAgdmFyIGRlZmF1bHRTdXNwZW5zaW9uUmFuZ2UgPSB7XG4gICAgICAgIE1pbjogLTQsXG4gICAgICAgIE1heDogMFxuICAgIH07XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlU3VzcGVuc2lvblNlbGVjdG9yID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlU3VzcGVuc2lvblNlbGVjdG9yLCBfUmlkZVN0eWxlclNob3djYXNlJEMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3RvcigpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VTdXNwZW5zaW9uU2VsZWN0b3IpO1xuXG4gICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3Rvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3RvcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3RvciwgW3tcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVDb21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVDb21wb25lbnQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgdmVoaWNsZURlc2NyaXB0aW9uID0gdGhpcy5zdGF0ZS5nZXREYXRhKCkuY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbk1vZGVsO1xuICAgICAgICAgICAgICAgIHZhciBzdXNwZW5zaW9uT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgbWluOiBkZWZhdWx0U3VzcGVuc2lvblJhbmdlLk1pbixcbiAgICAgICAgICAgICAgICAgICAgbWF4OiBkZWZhdWx0U3VzcGVuc2lvblJhbmdlLk1heCxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA6IDEsXG4gICAgICAgICAgICAgICAgICAgIGRlY2ltYWxQbGFjZXM6IDEsXG4gICAgICAgICAgICAgICAgICAgIHVuaXRBYmJyZXZpYXRpb246ICfigLMnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBSZXRyaWV2ZSBzdXNwZW5zaW9uIGZyb20gQVBJIHNldHRpbmdzXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3VzcGVuc2lvblJhbmdlcyA9IHRoaXMuc2hvd2Nhc2Uuc2V0dGluZ3NGcm9tQVBJLlN1c3BlbnNpb25SYW5nZXM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBTdHlsZVR5cGUgPSB2ZWhpY2xlRGVzY3JpcHRpb24uU3R5bGVUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgRHJpdmVUeXBlID0gdmVoaWNsZURlc2NyaXB0aW9uLkRyaXZlVHlwZTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc3VzcGVuc2lvblJhbmdlS2V5ID0gU3R5bGVUeXBlICsgRHJpdmVUeXBlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2lvblJhbmdlS2V5IGluIHN1c3BlbnNpb25SYW5nZXMgPT09IGZhbHNlKSBzdXNwZW5zaW9uUmFuZ2VLZXkgPSAnRGVmYXVsdCc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdXNwZW5zaW9uUmFuZ2UgPSBzdXNwZW5zaW9uUmFuZ2VzW3N1c3BlbnNpb25SYW5nZUtleV0gfHwgZGVmYXVsdFN1c3BlbnNpb25SYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2lvbk9wdGlvbnMubWluID0gc3VzcGVuc2lvblJhbmdlLk1pbjtcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2lvbk9wdGlvbnMubWF4ID0gc3VzcGVuc2lvblJhbmdlLk1heDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udEFuZFJlYXIgPSBuZXcgTm9VSVN1c3BlbnNpb25FbGVtZW50KHRoaXMuc2hvd2Nhc2UsIFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc3VzcGVuc2lvbicpXG4gICAgICAgICAgICAgICAgfSwgc3VzcGVuc2lvbk9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250QW5kUmVhci5zdXNwZW5zaW9uQ2hhbmdlZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF90aGlzMi5zdXNwZW5zaW9uQ2hhbmdlQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIF90aGlzMi5zdXNwZW5zaW9uQ2hhbmdlQ2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgU3VzcGVuc2lvbjogX3RoaXMyLmZyb250QW5kUmVhci52YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZENoaWxkKHRoaXMuZnJvbnRBbmRSZWFyLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgLy8gbGV0IGZyb250T3B0aW9uczpTdXNwZW5zaW9uVUlFbGVtZW50T3B0aW9ucyA9IE9iamVjdEhlbHBlci5hc3NpZ24oe1xuICAgICAgICAgICAgICAgIC8vICAgICBsYWJlbDogc3RyaW5ncy5nZXRTdHJpbmcoJ2Zyb250JylcbiAgICAgICAgICAgICAgICAvLyB9LCBzdXNwZW5zaW9uT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5mcm9udCA9IG5ldyBOb1VJU3VzcGVuc2lvbkVsZW1lbnQodGhpcy5zaG93Y2FzZSwgZnJvbnRPcHRpb25zKTtcbiAgICAgICAgICAgICAgICAvLyBsZXQgcmVhck9wdGlvbnM6U3VzcGVuc2lvblVJRWxlbWVudE9wdGlvbnMgPSBPYmplY3RIZWxwZXIuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAvLyAgICAgbGFiZWw6IHN0cmluZ3MuZ2V0U3RyaW5nKCdyZWFyJylcbiAgICAgICAgICAgICAgICAvLyB9LCBzdXNwZW5zaW9uT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5yZWFyID0gbmV3IE5vVUlTdXNwZW5zaW9uRWxlbWVudCh0aGlzLnNob3djYXNlLCByZWFyT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5jb21wb25lbnQuYXBwZW5kQ2hpbGQodGhpcy5mcm9udC5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuY29tcG9uZW50LmFwcGVuZENoaWxkKHRoaXMucmVhci5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuZnJvbnQuc3VzcGVuc2lvbkNoYW5nZWRDYWxsYmFjayA9IHRoaXMucmVhci5zdXNwZW5zaW9uQ2hhbmdlZENhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vICAgICBpZiAodHlwZW9mIHRoaXMuc3VzcGVuc2lvbkNoYW5nZUNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLnN1c3BlbnNpb25DaGFuZ2VDYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgU3VzcGVuc2lvbkZyb250OiB0aGlzLmZyb250LnZhbHVlLFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIFN1c3BlbnNpb25SZWFyOiB0aGlzLnJlYXIudmFsdWVcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgLy8gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VTdXNwZW5zaW9uU2VsZWN0b3I7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlU3VzcGVuc2lvblNlbGVjdG9yID0gUmlkZVN0eWxlclNob3djYXNlU3VzcGVuc2lvblNlbGVjdG9yO1xuICAgIC8qKlxuICAgICAqIEEgZ2VuZXJhbCBpbnRlcmZhY2UgZm9yIFVJIGNvbXBvbmVudHMgdGhhdCBtb2RpZnkgc3VzcGVuc2lvblxuICAgICAqL1xuXG4gICAgdmFyIFN1c3BlbnNpb25VSUVsZW1lbnQgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRDMikge1xuICAgICAgICBfaW5oZXJpdHMoU3VzcGVuc2lvblVJRWxlbWVudCwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDMik7XG5cbiAgICAgICAgZnVuY3Rpb24gU3VzcGVuc2lvblVJRWxlbWVudChzaG93Y2FzZUluc3RhbmNlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3VzcGVuc2lvblVJRWxlbWVudCk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpczMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU3VzcGVuc2lvblVJRWxlbWVudC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFN1c3BlbnNpb25VSUVsZW1lbnQpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UpKTtcblxuICAgICAgICAgICAgX3RoaXMzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAgICAgX3RoaXMzLnZhbHVlID0gb3B0aW9ucy5zdGFydDtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczM7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoU3VzcGVuc2lvblVJRWxlbWVudCwgW3tcbiAgICAgICAgICAgIGtleTogJ29uU3VzcGVuc2lvbkNoYW5nZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3VzcGVuc2lvbkNoYW5nZWQobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnN1c3BlbnNpb25DaGFuZ2VkQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHRoaXMuc3VzcGVuc2lvbkNoYW5nZWRDYWxsYmFjayhuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gU3VzcGVuc2lvblVJRWxlbWVudDtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5Db21wb25lbnRCYXNlKTtcblxuICAgIHZhciBOb1VJU3VzcGVuc2lvbkVsZW1lbnQgPSBmdW5jdGlvbiAoX1N1c3BlbnNpb25VSUVsZW1lbnQpIHtcbiAgICAgICAgX2luaGVyaXRzKE5vVUlTdXNwZW5zaW9uRWxlbWVudCwgX1N1c3BlbnNpb25VSUVsZW1lbnQpO1xuXG4gICAgICAgIGZ1bmN0aW9uIE5vVUlTdXNwZW5zaW9uRWxlbWVudChzaG93Y2FzZUluc3RhbmNlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm9VSVN1c3BlbnNpb25FbGVtZW50KTtcblxuICAgICAgICAgICAgdmFyIF90aGlzNCA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChOb1VJU3VzcGVuc2lvbkVsZW1lbnQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihOb1VJU3VzcGVuc2lvbkVsZW1lbnQpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UsIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgX3RoaXM0LmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGVsZW1lbnRDbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgYXBwZW5kOiBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogZWxlbWVudENsYXNzTmFtZSArICctbGFiZWwnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBvcHRpb25zLmxhYmVsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHNsaWRlckVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBlbGVtZW50Q2xhc3NOYW1lICsgJy1zbGlkZXInLFxuICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBfdGhpczQuY29tcG9uZW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5vVWlTbGlkZXIuY3JlYXRlKHNsaWRlckVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICBzdGFydDogb3B0aW9ucy5zdGFydCxcbiAgICAgICAgICAgICAgICByYW5nZToge1xuICAgICAgICAgICAgICAgICAgICBtaW46IG9wdGlvbnMubWluLFxuICAgICAgICAgICAgICAgICAgICBtYXg6IG9wdGlvbnMubWF4XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdGVwOiBvcHRpb25zLnN0ZXAsXG4gICAgICAgICAgICAgICAgcGlwczoge1xuICAgICAgICAgICAgICAgICAgICBtb2RlOiAnc3RlcHMnLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3N0Zml4ID0gb3B0aW9ucy51bml0QWJicmV2aWF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlY2ltYWxQbGFjZXMgPSBvcHRpb25zLmRlY2ltYWxQbGFjZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvOiBmdW5jdGlvbiB0byh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUudG9GaXhlZChkZWNpbWFsUGxhY2VzKSArIHBvc3RmaXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiBmdW5jdGlvbiBmcm9tKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChSaWRlU3R5bGVyU2hvd2Nhc2UuU3RyaW5nSGVscGVyLmVzY2FwZVJlZ0V4cChwb3N0Zml4KSArICckJyksIFwiXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9KClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzNC5zbGlkZXJFbGVtZW50ID0gc2xpZGVyRWxlbWVudDtcbiAgICAgICAgICAgIF90aGlzNC5zbGlkZXIgPSBfdGhpczQuc2xpZGVyRWxlbWVudC5ub1VpU2xpZGVyO1xuICAgICAgICAgICAgX3RoaXM0LnNsaWRlci5vbigndXBkYXRlJywgZnVuY3Rpb24gKGZvcm1hdHRlZFZhbHVlcywgaGFuZGxlLCB2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBfdGhpczQub25TdXNwZW5zaW9uQ2hhbmdlZCh2YWx1ZXNbMF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE5vVUlTdXNwZW5zaW9uRWxlbWVudDtcbiAgICB9KFN1c3BlbnNpb25VSUVsZW1lbnQpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGJhckNsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtdGFiLWJhcic7XG4gICAgdmFyIHRhYkNsYXNzID0gYmFyQ2xhc3MgKyAnLXRhYic7XG4gICAgdmFyIHRhYkJhY2tncm91bmRDbGFzcyA9IHRhYkNsYXNzICsgJy1iYWNrZ3JvdW5kJztcbiAgICB2YXIgYWN0aXZlVGFiQ2xhc3MgPSB0YWJDbGFzcyArICctYWN0aXZlJztcbiAgICB2YXIgbW9kZUNsYXNzID0gYmFyQ2xhc3MgKyAnLSc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlVGFiQmFyID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlVGFiQmFyLCBfUmlkZVN0eWxlclNob3djYXNlJEMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhcigpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIpO1xuXG4gICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhciwgW3tcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVDb21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVDb21wb25lbnQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBiYXJDbGFzc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0TW9kZSgndmVydGljYWwnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNsaWNrKGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRNb2RlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRNb2RlKG1vZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlIG1vZGVzIGFyZSB0aGUgc2FtZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGUgPT09IG1vZGUpIHJldHVybjtcbiAgICAgICAgICAgICAgICB2YXIgdG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKGNsYXNzTmFtZSwgZm9yY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5jb21wb25lbnQuY2xhc3NMaXN0LnRvZ2dsZShjbGFzc05hbWUsIGZvcmNlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgY3VycmVudCBtb2RlIGNsYXNzXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm1vZGUgPT09ICdzdHJpbmcnKSB0b2dnbGUobW9kZUNsYXNzICsgdGhpcy5tb2RlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBuZXcgbW9kZVxuICAgICAgICAgICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBjdXJyZW50IG1vZGUgY2xhc3NcbiAgICAgICAgICAgICAgICB0b2dnbGUobW9kZUNsYXNzICsgbW9kZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSB0YWJzJyBtb2RlXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUYWJEaXNwbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZVRhYkRpc3BsYXknLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVRhYkRpc3BsYXkoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnRhYnMpIHJldHVybjtcbiAgICAgICAgICAgICAgICB2YXIgdGFiUGVyY2VudCA9IDEwMCAvIHRoaXMudGFicy5sZW5ndGggKyAnJSc7XG4gICAgICAgICAgICAgICAgdmFyIG1vZGUgPSB0aGlzLm1vZGU7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMudGFic1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWIgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWIuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSB0YWJQZXJjZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYi5lbGVtZW50LnN0eWxlLndpZHRoID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYi5lbGVtZW50LnN0eWxlLmhlaWdodCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYi5lbGVtZW50LnN0eWxlLndpZHRoID0gdGFiUGVyY2VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYi51cGRhdGVCYWNrZ3JvdW5kUG9seWdvbihtb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRUYWJzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRUYWJzKHRhYnNPclRhYkNyZWF0ZU9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFicyA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBpZiAodGFic09yVGFiQ3JlYXRlT3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGFicyA9IFtdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFic09yVGFiQ3JlYXRlT3B0aW9uc1swXSBpbnN0YW5jZW9mIFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhci5UYWIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFicyA9IHRhYnNPclRhYkNyZWF0ZU9wdGlvbnM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFicyA9IG5ldyBBcnJheSh0YWJzT3JUYWJDcmVhdGVPcHRpb25zLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0YWJzT3JUYWJDcmVhdGVPcHRpb25zLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZU9wdGlvbnMgPSB0YWJzT3JUYWJDcmVhdGVPcHRpb25zW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYnNbaW5kZXhdID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhci5UYWIoY3JlYXRlT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50YWJzID0gUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyLmNvcHkodGFicyk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuZW1wdHkodGhpcy5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIHZhciB0YWJQZXJjZW50ID0gMTAwIC8gdGFicy5sZW5ndGggKyAnJSc7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSB0YWJzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFiID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hcHBlbmRDaGlsZCh0YWIuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRhYkRpc3BsYXkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUYWIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmVUYWIodGFic1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NsZWFyQWN0aXZlVGFiJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhckFjdGl2ZVRhYigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEFjdGl2ZVRhYih1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRBY3RpdmVUYWInLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEFjdGl2ZVRhYihuZXdUYWIpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2xkVGFiID0gdGhpcy5jdXJyZW50VGFiO1xuICAgICAgICAgICAgICAgIGlmIChvbGRUYWIgPT09IG5ld1RhYikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFRhYiA9IG5ld1RhYjtcbiAgICAgICAgICAgICAgICAvLyBTd2l0Y2ggdGhlIGFjdGl2ZSBjbGFzc1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFRhYikgb2xkVGFiLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShhY3RpdmVUYWJDbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdUYWIpIG5ld1RhYi5lbGVtZW50LmNsYXNzTGlzdC5hZGQoYWN0aXZlVGFiQ2xhc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZW5kIG9mZiB0aGUgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBpZiAobmV3VGFiICYmIHR5cGVvZiB0aGlzLnRhYlN3aXRjaGVkQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHRoaXMudGFiU3dpdGNoZWRDYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICAgIG9sZFRhYjogb2xkVGFiLFxuICAgICAgICAgICAgICAgICAgICBuZXdUYWI6IG5ld1RhYlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkNsaWNrJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2xpY2tUYXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudEVsZW1lbnQgPSBjbGlja1RhcmdldDtcbiAgICAgICAgICAgICAgICAvLyBHbyB1cCB0aHJvdWdoIHRoZSBwYXJlbnQgZWxlbWVudHMgdW50aWwgd2UgcmVhY2ggdGhlIHRhYiBiYXJcbiAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudEVsZW1lbnQgIT09IHRoaXMuY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjdXJyZW50IGVsZW1lbnQgaXMgYSB0YWJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyh0YWJDbGFzcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25UYWJDbGljayh0aGlzLnRhYkZvckVsZW1lbnQoY3VycmVudEVsZW1lbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGN1cnJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblRhYkNsaWNrJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblRhYkNsaWNrKHRhYikge1xuICAgICAgICAgICAgICAgIGlmICghdGFiKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmVUYWIodGFiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndGFiRm9yTGFiZWwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRhYkZvckxhYmVsKGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSB0aGlzLnRhYnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWIgPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWIubGFiZWwgPT09IGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3RhYkZvckVsZW1lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRhYkZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gdGhpcy50YWJzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA0OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gKF9zdGVwNCA9IF9pdGVyYXRvcjQubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFiID0gX3N0ZXA0LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFiLmVsZW1lbnQgPT09IGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yNCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNCA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCAmJiBfaXRlcmF0b3I0LnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXI7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFiQmFyID0gUmlkZVN0eWxlclNob3djYXNlVGFiQmFyO1xuICAgIChmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlVGFiQmFyKSB7XG4gICAgICAgIHZhciBUYWIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBUYWIoY3JlYXRlT3B0aW9ucykge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWIpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5sYWJlbCA9IGNyZWF0ZU9wdGlvbnMubGFiZWw7XG4gICAgICAgICAgICAgICAgdGhpcy5pY29uQ2xhc3MgPSBjcmVhdGVPcHRpb25zLmljb247XG4gICAgICAgICAgICAgICAgdGhpcy5rZXkgPSBjcmVhdGVPcHRpb25zLmtleTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRNb2RlID0gJ2hvcml6b250YWwnO1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0YWJDbGFzc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUljb24oe1xuICAgICAgICAgICAgICAgICAgICBpY29uOiBjcmVhdGVPcHRpb25zLmljb24sXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHdyYXA6IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MoJ2RpdicsIHRhYkNsYXNzICsgJy1pY29uJylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgYmFja2dyb3VuZCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRhYkJhY2tncm91bmRDbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuZWxlbWVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIuc3ZnU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZVNWR0VsZW1lbnQoJ3N2ZycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3Qm94OiAnMCAwIDEwMCAxMDAnXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kOiB0aGlzLmJhY2tncm91bmRQb2x5Z29uID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlU1ZHRWxlbWVudCgncG9seWdvbicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6ICdibGFjaydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBiYWNrZ3JvdW5kXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQuY2xhc3NMaXN0LmFkZCh0YWJCYWNrZ3JvdW5kQ2xhc3MgKyAnLW5vc3ZnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC50aXRsZSA9IGNyZWF0ZU9wdGlvbnMubGFiZWw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhUYWIsIFt7XG4gICAgICAgICAgICAgICAga2V5OiAndXBkYXRlQmFja2dyb3VuZFBvbHlnb24nLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVCYWNrZ3JvdW5kUG9seWdvbihtb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5iYWNrZ3JvdW5kUG9seWdvbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogVGhlIGhlaWdodCBpbiBwZXJjZW50YWdlIG9mIHRoZSB0cmlhbmdsZSBzaXplXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJpYW5nbGVIZWlnaHQgPSBtb2RlID09PSAndmVydGljYWwnID8gMzAgOiAxNTtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFRoZSB3aWR0aCBpbiBwZXJjZW50YWdlIG9mIHRoZSB0cmlhbmdsZSBzaXplXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJpYW5nbGVXaWR0aCA9IG1vZGUgPT09ICd2ZXJ0aWNhbCcgPyAxNSA6IDMwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRQb2x5Z29uLnNldEF0dHJpYnV0ZSgncG9pbnRzJywgbW9kZSA9PT0gJ3ZlcnRpY2FsJyA/ICcwLDAgMTAwLDAgMTAwLCcgKyAoNTAgLSB0cmlhbmdsZUhlaWdodCAvIDIpICsgJyAnICsgKDEwMCAtIHRyaWFuZ2xlV2lkdGgpICsgJyw1MCAxMDAsJyArICg1MCArIHRyaWFuZ2xlSGVpZ2h0IC8gMikgKyAnIDEwMCwxMDAgMCwxMDAnIDogJzAsMCAnICsgKDUwIC0gdHJpYW5nbGVIZWlnaHQgLyAyKSArICcsMCA1MCwnICsgdHJpYW5nbGVIZWlnaHQgKyAnICcgKyAoNTAgKyB0cmlhbmdsZUhlaWdodCAvIDIpICsgJywwIDEwMCwwIDEwMCwxMDAsIDAsMTAwJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gVGFiO1xuICAgICAgICB9KCk7XG5cbiAgICAgICAgUmlkZVN0eWxlclNob3djYXNlVGFiQmFyLlRhYiA9IFRhYjtcbiAgICB9KShSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFiQmFyIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFiQmFyID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciB0YWJsZUNsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtdGFibGUnO1xuICAgIHZhciBoZWFkQ2xhc3MgPSB0YWJsZUNsYXNzICsgJy1oZWFkJztcbiAgICB2YXIgYm9keUNsYXNzID0gdGFibGVDbGFzcyArICctYm9keSc7XG4gICAgdmFyIGJvZHlMb2FkaW5nQ2xhc3MgPSBib2R5Q2xhc3MgKyAnLWxvYWRpbmcnO1xuICAgIHZhciBjb250YWluZXJDbGFzcyA9IHRhYmxlQ2xhc3MgKyAnLWNvbnRhaW5lcic7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlVGFibGUgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRDKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZSwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZShzaG93Y2FzZUluc3RhbmNlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlVGFibGUpO1xuXG4gICAgICAgICAgICBvcHRpb25zID0gUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24oe30sIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlVGFibGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZSkpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSkpO1xuXG4gICAgICAgICAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgIF90aGlzLmNvbHVtbnMgPSBvcHRpb25zLmNvbHVtbnM7XG4gICAgICAgICAgICB2YXIgdGFibGUgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCd0YWJsZScsIHtcbiAgICAgICAgICAgICAgICBhcHBlbmRUbzogX3RoaXMuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGFibGVDbGFzc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgdGhlYWQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCd0aGVhZCcsIHtcbiAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGFibGUsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBoZWFkQ2xhc3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMudGJvZHkgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCd0Ym9keScsIHtcbiAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGFibGUsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBib2R5Q2xhc3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuZ2VuZXJhdGVIZWFkZXJzKHRoZWFkKTtcbiAgICAgICAgICAgIF90aGlzLmNvbXBvbmVudCA9IHRhYmxlO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucm93cykgX3RoaXMuYXBwZW5kUm93cyhvcHRpb25zLnJvd3MpO2Vsc2UgaWYgKG9wdGlvbnMuc3RhcnRMb2FkaW5nKSBfdGhpcy5zZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlLCBbe1xuICAgICAgICAgICAga2V5OiAnZ2VuZXJhdGVIZWFkZXJDZWxsJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZUhlYWRlckNlbGwoY29sdW1uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhlYWRlciA9IGNvbHVtbi5oZWFkZXI7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBoZWFkZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdlbmVyYXRlZEhlYWRlciA9IGhlYWRlcihjb2x1bW4pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIGdlbmVyYXRlZEhlYWRlciA9PT0gJ3N0cmluZycgPyBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCd0aCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdlbmVyYXRlZEhlYWRlclxuICAgICAgICAgICAgICAgICAgICB9KSA6IGdlbmVyYXRlZEhlYWRlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHRoID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgndGgnLCB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGhlYWRlclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZ2VuZXJhdGVIZWFkZXJzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZUhlYWRlcnModGhlYWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGVhZGVyUm93ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdGhpcy5jb2x1bW5zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJSb3cuYXBwZW5kQ2hpbGQodGhpcy5nZW5lcmF0ZUhlYWRlckNlbGwoY29sdW1uKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoZWFkLmFwcGVuZENoaWxkKGhlYWRlclJvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dlbmVyYXRlUm93Q2VsbCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVSb3dDZWxsKHJvdywgY29sdW1uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNlbGwgPSBjb2x1bW4uY2VsbDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNlbGwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdlbmVyYXRlZENlbGwgPSBjZWxsKHJvdywgY29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBnZW5lcmF0ZWRDZWxsID09PSAnc3RyaW5nJyA/IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ3RkJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2VuZXJhdGVkQ2VsbFxuICAgICAgICAgICAgICAgICAgICB9KSA6IGdlbmVyYXRlZENlbGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB0ZCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ3RkJywge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiByb3dbY2VsbF0udG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZ2VuZXJhdGVSb3cnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlUm93KHJvdykge1xuICAgICAgICAgICAgICAgIHZhciB0ciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSB0aGlzLmNvbHVtbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW4gPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRoaXMuZ2VuZXJhdGVSb3dDZWxsKHJvdywgY29sdW1uKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2FwcGVuZFJvd3MnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGVuZFJvd3Mocm93cykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgdmFyIHJvd3NGcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IHJvd3NbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb3cgPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3NGcmFnbWVudC5hcHBlbmRDaGlsZCh0aGlzLmdlbmVyYXRlUm93KHJvdykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy50Ym9keS5hcHBlbmRDaGlsZChyb3dzRnJhZ21lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRMb2FkaW5nJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRMb2FkaW5nKGxvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRib2R5LmNsYXNzTGlzdC50b2dnbGUoYm9keUxvYWRpbmdDbGFzcywgbG9hZGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dLCBbe1xuICAgICAgICAgICAga2V5OiAnZm9ybWF0Q2VsbCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0Q2VsbChvYmplY3QsIGtleSwgcG9zdGZpeCkge1xuICAgICAgICAgICAgICAgIHZhciBzdHJpbmcgPSBvYmplY3Rba2V5XS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCd0ZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nID8gcG9zdGZpeCA/IHN0cmluZyArIHBvc3RmaXggOiBzdHJpbmcgOiBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZS5lbXB0eUNlbGxTdHJpbmdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZTtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5Db21wb25lbnRCYXNlKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlLmVtcHR5Q2VsbFN0cmluZyA9ICctJztcbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFibGUgPSBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VUaXJlU2VsZWN0b3IgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRSKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VUaXJlU2VsZWN0b3IsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkUik7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yKHNob3djYXNlSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VUaXJlU2VsZWN0b3IpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yKSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlKSk7XG5cbiAgICAgICAgICAgIHZhciBzdGF0ZURhdGEgPSBzaG93Y2FzZUluc3RhbmNlLnN0YXRlLmdldERhdGEoKTtcbiAgICAgICAgICAgIF90aGlzLnN1cHBvcnRlZFZlaGljbGVJbWFnZXJ5ID0ge1xuICAgICAgICAgICAgICAgIGFuZ2xlZDogc3RhdGVEYXRhLnZlaGljbGVIYXNBbmdsZWRJbWFnZSxcbiAgICAgICAgICAgICAgICBzaWRlOiBzdGF0ZURhdGEudmVoaWNsZUhhc1NpZGVJbWFnZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLnZlaGljbGVUaXJlT3B0aW9uSUQgPSBzdGF0ZURhdGEuY3VycmVudFZlaGljbGVUaXJlT3B0aW9uSUQ7XG4gICAgICAgICAgICBfdGhpcy5kZWZhdWx0RmlsdGVycyA9IHtcbiAgICAgICAgICAgICAgICBWZWhpY2xlVGlyZU9wdGlvbjogX3RoaXMudmVoaWNsZVRpcmVPcHRpb25JRCxcbiAgICAgICAgICAgICAgICBIYXNDYXRhbG9nSW1hZ2U6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5jdXJyZW50RmlsdGVycyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHt9LCBfdGhpcy5kZWZhdWx0RmlsdGVycyk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yLCBbe1xuICAgICAgICAgICAga2V5OiBcImNvdW50UmVzdWx0c1wiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvdW50UmVzdWx0cyhmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwidGlyZS9jb3VudG1vZGVsc1wiLCBmaWx0ZXJzKSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5Db3VudDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcImdldFJlc3VsdHNcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSZXN1bHRzKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoXCJ0aXJlL2dldG1vZGVsZGVzY3JpcHRpb25zXCIsIGZpbHRlcnMpLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLk1vZGVscztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcInByb2R1Y3RGaWx0ZXJcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9kdWN0RmlsdGVyKHByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcInByb2R1Y3RJbWFnZVNvdXJjZVwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByb2R1Y3RJbWFnZVNvdXJjZShwcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJpZGVzdHlsZXIudGlyZS5pbWFnZSh7XG4gICAgICAgICAgICAgICAgICAgIFRpcmVGaXRtZW50UmVzb3VyY2VUeXBlOiAyIC8qIENhdGFsb2cgKi9cbiAgICAgICAgICAgICAgICAgICAgLCBUaXJlTW9kZWw6IHByb2R1Y3QuVGlyZU1vZGVsSUQsXG4gICAgICAgICAgICAgICAgICAgIFdpZHRoOiAxMDAsXG4gICAgICAgICAgICAgICAgICAgIEhlaWdodDogMTAwLFxuICAgICAgICAgICAgICAgICAgICBQb3NpdGlvblg6IDEgLyogQ2VudGVyICovXG4gICAgICAgICAgICAgICAgICAgICwgUG9zaXRpb25ZOiAxIC8qIENlbnRlciAqL1xuICAgICAgICAgICAgICAgICAgICAsIEluY2x1ZGVTaGFkb3c6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcInByb2R1Y3RJbWFnZUxhYmVsc1wiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByb2R1Y3RJbWFnZUxhYmVscyhwcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeTogcHJvZHVjdC5UaXJlQnJhbmROYW1lLFxuICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnk6IHByb2R1Y3QuVGlyZU1vZGVsTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdGVydGlhcnk6IHByb2R1Y3QuQXR0cmlidXRlcyAmJiBwcm9kdWN0LkF0dHJpYnV0ZXMubGVuZ3RoID8gcHJvZHVjdC5BdHRyaWJ1dGVzLmpvaW4oJywgJykgOiAnJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3Rvcik7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yID0gUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIHRvZ2dsZUJ1dHRvbkNsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtdG9nZ2xlLWJ1dHRvbic7XG4gICAgdmFyIG9wdGlvbkNsYXNzID0gdG9nZ2xlQnV0dG9uQ2xhc3MgKyAnLW9wdGlvbic7XG4gICAgdmFyIG9wdGlvbkFjdGl2ZUNsYXNzID0gb3B0aW9uQ2xhc3MgKyAnLWFjdGl2ZSc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlVG9nZ2xlQnV0dG9uID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlVG9nZ2xlQnV0dG9uLCBfUmlkZVN0eWxlclNob3djYXNlJEMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVRvZ2dsZUJ1dHRvbigpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VUb2dnbGVCdXR0b24pO1xuXG4gICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVRvZ2dsZUJ1dHRvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVRvZ2dsZUJ1dHRvbikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVRvZ2dsZUJ1dHRvbiwgW3tcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVDb21wb25lbnQnLFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENyZWF0ZSB0aGUgRE9NIGZvciB0aGUgdG9nZ2xlIGJ1dHRvblxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbXBvbmVudCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdG9nZ2xlQnV0dG9uQ2xhc3NcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChjbGlja0V2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25DbGlja2VkKGNsaWNrRXZlbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDYWxsZWQgd2hlbiB0aGUgdG9nZ2xlIGJ1dHRvbiBpcyBjbGlja2VkIG9uXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkNsaWNrZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2tlZChjbGlja0V2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGNsaWNrRXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhvcHRpb25DbGFzcykpIHJldHVybjsgLy8gVGhlIGNsaWNrIHdhcyBub3Qgb24gYW4gb3B0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMob3B0aW9uQWN0aXZlQ2xhc3MpKSByZXR1cm47IC8vIFRoZSBjbGljayB3YXMgb24gYW4gYWN0aXZlIG9wdGlvblxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0T3B0aW9uRWxlbWVudCh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZWxlY3RPcHRpb25FbGVtZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RPcHRpb25FbGVtZW50KG9wdGlvbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHJpZ2dlckNoYW5nZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IG9wdGlvbkVsZW1lbnQudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IG5ld1ZhbHVlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGNoaWxkSW5kZXggPSAwOyBjaGlsZEluZGV4IDwgdGhpcy5jb21wb25lbnQuY2hpbGRyZW4ubGVuZ3RoOyBjaGlsZEluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkT3B0aW9uRWxlbWVudCA9IHRoaXMuY29tcG9uZW50LmNoaWxkcmVuW2NoaWxkSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBjaGlsZE9wdGlvbkVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShvcHRpb25BY3RpdmVDbGFzcywgY2hpbGRPcHRpb25FbGVtZW50ID09PSBvcHRpb25FbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uQ2hhbmdlZCA9PT0gJ2Z1bmN0aW9uJyAmJiB0cmlnZ2VyQ2hhbmdlKSB0aGlzLm9uQ2hhbmdlZChuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldFZhbHVlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlID09PSB2YWx1ZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGNoaWxkSW5kZXggPSAwOyBjaGlsZEluZGV4IDwgdGhpcy5jb21wb25lbnQuY2hpbGRyZW4ubGVuZ3RoOyBjaGlsZEluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkT3B0aW9uRWxlbWVudCA9IHRoaXMuY29tcG9uZW50LmNoaWxkcmVuW2NoaWxkSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRPcHRpb25FbGVtZW50LnZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RPcHRpb25FbGVtZW50KGNoaWxkT3B0aW9uRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldE9wdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmVtcHR5KHRoaXMuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBvcHRpb25zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE9wdGlvbihvcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2FkZE9wdGlvbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkT3B0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25FbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24oUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnc3BhbicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBvcHRpb25DbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogb3B0aW9uLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KSwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb3B0aW9uLnZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IHVuZGVmaW5lZCkgdGhpcy5zZWxlY3RPcHRpb25FbGVtZW50KG9wdGlvbkVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VUb2dnbGVCdXR0b247XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVG9nZ2xlQnV0dG9uID0gUmlkZVN0eWxlclNob3djYXNlVG9nZ2xlQnV0dG9uO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb24gPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRNKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlU2VsZWN0aW9uLCBfUmlkZVN0eWxlclNob3djYXNlJE0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb24oKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVNlbGVjdGlvbik7XG5cbiAgICAgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVNlbGVjdGlvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb24pKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlU2VsZWN0aW9uLCBbe1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZU1haW5Db21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVNYWluQ29tcG9uZW50KCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RhbCA9IG5ldyBSaWRlU3R5bGVyVmVoaWNsZVNlbGVjdGlvbk1vZGFsKHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiBmdW5jdGlvbiBjb250YWluZXIoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmNvbXBvbmVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uLkZpbmFsU2VsZWN0aW9uTWFkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5vblZlaGljbGVTZWxlY3RlZChzZWxlY3Rpb24uVmVoaWNsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIEltYWdlU2V0dGluZ3M6IGZ1bmN0aW9uIEltYWdlU2V0dGluZ3Mob3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5nZW5lcmF0ZVZlaGljbGVQcmV2aWV3U2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgSW5jbHVkZU9FVGlyZU9wdGlvbjogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkuYWZ0ZXJBdXRoZW50aWNhdGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnYnVpbGRDb21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkQ29tcG9uZW50KGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3JpZGVzdHlsZXItc2hvd2Nhc2UtdmVoaWNsZS1zZWxlY3Rpb24nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRDb250YWluZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtY29udGVudCByaWRlc3R5bGVyLXNob3djYXNlLXZlaGljbGUtc2VsZWN0aW9uLWNvbnRlbnQnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogY29udGFpbmVyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5idWlsZENvcHkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNob29zZVZlaGljbGVCdXR0b24gPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVCdXR0b24oe1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3NlbGVjdC15b3VyLXZlaGljbGUnKSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29udGVudENvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGxhcmdlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBpZDogJ3JpZGVzdHlsZXItc2hvd2Nhc2Utc2VsZWN0LXlvdXItdmVoaWNsZScsXG4gICAgICAgICAgICAgICAgICAgIHdyYXA6IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoSUQoJ2RpdicsICdyaWRlc3R5bGVyLXNob3djYXNlLXNlbGVjdC15b3VyLXZlaGljbGUtd3JhcHBlcicpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaG9vc2VWZWhpY2xlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczMubW9kYWwuU2hvdygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdidWlsZENvcHknLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkQ29weSgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBlbWJvbGRlbkZpcnN0V29yZChzdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpcnN0V29yZCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5TdHJpbmdIZWxwZXIuZ2V0Rmlyc3RXb3JkKHN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZW1haW5pbmdTdHJpbmcgPSBzdHJpbmcuc3Vic3RyKGZpcnN0V29yZC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1JpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoVGV4dCgnc3Ryb25nJywgZmlyc3RXb3JkKSwgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlVGV4dEVsZW1lbnQocmVtYWluaW5nU3RyaW5nKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB2aXN1YWxpemVTdHJpbmcgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdoMScsIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kOiBlbWJvbGRlbkZpcnN0V29yZChSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoXCJ2ZWhpY2xlLXNlbGVjdC12aXN1YWxpemUtaW50cm9cIikpLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb250ZW50Q29udGFpbmVyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIHNoYXJlU3RyaW5nID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnaDEnLCB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZDogZW1ib2xkZW5GaXJzdFdvcmQoUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKFwidmVoaWNsZS1zZWxlY3Qtc2hhcmUtaW50cm9cIikpLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb250ZW50Q29udGFpbmVyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uQXV0aGVudGljYXRlZCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25BdXRoZW50aWNhdGVkKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jaG9vc2VWZWhpY2xlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwid2hlZWwvZ2V0bW9kZWxzXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgQ291bnQ6IDMsXG4gICAgICAgICAgICAgICAgICAgIEhhc0NhdGFsb2dJbWFnZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuc2hvd1doZWVscyhyZXNwb25zZS5Nb2RlbHMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblZlaGljbGVTZWxlY3RlZCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25WZWhpY2xlU2VsZWN0ZWQoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHVzZXIgaGFzIHNlbGVjdGVkIGEgdmVoaWNsZSB1c2luZyB0aGUgdmVoaWNsZSBzZWxlY3Rpb24gbW9kYWwuXG4gICAgICAgICAgICAgICAgLy8gTm93IHdlIG5lZWQgdG8gb2J0YWluIGEgT0UgdGlyZSBvcHRpb24gZm9yIHRoZW0uXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMudHJpZ2dlcihcInZlaGljbGUtc2VsZWN0ZWRcIiwgc2VsZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2hvdyB0aGUgcGFzc2VkIGluIHdoZWVsIG1vZGVscyBpbiB0aGUgd2hlZWwgc2hvd2Nhc2Ugc2VjdGlvbiBvZiB0aGUgdmVoaWNsZSBzZWxlY3Rpb24gc2NyZWVuXG4gICAgICAgICAgICAgKiBAcGFyYW0gbW9kZWxzIFRoZSB3aGVlbCBtb2RlbHMgdG8gc2hvd1xuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2hvd1doZWVscycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd1doZWVscyhtb2RlbHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgd2hlZWxDb250YWluZXIgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLndoZWVsQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoZWVsQ29udGFpbmVyID0gdGhpcy53aGVlbENvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtdmVoaWNsZS1zZWxlY3Rpb24td2hlZWwtc2hvd2Nhc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdoZWVsQ29udGFpbmVyID0gdGhpcy53aGVlbENvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuZW1wdHkod2hlZWxDb250YWluZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbW9kZWxJbWFnZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgb25Nb2RlbEltYWdlTG9hZCA9IGZ1bmN0aW9uIG9uTW9kZWxJbWFnZUxvYWQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gbW9kZWxJbWFnZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsSW1hZ2UgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbW9kZWxJbWFnZS5jb21wbGV0ZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgd2hlZWxDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gbW9kZWxzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZWwgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RlbEltYWdlU291cmNlID0gcmlkZXN0eWxlci53aGVlbC5pbWFnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV2hlZWxNb2RlbDogbW9kZWwuV2hlZWxNb2RlbElELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdpZHRoOiA0MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVpZ2h0OiA0MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUG9zaXRpb25YOiAxIC8qIENlbnRlciAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgUG9zaXRpb25ZOiAxIC8qIENlbnRlciAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgV2hlZWxGaXRtZW50UmVzb3VyY2VUeXBlOiAzIC8qIENhdGFsb2cgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIEluY2x1ZGVTaGFkb3c6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsSW1hZ2UgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsSW1hZ2UuY2xhc3NOYW1lID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtdmVoaWNsZS1zZWxlY3Rpb24td2hlZWwtc2hvd2Nhc2UtaW1hZ2UnO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgb25Nb2RlbEltYWdlTG9hZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbEltYWdlcy5wdXNoKG1vZGVsSW1hZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxJbWFnZS5zcmMgPSBtb2RlbEltYWdlU291cmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hlZWxDb250YWluZXIuYXBwZW5kQ2hpbGQobW9kZWxJbWFnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dlbmVyYXRlVmVoaWNsZVByZXZpZXdTZXR0aW5ncycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVWZWhpY2xlUHJldmlld1NldHRpbmdzKCkge1xuICAgICAgICAgICAgICAgIHZhciBzY2FsZSA9IE1hdGgubWF4KHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDAsIDEpO1xuICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGhUb0hlaWdodCA9IC41O1xuICAgICAgICAgICAgICAgIHZhciBtYXhSZXF1ZXN0UmVzb2x1dGlvbiA9IDE5MjA7XG4gICAgICAgICAgICAgICAgLy8gV2lkdGggaXMgODAlIG9mIHRoZSBjb250YWluZXIgd2lkdGhcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBjb250YWluZXIuY2xpZW50V2lkdGggKiAuODA7XG4gICAgICAgICAgICAgICAgLy8gV2lkdGggaXMgNTAwIGlmIG5vdCBmb3VuZFxuICAgICAgICAgICAgICAgIGlmICghd2lkdGgpIHdpZHRoID0gNTAwO1xuICAgICAgICAgICAgICAgIC8vIEFwcGx5IG91ciBzY2FsZVxuICAgICAgICAgICAgICAgIHdpZHRoICo9IHNjYWxlO1xuICAgICAgICAgICAgICAgIC8vIExpbWl0IHdpZHRoIHRvIG1heCByZXF1ZXN0IHJlc29sdXRpb25cbiAgICAgICAgICAgICAgICBpZiAod2lkdGggPiBtYXhSZXF1ZXN0UmVzb2x1dGlvbikgd2lkdGggPSBtYXhSZXF1ZXN0UmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmUgaGVpZ2h0XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IHdpZHRoICogd2lkdGhUb0hlaWdodDtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBXaWR0aDogfn53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgSGVpZ2h0OiB+fmhlaWdodFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVNlbGVjdGlvbjtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5NYWluQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVNlbGVjdGlvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb247XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgY3VzdG9taXphdGlvbnNDbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLWN1c3RvbWl6YXRpb25zJztcbiAgICB2YXIgbG9hZGluZ0NsYXNzID0gY3VzdG9taXphdGlvbnNDbGFzcyArICctbG9hZGluZyc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb24gPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRNKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbiwgX1JpZGVTdHlsZXJTaG93Y2FzZSRNKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbigpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbik7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVWaXN1YWxpemF0aW9uKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgICAgIF90aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRPcmRlciA9IFsncGFpbnQnLCAnd2hlZWxzJywgJ3RpcmVzJywgJ3N1c3BlbnNpb24nXTtcbiAgICAgICAgICAgIF90aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRTZXR0aW5ncyA9IHtcbiAgICAgICAgICAgICAgICBwYWludDoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzZWxlY3QtcGFpbnQnKSxcbiAgICAgICAgICAgICAgICAgICAgc2hvd0ZpbHRlckJ1dHRvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHdoZWVsczoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzZWxlY3Qtd2hlZWxzJyksXG4gICAgICAgICAgICAgICAgICAgIHNob3dGaWx0ZXJCdXR0b246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRpcmVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3NlbGVjdC10aXJlcycpLFxuICAgICAgICAgICAgICAgICAgICBzaG93RmlsdGVyQnV0dG9uOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdXNwZW5zaW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2FkanVzdC1zdXNwZW5zaW9uJyksXG4gICAgICAgICAgICAgICAgICAgIHNob3dGaWx0ZXJCdXR0b246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbiwgW3tcbiAgICAgICAgICAgIGtleTogJ2J1aWxkQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZENvbXBvbmVudChjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIC8vIFdhaXQgZm9yIGluaXRpYWxpemF0aW9uIGJlZm9yZSBjcmVhdGluZyB0aGUgdmlld3BvcnQgYmVjYXVzZSBpdCBkZXRlY3RzXG4gICAgICAgICAgICAgICAgLy8gdGhlIG9mZnNldCBwb3NpdGlvbmluZyBvZiB0aGUgdmlld3BvcnQgZWxlbWVudCB3aGVuIGNyZWF0ZWQgYW5kIG91ciBDU1NcbiAgICAgICAgICAgICAgICAvLyBpc24ndCBndWFyYW50ZWVkIHRvIGJlIGxvYWRlZCB1bnRpbCB0aGUgaW5pdGlhbGl6ZWQgZXZlbnRcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vbignaW5pdGlhbGl6ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXR1cFZpZXdwb3J0KGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldHVwIGluaXRpYWwgdGFiIGxheW91dFxuICAgICAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlVGFiTGF5b3V0KCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhpZGUgdGhlIHNoYXJlIGJ1dHRvbiBpZiBzaGFyaW5nIGlzIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLnNob3djYXNlLnNldHRpbmdzRnJvbUFQSS5FbmFibGVTaGFyaW5nKSBzaGFyZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRUaXJlQnJhbmRzID0gUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwidGlyZS9jb3VudGJyYW5kc1wiLCBfdGhpczIuc2hvd2Nhc2UuZmlsdGVycy50aXJlRmlsdGVycy5nZXRGaWx0ZXJzKCkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRXaGVlbEJyYW5kcyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdChcIndoZWVsL2NvdW50YnJhbmRzXCIsIF90aGlzMi5zaG93Y2FzZS5maWx0ZXJzLndoZWVsRmlsdGVycy5nZXRGaWx0ZXJzKCkpO1xuICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci5hbGwoW2NvdW50VGlyZUJyYW5kcywgY291bnRXaGVlbEJyYW5kc10pLmRvbmUoZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aXJlQnJhbmRDb3VudCA9IHJlc3VsdHNbMF0uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2hlZWxCcmFuZENvdW50ID0gcmVzdWx0c1sxXS5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGlyZUJyYW5kQ291bnQpIF90aGlzMi5jdXN0b21pemF0aW9uQ29tcG9uZW50U2V0dGluZ3MudGlyZXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3aGVlbEJyYW5kQ291bnQpIF90aGlzMi5jdXN0b21pemF0aW9uQ29tcG9uZW50U2V0dGluZ3Mud2hlZWxzLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi51cGRhdGVUYWJzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBUYWJzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VXaGVlbFNpemUgPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZSh0aGlzLnNob3djYXNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVdoZWVsU2l6ZS5vcHRpb25TZWxlY3RlZENhbGxiYWNrID0gZnVuY3Rpb24gKG5ld09wdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIuc3RhdGUuZXh0ZW5kRGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2hlZWxGaXRtZW50OiBuZXdPcHRpb25cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi51cGRhdGVWaWV3cG9ydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBXaGVlbEZpdG1lbnQ6IG5ld09wdGlvbi5XaGVlbEZpdG1lbnRJRFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cyA9IFt0aGlzLnZlaGljbGVEZXRhaWxzID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5WZWhpY2xlRGV0YWlscyh0aGlzLnNob3djYXNlKSwgbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5XaGVlbERldGFpbHModGhpcy5zaG93Y2FzZSksIG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuVGlyZURldGFpbHModGhpcy5zaG93Y2FzZSksIHRoaXMudGFiQmFyLCB0aGlzLmNoYW5nZVdoZWVsU2l6ZV07XG4gICAgICAgICAgICAgICAgdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50Q29udGFpbmVyID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGN1c3RvbWl6YXRpb25zQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIEFwcGVuZCBhbnkgc3ViIGNvbXBvbmVudHNcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdGhpcy5jb21wb25lbnRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hcHBlbmRDaGlsZChjb21wb25lbnQuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLXJvdGF0ZS12ZWhpY2xlJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIuc3dpdGNoQW5nbGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1jdXN0b21pemF0aW9uLWNvbXBvbmVudC10aXRsZS1jb250YWluZXInLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZDogW3RoaXMudGl0bGVFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLWN1c3RvbWl6YXRpb24tY29tcG9uZW50LXRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICB9KSwgdGhpcy5maWx0ZXJCdXR0b24gPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVCdXR0b24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdmaWx0ZXItcmVzdWx0cycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2tpbm55OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2hvd0ZpbHRlcnMoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgc2hhcmVCdXR0b24gPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVCdXR0b24oe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNoYXJlLW15LXZlaGljbGUtYnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzaGFyZS1teS12ZWhpY2xlJyksXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNoYXJlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwoX3RoaXMyLnNob3djYXNlLCBfdGhpczIuY3VycmVudFJlbmRlckluc3RydWN0aW9ucykuc2hvdygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIFN0YXJ0IGxpc3RlbmluZyBmb3IgcmVzaXplIGV2ZW50c1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uKCdyZXNpemVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmlzVmlzaWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlVmlld3BvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIFN0YXJ0IGxpc3RlbmluZyBmb3IgYnJlYWtwb2ludCBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMub24oJ2JyZWFrcG9pbnQtY2hhbmdlZCcsIGZ1bmN0aW9uIChuZXdCcmVha3BvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi51cGRhdGVUYWJMYXlvdXQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVEZXRhaWxzLnBhaW50U3dhdGNoQ2xpY2tDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNldEFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQoX3RoaXMyLmN1c3RvbWl6YXRpb25Db21wb25lbnRzLnBhaW50KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXR1cFZpZXdwb3J0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXR1cFZpZXdwb3J0KGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdmFyIHZpZXdwb3J0RWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS12aWV3cG9ydCcsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBjb250YWluZXJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMy5zd2l0Y2hBbmdsZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld3BvcnQgPSBuZXcgUmlkZVN0eWxlclZpZXdwb3J0KHZpZXdwb3J0RWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZVRhYnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVRhYnMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhYnMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudE9yZGVyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGRpc2FibGVkIGNvbXBvbmVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50U2V0dGluZ3Nba2V5XS5lbmFibGVkKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYnMucHVzaCh0aGlzLnRhYnNba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRhYkJhci5zZXRUYWJzKHRhYnMpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGFiTGF5b3V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZVRhYkxheW91dCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVGFiTGF5b3V0KCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50QnJlYWtwb2ludCA9IHRoaXMuc2hvd2Nhc2Uuc3R5bGUuZ2V0Q3VycmVudEJyZWFrcG9pbnQoKTtcbiAgICAgICAgICAgICAgICB2YXIgaG9yaXpvbnRhbCA9IGN1cnJlbnRCcmVha3BvaW50ICYmIGN1cnJlbnRCcmVha3BvaW50WzBdID09PSAncGhvbmUtcG9ydHJhaXQnO1xuICAgICAgICAgICAgICAgIHRoaXMudGFiQmFyLnNldE1vZGUoaG9yaXpvbnRhbCA/ICdob3Jpem9udGFsJyA6ICd2ZXJ0aWNhbCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXR1cFRhYnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldHVwVGFicygpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMudGFiQmFyID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIodGhpcy5zaG93Y2FzZSk7XG4gICAgICAgICAgICAgICAgLy8gRGVmaW5lIG91ciB0YWJzXG4gICAgICAgICAgICAgICAgdGhpcy50YWJzID0ge1xuICAgICAgICAgICAgICAgICAgICBwYWludDogbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIuVGFiKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdwYWludCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYWludCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdwYWludCcpXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB3aGVlbHM6IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFiQmFyLlRhYih7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2hlZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnd2hlZWxzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3doZWVscycpXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB0aXJlczogbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIuVGFiKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd0aXJlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ3RpcmVzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3RpcmVzJylcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNpb246IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFiQmFyLlRhYih7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VzcGVuc2lvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdzdXNwZW5zaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3N1c3BlbnNpb24nKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gU3dpdGNoIHRoZSBib3R0b20gdmlldywgdGhlIGN1c3RvbWl6YXRpb24gY29tcG9uZW50IHdoZW4gYSB0YWIgaXMgY2xpY2tlZCBvblxuICAgICAgICAgICAgICAgIHRoaXMudGFiQmFyLnRhYlN3aXRjaGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3VGFiID0gZS5uZXdUYWI7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBuZXdUYWIua2V5O1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LmN1c3RvbWl6YXRpb25Db21wb25lbnRzICYmIGtleSBpbiBfdGhpczQuY3VzdG9taXphdGlvbkNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRBY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50KF90aGlzNC5jdXN0b21pemF0aW9uQ29tcG9uZW50c1trZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uRGlzcGxheScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25EaXNwbGF5KCkge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0ZURhdGEgPSB0aGlzLnN0YXRlLmdldERhdGEoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRlRGF0YS5jdXJyZW50VmVoaWNsZUNvbmZpZ3VyYXRpb25JRCB8fCAhc3RhdGVEYXRhLmN1cnJlbnRWZWhpY2xlVGlyZU9wdGlvbklEKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RyeWluZyB0byBzaG93IHRoZSB2aXN1YWxpemUgc2NyZWVuIHdpdGhvdXQgYSB2ZWhpY2xlIGNvbmZpZ3VyYXRpb24gb3IgdGlyZSBvcHRpb24uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB2ZWhpY2xlQ2hhbmdlZCA9ICFSaWRlU3R5bGVyU2hvd2Nhc2UuR1VJREhlbHBlci5hcmVFcXVhbChzdGF0ZURhdGEuY3VycmVudFZlaGljbGVDb25maWd1cmF0aW9uSUQsIHRoaXMudmVoaWNsZUNvbmZpZ3VyYXRpb25JRCk7XG4gICAgICAgICAgICAgICAgdmFyIHRpcmVPcHRpb25DaGFuZ2VkID0gIVJpZGVTdHlsZXJTaG93Y2FzZS5HVUlESGVscGVyLmFyZUVxdWFsKHN0YXRlRGF0YS5jdXJyZW50VmVoaWNsZVRpcmVPcHRpb25JRCwgdGhpcy52ZWhpY2xlVGlyZU9wdGlvbklEKTtcbiAgICAgICAgICAgICAgICBpZiAodmVoaWNsZUNoYW5nZWQgfHwgdGlyZU9wdGlvbkNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlQ29uZmlndXJhdGlvbklEID0gc3RhdGVEYXRhLmN1cnJlbnRWZWhpY2xlQ29uZmlndXJhdGlvbklEO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVEZXNjcmlwdGlvbiA9IHN0YXRlRGF0YS5jdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVUaXJlT3B0aW9uSUQgPSBzdGF0ZURhdGEuY3VycmVudFZlaGljbGVUaXJlT3B0aW9uSUQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZVRpcmVPcHRpb25EZXNjcmlwdGlvbiA9IHN0YXRlRGF0YS5jdXJyZW50VmVoaWNsZVRpcmVPcHRpb25EZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblZlaGljbGVDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblZlaGljbGVDaGFuZ2VkJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblZlaGljbGVDaGFuZ2VkKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuZW1wdHkodGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50Q29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGN1c3RvbWl6YXRpb24gY29udGFpbmVyIGFzIGxvYWRpbmcgd2hpbGUgd2UncmUgbG9hZGluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gICAgICAgICAgICAgICAgLy8gYWJvdXQgdGhlIHZlaGljbGVcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRDb250YWluZXIuY2xhc3NMaXN0LmFkZChsb2FkaW5nQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGFicygpO1xuICAgICAgICAgICAgICAgIC8vIERlc2VsZWN0IGFueSBhY3RpdmUgdGFiXG4gICAgICAgICAgICAgICAgdGhpcy50YWJCYXIuY2xlYXJBY3RpdmVUYWIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaW4nKTtcbiAgICAgICAgICAgICAgICAvLyBMb2FkIHRoZSB2ZWhpY2xlJ3MgZGVzY3JpcHRpb24gbW9kZWxcbiAgICAgICAgICAgICAgICB2YXIgZ2V0VmVoaWNsZURlc2NyaXB0aW9uID0gUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwidmVoaWNsZS9nZXRkZXNjcmlwdGlvbnNcIiwge1xuICAgICAgICAgICAgICAgICAgICBDb3VudDogMSxcbiAgICAgICAgICAgICAgICAgICAgVmVoaWNsZUNvbmZpZ3VyYXRpb246IHRoaXMudmVoaWNsZUNvbmZpZ3VyYXRpb25JRFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBnZXRWZWhpY2xlVGlyZU9wdGlvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdCgndmVoaWNsZS9nZXR0aXJlb3B0aW9uZGV0YWlscycsIHtcbiAgICAgICAgICAgICAgICAgICAgVmVoaWNsZUNvbmZpZ3VyYXRpb246IHRoaXMudmVoaWNsZUNvbmZpZ3VyYXRpb25JRFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLmFsbChbZ2V0VmVoaWNsZURlc2NyaXB0aW9uLCBnZXRWZWhpY2xlVGlyZU9wdGlvbl0pLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmVoaWNsZURlc2NyaXB0aW9uID0gX3RoaXM1LnZlaGljbGVEZXNjcmlwdGlvbk1vZGVsID0gcmVzcG9uc2VzWzBdLkRlc2NyaXB0aW9uc1swXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZlaGljbGVUaXJlT3B0aW9uID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRUaXJlT3B0aW9uSUQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuR1VJREhlbHBlci5wYXJzZShfdGhpczUudmVoaWNsZVRpcmVPcHRpb25JRCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IHJlc3BvbnNlc1sxXS5EZXRhaWxzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpcmVPcHRpb24gPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUmlkZVN0eWxlclNob3djYXNlLkdVSURIZWxwZXIuYXJlRXF1YWwodGlyZU9wdGlvbi5UaXJlT3B0aW9uSUQsIHNlbGVjdGVkVGlyZU9wdGlvbklEKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWhpY2xlVGlyZU9wdGlvbiA9IHRpcmVPcHRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBfdGhpczUudmVoaWNsZVRpcmVPcHRpb24gPSB2ZWhpY2xlVGlyZU9wdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM1LnN0YXRlLmV4dGVuZERhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVoaWNsZUhhc0FuZ2xlZEltYWdlOiB2ZWhpY2xlRGVzY3JpcHRpb24uSGFzQW5nbGVkSW1hZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWhpY2xlSGFzU2lkZUltYWdlOiB2ZWhpY2xlRGVzY3JpcHRpb24uSGFzU2lkZUltYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRpcmVPcHRpb246IHZlaGljbGVUaXJlT3B0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbk1vZGVsOiB2ZWhpY2xlRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNS5pbml0aWFsaXplRm9yTmV3VmVoaWNsZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplRm9yTmV3VmVoaWNsZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUZvck5ld1ZlaGljbGUoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJJbnN0cnVjdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhYkJhci5zZXRBY3RpdmVUYWIodGhpcy50YWJzLnBhaW50KTtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNvbXBvbmVudHMgdGhhdCB3aWxsIGJlIHN3aXRjaGVkIHdpdGggdGhlIHRhYnNcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRzID0ge1xuICAgICAgICAgICAgICAgICAgICBwYWludDogbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yKHRoaXMuc2hvd2Nhc2UpLFxuICAgICAgICAgICAgICAgICAgICB3aGVlbHM6IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3Rvcih0aGlzLnNob3djYXNlKSxcbiAgICAgICAgICAgICAgICAgICAgdGlyZXM6IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yKHRoaXMuc2hvd2Nhc2UpLFxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zaW9uOiBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3Rvcih0aGlzLnNob3djYXNlKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93Y2FzZS5maWx0ZXJzLndoZWVsRmlsdGVycy5vbkZpbHRlcnNDaGFuZ2VkID0gZnVuY3Rpb24gKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmN1c3RvbWl6YXRpb25Db21wb25lbnRzLndoZWVscy5zZXRGaWx0ZXJzKGZpbHRlcnMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93Y2FzZS5maWx0ZXJzLnRpcmVGaWx0ZXJzLm9uRmlsdGVyc0NoYW5nZWQgPSBmdW5jdGlvbiAoZmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczYuY3VzdG9taXphdGlvbkNvbXBvbmVudHMudGlyZXMuc2V0RmlsdGVycyhmaWx0ZXJzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudHMucGFpbnQub25QYWludFNjaGVtZVNlbGVjdGVkID0gZnVuY3Rpb24gKHBhaW50U2NoZW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNi5jdXN0b21pemF0aW9uQ29tcG9uZW50cy5wYWludC5zZXRPcHRpb25Jc0xvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNi51cGRhdGVWaWV3cG9ydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBQYWludENvbG9yOiBwYWludFNjaGVtZS5Db2xvcnNbMF0uSGV4XG4gICAgICAgICAgICAgICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuY3VzdG9taXphdGlvbkNvbXBvbmVudHMucGFpbnQuc2V0T3B0aW9uSXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRzLndoZWVscy5wcm9kdWN0U2VsZWN0ZWRDYWxsYmFjayA9IGZ1bmN0aW9uIChtb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczYuY3VzdG9taXphdGlvbkNvbXBvbmVudHMud2hlZWxzLnNldE9wdGlvbklzTG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhblJlbmRlck9uQ3VycmVudEFuZ2xlID0gX3RoaXM2LmltYWdlVHlwZSA9PT0gMiAvKiBBbmdsZSAqLyAmJiBtb2RlbC5IYXNBbmdsZUltYWdlIHx8IF90aGlzNi5pbWFnZVR5cGUgPT09IDEgLyogU2lkZSAqLyAmJiBtb2RlbC5IYXNTaWRlSW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2FuUmVuZGVyT25DdXJyZW50QW5nbGUpIF90aGlzNi5zd2l0Y2hBbmdsZSgpO1xuICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoJ3doZWVsL2dldGZpdG1lbnRkZXNjcmlwdGlvbnMnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBWZWhpY2xlQ29uZmlndXJhdGlvbjogX3RoaXM2LnZlaGljbGVDb25maWd1cmF0aW9uSUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBXaGVlbE1vZGVsOiBtb2RlbC5XaGVlbE1vZGVsSURcbiAgICAgICAgICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXRtZW50cyA9IHJlc3BvbnNlLkZpdG1lbnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJlc3RGaXRtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldERpYW1ldGVyID0gX3RoaXM2LnZlaGljbGVUaXJlT3B0aW9uLkZyb250Lkluc2lkZURpYW1ldGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgZml0bWVudHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhRGlmZiA9IE1hdGguYWJzKGEuRGlhbWV0ZXJNaW4gLSB0YXJnZXREaWFtZXRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJEaWZmID0gTWF0aC5hYnMoYi5EaWFtZXRlck1pbiAtIHRhcmdldERpYW1ldGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYURpZmYgLSBiRGlmZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmVzdEZpdG1lbnQgPSBmaXRtZW50c1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5zdGF0ZS5leHRlbmREYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2hlZWw6IG1vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRXaGVlbEZpdG1lbnQ6IGJlc3RGaXRtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5jaGFuZ2VXaGVlbFNpemUuc2V0Rml0bWVudE9wdGlvbnMoZml0bWVudHMsIGJlc3RGaXRtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5jaGFuZ2VXaGVlbFNpemUuY29tcG9uZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi51cGRhdGVWaWV3cG9ydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV2hlZWxGaXRtZW50OiBiZXN0Rml0bWVudC5XaGVlbEZpdG1lbnRJRFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuY3VzdG9taXphdGlvbkNvbXBvbmVudHMud2hlZWxzLnNldE9wdGlvbklzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmN1c3RvbWl6YXRpb25Db21wb25lbnRzLndoZWVscy5zZXRPcHRpb25Jc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudHMudGlyZXMucHJvZHVjdFNlbGVjdGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LnN0YXRlLmV4dGVuZERhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRpcmU6IG1vZGVsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50cy5zdXNwZW5zaW9uLnN1c3BlbnNpb25DaGFuZ2VDYWxsYmFjayA9IGZ1bmN0aW9uIChyZW5kZXJVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LnVwZGF0ZVZpZXdwb3J0KHJlbmRlclVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQodGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50cy53aGVlbHMpO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5nZXRWYWx1ZXModGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50cylbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDQ7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSAoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXN0b21pemF0aW9uQ29tcG9uZW50ID0gX3N0ZXA0LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21pemF0aW9uQ29tcG9uZW50LmNvbXBvbmVudC5jbGFzc0xpc3QuYWRkKCdyaWRlc3R5bGVyLXNob3djYXNlLWN1c3RvbWl6YXRpb24tY29tcG9uZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRDb250YWluZXIuYXBwZW5kQ2hpbGQoY3VzdG9taXphdGlvbkNvbXBvbmVudC5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yNCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNCA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCAmJiBfaXRlcmF0b3I0LnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZVR5cGUgPSAyIC8qIEFuZ2xlICovO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy52ZWhpY2xlRGVzY3JpcHRpb25Nb2RlbC5IYXNBbmdsZWRJbWFnZSkgdGhpcy5pbWFnZVR5cGUgPSAxIC8qIFNpZGUgKi87XG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSB0aGlzLmNhblN3aXRjaEFuZ2xlKCkgPyAnJyA6ICdub25lJztcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0KHtcbiAgICAgICAgICAgICAgICAgICAgVmVoaWNsZUNvbmZpZ3VyYXRpb246IHRoaXMudmVoaWNsZUNvbmZpZ3VyYXRpb25JRCxcbiAgICAgICAgICAgICAgICAgICAgVmVoaWNsZVRpcmVPcHRpb246IHRoaXMudmVoaWNsZVRpcmVPcHRpb25JRCxcbiAgICAgICAgICAgICAgICAgICAgUG9zaXRpb25YOiAxIC8qIENlbnRlciAqL1xuICAgICAgICAgICAgICAgICAgICAsIFBvc2l0aW9uWTogMiAvKiBGYXIgKi9cbiAgICAgICAgICAgICAgICAgICAgLCBUeXBlOiB0aGlzLmltYWdlVHlwZVxuICAgICAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczYucm90YXRlRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpbicpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKGxvYWRpbmdDbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldEFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQoY3VzdG9taXphdGlvbkNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0ZURhdGEgPSB0aGlzLnN0YXRlLmdldERhdGEoKTtcbiAgICAgICAgICAgICAgICB2YXIgY29tcG9uZW50S2V5ID0gdGhpcy5nZXRDb21wb25lbnRLZXkoY3VzdG9taXphdGlvbkNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50U2V0dGluZ3NbY29tcG9uZW50S2V5XTtcbiAgICAgICAgICAgICAgICB2YXIgdGFiID0gdGhpcy50YWJzW2NvbXBvbmVudEtleV07XG4gICAgICAgICAgICAgICAgaWYgKHRhYikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYkJhci5zZXRBY3RpdmVUYWIodGFiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlQ3VzdG9taXphdGlvbkNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQuY29tcG9uZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2luJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1c3RvbWl6YXRpb25Db21wb25lbnQuY29tcG9uZW50LmNsYXNzTGlzdC5hZGQoJ2luJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50ID0gY3VzdG9taXphdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGN1c3RvbWl6YXRpb25Db21wb25lbnQudXBkYXRlID09PSAnZnVuY3Rpb24nKSBjdXN0b21pemF0aW9uQ29tcG9uZW50LnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlV2hlZWxTaXplLmNvbXBvbmVudC5zdHlsZS5kaXNwbGF5ID0gY3VzdG9taXphdGlvbkNvbXBvbmVudCBpbnN0YW5jZW9mIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yICYmIHN0YXRlRGF0YS5jdXJyZW50V2hlZWwgPyAnJyA6ICdub25lJztcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gc2V0dGluZ3Muc2hvd0ZpbHRlckJ1dHRvbiA/ICcnIDogJ25vbmUnO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLnNldFRleHQodGhpcy50aXRsZUVsZW1lbnQsIHNldHRpbmdzLnRpdGxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZ2V0Q29tcG9uZW50S2V5JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb21wb25lbnRLZXkoY3VzdG9taXphdGlvbkNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQgPT09IGN1c3RvbWl6YXRpb25Db21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZVZpZXdwb3J0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVWaWV3cG9ydChpbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuY3VycmVudFJlbmRlckluc3RydWN0aW9ucywgaW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3cG9ydC5VcGRhdGUoaW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY2FuU3dpdGNoQW5nbGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNhblN3aXRjaEFuZ2xlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZlaGljbGVEZXNjcmlwdGlvbk1vZGVsLkhhc0FuZ2xlZEltYWdlICYmIHRoaXMudmVoaWNsZURlc2NyaXB0aW9uTW9kZWwuSGFzU2lkZUltYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzaG93RmlsdGVycycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0ZpbHRlcnMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQgPSB0aGlzLmFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlck1vZGFsID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50ID09PSB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRzLnRpcmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlck1vZGFsID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbCh0aGlzLnNob3djYXNlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJQcm92aWRlcjogdGhpcy5zaG93Y2FzZS5maWx0ZXJzLnRpcmVGaWx0ZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvdW50VGV4dEZvcm1hdDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzaG93LWNvdW50LWZvcm1hdC10aXJlcycpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlQ3VzdG9taXphdGlvbkNvbXBvbmVudCA9PT0gdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50cy53aGVlbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyTW9kYWwgPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZUZpbHRlck1vZGFsKHRoaXMuc2hvd2Nhc2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclByb3ZpZGVyOiB0aGlzLnNob3djYXNlLmZpbHRlcnMud2hlZWxGaWx0ZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvdW50VGV4dEZvcm1hdDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzaG93LWNvdW50LWZvcm1hdC13aGVlbHMnKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlck1vZGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlck1vZGFsLnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3N3aXRjaEFuZ2xlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzd2l0Y2hBbmdsZSgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2FuU3dpdGNoQW5nbGUoKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmltYWdlVHlwZSA9PT0gMiAvKiBBbmdsZSAqLykgdGhpcy5pbWFnZVR5cGUgPSAxIC8qIFNpZGUgKi87ZWxzZSB0aGlzLmltYWdlVHlwZSA9IDIgLyogQW5nbGUgKi87XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydCh7XG4gICAgICAgICAgICAgICAgICAgIFR5cGU6IHRoaXMuaW1hZ2VUeXBlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb247XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuTWFpbkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVWaXN1YWxpemF0aW9uID0gUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb247XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbCA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJFIpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkUik7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbChzaG93Y2FzZUluc3RhbmNlLCB3aGVlbE1vZGVsKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbCk7XG5cbiAgICAgICAgICAgIC8vIEltYWdlXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UpKTtcblxuICAgICAgICAgICAgX3RoaXMuaW1hZ2UudXBkYXRlKHtcbiAgICAgICAgICAgICAgICBXaGVlbEZpdG1lbnRSZXNvdXJjZVR5cGU6IDMgLyogQ2F0YWxvZyAqL1xuICAgICAgICAgICAgICAgICwgV2hlZWxNb2RlbDogd2hlZWxNb2RlbC5XaGVlbE1vZGVsSURcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gQnJhbmRcbiAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLnNldFRleHQoX3RoaXMuYnJhbmRUaXRsZUVsZW1lbnQsIHdoZWVsTW9kZWwuV2hlZWxCcmFuZE5hbWUpO1xuICAgICAgICAgICAgLy8gTW9kZWwgTmFtZVxuICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuc2V0VGV4dChfdGhpcy50aXRsZUVsZW1lbnQsIHdoZWVsTW9kZWwuV2hlZWxNb2RlbE5hbWUpO1xuICAgICAgICAgICAgLy8gRmluaXNoXG4gICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5zZXRUZXh0KF90aGlzLnN1YnRpdGxlRWxlbWVudCwgd2hlZWxNb2RlbC5XaGVlbE1vZGVsRmluaXNoRGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgLy8gU3VtbWFyeSBUYWJsZVxuICAgICAgICAgICAgX3RoaXMuc3VtbWFyeVRhYmxlID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZShfdGhpcy5zaG93Y2FzZSwge1xuICAgICAgICAgICAgICAgIGNvbHVtbnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcjogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzaXplJyksXG4gICAgICAgICAgICAgICAgICAgIGNlbGw6ICdzaXplJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3ByaWNlJyksXG4gICAgICAgICAgICAgICAgICAgIGNlbGw6ICdwcmljZSdcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBzdGFydExvYWRpbmc6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuc3VtbWFyeUVsZW1lbnQuYXBwZW5kQ2hpbGQoX3RoaXMuc3VtbWFyeVRhYmxlLmNvbXBvbmVudCk7XG4gICAgICAgICAgICBfdGhpcy5idWlsZFNwZWNzUGFnZSgpO1xuICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KCd3aGVlbC9nZXRmaXRtZW50ZGVzY3JpcHRpb25zJywge1xuICAgICAgICAgICAgICAgIFdoZWVsTW9kZWw6IHdoZWVsTW9kZWwuV2hlZWxNb2RlbElELFxuICAgICAgICAgICAgICAgIEluY2x1ZGVQcm9tb3Rpb25zOiB0cnVlLFxuICAgICAgICAgICAgICAgIEluY2x1ZGVQcmljaW5nOiB0cnVlXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnN1bW1hcnlUYWJsZS5hcHBlbmRSb3dzKF90aGlzLmJ1aWxkU3VtbWFyeVRhYmxlKHJlc3BvbnNlLkZpdG1lbnRzKSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3BlY3NUYWJsZS5hcHBlbmRSb3dzKHJlc3BvbnNlLkZpdG1lbnRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwsIFt7XG4gICAgICAgICAgICBrZXk6ICdidWlsZFN1bW1hcnlUYWJsZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRTdW1tYXJ5VGFibGUoZml0bWVudHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWxsU2l6ZVByaWNlQ29tYmluYXRpb25zID0gW107XG4gICAgICAgICAgICAgICAgLy8gR2V0IGEgbGlzdCBvZiBlYWNoIGZpdG1lbnQgc2l6ZS9wcmljZSBjb21iaW5hdGlvblxuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBmaXRtZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXRtZW50ID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXRtZW50UHJpY2UgPSBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsLmdldEZpdG1lbnRSZXRhaWxQcmljZURhdGFPYmplY3QoZml0bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZml0bWVudFByaWNlQW1vdW50ID0gZml0bWVudFByaWNlID8gZml0bWVudFByaWNlLldoZWVsUHJpY2luZ0Ftb3VudCA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNpemVQcmljZUNvbWJpbmF0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFtZXRlcjogZml0bWVudC5EaWFtZXRlck1pbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZml0bWVudC5XaWR0aE1pbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogZml0bWVudFByaWNlQW1vdW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNpemVQcmljZUNvbWJpbmF0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFtZXRlcjogZml0bWVudC5EaWFtZXRlck1pbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZml0bWVudC5XaWR0aE1heCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogZml0bWVudFByaWNlQW1vdW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNpemVQcmljZUNvbWJpbmF0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFtZXRlcjogZml0bWVudC5EaWFtZXRlck1heCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZml0bWVudC5XaWR0aE1pbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogZml0bWVudFByaWNlQW1vdW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNpemVQcmljZUNvbWJpbmF0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFtZXRlcjogZml0bWVudC5EaWFtZXRlck1heCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZml0bWVudC5XaWR0aE1heCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogZml0bWVudFByaWNlQW1vdW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHNpemVQcmljZVJhbmdlcyA9IHt9O1xuICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIHByaWNlIHJhbmdlcyBmb3IgZWFjaCB1bmlxdWUgc2l6ZSBkZXNjcmlwdGlvbiBjcmVhdGVkIGFib3ZlXG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBhbGxTaXplUHJpY2VDb21iaW5hdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXplUHJpY2VDb21ibyA9IF9zdGVwMi52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaWFtZXRlciA9IHNpemVQcmljZUNvbWJvLmRpYW1ldGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlID0gc2l6ZVByaWNlQ29tYm8ucHJpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBzaXplUHJpY2VDb21iby53aWR0aDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpemUgPSBkaWFtZXRlciArICfigLMgeCAnICsgd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJpY2VSYW5nZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaXplIGluIHNpemVQcmljZVJhbmdlcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZVJhbmdlID0gc2l6ZVByaWNlUmFuZ2VzW3NpemVdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW46IEluZmluaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IC1JbmZpbml0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlUmFuZ2UgPSBzaXplUHJpY2VSYW5nZXNbc2l6ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuTnVtYmVySGVscGVyLmV4dGVuZFJhbmdlKHByaWNlLCBwcmljZVJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBUcmFuc2xhdGUgc2l6ZVByaWNlUmFuZ2VzIGludG8gU3VtbWFyeVRhYmxlUm93c1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBzdW1tYXJ5VGFibGVSb3dzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIHByaWNlSXNVbnNwZWNpZmllZCA9IGZ1bmN0aW9uIHByaWNlSXNVbnNwZWNpZmllZChwcmljZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBQcmljZSBtdXN0IGJlIGEgbnVtYmVyLCBhbmQgbm90ICstIGluZmluaXR5XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgcHJpY2UgIT09ICdudW1iZXInIHx8IGlzTmFOKHByaWNlKSB8fCBwcmljZSA9PT0gSW5maW5pdHkgfHwgcHJpY2UgPT09IC1JbmZpbml0eTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHNpemUgaW4gc2l6ZVByaWNlUmFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2l6ZVByaWNlUmFuZ2VzLmhhc093blByb3BlcnR5KHNpemUpKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByaWNlUmFuZ2UgPSBzaXplUHJpY2VSYW5nZXNbc2l6ZV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmljZVN0cmluZyA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByaWNlSXNVbnNwZWNpZmllZChwcmljZVJhbmdlLm1pbikgfHwgcHJpY2VJc1Vuc3BlY2lmaWVkKHByaWNlUmFuZ2UubWF4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VTdHJpbmcgPSBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2NhbGwnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmljZVJhbmdlLm1pbiA9PT0gcHJpY2VSYW5nZS5tYXgpIHByaWNlU3RyaW5nID0gUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZm9ybWF0KCkuY3VycmVuY3kocHJpY2VSYW5nZS5taW4sICckJyk7ZWxzZSBwcmljZVN0cmluZyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmZvcm1hdCgpLmN1cnJlbmN5KHByaWNlUmFuZ2UubWluLCAnJCcpICsgJyAtICcgKyBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5mb3JtYXQoKS5jdXJyZW5jeShwcmljZVJhbmdlLm1heCwgJyQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5VGFibGVSb3dzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZVN0cmluZ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1bW1hcnlUYWJsZVJvd3M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2J1aWxkU3BlY3NQYWdlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZFNwZWNzUGFnZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNwZWNzVGFibGUgPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlKHRoaXMuc2hvd2Nhc2UsIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzaXplJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsOiBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsLmdldEZpdG1lbnRTaXplRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ29mZnNldCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbDogZnVuY3Rpb24gY2VsbChmaXRtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZS5mb3JtYXRDZWxsKGZpdG1lbnQsICdPZmZzZXRNaW4nLCAnbW0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2JvbHQtcGF0dGVybicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbDogJ0JvbHRQYXR0ZXJuRGVzY3JpcHRpb24nXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdjZW50ZXJib3JlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsOiBmdW5jdGlvbiBjZWxsKGZpdG1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlLmZvcm1hdENlbGwoZml0bWVudCwgJ0NlbnRlcmJvcmVNTScsICdtbScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI6ICdQcmljZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsOiBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsLmdldEZpdG1lbnRQcmljZVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnaXRlbS1udW1iZXInKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGw6IFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwuZ2V0Rml0bWVudEl0ZW1OdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgc3BlY3NDb250YWluZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc2Nyb2xsYWJsZScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZDogdGhpcy5zcGVjc1RhYmxlLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUGFnZSh7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogc3BlY3NDb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3NwZWNpZmljYXRpb25zJylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY3JlYXRlSW1hZ2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUltYWdlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJlc2l6ZWFibGVSZXNvdXJjZUltYWdlKHRoaXMuaW1hZ2VDb250YWluZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIndoZWVsL2ltYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIGJhc2VJbnN0cnVjdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBvc2l0aW9uWDogMSAvKiBDZW50ZXIgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICwgUG9zaXRpb25ZOiAyIC8qIEZhciAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgLCBJbmNsdWRlU2hhZG93OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0sIFt7XG4gICAgICAgICAgICBrZXk6ICdnZXRGaXRtZW50UmV0YWlsUHJpY2VEYXRhT2JqZWN0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGaXRtZW50UmV0YWlsUHJpY2VEYXRhT2JqZWN0KGZpdG1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZml0bWVudC5QcmljaW5nICYmIGZpdG1lbnQuUHJpY2luZ1snUmV0YWlsJ10gfHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdnZXRGaXRtZW50U2l6ZURlc2NyaXB0aW9uJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGaXRtZW50U2l6ZURlc2NyaXB0aW9uKGZpdG1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgRGlhbWV0ZXJNaW4gPSBmaXRtZW50LkRpYW1ldGVyTWluLFxuICAgICAgICAgICAgICAgICAgICBXaWR0aE1pbiA9IGZpdG1lbnQuV2lkdGhNaW47XG5cbiAgICAgICAgICAgICAgICBpZiAoIURpYW1ldGVyTWluIHx8ICFXaWR0aE1pbikgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZS5lbXB0eUNlbGxTdHJpbmc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERpYW1ldGVyTWluICsgJ1xcdTIwMzMgeCAnICsgV2lkdGhNaW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dldEZpdG1lbnRQcmljZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rml0bWVudFByaWNlKGZpdG1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9QcmljZVN0cmluZyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnY2FsbCcpO1xuICAgICAgICAgICAgICAgIHZhciByZXRhaWxQcmljZURhdGFPYmplY3QgPSBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsLmdldEZpdG1lbnRSZXRhaWxQcmljZURhdGFPYmplY3QoZml0bWVudCk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXRhaWxQcmljZURhdGFPYmplY3QpIHJldHVybiBub1ByaWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgIHZhciBwcmljZSA9IHJldGFpbFByaWNlRGF0YU9iamVjdC5XaGVlbFByaWNpbmdBbW91bnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByaWNlID8gUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZm9ybWF0KCkuY3VycmVuY3kocHJpY2UsICckJykgOiBub1ByaWNlU3RyaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdnZXRGaXRtZW50SXRlbU51bWJlcicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rml0bWVudEl0ZW1OdW1iZXIoZml0bWVudCkge1xuICAgICAgICAgICAgICAgIHZhciByZXRhaWxQcmljZURhdGFPYmplY3QgPSBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsLmdldEZpdG1lbnRSZXRhaWxQcmljZURhdGFPYmplY3QoZml0bWVudCk7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1OdW1iZXIgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgLy8gSXRlbSBudW1iZXIgaXMgdGhlIHJldGFpbCBwcmljaW5nIGl0ZW0gbnVtYmVyIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICBpZiAocmV0YWlsUHJpY2VEYXRhT2JqZWN0KSBpdGVtTnVtYmVyID0gcmV0YWlsUHJpY2VEYXRhT2JqZWN0LldoZWVsUHJpY2luZ0l0ZW1OdW1iZXI7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBubyByZXRhaWwgcHJpY2luZywgb3IgdGhlIHJldGFpbCBwcmljZSBkb2Vzbid0IGhhdmUgYSBpdGVtIG51bWJlciB1c2UgdGhlIGZpdG1lbnQncyBwYXJ0IG51bWJlclxuICAgICAgICAgICAgICAgIGlmICghaXRlbU51bWJlcikgaXRlbU51bWJlciA9IGZpdG1lbnQuUGFydE51bWJlcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbU51bWJlciB8fCBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFibGUuZW1wdHlDZWxsU3RyaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWw7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsID0gUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbDtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkUikge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3RvciwgX1JpZGVTdHlsZXJTaG93Y2FzZSRSKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yKHNob3djYXNlSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yKTtcblxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsU2VsZWN0b3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yKSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlKSk7XG5cbiAgICAgICAgICAgIHZhciBzdGF0ZURhdGEgPSBzaG93Y2FzZUluc3RhbmNlLnN0YXRlLmdldERhdGEoKTtcbiAgICAgICAgICAgIF90aGlzLnN1cHBvcnRlZFZlaGljbGVJbWFnZXJ5ID0ge1xuICAgICAgICAgICAgICAgIGFuZ2xlZDogc3RhdGVEYXRhLnZlaGljbGVIYXNBbmdsZWRJbWFnZSxcbiAgICAgICAgICAgICAgICBzaWRlOiBzdGF0ZURhdGEudmVoaWNsZUhhc1NpZGVJbWFnZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLnZlaGljbGVDb25maWd1cmF0aW9uSUQgPSBzdGF0ZURhdGEuY3VycmVudFZlaGljbGVDb25maWd1cmF0aW9uSUQ7XG4gICAgICAgICAgICBfdGhpcy5kZWZhdWx0RmlsdGVycyA9IHtcbiAgICAgICAgICAgICAgICBWZWhpY2xlQ29uZmlndXJhdGlvbjogc3RhdGVEYXRhLmN1cnJlbnRWZWhpY2xlQ29uZmlndXJhdGlvbklELFxuICAgICAgICAgICAgICAgIEhhc0NhdGFsb2dJbWFnZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBIYXNGaXRtZW50czogdHJ1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLmN1cnJlbnRGaWx0ZXJzID0gUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24oe30sIF90aGlzLmRlZmF1bHRGaWx0ZXJzKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yLCBbe1xuICAgICAgICAgICAga2V5OiBcImNvdW50UmVzdWx0c1wiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvdW50UmVzdWx0cyhmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwid2hlZWwvY291bnRtb2RlbHNcIiwgZmlsdGVycyksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuQ291bnQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJnZXRSZXN1bHRzXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVzdWx0cyhmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwid2hlZWwvZ2V0bW9kZWxkZXNjcmlwdGlvbnNcIiwgUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24oe1xuICAgICAgICAgICAgICAgICAgICBJbmNsdWRlTWV0YUtleXM6IFsnRGVzY3JpcHRpb24nLCAnSGlnaGxpZ2h0cyddLFxuICAgICAgICAgICAgICAgICAgICBIYXNGaXRtZW50czogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sIGZpbHRlcnMpKSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5Nb2RlbHM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJwcm9kdWN0RmlsdGVyXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcHJvZHVjdEZpbHRlcihwcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJwcm9kdWN0SW1hZ2VTb3VyY2VcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9kdWN0SW1hZ2VTb3VyY2UocHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByaWRlc3R5bGVyLndoZWVsLmltYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgV2hlZWxGaXRtZW50UmVzb3VyY2VUeXBlOiAzIC8qIENhdGFsb2cgKi9cbiAgICAgICAgICAgICAgICAgICAgLCBXaGVlbE1vZGVsOiBwcm9kdWN0LldoZWVsTW9kZWxJRCxcbiAgICAgICAgICAgICAgICAgICAgV2lkdGg6IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgSGVpZ2h0OiAxMDAsXG4gICAgICAgICAgICAgICAgICAgIFBvc2l0aW9uWDogMSAvKiBDZW50ZXIgKi9cbiAgICAgICAgICAgICAgICAgICAgLCBQb3NpdGlvblk6IDEgLyogQ2VudGVyICovXG4gICAgICAgICAgICAgICAgICAgICwgSW5jbHVkZVNoYWRvdzogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwicHJvZHVjdEltYWdlTGFiZWxzXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcHJvZHVjdEltYWdlTGFiZWxzKHByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBwcmltYXJ5OiBwcm9kdWN0LldoZWVsQnJhbmROYW1lLFxuICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnk6IHByb2R1Y3QuV2hlZWxNb2RlbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHRlcnRpYXJ5OiBwcm9kdWN0LldoZWVsTW9kZWxGaW5pc2hEZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3RvcjtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0U2VsZWN0b3IpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsU2VsZWN0b3IgPSBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXRpcmUtZGV0YWlscyc7XG5cbiAgICB2YXIgVGlyZURldGFpbHMgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRDKSB7XG4gICAgICAgIF9pbmhlcml0cyhUaXJlRGV0YWlscywgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBUaXJlRGV0YWlscygpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaXJlRGV0YWlscyk7XG5cbiAgICAgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVGlyZURldGFpbHMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUaXJlRGV0YWlscykpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFRpcmVEZXRhaWxzLCBbe1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZUNvbXBvbmVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbXBvbmVudCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudFdpdGhDbGFzcygnZGl2JywgY2xhc3NOYW1lICsgXCIgcmlkZXN0eWxlci1zaG93Y2FzZS1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLXRpdGxlJyArIFwiIHJpZGVzdHlsZXItc2hvd2Nhc2UtZGV0YWlscy10aXRsZVwiLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3RpcmUtZGV0YWlscycpLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRpcmVOYW1lRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLW5hbWUnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRpcmVEZXNjcmlwdGlvbkVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy1kZXNjcmlwdGlvbiByaWRlc3R5bGVyLXNob3djYXNlLWRldGFpbHMtc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5hZnRlckRhdGFDaGFuZ2UoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkRhdGFDaGFuZ2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uRGF0YUNoYW5nZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25EYXRhQ2hhbmdlKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFRpcmUgPSBkYXRhLmN1cnJlbnRUaXJlO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LnN0eWxlLmRpc3BsYXkgPSBjdXJyZW50VGlyZSA/ICcnIDogJ25vbmUnO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGlyZSkge1xuICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5zZXRUZXh0KHRoaXMudGlyZU5hbWVFbGVtZW50LCBjdXJyZW50VGlyZS5UaXJlQnJhbmROYW1lICsgJyAnICsgY3VycmVudFRpcmUuVGlyZU1vZGVsTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLnNldFRleHQodGhpcy50aXJlRGVzY3JpcHRpb25FbGVtZW50LCBjdXJyZW50VGlyZS5BdHRyaWJ1dGVzICYmIGN1cnJlbnRUaXJlLkF0dHJpYnV0ZXMubGVuZ3RoID8gY3VycmVudFRpcmUuQXR0cmlidXRlcy5qb2luKCcsICcpIDogJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBUaXJlRGV0YWlscztcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5Db21wb25lbnRCYXNlKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5UaXJlRGV0YWlscyA9IFRpcmVEZXRhaWxzO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXZlaGljbGUtZGV0YWlscyc7XG4gICAgdmFyIGZpcnN0UGFpbnRDb2xvciA9ICcjOTk5JztcblxuICAgIHZhciBWZWhpY2xlRGV0YWlscyA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJEMpIHtcbiAgICAgICAgX2luaGVyaXRzKFZlaGljbGVEZXRhaWxzLCBfUmlkZVN0eWxlclNob3djYXNlJEMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFZlaGljbGVEZXRhaWxzKCkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFZlaGljbGVEZXRhaWxzKTtcblxuICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChWZWhpY2xlRGV0YWlscy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFZlaGljbGVEZXRhaWxzKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoVmVoaWNsZURldGFpbHMsIFt7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplQ29tcG9uZW50KCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50V2l0aENsYXNzKCdkaXYnLCBjbGFzc05hbWUgKyBcIiByaWRlc3R5bGVyLXNob3djYXNlLWRldGFpbHNcIik7XG4gICAgICAgICAgICAgICAgLy8gVGl0bGVcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy10aXRsZScgKyBcIiByaWRlc3R5bGVyLXNob3djYXNlLWRldGFpbHMtdGl0bGVcIixcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCd2ZWhpY2xlLWRldGFpbHMnKSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gVmVoaWNsZSBEZXNjcmlwdGlvbi9QYWludCBTd2F0Y2ggQ29udGFpbmVyXG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctdmVoaWNsZScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZDogW1xuICAgICAgICAgICAgICAgICAgICAvLyBQYWludCBTd2F0Y2hcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlUGFpbnRTd2F0Y2hFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLXZlaGljbGUtc3dhdGNoIHJpZGVzdHlsZXItc2hvd2Nhc2UtcGFpbnQtc3dhdGNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBmaXJzdFBhaW50Q29sb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIC8vIFZlaGljbGUgRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlRGVzY3JpcHRpb25FbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLXZlaGljbGUtZGV0YWlscydcbiAgICAgICAgICAgICAgICAgICAgfSldLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBUaXJlIFNpemVcbiAgICAgICAgICAgICAgICB0aGlzLnRpcmVTaXplRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLXRpcmUtc2l6ZSByaWRlc3R5bGVyLXNob3djYXNlLWRldGFpbHMtc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gQ2hhbmdlIFZlaGljbGUgQnV0dG9uXG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlQnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLWNoYW5nZS12ZWhpY2xlJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2NoYW5nZS12ZWhpY2xlJyksXG4gICAgICAgICAgICAgICAgICAgIGxpbms6IHRydWVcbiAgICAgICAgICAgICAgICB9KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnN0YXRlLmNoYW5nZVN0YXRlKFJpZGVTdHlsZXJTaG93Y2FzZS5TdGF0ZXMuQ2hvb3NlVmVoaWNsZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gTGlzdGVuIGZvciBkYXRhIGNoYW5nZXNcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmFmdGVyRGF0YUNoYW5nZShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uRGF0YUNoYW5nZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBTd2l0Y2ggdG8gcGFpbnQgd2hlbiBjbGlja2luZyBvbiB0aGUgcGFpbnQgc3dhdGNoXG4gICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlUGFpbnRTd2F0Y2hFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF90aGlzMi5wYWludFN3YXRjaENsaWNrQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIF90aGlzMi5wYWludFN3YXRjaENsaWNrQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25EYXRhQ2hhbmdlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkRhdGFDaGFuZ2UoZGF0YSkge1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLnNldFRleHQodGhpcy52ZWhpY2xlRGVzY3JpcHRpb25FbGVtZW50LCBkYXRhLmN1cnJlbnRWZWhpY2xlRGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZVBhaW50U3dhdGNoRWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBkYXRhLmN1cnJlbnRQYWludFNjaGVtZSA/IGRhdGEuY3VycmVudFBhaW50U2NoZW1lLkNvbG9yc1swXS5IZXggOiBmaXJzdFBhaW50Q29sb3I7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuc2V0VGV4dCh0aGlzLnRpcmVTaXplRWxlbWVudCwgZGF0YS5jdXJyZW50VmVoaWNsZVRpcmVPcHRpb25EZXNjcmlwdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gVmVoaWNsZURldGFpbHM7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuVmVoaWNsZURldGFpbHMgPSBWZWhpY2xlRGV0YWlscztcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBjbGFzc05hbWUgPSAncmlkZXN0eWxlci1zaG93Y2FzZS13aGVlbC1kZXRhaWxzJztcblxuICAgIHZhciBXaGVlbERldGFpbHMgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRDKSB7XG4gICAgICAgIF9pbmhlcml0cyhXaGVlbERldGFpbHMsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkQyk7XG5cbiAgICAgICAgZnVuY3Rpb24gV2hlZWxEZXRhaWxzKCkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdoZWVsRGV0YWlscyk7XG5cbiAgICAgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoV2hlZWxEZXRhaWxzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoV2hlZWxEZXRhaWxzKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoV2hlZWxEZXRhaWxzLCBbe1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZUNvbXBvbmVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbXBvbmVudCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudFdpdGhDbGFzcygnZGl2JywgY2xhc3NOYW1lICsgXCIgcmlkZXN0eWxlci1zaG93Y2FzZS1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLXRpdGxlJyArIFwiIHJpZGVzdHlsZXItc2hvd2Nhc2UtZGV0YWlscy10aXRsZVwiLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3doZWVsLWRldGFpbHMnKSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy53aGVlbE5hbWVFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctbmFtZScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMud2hlZWxEZXNjcmlwdGlvbkVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy1kZXNjcmlwdGlvbiByaWRlc3R5bGVyLXNob3djYXNlLWRldGFpbHMtc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlQnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLWZlYXR1cmVzLXNwZWNzJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3doZWVsLWZlYXR1cmVzLXNwZWNzJyksXG4gICAgICAgICAgICAgICAgICAgIGxpbms6IHRydWVcbiAgICAgICAgICAgICAgICB9KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNob3dXaGVlbE1vZGFsKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5hZnRlckRhdGFDaGFuZ2UoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkRhdGFDaGFuZ2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3Nob3dXaGVlbE1vZGFsJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93V2hlZWxNb2RhbCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGVEYXRhID0gdGhpcy5zdGF0ZS5nZXREYXRhKCk7XG4gICAgICAgICAgICAgICAgbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsKHRoaXMuc2hvd2Nhc2UsIHN0YXRlRGF0YS5jdXJyZW50V2hlZWwpLnNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25EYXRhQ2hhbmdlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkRhdGFDaGFuZ2UoZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50V2hlZWwgPSBkYXRhLmN1cnJlbnRXaGVlbDtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFdoZWVsRml0bWVudCA9IGRhdGEuY3VycmVudFdoZWVsRml0bWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS5kaXNwbGF5ID0gY3VycmVudFdoZWVsID8gJycgOiAnbm9uZSc7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRXaGVlbCkge1xuICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5zZXRUZXh0KHRoaXMud2hlZWxOYW1lRWxlbWVudCwgY3VycmVudFdoZWVsLldoZWVsQnJhbmROYW1lICsgJyAnICsgY3VycmVudFdoZWVsLldoZWVsTW9kZWxOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRXaGVlbEZpdG1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaWFtZXRlciA9IGN1cnJlbnRXaGVlbEZpdG1lbnQuRGlhbWV0ZXJNaW4udG9TdHJpbmcoKSArICfigLMnO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRXaGVlbEZpdG1lbnQuRGlhbWV0ZXJNaW4gIT09IGN1cnJlbnRXaGVlbEZpdG1lbnQuRGlhbWV0ZXJNYXgpIGRpYW1ldGVyID0gJygnICsgY3VycmVudFdoZWVsRml0bWVudC5EaWFtZXRlck1pbiArICctJyArIGN1cnJlbnRXaGVlbEZpdG1lbnQuRGlhbWV0ZXJNYXggKyAnKeKAsyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5zZXRUZXh0KHRoaXMud2hlZWxEZXNjcmlwdGlvbkVsZW1lbnQsIGRpYW1ldGVyICsgJyAnICsgY3VycmVudFdoZWVsLldoZWVsTW9kZWxGaW5pc2hEZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5zZXRUZXh0KHRoaXMud2hlZWxEZXNjcmlwdGlvbkVsZW1lbnQsIGN1cnJlbnRXaGVlbC5XaGVlbE1vZGVsRmluaXNoRGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFdoZWVsRGV0YWlscztcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5Db21wb25lbnRCYXNlKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5XaGVlbERldGFpbHMgPSBXaGVlbERldGFpbHM7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgZmlsdGVyTW9kYWxDbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLWZpbHRlci1tb2RhbCc7XG4gICAgdmFyIGZpbHRlck1vZGFsTWVudVRpdGxlQ2xhc3MgPSBmaWx0ZXJNb2RhbENsYXNzICsgJy1tZW51LXRpdGxlJztcbiAgICB2YXIgY291bnRGb3JtYXRUb2tlbiA9ICd7Y291bnR9JztcblxuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbCA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJFIpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZUZpbHRlck1vZGFsLCBfUmlkZVN0eWxlclNob3djYXNlJFIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZUZpbHRlck1vZGFsKHNob3djYXNlSW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbCk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZUZpbHRlck1vZGFsKSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlLCB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlT25IaWRkZW46IHRydWVcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgX3RoaXMuZmlsdGVyUHJvdmlkZXIgPSBvcHRpb25zLmZpbHRlclByb3ZpZGVyO1xuICAgICAgICAgICAgX3RoaXMuc2hvd0NvdW50VGV4dEZvcm1hdCA9IG9wdGlvbnMuc2hvd0NvdW50VGV4dEZvcm1hdDtcbiAgICAgICAgICAgIF90aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QuYWRkKGZpbHRlck1vZGFsQ2xhc3MpO1xuICAgICAgICAgICAgX3RoaXMuYnVpbGRTaG93QnV0dG9uKCk7XG4gICAgICAgICAgICBfdGhpcy5idWlsZEZpbHRlck1lbnVzKCkuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlQ291bnQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuY29tcG9uZW50LmFwcGVuZENoaWxkKF90aGlzLnNob3dCdXR0b24pO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZUZpbHRlck1vZGFsLCBbe1xuICAgICAgICAgICAga2V5OiAnYnVpbGRGaWx0ZXJNZW51cycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRGaWx0ZXJNZW51cygpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHZhciBtZW51c0NvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGZpbHRlck1vZGFsQ2xhc3MgKyAnLW1lbnVzJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlclByb3ZpZGVyID0gdGhpcy5maWx0ZXJQcm92aWRlcjtcbiAgICAgICAgICAgICAgICB2YXIgbWVudUxvYWRlZFByb21pc2VzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRGaWx0ZXJzID0gZmlsdGVyUHJvdmlkZXIuZ2V0RmlsdGVycygpO1xuICAgICAgICAgICAgICAgIHRoaXMubWVudXMgPSBbXTtcblxuICAgICAgICAgICAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGZpbHRlck9wdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBzaG93IG5vbi12aXNpYmxlIGZpbHRlciBvcHRpb25zIG9yIGZpbHRlciBvcHRpb25zIHdpdGhvdXQgbGFiZWxzXG4gICAgICAgICAgICAgICAgICAgIGlmICghKGZpbHRlck9wdGlvbi52aXNpYmxlICE9PSBmYWxzZSAmJiBmaWx0ZXJPcHRpb24ubGFiZWwpKSByZXR1cm4gJ2NvbnRpbnVlJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lbnUgPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZU9wdGlvbk1lbnUoZmlsdGVyT3B0aW9uLmtleSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZW51Q29udGFpbmVyID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGZpbHRlck1vZGFsQ2xhc3MgKyAnLW1lbnUtY29udGFpbmVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBtZW51c0NvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZDogW1JpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogZmlsdGVyTW9kYWxNZW51VGl0bGVDbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBmaWx0ZXJPcHRpb24ubGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBtZW51LmNvbXBvbmVudF1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZW51TG9hZGVkUHJvbWlzZSA9IGZpbHRlclByb3ZpZGVyLnJldHJpZXZlT3B0aW9ucyhmaWx0ZXJPcHRpb24pLmRvbmUoZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMudW5zaGlmdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGZpbHRlck9wdGlvbi51bnNlbGVjdGVkT3B0aW9uTGFiZWwgfHwgUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdhbGwnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lbnUuc2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmlsdGVyT3B0aW9uLmdldFZhbHVlRnJvbUZpbHRlcnMgPT09ICdmdW5jdGlvbicpIG1lbnUuc2V0VmFsdWUoZmlsdGVyT3B0aW9uLmdldFZhbHVlRnJvbUZpbHRlcnMoY3VycmVudEZpbHRlcnMpKTtlbHNlIG1lbnUuc2V0VmFsdWUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG1lbnUub25DaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlQ291bnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgbWVudUxvYWRlZFByb21pc2VzLnB1c2gobWVudUxvYWRlZFByb21pc2UpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIubWVudXMucHVzaChtZW51KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGZpbHRlclByb3ZpZGVyLmZpbHRlck9wdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVyT3B0aW9uID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmV0ID0gX2xvb3AoZmlsdGVyT3B0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9yZXQgPT09ICdjb250aW51ZScpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIuYWxsKG1lbnVMb2FkZWRQcm9taXNlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2J1aWxkU2hvd0J1dHRvbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRTaG93QnV0dG9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93QnV0dG9uID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlQnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgbGFyZ2U6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2xvYWRpbmctZWxsaXBzaXMnKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmZpbHRlclByb3ZpZGVyLnNldEZpbHRlcnMoX3RoaXMzLmdldFZhbHVlcygpKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZ2V0VmFsdWVzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZXMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gdGhpcy5tZW51c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9tZW51ID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBfbWVudS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBfbWVudS52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdnZXRGaWx0ZXJzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGaWx0ZXJzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmZpbHRlclByb3ZpZGVyLnByZXZpZXdGaWx0ZXJzKHRoaXMuZ2V0VmFsdWVzKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd1cGRhdGVDb3VudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQ291bnQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNldENvdW50VGV4dChmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJQcm92aWRlci5nZXRDb3VudCh0aGlzLmdldEZpbHRlcnMoKSkuZG9uZShmdW5jdGlvbiAoY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNldENvdW50VGV4dChjb3VudCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldENvdW50VGV4dCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Q291bnRUZXh0KGNvdW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5zZXRUZXh0KHRoaXMuc2hvd0J1dHRvbiwgUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdsb2FkaW5nLWVsbGlwc2lzJykpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLnNldFRleHQodGhpcy5zaG93QnV0dG9uLCB0aGlzLnNob3dDb3VudFRleHRGb3JtYXQucmVwbGFjZShjb3VudEZvcm1hdFRva2VuLCBjb3VudC50b1N0cmluZygpKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0J1dHRvbi5kaXNhYmxlZCA9IGNvdW50ID09PSAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbDtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwgPSBSaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbDtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCIvKiEgbm91aXNsaWRlciAtIDEwLjEuMCAtIDIwMTctMDctMjggMTc6MTE6MTggKi9cblxuKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cbiAgICBpZiAoIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCApIHtcblxuICAgICAgICAvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG4gICAgICAgIGRlZmluZShbXSwgZmFjdG9yeSk7XG5cbiAgICB9IGVsc2UgaWYgKCB0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgKSB7XG5cbiAgICAgICAgLy8gTm9kZS9Db21tb25KU1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblxuICAgIH0gZWxzZSB7XG5cbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzXG4gICAgICAgIHdpbmRvdy5ub1VpU2xpZGVyID0gZmFjdG9yeSgpO1xuICAgIH1cblxufShmdW5jdGlvbiggKXtcblxuXHQndXNlIHN0cmljdCc7XG5cblx0dmFyIFZFUlNJT04gPSAnMTAuMS4wJztcblxuXG5cdGZ1bmN0aW9uIGlzVmFsaWRGb3JtYXR0ZXIgKCBlbnRyeSApIHtcblx0XHRyZXR1cm4gdHlwZW9mIGVudHJ5ID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgZW50cnkudG8gPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGVudHJ5LmZyb20gPT09ICdmdW5jdGlvbic7XG5cdH1cblxuXHRmdW5jdGlvbiByZW1vdmVFbGVtZW50ICggZWwgKSB7XG5cdFx0ZWwucGFyZW50RWxlbWVudC5yZW1vdmVDaGlsZChlbCk7XG5cdH1cblxuXHQvLyBCaW5kYWJsZSB2ZXJzaW9uXG5cdGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0ICggZSApIHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdH1cblxuXHQvLyBSZW1vdmVzIGR1cGxpY2F0ZXMgZnJvbSBhbiBhcnJheS5cblx0ZnVuY3Rpb24gdW5pcXVlICggYXJyYXkgKSB7XG5cdFx0cmV0dXJuIGFycmF5LmZpbHRlcihmdW5jdGlvbihhKXtcblx0XHRcdHJldHVybiAhdGhpc1thXSA/IHRoaXNbYV0gPSB0cnVlIDogZmFsc2U7XG5cdFx0fSwge30pO1xuXHR9XG5cblx0Ly8gUm91bmQgYSB2YWx1ZSB0byB0aGUgY2xvc2VzdCAndG8nLlxuXHRmdW5jdGlvbiBjbG9zZXN0ICggdmFsdWUsIHRvICkge1xuXHRcdHJldHVybiBNYXRoLnJvdW5kKHZhbHVlIC8gdG8pICogdG87XG5cdH1cblxuXHQvLyBDdXJyZW50IHBvc2l0aW9uIG9mIGFuIGVsZW1lbnQgcmVsYXRpdmUgdG8gdGhlIGRvY3VtZW50LlxuXHRmdW5jdGlvbiBvZmZzZXQgKCBlbGVtLCBvcmllbnRhdGlvbiApIHtcblxuXHRcdHZhciByZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHR2YXIgZG9jID0gZWxlbS5vd25lckRvY3VtZW50O1xuXHRcdHZhciBkb2NFbGVtID0gZG9jLmRvY3VtZW50RWxlbWVudDtcblx0XHR2YXIgcGFnZU9mZnNldCA9IGdldFBhZ2VPZmZzZXQoZG9jKTtcblxuXHRcdC8vIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBjb250YWlucyBsZWZ0IHNjcm9sbCBpbiBDaHJvbWUgb24gQW5kcm9pZC5cblx0XHQvLyBJIGhhdmVuJ3QgZm91bmQgYSBmZWF0dXJlIGRldGVjdGlvbiB0aGF0IHByb3ZlcyB0aGlzLiBXb3JzdCBjYXNlXG5cdFx0Ly8gc2NlbmFyaW8gb24gbWlzLW1hdGNoOiB0aGUgJ3RhcCcgZmVhdHVyZSBvbiBob3Jpem9udGFsIHNsaWRlcnMgYnJlYWtzLlxuXHRcdGlmICggL3dlYmtpdC4qQ2hyb21lLipNb2JpbGUvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICkge1xuXHRcdFx0cGFnZU9mZnNldC54ID0gMDtcblx0XHR9XG5cblx0XHRyZXR1cm4gb3JpZW50YXRpb24gPyAocmVjdC50b3AgKyBwYWdlT2Zmc2V0LnkgLSBkb2NFbGVtLmNsaWVudFRvcCkgOiAocmVjdC5sZWZ0ICsgcGFnZU9mZnNldC54IC0gZG9jRWxlbS5jbGllbnRMZWZ0KTtcblx0fVxuXG5cdC8vIENoZWNrcyB3aGV0aGVyIGEgdmFsdWUgaXMgbnVtZXJpY2FsLlxuXHRmdW5jdGlvbiBpc051bWVyaWMgKCBhICkge1xuXHRcdHJldHVybiB0eXBlb2YgYSA9PT0gJ251bWJlcicgJiYgIWlzTmFOKCBhICkgJiYgaXNGaW5pdGUoIGEgKTtcblx0fVxuXG5cdC8vIFNldHMgYSBjbGFzcyBhbmQgcmVtb3ZlcyBpdCBhZnRlciBbZHVyYXRpb25dIG1zLlxuXHRmdW5jdGlvbiBhZGRDbGFzc0ZvciAoIGVsZW1lbnQsIGNsYXNzTmFtZSwgZHVyYXRpb24gKSB7XG5cdFx0aWYgKGR1cmF0aW9uID4gMCkge1xuXHRcdGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XG5cdFx0XHR9LCBkdXJhdGlvbik7XG5cdFx0fVxuXHR9XG5cblx0Ly8gTGltaXRzIGEgdmFsdWUgdG8gMCAtIDEwMFxuXHRmdW5jdGlvbiBsaW1pdCAoIGEgKSB7XG5cdFx0cmV0dXJuIE1hdGgubWF4KE1hdGgubWluKGEsIDEwMCksIDApO1xuXHR9XG5cblx0Ly8gV3JhcHMgYSB2YXJpYWJsZSBhcyBhbiBhcnJheSwgaWYgaXQgaXNuJ3Qgb25lIHlldC5cblx0Ly8gTm90ZSB0aGF0IGFuIGlucHV0IGFycmF5IGlzIHJldHVybmVkIGJ5IHJlZmVyZW5jZSFcblx0ZnVuY3Rpb24gYXNBcnJheSAoIGEgKSB7XG5cdFx0cmV0dXJuIEFycmF5LmlzQXJyYXkoYSkgPyBhIDogW2FdO1xuXHR9XG5cblx0Ly8gQ291bnRzIGRlY2ltYWxzXG5cdGZ1bmN0aW9uIGNvdW50RGVjaW1hbHMgKCBudW1TdHIgKSB7XG5cdFx0bnVtU3RyID0gU3RyaW5nKG51bVN0cik7XG5cdFx0dmFyIHBpZWNlcyA9IG51bVN0ci5zcGxpdChcIi5cIik7XG5cdFx0cmV0dXJuIHBpZWNlcy5sZW5ndGggPiAxID8gcGllY2VzWzFdLmxlbmd0aCA6IDA7XG5cdH1cblxuXHQvLyBodHRwOi8veW91bWlnaHRub3RuZWVkanF1ZXJ5LmNvbS8jYWRkX2NsYXNzXG5cdGZ1bmN0aW9uIGFkZENsYXNzICggZWwsIGNsYXNzTmFtZSApIHtcblx0XHRpZiAoIGVsLmNsYXNzTGlzdCApIHtcblx0XHRcdGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWwuY2xhc3NOYW1lICs9ICcgJyArIGNsYXNzTmFtZTtcblx0XHR9XG5cdH1cblxuXHQvLyBodHRwOi8veW91bWlnaHRub3RuZWVkanF1ZXJ5LmNvbS8jcmVtb3ZlX2NsYXNzXG5cdGZ1bmN0aW9uIHJlbW92ZUNsYXNzICggZWwsIGNsYXNzTmFtZSApIHtcblx0XHRpZiAoIGVsLmNsYXNzTGlzdCApIHtcblx0XHRcdGVsLmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWwuY2xhc3NOYW1lID0gZWwuY2xhc3NOYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnKF58XFxcXGIpJyArIGNsYXNzTmFtZS5zcGxpdCgnICcpLmpvaW4oJ3wnKSArICcoXFxcXGJ8JCknLCAnZ2knKSwgJyAnKTtcblx0XHR9XG5cdH1cblxuXHQvLyBodHRwczovL3BsYWluanMuY29tL2phdmFzY3JpcHQvYXR0cmlidXRlcy9hZGRpbmctcmVtb3ZpbmctYW5kLXRlc3RpbmctZm9yLWNsYXNzZXMtOS9cblx0ZnVuY3Rpb24gaGFzQ2xhc3MgKCBlbCwgY2xhc3NOYW1lICkge1xuXHRcdHJldHVybiBlbC5jbGFzc0xpc3QgPyBlbC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSA6IG5ldyBSZWdFeHAoJ1xcXFxiJyArIGNsYXNzTmFtZSArICdcXFxcYicpLnRlc3QoZWwuY2xhc3NOYW1lKTtcblx0fVxuXG5cdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3cvc2Nyb2xsWSNOb3Rlc1xuXHRmdW5jdGlvbiBnZXRQYWdlT2Zmc2V0ICggZG9jICkge1xuXG5cdFx0dmFyIHN1cHBvcnRQYWdlT2Zmc2V0ID0gd2luZG93LnBhZ2VYT2Zmc2V0ICE9PSB1bmRlZmluZWQ7XG5cdFx0dmFyIGlzQ1NTMUNvbXBhdCA9ICgoZG9jLmNvbXBhdE1vZGUgfHwgXCJcIikgPT09IFwiQ1NTMUNvbXBhdFwiKTtcblx0XHR2YXIgeCA9IHN1cHBvcnRQYWdlT2Zmc2V0ID8gd2luZG93LnBhZ2VYT2Zmc2V0IDogaXNDU1MxQ29tcGF0ID8gZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IDogZG9jLmJvZHkuc2Nyb2xsTGVmdDtcblx0XHR2YXIgeSA9IHN1cHBvcnRQYWdlT2Zmc2V0ID8gd2luZG93LnBhZ2VZT2Zmc2V0IDogaXNDU1MxQ29tcGF0ID8gZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgOiBkb2MuYm9keS5zY3JvbGxUb3A7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0eDogeCxcblx0XHRcdHk6IHlcblx0XHR9O1xuXHR9XG5cblx0Ly8gd2UgcHJvdmlkZSBhIGZ1bmN0aW9uIHRvIGNvbXB1dGUgY29uc3RhbnRzIGluc3RlYWRcblx0Ly8gb2YgYWNjZXNzaW5nIHdpbmRvdy4qIGFzIHNvb24gYXMgdGhlIG1vZHVsZSBuZWVkcyBpdFxuXHQvLyBzbyB0aGF0IHdlIGRvIG5vdCBjb21wdXRlIGFueXRoaW5nIGlmIG5vdCBuZWVkZWRcblx0ZnVuY3Rpb24gZ2V0QWN0aW9ucyAoICkge1xuXG5cdFx0Ly8gRGV0ZXJtaW5lIHRoZSBldmVudHMgdG8gYmluZC4gSUUxMSBpbXBsZW1lbnRzIHBvaW50ZXJFdmVudHMgd2l0aG91dFxuXHRcdC8vIGEgcHJlZml4LCB3aGljaCBicmVha3MgY29tcGF0aWJpbGl0eSB3aXRoIHRoZSBJRTEwIGltcGxlbWVudGF0aW9uLlxuXHRcdHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnBvaW50ZXJFbmFibGVkID8ge1xuXHRcdFx0c3RhcnQ6ICdwb2ludGVyZG93bicsXG5cdFx0XHRtb3ZlOiAncG9pbnRlcm1vdmUnLFxuXHRcdFx0ZW5kOiAncG9pbnRlcnVwJ1xuXHRcdH0gOiB3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQgPyB7XG5cdFx0XHRzdGFydDogJ01TUG9pbnRlckRvd24nLFxuXHRcdFx0bW92ZTogJ01TUG9pbnRlck1vdmUnLFxuXHRcdFx0ZW5kOiAnTVNQb2ludGVyVXAnXG5cdFx0fSA6IHtcblx0XHRcdHN0YXJ0OiAnbW91c2Vkb3duIHRvdWNoc3RhcnQnLFxuXHRcdFx0bW92ZTogJ21vdXNlbW92ZSB0b3VjaG1vdmUnLFxuXHRcdFx0ZW5kOiAnbW91c2V1cCB0b3VjaGVuZCdcblx0XHR9O1xuXHR9XG5cblx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL1dJQ0cvRXZlbnRMaXN0ZW5lck9wdGlvbnMvYmxvYi9naC1wYWdlcy9leHBsYWluZXIubWRcblx0Ly8gSXNzdWUgIzc4NVxuXHRmdW5jdGlvbiBnZXRTdXBwb3J0c1Bhc3NpdmUgKCApIHtcblxuXHRcdHZhciBzdXBwb3J0c1Bhc3NpdmUgPSBmYWxzZTtcblxuXHRcdHRyeSB7XG5cblx0XHRcdHZhciBvcHRzID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAncGFzc2l2ZScsIHtcblx0XHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRzdXBwb3J0c1Bhc3NpdmUgPSB0cnVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblxuXHRcdFx0d2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Rlc3QnLCBudWxsLCBvcHRzKTtcblxuXHRcdH0gY2F0Y2ggKGUpIHt9XG5cblx0XHRyZXR1cm4gc3VwcG9ydHNQYXNzaXZlO1xuXHR9XG5cblx0ZnVuY3Rpb24gZ2V0U3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUgKCApIHtcblx0XHRyZXR1cm4gd2luZG93LkNTUyAmJiBDU1Muc3VwcG9ydHMgJiYgQ1NTLnN1cHBvcnRzKCd0b3VjaC1hY3Rpb24nLCAnbm9uZScpO1xuXHR9XG5cblxuLy8gVmFsdWUgY2FsY3VsYXRpb25cblxuXHQvLyBEZXRlcm1pbmUgdGhlIHNpemUgb2YgYSBzdWItcmFuZ2UgaW4gcmVsYXRpb24gdG8gYSBmdWxsIHJhbmdlLlxuXHRmdW5jdGlvbiBzdWJSYW5nZVJhdGlvICggcGEsIHBiICkge1xuXHRcdHJldHVybiAoMTAwIC8gKHBiIC0gcGEpKTtcblx0fVxuXG5cdC8vIChwZXJjZW50YWdlKSBIb3cgbWFueSBwZXJjZW50IGlzIHRoaXMgdmFsdWUgb2YgdGhpcyByYW5nZT9cblx0ZnVuY3Rpb24gZnJvbVBlcmNlbnRhZ2UgKCByYW5nZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuICh2YWx1ZSAqIDEwMCkgLyAoIHJhbmdlWzFdIC0gcmFuZ2VbMF0gKTtcblx0fVxuXG5cdC8vIChwZXJjZW50YWdlKSBXaGVyZSBpcyB0aGlzIHZhbHVlIG9uIHRoaXMgcmFuZ2U/XG5cdGZ1bmN0aW9uIHRvUGVyY2VudGFnZSAoIHJhbmdlLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gZnJvbVBlcmNlbnRhZ2UoIHJhbmdlLCByYW5nZVswXSA8IDAgP1xuXHRcdFx0dmFsdWUgKyBNYXRoLmFicyhyYW5nZVswXSkgOlxuXHRcdFx0XHR2YWx1ZSAtIHJhbmdlWzBdICk7XG5cdH1cblxuXHQvLyAodmFsdWUpIEhvdyBtdWNoIGlzIHRoaXMgcGVyY2VudGFnZSBvbiB0aGlzIHJhbmdlP1xuXHRmdW5jdGlvbiBpc1BlcmNlbnRhZ2UgKCByYW5nZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuICgodmFsdWUgKiAoIHJhbmdlWzFdIC0gcmFuZ2VbMF0gKSkgLyAxMDApICsgcmFuZ2VbMF07XG5cdH1cblxuXG4vLyBSYW5nZSBjb252ZXJzaW9uXG5cblx0ZnVuY3Rpb24gZ2V0SiAoIHZhbHVlLCBhcnIgKSB7XG5cblx0XHR2YXIgaiA9IDE7XG5cblx0XHR3aGlsZSAoIHZhbHVlID49IGFycltqXSApe1xuXHRcdFx0aiArPSAxO1xuXHRcdH1cblxuXHRcdHJldHVybiBqO1xuXHR9XG5cblx0Ly8gKHBlcmNlbnRhZ2UpIElucHV0IGEgdmFsdWUsIGZpbmQgd2hlcmUsIG9uIGEgc2NhbGUgb2YgMC0xMDAsIGl0IGFwcGxpZXMuXG5cdGZ1bmN0aW9uIHRvU3RlcHBpbmcgKCB4VmFsLCB4UGN0LCB2YWx1ZSApIHtcblxuXHRcdGlmICggdmFsdWUgPj0geFZhbC5zbGljZSgtMSlbMF0gKXtcblx0XHRcdHJldHVybiAxMDA7XG5cdFx0fVxuXG5cdFx0dmFyIGogPSBnZXRKKCB2YWx1ZSwgeFZhbCApLCB2YSwgdmIsIHBhLCBwYjtcblxuXHRcdHZhID0geFZhbFtqLTFdO1xuXHRcdHZiID0geFZhbFtqXTtcblx0XHRwYSA9IHhQY3Rbai0xXTtcblx0XHRwYiA9IHhQY3Rbal07XG5cblx0XHRyZXR1cm4gcGEgKyAodG9QZXJjZW50YWdlKFt2YSwgdmJdLCB2YWx1ZSkgLyBzdWJSYW5nZVJhdGlvIChwYSwgcGIpKTtcblx0fVxuXG5cdC8vICh2YWx1ZSkgSW5wdXQgYSBwZXJjZW50YWdlLCBmaW5kIHdoZXJlIGl0IGlzIG9uIHRoZSBzcGVjaWZpZWQgcmFuZ2UuXG5cdGZ1bmN0aW9uIGZyb21TdGVwcGluZyAoIHhWYWwsIHhQY3QsIHZhbHVlICkge1xuXG5cdFx0Ly8gVGhlcmUgaXMgbm8gcmFuZ2UgZ3JvdXAgdGhhdCBmaXRzIDEwMFxuXHRcdGlmICggdmFsdWUgPj0gMTAwICl7XG5cdFx0XHRyZXR1cm4geFZhbC5zbGljZSgtMSlbMF07XG5cdFx0fVxuXG5cdFx0dmFyIGogPSBnZXRKKCB2YWx1ZSwgeFBjdCApLCB2YSwgdmIsIHBhLCBwYjtcblxuXHRcdHZhID0geFZhbFtqLTFdO1xuXHRcdHZiID0geFZhbFtqXTtcblx0XHRwYSA9IHhQY3Rbai0xXTtcblx0XHRwYiA9IHhQY3Rbal07XG5cblx0XHRyZXR1cm4gaXNQZXJjZW50YWdlKFt2YSwgdmJdLCAodmFsdWUgLSBwYSkgKiBzdWJSYW5nZVJhdGlvIChwYSwgcGIpKTtcblx0fVxuXG5cdC8vIChwZXJjZW50YWdlKSBHZXQgdGhlIHN0ZXAgdGhhdCBhcHBsaWVzIGF0IGEgY2VydGFpbiB2YWx1ZS5cblx0ZnVuY3Rpb24gZ2V0U3RlcCAoIHhQY3QsIHhTdGVwcywgc25hcCwgdmFsdWUgKSB7XG5cblx0XHRpZiAoIHZhbHVlID09PSAxMDAgKSB7XG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXG5cdFx0dmFyIGogPSBnZXRKKCB2YWx1ZSwgeFBjdCApLCBhLCBiO1xuXG5cdFx0Ly8gSWYgJ3NuYXAnIGlzIHNldCwgc3RlcHMgYXJlIHVzZWQgYXMgZml4ZWQgcG9pbnRzIG9uIHRoZSBzbGlkZXIuXG5cdFx0aWYgKCBzbmFwICkge1xuXG5cdFx0XHRhID0geFBjdFtqLTFdO1xuXHRcdFx0YiA9IHhQY3Rbal07XG5cblx0XHRcdC8vIEZpbmQgdGhlIGNsb3Nlc3QgcG9zaXRpb24sIGEgb3IgYi5cblx0XHRcdGlmICgodmFsdWUgLSBhKSA+ICgoYi1hKS8yKSl7XG5cdFx0XHRcdHJldHVybiBiO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gYTtcblx0XHR9XG5cblx0XHRpZiAoICF4U3RlcHNbai0xXSApe1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdHJldHVybiB4UGN0W2otMV0gKyBjbG9zZXN0KFxuXHRcdFx0dmFsdWUgLSB4UGN0W2otMV0sXG5cdFx0XHR4U3RlcHNbai0xXVxuXHRcdCk7XG5cdH1cblxuXG4vLyBFbnRyeSBwYXJzaW5nXG5cblx0ZnVuY3Rpb24gaGFuZGxlRW50cnlQb2ludCAoIGluZGV4LCB2YWx1ZSwgdGhhdCApIHtcblxuXHRcdHZhciBwZXJjZW50YWdlO1xuXG5cdFx0Ly8gV3JhcCBudW1lcmljYWwgaW5wdXQgaW4gYW4gYXJyYXkuXG5cdFx0aWYgKCB0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIgKSB7XG5cdFx0XHR2YWx1ZSA9IFt2YWx1ZV07XG5cdFx0fVxuXG5cdFx0Ly8gUmVqZWN0IGFueSBpbnZhbGlkIGlucHV0LCBieSB0ZXN0aW5nIHdoZXRoZXIgdmFsdWUgaXMgYW4gYXJyYXkuXG5cdFx0aWYgKCBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoIHZhbHVlICkgIT09ICdbb2JqZWN0IEFycmF5XScgKXtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3JhbmdlJyBjb250YWlucyBpbnZhbGlkIHZhbHVlLlwiKTtcblx0XHR9XG5cblx0XHQvLyBDb3ZlcnQgbWluL21heCBzeW50YXggdG8gMCBhbmQgMTAwLlxuXHRcdGlmICggaW5kZXggPT09ICdtaW4nICkge1xuXHRcdFx0cGVyY2VudGFnZSA9IDA7XG5cdFx0fSBlbHNlIGlmICggaW5kZXggPT09ICdtYXgnICkge1xuXHRcdFx0cGVyY2VudGFnZSA9IDEwMDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cGVyY2VudGFnZSA9IHBhcnNlRmxvYXQoIGluZGV4ICk7XG5cdFx0fVxuXG5cdFx0Ly8gQ2hlY2sgZm9yIGNvcnJlY3QgaW5wdXQuXG5cdFx0aWYgKCAhaXNOdW1lcmljKCBwZXJjZW50YWdlICkgfHwgIWlzTnVtZXJpYyggdmFsdWVbMF0gKSApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3JhbmdlJyB2YWx1ZSBpc24ndCBudW1lcmljLlwiKTtcblx0XHR9XG5cblx0XHQvLyBTdG9yZSB2YWx1ZXMuXG5cdFx0dGhhdC54UGN0LnB1c2goIHBlcmNlbnRhZ2UgKTtcblx0XHR0aGF0LnhWYWwucHVzaCggdmFsdWVbMF0gKTtcblxuXHRcdC8vIE5hTiB3aWxsIGV2YWx1YXRlIHRvIGZhbHNlIHRvbywgYnV0IHRvIGtlZXBcblx0XHQvLyBsb2dnaW5nIGNsZWFyLCBzZXQgc3RlcCBleHBsaWNpdGx5LiBNYWtlIHN1cmVcblx0XHQvLyBub3QgdG8gb3ZlcnJpZGUgdGhlICdzdGVwJyBzZXR0aW5nIHdpdGggZmFsc2UuXG5cdFx0aWYgKCAhcGVyY2VudGFnZSApIHtcblx0XHRcdGlmICggIWlzTmFOKCB2YWx1ZVsxXSApICkge1xuXHRcdFx0XHR0aGF0LnhTdGVwc1swXSA9IHZhbHVlWzFdO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGF0LnhTdGVwcy5wdXNoKCBpc05hTih2YWx1ZVsxXSkgPyBmYWxzZSA6IHZhbHVlWzFdICk7XG5cdFx0fVxuXG5cdFx0dGhhdC54SGlnaGVzdENvbXBsZXRlU3RlcC5wdXNoKDApO1xuXHR9XG5cblx0ZnVuY3Rpb24gaGFuZGxlU3RlcFBvaW50ICggaSwgbiwgdGhhdCApIHtcblxuXHRcdC8vIElnbm9yZSAnZmFsc2UnIHN0ZXBwaW5nLlxuXHRcdGlmICggIW4gKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBGYWN0b3IgdG8gcmFuZ2UgcmF0aW9cblx0XHR0aGF0LnhTdGVwc1tpXSA9IGZyb21QZXJjZW50YWdlKFtcblx0XHRcdCB0aGF0LnhWYWxbaV1cblx0XHRcdCx0aGF0LnhWYWxbaSsxXVxuXHRcdF0sIG4pIC8gc3ViUmFuZ2VSYXRpbyAoXG5cdFx0XHR0aGF0LnhQY3RbaV0sXG5cdFx0XHR0aGF0LnhQY3RbaSsxXSApO1xuXG5cdFx0dmFyIHRvdGFsU3RlcHMgPSAodGhhdC54VmFsW2krMV0gLSB0aGF0LnhWYWxbaV0pIC8gdGhhdC54TnVtU3RlcHNbaV07XG5cdFx0dmFyIGhpZ2hlc3RTdGVwID0gTWF0aC5jZWlsKE51bWJlcih0b3RhbFN0ZXBzLnRvRml4ZWQoMykpIC0gMSk7XG5cdFx0dmFyIHN0ZXAgPSB0aGF0LnhWYWxbaV0gKyAodGhhdC54TnVtU3RlcHNbaV0gKiBoaWdoZXN0U3RlcCk7XG5cblx0XHR0aGF0LnhIaWdoZXN0Q29tcGxldGVTdGVwW2ldID0gc3RlcDtcblx0fVxuXG5cbi8vIEludGVyZmFjZVxuXG5cdGZ1bmN0aW9uIFNwZWN0cnVtICggZW50cnksIHNuYXAsIHNpbmdsZVN0ZXAgKSB7XG5cblx0XHR0aGlzLnhQY3QgPSBbXTtcblx0XHR0aGlzLnhWYWwgPSBbXTtcblx0XHR0aGlzLnhTdGVwcyA9IFsgc2luZ2xlU3RlcCB8fCBmYWxzZSBdO1xuXHRcdHRoaXMueE51bVN0ZXBzID0gWyBmYWxzZSBdO1xuXHRcdHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXAgPSBbXTtcblxuXHRcdHRoaXMuc25hcCA9IHNuYXA7XG5cblx0XHR2YXIgaW5kZXgsIG9yZGVyZWQgPSBbIC8qIFswLCAnbWluJ10sIFsxLCAnNTAlJ10sIFsyLCAnbWF4J10gKi8gXTtcblxuXHRcdC8vIE1hcCB0aGUgb2JqZWN0IGtleXMgdG8gYW4gYXJyYXkuXG5cdFx0Zm9yICggaW5kZXggaW4gZW50cnkgKSB7XG5cdFx0XHRpZiAoIGVudHJ5Lmhhc093blByb3BlcnR5KGluZGV4KSApIHtcblx0XHRcdFx0b3JkZXJlZC5wdXNoKFtlbnRyeVtpbmRleF0sIGluZGV4XSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gU29ydCBhbGwgZW50cmllcyBieSB2YWx1ZSAobnVtZXJpYyBzb3J0KS5cblx0XHRpZiAoIG9yZGVyZWQubGVuZ3RoICYmIHR5cGVvZiBvcmRlcmVkWzBdWzBdID09PSBcIm9iamVjdFwiICkge1xuXHRcdFx0b3JkZXJlZC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGFbMF1bMF0gLSBiWzBdWzBdOyB9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0b3JkZXJlZC5zb3J0KGZ1bmN0aW9uKGEsIGIpIHsgcmV0dXJuIGFbMF0gLSBiWzBdOyB9KTtcblx0XHR9XG5cblxuXHRcdC8vIENvbnZlcnQgYWxsIGVudHJpZXMgdG8gc3VicmFuZ2VzLlxuXHRcdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCBvcmRlcmVkLmxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdGhhbmRsZUVudHJ5UG9pbnQob3JkZXJlZFtpbmRleF1bMV0sIG9yZGVyZWRbaW5kZXhdWzBdLCB0aGlzKTtcblx0XHR9XG5cblx0XHQvLyBTdG9yZSB0aGUgYWN0dWFsIHN0ZXAgdmFsdWVzLlxuXHRcdC8vIHhTdGVwcyBpcyBzb3J0ZWQgaW4gdGhlIHNhbWUgb3JkZXIgYXMgeFBjdCBhbmQgeFZhbC5cblx0XHR0aGlzLnhOdW1TdGVwcyA9IHRoaXMueFN0ZXBzLnNsaWNlKDApO1xuXG5cdFx0Ly8gQ29udmVydCBhbGwgbnVtZXJpYyBzdGVwcyB0byB0aGUgcGVyY2VudGFnZSBvZiB0aGUgc3VicmFuZ2UgdGhleSByZXByZXNlbnQuXG5cdFx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IHRoaXMueE51bVN0ZXBzLmxlbmd0aDsgaW5kZXgrKyApIHtcblx0XHRcdGhhbmRsZVN0ZXBQb2ludChpbmRleCwgdGhpcy54TnVtU3RlcHNbaW5kZXhdLCB0aGlzKTtcblx0XHR9XG5cdH1cblxuXHRTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0TWFyZ2luID0gZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuXHRcdHZhciBzdGVwID0gdGhpcy54TnVtU3RlcHNbMF07XG5cblx0XHRpZiAoIHN0ZXAgJiYgKCh2YWx1ZSAvIHN0ZXApICUgMSkgIT09IDAgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdsaW1pdCcsICdtYXJnaW4nIGFuZCAncGFkZGluZycgbXVzdCBiZSBkaXZpc2libGUgYnkgc3RlcC5cIik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRoaXMueFBjdC5sZW5ndGggPT09IDIgPyBmcm9tUGVyY2VudGFnZSh0aGlzLnhWYWwsIHZhbHVlKSA6IGZhbHNlO1xuXHR9O1xuXG5cdFNwZWN0cnVtLnByb3RvdHlwZS50b1N0ZXBwaW5nID0gZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuXHRcdHZhbHVlID0gdG9TdGVwcGluZyggdGhpcy54VmFsLCB0aGlzLnhQY3QsIHZhbHVlICk7XG5cblx0XHRyZXR1cm4gdmFsdWU7XG5cdH07XG5cblx0U3BlY3RydW0ucHJvdG90eXBlLmZyb21TdGVwcGluZyA9IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHRyZXR1cm4gZnJvbVN0ZXBwaW5nKCB0aGlzLnhWYWwsIHRoaXMueFBjdCwgdmFsdWUgKTtcblx0fTtcblxuXHRTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0U3RlcCA9IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHR2YWx1ZSA9IGdldFN0ZXAodGhpcy54UGN0LCB0aGlzLnhTdGVwcywgdGhpcy5zbmFwLCB2YWx1ZSApO1xuXG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9O1xuXG5cdFNwZWN0cnVtLnByb3RvdHlwZS5nZXROZWFyYnlTdGVwcyA9IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHR2YXIgaiA9IGdldEoodmFsdWUsIHRoaXMueFBjdCk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0c3RlcEJlZm9yZTogeyBzdGFydFZhbHVlOiB0aGlzLnhWYWxbai0yXSwgc3RlcDogdGhpcy54TnVtU3RlcHNbai0yXSwgaGlnaGVzdFN0ZXA6IHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbai0yXSB9LFxuXHRcdFx0dGhpc1N0ZXA6IHsgc3RhcnRWYWx1ZTogdGhpcy54VmFsW2otMV0sIHN0ZXA6IHRoaXMueE51bVN0ZXBzW2otMV0sIGhpZ2hlc3RTdGVwOiB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW2otMV0gfSxcblx0XHRcdHN0ZXBBZnRlcjogeyBzdGFydFZhbHVlOiB0aGlzLnhWYWxbai0wXSwgc3RlcDogdGhpcy54TnVtU3RlcHNbai0wXSwgaGlnaGVzdFN0ZXA6IHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbai0wXSB9XG5cdFx0fTtcblx0fTtcblxuXHRTcGVjdHJ1bS5wcm90b3R5cGUuY291bnRTdGVwRGVjaW1hbHMgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIHN0ZXBEZWNpbWFscyA9IHRoaXMueE51bVN0ZXBzLm1hcChjb3VudERlY2ltYWxzKTtcblx0XHRyZXR1cm4gTWF0aC5tYXguYXBwbHkobnVsbCwgc3RlcERlY2ltYWxzKTtcbiBcdH07XG5cblx0Ly8gT3V0c2lkZSB0ZXN0aW5nXG5cdFNwZWN0cnVtLnByb3RvdHlwZS5jb252ZXJ0ID0gZnVuY3Rpb24gKCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gdGhpcy5nZXRTdGVwKHRoaXMudG9TdGVwcGluZyh2YWx1ZSkpO1xuXHR9O1xuXG4vKlx0RXZlcnkgaW5wdXQgb3B0aW9uIGlzIHRlc3RlZCBhbmQgcGFyc2VkLiBUaGlzJ2xsIHByZXZlbnRcblx0ZW5kbGVzcyB2YWxpZGF0aW9uIGluIGludGVybmFsIG1ldGhvZHMuIFRoZXNlIHRlc3RzIGFyZVxuXHRzdHJ1Y3R1cmVkIHdpdGggYW4gaXRlbSBmb3IgZXZlcnkgb3B0aW9uIGF2YWlsYWJsZS4gQW5cblx0b3B0aW9uIGNhbiBiZSBtYXJrZWQgYXMgcmVxdWlyZWQgYnkgc2V0dGluZyB0aGUgJ3InIGZsYWcuXG5cdFRoZSB0ZXN0aW5nIGZ1bmN0aW9uIGlzIHByb3ZpZGVkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuXHRcdC0gVGhlIHByb3ZpZGVkIHZhbHVlIGZvciB0aGUgb3B0aW9uO1xuXHRcdC0gQSByZWZlcmVuY2UgdG8gdGhlIG9wdGlvbnMgb2JqZWN0O1xuXHRcdC0gVGhlIG5hbWUgZm9yIHRoZSBvcHRpb247XG5cblx0VGhlIHRlc3RpbmcgZnVuY3Rpb24gcmV0dXJucyBmYWxzZSB3aGVuIGFuIGVycm9yIGlzIGRldGVjdGVkLFxuXHRvciB0cnVlIHdoZW4gZXZlcnl0aGluZyBpcyBPSy4gSXQgY2FuIGFsc28gbW9kaWZ5IHRoZSBvcHRpb25cblx0b2JqZWN0LCB0byBtYWtlIHN1cmUgYWxsIHZhbHVlcyBjYW4gYmUgY29ycmVjdGx5IGxvb3BlZCBlbHNld2hlcmUuICovXG5cblx0dmFyIGRlZmF1bHRGb3JtYXR0ZXIgPSB7ICd0byc6IGZ1bmN0aW9uKCB2YWx1ZSApe1xuXHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlLnRvRml4ZWQoMik7XG5cdH0sICdmcm9tJzogTnVtYmVyIH07XG5cblx0ZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQgKCBlbnRyeSApIHtcblxuXHRcdC8vIEFueSBvYmplY3Qgd2l0aCBhIHRvIGFuZCBmcm9tIG1ldGhvZCBpcyBzdXBwb3J0ZWQuXG5cdFx0aWYgKCBpc1ZhbGlkRm9ybWF0dGVyKGVudHJ5KSApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2Zvcm1hdCcgcmVxdWlyZXMgJ3RvJyBhbmQgJ2Zyb20nIG1ldGhvZHMuXCIpO1xuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdFN0ZXAgKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0aWYgKCAhaXNOdW1lcmljKCBlbnRyeSApICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnc3RlcCcgaXMgbm90IG51bWVyaWMuXCIpO1xuXHRcdH1cblxuXHRcdC8vIFRoZSBzdGVwIG9wdGlvbiBjYW4gc3RpbGwgYmUgdXNlZCB0byBzZXQgc3RlcHBpbmdcblx0XHQvLyBmb3IgbGluZWFyIHNsaWRlcnMuIE92ZXJ3cml0dGVuIGlmIHNldCBpbiAncmFuZ2UnLlxuXHRcdHBhcnNlZC5zaW5nbGVTdGVwID0gZW50cnk7XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0UmFuZ2UgKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0Ly8gRmlsdGVyIGluY29ycmVjdCBpbnB1dC5cblx0XHRpZiAoIHR5cGVvZiBlbnRyeSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShlbnRyeSkgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdyYW5nZScgaXMgbm90IGFuIG9iamVjdC5cIik7XG5cdFx0fVxuXG5cdFx0Ly8gQ2F0Y2ggbWlzc2luZyBzdGFydCBvciBlbmQuXG5cdFx0aWYgKCBlbnRyeS5taW4gPT09IHVuZGVmaW5lZCB8fCBlbnRyeS5tYXggPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogTWlzc2luZyAnbWluJyBvciAnbWF4JyBpbiAncmFuZ2UnLlwiKTtcblx0XHR9XG5cblx0XHQvLyBDYXRjaCBlcXVhbCBzdGFydCBvciBlbmQuXG5cdFx0aWYgKCBlbnRyeS5taW4gPT09IGVudHJ5Lm1heCApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3JhbmdlJyAnbWluJyBhbmQgJ21heCcgY2Fubm90IGJlIGVxdWFsLlwiKTtcblx0XHR9XG5cblx0XHRwYXJzZWQuc3BlY3RydW0gPSBuZXcgU3BlY3RydW0oZW50cnksIHBhcnNlZC5zbmFwLCBwYXJzZWQuc2luZ2xlU3RlcCk7XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0U3RhcnQgKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0ZW50cnkgPSBhc0FycmF5KGVudHJ5KTtcblxuXHRcdC8vIFZhbGlkYXRlIGlucHV0LiBWYWx1ZXMgYXJlbid0IHRlc3RlZCwgYXMgdGhlIHB1YmxpYyAudmFsIG1ldGhvZFxuXHRcdC8vIHdpbGwgYWx3YXlzIHByb3ZpZGUgYSB2YWxpZCBsb2NhdGlvbi5cblx0XHRpZiAoICFBcnJheS5pc0FycmF5KCBlbnRyeSApIHx8ICFlbnRyeS5sZW5ndGggKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdzdGFydCcgb3B0aW9uIGlzIGluY29ycmVjdC5cIik7XG5cdFx0fVxuXG5cdFx0Ly8gU3RvcmUgdGhlIG51bWJlciBvZiBoYW5kbGVzLlxuXHRcdHBhcnNlZC5oYW5kbGVzID0gZW50cnkubGVuZ3RoO1xuXG5cdFx0Ly8gV2hlbiB0aGUgc2xpZGVyIGlzIGluaXRpYWxpemVkLCB0aGUgLnZhbCBtZXRob2Qgd2lsbFxuXHRcdC8vIGJlIGNhbGxlZCB3aXRoIHRoZSBzdGFydCBvcHRpb25zLlxuXHRcdHBhcnNlZC5zdGFydCA9IGVudHJ5O1xuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdFNuYXAgKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0Ly8gRW5mb3JjZSAxMDAlIHN0ZXBwaW5nIHdpdGhpbiBzdWJyYW5nZXMuXG5cdFx0cGFyc2VkLnNuYXAgPSBlbnRyeTtcblxuXHRcdGlmICggdHlwZW9mIGVudHJ5ICE9PSAnYm9vbGVhbicgKXtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3NuYXAnIG9wdGlvbiBtdXN0IGJlIGEgYm9vbGVhbi5cIik7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdEFuaW1hdGUgKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0Ly8gRW5mb3JjZSAxMDAlIHN0ZXBwaW5nIHdpdGhpbiBzdWJyYW5nZXMuXG5cdFx0cGFyc2VkLmFuaW1hdGUgPSBlbnRyeTtcblxuXHRcdGlmICggdHlwZW9mIGVudHJ5ICE9PSAnYm9vbGVhbicgKXtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2FuaW1hdGUnIG9wdGlvbiBtdXN0IGJlIGEgYm9vbGVhbi5cIik7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdEFuaW1hdGlvbkR1cmF0aW9uICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdHBhcnNlZC5hbmltYXRpb25EdXJhdGlvbiA9IGVudHJ5O1xuXG5cdFx0aWYgKCB0eXBlb2YgZW50cnkgIT09ICdudW1iZXInICl7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdhbmltYXRpb25EdXJhdGlvbicgb3B0aW9uIG11c3QgYmUgYSBudW1iZXIuXCIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RDb25uZWN0ICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdHZhciBjb25uZWN0ID0gW2ZhbHNlXTtcblx0XHR2YXIgaTtcblxuXHRcdC8vIE1hcCBsZWdhY3kgb3B0aW9uc1xuXHRcdGlmICggZW50cnkgPT09ICdsb3dlcicgKSB7XG5cdFx0XHRlbnRyeSA9IFt0cnVlLCBmYWxzZV07XG5cdFx0fVxuXG5cdFx0ZWxzZSBpZiAoIGVudHJ5ID09PSAndXBwZXInICkge1xuXHRcdFx0ZW50cnkgPSBbZmFsc2UsIHRydWVdO1xuXHRcdH1cblxuXHRcdC8vIEhhbmRsZSBib29sZWFuIG9wdGlvbnNcblx0XHRpZiAoIGVudHJ5ID09PSB0cnVlIHx8IGVudHJ5ID09PSBmYWxzZSApIHtcblxuXHRcdFx0Zm9yICggaSA9IDE7IGkgPCBwYXJzZWQuaGFuZGxlczsgaSsrICkge1xuXHRcdFx0XHRjb25uZWN0LnB1c2goZW50cnkpO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25uZWN0LnB1c2goZmFsc2UpO1xuXHRcdH1cblxuXHRcdC8vIFJlamVjdCBpbnZhbGlkIGlucHV0XG5cdFx0ZWxzZSBpZiAoICFBcnJheS5pc0FycmF5KCBlbnRyeSApIHx8ICFlbnRyeS5sZW5ndGggfHwgZW50cnkubGVuZ3RoICE9PSBwYXJzZWQuaGFuZGxlcyArIDEgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdjb25uZWN0JyBvcHRpb24gZG9lc24ndCBtYXRjaCBoYW5kbGUgY291bnQuXCIpO1xuXHRcdH1cblxuXHRcdGVsc2Uge1xuXHRcdFx0Y29ubmVjdCA9IGVudHJ5O1xuXHRcdH1cblxuXHRcdHBhcnNlZC5jb25uZWN0ID0gY29ubmVjdDtcblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RPcmllbnRhdGlvbiAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHQvLyBTZXQgb3JpZW50YXRpb24gdG8gYW4gYSBudW1lcmljYWwgdmFsdWUgZm9yIGVhc3lcblx0XHQvLyBhcnJheSBzZWxlY3Rpb24uXG5cdFx0c3dpdGNoICggZW50cnkgKXtcblx0XHQgIGNhc2UgJ2hvcml6b250YWwnOlxuXHRcdFx0cGFyc2VkLm9ydCA9IDA7XG5cdFx0XHRicmVhaztcblx0XHQgIGNhc2UgJ3ZlcnRpY2FsJzpcblx0XHRcdHBhcnNlZC5vcnQgPSAxO1xuXHRcdFx0YnJlYWs7XG5cdFx0ICBkZWZhdWx0OlxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnb3JpZW50YXRpb24nIG9wdGlvbiBpcyBpbnZhbGlkLlwiKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0TWFyZ2luICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdGlmICggIWlzTnVtZXJpYyhlbnRyeSkgKXtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ21hcmdpbicgb3B0aW9uIG11c3QgYmUgbnVtZXJpYy5cIik7XG5cdFx0fVxuXG5cdFx0Ly8gSXNzdWUgIzU4MlxuXHRcdGlmICggZW50cnkgPT09IDAgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0cGFyc2VkLm1hcmdpbiA9IHBhcnNlZC5zcGVjdHJ1bS5nZXRNYXJnaW4oZW50cnkpO1xuXG5cdFx0aWYgKCAhcGFyc2VkLm1hcmdpbiApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ21hcmdpbicgb3B0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIG9uIGxpbmVhciBzbGlkZXJzLlwiKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0TGltaXQgKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0aWYgKCAhaXNOdW1lcmljKGVudHJ5KSApe1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnbGltaXQnIG9wdGlvbiBtdXN0IGJlIG51bWVyaWMuXCIpO1xuXHRcdH1cblxuXHRcdHBhcnNlZC5saW1pdCA9IHBhcnNlZC5zcGVjdHJ1bS5nZXRNYXJnaW4oZW50cnkpO1xuXG5cdFx0aWYgKCAhcGFyc2VkLmxpbWl0IHx8IHBhcnNlZC5oYW5kbGVzIDwgMiApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2xpbWl0JyBvcHRpb24gaXMgb25seSBzdXBwb3J0ZWQgb24gbGluZWFyIHNsaWRlcnMgd2l0aCAyIG9yIG1vcmUgaGFuZGxlcy5cIik7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdFBhZGRpbmcgKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0aWYgKCAhaXNOdW1lcmljKGVudHJ5KSApe1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncGFkZGluZycgb3B0aW9uIG11c3QgYmUgbnVtZXJpYy5cIik7XG5cdFx0fVxuXG5cdFx0aWYgKCBlbnRyeSA9PT0gMCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRwYXJzZWQucGFkZGluZyA9IHBhcnNlZC5zcGVjdHJ1bS5nZXRNYXJnaW4oZW50cnkpO1xuXG5cdFx0aWYgKCAhcGFyc2VkLnBhZGRpbmcgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdwYWRkaW5nJyBvcHRpb24gaXMgb25seSBzdXBwb3J0ZWQgb24gbGluZWFyIHNsaWRlcnMuXCIpO1xuXHRcdH1cblxuXHRcdGlmICggcGFyc2VkLnBhZGRpbmcgPCAwICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncGFkZGluZycgb3B0aW9uIG11c3QgYmUgYSBwb3NpdGl2ZSBudW1iZXIuXCIpO1xuXHRcdH1cblxuXHRcdGlmICggcGFyc2VkLnBhZGRpbmcgPj0gNTAgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBiZSBsZXNzIHRoYW4gaGFsZiB0aGUgcmFuZ2UuXCIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3REaXJlY3Rpb24gKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0Ly8gU2V0IGRpcmVjdGlvbiBhcyBhIG51bWVyaWNhbCB2YWx1ZSBmb3IgZWFzeSBwYXJzaW5nLlxuXHRcdC8vIEludmVydCBjb25uZWN0aW9uIGZvciBSVEwgc2xpZGVycywgc28gdGhhdCB0aGUgcHJvcGVyXG5cdFx0Ly8gaGFuZGxlcyBnZXQgdGhlIGNvbm5lY3QvYmFja2dyb3VuZCBjbGFzc2VzLlxuXHRcdHN3aXRjaCAoIGVudHJ5ICkge1xuXHRcdCAgY2FzZSAnbHRyJzpcblx0XHRcdHBhcnNlZC5kaXIgPSAwO1xuXHRcdFx0YnJlYWs7XG5cdFx0ICBjYXNlICdydGwnOlxuXHRcdFx0cGFyc2VkLmRpciA9IDE7XG5cdFx0XHRicmVhaztcblx0XHQgIGRlZmF1bHQ6XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdkaXJlY3Rpb24nIG9wdGlvbiB3YXMgbm90IHJlY29nbml6ZWQuXCIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RCZWhhdmlvdXIgKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoZSBpbnB1dCBpcyBhIHN0cmluZy5cblx0XHRpZiAoIHR5cGVvZiBlbnRyeSAhPT0gJ3N0cmluZycgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdiZWhhdmlvdXInIG11c3QgYmUgYSBzdHJpbmcgY29udGFpbmluZyBvcHRpb25zLlwiKTtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBpZiB0aGUgc3RyaW5nIGNvbnRhaW5zIGFueSBrZXl3b3Jkcy5cblx0XHQvLyBOb25lIGFyZSByZXF1aXJlZC5cblx0XHR2YXIgdGFwID0gZW50cnkuaW5kZXhPZigndGFwJykgPj0gMDtcblx0XHR2YXIgZHJhZyA9IGVudHJ5LmluZGV4T2YoJ2RyYWcnKSA+PSAwO1xuXHRcdHZhciBmaXhlZCA9IGVudHJ5LmluZGV4T2YoJ2ZpeGVkJykgPj0gMDtcblx0XHR2YXIgc25hcCA9IGVudHJ5LmluZGV4T2YoJ3NuYXAnKSA+PSAwO1xuXHRcdHZhciBob3ZlciA9IGVudHJ5LmluZGV4T2YoJ2hvdmVyJykgPj0gMDtcblxuXHRcdGlmICggZml4ZWQgKSB7XG5cblx0XHRcdGlmICggcGFyc2VkLmhhbmRsZXMgIT09IDIgKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2ZpeGVkJyBiZWhhdmlvdXIgbXVzdCBiZSB1c2VkIHdpdGggMiBoYW5kbGVzXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBVc2UgbWFyZ2luIHRvIGVuZm9yY2UgZml4ZWQgc3RhdGVcblx0XHRcdHRlc3RNYXJnaW4ocGFyc2VkLCBwYXJzZWQuc3RhcnRbMV0gLSBwYXJzZWQuc3RhcnRbMF0pO1xuXHRcdH1cblxuXHRcdHBhcnNlZC5ldmVudHMgPSB7XG5cdFx0XHR0YXA6IHRhcCB8fCBzbmFwLFxuXHRcdFx0ZHJhZzogZHJhZyxcblx0XHRcdGZpeGVkOiBmaXhlZCxcblx0XHRcdHNuYXA6IHNuYXAsXG5cdFx0XHRob3ZlcjogaG92ZXJcblx0XHR9O1xuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdE11bHRpdG91Y2ggKCBwYXJzZWQsIGVudHJ5ICkge1xuXHRcdHBhcnNlZC5tdWx0aXRvdWNoID0gZW50cnk7XG5cblx0XHRpZiAoIHR5cGVvZiBlbnRyeSAhPT0gJ2Jvb2xlYW4nICl7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdtdWx0aXRvdWNoJyBvcHRpb24gbXVzdCBiZSBhIGJvb2xlYW4uXCIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RUb29sdGlwcyAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHRpZiAoIGVudHJ5ID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRlbHNlIGlmICggZW50cnkgPT09IHRydWUgKSB7XG5cblx0XHRcdHBhcnNlZC50b29sdGlwcyA9IFtdO1xuXG5cdFx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBwYXJzZWQuaGFuZGxlczsgaSsrICkge1xuXHRcdFx0XHRwYXJzZWQudG9vbHRpcHMucHVzaCh0cnVlKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRlbHNlIHtcblxuXHRcdFx0cGFyc2VkLnRvb2x0aXBzID0gYXNBcnJheShlbnRyeSk7XG5cblx0XHRcdGlmICggcGFyc2VkLnRvb2x0aXBzLmxlbmd0aCAhPT0gcGFyc2VkLmhhbmRsZXMgKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogbXVzdCBwYXNzIGEgZm9ybWF0dGVyIGZvciBhbGwgaGFuZGxlcy5cIik7XG5cdFx0XHR9XG5cblx0XHRcdHBhcnNlZC50b29sdGlwcy5mb3JFYWNoKGZ1bmN0aW9uKGZvcm1hdHRlcil7XG5cdFx0XHRcdGlmICggdHlwZW9mIGZvcm1hdHRlciAhPT0gJ2Jvb2xlYW4nICYmICh0eXBlb2YgZm9ybWF0dGVyICE9PSAnb2JqZWN0JyB8fCB0eXBlb2YgZm9ybWF0dGVyLnRvICE9PSAnZnVuY3Rpb24nKSApIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICd0b29sdGlwcycgbXVzdCBiZSBwYXNzZWQgYSBmb3JtYXR0ZXIgb3IgJ2ZhbHNlJy5cIik7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RBcmlhRm9ybWF0ICggcGFyc2VkLCBlbnRyeSApIHtcblx0XHRwYXJzZWQuYXJpYUZvcm1hdCA9IGVudHJ5O1xuXHRcdHZhbGlkYXRlRm9ybWF0KGVudHJ5KTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RGb3JtYXQgKCBwYXJzZWQsIGVudHJ5ICkge1xuXHRcdHBhcnNlZC5mb3JtYXQgPSBlbnRyeTtcblx0XHR2YWxpZGF0ZUZvcm1hdChlbnRyeSk7XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0Q3NzUHJlZml4ICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdGlmICggZW50cnkgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZW50cnkgIT09ICdzdHJpbmcnICYmIGVudHJ5ICE9PSBmYWxzZSApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2Nzc1ByZWZpeCcgbXVzdCBiZSBhIHN0cmluZyBvciBgZmFsc2VgLlwiKTtcblx0XHR9XG5cblx0XHRwYXJzZWQuY3NzUHJlZml4ID0gZW50cnk7XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0Q3NzQ2xhc3NlcyAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHRpZiAoIGVudHJ5ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGVudHJ5ICE9PSAnb2JqZWN0JyApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2Nzc0NsYXNzZXMnIG11c3QgYmUgYW4gb2JqZWN0LlwiKTtcblx0XHR9XG5cblx0XHRpZiAoIHR5cGVvZiBwYXJzZWQuY3NzUHJlZml4ID09PSAnc3RyaW5nJyApIHtcblx0XHRcdHBhcnNlZC5jc3NDbGFzc2VzID0ge307XG5cblx0XHRcdGZvciAoIHZhciBrZXkgaW4gZW50cnkgKSB7XG5cdFx0XHRcdGlmICggIWVudHJ5Lmhhc093blByb3BlcnR5KGtleSkgKSB7IGNvbnRpbnVlOyB9XG5cblx0XHRcdFx0cGFyc2VkLmNzc0NsYXNzZXNba2V5XSA9IHBhcnNlZC5jc3NQcmVmaXggKyBlbnRyeVtrZXldO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRwYXJzZWQuY3NzQ2xhc3NlcyA9IGVudHJ5O1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RVc2VSYWYgKCBwYXJzZWQsIGVudHJ5ICkge1xuXHRcdGlmICggZW50cnkgPT09IHRydWUgfHwgZW50cnkgPT09IGZhbHNlICkge1xuXHRcdFx0cGFyc2VkLnVzZVJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGVudHJ5O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICd1c2VSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnIG9wdGlvbiBzaG91bGQgYmUgdHJ1ZSAoZGVmYXVsdCkgb3IgZmFsc2UuXCIpO1xuXHRcdH1cblx0fVxuXG5cdC8vIFRlc3QgYWxsIGRldmVsb3BlciBzZXR0aW5ncyBhbmQgcGFyc2UgdG8gYXNzdW1wdGlvbi1zYWZlIHZhbHVlcy5cblx0ZnVuY3Rpb24gdGVzdE9wdGlvbnMgKCBvcHRpb25zICkge1xuXG5cdFx0Ly8gVG8gcHJvdmUgYSBmaXggZm9yICM1MzcsIGZyZWV6ZSBvcHRpb25zIGhlcmUuXG5cdFx0Ly8gSWYgdGhlIG9iamVjdCBpcyBtb2RpZmllZCwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24uXG5cdFx0Ly8gT2JqZWN0LmZyZWV6ZShvcHRpb25zKTtcblxuXHRcdHZhciBwYXJzZWQgPSB7XG5cdFx0XHRtYXJnaW46IDAsXG5cdFx0XHRsaW1pdDogMCxcblx0XHRcdHBhZGRpbmc6IDAsXG5cdFx0XHRhbmltYXRlOiB0cnVlLFxuXHRcdFx0YW5pbWF0aW9uRHVyYXRpb246IDMwMCxcblx0XHRcdGFyaWFGb3JtYXQ6IGRlZmF1bHRGb3JtYXR0ZXIsXG5cdFx0XHRmb3JtYXQ6IGRlZmF1bHRGb3JtYXR0ZXJcblx0XHR9O1xuXG5cdFx0Ly8gVGVzdHMgYXJlIGV4ZWN1dGVkIGluIHRoZSBvcmRlciB0aGV5IGFyZSBwcmVzZW50ZWQgaGVyZS5cblx0XHR2YXIgdGVzdHMgPSB7XG5cdFx0XHQnc3RlcCc6IHsgcjogZmFsc2UsIHQ6IHRlc3RTdGVwIH0sXG5cdFx0XHQnc3RhcnQnOiB7IHI6IHRydWUsIHQ6IHRlc3RTdGFydCB9LFxuXHRcdFx0J2Nvbm5lY3QnOiB7IHI6IHRydWUsIHQ6IHRlc3RDb25uZWN0IH0sXG5cdFx0XHQnZGlyZWN0aW9uJzogeyByOiB0cnVlLCB0OiB0ZXN0RGlyZWN0aW9uIH0sXG5cdFx0XHQnc25hcCc6IHsgcjogZmFsc2UsIHQ6IHRlc3RTbmFwIH0sXG5cdFx0XHQnYW5pbWF0ZSc6IHsgcjogZmFsc2UsIHQ6IHRlc3RBbmltYXRlIH0sXG5cdFx0XHQnYW5pbWF0aW9uRHVyYXRpb24nOiB7IHI6IGZhbHNlLCB0OiB0ZXN0QW5pbWF0aW9uRHVyYXRpb24gfSxcblx0XHRcdCdyYW5nZSc6IHsgcjogdHJ1ZSwgdDogdGVzdFJhbmdlIH0sXG5cdFx0XHQnb3JpZW50YXRpb24nOiB7IHI6IGZhbHNlLCB0OiB0ZXN0T3JpZW50YXRpb24gfSxcblx0XHRcdCdtYXJnaW4nOiB7IHI6IGZhbHNlLCB0OiB0ZXN0TWFyZ2luIH0sXG5cdFx0XHQnbGltaXQnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0TGltaXQgfSxcblx0XHRcdCdwYWRkaW5nJzogeyByOiBmYWxzZSwgdDogdGVzdFBhZGRpbmcgfSxcblx0XHRcdCdiZWhhdmlvdXInOiB7IHI6IHRydWUsIHQ6IHRlc3RCZWhhdmlvdXIgfSxcblx0XHRcdCdtdWx0aXRvdWNoJzogeyByOiB0cnVlLCB0OiB0ZXN0TXVsdGl0b3VjaCB9LFxuXHRcdFx0J2FyaWFGb3JtYXQnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0QXJpYUZvcm1hdCB9LFxuXHRcdFx0J2Zvcm1hdCc6IHsgcjogZmFsc2UsIHQ6IHRlc3RGb3JtYXQgfSxcblx0XHRcdCd0b29sdGlwcyc6IHsgcjogZmFsc2UsIHQ6IHRlc3RUb29sdGlwcyB9LFxuXHRcdFx0J2Nzc1ByZWZpeCc6IHsgcjogZmFsc2UsIHQ6IHRlc3RDc3NQcmVmaXggfSxcblx0XHRcdCdjc3NDbGFzc2VzJzogeyByOiBmYWxzZSwgdDogdGVzdENzc0NsYXNzZXMgfSxcblx0XHRcdCd1c2VSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0VXNlUmFmIH1cblx0XHR9O1xuXG5cdFx0dmFyIGRlZmF1bHRzID0ge1xuXHRcdFx0J2Nvbm5lY3QnOiBmYWxzZSxcblx0XHRcdCdkaXJlY3Rpb24nOiAnbHRyJyxcblx0XHRcdCdiZWhhdmlvdXInOiAndGFwJyxcblx0XHRcdCdtdWx0aXRvdWNoJzogZmFsc2UsXG5cdFx0XHQnb3JpZW50YXRpb24nOiAnaG9yaXpvbnRhbCcsXG5cdFx0XHQnY3NzUHJlZml4JyA6ICdub1VpLScsXG5cdFx0XHQnY3NzQ2xhc3Nlcyc6IHtcblx0XHRcdFx0dGFyZ2V0OiAndGFyZ2V0Jyxcblx0XHRcdFx0YmFzZTogJ2Jhc2UnLFxuXHRcdFx0XHRvcmlnaW46ICdvcmlnaW4nLFxuXHRcdFx0XHRoYW5kbGU6ICdoYW5kbGUnLFxuXHRcdFx0XHRoYW5kbGVMb3dlcjogJ2hhbmRsZS1sb3dlcicsXG5cdFx0XHRcdGhhbmRsZVVwcGVyOiAnaGFuZGxlLXVwcGVyJyxcblx0XHRcdFx0aG9yaXpvbnRhbDogJ2hvcml6b250YWwnLFxuXHRcdFx0XHR2ZXJ0aWNhbDogJ3ZlcnRpY2FsJyxcblx0XHRcdFx0YmFja2dyb3VuZDogJ2JhY2tncm91bmQnLFxuXHRcdFx0XHRjb25uZWN0OiAnY29ubmVjdCcsXG5cdFx0XHRcdGx0cjogJ2x0cicsXG5cdFx0XHRcdHJ0bDogJ3J0bCcsXG5cdFx0XHRcdGRyYWdnYWJsZTogJ2RyYWdnYWJsZScsXG5cdFx0XHRcdGRyYWc6ICdzdGF0ZS1kcmFnJyxcblx0XHRcdFx0dGFwOiAnc3RhdGUtdGFwJyxcblx0XHRcdFx0YWN0aXZlOiAnYWN0aXZlJyxcblx0XHRcdFx0dG9vbHRpcDogJ3Rvb2x0aXAnLFxuXHRcdFx0XHRwaXBzOiAncGlwcycsXG5cdFx0XHRcdHBpcHNIb3Jpem9udGFsOiAncGlwcy1ob3Jpem9udGFsJyxcblx0XHRcdFx0cGlwc1ZlcnRpY2FsOiAncGlwcy12ZXJ0aWNhbCcsXG5cdFx0XHRcdG1hcmtlcjogJ21hcmtlcicsXG5cdFx0XHRcdG1hcmtlckhvcml6b250YWw6ICdtYXJrZXItaG9yaXpvbnRhbCcsXG5cdFx0XHRcdG1hcmtlclZlcnRpY2FsOiAnbWFya2VyLXZlcnRpY2FsJyxcblx0XHRcdFx0bWFya2VyTm9ybWFsOiAnbWFya2VyLW5vcm1hbCcsXG5cdFx0XHRcdG1hcmtlckxhcmdlOiAnbWFya2VyLWxhcmdlJyxcblx0XHRcdFx0bWFya2VyU3ViOiAnbWFya2VyLXN1YicsXG5cdFx0XHRcdHZhbHVlOiAndmFsdWUnLFxuXHRcdFx0XHR2YWx1ZUhvcml6b250YWw6ICd2YWx1ZS1ob3Jpem9udGFsJyxcblx0XHRcdFx0dmFsdWVWZXJ0aWNhbDogJ3ZhbHVlLXZlcnRpY2FsJyxcblx0XHRcdFx0dmFsdWVOb3JtYWw6ICd2YWx1ZS1ub3JtYWwnLFxuXHRcdFx0XHR2YWx1ZUxhcmdlOiAndmFsdWUtbGFyZ2UnLFxuXHRcdFx0XHR2YWx1ZVN1YjogJ3ZhbHVlLXN1Yidcblx0XHRcdH0sXG5cdFx0XHQndXNlUmVxdWVzdEFuaW1hdGlvbkZyYW1lJzogdHJ1ZVxuXHRcdH07XG5cblx0XHQvLyBBcmlhRm9ybWF0IGRlZmF1bHRzIHRvIHJlZ3VsYXIgZm9ybWF0LCBpZiBhbnkuXG5cdFx0aWYgKCBvcHRpb25zLmZvcm1hdCAmJiAhb3B0aW9ucy5hcmlhRm9ybWF0ICkge1xuXHRcdFx0b3B0aW9ucy5hcmlhRm9ybWF0ID0gb3B0aW9ucy5mb3JtYXQ7XG5cdFx0fVxuXG5cdFx0Ly8gUnVuIGFsbCBvcHRpb25zIHRocm91Z2ggYSB0ZXN0aW5nIG1lY2hhbmlzbSB0byBlbnN1cmUgY29ycmVjdFxuXHRcdC8vIGlucHV0LiBJdCBzaG91bGQgYmUgbm90ZWQgdGhhdCBvcHRpb25zIG1pZ2h0IGdldCBtb2RpZmllZCB0b1xuXHRcdC8vIGJlIGhhbmRsZWQgcHJvcGVybHkuIEUuZy4gd3JhcHBpbmcgaW50ZWdlcnMgaW4gYXJyYXlzLlxuXHRcdE9iamVjdC5rZXlzKHRlc3RzKS5mb3JFYWNoKGZ1bmN0aW9uKCBuYW1lICl7XG5cblx0XHRcdC8vIElmIHRoZSBvcHRpb24gaXNuJ3Qgc2V0LCBidXQgaXQgaXMgcmVxdWlyZWQsIHRocm93IGFuIGVycm9yLlxuXHRcdFx0aWYgKCBvcHRpb25zW25hbWVdID09PSB1bmRlZmluZWQgJiYgZGVmYXVsdHNbbmFtZV0gPT09IHVuZGVmaW5lZCApIHtcblxuXHRcdFx0XHRpZiAoIHRlc3RzW25hbWVdLnIgKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnXCIgKyBuYW1lICsgXCInIGlzIHJlcXVpcmVkLlwiKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHR0ZXN0c1tuYW1lXS50KCBwYXJzZWQsIG9wdGlvbnNbbmFtZV0gPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRzW25hbWVdIDogb3B0aW9uc1tuYW1lXSApO1xuXHRcdH0pO1xuXG5cdFx0Ly8gRm9yd2FyZCBwaXBzIG9wdGlvbnNcblx0XHRwYXJzZWQucGlwcyA9IG9wdGlvbnMucGlwcztcblxuXHRcdHZhciBzdHlsZXMgPSBbWydsZWZ0JywgJ3RvcCddLCBbJ3JpZ2h0JywgJ2JvdHRvbSddXTtcblxuXHRcdC8vIFByZS1kZWZpbmUgdGhlIHN0eWxlcy5cblx0XHRwYXJzZWQuc3R5bGUgPSBzdHlsZXNbcGFyc2VkLmRpcl1bcGFyc2VkLm9ydF07XG5cdFx0cGFyc2VkLnN0eWxlT3Bvc2l0ZSA9IHN0eWxlc1twYXJzZWQuZGlyPzA6MV1bcGFyc2VkLm9ydF07XG5cblx0XHRyZXR1cm4gcGFyc2VkO1xuXHR9XG5cblxuZnVuY3Rpb24gY2xvc3VyZSAoIHRhcmdldCwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zICl7XG5cblx0dmFyIGFjdGlvbnMgPSBnZXRBY3Rpb25zKCk7XG5cdHZhciBzdXBwb3J0c1RvdWNoQWN0aW9uTm9uZSA9IGdldFN1cHBvcnRzVG91Y2hBY3Rpb25Ob25lKCk7XG5cdHZhciBzdXBwb3J0c1Bhc3NpdmUgPSBzdXBwb3J0c1RvdWNoQWN0aW9uTm9uZSAmJiBnZXRTdXBwb3J0c1Bhc3NpdmUoKTtcblxuXHQvLyBBbGwgdmFyaWFibGVzIGxvY2FsIHRvICdjbG9zdXJlJyBhcmUgcHJlZml4ZWQgd2l0aCAnc2NvcGVfJ1xuXHR2YXIgc2NvcGVfVGFyZ2V0ID0gdGFyZ2V0O1xuXHR2YXIgc2NvcGVfTG9jYXRpb25zID0gW107XG5cdHZhciBzY29wZV9CYXNlO1xuXHR2YXIgc2NvcGVfSGFuZGxlcztcblx0dmFyIHNjb3BlX0hhbmRsZU51bWJlcnMgPSBbXTtcblx0dmFyIHNjb3BlX0FjdGl2ZUhhbmRsZXNDb3VudCA9IDA7XG5cdHZhciBzY29wZV9Db25uZWN0cztcblx0dmFyIHNjb3BlX1NwZWN0cnVtID0gb3B0aW9ucy5zcGVjdHJ1bTtcblx0dmFyIHNjb3BlX1ZhbHVlcyA9IFtdO1xuXHR2YXIgc2NvcGVfRXZlbnRzID0ge307XG5cdHZhciBzY29wZV9TZWxmO1xuXHR2YXIgc2NvcGVfUGlwcztcblx0dmFyIHNjb3BlX0RvY3VtZW50ID0gdGFyZ2V0Lm93bmVyRG9jdW1lbnQ7XG5cdHZhciBzY29wZV9Eb2N1bWVudEVsZW1lbnQgPSBzY29wZV9Eb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cdHZhciBzY29wZV9Cb2R5ID0gc2NvcGVfRG9jdW1lbnQuYm9keTtcblxuXG5cdC8vIENyZWF0ZXMgYSBub2RlLCBhZGRzIGl0IHRvIHRhcmdldCwgcmV0dXJucyB0aGUgbmV3IG5vZGUuXG5cdGZ1bmN0aW9uIGFkZE5vZGVUbyAoIHRhcmdldCwgY2xhc3NOYW1lICkge1xuXG5cdFx0dmFyIGRpdiA9IHNjb3BlX0RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG5cdFx0aWYgKCBjbGFzc05hbWUgKSB7XG5cdFx0XHRhZGRDbGFzcyhkaXYsIGNsYXNzTmFtZSk7XG5cdFx0fVxuXG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKGRpdik7XG5cblx0XHRyZXR1cm4gZGl2O1xuXHR9XG5cblx0Ly8gQXBwZW5kIGEgb3JpZ2luIHRvIHRoZSBiYXNlXG5cdGZ1bmN0aW9uIGFkZE9yaWdpbiAoIGJhc2UsIGhhbmRsZU51bWJlciApIHtcblxuXHRcdHZhciBvcmlnaW4gPSBhZGROb2RlVG8oYmFzZSwgb3B0aW9ucy5jc3NDbGFzc2VzLm9yaWdpbik7XG5cdFx0dmFyIGhhbmRsZSA9IGFkZE5vZGVUbyhvcmlnaW4sIG9wdGlvbnMuY3NzQ2xhc3Nlcy5oYW5kbGUpO1xuXG5cdFx0aGFuZGxlLnNldEF0dHJpYnV0ZSgnZGF0YS1oYW5kbGUnLCBoYW5kbGVOdW1iZXIpO1xuXG5cdFx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRNTC9HbG9iYWxfYXR0cmlidXRlcy90YWJpbmRleFxuXHRcdC8vIDAgPSBmb2N1c2FibGUgYW5kIHJlYWNoYWJsZVxuXHRcdGhhbmRsZS5zZXRBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcblx0XHRoYW5kbGUuc2V0QXR0cmlidXRlKCdyb2xlJywgJ3NsaWRlcicpO1xuXHRcdGhhbmRsZS5zZXRBdHRyaWJ1dGUoJ2FyaWEtb3JpZW50YXRpb24nLCBvcHRpb25zLm9ydCA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCcpO1xuXG5cdFx0aWYgKCBoYW5kbGVOdW1iZXIgPT09IDAgKSB7XG5cdFx0XHRhZGRDbGFzcyhoYW5kbGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5oYW5kbGVMb3dlcik7XG5cdFx0fVxuXG5cdFx0ZWxzZSBpZiAoIGhhbmRsZU51bWJlciA9PT0gb3B0aW9ucy5oYW5kbGVzIC0gMSApIHtcblx0XHRcdGFkZENsYXNzKGhhbmRsZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmhhbmRsZVVwcGVyKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gb3JpZ2luO1xuXHR9XG5cblx0Ly8gSW5zZXJ0IG5vZGVzIGZvciBjb25uZWN0IGVsZW1lbnRzXG5cdGZ1bmN0aW9uIGFkZENvbm5lY3QgKCBiYXNlLCBhZGQgKSB7XG5cblx0XHRpZiAoICFhZGQgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFkZE5vZGVUbyhiYXNlLCBvcHRpb25zLmNzc0NsYXNzZXMuY29ubmVjdCk7XG5cdH1cblxuXHQvLyBBZGQgaGFuZGxlcyB0byB0aGUgc2xpZGVyIGJhc2UuXG5cdGZ1bmN0aW9uIGFkZEVsZW1lbnRzICggY29ubmVjdE9wdGlvbnMsIGJhc2UgKSB7XG5cblx0XHRzY29wZV9IYW5kbGVzID0gW107XG5cdFx0c2NvcGVfQ29ubmVjdHMgPSBbXTtcblxuXHRcdHNjb3BlX0Nvbm5lY3RzLnB1c2goYWRkQ29ubmVjdChiYXNlLCBjb25uZWN0T3B0aW9uc1swXSkpO1xuXG5cdFx0Ly8gWzo6OjpPPT09PU89PT09Tz09PT1dXG5cdFx0Ly8gY29ubmVjdE9wdGlvbnMgPSBbMCwgMSwgMSwgMV1cblxuXHRcdGZvciAoIHZhciBpID0gMDsgaSA8IG9wdGlvbnMuaGFuZGxlczsgaSsrICkge1xuXHRcdFx0Ly8gS2VlcCBhIGxpc3Qgb2YgYWxsIGFkZGVkIGhhbmRsZXMuXG5cdFx0XHRzY29wZV9IYW5kbGVzLnB1c2goYWRkT3JpZ2luKGJhc2UsIGkpKTtcblx0XHRcdHNjb3BlX0hhbmRsZU51bWJlcnNbaV0gPSBpO1xuXHRcdFx0c2NvcGVfQ29ubmVjdHMucHVzaChhZGRDb25uZWN0KGJhc2UsIGNvbm5lY3RPcHRpb25zW2kgKyAxXSkpO1xuXHRcdH1cblx0fVxuXG5cdC8vIEluaXRpYWxpemUgYSBzaW5nbGUgc2xpZGVyLlxuXHRmdW5jdGlvbiBhZGRTbGlkZXIgKCB0YXJnZXQgKSB7XG5cblx0XHQvLyBBcHBseSBjbGFzc2VzIGFuZCBkYXRhIHRvIHRoZSB0YXJnZXQuXG5cdFx0YWRkQ2xhc3ModGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFyZ2V0KTtcblxuXHRcdGlmICggb3B0aW9ucy5kaXIgPT09IDAgKSB7XG5cdFx0XHRhZGRDbGFzcyh0YXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5sdHIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhZGRDbGFzcyh0YXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5ydGwpO1xuXHRcdH1cblxuXHRcdGlmICggb3B0aW9ucy5vcnQgPT09IDAgKSB7XG5cdFx0XHRhZGRDbGFzcyh0YXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5ob3Jpem9udGFsKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YWRkQ2xhc3ModGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudmVydGljYWwpO1xuXHRcdH1cblxuXHRcdHNjb3BlX0Jhc2UgPSBhZGROb2RlVG8odGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMuYmFzZSk7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIGFkZFRvb2x0aXAgKCBoYW5kbGUsIGhhbmRsZU51bWJlciApIHtcblxuXHRcdGlmICggIW9wdGlvbnMudG9vbHRpcHNbaGFuZGxlTnVtYmVyXSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYWRkTm9kZVRvKGhhbmRsZS5maXJzdENoaWxkLCBvcHRpb25zLmNzc0NsYXNzZXMudG9vbHRpcCk7XG5cdH1cblxuXHQvLyBUaGUgdG9vbHRpcHMgb3B0aW9uIGlzIGEgc2hvcnRoYW5kIGZvciB1c2luZyB0aGUgJ3VwZGF0ZScgZXZlbnQuXG5cdGZ1bmN0aW9uIHRvb2x0aXBzICggKSB7XG5cblx0XHQvLyBUb29sdGlwcyBhcmUgYWRkZWQgd2l0aCBvcHRpb25zLnRvb2x0aXBzIGluIG9yaWdpbmFsIG9yZGVyLlxuXHRcdHZhciB0aXBzID0gc2NvcGVfSGFuZGxlcy5tYXAoYWRkVG9vbHRpcCk7XG5cblx0XHRiaW5kRXZlbnQoJ3VwZGF0ZScsIGZ1bmN0aW9uKHZhbHVlcywgaGFuZGxlTnVtYmVyLCB1bmVuY29kZWQpIHtcblxuXHRcdFx0aWYgKCAhdGlwc1toYW5kbGVOdW1iZXJdICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHZhciBmb3JtYXR0ZWRWYWx1ZSA9IHZhbHVlc1toYW5kbGVOdW1iZXJdO1xuXG5cdFx0XHRpZiAoIG9wdGlvbnMudG9vbHRpcHNbaGFuZGxlTnVtYmVyXSAhPT0gdHJ1ZSApIHtcblx0XHRcdFx0Zm9ybWF0dGVkVmFsdWUgPSBvcHRpb25zLnRvb2x0aXBzW2hhbmRsZU51bWJlcl0udG8odW5lbmNvZGVkW2hhbmRsZU51bWJlcl0pO1xuXHRcdFx0fVxuXG5cdFx0XHR0aXBzW2hhbmRsZU51bWJlcl0uaW5uZXJIVE1MID0gZm9ybWF0dGVkVmFsdWU7XG5cdFx0fSk7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIGFyaWEgKCApIHtcblxuXHRcdGJpbmRFdmVudCgndXBkYXRlJywgZnVuY3Rpb24gKCB2YWx1ZXMsIGhhbmRsZU51bWJlciwgdW5lbmNvZGVkLCB0YXAsIHBvc2l0aW9ucyApIHtcblxuXHRcdFx0Ly8gVXBkYXRlIEFyaWEgVmFsdWVzIGZvciBhbGwgaGFuZGxlcywgYXMgYSBjaGFuZ2UgaW4gb25lIGNoYW5nZXMgbWluIGFuZCBtYXggdmFsdWVzIGZvciB0aGUgbmV4dC5cblx0XHRcdHNjb3BlX0hhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbiggaGFuZGxlTnVtYmVyICl7XG5cblx0XHRcdFx0dmFyIGhhbmRsZSA9IHNjb3BlX0hhbmRsZXNbaGFuZGxlTnVtYmVyXTtcblxuXHRcdFx0XHR2YXIgbWluID0gY2hlY2tIYW5kbGVQb3NpdGlvbihzY29wZV9Mb2NhdGlvbnMsIGhhbmRsZU51bWJlciwgMCwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG5cdFx0XHRcdHZhciBtYXggPSBjaGVja0hhbmRsZVBvc2l0aW9uKHNjb3BlX0xvY2F0aW9ucywgaGFuZGxlTnVtYmVyLCAxMDAsIHRydWUsIHRydWUsIHRydWUpO1xuXG5cdFx0XHRcdHZhciBub3cgPSBwb3NpdGlvbnNbaGFuZGxlTnVtYmVyXTtcblx0XHRcdFx0dmFyIHRleHQgPSBvcHRpb25zLmFyaWFGb3JtYXQudG8odW5lbmNvZGVkW2hhbmRsZU51bWJlcl0pO1xuXG5cdFx0XHRcdGhhbmRsZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVtaW4nLCBtaW4udG9GaXhlZCgxKSk7XG5cdFx0XHRcdGhhbmRsZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVtYXgnLCBtYXgudG9GaXhlZCgxKSk7XG5cdFx0XHRcdGhhbmRsZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWVub3cnLCBub3cudG9GaXhlZCgxKSk7XG5cdFx0XHRcdGhhbmRsZS5jaGlsZHJlblswXS5zZXRBdHRyaWJ1dGUoJ2FyaWEtdmFsdWV0ZXh0JywgdGV4dCk7XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0fVxuXG5cblx0ZnVuY3Rpb24gZ2V0R3JvdXAgKCBtb2RlLCB2YWx1ZXMsIHN0ZXBwZWQgKSB7XG5cblx0XHQvLyBVc2UgdGhlIHJhbmdlLlxuXHRcdGlmICggbW9kZSA9PT0gJ3JhbmdlJyB8fCBtb2RlID09PSAnc3RlcHMnICkge1xuXHRcdFx0cmV0dXJuIHNjb3BlX1NwZWN0cnVtLnhWYWw7XG5cdFx0fVxuXG5cdFx0aWYgKCBtb2RlID09PSAnY291bnQnICkge1xuXG5cdFx0XHRpZiAoICF2YWx1ZXMgKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3ZhbHVlcycgcmVxdWlyZWQgZm9yIG1vZGUgJ2NvdW50Jy5cIik7XG5cdFx0XHR9XG5cblx0XHRcdC8vIERpdmlkZSAwIC0gMTAwIGluICdjb3VudCcgcGFydHMuXG5cdFx0XHR2YXIgc3ByZWFkID0gKCAxMDAgLyAodmFsdWVzIC0gMSkgKTtcblx0XHRcdHZhciB2O1xuXHRcdFx0dmFyIGkgPSAwO1xuXG5cdFx0XHR2YWx1ZXMgPSBbXTtcblxuXHRcdFx0Ly8gTGlzdCB0aGVzZSBwYXJ0cyBhbmQgaGF2ZSB0aGVtIGhhbmRsZWQgYXMgJ3Bvc2l0aW9ucycuXG5cdFx0XHR3aGlsZSAoICh2ID0gaSsrICogc3ByZWFkKSA8PSAxMDAgKSB7XG5cdFx0XHRcdHZhbHVlcy5wdXNoKHYpO1xuXHRcdFx0fVxuXG5cdFx0XHRtb2RlID0gJ3Bvc2l0aW9ucyc7XG5cdFx0fVxuXG5cdFx0aWYgKCBtb2RlID09PSAncG9zaXRpb25zJyApIHtcblxuXHRcdFx0Ly8gTWFwIGFsbCBwZXJjZW50YWdlcyB0byBvbi1yYW5nZSB2YWx1ZXMuXG5cdFx0XHRyZXR1cm4gdmFsdWVzLm1hcChmdW5jdGlvbiggdmFsdWUgKXtcblx0XHRcdFx0cmV0dXJuIHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyggc3RlcHBlZCA/IHNjb3BlX1NwZWN0cnVtLmdldFN0ZXAoIHZhbHVlICkgOiB2YWx1ZSApO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0aWYgKCBtb2RlID09PSAndmFsdWVzJyApIHtcblxuXHRcdFx0Ly8gSWYgdGhlIHZhbHVlIG11c3QgYmUgc3RlcHBlZCwgaXQgbmVlZHMgdG8gYmUgY29udmVydGVkIHRvIGEgcGVyY2VudGFnZSBmaXJzdC5cblx0XHRcdGlmICggc3RlcHBlZCApIHtcblxuXHRcdFx0XHRyZXR1cm4gdmFsdWVzLm1hcChmdW5jdGlvbiggdmFsdWUgKXtcblxuXHRcdFx0XHRcdC8vIENvbnZlcnQgdG8gcGVyY2VudGFnZSwgYXBwbHkgc3RlcCwgcmV0dXJuIHRvIHZhbHVlLlxuXHRcdFx0XHRcdHJldHVybiBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcoIHNjb3BlX1NwZWN0cnVtLmdldFN0ZXAoIHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcoIHZhbHVlICkgKSApO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0fVxuXG5cdFx0XHQvLyBPdGhlcndpc2UsIHdlIGNhbiBzaW1wbHkgdXNlIHRoZSB2YWx1ZXMuXG5cdFx0XHRyZXR1cm4gdmFsdWVzO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIGdlbmVyYXRlU3ByZWFkICggZGVuc2l0eSwgbW9kZSwgZ3JvdXAgKSB7XG5cblx0XHRmdW5jdGlvbiBzYWZlSW5jcmVtZW50KHZhbHVlLCBpbmNyZW1lbnQpIHtcblx0XHRcdC8vIEF2b2lkIGZsb2F0aW5nIHBvaW50IHZhcmlhbmNlIGJ5IGRyb3BwaW5nIHRoZSBzbWFsbGVzdCBkZWNpbWFsIHBsYWNlcy5cblx0XHRcdHJldHVybiAodmFsdWUgKyBpbmNyZW1lbnQpLnRvRml4ZWQoNykgLyAxO1xuXHRcdH1cblxuXHRcdHZhciBpbmRleGVzID0ge307XG5cdFx0dmFyIGZpcnN0SW5SYW5nZSA9IHNjb3BlX1NwZWN0cnVtLnhWYWxbMF07XG5cdFx0dmFyIGxhc3RJblJhbmdlID0gc2NvcGVfU3BlY3RydW0ueFZhbFtzY29wZV9TcGVjdHJ1bS54VmFsLmxlbmd0aC0xXTtcblx0XHR2YXIgaWdub3JlRmlyc3QgPSBmYWxzZTtcblx0XHR2YXIgaWdub3JlTGFzdCA9IGZhbHNlO1xuXHRcdHZhciBwcmV2UGN0ID0gMDtcblxuXHRcdC8vIENyZWF0ZSBhIGNvcHkgb2YgdGhlIGdyb3VwLCBzb3J0IGl0IGFuZCBmaWx0ZXIgYXdheSBhbGwgZHVwbGljYXRlcy5cblx0XHRncm91cCA9IHVuaXF1ZShncm91cC5zbGljZSgpLnNvcnQoZnVuY3Rpb24oYSwgYil7IHJldHVybiBhIC0gYjsgfSkpO1xuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoZSByYW5nZSBzdGFydHMgd2l0aCB0aGUgZmlyc3QgZWxlbWVudC5cblx0XHRpZiAoIGdyb3VwWzBdICE9PSBmaXJzdEluUmFuZ2UgKSB7XG5cdFx0XHRncm91cC51bnNoaWZ0KGZpcnN0SW5SYW5nZSk7XG5cdFx0XHRpZ25vcmVGaXJzdCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gTGlrZXdpc2UgZm9yIHRoZSBsYXN0IG9uZS5cblx0XHRpZiAoIGdyb3VwW2dyb3VwLmxlbmd0aCAtIDFdICE9PSBsYXN0SW5SYW5nZSApIHtcblx0XHRcdGdyb3VwLnB1c2gobGFzdEluUmFuZ2UpO1xuXHRcdFx0aWdub3JlTGFzdCA9IHRydWU7XG5cdFx0fVxuXG5cdFx0Z3JvdXAuZm9yRWFjaChmdW5jdGlvbiAoIGN1cnJlbnQsIGluZGV4ICkge1xuXG5cdFx0XHQvLyBHZXQgdGhlIGN1cnJlbnQgc3RlcCBhbmQgdGhlIGxvd2VyICsgdXBwZXIgcG9zaXRpb25zLlxuXHRcdFx0dmFyIHN0ZXA7XG5cdFx0XHR2YXIgaTtcblx0XHRcdHZhciBxO1xuXHRcdFx0dmFyIGxvdyA9IGN1cnJlbnQ7XG5cdFx0XHR2YXIgaGlnaCA9IGdyb3VwW2luZGV4KzFdO1xuXHRcdFx0dmFyIG5ld1BjdDtcblx0XHRcdHZhciBwY3REaWZmZXJlbmNlO1xuXHRcdFx0dmFyIHBjdFBvcztcblx0XHRcdHZhciB0eXBlO1xuXHRcdFx0dmFyIHN0ZXBzO1xuXHRcdFx0dmFyIHJlYWxTdGVwcztcblx0XHRcdHZhciBzdGVwc2l6ZTtcblxuXHRcdFx0Ly8gV2hlbiB1c2luZyAnc3RlcHMnIG1vZGUsIHVzZSB0aGUgcHJvdmlkZWQgc3RlcHMuXG5cdFx0XHQvLyBPdGhlcndpc2UsIHdlJ2xsIHN0ZXAgb24gdG8gdGhlIG5leHQgc3VicmFuZ2UuXG5cdFx0XHRpZiAoIG1vZGUgPT09ICdzdGVwcycgKSB7XG5cdFx0XHRcdHN0ZXAgPSBzY29wZV9TcGVjdHJ1bS54TnVtU3RlcHNbIGluZGV4IF07XG5cdFx0XHR9XG5cblx0XHRcdC8vIERlZmF1bHQgdG8gYSAnZnVsbCcgc3RlcC5cblx0XHRcdGlmICggIXN0ZXAgKSB7XG5cdFx0XHRcdHN0ZXAgPSBoaWdoLWxvdztcblx0XHRcdH1cblxuXHRcdFx0Ly8gTG93IGNhbiBiZSAwLCBzbyB0ZXN0IGZvciBmYWxzZS4gSWYgaGlnaCBpcyB1bmRlZmluZWQsXG5cdFx0XHQvLyB3ZSBhcmUgYXQgdGhlIGxhc3Qgc3VicmFuZ2UuIEluZGV4IDAgaXMgYWxyZWFkeSBoYW5kbGVkLlxuXHRcdFx0aWYgKCBsb3cgPT09IGZhbHNlIHx8IGhpZ2ggPT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBNYWtlIHN1cmUgc3RlcCBpc24ndCAwLCB3aGljaCB3b3VsZCBjYXVzZSBhbiBpbmZpbml0ZSBsb29wICgjNjU0KVxuXHRcdFx0c3RlcCA9IE1hdGgubWF4KHN0ZXAsIDAuMDAwMDAwMSk7XG5cblx0XHRcdC8vIEZpbmQgYWxsIHN0ZXBzIGluIHRoZSBzdWJyYW5nZS5cblx0XHRcdGZvciAoIGkgPSBsb3c7IGkgPD0gaGlnaDsgaSA9IHNhZmVJbmNyZW1lbnQoaSwgc3RlcCkgKSB7XG5cblx0XHRcdFx0Ly8gR2V0IHRoZSBwZXJjZW50YWdlIHZhbHVlIGZvciB0aGUgY3VycmVudCBzdGVwLFxuXHRcdFx0XHQvLyBjYWxjdWxhdGUgdGhlIHNpemUgZm9yIHRoZSBzdWJyYW5nZS5cblx0XHRcdFx0bmV3UGN0ID0gc2NvcGVfU3BlY3RydW0udG9TdGVwcGluZyggaSApO1xuXHRcdFx0XHRwY3REaWZmZXJlbmNlID0gbmV3UGN0IC0gcHJldlBjdDtcblxuXHRcdFx0XHRzdGVwcyA9IHBjdERpZmZlcmVuY2UgLyBkZW5zaXR5O1xuXHRcdFx0XHRyZWFsU3RlcHMgPSBNYXRoLnJvdW5kKHN0ZXBzKTtcblxuXHRcdFx0XHQvLyBUaGlzIHJhdGlvIHJlcHJlc2VudHMgdGhlIGFtbW91bnQgb2YgcGVyY2VudGFnZS1zcGFjZSBhIHBvaW50IGluZGljYXRlcy5cblx0XHRcdFx0Ly8gRm9yIGEgZGVuc2l0eSAxIHRoZSBwb2ludHMvcGVyY2VudGFnZSA9IDEuIEZvciBkZW5zaXR5IDIsIHRoYXQgcGVyY2VudGFnZSBuZWVkcyB0byBiZSByZS1kZXZpZGVkLlxuXHRcdFx0XHQvLyBSb3VuZCB0aGUgcGVyY2VudGFnZSBvZmZzZXQgdG8gYW4gZXZlbiBudW1iZXIsIHRoZW4gZGl2aWRlIGJ5IHR3b1xuXHRcdFx0XHQvLyB0byBzcHJlYWQgdGhlIG9mZnNldCBvbiBib3RoIHNpZGVzIG9mIHRoZSByYW5nZS5cblx0XHRcdFx0c3RlcHNpemUgPSBwY3REaWZmZXJlbmNlL3JlYWxTdGVwcztcblxuXHRcdFx0XHQvLyBEaXZpZGUgYWxsIHBvaW50cyBldmVubHksIGFkZGluZyB0aGUgY29ycmVjdCBudW1iZXIgdG8gdGhpcyBzdWJyYW5nZS5cblx0XHRcdFx0Ly8gUnVuIHVwIHRvIDw9IHNvIHRoYXQgMTAwJSBnZXRzIGEgcG9pbnQsIGV2ZW50IGlmIGlnbm9yZUxhc3QgaXMgc2V0LlxuXHRcdFx0XHRmb3IgKCBxID0gMTsgcSA8PSByZWFsU3RlcHM7IHEgKz0gMSApIHtcblxuXHRcdFx0XHRcdC8vIFRoZSByYXRpbyBiZXR3ZWVuIHRoZSByb3VuZGVkIHZhbHVlIGFuZCB0aGUgYWN0dWFsIHNpemUgbWlnaHQgYmUgfjElIG9mZi5cblx0XHRcdFx0XHQvLyBDb3JyZWN0IHRoZSBwZXJjZW50YWdlIG9mZnNldCBieSB0aGUgbnVtYmVyIG9mIHBvaW50c1xuXHRcdFx0XHRcdC8vIHBlciBzdWJyYW5nZS4gZGVuc2l0eSA9IDEgd2lsbCByZXN1bHQgaW4gMTAwIHBvaW50cyBvbiB0aGVcblx0XHRcdFx0XHQvLyBmdWxsIHJhbmdlLCAyIGZvciA1MCwgNCBmb3IgMjUsIGV0Yy5cblx0XHRcdFx0XHRwY3RQb3MgPSBwcmV2UGN0ICsgKCBxICogc3RlcHNpemUgKTtcblx0XHRcdFx0XHRpbmRleGVzW3BjdFBvcy50b0ZpeGVkKDUpXSA9IFsneCcsIDBdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gRGV0ZXJtaW5lIHRoZSBwb2ludCB0eXBlLlxuXHRcdFx0XHR0eXBlID0gKGdyb3VwLmluZGV4T2YoaSkgPiAtMSkgPyAxIDogKCBtb2RlID09PSAnc3RlcHMnID8gMiA6IDAgKTtcblxuXHRcdFx0XHQvLyBFbmZvcmNlIHRoZSAnaWdub3JlRmlyc3QnIG9wdGlvbiBieSBvdmVyd3JpdGluZyB0aGUgdHlwZSBmb3IgMC5cblx0XHRcdFx0aWYgKCAhaW5kZXggJiYgaWdub3JlRmlyc3QgKSB7XG5cdFx0XHRcdFx0dHlwZSA9IDA7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoICEoaSA9PT0gaGlnaCAmJiBpZ25vcmVMYXN0KSkge1xuXHRcdFx0XHRcdC8vIE1hcmsgdGhlICd0eXBlJyBvZiB0aGlzIHBvaW50LiAwID0gcGxhaW4sIDEgPSByZWFsIHZhbHVlLCAyID0gc3RlcCB2YWx1ZS5cblx0XHRcdFx0XHRpbmRleGVzW25ld1BjdC50b0ZpeGVkKDUpXSA9IFtpLCB0eXBlXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFVwZGF0ZSB0aGUgcGVyY2VudGFnZSBjb3VudC5cblx0XHRcdFx0cHJldlBjdCA9IG5ld1BjdDtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHJldHVybiBpbmRleGVzO1xuXHR9XG5cblx0ZnVuY3Rpb24gYWRkTWFya2luZyAoIHNwcmVhZCwgZmlsdGVyRnVuYywgZm9ybWF0dGVyICkge1xuXG5cdFx0dmFyIGVsZW1lbnQgPSBzY29wZV9Eb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuXHRcdHZhciB2YWx1ZVNpemVDbGFzc2VzID0gW1xuXHRcdFx0b3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlTm9ybWFsLFxuXHRcdFx0b3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlTGFyZ2UsXG5cdFx0XHRvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVTdWJcblx0XHRdO1xuXHRcdHZhciBtYXJrZXJTaXplQ2xhc3NlcyA9IFtcblx0XHRcdG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJOb3JtYWwsXG5cdFx0XHRvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyTGFyZ2UsXG5cdFx0XHRvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyU3ViXG5cdFx0XTtcblx0XHR2YXIgdmFsdWVPcmllbnRhdGlvbkNsYXNzZXMgPSBbXG5cdFx0XHRvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVIb3Jpem9udGFsLFxuXHRcdFx0b3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlVmVydGljYWxcblx0XHRdO1xuXHRcdHZhciBtYXJrZXJPcmllbnRhdGlvbkNsYXNzZXMgPSBbXG5cdFx0XHRvcHRpb25zLmNzc0NsYXNzZXMubWFya2VySG9yaXpvbnRhbCxcblx0XHRcdG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJWZXJ0aWNhbFxuXHRcdF07XG5cblx0XHRhZGRDbGFzcyhlbGVtZW50LCBvcHRpb25zLmNzc0NsYXNzZXMucGlwcyk7XG5cdFx0YWRkQ2xhc3MoZWxlbWVudCwgb3B0aW9ucy5vcnQgPT09IDAgPyBvcHRpb25zLmNzc0NsYXNzZXMucGlwc0hvcml6b250YWwgOiBvcHRpb25zLmNzc0NsYXNzZXMucGlwc1ZlcnRpY2FsKTtcblxuXHRcdGZ1bmN0aW9uIGdldENsYXNzZXMoIHR5cGUsIHNvdXJjZSApe1xuXHRcdFx0dmFyIGEgPSBzb3VyY2UgPT09IG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZTtcblx0XHRcdHZhciBvcmllbnRhdGlvbkNsYXNzZXMgPSBhID8gdmFsdWVPcmllbnRhdGlvbkNsYXNzZXMgOiBtYXJrZXJPcmllbnRhdGlvbkNsYXNzZXM7XG5cdFx0XHR2YXIgc2l6ZUNsYXNzZXMgPSBhID8gdmFsdWVTaXplQ2xhc3NlcyA6IG1hcmtlclNpemVDbGFzc2VzO1xuXG5cdFx0XHRyZXR1cm4gc291cmNlICsgJyAnICsgb3JpZW50YXRpb25DbGFzc2VzW29wdGlvbnMub3J0XSArICcgJyArIHNpemVDbGFzc2VzW3R5cGVdO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGFkZFNwcmVhZCAoIG9mZnNldCwgdmFsdWVzICl7XG5cblx0XHRcdC8vIEFwcGx5IHRoZSBmaWx0ZXIgZnVuY3Rpb24sIGlmIGl0IGlzIHNldC5cblx0XHRcdHZhbHVlc1sxXSA9ICh2YWx1ZXNbMV0gJiYgZmlsdGVyRnVuYykgPyBmaWx0ZXJGdW5jKHZhbHVlc1swXSwgdmFsdWVzWzFdKSA6IHZhbHVlc1sxXTtcblxuXHRcdFx0Ly8gQWRkIGEgbWFya2VyIGZvciBldmVyeSBwb2ludFxuXHRcdFx0dmFyIG5vZGUgPSBhZGROb2RlVG8oZWxlbWVudCwgZmFsc2UpO1xuXHRcdFx0XHRub2RlLmNsYXNzTmFtZSA9IGdldENsYXNzZXModmFsdWVzWzFdLCBvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyKTtcblx0XHRcdFx0bm9kZS5zdHlsZVtvcHRpb25zLnN0eWxlXSA9IG9mZnNldCArICclJztcblxuXHRcdFx0Ly8gVmFsdWVzIGFyZSBvbmx5IGFwcGVuZGVkIGZvciBwb2ludHMgbWFya2VkICcxJyBvciAnMicuXG5cdFx0XHRpZiAoIHZhbHVlc1sxXSApIHtcblx0XHRcdFx0bm9kZSA9IGFkZE5vZGVUbyhlbGVtZW50LCBmYWxzZSk7XG5cdFx0XHRcdG5vZGUuY2xhc3NOYW1lID0gZ2V0Q2xhc3Nlcyh2YWx1ZXNbMV0sIG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZSk7XG5cdFx0XHRcdG5vZGUuc3R5bGVbb3B0aW9ucy5zdHlsZV0gPSBvZmZzZXQgKyAnJSc7XG5cdFx0XHRcdG5vZGUuaW5uZXJUZXh0ID0gZm9ybWF0dGVyLnRvKHZhbHVlc1swXSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gQXBwZW5kIGFsbCBwb2ludHMuXG5cdFx0T2JqZWN0LmtleXMoc3ByZWFkKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe1xuXHRcdFx0YWRkU3ByZWFkKGEsIHNwcmVhZFthXSk7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gZWxlbWVudDtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlbW92ZVBpcHMgKCApIHtcblx0XHRpZiAoIHNjb3BlX1BpcHMgKSB7XG5cdFx0XHRyZW1vdmVFbGVtZW50KHNjb3BlX1BpcHMpO1xuXHRcdFx0c2NvcGVfUGlwcyA9IG51bGw7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gcGlwcyAoIGdyaWQgKSB7XG5cblx0XHQvLyBGaXggIzY2OVxuXHRcdHJlbW92ZVBpcHMoKTtcblxuXHRcdHZhciBtb2RlID0gZ3JpZC5tb2RlO1xuXHRcdHZhciBkZW5zaXR5ID0gZ3JpZC5kZW5zaXR5IHx8IDE7XG5cdFx0dmFyIGZpbHRlciA9IGdyaWQuZmlsdGVyIHx8IGZhbHNlO1xuXHRcdHZhciB2YWx1ZXMgPSBncmlkLnZhbHVlcyB8fCBmYWxzZTtcblx0XHR2YXIgc3RlcHBlZCA9IGdyaWQuc3RlcHBlZCB8fCBmYWxzZTtcblx0XHR2YXIgZ3JvdXAgPSBnZXRHcm91cCggbW9kZSwgdmFsdWVzLCBzdGVwcGVkICk7XG5cdFx0dmFyIHNwcmVhZCA9IGdlbmVyYXRlU3ByZWFkKCBkZW5zaXR5LCBtb2RlLCBncm91cCApO1xuXHRcdHZhciBmb3JtYXQgPSBncmlkLmZvcm1hdCB8fCB7XG5cdFx0XHR0bzogTWF0aC5yb3VuZFxuXHRcdH07XG5cblx0XHRzY29wZV9QaXBzID0gc2NvcGVfVGFyZ2V0LmFwcGVuZENoaWxkKGFkZE1hcmtpbmcoXG5cdFx0XHRzcHJlYWQsXG5cdFx0XHRmaWx0ZXIsXG5cdFx0XHRmb3JtYXRcblx0XHQpKTtcblxuXHRcdHJldHVybiBzY29wZV9QaXBzO1xuXHR9XG5cblxuXHQvLyBTaG9ydGhhbmQgZm9yIGJhc2UgZGltZW5zaW9ucy5cblx0ZnVuY3Rpb24gYmFzZVNpemUgKCApIHtcblx0XHR2YXIgcmVjdCA9IHNjb3BlX0Jhc2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGFsdCA9ICdvZmZzZXQnICsgWydXaWR0aCcsICdIZWlnaHQnXVtvcHRpb25zLm9ydF07XG5cdFx0cmV0dXJuIG9wdGlvbnMub3J0ID09PSAwID8gKHJlY3Qud2lkdGh8fHNjb3BlX0Jhc2VbYWx0XSkgOiAocmVjdC5oZWlnaHR8fHNjb3BlX0Jhc2VbYWx0XSk7XG5cdH1cblxuXHQvLyBIYW5kbGVyIGZvciBhdHRhY2hpbmcgZXZlbnRzIHRyb3VnaCBhIHByb3h5LlxuXHRmdW5jdGlvbiBhdHRhY2hFdmVudCAoIGV2ZW50cywgZWxlbWVudCwgY2FsbGJhY2ssIGRhdGEgKSB7XG5cblx0XHQvLyBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvICdmaWx0ZXInIGV2ZW50cyB0byB0aGUgc2xpZGVyLlxuXHRcdC8vIGVsZW1lbnQgaXMgYSBub2RlLCBub3QgYSBub2RlTGlzdFxuXG5cdFx0dmFyIG1ldGhvZCA9IGZ1bmN0aW9uICggZSApe1xuXG5cdFx0XHRpZiAoIHNjb3BlX1RhcmdldC5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gU3RvcCBpZiBhbiBhY3RpdmUgJ3RhcCcgdHJhbnNpdGlvbiBpcyB0YWtpbmcgcGxhY2UuXG5cdFx0XHRpZiAoIGhhc0NsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRhcCkgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0ZSA9IGZpeEV2ZW50KGUsIGRhdGEucGFnZU9mZnNldCwgZGF0YS50YXJnZXQgfHwgZWxlbWVudCk7XG5cblx0XHRcdC8vIEhhbmRsZSByZWplY3Qgb2YgbXVsdGl0b3VjaFxuXHRcdFx0aWYgKCAhZSApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZ25vcmUgcmlnaHQgb3IgbWlkZGxlIGNsaWNrcyBvbiBzdGFydCAjNDU0XG5cdFx0XHRpZiAoIGV2ZW50cyA9PT0gYWN0aW9ucy5zdGFydCAmJiBlLmJ1dHRvbnMgIT09IHVuZGVmaW5lZCAmJiBlLmJ1dHRvbnMgPiAxICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElnbm9yZSByaWdodCBvciBtaWRkbGUgY2xpY2tzIG9uIHN0YXJ0ICM0NTRcblx0XHRcdGlmICggZGF0YS5ob3ZlciAmJiBlLmJ1dHRvbnMgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gJ3N1cHBvcnRzUGFzc2l2ZScgaXMgb25seSB0cnVlIGlmIGEgYnJvd3NlciBhbHNvIHN1cHBvcnRzIHRvdWNoLWFjdGlvbjogbm9uZSBpbiBDU1MuXG5cdFx0XHQvLyBpT1Mgc2FmYXJpIGRvZXMgbm90LCBzbyBpdCBkb2Vzbid0IGdldCB0byBiZW5lZml0IGZyb20gcGFzc2l2ZSBzY3JvbGxpbmcuIGlPUyBkb2VzIHN1cHBvcnRcblx0XHRcdC8vIHRvdWNoLWFjdGlvbjogbWFuaXB1bGF0aW9uLCBidXQgdGhhdCBhbGxvd3MgcGFubmluZywgd2hpY2ggYnJlYWtzXG5cdFx0XHQvLyBzbGlkZXJzIGFmdGVyIHpvb21pbmcvb24gbm9uLXJlc3BvbnNpdmUgcGFnZXMuXG5cdFx0XHQvLyBTZWU6IGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMzMxMTJcblx0XHRcdGlmICggIXN1cHBvcnRzUGFzc2l2ZSApIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fVxuXG5cdFx0XHRlLmNhbGNQb2ludCA9IGUucG9pbnRzWyBvcHRpb25zLm9ydCBdO1xuXG5cdFx0XHQvLyBDYWxsIHRoZSBldmVudCBoYW5kbGVyIHdpdGggdGhlIGV2ZW50IFsgYW5kIGFkZGl0aW9uYWwgZGF0YSBdLlxuXHRcdFx0Y2FsbGJhY2sgKCBlLCBkYXRhICk7XG5cdFx0fTtcblxuXHRcdHZhciBtZXRob2RzID0gW107XG5cblx0XHQvLyBCaW5kIGEgY2xvc3VyZSBvbiB0aGUgdGFyZ2V0IGZvciBldmVyeSBldmVudCB0eXBlLlxuXHRcdGV2ZW50cy5zcGxpdCgnICcpLmZvckVhY2goZnVuY3Rpb24oIGV2ZW50TmFtZSApe1xuXHRcdFx0ZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgbWV0aG9kLCBzdXBwb3J0c1Bhc3NpdmUgPyB7IHBhc3NpdmU6IHRydWUgfSA6IGZhbHNlKTtcblx0XHRcdG1ldGhvZHMucHVzaChbZXZlbnROYW1lLCBtZXRob2RdKTtcblx0XHR9KTtcblxuXHRcdHJldHVybiBtZXRob2RzO1xuXHR9XG5cblx0Ly8gUHJvdmlkZSBhIGNsZWFuIGV2ZW50IHdpdGggc3RhbmRhcmRpemVkIG9mZnNldCB2YWx1ZXMuXG5cdGZ1bmN0aW9uIGZpeEV2ZW50ICggZSwgcGFnZU9mZnNldCwgdGFyZ2V0ICkge1xuXG5cdFx0Ly8gRmlsdGVyIHRoZSBldmVudCB0byByZWdpc3RlciB0aGUgdHlwZSwgd2hpY2ggY2FuIGJlXG5cdFx0Ly8gdG91Y2gsIG1vdXNlIG9yIHBvaW50ZXIuIE9mZnNldCBjaGFuZ2VzIG5lZWQgdG8gYmVcblx0XHQvLyBtYWRlIG9uIGFuIGV2ZW50IHNwZWNpZmljIGJhc2lzLlxuXHRcdHZhciB0b3VjaCA9IGUudHlwZS5pbmRleE9mKCd0b3VjaCcpID09PSAwO1xuXHRcdHZhciBtb3VzZSA9IGUudHlwZS5pbmRleE9mKCdtb3VzZScpID09PSAwO1xuXHRcdHZhciBwb2ludGVyID0gZS50eXBlLmluZGV4T2YoJ3BvaW50ZXInKSA9PT0gMDtcblxuXHRcdHZhciB4O1xuXHRcdHZhciB5O1xuXG5cdFx0Ly8gSUUxMCBpbXBsZW1lbnRlZCBwb2ludGVyIGV2ZW50cyB3aXRoIGEgcHJlZml4O1xuXHRcdGlmICggZS50eXBlLmluZGV4T2YoJ01TUG9pbnRlcicpID09PSAwICkge1xuXHRcdFx0cG9pbnRlciA9IHRydWU7XG5cdFx0fVxuXG5cblx0XHQvLyBJbiB0aGUgZXZlbnQgdGhhdCBtdWx0aXRvdWNoIGlzIGFjdGl2YXRlZCwgdGhlIG9ubHkgdGhpbmcgb25lIGhhbmRsZSBzaG91bGQgYmUgY29uY2VybmVkXG5cdFx0Ly8gYWJvdXQgaXMgdGhlIHRvdWNoZXMgdGhhdCBvcmlnaW5hdGVkIG9uIHRvcCBvZiBpdC5cblx0XHRpZiAoIHRvdWNoICYmIG9wdGlvbnMubXVsdGl0b3VjaCApIHtcblx0XHRcdC8vIFJldHVybnMgdHJ1ZSBpZiBhIHRvdWNoIG9yaWdpbmF0ZWQgb24gdGhlIHRhcmdldC5cblx0XHRcdHZhciBpc1RvdWNoT25UYXJnZXQgPSBmdW5jdGlvbiAodG91Y2gpIHtcblx0XHRcdFx0cmV0dXJuIHRvdWNoLnRhcmdldCA9PT0gdGFyZ2V0IHx8IHRhcmdldC5jb250YWlucyh0b3VjaC50YXJnZXQpO1xuXHRcdFx0fTtcblx0XHRcdC8vIEluIHRoZSBjYXNlIG9mIHRvdWNoc3RhcnQgZXZlbnRzLCB3ZSBuZWVkIHRvIG1ha2Ugc3VyZSB0aGVyZSBpcyBzdGlsbCBubyBtb3JlIHRoYW4gb25lXG5cdFx0XHQvLyB0b3VjaCBvbiB0aGUgdGFyZ2V0IHNvIHdlIGxvb2sgYW1vbmdzdCBhbGwgdG91Y2hlcy5cblx0XHRcdGlmIChlLnR5cGUgPT09ICd0b3VjaHN0YXJ0Jykge1xuXHRcdFx0XHR2YXIgdGFyZ2V0VG91Y2hlcyA9IEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChlLnRvdWNoZXMsIGlzVG91Y2hPblRhcmdldCk7XG5cdFx0XHRcdC8vIERvIG5vdCBzdXBwb3J0IG1vcmUgdGhhbiBvbmUgdG91Y2ggcGVyIGhhbmRsZS5cblx0XHRcdFx0aWYgKCB0YXJnZXRUb3VjaGVzLmxlbmd0aCA+IDEgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHggPSB0YXJnZXRUb3VjaGVzWzBdLnBhZ2VYO1xuXHRcdFx0XHR5ID0gdGFyZ2V0VG91Y2hlc1swXS5wYWdlWTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBJbiB0aGUgb3RoZXIgY2FzZXMsIGZpbmQgb24gY2hhbmdlZFRvdWNoZXMgaXMgZW5vdWdoLlxuXHRcdFx0XHR2YXIgdGFyZ2V0VG91Y2ggPSBBcnJheS5wcm90b3R5cGUuZmluZC5jYWxsKGUuY2hhbmdlZFRvdWNoZXMsIGlzVG91Y2hPblRhcmdldCk7XG5cdFx0XHRcdC8vIENhbmNlbCBpZiB0aGUgdGFyZ2V0IHRvdWNoIGhhcyBub3QgbW92ZWQuXG5cdFx0XHRcdGlmICggIXRhcmdldFRvdWNoICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHR4ID0gdGFyZ2V0VG91Y2gucGFnZVg7XG5cdFx0XHRcdHkgPSB0YXJnZXRUb3VjaC5wYWdlWTtcblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKCB0b3VjaCApIHtcblx0XHRcdC8vIEZpeCBidWcgd2hlbiB1c2VyIHRvdWNoZXMgd2l0aCB0d28gb3IgbW9yZSBmaW5nZXJzIG9uIG1vYmlsZSBkZXZpY2VzLlxuXHRcdFx0Ly8gSXQncyB1c2VmdWwgd2hlbiB5b3UgaGF2ZSB0d28gb3IgbW9yZSBzbGlkZXJzIG9uIG9uZSBwYWdlLFxuXHRcdFx0Ly8gdGhhdCBjYW4gYmUgdG91Y2hlZCBzaW11bHRhbmVvdXNseS5cblx0XHRcdC8vICM2NDksICM2NjMsICM2Njhcblx0XHRcdGlmICggZS50b3VjaGVzLmxlbmd0aCA+IDEgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gbm9VaVNsaWRlciBzdXBwb3J0cyBvbmUgbW92ZW1lbnQgYXQgYSB0aW1lLFxuXHRcdFx0Ly8gc28gd2UgY2FuIHNlbGVjdCB0aGUgZmlyc3QgJ2NoYW5nZWRUb3VjaCcuXG5cdFx0XHR4ID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWDtcblx0XHRcdHkgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VZO1xuXHRcdH1cblxuXHRcdHBhZ2VPZmZzZXQgPSBwYWdlT2Zmc2V0IHx8IGdldFBhZ2VPZmZzZXQoc2NvcGVfRG9jdW1lbnQpO1xuXG5cdFx0aWYgKCBtb3VzZSB8fCBwb2ludGVyICkge1xuXHRcdFx0eCA9IGUuY2xpZW50WCArIHBhZ2VPZmZzZXQueDtcblx0XHRcdHkgPSBlLmNsaWVudFkgKyBwYWdlT2Zmc2V0Lnk7XG5cdFx0fVxuXG5cdFx0ZS5wYWdlT2Zmc2V0ID0gcGFnZU9mZnNldDtcblx0XHRlLnBvaW50cyA9IFt4LCB5XTtcblx0XHRlLmN1cnNvciA9IG1vdXNlIHx8IHBvaW50ZXI7IC8vIEZpeCAjNDM1XG5cblx0XHRyZXR1cm4gZTtcblx0fVxuXG5cdC8vIFRyYW5zbGF0ZSBhIGNvb3JkaW5hdGUgaW4gdGhlIGRvY3VtZW50IHRvIGEgcGVyY2VudGFnZSBvbiB0aGUgc2xpZGVyXG5cdGZ1bmN0aW9uIGNhbGNQb2ludFRvUGVyY2VudGFnZSAoIGNhbGNQb2ludCApIHtcblx0XHR2YXIgbG9jYXRpb24gPSBjYWxjUG9pbnQgLSBvZmZzZXQoc2NvcGVfQmFzZSwgb3B0aW9ucy5vcnQpO1xuXHRcdHZhciBwcm9wb3NhbCA9ICggbG9jYXRpb24gKiAxMDAgKSAvIGJhc2VTaXplKCk7XG5cdFx0cmV0dXJuIG9wdGlvbnMuZGlyID8gMTAwIC0gcHJvcG9zYWwgOiBwcm9wb3NhbDtcblx0fVxuXG5cdC8vIEZpbmQgaGFuZGxlIGNsb3Nlc3QgdG8gYSBjZXJ0YWluIHBlcmNlbnRhZ2Ugb24gdGhlIHNsaWRlclxuXHRmdW5jdGlvbiBnZXRDbG9zZXN0SGFuZGxlICggcHJvcG9zYWwgKSB7XG5cblx0XHR2YXIgY2xvc2VzdCA9IDEwMDtcblx0XHR2YXIgaGFuZGxlTnVtYmVyID0gZmFsc2U7XG5cblx0XHRzY29wZV9IYW5kbGVzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlLCBpbmRleCl7XG5cblx0XHRcdC8vIERpc2FibGVkIGhhbmRsZXMgYXJlIGlnbm9yZWRcblx0XHRcdGlmICggaGFuZGxlLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcG9zID0gTWF0aC5hYnMoc2NvcGVfTG9jYXRpb25zW2luZGV4XSAtIHByb3Bvc2FsKTtcblxuXHRcdFx0aWYgKCBwb3MgPCBjbG9zZXN0ICkge1xuXHRcdFx0XHRoYW5kbGVOdW1iZXIgPSBpbmRleDtcblx0XHRcdFx0Y2xvc2VzdCA9IHBvcztcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHJldHVybiBoYW5kbGVOdW1iZXI7XG5cdH1cblxuXHQvLyBNb3ZlcyBoYW5kbGUocykgYnkgYSBwZXJjZW50YWdlXG5cdC8vIChib29sLCAlIHRvIG1vdmUsIFslIHdoZXJlIGhhbmRsZSBzdGFydGVkLCAuLi5dLCBbaW5kZXggaW4gc2NvcGVfSGFuZGxlcywgLi4uXSlcblx0ZnVuY3Rpb24gbW92ZUhhbmRsZXMgKCB1cHdhcmQsIHByb3Bvc2FsLCBsb2NhdGlvbnMsIGhhbmRsZU51bWJlcnMgKSB7XG5cblx0XHR2YXIgcHJvcG9zYWxzID0gbG9jYXRpb25zLnNsaWNlKCk7XG5cblx0XHR2YXIgYiA9IFshdXB3YXJkLCB1cHdhcmRdO1xuXHRcdHZhciBmID0gW3Vwd2FyZCwgIXVwd2FyZF07XG5cblx0XHQvLyBDb3B5IGhhbmRsZU51bWJlcnMgc28gd2UgZG9uJ3QgY2hhbmdlIHRoZSBkYXRhc2V0XG5cdFx0aGFuZGxlTnVtYmVycyA9IGhhbmRsZU51bWJlcnMuc2xpY2UoKTtcblxuXHRcdC8vIENoZWNrIHRvIHNlZSB3aGljaCBoYW5kbGUgaXMgJ2xlYWRpbmcnLlxuXHRcdC8vIElmIHRoYXQgb25lIGNhbid0IG1vdmUgdGhlIHNlY29uZCBjYW4ndCBlaXRoZXIuXG5cdFx0aWYgKCB1cHdhcmQgKSB7XG5cdFx0XHRoYW5kbGVOdW1iZXJzLnJldmVyc2UoKTtcblx0XHR9XG5cblx0XHQvLyBTdGVwIDE6IGdldCB0aGUgbWF4aW11bSBwZXJjZW50YWdlIHRoYXQgYW55IG9mIHRoZSBoYW5kbGVzIGNhbiBtb3ZlXG5cdFx0aWYgKCBoYW5kbGVOdW1iZXJzLmxlbmd0aCA+IDEgKSB7XG5cblx0XHRcdGhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVOdW1iZXIsIG8pIHtcblxuXHRcdFx0XHR2YXIgdG8gPSBjaGVja0hhbmRsZVBvc2l0aW9uKHByb3Bvc2FscywgaGFuZGxlTnVtYmVyLCBwcm9wb3NhbHNbaGFuZGxlTnVtYmVyXSArIHByb3Bvc2FsLCBiW29dLCBmW29dLCBmYWxzZSk7XG5cblx0XHRcdFx0Ly8gU3RvcCBpZiBvbmUgb2YgdGhlIGhhbmRsZXMgY2FuJ3QgbW92ZS5cblx0XHRcdFx0aWYgKCB0byA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdFx0cHJvcG9zYWwgPSAwO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHByb3Bvc2FsID0gdG8gLSBwcm9wb3NhbHNbaGFuZGxlTnVtYmVyXTtcblx0XHRcdFx0XHRwcm9wb3NhbHNbaGFuZGxlTnVtYmVyXSA9IHRvO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvLyBJZiB1c2luZyBvbmUgaGFuZGxlLCBjaGVjayBiYWNrd2FyZCBBTkQgZm9yd2FyZFxuXHRcdGVsc2Uge1xuXHRcdFx0YiA9IGYgPSBbdHJ1ZV07XG5cdFx0fVxuXG5cdFx0dmFyIHN0YXRlID0gZmFsc2U7XG5cblx0XHQvLyBTdGVwIDI6IFRyeSB0byBzZXQgdGhlIGhhbmRsZXMgd2l0aCB0aGUgZm91bmQgcGVyY2VudGFnZVxuXHRcdGhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVOdW1iZXIsIG8pIHtcblx0XHRcdHN0YXRlID0gc2V0SGFuZGxlKGhhbmRsZU51bWJlciwgbG9jYXRpb25zW2hhbmRsZU51bWJlcl0gKyBwcm9wb3NhbCwgYltvXSwgZltvXSkgfHwgc3RhdGU7XG5cdFx0fSk7XG5cblx0XHQvLyBTdGVwIDM6IElmIGEgaGFuZGxlIG1vdmVkLCBmaXJlIGV2ZW50c1xuXHRcdGlmICggc3RhdGUgKSB7XG5cdFx0XHRoYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyKXtcblx0XHRcdFx0ZmlyZUV2ZW50KCd1cGRhdGUnLCBoYW5kbGVOdW1iZXIpO1xuXHRcdFx0XHRmaXJlRXZlbnQoJ3NsaWRlJywgaGFuZGxlTnVtYmVyKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8vIEV4dGVybmFsIGV2ZW50IGhhbmRsaW5nXG5cdGZ1bmN0aW9uIGZpcmVFdmVudCAoIGV2ZW50TmFtZSwgaGFuZGxlTnVtYmVyLCB0YXAgKSB7XG5cblx0XHRPYmplY3Qua2V5cyhzY29wZV9FdmVudHMpLmZvckVhY2goZnVuY3Rpb24oIHRhcmdldEV2ZW50ICkge1xuXG5cdFx0XHR2YXIgZXZlbnRUeXBlID0gdGFyZ2V0RXZlbnQuc3BsaXQoJy4nKVswXTtcblxuXHRcdFx0aWYgKCBldmVudE5hbWUgPT09IGV2ZW50VHlwZSApIHtcblx0XHRcdFx0c2NvcGVfRXZlbnRzW3RhcmdldEV2ZW50XS5mb3JFYWNoKGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblxuXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwoXG5cdFx0XHRcdFx0XHQvLyBVc2UgdGhlIHNsaWRlciBwdWJsaWMgQVBJIGFzIHRoZSBzY29wZSAoJ3RoaXMnKVxuXHRcdFx0XHRcdFx0c2NvcGVfU2VsZixcblx0XHRcdFx0XHRcdC8vIFJldHVybiB2YWx1ZXMgYXMgYXJyYXksIHNvIGFyZ18xW2FyZ18yXSBpcyBhbHdheXMgdmFsaWQuXG5cdFx0XHRcdFx0XHRzY29wZV9WYWx1ZXMubWFwKG9wdGlvbnMuZm9ybWF0LnRvKSxcblx0XHRcdFx0XHRcdC8vIEhhbmRsZSBpbmRleCwgMCBvciAxXG5cdFx0XHRcdFx0XHRoYW5kbGVOdW1iZXIsXG5cdFx0XHRcdFx0XHQvLyBVbmZvcm1hdHRlZCBzbGlkZXIgdmFsdWVzXG5cdFx0XHRcdFx0XHRzY29wZV9WYWx1ZXMuc2xpY2UoKSxcblx0XHRcdFx0XHRcdC8vIEV2ZW50IGlzIGZpcmVkIGJ5IHRhcCwgdHJ1ZSBvciBmYWxzZVxuXHRcdFx0XHRcdFx0dGFwIHx8IGZhbHNlLFxuXHRcdFx0XHRcdFx0Ly8gTGVmdCBvZmZzZXQgb2YgdGhlIGhhbmRsZSwgaW4gcmVsYXRpb24gdG8gdGhlIHNsaWRlclxuXHRcdFx0XHRcdFx0c2NvcGVfTG9jYXRpb25zLnNsaWNlKClcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cblx0Ly8gRmlyZSAnZW5kJyB3aGVuIGEgbW91c2Ugb3IgcGVuIGxlYXZlcyB0aGUgZG9jdW1lbnQuXG5cdGZ1bmN0aW9uIGRvY3VtZW50TGVhdmUgKCBldmVudCwgZGF0YSApIHtcblx0XHRpZiAoIGV2ZW50LnR5cGUgPT09IFwibW91c2VvdXRcIiAmJiBldmVudC50YXJnZXQubm9kZU5hbWUgPT09IFwiSFRNTFwiICYmIGV2ZW50LnJlbGF0ZWRUYXJnZXQgPT09IG51bGwgKXtcblx0XHRcdGV2ZW50RW5kIChldmVudCwgZGF0YSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gSGFuZGxlIG1vdmVtZW50IG9uIGRvY3VtZW50IGZvciBoYW5kbGUgYW5kIHJhbmdlIGRyYWcuXG5cdGZ1bmN0aW9uIGV2ZW50TW92ZSAoIGV2ZW50LCBkYXRhICkge1xuXG5cdFx0Ly8gRml4ICM0OThcblx0XHQvLyBDaGVjayB2YWx1ZSBvZiAuYnV0dG9ucyBpbiAnc3RhcnQnIHRvIHdvcmsgYXJvdW5kIGEgYnVnIGluIElFMTAgbW9iaWxlIChkYXRhLmJ1dHRvbnNQcm9wZXJ0eSkuXG5cdFx0Ly8gaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy85MjcwMDUvbW9iaWxlLWllMTAtd2luZG93cy1waG9uZS1idXR0b25zLXByb3BlcnR5LW9mLXBvaW50ZXJtb3ZlLWV2ZW50LWFsd2F5cy16ZXJvXG5cdFx0Ly8gSUU5IGhhcyAuYnV0dG9ucyBhbmQgLndoaWNoIHplcm8gb24gbW91c2Vtb3ZlLlxuXHRcdC8vIEZpcmVmb3ggYnJlYWtzIHRoZSBzcGVjIE1ETiBkZWZpbmVzLlxuXHRcdGlmICggbmF2aWdhdG9yLmFwcFZlcnNpb24uaW5kZXhPZihcIk1TSUUgOVwiKSA9PT0gLTEgJiYgZXZlbnQuYnV0dG9ucyA9PT0gMCAmJiBkYXRhLmJ1dHRvbnNQcm9wZXJ0eSAhPT0gMCApIHtcblx0XHRcdHJldHVybiBldmVudEVuZChldmVudCwgZGF0YSk7XG5cdFx0fVxuXG5cdFx0Ly8gQ2hlY2sgaWYgd2UgYXJlIG1vdmluZyB1cCBvciBkb3duXG5cdFx0dmFyIG1vdmVtZW50ID0gKG9wdGlvbnMuZGlyID8gLTEgOiAxKSAqIChldmVudC5jYWxjUG9pbnQgLSBkYXRhLnN0YXJ0Q2FsY1BvaW50KTtcblxuXHRcdC8vIENvbnZlcnQgdGhlIG1vdmVtZW50IGludG8gYSBwZXJjZW50YWdlIG9mIHRoZSBzbGlkZXIgd2lkdGgvaGVpZ2h0XG5cdFx0dmFyIHByb3Bvc2FsID0gKG1vdmVtZW50ICogMTAwKSAvIGRhdGEuYmFzZVNpemU7XG5cblx0XHRtb3ZlSGFuZGxlcyhtb3ZlbWVudCA+IDAsIHByb3Bvc2FsLCBkYXRhLmxvY2F0aW9ucywgZGF0YS5oYW5kbGVOdW1iZXJzKTtcblx0fVxuXG5cdC8vIFVuYmluZCBtb3ZlIGV2ZW50cyBvbiBkb2N1bWVudCwgY2FsbCBjYWxsYmFja3MuXG5cdGZ1bmN0aW9uIGV2ZW50RW5kICggZXZlbnQsIGRhdGEgKSB7XG5cblx0XHQvLyBUaGUgaGFuZGxlIGlzIG5vIGxvbmdlciBhY3RpdmUsIHNvIHJlbW92ZSB0aGUgY2xhc3MuXG5cdFx0aWYgKCBkYXRhLmhhbmRsZSApIHtcblx0XHRcdHJlbW92ZUNsYXNzKGRhdGEuaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMuYWN0aXZlKTtcblx0XHRcdHNjb3BlX0FjdGl2ZUhhbmRsZXNDb3VudCAtPSAxO1xuXHRcdH1cblxuXHRcdC8vIFVuYmluZCB0aGUgbW92ZSBhbmQgZW5kIGV2ZW50cywgd2hpY2ggYXJlIGFkZGVkIG9uICdzdGFydCcuXG5cdFx0ZGF0YS5saXN0ZW5lcnMuZm9yRWFjaChmdW5jdGlvbiggYyApIHtcblx0XHRcdHNjb3BlX0RvY3VtZW50RWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKGNbMF0sIGNbMV0pO1xuXHRcdH0pO1xuXG5cdFx0aWYgKCBzY29wZV9BY3RpdmVIYW5kbGVzQ291bnQgPT09IDAgKSB7XG5cdFx0XHQvLyBSZW1vdmUgZHJhZ2dpbmcgY2xhc3MuXG5cdFx0XHRyZW1vdmVDbGFzcyhzY29wZV9UYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5kcmFnKTtcblx0XHRcdHNldFppbmRleCgpO1xuXG5cdFx0XHQvLyBSZW1vdmUgY3Vyc29yIHN0eWxlcyBhbmQgdGV4dC1zZWxlY3Rpb24gZXZlbnRzIGJvdW5kIHRvIHRoZSBib2R5LlxuXHRcdFx0aWYgKCBldmVudC5jdXJzb3IgKSB7XG5cdFx0XHRcdHNjb3BlX0JvZHkuc3R5bGUuY3Vyc29yID0gJyc7XG5cdFx0XHRcdHNjb3BlX0JvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCBwcmV2ZW50RGVmYXVsdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZGF0YS5oYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyKXtcblx0XHRcdGZpcmVFdmVudCgnY2hhbmdlJywgaGFuZGxlTnVtYmVyKTtcblx0XHRcdGZpcmVFdmVudCgnc2V0JywgaGFuZGxlTnVtYmVyKTtcblx0XHRcdGZpcmVFdmVudCgnZW5kJywgaGFuZGxlTnVtYmVyKTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIEJpbmQgbW92ZSBldmVudHMgb24gZG9jdW1lbnQuXG5cdGZ1bmN0aW9uIGV2ZW50U3RhcnQgKCBldmVudCwgZGF0YSApIHtcblxuXHRcdHZhciBoYW5kbGU7XG5cdFx0aWYgKCBkYXRhLmhhbmRsZU51bWJlcnMubGVuZ3RoID09PSAxICkge1xuXG5cdFx0XHR2YXIgaGFuZGxlT3JpZ2luID0gc2NvcGVfSGFuZGxlc1tkYXRhLmhhbmRsZU51bWJlcnNbMF1dO1xuXG5cdFx0XHQvLyBJZ25vcmUgJ2Rpc2FibGVkJyBoYW5kbGVzXG5cdFx0XHRpZiAoIGhhbmRsZU9yaWdpbi5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0aGFuZGxlID0gaGFuZGxlT3JpZ2luLmNoaWxkcmVuWzBdO1xuXHRcdFx0c2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ICs9IDE7XG5cblx0XHRcdC8vIE1hcmsgdGhlIGhhbmRsZSBhcyAnYWN0aXZlJyBzbyBpdCBjYW4gYmUgc3R5bGVkLlxuXHRcdFx0YWRkQ2xhc3MoaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMuYWN0aXZlKTtcblx0XHR9XG5cblx0XHQvLyBBIGRyYWcgc2hvdWxkIG5ldmVyIHByb3BhZ2F0ZSB1cCB0byB0aGUgJ3RhcCcgZXZlbnQuXG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHQvLyBSZWNvcmQgdGhlIGV2ZW50IGxpc3RlbmVycy5cblx0XHR2YXIgbGlzdGVuZXJzID0gW107XG5cblx0XHQvLyBBdHRhY2ggdGhlIG1vdmUgYW5kIGVuZCBldmVudHMuXG5cdFx0dmFyIG1vdmVFdmVudCA9IGF0dGFjaEV2ZW50KGFjdGlvbnMubW92ZSwgc2NvcGVfRG9jdW1lbnRFbGVtZW50LCBldmVudE1vdmUsIHtcblx0XHRcdC8vIFRoZSBldmVudCB0YXJnZXQgaGFzIGNoYW5nZWQgc28gd2UgbmVlZCB0byBwcm9wYWdhdGUgdGhlIG9yaWdpbmFsIG9uZSBzbyB0aGF0IHdlIGtlZXBcblx0XHRcdC8vIHJlbHlpbmcgb24gaXQgdG8gZXh0cmFjdCB0YXJnZXQgdG91Y2hlcy5cblx0XHRcdHRhcmdldDogZXZlbnQudGFyZ2V0LFxuXHRcdFx0aGFuZGxlOiBoYW5kbGUsXG5cdFx0XHRsaXN0ZW5lcnM6IGxpc3RlbmVycyxcblx0XHRcdHN0YXJ0Q2FsY1BvaW50OiBldmVudC5jYWxjUG9pbnQsXG5cdFx0XHRiYXNlU2l6ZTogYmFzZVNpemUoKSxcblx0XHRcdHBhZ2VPZmZzZXQ6IGV2ZW50LnBhZ2VPZmZzZXQsXG5cdFx0XHRoYW5kbGVOdW1iZXJzOiBkYXRhLmhhbmRsZU51bWJlcnMsXG5cdFx0XHRidXR0b25zUHJvcGVydHk6IGV2ZW50LmJ1dHRvbnMsXG5cdFx0XHRsb2NhdGlvbnM6IHNjb3BlX0xvY2F0aW9ucy5zbGljZSgpXG5cdFx0fSk7XG5cblx0XHR2YXIgZW5kRXZlbnQgPSBhdHRhY2hFdmVudChhY3Rpb25zLmVuZCwgc2NvcGVfRG9jdW1lbnRFbGVtZW50LCBldmVudEVuZCwge1xuXHRcdFx0dGFyZ2V0OiBldmVudC50YXJnZXQsXG5cdFx0XHRoYW5kbGU6IGhhbmRsZSxcblx0XHRcdGxpc3RlbmVyczogbGlzdGVuZXJzLFxuXHRcdFx0aGFuZGxlTnVtYmVyczogZGF0YS5oYW5kbGVOdW1iZXJzXG5cdFx0fSk7XG5cblx0XHR2YXIgb3V0RXZlbnQgPSBhdHRhY2hFdmVudChcIm1vdXNlb3V0XCIsIHNjb3BlX0RvY3VtZW50RWxlbWVudCwgZG9jdW1lbnRMZWF2ZSwge1xuXHRcdFx0dGFyZ2V0OiBldmVudC50YXJnZXQsXG5cdFx0XHRoYW5kbGU6IGhhbmRsZSxcblx0XHRcdGxpc3RlbmVyczogbGlzdGVuZXJzLFxuXHRcdFx0aGFuZGxlTnVtYmVyczogZGF0YS5oYW5kbGVOdW1iZXJzXG5cdFx0fSk7XG5cblx0XHQvLyBXZSB3YW50IHRvIG1ha2Ugc3VyZSB3ZSBwdXNoZWQgdGhlIGxpc3RlbmVycyBpbiB0aGUgbGlzdGVuZXIgbGlzdCByYXRoZXIgdGhhbiBjcmVhdGluZ1xuXHRcdC8vIGEgbmV3IG9uZSBhcyBpdCBoYXMgYWxyZWFkeSBiZWVuIHBhc3NlZCB0byB0aGUgZXZlbnQgaGFuZGxlcnMuXG5cdFx0bGlzdGVuZXJzLnB1c2guYXBwbHkobGlzdGVuZXJzLCBtb3ZlRXZlbnQuY29uY2F0KGVuZEV2ZW50LCBvdXRFdmVudCkpO1xuXG5cdFx0Ly8gVGV4dCBzZWxlY3Rpb24gaXNuJ3QgYW4gaXNzdWUgb24gdG91Y2ggZGV2aWNlcyxcblx0XHQvLyBzbyBhZGRpbmcgY3Vyc29yIHN0eWxlcyBjYW4gYmUgc2tpcHBlZC5cblx0XHRpZiAoIGV2ZW50LmN1cnNvciApIHtcblxuXHRcdFx0Ly8gUHJldmVudCB0aGUgJ0knIGN1cnNvciBhbmQgZXh0ZW5kIHRoZSByYW5nZS1kcmFnIGN1cnNvci5cblx0XHRcdHNjb3BlX0JvZHkuc3R5bGUuY3Vyc29yID0gZ2V0Q29tcHV0ZWRTdHlsZShldmVudC50YXJnZXQpLmN1cnNvcjtcblxuXHRcdFx0Ly8gTWFyayB0aGUgdGFyZ2V0IHdpdGggYSBkcmFnZ2luZyBzdGF0ZS5cblx0XHRcdGlmICggc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxICkge1xuXHRcdFx0XHRhZGRDbGFzcyhzY29wZV9UYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5kcmFnKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gUHJldmVudCB0ZXh0IHNlbGVjdGlvbiB3aGVuIGRyYWdnaW5nIHRoZSBoYW5kbGVzLlxuXHRcdFx0Ly8gSW4gbm9VaVNsaWRlciA8PSA5LjIuMCwgdGhpcyB3YXMgaGFuZGxlZCBieSBjYWxsaW5nIHByZXZlbnREZWZhdWx0IG9uIG1vdXNlL3RvdWNoIHN0YXJ0L21vdmUsXG5cdFx0XHQvLyB3aGljaCBpcyBzY3JvbGwgYmxvY2tpbmcuIFRoZSBzZWxlY3RzdGFydCBldmVudCBpcyBzdXBwb3J0ZWQgYnkgRmlyZUZveCBzdGFydGluZyBmcm9tIHZlcnNpb24gNTIsXG5cdFx0XHQvLyBtZWFuaW5nIHRoZSBvbmx5IGhvbGRvdXQgaXMgaU9TIFNhZmFyaS4gVGhpcyBkb2Vzbid0IG1hdHRlcjogdGV4dCBzZWxlY3Rpb24gaXNuJ3QgdHJpZ2dlcmVkIHRoZXJlLlxuXHRcdFx0Ly8gVGhlICdjdXJzb3InIGZsYWcgaXMgZmFsc2UuXG5cdFx0XHQvLyBTZWU6IGh0dHA6Ly9jYW5pdXNlLmNvbS8jc2VhcmNoPXNlbGVjdHN0YXJ0XG5cdFx0XHRzY29wZV9Cb2R5LmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0JywgcHJldmVudERlZmF1bHQsIGZhbHNlKTtcblx0XHR9XG5cblx0XHRkYXRhLmhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVOdW1iZXIpe1xuXHRcdFx0ZmlyZUV2ZW50KCdzdGFydCcsIGhhbmRsZU51bWJlcik7XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBNb3ZlIGNsb3Nlc3QgaGFuZGxlIHRvIHRhcHBlZCBsb2NhdGlvbi5cblx0ZnVuY3Rpb24gZXZlbnRUYXAgKCBldmVudCApIHtcblxuXHRcdC8vIFRoZSB0YXAgZXZlbnQgc2hvdWxkbid0IHByb3BhZ2F0ZSB1cFxuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG5cdFx0dmFyIHByb3Bvc2FsID0gY2FsY1BvaW50VG9QZXJjZW50YWdlKGV2ZW50LmNhbGNQb2ludCk7XG5cdFx0dmFyIGhhbmRsZU51bWJlciA9IGdldENsb3Nlc3RIYW5kbGUocHJvcG9zYWwpO1xuXG5cdFx0Ly8gVGFja2xlIHRoZSBjYXNlIHRoYXQgYWxsIGhhbmRsZXMgYXJlICdkaXNhYmxlZCcuXG5cdFx0aWYgKCBoYW5kbGVOdW1iZXIgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdC8vIEZsYWcgdGhlIHNsaWRlciBhcyBpdCBpcyBub3cgaW4gYSB0cmFuc2l0aW9uYWwgc3RhdGUuXG5cdFx0Ly8gVHJhbnNpdGlvbiB0YWtlcyBhIGNvbmZpZ3VyYWJsZSBhbW91bnQgb2YgbXMgKGRlZmF1bHQgMzAwKS4gUmUtZW5hYmxlIHRoZSBzbGlkZXIgYWZ0ZXIgdGhhdC5cblx0XHRpZiAoICFvcHRpb25zLmV2ZW50cy5zbmFwICkge1xuXHRcdFx0YWRkQ2xhc3NGb3Ioc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFwLCBvcHRpb25zLmFuaW1hdGlvbkR1cmF0aW9uKTtcblx0XHR9XG5cblx0XHRzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCBwcm9wb3NhbCwgdHJ1ZSwgdHJ1ZSk7XG5cblx0XHRzZXRaaW5kZXgoKTtcblxuXHRcdGZpcmVFdmVudCgnc2xpZGUnLCBoYW5kbGVOdW1iZXIsIHRydWUpO1xuXHRcdGZpcmVFdmVudCgndXBkYXRlJywgaGFuZGxlTnVtYmVyLCB0cnVlKTtcblx0XHRmaXJlRXZlbnQoJ2NoYW5nZScsIGhhbmRsZU51bWJlciwgdHJ1ZSk7XG5cdFx0ZmlyZUV2ZW50KCdzZXQnLCBoYW5kbGVOdW1iZXIsIHRydWUpO1xuXG5cdFx0aWYgKCBvcHRpb25zLmV2ZW50cy5zbmFwICkge1xuXHRcdFx0ZXZlbnRTdGFydChldmVudCwgeyBoYW5kbGVOdW1iZXJzOiBbaGFuZGxlTnVtYmVyXSB9KTtcblx0XHR9XG5cdH1cblxuXHQvLyBGaXJlcyBhICdob3ZlcicgZXZlbnQgZm9yIGEgaG92ZXJlZCBtb3VzZS9wZW4gcG9zaXRpb24uXG5cdGZ1bmN0aW9uIGV2ZW50SG92ZXIgKCBldmVudCApIHtcblxuXHRcdHZhciBwcm9wb3NhbCA9IGNhbGNQb2ludFRvUGVyY2VudGFnZShldmVudC5jYWxjUG9pbnQpO1xuXG5cdFx0dmFyIHRvID0gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcChwcm9wb3NhbCk7XG5cdFx0dmFyIHZhbHVlID0gc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKHRvKTtcblxuXHRcdE9iamVjdC5rZXlzKHNjb3BlX0V2ZW50cykuZm9yRWFjaChmdW5jdGlvbiggdGFyZ2V0RXZlbnQgKSB7XG5cdFx0XHRpZiAoICdob3ZlcicgPT09IHRhcmdldEV2ZW50LnNwbGl0KCcuJylbMF0gKSB7XG5cdFx0XHRcdHNjb3BlX0V2ZW50c1t0YXJnZXRFdmVudF0uZm9yRWFjaChmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2suY2FsbCggc2NvcGVfU2VsZiwgdmFsdWUgKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBBdHRhY2ggZXZlbnRzIHRvIHNldmVyYWwgc2xpZGVyIHBhcnRzLlxuXHRmdW5jdGlvbiBiaW5kU2xpZGVyRXZlbnRzICggYmVoYXZpb3VyICkge1xuXG5cdFx0Ly8gQXR0YWNoIHRoZSBzdGFuZGFyZCBkcmFnIGV2ZW50IHRvIHRoZSBoYW5kbGVzLlxuXHRcdGlmICggIWJlaGF2aW91ci5maXhlZCApIHtcblxuXHRcdFx0c2NvcGVfSGFuZGxlcy5mb3JFYWNoKGZ1bmN0aW9uKCBoYW5kbGUsIGluZGV4ICl7XG5cblx0XHRcdFx0Ly8gVGhlc2UgZXZlbnRzIGFyZSBvbmx5IGJvdW5kIHRvIHRoZSB2aXN1YWwgaGFuZGxlXG5cdFx0XHRcdC8vIGVsZW1lbnQsIG5vdCB0aGUgJ3JlYWwnIG9yaWdpbiBlbGVtZW50LlxuXHRcdFx0XHRhdHRhY2hFdmVudCAoIGFjdGlvbnMuc3RhcnQsIGhhbmRsZS5jaGlsZHJlblswXSwgZXZlbnRTdGFydCwge1xuXHRcdFx0XHRcdGhhbmRsZU51bWJlcnM6IFtpbmRleF1cblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvLyBBdHRhY2ggdGhlIHRhcCBldmVudCB0byB0aGUgc2xpZGVyIGJhc2UuXG5cdFx0aWYgKCBiZWhhdmlvdXIudGFwICkge1xuXHRcdFx0YXR0YWNoRXZlbnQgKGFjdGlvbnMuc3RhcnQsIHNjb3BlX0Jhc2UsIGV2ZW50VGFwLCB7fSk7XG5cdFx0fVxuXG5cdFx0Ly8gRmlyZSBob3ZlciBldmVudHNcblx0XHRpZiAoIGJlaGF2aW91ci5ob3ZlciApIHtcblx0XHRcdGF0dGFjaEV2ZW50IChhY3Rpb25zLm1vdmUsIHNjb3BlX0Jhc2UsIGV2ZW50SG92ZXIsIHsgaG92ZXI6IHRydWUgfSk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSB0aGUgcmFuZ2UgZHJhZ2dhYmxlLlxuXHRcdGlmICggYmVoYXZpb3VyLmRyYWcgKXtcblxuXHRcdFx0c2NvcGVfQ29ubmVjdHMuZm9yRWFjaChmdW5jdGlvbiggY29ubmVjdCwgaW5kZXggKXtcblxuXHRcdFx0XHRpZiAoIGNvbm5lY3QgPT09IGZhbHNlIHx8IGluZGV4ID09PSAwIHx8IGluZGV4ID09PSBzY29wZV9Db25uZWN0cy5sZW5ndGggLSAxICkge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHZhciBoYW5kbGVCZWZvcmUgPSBzY29wZV9IYW5kbGVzW2luZGV4IC0gMV07XG5cdFx0XHRcdHZhciBoYW5kbGVBZnRlciA9IHNjb3BlX0hhbmRsZXNbaW5kZXhdO1xuXHRcdFx0XHR2YXIgZXZlbnRIb2xkZXJzID0gW2Nvbm5lY3RdO1xuXG5cdFx0XHRcdGFkZENsYXNzKGNvbm5lY3QsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5kcmFnZ2FibGUpO1xuXG5cdFx0XHRcdC8vIFdoZW4gdGhlIHJhbmdlIGlzIGZpeGVkLCB0aGUgZW50aXJlIHJhbmdlIGNhblxuXHRcdFx0XHQvLyBiZSBkcmFnZ2VkIGJ5IHRoZSBoYW5kbGVzLiBUaGUgaGFuZGxlIGluIHRoZSBmaXJzdFxuXHRcdFx0XHQvLyBvcmlnaW4gd2lsbCBwcm9wYWdhdGUgdGhlIHN0YXJ0IGV2ZW50IHVwd2FyZCxcblx0XHRcdFx0Ly8gYnV0IGl0IG5lZWRzIHRvIGJlIGJvdW5kIG1hbnVhbGx5IG9uIHRoZSBvdGhlci5cblx0XHRcdFx0aWYgKCBiZWhhdmlvdXIuZml4ZWQgKSB7XG5cdFx0XHRcdFx0ZXZlbnRIb2xkZXJzLnB1c2goaGFuZGxlQmVmb3JlLmNoaWxkcmVuWzBdKTtcblx0XHRcdFx0XHRldmVudEhvbGRlcnMucHVzaChoYW5kbGVBZnRlci5jaGlsZHJlblswXSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRldmVudEhvbGRlcnMuZm9yRWFjaChmdW5jdGlvbiggZXZlbnRIb2xkZXIgKSB7XG5cdFx0XHRcdFx0YXR0YWNoRXZlbnQgKCBhY3Rpb25zLnN0YXJ0LCBldmVudEhvbGRlciwgZXZlbnRTdGFydCwge1xuXHRcdFx0XHRcdFx0aGFuZGxlczogW2hhbmRsZUJlZm9yZSwgaGFuZGxlQWZ0ZXJdLFxuXHRcdFx0XHRcdFx0aGFuZGxlTnVtYmVyczogW2luZGV4IC0gMSwgaW5kZXhdXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblxuXHQvLyBTcGxpdCBvdXQgdGhlIGhhbmRsZSBwb3NpdGlvbmluZyBsb2dpYyBzbyB0aGUgTW92ZSBldmVudCBjYW4gdXNlIGl0LCB0b29cblx0ZnVuY3Rpb24gY2hlY2tIYW5kbGVQb3NpdGlvbiAoIHJlZmVyZW5jZSwgaGFuZGxlTnVtYmVyLCB0bywgbG9va0JhY2t3YXJkLCBsb29rRm9yd2FyZCwgZ2V0VmFsdWUgKSB7XG5cblx0XHQvLyBGb3Igc2xpZGVycyB3aXRoIG11bHRpcGxlIGhhbmRsZXMsIGxpbWl0IG1vdmVtZW50IHRvIHRoZSBvdGhlciBoYW5kbGUuXG5cdFx0Ly8gQXBwbHkgdGhlIG1hcmdpbiBvcHRpb24gYnkgYWRkaW5nIGl0IHRvIHRoZSBoYW5kbGUgcG9zaXRpb25zLlxuXHRcdGlmICggc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxICkge1xuXG5cdFx0XHRpZiAoIGxvb2tCYWNrd2FyZCAmJiBoYW5kbGVOdW1iZXIgPiAwICkge1xuXHRcdFx0XHR0byA9IE1hdGgubWF4KHRvLCByZWZlcmVuY2VbaGFuZGxlTnVtYmVyIC0gMV0gKyBvcHRpb25zLm1hcmdpbik7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggbG9va0ZvcndhcmQgJiYgaGFuZGxlTnVtYmVyIDwgc2NvcGVfSGFuZGxlcy5sZW5ndGggLSAxICkge1xuXHRcdFx0XHR0byA9IE1hdGgubWluKHRvLCByZWZlcmVuY2VbaGFuZGxlTnVtYmVyICsgMV0gLSBvcHRpb25zLm1hcmdpbik7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gVGhlIGxpbWl0IG9wdGlvbiBoYXMgdGhlIG9wcG9zaXRlIGVmZmVjdCwgbGltaXRpbmcgaGFuZGxlcyB0byBhXG5cdFx0Ly8gbWF4aW11bSBkaXN0YW5jZSBmcm9tIGFub3RoZXIuIExpbWl0IG11c3QgYmUgPiAwLCBhcyBvdGhlcndpc2Vcblx0XHQvLyBoYW5kbGVzIHdvdWxkIGJlIHVubW92ZWFibGUuXG5cdFx0aWYgKCBzY29wZV9IYW5kbGVzLmxlbmd0aCA+IDEgJiYgb3B0aW9ucy5saW1pdCApIHtcblxuXHRcdFx0aWYgKCBsb29rQmFja3dhcmQgJiYgaGFuZGxlTnVtYmVyID4gMCApIHtcblx0XHRcdFx0dG8gPSBNYXRoLm1pbih0bywgcmVmZXJlbmNlW2hhbmRsZU51bWJlciAtIDFdICsgb3B0aW9ucy5saW1pdCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggbG9va0ZvcndhcmQgJiYgaGFuZGxlTnVtYmVyIDwgc2NvcGVfSGFuZGxlcy5sZW5ndGggLSAxICkge1xuXHRcdFx0XHR0byA9IE1hdGgubWF4KHRvLCByZWZlcmVuY2VbaGFuZGxlTnVtYmVyICsgMV0gLSBvcHRpb25zLmxpbWl0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBUaGUgcGFkZGluZyBvcHRpb24ga2VlcHMgdGhlIGhhbmRsZXMgYSBjZXJ0YWluIGRpc3RhbmNlIGZyb20gdGhlXG5cdFx0Ly8gZWRnZXMgb2YgdGhlIHNsaWRlci4gUGFkZGluZyBtdXN0IGJlID4gMC5cblx0XHRpZiAoIG9wdGlvbnMucGFkZGluZyApIHtcblxuXHRcdFx0aWYgKCBoYW5kbGVOdW1iZXIgPT09IDAgKSB7XG5cdFx0XHRcdHRvID0gTWF0aC5tYXgodG8sIG9wdGlvbnMucGFkZGluZyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggaGFuZGxlTnVtYmVyID09PSBzY29wZV9IYW5kbGVzLmxlbmd0aCAtIDEgKSB7XG5cdFx0XHRcdHRvID0gTWF0aC5taW4odG8sIDEwMCAtIG9wdGlvbnMucGFkZGluZyk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0dG8gPSBzY29wZV9TcGVjdHJ1bS5nZXRTdGVwKHRvKTtcblxuXHRcdC8vIExpbWl0IHBlcmNlbnRhZ2UgdG8gdGhlIDAgLSAxMDAgcmFuZ2Vcblx0XHR0byA9IGxpbWl0KHRvKTtcblxuXHRcdC8vIFJldHVybiBmYWxzZSBpZiBoYW5kbGUgY2FuJ3QgbW92ZVxuXHRcdGlmICggdG8gPT09IHJlZmVyZW5jZVtoYW5kbGVOdW1iZXJdICYmICFnZXRWYWx1ZSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdG87XG5cdH1cblxuXHRmdW5jdGlvbiB0b1BjdCAoIHBjdCApIHtcblx0XHRyZXR1cm4gcGN0ICsgJyUnO1xuXHR9XG5cblx0Ly8gVXBkYXRlcyBzY29wZV9Mb2NhdGlvbnMgYW5kIHNjb3BlX1ZhbHVlcywgdXBkYXRlcyB2aXN1YWwgc3RhdGVcblx0ZnVuY3Rpb24gdXBkYXRlSGFuZGxlUG9zaXRpb24gKCBoYW5kbGVOdW1iZXIsIHRvICkge1xuXG5cdFx0Ly8gVXBkYXRlIGxvY2F0aW9ucy5cblx0XHRzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSA9IHRvO1xuXG5cdFx0Ly8gQ29udmVydCB0aGUgdmFsdWUgdG8gdGhlIHNsaWRlciBzdGVwcGluZy9yYW5nZS5cblx0XHRzY29wZV9WYWx1ZXNbaGFuZGxlTnVtYmVyXSA9IHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyh0byk7XG5cblx0XHQvLyBDYWxsZWQgc3luY2hyb25vdXNseSBvciBvbiB0aGUgbmV4dCBhbmltYXRpb25GcmFtZVxuXHRcdHZhciBzdGF0ZVVwZGF0ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0c2NvcGVfSGFuZGxlc1toYW5kbGVOdW1iZXJdLnN0eWxlW29wdGlvbnMuc3R5bGVdID0gdG9QY3QodG8pO1xuXHRcdFx0dXBkYXRlQ29ubmVjdChoYW5kbGVOdW1iZXIpO1xuXHRcdFx0dXBkYXRlQ29ubmVjdChoYW5kbGVOdW1iZXIgKyAxKTtcblx0XHR9O1xuXG5cdFx0Ly8gU2V0IHRoZSBoYW5kbGUgdG8gdGhlIG5ldyBwb3NpdGlvbi5cblx0XHQvLyBVc2UgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGZvciBlZmZpY2llbnQgcGFpbnRpbmcuXG5cdFx0Ly8gTm8gc2lnbmlmaWNhbnQgZWZmZWN0IGluIENocm9tZSwgRWRnZSBzZWVzIGRyYW1hdGljIHBlcmZvcm1hY2UgaW1wcm92ZW1lbnRzLlxuXHRcdC8vIE9wdGlvbiB0byBkaXNhYmxlIGlzIHVzZWZ1bCBmb3IgdW5pdCB0ZXN0cywgYW5kIHNpbmdsZS1zdGVwIGRlYnVnZ2luZy5cblx0XHRpZiAoIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgJiYgb3B0aW9ucy51c2VSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgKSB7XG5cdFx0XHR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHN0YXRlVXBkYXRlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3RhdGVVcGRhdGUoKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBzZXRaaW5kZXggKCApIHtcblxuXHRcdHNjb3BlX0hhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVOdW1iZXIpe1xuXHRcdFx0Ly8gSGFuZGxlcyBiZWZvcmUgdGhlIHNsaWRlciBtaWRkbGUgYXJlIHN0YWNrZWQgbGF0ZXIgPSBoaWdoZXIsXG5cdFx0XHQvLyBIYW5kbGVzIGFmdGVyIHRoZSBtaWRkbGUgbGF0ZXIgaXMgbG93ZXJcblx0XHRcdC8vIFtbN10gWzhdIC4uLi4uLi4uLi4gfCAuLi4uLi4uLi4uIFs1XSBbNF1cblx0XHRcdHZhciBkaXIgPSAoc2NvcGVfTG9jYXRpb25zW2hhbmRsZU51bWJlcl0gPiA1MCA/IC0xIDogMSk7XG5cdFx0XHR2YXIgekluZGV4ID0gMyArIChzY29wZV9IYW5kbGVzLmxlbmd0aCArIChkaXIgKiBoYW5kbGVOdW1iZXIpKTtcblx0XHRcdHNjb3BlX0hhbmRsZXNbaGFuZGxlTnVtYmVyXS5jaGlsZE5vZGVzWzBdLnN0eWxlLnpJbmRleCA9IHpJbmRleDtcblx0XHR9KTtcblx0fVxuXG5cdC8vIFRlc3Qgc3VnZ2VzdGVkIHZhbHVlcyBhbmQgYXBwbHkgbWFyZ2luLCBzdGVwLlxuXHRmdW5jdGlvbiBzZXRIYW5kbGUgKCBoYW5kbGVOdW1iZXIsIHRvLCBsb29rQmFja3dhcmQsIGxvb2tGb3J3YXJkICkge1xuXG5cdFx0dG8gPSBjaGVja0hhbmRsZVBvc2l0aW9uKHNjb3BlX0xvY2F0aW9ucywgaGFuZGxlTnVtYmVyLCB0bywgbG9va0JhY2t3YXJkLCBsb29rRm9yd2FyZCwgZmFsc2UpO1xuXG5cdFx0aWYgKCB0byA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0dXBkYXRlSGFuZGxlUG9zaXRpb24oaGFuZGxlTnVtYmVyLCB0byk7XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vIFVwZGF0ZXMgc3R5bGUgYXR0cmlidXRlIGZvciBjb25uZWN0IG5vZGVzXG5cdGZ1bmN0aW9uIHVwZGF0ZUNvbm5lY3QgKCBpbmRleCApIHtcblxuXHRcdC8vIFNraXAgY29ubmVjdHMgc2V0IHRvIGZhbHNlXG5cdFx0aWYgKCAhc2NvcGVfQ29ubmVjdHNbaW5kZXhdICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHZhciBsID0gMDtcblx0XHR2YXIgaCA9IDEwMDtcblxuXHRcdGlmICggaW5kZXggIT09IDAgKSB7XG5cdFx0XHRsID0gc2NvcGVfTG9jYXRpb25zW2luZGV4IC0gMV07XG5cdFx0fVxuXG5cdFx0aWYgKCBpbmRleCAhPT0gc2NvcGVfQ29ubmVjdHMubGVuZ3RoIC0gMSApIHtcblx0XHRcdGggPSBzY29wZV9Mb2NhdGlvbnNbaW5kZXhdO1xuXHRcdH1cblxuXHRcdHNjb3BlX0Nvbm5lY3RzW2luZGV4XS5zdHlsZVtvcHRpb25zLnN0eWxlXSA9IHRvUGN0KGwpO1xuXHRcdHNjb3BlX0Nvbm5lY3RzW2luZGV4XS5zdHlsZVtvcHRpb25zLnN0eWxlT3Bvc2l0ZV0gPSB0b1BjdCgxMDAgLSBoKTtcblx0fVxuXG5cdC8vIC4uLlxuXHRmdW5jdGlvbiBzZXRWYWx1ZSAoIHRvLCBoYW5kbGVOdW1iZXIgKSB7XG5cblx0XHQvLyBTZXR0aW5nIHdpdGggbnVsbCBpbmRpY2F0ZXMgYW4gJ2lnbm9yZScuXG5cdFx0Ly8gSW5wdXR0aW5nICdmYWxzZScgaXMgaW52YWxpZC5cblx0XHRpZiAoIHRvID09PSBudWxsIHx8IHRvID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBJZiBhIGZvcm1hdHRlZCBudW1iZXIgd2FzIHBhc3NlZCwgYXR0ZW10IHRvIGRlY29kZSBpdC5cblx0XHRpZiAoIHR5cGVvZiB0byA9PT0gJ251bWJlcicgKSB7XG5cdFx0XHR0byA9IFN0cmluZyh0byk7XG5cdFx0fVxuXG5cdFx0dG8gPSBvcHRpb25zLmZvcm1hdC5mcm9tKHRvKTtcblxuXHRcdC8vIFJlcXVlc3QgYW4gdXBkYXRlIGZvciBhbGwgbGlua3MgaWYgdGhlIHZhbHVlIHdhcyBpbnZhbGlkLlxuXHRcdC8vIERvIHNvIHRvbyBpZiBzZXR0aW5nIHRoZSBoYW5kbGUgZmFpbHMuXG5cdFx0aWYgKCB0byAhPT0gZmFsc2UgJiYgIWlzTmFOKHRvKSApIHtcblx0XHRcdHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcodG8pLCBmYWxzZSwgZmFsc2UpO1xuXHRcdH1cblx0fVxuXG5cdC8vIFNldCB0aGUgc2xpZGVyIHZhbHVlLlxuXHRmdW5jdGlvbiB2YWx1ZVNldCAoIGlucHV0LCBmaXJlU2V0RXZlbnQgKSB7XG5cblx0XHR2YXIgdmFsdWVzID0gYXNBcnJheShpbnB1dCk7XG5cdFx0dmFyIGlzSW5pdCA9IHNjb3BlX0xvY2F0aW9uc1swXSA9PT0gdW5kZWZpbmVkO1xuXG5cdFx0Ly8gRXZlbnQgZmlyZXMgYnkgZGVmYXVsdFxuXHRcdGZpcmVTZXRFdmVudCA9IChmaXJlU2V0RXZlbnQgPT09IHVuZGVmaW5lZCA/IHRydWUgOiAhIWZpcmVTZXRFdmVudCk7XG5cblx0XHR2YWx1ZXMuZm9yRWFjaChzZXRWYWx1ZSk7XG5cblx0XHQvLyBBbmltYXRpb24gaXMgb3B0aW9uYWwuXG5cdFx0Ly8gTWFrZSBzdXJlIHRoZSBpbml0aWFsIHZhbHVlcyB3ZXJlIHNldCBiZWZvcmUgdXNpbmcgYW5pbWF0ZWQgcGxhY2VtZW50LlxuXHRcdGlmICggb3B0aW9ucy5hbmltYXRlICYmICFpc0luaXQgKSB7XG5cdFx0XHRhZGRDbGFzc0ZvcihzY29wZV9UYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50YXAsIG9wdGlvbnMuYW5pbWF0aW9uRHVyYXRpb24pO1xuXHRcdH1cblxuXHRcdC8vIE5vdyB0aGF0IGFsbCBiYXNlIHZhbHVlcyBhcmUgc2V0LCBhcHBseSBjb25zdHJhaW50c1xuXHRcdHNjb3BlX0hhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVOdW1iZXIpe1xuXHRcdFx0c2V0SGFuZGxlKGhhbmRsZU51bWJlciwgc2NvcGVfTG9jYXRpb25zW2hhbmRsZU51bWJlcl0sIHRydWUsIGZhbHNlKTtcblx0XHR9KTtcblxuXHRcdHNldFppbmRleCgpO1xuXG5cdFx0c2NvcGVfSGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcil7XG5cblx0XHRcdGZpcmVFdmVudCgndXBkYXRlJywgaGFuZGxlTnVtYmVyKTtcblxuXHRcdFx0Ly8gRmlyZSB0aGUgZXZlbnQgb25seSBmb3IgaGFuZGxlcyB0aGF0IHJlY2VpdmVkIGEgbmV3IHZhbHVlLCBhcyBwZXIgIzU3OVxuXHRcdFx0aWYgKCB2YWx1ZXNbaGFuZGxlTnVtYmVyXSAhPT0gbnVsbCAmJiBmaXJlU2V0RXZlbnQgKSB7XG5cdFx0XHRcdGZpcmVFdmVudCgnc2V0JywgaGFuZGxlTnVtYmVyKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8vIFJlc2V0IHNsaWRlciB0byBpbml0aWFsIHZhbHVlc1xuXHRmdW5jdGlvbiB2YWx1ZVJlc2V0ICggZmlyZVNldEV2ZW50ICkge1xuXHRcdHZhbHVlU2V0KG9wdGlvbnMuc3RhcnQsIGZpcmVTZXRFdmVudCk7XG5cdH1cblxuXHQvLyBHZXQgdGhlIHNsaWRlciB2YWx1ZS5cblx0ZnVuY3Rpb24gdmFsdWVHZXQgKCApIHtcblxuXHRcdHZhciB2YWx1ZXMgPSBzY29wZV9WYWx1ZXMubWFwKG9wdGlvbnMuZm9ybWF0LnRvKTtcblxuXHRcdC8vIElmIG9ubHkgb25lIGhhbmRsZSBpcyB1c2VkLCByZXR1cm4gYSBzaW5nbGUgdmFsdWUuXG5cdFx0aWYgKCB2YWx1ZXMubGVuZ3RoID09PSAxICl7XG5cdFx0XHRyZXR1cm4gdmFsdWVzWzBdO1xuXHRcdH1cblxuXHRcdHJldHVybiB2YWx1ZXM7XG5cdH1cblxuXHQvLyBSZW1vdmVzIGNsYXNzZXMgZnJvbSB0aGUgcm9vdCBhbmQgZW1wdGllcyBpdC5cblx0ZnVuY3Rpb24gZGVzdHJveSAoICkge1xuXG5cdFx0Zm9yICggdmFyIGtleSBpbiBvcHRpb25zLmNzc0NsYXNzZXMgKSB7XG5cdFx0XHRpZiAoICFvcHRpb25zLmNzc0NsYXNzZXMuaGFzT3duUHJvcGVydHkoa2V5KSApIHsgY29udGludWU7IH1cblx0XHRcdHJlbW92ZUNsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzW2tleV0pO1xuXHRcdH1cblxuXHRcdHdoaWxlIChzY29wZV9UYXJnZXQuZmlyc3RDaGlsZCkge1xuXHRcdFx0c2NvcGVfVGFyZ2V0LnJlbW92ZUNoaWxkKHNjb3BlX1RhcmdldC5maXJzdENoaWxkKTtcblx0XHR9XG5cblx0XHRkZWxldGUgc2NvcGVfVGFyZ2V0Lm5vVWlTbGlkZXI7XG5cdH1cblxuXHQvLyBHZXQgdGhlIGN1cnJlbnQgc3RlcCBzaXplIGZvciB0aGUgc2xpZGVyLlxuXHRmdW5jdGlvbiBnZXRDdXJyZW50U3RlcCAoICkge1xuXG5cdFx0Ly8gQ2hlY2sgYWxsIGxvY2F0aW9ucywgbWFwIHRoZW0gdG8gdGhlaXIgc3RlcHBpbmcgcG9pbnQuXG5cdFx0Ly8gR2V0IHRoZSBzdGVwIHBvaW50LCB0aGVuIGZpbmQgaXQgaW4gdGhlIGlucHV0IGxpc3QuXG5cdFx0cmV0dXJuIHNjb3BlX0xvY2F0aW9ucy5tYXAoZnVuY3Rpb24oIGxvY2F0aW9uLCBpbmRleCApe1xuXG5cdFx0XHR2YXIgbmVhcmJ5U3RlcHMgPSBzY29wZV9TcGVjdHJ1bS5nZXROZWFyYnlTdGVwcyggbG9jYXRpb24gKTtcblx0XHRcdHZhciB2YWx1ZSA9IHNjb3BlX1ZhbHVlc1tpbmRleF07XG5cdFx0XHR2YXIgaW5jcmVtZW50ID0gbmVhcmJ5U3RlcHMudGhpc1N0ZXAuc3RlcDtcblx0XHRcdHZhciBkZWNyZW1lbnQgPSBudWxsO1xuXG5cdFx0XHQvLyBJZiB0aGUgbmV4dCB2YWx1ZSBpbiB0aGlzIHN0ZXAgbW92ZXMgaW50byB0aGUgbmV4dCBzdGVwLFxuXHRcdFx0Ly8gdGhlIGluY3JlbWVudCBpcyB0aGUgc3RhcnQgb2YgdGhlIG5leHQgc3RlcCAtIHRoZSBjdXJyZW50IHZhbHVlXG5cdFx0XHRpZiAoIGluY3JlbWVudCAhPT0gZmFsc2UgKSB7XG5cdFx0XHRcdGlmICggdmFsdWUgKyBpbmNyZW1lbnQgPiBuZWFyYnlTdGVwcy5zdGVwQWZ0ZXIuc3RhcnRWYWx1ZSApIHtcblx0XHRcdFx0XHRpbmNyZW1lbnQgPSBuZWFyYnlTdGVwcy5zdGVwQWZ0ZXIuc3RhcnRWYWx1ZSAtIHZhbHVlO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblxuXHRcdFx0Ly8gSWYgdGhlIHZhbHVlIGlzIGJleW9uZCB0aGUgc3RhcnRpbmcgcG9pbnRcblx0XHRcdGlmICggdmFsdWUgPiBuZWFyYnlTdGVwcy50aGlzU3RlcC5zdGFydFZhbHVlICkge1xuXHRcdFx0XHRkZWNyZW1lbnQgPSBuZWFyYnlTdGVwcy50aGlzU3RlcC5zdGVwO1xuXHRcdFx0fVxuXG5cdFx0XHRlbHNlIGlmICggbmVhcmJ5U3RlcHMuc3RlcEJlZm9yZS5zdGVwID09PSBmYWxzZSApIHtcblx0XHRcdFx0ZGVjcmVtZW50ID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElmIGEgaGFuZGxlIGlzIGF0IHRoZSBzdGFydCBvZiBhIHN0ZXAsIGl0IGFsd2F5cyBzdGVwcyBiYWNrIGludG8gdGhlIHByZXZpb3VzIHN0ZXAgZmlyc3Rcblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRkZWNyZW1lbnQgPSB2YWx1ZSAtIG5lYXJieVN0ZXBzLnN0ZXBCZWZvcmUuaGlnaGVzdFN0ZXA7XG5cdFx0XHR9XG5cblxuXHRcdFx0Ly8gTm93LCBpZiBhdCB0aGUgc2xpZGVyIGVkZ2VzLCB0aGVyZSBpcyBub3QgaW4vZGVjcmVtZW50XG5cdFx0XHRpZiAoIGxvY2F0aW9uID09PSAxMDAgKSB7XG5cdFx0XHRcdGluY3JlbWVudCA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGVsc2UgaWYgKCBsb2NhdGlvbiA9PT0gMCApIHtcblx0XHRcdFx0ZGVjcmVtZW50ID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQXMgcGVyICMzOTEsIHRoZSBjb21wYXJpc29uIGZvciB0aGUgZGVjcmVtZW50IHN0ZXAgY2FuIGhhdmUgc29tZSByb3VuZGluZyBpc3N1ZXMuXG5cdFx0XHR2YXIgc3RlcERlY2ltYWxzID0gc2NvcGVfU3BlY3RydW0uY291bnRTdGVwRGVjaW1hbHMoKTtcblxuXHRcdFx0Ly8gUm91bmQgcGVyICMzOTFcblx0XHRcdGlmICggaW5jcmVtZW50ICE9PSBudWxsICYmIGluY3JlbWVudCAhPT0gZmFsc2UgKSB7XG5cdFx0XHRcdGluY3JlbWVudCA9IE51bWJlcihpbmNyZW1lbnQudG9GaXhlZChzdGVwRGVjaW1hbHMpKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBkZWNyZW1lbnQgIT09IG51bGwgJiYgZGVjcmVtZW50ICE9PSBmYWxzZSApIHtcblx0XHRcdFx0ZGVjcmVtZW50ID0gTnVtYmVyKGRlY3JlbWVudC50b0ZpeGVkKHN0ZXBEZWNpbWFscykpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gW2RlY3JlbWVudCwgaW5jcmVtZW50XTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIEF0dGFjaCBhbiBldmVudCB0byB0aGlzIHNsaWRlciwgcG9zc2libHkgaW5jbHVkaW5nIGEgbmFtZXNwYWNlXG5cdGZ1bmN0aW9uIGJpbmRFdmVudCAoIG5hbWVzcGFjZWRFdmVudCwgY2FsbGJhY2sgKSB7XG5cdFx0c2NvcGVfRXZlbnRzW25hbWVzcGFjZWRFdmVudF0gPSBzY29wZV9FdmVudHNbbmFtZXNwYWNlZEV2ZW50XSB8fCBbXTtcblx0XHRzY29wZV9FdmVudHNbbmFtZXNwYWNlZEV2ZW50XS5wdXNoKGNhbGxiYWNrKTtcblxuXHRcdC8vIElmIHRoZSBldmVudCBib3VuZCBpcyAndXBkYXRlLCcgZmlyZSBpdCBpbW1lZGlhdGVseSBmb3IgYWxsIGhhbmRsZXMuXG5cdFx0aWYgKCBuYW1lc3BhY2VkRXZlbnQuc3BsaXQoJy4nKVswXSA9PT0gJ3VwZGF0ZScgKSB7XG5cdFx0XHRzY29wZV9IYW5kbGVzLmZvckVhY2goZnVuY3Rpb24oYSwgaW5kZXgpe1xuXHRcdFx0XHRmaXJlRXZlbnQoJ3VwZGF0ZScsIGluZGV4KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8vIFVuZG8gYXR0YWNobWVudCBvZiBldmVudFxuXHRmdW5jdGlvbiByZW1vdmVFdmVudCAoIG5hbWVzcGFjZWRFdmVudCApIHtcblxuXHRcdHZhciBldmVudCA9IG5hbWVzcGFjZWRFdmVudCAmJiBuYW1lc3BhY2VkRXZlbnQuc3BsaXQoJy4nKVswXTtcblx0XHR2YXIgbmFtZXNwYWNlID0gZXZlbnQgJiYgbmFtZXNwYWNlZEV2ZW50LnN1YnN0cmluZyhldmVudC5sZW5ndGgpO1xuXG5cdFx0T2JqZWN0LmtleXMoc2NvcGVfRXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uKCBiaW5kICl7XG5cblx0XHRcdHZhciB0RXZlbnQgPSBiaW5kLnNwbGl0KCcuJylbMF0sXG5cdFx0XHRcdHROYW1lc3BhY2UgPSBiaW5kLnN1YnN0cmluZyh0RXZlbnQubGVuZ3RoKTtcblxuXHRcdFx0aWYgKCAoIWV2ZW50IHx8IGV2ZW50ID09PSB0RXZlbnQpICYmICghbmFtZXNwYWNlIHx8IG5hbWVzcGFjZSA9PT0gdE5hbWVzcGFjZSkgKSB7XG5cdFx0XHRcdGRlbGV0ZSBzY29wZV9FdmVudHNbYmluZF07XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBVcGRhdGVhYmxlOiBtYXJnaW4sIGxpbWl0LCBwYWRkaW5nLCBzdGVwLCByYW5nZSwgYW5pbWF0ZSwgc25hcFxuXHRmdW5jdGlvbiB1cGRhdGVPcHRpb25zICggb3B0aW9uc1RvVXBkYXRlLCBmaXJlU2V0RXZlbnQgKSB7XG5cblx0XHQvLyBTcGVjdHJ1bSBpcyBjcmVhdGVkIHVzaW5nIHRoZSByYW5nZSwgc25hcCwgZGlyZWN0aW9uIGFuZCBzdGVwIG9wdGlvbnMuXG5cdFx0Ly8gJ3NuYXAnIGFuZCAnc3RlcCcgY2FuIGJlIHVwZGF0ZWQuXG5cdFx0Ly8gSWYgJ3NuYXAnIGFuZCAnc3RlcCcgYXJlIG5vdCBwYXNzZWQsIHRoZXkgc2hvdWxkIHJlbWFpbiB1bmNoYW5nZWQuXG5cdFx0dmFyIHYgPSB2YWx1ZUdldCgpO1xuXG5cdFx0dmFyIHVwZGF0ZUFibGUgPSBbJ21hcmdpbicsICdsaW1pdCcsICdwYWRkaW5nJywgJ3JhbmdlJywgJ2FuaW1hdGUnLCAnc25hcCcsICdzdGVwJywgJ2Zvcm1hdCddO1xuXG5cdFx0Ly8gT25seSBjaGFuZ2Ugb3B0aW9ucyB0aGF0IHdlJ3JlIGFjdHVhbGx5IHBhc3NlZCB0byB1cGRhdGUuXG5cdFx0dXBkYXRlQWJsZS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpe1xuXHRcdFx0aWYgKCBvcHRpb25zVG9VcGRhdGVbbmFtZV0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0b3JpZ2luYWxPcHRpb25zW25hbWVdID0gb3B0aW9uc1RvVXBkYXRlW25hbWVdO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0dmFyIG5ld09wdGlvbnMgPSB0ZXN0T3B0aW9ucyhvcmlnaW5hbE9wdGlvbnMpO1xuXG5cdFx0Ly8gTG9hZCBuZXcgb3B0aW9ucyBpbnRvIHRoZSBzbGlkZXIgc3RhdGVcblx0XHR1cGRhdGVBYmxlLmZvckVhY2goZnVuY3Rpb24obmFtZSl7XG5cdFx0XHRpZiAoIG9wdGlvbnNUb1VwZGF0ZVtuYW1lXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRvcHRpb25zW25hbWVdID0gbmV3T3B0aW9uc1tuYW1lXTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHNjb3BlX1NwZWN0cnVtID0gbmV3T3B0aW9ucy5zcGVjdHJ1bTtcblxuXHRcdC8vIExpbWl0LCBtYXJnaW4gYW5kIHBhZGRpbmcgZGVwZW5kIG9uIHRoZSBzcGVjdHJ1bSBidXQgYXJlIHN0b3JlZCBvdXRzaWRlIG9mIGl0LiAoIzY3Nylcblx0XHRvcHRpb25zLm1hcmdpbiA9IG5ld09wdGlvbnMubWFyZ2luO1xuXHRcdG9wdGlvbnMubGltaXQgPSBuZXdPcHRpb25zLmxpbWl0O1xuXHRcdG9wdGlvbnMucGFkZGluZyA9IG5ld09wdGlvbnMucGFkZGluZztcblxuXHRcdC8vIFVwZGF0ZSBwaXBzLCByZW1vdmVzIGV4aXN0aW5nLlxuXHRcdGlmICggb3B0aW9ucy5waXBzICkge1xuXHRcdFx0cGlwcyhvcHRpb25zLnBpcHMpO1xuXHRcdH1cblxuXHRcdC8vIEludmFsaWRhdGUgdGhlIGN1cnJlbnQgcG9zaXRpb25pbmcgc28gdmFsdWVTZXQgZm9yY2VzIGFuIHVwZGF0ZS5cblx0XHRzY29wZV9Mb2NhdGlvbnMgPSBbXTtcblx0XHR2YWx1ZVNldChvcHRpb25zVG9VcGRhdGUuc3RhcnQgfHwgdiwgZmlyZVNldEV2ZW50KTtcblx0fVxuXG5cdC8vIFRocm93IGFuIGVycm9yIGlmIHRoZSBzbGlkZXIgd2FzIGFscmVhZHkgaW5pdGlhbGl6ZWQuXG5cdGlmICggc2NvcGVfVGFyZ2V0Lm5vVWlTbGlkZXIgKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiBTbGlkZXIgd2FzIGFscmVhZHkgaW5pdGlhbGl6ZWQuXCIpO1xuXHR9XG5cblx0Ly8gQ3JlYXRlIHRoZSBiYXNlIGVsZW1lbnQsIGluaXRpYWxpc2UgSFRNTCBhbmQgc2V0IGNsYXNzZXMuXG5cdC8vIEFkZCBoYW5kbGVzIGFuZCBjb25uZWN0IGVsZW1lbnRzLlxuXHRhZGRTbGlkZXIoc2NvcGVfVGFyZ2V0KTtcblx0YWRkRWxlbWVudHMob3B0aW9ucy5jb25uZWN0LCBzY29wZV9CYXNlKTtcblxuXHRzY29wZV9TZWxmID0ge1xuXHRcdGRlc3Ryb3k6IGRlc3Ryb3ksXG5cdFx0c3RlcHM6IGdldEN1cnJlbnRTdGVwLFxuXHRcdG9uOiBiaW5kRXZlbnQsXG5cdFx0b2ZmOiByZW1vdmVFdmVudCxcblx0XHRnZXQ6IHZhbHVlR2V0LFxuXHRcdHNldDogdmFsdWVTZXQsXG5cdFx0cmVzZXQ6IHZhbHVlUmVzZXQsXG5cdFx0Ly8gRXhwb3NlZCBmb3IgdW5pdCB0ZXN0aW5nLCBkb24ndCB1c2UgdGhpcyBpbiB5b3VyIGFwcGxpY2F0aW9uLlxuXHRcdF9fbW92ZUhhbmRsZXM6IGZ1bmN0aW9uKGEsIGIsIGMpIHsgbW92ZUhhbmRsZXMoYSwgYiwgc2NvcGVfTG9jYXRpb25zLCBjKTsgfSxcblx0XHRvcHRpb25zOiBvcmlnaW5hbE9wdGlvbnMsIC8vIElzc3VlICM2MDAsICM2Nzhcblx0XHR1cGRhdGVPcHRpb25zOiB1cGRhdGVPcHRpb25zLFxuXHRcdHRhcmdldDogc2NvcGVfVGFyZ2V0LCAvLyBJc3N1ZSAjNTk3XG5cdFx0cmVtb3ZlUGlwczogcmVtb3ZlUGlwcyxcblx0XHRwaXBzOiBwaXBzIC8vIElzc3VlICM1OTRcblx0fTtcblxuXHQvLyBBdHRhY2ggdXNlciBldmVudHMuXG5cdGJpbmRTbGlkZXJFdmVudHMob3B0aW9ucy5ldmVudHMpO1xuXG5cdC8vIFVzZSB0aGUgcHVibGljIHZhbHVlIG1ldGhvZCB0byBzZXQgdGhlIHN0YXJ0IHZhbHVlcy5cblx0dmFsdWVTZXQob3B0aW9ucy5zdGFydCk7XG5cblx0aWYgKCBvcHRpb25zLnBpcHMgKSB7XG5cdFx0cGlwcyhvcHRpb25zLnBpcHMpO1xuXHR9XG5cblx0aWYgKCBvcHRpb25zLnRvb2x0aXBzICkge1xuXHRcdHRvb2x0aXBzKCk7XG5cdH1cblxuXHRhcmlhKCk7XG5cblx0cmV0dXJuIHNjb3BlX1NlbGY7XG5cbn1cblxuXG5cdC8vIFJ1biB0aGUgc3RhbmRhcmQgaW5pdGlhbGl6ZXJcblx0ZnVuY3Rpb24gaW5pdGlhbGl6ZSAoIHRhcmdldCwgb3JpZ2luYWxPcHRpb25zICkge1xuXG5cdFx0aWYgKCAhdGFyZ2V0IHx8ICF0YXJnZXQubm9kZU5hbWUgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6IGNyZWF0ZSByZXF1aXJlcyBhIHNpbmdsZSBlbGVtZW50LCBnb3Q6IFwiICsgdGFyZ2V0KTtcblx0XHR9XG5cblx0XHQvLyBUZXN0IHRoZSBvcHRpb25zIGFuZCBjcmVhdGUgdGhlIHNsaWRlciBlbnZpcm9ubWVudDtcblx0XHR2YXIgb3B0aW9ucyA9IHRlc3RPcHRpb25zKCBvcmlnaW5hbE9wdGlvbnMsIHRhcmdldCApO1xuXHRcdHZhciBhcGkgPSBjbG9zdXJlKCB0YXJnZXQsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucyApO1xuXG5cdFx0dGFyZ2V0Lm5vVWlTbGlkZXIgPSBhcGk7XG5cblx0XHRyZXR1cm4gYXBpO1xuXHR9XG5cblx0Ly8gVXNlIGFuIG9iamVjdCBpbnN0ZWFkIG9mIGEgZnVuY3Rpb24gZm9yIGZ1dHVyZSBleHBhbnNpYmlsaXR5O1xuXHRyZXR1cm4ge1xuXHRcdHZlcnNpb246IFZFUlNJT04sXG5cdFx0Y3JlYXRlOiBpbml0aWFsaXplXG5cdH07XG5cbn0pKTsiLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXdcbiAqIC0gVXNpbmcgdGhlICdRUkNvZGUgZm9yIEphdmFzY3JpcHQgbGlicmFyeSdcbiAqIC0gRml4ZWQgZGF0YXNldCBvZiAnUVJDb2RlIGZvciBKYXZhc2NyaXB0IGxpYnJhcnknIGZvciBzdXBwb3J0IGZ1bGwtc3BlYy5cbiAqIC0gdGhpcyBsaWJyYXJ5IGhhcyBubyBkZXBlbmRlbmNpZXMuXG4gKiBcbiAqIEBhdXRob3IgZGF2aWRzaGltanNcbiAqIEBzZWUgPGEgaHJlZj1cImh0dHA6Ly93d3cuZC1wcm9qZWN0LmNvbS9cIiB0YXJnZXQ9XCJfYmxhbmtcIj5odHRwOi8vd3d3LmQtcHJvamVjdC5jb20vPC9hPlxuICogQHNlZSA8YSBocmVmPVwiaHR0cDovL2plcm9tZWV0aWVubmUuZ2l0aHViLmNvbS9qcXVlcnktcXJjb2RlL1wiIHRhcmdldD1cIl9ibGFua1wiPmh0dHA6Ly9qZXJvbWVldGllbm5lLmdpdGh1Yi5jb20vanF1ZXJ5LXFyY29kZS88L2E+XG4gKi9cbnZhciBRUkNvZGU7XG5cbihmdW5jdGlvbiAoKSB7XG5cdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdC8vIFFSQ29kZSBmb3IgSmF2YVNjcmlwdFxuXHQvL1xuXHQvLyBDb3B5cmlnaHQgKGMpIDIwMDkgS2F6dWhpa28gQXJhc2Vcblx0Ly9cblx0Ly8gVVJMOiBodHRwOi8vd3d3LmQtcHJvamVjdC5jb20vXG5cdC8vXG5cdC8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZTpcblx0Ly8gICBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHQvL1xuXHQvLyBUaGUgd29yZCBcIlFSIENvZGVcIiBpcyByZWdpc3RlcmVkIHRyYWRlbWFyayBvZiBcblx0Ly8gREVOU08gV0FWRSBJTkNPUlBPUkFURURcblx0Ly8gICBodHRwOi8vd3d3LmRlbnNvLXdhdmUuY29tL3FyY29kZS9mYXFwYXRlbnQtZS5odG1sXG5cdC8vXG5cdC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdGZ1bmN0aW9uIFFSOGJpdEJ5dGUoZGF0YSkge1xuXHRcdHRoaXMubW9kZSA9IFFSTW9kZS5NT0RFXzhCSVRfQllURTtcblx0XHR0aGlzLmRhdGEgPSBkYXRhO1xuXHRcdHRoaXMucGFyc2VkRGF0YSA9IFtdO1xuXG5cdFx0Ly8gQWRkZWQgdG8gc3VwcG9ydCBVVEYtOCBDaGFyYWN0ZXJzXG5cdFx0Zm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLmRhdGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHR2YXIgYnl0ZUFycmF5ID0gW107XG5cdFx0XHR2YXIgY29kZSA9IHRoaXMuZGF0YS5jaGFyQ29kZUF0KGkpO1xuXG5cdFx0XHRpZiAoY29kZSA+IDB4MTAwMDApIHtcblx0XHRcdFx0Ynl0ZUFycmF5WzBdID0gMHhGMCB8ICgoY29kZSAmIDB4MUMwMDAwKSA+Pj4gMTgpO1xuXHRcdFx0XHRieXRlQXJyYXlbMV0gPSAweDgwIHwgKChjb2RlICYgMHgzRjAwMCkgPj4+IDEyKTtcblx0XHRcdFx0Ynl0ZUFycmF5WzJdID0gMHg4MCB8ICgoY29kZSAmIDB4RkMwKSA+Pj4gNik7XG5cdFx0XHRcdGJ5dGVBcnJheVszXSA9IDB4ODAgfCAoY29kZSAmIDB4M0YpO1xuXHRcdFx0fSBlbHNlIGlmIChjb2RlID4gMHg4MDApIHtcblx0XHRcdFx0Ynl0ZUFycmF5WzBdID0gMHhFMCB8ICgoY29kZSAmIDB4RjAwMCkgPj4+IDEyKTtcblx0XHRcdFx0Ynl0ZUFycmF5WzFdID0gMHg4MCB8ICgoY29kZSAmIDB4RkMwKSA+Pj4gNik7XG5cdFx0XHRcdGJ5dGVBcnJheVsyXSA9IDB4ODAgfCAoY29kZSAmIDB4M0YpO1xuXHRcdFx0fSBlbHNlIGlmIChjb2RlID4gMHg4MCkge1xuXHRcdFx0XHRieXRlQXJyYXlbMF0gPSAweEMwIHwgKChjb2RlICYgMHg3QzApID4+PiA2KTtcblx0XHRcdFx0Ynl0ZUFycmF5WzFdID0gMHg4MCB8IChjb2RlICYgMHgzRik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRieXRlQXJyYXlbMF0gPSBjb2RlO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLnBhcnNlZERhdGEucHVzaChieXRlQXJyYXkpO1xuXHRcdH1cblxuXHRcdHRoaXMucGFyc2VkRGF0YSA9IEFycmF5LnByb3RvdHlwZS5jb25jYXQuYXBwbHkoW10sIHRoaXMucGFyc2VkRGF0YSk7XG5cblx0XHRpZiAodGhpcy5wYXJzZWREYXRhLmxlbmd0aCAhPSB0aGlzLmRhdGEubGVuZ3RoKSB7XG5cdFx0XHR0aGlzLnBhcnNlZERhdGEudW5zaGlmdCgxOTEpO1xuXHRcdFx0dGhpcy5wYXJzZWREYXRhLnVuc2hpZnQoMTg3KTtcblx0XHRcdHRoaXMucGFyc2VkRGF0YS51bnNoaWZ0KDIzOSk7XG5cdFx0fVxuXHR9XG5cblx0UVI4Yml0Qnl0ZS5wcm90b3R5cGUgPSB7XG5cdFx0Z2V0TGVuZ3RoOiBmdW5jdGlvbiAoYnVmZmVyKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5wYXJzZWREYXRhLmxlbmd0aDtcblx0XHR9LFxuXHRcdHdyaXRlOiBmdW5jdGlvbiAoYnVmZmVyKSB7XG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMucGFyc2VkRGF0YS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdFx0YnVmZmVyLnB1dCh0aGlzLnBhcnNlZERhdGFbaV0sIDgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHRmdW5jdGlvbiBRUkNvZGVNb2RlbCh0eXBlTnVtYmVyLCBlcnJvckNvcnJlY3RMZXZlbCkge1xuXHRcdHRoaXMudHlwZU51bWJlciA9IHR5cGVOdW1iZXI7XG5cdFx0dGhpcy5lcnJvckNvcnJlY3RMZXZlbCA9IGVycm9yQ29ycmVjdExldmVsO1xuXHRcdHRoaXMubW9kdWxlcyA9IG51bGw7XG5cdFx0dGhpcy5tb2R1bGVDb3VudCA9IDA7XG5cdFx0dGhpcy5kYXRhQ2FjaGUgPSBudWxsO1xuXHRcdHRoaXMuZGF0YUxpc3QgPSBbXTtcblx0fVxuXG5cdFFSQ29kZU1vZGVsLnByb3RvdHlwZT17YWRkRGF0YTpmdW5jdGlvbihkYXRhKXt2YXIgbmV3RGF0YT1uZXcgUVI4Yml0Qnl0ZShkYXRhKTt0aGlzLmRhdGFMaXN0LnB1c2gobmV3RGF0YSk7dGhpcy5kYXRhQ2FjaGU9bnVsbDt9LGlzRGFyazpmdW5jdGlvbihyb3csY29sKXtpZihyb3c8MHx8dGhpcy5tb2R1bGVDb3VudDw9cm93fHxjb2w8MHx8dGhpcy5tb2R1bGVDb3VudDw9Y29sKXt0aHJvdyBuZXcgRXJyb3Iocm93K1wiLFwiK2NvbCk7fVxuXHRyZXR1cm4gdGhpcy5tb2R1bGVzW3Jvd11bY29sXTt9LGdldE1vZHVsZUNvdW50OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubW9kdWxlQ291bnQ7fSxtYWtlOmZ1bmN0aW9uKCl7dGhpcy5tYWtlSW1wbChmYWxzZSx0aGlzLmdldEJlc3RNYXNrUGF0dGVybigpKTt9LG1ha2VJbXBsOmZ1bmN0aW9uKHRlc3QsbWFza1BhdHRlcm4pe3RoaXMubW9kdWxlQ291bnQ9dGhpcy50eXBlTnVtYmVyKjQrMTc7dGhpcy5tb2R1bGVzPW5ldyBBcnJheSh0aGlzLm1vZHVsZUNvdW50KTtmb3IodmFyIHJvdz0wO3Jvdzx0aGlzLm1vZHVsZUNvdW50O3JvdysrKXt0aGlzLm1vZHVsZXNbcm93XT1uZXcgQXJyYXkodGhpcy5tb2R1bGVDb3VudCk7Zm9yKHZhciBjb2w9MDtjb2w8dGhpcy5tb2R1bGVDb3VudDtjb2wrKyl7dGhpcy5tb2R1bGVzW3Jvd11bY29sXT1udWxsO319XG5cdHRoaXMuc2V0dXBQb3NpdGlvblByb2JlUGF0dGVybigwLDApO3RoaXMuc2V0dXBQb3NpdGlvblByb2JlUGF0dGVybih0aGlzLm1vZHVsZUNvdW50LTcsMCk7dGhpcy5zZXR1cFBvc2l0aW9uUHJvYmVQYXR0ZXJuKDAsdGhpcy5tb2R1bGVDb3VudC03KTt0aGlzLnNldHVwUG9zaXRpb25BZGp1c3RQYXR0ZXJuKCk7dGhpcy5zZXR1cFRpbWluZ1BhdHRlcm4oKTt0aGlzLnNldHVwVHlwZUluZm8odGVzdCxtYXNrUGF0dGVybik7aWYodGhpcy50eXBlTnVtYmVyPj03KXt0aGlzLnNldHVwVHlwZU51bWJlcih0ZXN0KTt9XG5cdGlmKHRoaXMuZGF0YUNhY2hlPT1udWxsKXt0aGlzLmRhdGFDYWNoZT1RUkNvZGVNb2RlbC5jcmVhdGVEYXRhKHRoaXMudHlwZU51bWJlcix0aGlzLmVycm9yQ29ycmVjdExldmVsLHRoaXMuZGF0YUxpc3QpO31cblx0dGhpcy5tYXBEYXRhKHRoaXMuZGF0YUNhY2hlLG1hc2tQYXR0ZXJuKTt9LHNldHVwUG9zaXRpb25Qcm9iZVBhdHRlcm46ZnVuY3Rpb24ocm93LGNvbCl7Zm9yKHZhciByPS0xO3I8PTc7cisrKXtpZihyb3crcjw9LTF8fHRoaXMubW9kdWxlQ291bnQ8PXJvdytyKWNvbnRpbnVlO2Zvcih2YXIgYz0tMTtjPD03O2MrKyl7aWYoY29sK2M8PS0xfHx0aGlzLm1vZHVsZUNvdW50PD1jb2wrYyljb250aW51ZTtpZigoMDw9ciYmcjw9NiYmKGM9PTB8fGM9PTYpKXx8KDA8PWMmJmM8PTYmJihyPT0wfHxyPT02KSl8fCgyPD1yJiZyPD00JiYyPD1jJiZjPD00KSl7dGhpcy5tb2R1bGVzW3JvdytyXVtjb2wrY109dHJ1ZTt9ZWxzZXt0aGlzLm1vZHVsZXNbcm93K3JdW2NvbCtjXT1mYWxzZTt9fX19LGdldEJlc3RNYXNrUGF0dGVybjpmdW5jdGlvbigpe3ZhciBtaW5Mb3N0UG9pbnQ9MDt2YXIgcGF0dGVybj0wO2Zvcih2YXIgaT0wO2k8ODtpKyspe3RoaXMubWFrZUltcGwodHJ1ZSxpKTt2YXIgbG9zdFBvaW50PVFSVXRpbC5nZXRMb3N0UG9pbnQodGhpcyk7aWYoaT09MHx8bWluTG9zdFBvaW50Pmxvc3RQb2ludCl7bWluTG9zdFBvaW50PWxvc3RQb2ludDtwYXR0ZXJuPWk7fX1cblx0cmV0dXJuIHBhdHRlcm47fSxjcmVhdGVNb3ZpZUNsaXA6ZnVuY3Rpb24odGFyZ2V0X21jLGluc3RhbmNlX25hbWUsZGVwdGgpe3ZhciBxcl9tYz10YXJnZXRfbWMuY3JlYXRlRW1wdHlNb3ZpZUNsaXAoaW5zdGFuY2VfbmFtZSxkZXB0aCk7dmFyIGNzPTE7dGhpcy5tYWtlKCk7Zm9yKHZhciByb3c9MDtyb3c8dGhpcy5tb2R1bGVzLmxlbmd0aDtyb3crKyl7dmFyIHk9cm93KmNzO2Zvcih2YXIgY29sPTA7Y29sPHRoaXMubW9kdWxlc1tyb3ddLmxlbmd0aDtjb2wrKyl7dmFyIHg9Y29sKmNzO3ZhciBkYXJrPXRoaXMubW9kdWxlc1tyb3ddW2NvbF07aWYoZGFyayl7cXJfbWMuYmVnaW5GaWxsKDAsMTAwKTtxcl9tYy5tb3ZlVG8oeCx5KTtxcl9tYy5saW5lVG8oeCtjcyx5KTtxcl9tYy5saW5lVG8oeCtjcyx5K2NzKTtxcl9tYy5saW5lVG8oeCx5K2NzKTtxcl9tYy5lbmRGaWxsKCk7fX19XG5cdHJldHVybiBxcl9tYzt9LHNldHVwVGltaW5nUGF0dGVybjpmdW5jdGlvbigpe2Zvcih2YXIgcj04O3I8dGhpcy5tb2R1bGVDb3VudC04O3IrKyl7aWYodGhpcy5tb2R1bGVzW3JdWzZdIT1udWxsKXtjb250aW51ZTt9XG5cdHRoaXMubW9kdWxlc1tyXVs2XT0ociUyPT0wKTt9XG5cdGZvcih2YXIgYz04O2M8dGhpcy5tb2R1bGVDb3VudC04O2MrKyl7aWYodGhpcy5tb2R1bGVzWzZdW2NdIT1udWxsKXtjb250aW51ZTt9XG5cdHRoaXMubW9kdWxlc1s2XVtjXT0oYyUyPT0wKTt9fSxzZXR1cFBvc2l0aW9uQWRqdXN0UGF0dGVybjpmdW5jdGlvbigpe3ZhciBwb3M9UVJVdGlsLmdldFBhdHRlcm5Qb3NpdGlvbih0aGlzLnR5cGVOdW1iZXIpO2Zvcih2YXIgaT0wO2k8cG9zLmxlbmd0aDtpKyspe2Zvcih2YXIgaj0wO2o8cG9zLmxlbmd0aDtqKyspe3ZhciByb3c9cG9zW2ldO3ZhciBjb2w9cG9zW2pdO2lmKHRoaXMubW9kdWxlc1tyb3ddW2NvbF0hPW51bGwpe2NvbnRpbnVlO31cblx0Zm9yKHZhciByPS0yO3I8PTI7cisrKXtmb3IodmFyIGM9LTI7Yzw9MjtjKyspe2lmKHI9PS0yfHxyPT0yfHxjPT0tMnx8Yz09Mnx8KHI9PTAmJmM9PTApKXt0aGlzLm1vZHVsZXNbcm93K3JdW2NvbCtjXT10cnVlO31lbHNle3RoaXMubW9kdWxlc1tyb3crcl1bY29sK2NdPWZhbHNlO319fX19fSxzZXR1cFR5cGVOdW1iZXI6ZnVuY3Rpb24odGVzdCl7dmFyIGJpdHM9UVJVdGlsLmdldEJDSFR5cGVOdW1iZXIodGhpcy50eXBlTnVtYmVyKTtmb3IodmFyIGk9MDtpPDE4O2krKyl7dmFyIG1vZD0oIXRlc3QmJigoYml0cz4+aSkmMSk9PTEpO3RoaXMubW9kdWxlc1tNYXRoLmZsb29yKGkvMyldW2klMyt0aGlzLm1vZHVsZUNvdW50LTgtM109bW9kO31cblx0Zm9yKHZhciBpPTA7aTwxODtpKyspe3ZhciBtb2Q9KCF0ZXN0JiYoKGJpdHM+PmkpJjEpPT0xKTt0aGlzLm1vZHVsZXNbaSUzK3RoaXMubW9kdWxlQ291bnQtOC0zXVtNYXRoLmZsb29yKGkvMyldPW1vZDt9fSxzZXR1cFR5cGVJbmZvOmZ1bmN0aW9uKHRlc3QsbWFza1BhdHRlcm4pe3ZhciBkYXRhPSh0aGlzLmVycm9yQ29ycmVjdExldmVsPDwzKXxtYXNrUGF0dGVybjt2YXIgYml0cz1RUlV0aWwuZ2V0QkNIVHlwZUluZm8oZGF0YSk7Zm9yKHZhciBpPTA7aTwxNTtpKyspe3ZhciBtb2Q9KCF0ZXN0JiYoKGJpdHM+PmkpJjEpPT0xKTtpZihpPDYpe3RoaXMubW9kdWxlc1tpXVs4XT1tb2Q7fWVsc2UgaWYoaTw4KXt0aGlzLm1vZHVsZXNbaSsxXVs4XT1tb2Q7fWVsc2V7dGhpcy5tb2R1bGVzW3RoaXMubW9kdWxlQ291bnQtMTUraV1bOF09bW9kO319XG5cdGZvcih2YXIgaT0wO2k8MTU7aSsrKXt2YXIgbW9kPSghdGVzdCYmKChiaXRzPj5pKSYxKT09MSk7aWYoaTw4KXt0aGlzLm1vZHVsZXNbOF1bdGhpcy5tb2R1bGVDb3VudC1pLTFdPW1vZDt9ZWxzZSBpZihpPDkpe3RoaXMubW9kdWxlc1s4XVsxNS1pLTErMV09bW9kO31lbHNle3RoaXMubW9kdWxlc1s4XVsxNS1pLTFdPW1vZDt9fVxuXHR0aGlzLm1vZHVsZXNbdGhpcy5tb2R1bGVDb3VudC04XVs4XT0oIXRlc3QpO30sbWFwRGF0YTpmdW5jdGlvbihkYXRhLG1hc2tQYXR0ZXJuKXt2YXIgaW5jPS0xO3ZhciByb3c9dGhpcy5tb2R1bGVDb3VudC0xO3ZhciBiaXRJbmRleD03O3ZhciBieXRlSW5kZXg9MDtmb3IodmFyIGNvbD10aGlzLm1vZHVsZUNvdW50LTE7Y29sPjA7Y29sLT0yKXtpZihjb2w9PTYpY29sLS07d2hpbGUodHJ1ZSl7Zm9yKHZhciBjPTA7YzwyO2MrKyl7aWYodGhpcy5tb2R1bGVzW3Jvd11bY29sLWNdPT1udWxsKXt2YXIgZGFyaz1mYWxzZTtpZihieXRlSW5kZXg8ZGF0YS5sZW5ndGgpe2Rhcms9KCgoZGF0YVtieXRlSW5kZXhdPj4+Yml0SW5kZXgpJjEpPT0xKTt9XG5cdHZhciBtYXNrPVFSVXRpbC5nZXRNYXNrKG1hc2tQYXR0ZXJuLHJvdyxjb2wtYyk7aWYobWFzayl7ZGFyaz0hZGFyazt9XG5cdHRoaXMubW9kdWxlc1tyb3ddW2NvbC1jXT1kYXJrO2JpdEluZGV4LS07aWYoYml0SW5kZXg9PS0xKXtieXRlSW5kZXgrKztiaXRJbmRleD03O319fVxuXHRyb3crPWluYztpZihyb3c8MHx8dGhpcy5tb2R1bGVDb3VudDw9cm93KXtyb3ctPWluYztpbmM9LWluYzticmVhazt9fX19fTtRUkNvZGVNb2RlbC5QQUQwPTB4RUM7UVJDb2RlTW9kZWwuUEFEMT0weDExO1FSQ29kZU1vZGVsLmNyZWF0ZURhdGE9ZnVuY3Rpb24odHlwZU51bWJlcixlcnJvckNvcnJlY3RMZXZlbCxkYXRhTGlzdCl7dmFyIHJzQmxvY2tzPVFSUlNCbG9jay5nZXRSU0Jsb2Nrcyh0eXBlTnVtYmVyLGVycm9yQ29ycmVjdExldmVsKTt2YXIgYnVmZmVyPW5ldyBRUkJpdEJ1ZmZlcigpO2Zvcih2YXIgaT0wO2k8ZGF0YUxpc3QubGVuZ3RoO2krKyl7dmFyIGRhdGE9ZGF0YUxpc3RbaV07YnVmZmVyLnB1dChkYXRhLm1vZGUsNCk7YnVmZmVyLnB1dChkYXRhLmdldExlbmd0aCgpLFFSVXRpbC5nZXRMZW5ndGhJbkJpdHMoZGF0YS5tb2RlLHR5cGVOdW1iZXIpKTtkYXRhLndyaXRlKGJ1ZmZlcik7fVxuXHR2YXIgdG90YWxEYXRhQ291bnQ9MDtmb3IodmFyIGk9MDtpPHJzQmxvY2tzLmxlbmd0aDtpKyspe3RvdGFsRGF0YUNvdW50Kz1yc0Jsb2Nrc1tpXS5kYXRhQ291bnQ7fVxuXHRpZihidWZmZXIuZ2V0TGVuZ3RoSW5CaXRzKCk+dG90YWxEYXRhQ291bnQqOCl7dGhyb3cgbmV3IEVycm9yKFwiY29kZSBsZW5ndGggb3ZlcmZsb3cuIChcIlxuXHQrYnVmZmVyLmdldExlbmd0aEluQml0cygpXG5cdCtcIj5cIlxuXHQrdG90YWxEYXRhQ291bnQqOFxuXHQrXCIpXCIpO31cblx0aWYoYnVmZmVyLmdldExlbmd0aEluQml0cygpKzQ8PXRvdGFsRGF0YUNvdW50Kjgpe2J1ZmZlci5wdXQoMCw0KTt9XG5cdHdoaWxlKGJ1ZmZlci5nZXRMZW5ndGhJbkJpdHMoKSU4IT0wKXtidWZmZXIucHV0Qml0KGZhbHNlKTt9XG5cdHdoaWxlKHRydWUpe2lmKGJ1ZmZlci5nZXRMZW5ndGhJbkJpdHMoKT49dG90YWxEYXRhQ291bnQqOCl7YnJlYWs7fVxuXHRidWZmZXIucHV0KFFSQ29kZU1vZGVsLlBBRDAsOCk7aWYoYnVmZmVyLmdldExlbmd0aEluQml0cygpPj10b3RhbERhdGFDb3VudCo4KXticmVhazt9XG5cdGJ1ZmZlci5wdXQoUVJDb2RlTW9kZWwuUEFEMSw4KTt9XG5cdHJldHVybiBRUkNvZGVNb2RlbC5jcmVhdGVCeXRlcyhidWZmZXIscnNCbG9ja3MpO307UVJDb2RlTW9kZWwuY3JlYXRlQnl0ZXM9ZnVuY3Rpb24oYnVmZmVyLHJzQmxvY2tzKXt2YXIgb2Zmc2V0PTA7dmFyIG1heERjQ291bnQ9MDt2YXIgbWF4RWNDb3VudD0wO3ZhciBkY2RhdGE9bmV3IEFycmF5KHJzQmxvY2tzLmxlbmd0aCk7dmFyIGVjZGF0YT1uZXcgQXJyYXkocnNCbG9ja3MubGVuZ3RoKTtmb3IodmFyIHI9MDtyPHJzQmxvY2tzLmxlbmd0aDtyKyspe3ZhciBkY0NvdW50PXJzQmxvY2tzW3JdLmRhdGFDb3VudDt2YXIgZWNDb3VudD1yc0Jsb2Nrc1tyXS50b3RhbENvdW50LWRjQ291bnQ7bWF4RGNDb3VudD1NYXRoLm1heChtYXhEY0NvdW50LGRjQ291bnQpO21heEVjQ291bnQ9TWF0aC5tYXgobWF4RWNDb3VudCxlY0NvdW50KTtkY2RhdGFbcl09bmV3IEFycmF5KGRjQ291bnQpO2Zvcih2YXIgaT0wO2k8ZGNkYXRhW3JdLmxlbmd0aDtpKyspe2RjZGF0YVtyXVtpXT0weGZmJmJ1ZmZlci5idWZmZXJbaStvZmZzZXRdO31cblx0b2Zmc2V0Kz1kY0NvdW50O3ZhciByc1BvbHk9UVJVdGlsLmdldEVycm9yQ29ycmVjdFBvbHlub21pYWwoZWNDb3VudCk7dmFyIHJhd1BvbHk9bmV3IFFSUG9seW5vbWlhbChkY2RhdGFbcl0scnNQb2x5LmdldExlbmd0aCgpLTEpO3ZhciBtb2RQb2x5PXJhd1BvbHkubW9kKHJzUG9seSk7ZWNkYXRhW3JdPW5ldyBBcnJheShyc1BvbHkuZ2V0TGVuZ3RoKCktMSk7Zm9yKHZhciBpPTA7aTxlY2RhdGFbcl0ubGVuZ3RoO2krKyl7dmFyIG1vZEluZGV4PWkrbW9kUG9seS5nZXRMZW5ndGgoKS1lY2RhdGFbcl0ubGVuZ3RoO2VjZGF0YVtyXVtpXT0obW9kSW5kZXg+PTApP21vZFBvbHkuZ2V0KG1vZEluZGV4KTowO319XG5cdHZhciB0b3RhbENvZGVDb3VudD0wO2Zvcih2YXIgaT0wO2k8cnNCbG9ja3MubGVuZ3RoO2krKyl7dG90YWxDb2RlQ291bnQrPXJzQmxvY2tzW2ldLnRvdGFsQ291bnQ7fVxuXHR2YXIgZGF0YT1uZXcgQXJyYXkodG90YWxDb2RlQ291bnQpO3ZhciBpbmRleD0wO2Zvcih2YXIgaT0wO2k8bWF4RGNDb3VudDtpKyspe2Zvcih2YXIgcj0wO3I8cnNCbG9ja3MubGVuZ3RoO3IrKyl7aWYoaTxkY2RhdGFbcl0ubGVuZ3RoKXtkYXRhW2luZGV4KytdPWRjZGF0YVtyXVtpXTt9fX1cblx0Zm9yKHZhciBpPTA7aTxtYXhFY0NvdW50O2krKyl7Zm9yKHZhciByPTA7cjxyc0Jsb2Nrcy5sZW5ndGg7cisrKXtpZihpPGVjZGF0YVtyXS5sZW5ndGgpe2RhdGFbaW5kZXgrK109ZWNkYXRhW3JdW2ldO319fVxuXHRyZXR1cm4gZGF0YTt9O3ZhciBRUk1vZGU9e01PREVfTlVNQkVSOjE8PDAsTU9ERV9BTFBIQV9OVU06MTw8MSxNT0RFXzhCSVRfQllURToxPDwyLE1PREVfS0FOSkk6MTw8M307dmFyIFFSRXJyb3JDb3JyZWN0TGV2ZWw9e0w6MSxNOjAsUTozLEg6Mn07dmFyIFFSTWFza1BhdHRlcm49e1BBVFRFUk4wMDA6MCxQQVRURVJOMDAxOjEsUEFUVEVSTjAxMDoyLFBBVFRFUk4wMTE6MyxQQVRURVJOMTAwOjQsUEFUVEVSTjEwMTo1LFBBVFRFUk4xMTA6NixQQVRURVJOMTExOjd9O3ZhciBRUlV0aWw9e1BBVFRFUk5fUE9TSVRJT05fVEFCTEU6W1tdLFs2LDE4XSxbNiwyMl0sWzYsMjZdLFs2LDMwXSxbNiwzNF0sWzYsMjIsMzhdLFs2LDI0LDQyXSxbNiwyNiw0Nl0sWzYsMjgsNTBdLFs2LDMwLDU0XSxbNiwzMiw1OF0sWzYsMzQsNjJdLFs2LDI2LDQ2LDY2XSxbNiwyNiw0OCw3MF0sWzYsMjYsNTAsNzRdLFs2LDMwLDU0LDc4XSxbNiwzMCw1Niw4Ml0sWzYsMzAsNTgsODZdLFs2LDM0LDYyLDkwXSxbNiwyOCw1MCw3Miw5NF0sWzYsMjYsNTAsNzQsOThdLFs2LDMwLDU0LDc4LDEwMl0sWzYsMjgsNTQsODAsMTA2XSxbNiwzMiw1OCw4NCwxMTBdLFs2LDMwLDU4LDg2LDExNF0sWzYsMzQsNjIsOTAsMTE4XSxbNiwyNiw1MCw3NCw5OCwxMjJdLFs2LDMwLDU0LDc4LDEwMiwxMjZdLFs2LDI2LDUyLDc4LDEwNCwxMzBdLFs2LDMwLDU2LDgyLDEwOCwxMzRdLFs2LDM0LDYwLDg2LDExMiwxMzhdLFs2LDMwLDU4LDg2LDExNCwxNDJdLFs2LDM0LDYyLDkwLDExOCwxNDZdLFs2LDMwLDU0LDc4LDEwMiwxMjYsMTUwXSxbNiwyNCw1MCw3NiwxMDIsMTI4LDE1NF0sWzYsMjgsNTQsODAsMTA2LDEzMiwxNThdLFs2LDMyLDU4LDg0LDExMCwxMzYsMTYyXSxbNiwyNiw1NCw4MiwxMTAsMTM4LDE2Nl0sWzYsMzAsNTgsODYsMTE0LDE0MiwxNzBdXSxHMTU6KDE8PDEwKXwoMTw8OCl8KDE8PDUpfCgxPDw0KXwoMTw8Mil8KDE8PDEpfCgxPDwwKSxHMTg6KDE8PDEyKXwoMTw8MTEpfCgxPDwxMCl8KDE8PDkpfCgxPDw4KXwoMTw8NSl8KDE8PDIpfCgxPDwwKSxHMTVfTUFTSzooMTw8MTQpfCgxPDwxMil8KDE8PDEwKXwoMTw8NCl8KDE8PDEpLGdldEJDSFR5cGVJbmZvOmZ1bmN0aW9uKGRhdGEpe3ZhciBkPWRhdGE8PDEwO3doaWxlKFFSVXRpbC5nZXRCQ0hEaWdpdChkKS1RUlV0aWwuZ2V0QkNIRGlnaXQoUVJVdGlsLkcxNSk+PTApe2RePShRUlV0aWwuRzE1PDwoUVJVdGlsLmdldEJDSERpZ2l0KGQpLVFSVXRpbC5nZXRCQ0hEaWdpdChRUlV0aWwuRzE1KSkpO31cblx0cmV0dXJuKChkYXRhPDwxMCl8ZCleUVJVdGlsLkcxNV9NQVNLO30sZ2V0QkNIVHlwZU51bWJlcjpmdW5jdGlvbihkYXRhKXt2YXIgZD1kYXRhPDwxMjt3aGlsZShRUlV0aWwuZ2V0QkNIRGlnaXQoZCktUVJVdGlsLmdldEJDSERpZ2l0KFFSVXRpbC5HMTgpPj0wKXtkXj0oUVJVdGlsLkcxODw8KFFSVXRpbC5nZXRCQ0hEaWdpdChkKS1RUlV0aWwuZ2V0QkNIRGlnaXQoUVJVdGlsLkcxOCkpKTt9XG5cdHJldHVybihkYXRhPDwxMil8ZDt9LGdldEJDSERpZ2l0OmZ1bmN0aW9uKGRhdGEpe3ZhciBkaWdpdD0wO3doaWxlKGRhdGEhPTApe2RpZ2l0Kys7ZGF0YT4+Pj0xO31cblx0cmV0dXJuIGRpZ2l0O30sZ2V0UGF0dGVyblBvc2l0aW9uOmZ1bmN0aW9uKHR5cGVOdW1iZXIpe3JldHVybiBRUlV0aWwuUEFUVEVSTl9QT1NJVElPTl9UQUJMRVt0eXBlTnVtYmVyLTFdO30sZ2V0TWFzazpmdW5jdGlvbihtYXNrUGF0dGVybixpLGope3N3aXRjaChtYXNrUGF0dGVybil7Y2FzZSBRUk1hc2tQYXR0ZXJuLlBBVFRFUk4wMDA6cmV0dXJuKGkraiklMj09MDtjYXNlIFFSTWFza1BhdHRlcm4uUEFUVEVSTjAwMTpyZXR1cm4gaSUyPT0wO2Nhc2UgUVJNYXNrUGF0dGVybi5QQVRURVJOMDEwOnJldHVybiBqJTM9PTA7Y2FzZSBRUk1hc2tQYXR0ZXJuLlBBVFRFUk4wMTE6cmV0dXJuKGkraiklMz09MDtjYXNlIFFSTWFza1BhdHRlcm4uUEFUVEVSTjEwMDpyZXR1cm4oTWF0aC5mbG9vcihpLzIpK01hdGguZmxvb3Ioai8zKSklMj09MDtjYXNlIFFSTWFza1BhdHRlcm4uUEFUVEVSTjEwMTpyZXR1cm4oaSpqKSUyKyhpKmopJTM9PTA7Y2FzZSBRUk1hc2tQYXR0ZXJuLlBBVFRFUk4xMTA6cmV0dXJuKChpKmopJTIrKGkqaiklMyklMj09MDtjYXNlIFFSTWFza1BhdHRlcm4uUEFUVEVSTjExMTpyZXR1cm4oKGkqaiklMysoaStqKSUyKSUyPT0wO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiYmFkIG1hc2tQYXR0ZXJuOlwiK21hc2tQYXR0ZXJuKTt9fSxnZXRFcnJvckNvcnJlY3RQb2x5bm9taWFsOmZ1bmN0aW9uKGVycm9yQ29ycmVjdExlbmd0aCl7dmFyIGE9bmV3IFFSUG9seW5vbWlhbChbMV0sMCk7Zm9yKHZhciBpPTA7aTxlcnJvckNvcnJlY3RMZW5ndGg7aSsrKXthPWEubXVsdGlwbHkobmV3IFFSUG9seW5vbWlhbChbMSxRUk1hdGguZ2V4cChpKV0sMCkpO31cblx0cmV0dXJuIGE7fSxnZXRMZW5ndGhJbkJpdHM6ZnVuY3Rpb24obW9kZSx0eXBlKXtpZigxPD10eXBlJiZ0eXBlPDEwKXtzd2l0Y2gobW9kZSl7Y2FzZSBRUk1vZGUuTU9ERV9OVU1CRVI6cmV0dXJuIDEwO2Nhc2UgUVJNb2RlLk1PREVfQUxQSEFfTlVNOnJldHVybiA5O2Nhc2UgUVJNb2RlLk1PREVfOEJJVF9CWVRFOnJldHVybiA4O2Nhc2UgUVJNb2RlLk1PREVfS0FOSkk6cmV0dXJuIDg7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJtb2RlOlwiK21vZGUpO319ZWxzZSBpZih0eXBlPDI3KXtzd2l0Y2gobW9kZSl7Y2FzZSBRUk1vZGUuTU9ERV9OVU1CRVI6cmV0dXJuIDEyO2Nhc2UgUVJNb2RlLk1PREVfQUxQSEFfTlVNOnJldHVybiAxMTtjYXNlIFFSTW9kZS5NT0RFXzhCSVRfQllURTpyZXR1cm4gMTY7Y2FzZSBRUk1vZGUuTU9ERV9LQU5KSTpyZXR1cm4gMTA7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJtb2RlOlwiK21vZGUpO319ZWxzZSBpZih0eXBlPDQxKXtzd2l0Y2gobW9kZSl7Y2FzZSBRUk1vZGUuTU9ERV9OVU1CRVI6cmV0dXJuIDE0O2Nhc2UgUVJNb2RlLk1PREVfQUxQSEFfTlVNOnJldHVybiAxMztjYXNlIFFSTW9kZS5NT0RFXzhCSVRfQllURTpyZXR1cm4gMTY7Y2FzZSBRUk1vZGUuTU9ERV9LQU5KSTpyZXR1cm4gMTI7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJtb2RlOlwiK21vZGUpO319ZWxzZXt0aHJvdyBuZXcgRXJyb3IoXCJ0eXBlOlwiK3R5cGUpO319LGdldExvc3RQb2ludDpmdW5jdGlvbihxckNvZGUpe3ZhciBtb2R1bGVDb3VudD1xckNvZGUuZ2V0TW9kdWxlQ291bnQoKTt2YXIgbG9zdFBvaW50PTA7Zm9yKHZhciByb3c9MDtyb3c8bW9kdWxlQ291bnQ7cm93Kyspe2Zvcih2YXIgY29sPTA7Y29sPG1vZHVsZUNvdW50O2NvbCsrKXt2YXIgc2FtZUNvdW50PTA7dmFyIGRhcms9cXJDb2RlLmlzRGFyayhyb3csY29sKTtmb3IodmFyIHI9LTE7cjw9MTtyKyspe2lmKHJvdytyPDB8fG1vZHVsZUNvdW50PD1yb3crcil7Y29udGludWU7fVxuXHRmb3IodmFyIGM9LTE7Yzw9MTtjKyspe2lmKGNvbCtjPDB8fG1vZHVsZUNvdW50PD1jb2wrYyl7Y29udGludWU7fVxuXHRpZihyPT0wJiZjPT0wKXtjb250aW51ZTt9XG5cdGlmKGRhcms9PXFyQ29kZS5pc0Rhcmsocm93K3IsY29sK2MpKXtzYW1lQ291bnQrKzt9fX1cblx0aWYoc2FtZUNvdW50PjUpe2xvc3RQb2ludCs9KDMrc2FtZUNvdW50LTUpO319fVxuXHRmb3IodmFyIHJvdz0wO3Jvdzxtb2R1bGVDb3VudC0xO3JvdysrKXtmb3IodmFyIGNvbD0wO2NvbDxtb2R1bGVDb3VudC0xO2NvbCsrKXt2YXIgY291bnQ9MDtpZihxckNvZGUuaXNEYXJrKHJvdyxjb2wpKWNvdW50Kys7aWYocXJDb2RlLmlzRGFyayhyb3crMSxjb2wpKWNvdW50Kys7aWYocXJDb2RlLmlzRGFyayhyb3csY29sKzEpKWNvdW50Kys7aWYocXJDb2RlLmlzRGFyayhyb3crMSxjb2wrMSkpY291bnQrKztpZihjb3VudD09MHx8Y291bnQ9PTQpe2xvc3RQb2ludCs9Mzt9fX1cblx0Zm9yKHZhciByb3c9MDtyb3c8bW9kdWxlQ291bnQ7cm93Kyspe2Zvcih2YXIgY29sPTA7Y29sPG1vZHVsZUNvdW50LTY7Y29sKyspe2lmKHFyQ29kZS5pc0Rhcmsocm93LGNvbCkmJiFxckNvZGUuaXNEYXJrKHJvdyxjb2wrMSkmJnFyQ29kZS5pc0Rhcmsocm93LGNvbCsyKSYmcXJDb2RlLmlzRGFyayhyb3csY29sKzMpJiZxckNvZGUuaXNEYXJrKHJvdyxjb2wrNCkmJiFxckNvZGUuaXNEYXJrKHJvdyxjb2wrNSkmJnFyQ29kZS5pc0Rhcmsocm93LGNvbCs2KSl7bG9zdFBvaW50Kz00MDt9fX1cblx0Zm9yKHZhciBjb2w9MDtjb2w8bW9kdWxlQ291bnQ7Y29sKyspe2Zvcih2YXIgcm93PTA7cm93PG1vZHVsZUNvdW50LTY7cm93Kyspe2lmKHFyQ29kZS5pc0Rhcmsocm93LGNvbCkmJiFxckNvZGUuaXNEYXJrKHJvdysxLGNvbCkmJnFyQ29kZS5pc0Rhcmsocm93KzIsY29sKSYmcXJDb2RlLmlzRGFyayhyb3crMyxjb2wpJiZxckNvZGUuaXNEYXJrKHJvdys0LGNvbCkmJiFxckNvZGUuaXNEYXJrKHJvdys1LGNvbCkmJnFyQ29kZS5pc0Rhcmsocm93KzYsY29sKSl7bG9zdFBvaW50Kz00MDt9fX1cblx0dmFyIGRhcmtDb3VudD0wO2Zvcih2YXIgY29sPTA7Y29sPG1vZHVsZUNvdW50O2NvbCsrKXtmb3IodmFyIHJvdz0wO3Jvdzxtb2R1bGVDb3VudDtyb3crKyl7aWYocXJDb2RlLmlzRGFyayhyb3csY29sKSl7ZGFya0NvdW50Kys7fX19XG5cdHZhciByYXRpbz1NYXRoLmFicygxMDAqZGFya0NvdW50L21vZHVsZUNvdW50L21vZHVsZUNvdW50LTUwKS81O2xvc3RQb2ludCs9cmF0aW8qMTA7cmV0dXJuIGxvc3RQb2ludDt9fTt2YXIgUVJNYXRoPXtnbG9nOmZ1bmN0aW9uKG4pe2lmKG48MSl7dGhyb3cgbmV3IEVycm9yKFwiZ2xvZyhcIituK1wiKVwiKTt9XG5cdHJldHVybiBRUk1hdGguTE9HX1RBQkxFW25dO30sZ2V4cDpmdW5jdGlvbihuKXt3aGlsZShuPDApe24rPTI1NTt9XG5cdHdoaWxlKG4+PTI1Nil7bi09MjU1O31cblx0cmV0dXJuIFFSTWF0aC5FWFBfVEFCTEVbbl07fSxFWFBfVEFCTEU6bmV3IEFycmF5KDI1NiksTE9HX1RBQkxFOm5ldyBBcnJheSgyNTYpfTtmb3IodmFyIGk9MDtpPDg7aSsrKXtRUk1hdGguRVhQX1RBQkxFW2ldPTE8PGk7fVxuXHRmb3IodmFyIGk9ODtpPDI1NjtpKyspe1FSTWF0aC5FWFBfVEFCTEVbaV09UVJNYXRoLkVYUF9UQUJMRVtpLTRdXlFSTWF0aC5FWFBfVEFCTEVbaS01XV5RUk1hdGguRVhQX1RBQkxFW2ktNl1eUVJNYXRoLkVYUF9UQUJMRVtpLThdO31cblx0Zm9yKHZhciBpPTA7aTwyNTU7aSsrKXtRUk1hdGguTE9HX1RBQkxFW1FSTWF0aC5FWFBfVEFCTEVbaV1dPWk7fVxuXHRmdW5jdGlvbiBRUlBvbHlub21pYWwobnVtLHNoaWZ0KXtpZihudW0ubGVuZ3RoPT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcihudW0ubGVuZ3RoK1wiL1wiK3NoaWZ0KTt9XG5cdHZhciBvZmZzZXQ9MDt3aGlsZShvZmZzZXQ8bnVtLmxlbmd0aCYmbnVtW29mZnNldF09PTApe29mZnNldCsrO31cblx0dGhpcy5udW09bmV3IEFycmF5KG51bS5sZW5ndGgtb2Zmc2V0K3NoaWZ0KTtmb3IodmFyIGk9MDtpPG51bS5sZW5ndGgtb2Zmc2V0O2krKyl7dGhpcy5udW1baV09bnVtW2krb2Zmc2V0XTt9fVxuXHRRUlBvbHlub21pYWwucHJvdG90eXBlPXtnZXQ6ZnVuY3Rpb24oaW5kZXgpe3JldHVybiB0aGlzLm51bVtpbmRleF07fSxnZXRMZW5ndGg6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5udW0ubGVuZ3RoO30sbXVsdGlwbHk6ZnVuY3Rpb24oZSl7dmFyIG51bT1uZXcgQXJyYXkodGhpcy5nZXRMZW5ndGgoKStlLmdldExlbmd0aCgpLTEpO2Zvcih2YXIgaT0wO2k8dGhpcy5nZXRMZW5ndGgoKTtpKyspe2Zvcih2YXIgaj0wO2o8ZS5nZXRMZW5ndGgoKTtqKyspe251bVtpK2pdXj1RUk1hdGguZ2V4cChRUk1hdGguZ2xvZyh0aGlzLmdldChpKSkrUVJNYXRoLmdsb2coZS5nZXQoaikpKTt9fVxuXHRyZXR1cm4gbmV3IFFSUG9seW5vbWlhbChudW0sMCk7fSxtb2Q6ZnVuY3Rpb24oZSl7aWYodGhpcy5nZXRMZW5ndGgoKS1lLmdldExlbmd0aCgpPDApe3JldHVybiB0aGlzO31cblx0dmFyIHJhdGlvPVFSTWF0aC5nbG9nKHRoaXMuZ2V0KDApKS1RUk1hdGguZ2xvZyhlLmdldCgwKSk7dmFyIG51bT1uZXcgQXJyYXkodGhpcy5nZXRMZW5ndGgoKSk7Zm9yKHZhciBpPTA7aTx0aGlzLmdldExlbmd0aCgpO2krKyl7bnVtW2ldPXRoaXMuZ2V0KGkpO31cblx0Zm9yKHZhciBpPTA7aTxlLmdldExlbmd0aCgpO2krKyl7bnVtW2ldXj1RUk1hdGguZ2V4cChRUk1hdGguZ2xvZyhlLmdldChpKSkrcmF0aW8pO31cblx0cmV0dXJuIG5ldyBRUlBvbHlub21pYWwobnVtLDApLm1vZChlKTt9fTtmdW5jdGlvbiBRUlJTQmxvY2sodG90YWxDb3VudCxkYXRhQ291bnQpe3RoaXMudG90YWxDb3VudD10b3RhbENvdW50O3RoaXMuZGF0YUNvdW50PWRhdGFDb3VudDt9XG5cdFFSUlNCbG9jay5SU19CTE9DS19UQUJMRT1bWzEsMjYsMTldLFsxLDI2LDE2XSxbMSwyNiwxM10sWzEsMjYsOV0sWzEsNDQsMzRdLFsxLDQ0LDI4XSxbMSw0NCwyMl0sWzEsNDQsMTZdLFsxLDcwLDU1XSxbMSw3MCw0NF0sWzIsMzUsMTddLFsyLDM1LDEzXSxbMSwxMDAsODBdLFsyLDUwLDMyXSxbMiw1MCwyNF0sWzQsMjUsOV0sWzEsMTM0LDEwOF0sWzIsNjcsNDNdLFsyLDMzLDE1LDIsMzQsMTZdLFsyLDMzLDExLDIsMzQsMTJdLFsyLDg2LDY4XSxbNCw0MywyN10sWzQsNDMsMTldLFs0LDQzLDE1XSxbMiw5OCw3OF0sWzQsNDksMzFdLFsyLDMyLDE0LDQsMzMsMTVdLFs0LDM5LDEzLDEsNDAsMTRdLFsyLDEyMSw5N10sWzIsNjAsMzgsMiw2MSwzOV0sWzQsNDAsMTgsMiw0MSwxOV0sWzQsNDAsMTQsMiw0MSwxNV0sWzIsMTQ2LDExNl0sWzMsNTgsMzYsMiw1OSwzN10sWzQsMzYsMTYsNCwzNywxN10sWzQsMzYsMTIsNCwzNywxM10sWzIsODYsNjgsMiw4Nyw2OV0sWzQsNjksNDMsMSw3MCw0NF0sWzYsNDMsMTksMiw0NCwyMF0sWzYsNDMsMTUsMiw0NCwxNl0sWzQsMTAxLDgxXSxbMSw4MCw1MCw0LDgxLDUxXSxbNCw1MCwyMiw0LDUxLDIzXSxbMywzNiwxMiw4LDM3LDEzXSxbMiwxMTYsOTIsMiwxMTcsOTNdLFs2LDU4LDM2LDIsNTksMzddLFs0LDQ2LDIwLDYsNDcsMjFdLFs3LDQyLDE0LDQsNDMsMTVdLFs0LDEzMywxMDddLFs4LDU5LDM3LDEsNjAsMzhdLFs4LDQ0LDIwLDQsNDUsMjFdLFsxMiwzMywxMSw0LDM0LDEyXSxbMywxNDUsMTE1LDEsMTQ2LDExNl0sWzQsNjQsNDAsNSw2NSw0MV0sWzExLDM2LDE2LDUsMzcsMTddLFsxMSwzNiwxMiw1LDM3LDEzXSxbNSwxMDksODcsMSwxMTAsODhdLFs1LDY1LDQxLDUsNjYsNDJdLFs1LDU0LDI0LDcsNTUsMjVdLFsxMSwzNiwxMl0sWzUsMTIyLDk4LDEsMTIzLDk5XSxbNyw3Myw0NSwzLDc0LDQ2XSxbMTUsNDMsMTksMiw0NCwyMF0sWzMsNDUsMTUsMTMsNDYsMTZdLFsxLDEzNSwxMDcsNSwxMzYsMTA4XSxbMTAsNzQsNDYsMSw3NSw0N10sWzEsNTAsMjIsMTUsNTEsMjNdLFsyLDQyLDE0LDE3LDQzLDE1XSxbNSwxNTAsMTIwLDEsMTUxLDEyMV0sWzksNjksNDMsNCw3MCw0NF0sWzE3LDUwLDIyLDEsNTEsMjNdLFsyLDQyLDE0LDE5LDQzLDE1XSxbMywxNDEsMTEzLDQsMTQyLDExNF0sWzMsNzAsNDQsMTEsNzEsNDVdLFsxNyw0NywyMSw0LDQ4LDIyXSxbOSwzOSwxMywxNiw0MCwxNF0sWzMsMTM1LDEwNyw1LDEzNiwxMDhdLFszLDY3LDQxLDEzLDY4LDQyXSxbMTUsNTQsMjQsNSw1NSwyNV0sWzE1LDQzLDE1LDEwLDQ0LDE2XSxbNCwxNDQsMTE2LDQsMTQ1LDExN10sWzE3LDY4LDQyXSxbMTcsNTAsMjIsNiw1MSwyM10sWzE5LDQ2LDE2LDYsNDcsMTddLFsyLDEzOSwxMTEsNywxNDAsMTEyXSxbMTcsNzQsNDZdLFs3LDU0LDI0LDE2LDU1LDI1XSxbMzQsMzcsMTNdLFs0LDE1MSwxMjEsNSwxNTIsMTIyXSxbNCw3NSw0NywxNCw3Niw0OF0sWzExLDU0LDI0LDE0LDU1LDI1XSxbMTYsNDUsMTUsMTQsNDYsMTZdLFs2LDE0NywxMTcsNCwxNDgsMTE4XSxbNiw3Myw0NSwxNCw3NCw0Nl0sWzExLDU0LDI0LDE2LDU1LDI1XSxbMzAsNDYsMTYsMiw0NywxN10sWzgsMTMyLDEwNiw0LDEzMywxMDddLFs4LDc1LDQ3LDEzLDc2LDQ4XSxbNyw1NCwyNCwyMiw1NSwyNV0sWzIyLDQ1LDE1LDEzLDQ2LDE2XSxbMTAsMTQyLDExNCwyLDE0MywxMTVdLFsxOSw3NCw0Niw0LDc1LDQ3XSxbMjgsNTAsMjIsNiw1MSwyM10sWzMzLDQ2LDE2LDQsNDcsMTddLFs4LDE1MiwxMjIsNCwxNTMsMTIzXSxbMjIsNzMsNDUsMyw3NCw0Nl0sWzgsNTMsMjMsMjYsNTQsMjRdLFsxMiw0NSwxNSwyOCw0NiwxNl0sWzMsMTQ3LDExNywxMCwxNDgsMTE4XSxbMyw3Myw0NSwyMyw3NCw0Nl0sWzQsNTQsMjQsMzEsNTUsMjVdLFsxMSw0NSwxNSwzMSw0NiwxNl0sWzcsMTQ2LDExNiw3LDE0NywxMTddLFsyMSw3Myw0NSw3LDc0LDQ2XSxbMSw1MywyMywzNyw1NCwyNF0sWzE5LDQ1LDE1LDI2LDQ2LDE2XSxbNSwxNDUsMTE1LDEwLDE0NiwxMTZdLFsxOSw3NSw0NywxMCw3Niw0OF0sWzE1LDU0LDI0LDI1LDU1LDI1XSxbMjMsNDUsMTUsMjUsNDYsMTZdLFsxMywxNDUsMTE1LDMsMTQ2LDExNl0sWzIsNzQsNDYsMjksNzUsNDddLFs0Miw1NCwyNCwxLDU1LDI1XSxbMjMsNDUsMTUsMjgsNDYsMTZdLFsxNywxNDUsMTE1XSxbMTAsNzQsNDYsMjMsNzUsNDddLFsxMCw1NCwyNCwzNSw1NSwyNV0sWzE5LDQ1LDE1LDM1LDQ2LDE2XSxbMTcsMTQ1LDExNSwxLDE0NiwxMTZdLFsxNCw3NCw0NiwyMSw3NSw0N10sWzI5LDU0LDI0LDE5LDU1LDI1XSxbMTEsNDUsMTUsNDYsNDYsMTZdLFsxMywxNDUsMTE1LDYsMTQ2LDExNl0sWzE0LDc0LDQ2LDIzLDc1LDQ3XSxbNDQsNTQsMjQsNyw1NSwyNV0sWzU5LDQ2LDE2LDEsNDcsMTddLFsxMiwxNTEsMTIxLDcsMTUyLDEyMl0sWzEyLDc1LDQ3LDI2LDc2LDQ4XSxbMzksNTQsMjQsMTQsNTUsMjVdLFsyMiw0NSwxNSw0MSw0NiwxNl0sWzYsMTUxLDEyMSwxNCwxNTIsMTIyXSxbNiw3NSw0NywzNCw3Niw0OF0sWzQ2LDU0LDI0LDEwLDU1LDI1XSxbMiw0NSwxNSw2NCw0NiwxNl0sWzE3LDE1MiwxMjIsNCwxNTMsMTIzXSxbMjksNzQsNDYsMTQsNzUsNDddLFs0OSw1NCwyNCwxMCw1NSwyNV0sWzI0LDQ1LDE1LDQ2LDQ2LDE2XSxbNCwxNTIsMTIyLDE4LDE1MywxMjNdLFsxMyw3NCw0NiwzMiw3NSw0N10sWzQ4LDU0LDI0LDE0LDU1LDI1XSxbNDIsNDUsMTUsMzIsNDYsMTZdLFsyMCwxNDcsMTE3LDQsMTQ4LDExOF0sWzQwLDc1LDQ3LDcsNzYsNDhdLFs0Myw1NCwyNCwyMiw1NSwyNV0sWzEwLDQ1LDE1LDY3LDQ2LDE2XSxbMTksMTQ4LDExOCw2LDE0OSwxMTldLFsxOCw3NSw0NywzMSw3Niw0OF0sWzM0LDU0LDI0LDM0LDU1LDI1XSxbMjAsNDUsMTUsNjEsNDYsMTZdXTtRUlJTQmxvY2suZ2V0UlNCbG9ja3M9ZnVuY3Rpb24odHlwZU51bWJlcixlcnJvckNvcnJlY3RMZXZlbCl7dmFyIHJzQmxvY2s9UVJSU0Jsb2NrLmdldFJzQmxvY2tUYWJsZSh0eXBlTnVtYmVyLGVycm9yQ29ycmVjdExldmVsKTtpZihyc0Jsb2NrPT11bmRlZmluZWQpe3Rocm93IG5ldyBFcnJvcihcImJhZCBycyBibG9jayBAIHR5cGVOdW1iZXI6XCIrdHlwZU51bWJlcitcIi9lcnJvckNvcnJlY3RMZXZlbDpcIitlcnJvckNvcnJlY3RMZXZlbCk7fVxuXHR2YXIgbGVuZ3RoPXJzQmxvY2subGVuZ3RoLzM7dmFyIGxpc3Q9W107Zm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXt2YXIgY291bnQ9cnNCbG9ja1tpKjMrMF07dmFyIHRvdGFsQ291bnQ9cnNCbG9ja1tpKjMrMV07dmFyIGRhdGFDb3VudD1yc0Jsb2NrW2kqMysyXTtmb3IodmFyIGo9MDtqPGNvdW50O2orKyl7bGlzdC5wdXNoKG5ldyBRUlJTQmxvY2sodG90YWxDb3VudCxkYXRhQ291bnQpKTt9fVxuXHRyZXR1cm4gbGlzdDt9O1FSUlNCbG9jay5nZXRSc0Jsb2NrVGFibGU9ZnVuY3Rpb24odHlwZU51bWJlcixlcnJvckNvcnJlY3RMZXZlbCl7c3dpdGNoKGVycm9yQ29ycmVjdExldmVsKXtjYXNlIFFSRXJyb3JDb3JyZWN0TGV2ZWwuTDpyZXR1cm4gUVJSU0Jsb2NrLlJTX0JMT0NLX1RBQkxFWyh0eXBlTnVtYmVyLTEpKjQrMF07Y2FzZSBRUkVycm9yQ29ycmVjdExldmVsLk06cmV0dXJuIFFSUlNCbG9jay5SU19CTE9DS19UQUJMRVsodHlwZU51bWJlci0xKSo0KzFdO2Nhc2UgUVJFcnJvckNvcnJlY3RMZXZlbC5ROnJldHVybiBRUlJTQmxvY2suUlNfQkxPQ0tfVEFCTEVbKHR5cGVOdW1iZXItMSkqNCsyXTtjYXNlIFFSRXJyb3JDb3JyZWN0TGV2ZWwuSDpyZXR1cm4gUVJSU0Jsb2NrLlJTX0JMT0NLX1RBQkxFWyh0eXBlTnVtYmVyLTEpKjQrM107ZGVmYXVsdDpyZXR1cm4gdW5kZWZpbmVkO319O2Z1bmN0aW9uIFFSQml0QnVmZmVyKCl7dGhpcy5idWZmZXI9W107dGhpcy5sZW5ndGg9MDt9XG5cdFFSQml0QnVmZmVyLnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKGluZGV4KXt2YXIgYnVmSW5kZXg9TWF0aC5mbG9vcihpbmRleC84KTtyZXR1cm4oKHRoaXMuYnVmZmVyW2J1ZkluZGV4XT4+Pig3LWluZGV4JTgpKSYxKT09MTt9LHB1dDpmdW5jdGlvbihudW0sbGVuZ3RoKXtmb3IodmFyIGk9MDtpPGxlbmd0aDtpKyspe3RoaXMucHV0Qml0KCgobnVtPj4+KGxlbmd0aC1pLTEpKSYxKT09MSk7fX0sZ2V0TGVuZ3RoSW5CaXRzOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubGVuZ3RoO30scHV0Qml0OmZ1bmN0aW9uKGJpdCl7dmFyIGJ1ZkluZGV4PU1hdGguZmxvb3IodGhpcy5sZW5ndGgvOCk7aWYodGhpcy5idWZmZXIubGVuZ3RoPD1idWZJbmRleCl7dGhpcy5idWZmZXIucHVzaCgwKTt9XG5cdGlmKGJpdCl7dGhpcy5idWZmZXJbYnVmSW5kZXhdfD0oMHg4MD4+Pih0aGlzLmxlbmd0aCU4KSk7fVxuXHR0aGlzLmxlbmd0aCsrO319O3ZhciBRUkNvZGVMaW1pdExlbmd0aD1bWzE3LDE0LDExLDddLFszMiwyNiwyMCwxNF0sWzUzLDQyLDMyLDI0XSxbNzgsNjIsNDYsMzRdLFsxMDYsODQsNjAsNDRdLFsxMzQsMTA2LDc0LDU4XSxbMTU0LDEyMiw4Niw2NF0sWzE5MiwxNTIsMTA4LDg0XSxbMjMwLDE4MCwxMzAsOThdLFsyNzEsMjEzLDE1MSwxMTldLFszMjEsMjUxLDE3NywxMzddLFszNjcsMjg3LDIwMywxNTVdLFs0MjUsMzMxLDI0MSwxNzddLFs0NTgsMzYyLDI1OCwxOTRdLFs1MjAsNDEyLDI5MiwyMjBdLFs1ODYsNDUwLDMyMiwyNTBdLFs2NDQsNTA0LDM2NCwyODBdLFs3MTgsNTYwLDM5NCwzMTBdLFs3OTIsNjI0LDQ0MiwzMzhdLFs4NTgsNjY2LDQ4MiwzODJdLFs5MjksNzExLDUwOSw0MDNdLFsxMDAzLDc3OSw1NjUsNDM5XSxbMTA5MSw4NTcsNjExLDQ2MV0sWzExNzEsOTExLDY2MSw1MTFdLFsxMjczLDk5Nyw3MTUsNTM1XSxbMTM2NywxMDU5LDc1MSw1OTNdLFsxNDY1LDExMjUsODA1LDYyNV0sWzE1MjgsMTE5MCw4NjgsNjU4XSxbMTYyOCwxMjY0LDkwOCw2OThdLFsxNzMyLDEzNzAsOTgyLDc0Ml0sWzE4NDAsMTQ1MiwxMDMwLDc5MF0sWzE5NTIsMTUzOCwxMTEyLDg0Ml0sWzIwNjgsMTYyOCwxMTY4LDg5OF0sWzIxODgsMTcyMiwxMjI4LDk1OF0sWzIzMDMsMTgwOSwxMjgzLDk4M10sWzI0MzEsMTkxMSwxMzUxLDEwNTFdLFsyNTYzLDE5ODksMTQyMywxMDkzXSxbMjY5OSwyMDk5LDE0OTksMTEzOV0sWzI4MDksMjIxMywxNTc5LDEyMTldLFsyOTUzLDIzMzEsMTY2MywxMjczXV07XG5cdFxuXHRmdW5jdGlvbiBfaXNTdXBwb3J0Q2FudmFzKCkge1xuXHRcdHJldHVybiB0eXBlb2YgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEICE9IFwidW5kZWZpbmVkXCI7XG5cdH1cblx0XG5cdC8vIGFuZHJvaWQgMi54IGRvZXNuJ3Qgc3VwcG9ydCBEYXRhLVVSSSBzcGVjXG5cdGZ1bmN0aW9uIF9nZXRBbmRyb2lkKCkge1xuXHRcdHZhciBhbmRyb2lkID0gZmFsc2U7XG5cdFx0dmFyIHNBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG5cdFx0XG5cdFx0aWYgKC9hbmRyb2lkL2kudGVzdChzQWdlbnQpKSB7IC8vIGFuZHJvaWRcblx0XHRcdGFuZHJvaWQgPSB0cnVlO1xuXHRcdFx0dmFyIGFNYXQgPSBzQWdlbnQudG9TdHJpbmcoKS5tYXRjaCgvYW5kcm9pZCAoWzAtOV1cXC5bMC05XSkvaSk7XG5cdFx0XHRcblx0XHRcdGlmIChhTWF0ICYmIGFNYXRbMV0pIHtcblx0XHRcdFx0YW5kcm9pZCA9IHBhcnNlRmxvYXQoYU1hdFsxXSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdHJldHVybiBhbmRyb2lkO1xuXHR9XG5cdFxuXHR2YXIgc3ZnRHJhd2VyID0gKGZ1bmN0aW9uKCkge1xuXG5cdFx0dmFyIERyYXdpbmcgPSBmdW5jdGlvbiAoZWwsIGh0T3B0aW9uKSB7XG5cdFx0XHR0aGlzLl9lbCA9IGVsO1xuXHRcdFx0dGhpcy5faHRPcHRpb24gPSBodE9wdGlvbjtcblx0XHR9O1xuXG5cdFx0RHJhd2luZy5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChvUVJDb2RlKSB7XG5cdFx0XHR2YXIgX2h0T3B0aW9uID0gdGhpcy5faHRPcHRpb247XG5cdFx0XHR2YXIgX2VsID0gdGhpcy5fZWw7XG5cdFx0XHR2YXIgbkNvdW50ID0gb1FSQ29kZS5nZXRNb2R1bGVDb3VudCgpO1xuXHRcdFx0dmFyIG5XaWR0aCA9IE1hdGguZmxvb3IoX2h0T3B0aW9uLndpZHRoIC8gbkNvdW50KTtcblx0XHRcdHZhciBuSGVpZ2h0ID0gTWF0aC5mbG9vcihfaHRPcHRpb24uaGVpZ2h0IC8gbkNvdW50KTtcblxuXHRcdFx0dGhpcy5jbGVhcigpO1xuXG5cdFx0XHRmdW5jdGlvbiBtYWtlU1ZHKHRhZywgYXR0cnMpIHtcblx0XHRcdFx0dmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIHRhZyk7XG5cdFx0XHRcdGZvciAodmFyIGsgaW4gYXR0cnMpXG5cdFx0XHRcdFx0aWYgKGF0dHJzLmhhc093blByb3BlcnR5KGspKSBlbC5zZXRBdHRyaWJ1dGUoaywgYXR0cnNba10pO1xuXHRcdFx0XHRyZXR1cm4gZWw7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBzdmcgPSBtYWtlU1ZHKFwic3ZnXCIgLCB7J3ZpZXdCb3gnOiAnMCAwICcgKyBTdHJpbmcobkNvdW50KSArIFwiIFwiICsgU3RyaW5nKG5Db3VudCksICd3aWR0aCc6ICcxMDAlJywgJ2hlaWdodCc6ICcxMDAlJywgJ2ZpbGwnOiBfaHRPcHRpb24uY29sb3JMaWdodH0pO1xuXHRcdFx0c3ZnLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC94bWxucy9cIiwgXCJ4bWxuczp4bGlua1wiLCBcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIik7XG5cdFx0XHRfZWwuYXBwZW5kQ2hpbGQoc3ZnKTtcblxuXHRcdFx0c3ZnLmFwcGVuZENoaWxkKG1ha2VTVkcoXCJyZWN0XCIsIHtcImZpbGxcIjogX2h0T3B0aW9uLmNvbG9yTGlnaHQsIFwid2lkdGhcIjogXCIxMDAlXCIsIFwiaGVpZ2h0XCI6IFwiMTAwJVwifSkpO1xuXHRcdFx0c3ZnLmFwcGVuZENoaWxkKG1ha2VTVkcoXCJyZWN0XCIsIHtcImZpbGxcIjogX2h0T3B0aW9uLmNvbG9yRGFyaywgXCJ3aWR0aFwiOiBcIjFcIiwgXCJoZWlnaHRcIjogXCIxXCIsIFwiaWRcIjogXCJ0ZW1wbGF0ZVwifSkpO1xuXG5cdFx0XHRmb3IgKHZhciByb3cgPSAwOyByb3cgPCBuQ291bnQ7IHJvdysrKSB7XG5cdFx0XHRcdGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IG5Db3VudDsgY29sKyspIHtcblx0XHRcdFx0XHRpZiAob1FSQ29kZS5pc0Rhcmsocm93LCBjb2wpKSB7XG5cdFx0XHRcdFx0XHR2YXIgY2hpbGQgPSBtYWtlU1ZHKFwidXNlXCIsIHtcInhcIjogU3RyaW5nKGNvbCksIFwieVwiOiBTdHJpbmcocm93KX0pO1xuXHRcdFx0XHRcdFx0Y2hpbGQuc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIsIFwiaHJlZlwiLCBcIiN0ZW1wbGF0ZVwiKVxuXHRcdFx0XHRcdFx0c3ZnLmFwcGVuZENoaWxkKGNoaWxkKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9O1xuXHRcdERyYXdpbmcucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0d2hpbGUgKHRoaXMuX2VsLmhhc0NoaWxkTm9kZXMoKSlcblx0XHRcdFx0dGhpcy5fZWwucmVtb3ZlQ2hpbGQodGhpcy5fZWwubGFzdENoaWxkKTtcblx0XHR9O1xuXHRcdHJldHVybiBEcmF3aW5nO1xuXHR9KSgpO1xuXG5cdHZhciB1c2VTVkcgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInN2Z1wiO1xuXG5cdC8vIERyYXdpbmcgaW4gRE9NIGJ5IHVzaW5nIFRhYmxlIHRhZ1xuXHR2YXIgRHJhd2luZyA9IHVzZVNWRyA/IHN2Z0RyYXdlciA6ICFfaXNTdXBwb3J0Q2FudmFzKCkgPyAoZnVuY3Rpb24gKCkge1xuXHRcdHZhciBEcmF3aW5nID0gZnVuY3Rpb24gKGVsLCBodE9wdGlvbikge1xuXHRcdFx0dGhpcy5fZWwgPSBlbDtcblx0XHRcdHRoaXMuX2h0T3B0aW9uID0gaHRPcHRpb247XG5cdFx0fTtcblx0XHRcdFxuXHRcdC8qKlxuXHRcdCAqIERyYXcgdGhlIFFSQ29kZVxuXHRcdCAqIFxuXHRcdCAqIEBwYXJhbSB7UVJDb2RlfSBvUVJDb2RlXG5cdFx0ICovXG5cdFx0RHJhd2luZy5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChvUVJDb2RlKSB7XG4gICAgICAgICAgICB2YXIgX2h0T3B0aW9uID0gdGhpcy5faHRPcHRpb247XG4gICAgICAgICAgICB2YXIgX2VsID0gdGhpcy5fZWw7XG5cdFx0XHR2YXIgbkNvdW50ID0gb1FSQ29kZS5nZXRNb2R1bGVDb3VudCgpO1xuXHRcdFx0dmFyIG5XaWR0aCA9IE1hdGguZmxvb3IoX2h0T3B0aW9uLndpZHRoIC8gbkNvdW50KTtcblx0XHRcdHZhciBuSGVpZ2h0ID0gTWF0aC5mbG9vcihfaHRPcHRpb24uaGVpZ2h0IC8gbkNvdW50KTtcblx0XHRcdHZhciBhSFRNTCA9IFsnPHRhYmxlIHN0eWxlPVwiYm9yZGVyOjA7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO1wiPiddO1xuXHRcdFx0XG5cdFx0XHRmb3IgKHZhciByb3cgPSAwOyByb3cgPCBuQ291bnQ7IHJvdysrKSB7XG5cdFx0XHRcdGFIVE1MLnB1c2goJzx0cj4nKTtcblx0XHRcdFx0XG5cdFx0XHRcdGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IG5Db3VudDsgY29sKyspIHtcblx0XHRcdFx0XHRhSFRNTC5wdXNoKCc8dGQgc3R5bGU9XCJib3JkZXI6MDtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7cGFkZGluZzowO21hcmdpbjowO3dpZHRoOicgKyBuV2lkdGggKyAncHg7aGVpZ2h0OicgKyBuSGVpZ2h0ICsgJ3B4O2JhY2tncm91bmQtY29sb3I6JyArIChvUVJDb2RlLmlzRGFyayhyb3csIGNvbCkgPyBfaHRPcHRpb24uY29sb3JEYXJrIDogX2h0T3B0aW9uLmNvbG9yTGlnaHQpICsgJztcIj48L3RkPicpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdFxuXHRcdFx0XHRhSFRNTC5wdXNoKCc8L3RyPicpO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRhSFRNTC5wdXNoKCc8L3RhYmxlPicpO1xuXHRcdFx0X2VsLmlubmVySFRNTCA9IGFIVE1MLmpvaW4oJycpO1xuXHRcdFx0XG5cdFx0XHQvLyBGaXggdGhlIG1hcmdpbiB2YWx1ZXMgYXMgcmVhbCBzaXplLlxuXHRcdFx0dmFyIGVsVGFibGUgPSBfZWwuY2hpbGROb2Rlc1swXTtcblx0XHRcdHZhciBuTGVmdE1hcmdpblRhYmxlID0gKF9odE9wdGlvbi53aWR0aCAtIGVsVGFibGUub2Zmc2V0V2lkdGgpIC8gMjtcblx0XHRcdHZhciBuVG9wTWFyZ2luVGFibGUgPSAoX2h0T3B0aW9uLmhlaWdodCAtIGVsVGFibGUub2Zmc2V0SGVpZ2h0KSAvIDI7XG5cdFx0XHRcblx0XHRcdGlmIChuTGVmdE1hcmdpblRhYmxlID4gMCAmJiBuVG9wTWFyZ2luVGFibGUgPiAwKSB7XG5cdFx0XHRcdGVsVGFibGUuc3R5bGUubWFyZ2luID0gblRvcE1hcmdpblRhYmxlICsgXCJweCBcIiArIG5MZWZ0TWFyZ2luVGFibGUgKyBcInB4XCI7XHRcblx0XHRcdH1cblx0XHR9O1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIENsZWFyIHRoZSBRUkNvZGVcblx0XHQgKi9cblx0XHREcmF3aW5nLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoaXMuX2VsLmlubmVySFRNTCA9ICcnO1xuXHRcdH07XG5cdFx0XG5cdFx0cmV0dXJuIERyYXdpbmc7XG5cdH0pKCkgOiAoZnVuY3Rpb24gKCkgeyAvLyBEcmF3aW5nIGluIENhbnZhc1xuXHRcdGZ1bmN0aW9uIF9vbk1ha2VJbWFnZSgpIHtcblx0XHRcdHRoaXMuX2VsSW1hZ2Uuc3JjID0gdGhpcy5fZWxDYW52YXMudG9EYXRhVVJMKFwiaW1hZ2UvcG5nXCIpO1xuXHRcdFx0dGhpcy5fZWxJbWFnZS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXHRcdFx0dGhpcy5fZWxDYW52YXMuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1x0XHRcdFxuXHRcdH1cblx0XHRcblx0XHQvLyBBbmRyb2lkIDIuMSBidWcgd29ya2Fyb3VuZFxuXHRcdC8vIGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9hbmRyb2lkL2lzc3Vlcy9kZXRhaWw/aWQ9NTE0MVxuXHRcdGlmICh0aGlzLl9hbmRyb2lkICYmIHRoaXMuX2FuZHJvaWQgPD0gMi4xKSB7XG5cdCAgICBcdHZhciBmYWN0b3IgPSAxIC8gd2luZG93LmRldmljZVBpeGVsUmF0aW87XG5cdCAgICAgICAgdmFyIGRyYXdJbWFnZSA9IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUuZHJhd0ltYWdlOyBcblx0ICAgIFx0Q2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnByb3RvdHlwZS5kcmF3SW1hZ2UgPSBmdW5jdGlvbiAoaW1hZ2UsIHN4LCBzeSwgc3csIHNoLCBkeCwgZHksIGR3LCBkaCkge1xuXHQgICAgXHRcdGlmICgoXCJub2RlTmFtZVwiIGluIGltYWdlKSAmJiAvaW1nL2kudGVzdChpbWFnZS5ub2RlTmFtZSkpIHtcblx0XHQgICAgICAgIFx0Zm9yICh2YXIgaSA9IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpID49IDE7IGktLSkge1xuXHRcdCAgICAgICAgICAgIFx0YXJndW1lbnRzW2ldID0gYXJndW1lbnRzW2ldICogZmFjdG9yO1xuXHRcdCAgICAgICAgXHR9XG5cdCAgICBcdFx0fSBlbHNlIGlmICh0eXBlb2YgZHcgPT0gXCJ1bmRlZmluZWRcIikge1xuXHQgICAgXHRcdFx0YXJndW1lbnRzWzFdICo9IGZhY3Rvcjtcblx0ICAgIFx0XHRcdGFyZ3VtZW50c1syXSAqPSBmYWN0b3I7XG5cdCAgICBcdFx0XHRhcmd1bWVudHNbM10gKj0gZmFjdG9yO1xuXHQgICAgXHRcdFx0YXJndW1lbnRzWzRdICo9IGZhY3Rvcjtcblx0ICAgIFx0XHR9XG5cdCAgICBcdFx0XG5cdCAgICAgICAgXHRkcmF3SW1hZ2UuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgXG5cdCAgICBcdH07XG5cdFx0fVxuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIENoZWNrIHdoZXRoZXIgdGhlIHVzZXIncyBicm93c2VyIHN1cHBvcnRzIERhdGEgVVJJIG9yIG5vdFxuXHRcdCAqIFxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZlN1Y2Nlc3MgT2NjdXJzIGlmIGl0IHN1cHBvcnRzIERhdGEgVVJJXG5cdFx0ICogQHBhcmFtIHtGdW5jdGlvbn0gZkZhaWwgT2NjdXJzIGlmIGl0IGRvZXNuJ3Qgc3VwcG9ydCBEYXRhIFVSSVxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIF9zYWZlU2V0RGF0YVVSSShmU3VjY2VzcywgZkZhaWwpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIHNlbGYuX2ZGYWlsID0gZkZhaWw7XG4gICAgICAgICAgICBzZWxmLl9mU3VjY2VzcyA9IGZTdWNjZXNzO1xuXG4gICAgICAgICAgICAvLyBDaGVjayBpdCBqdXN0IG9uY2VcbiAgICAgICAgICAgIGlmIChzZWxmLl9iU3VwcG9ydERhdGFVUkkgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICAgICAgICAgIHZhciBmT25FcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9iU3VwcG9ydERhdGFVUkkgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5fZkZhaWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2ZGYWlsLmNhbGwoc2VsZik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBmT25TdWNjZXNzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2JTdXBwb3J0RGF0YVVSSSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuX2ZTdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9mU3VjY2Vzcy5jYWxsKHNlbGYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGVsLm9uYWJvcnQgPSBmT25FcnJvcjtcbiAgICAgICAgICAgICAgICBlbC5vbmVycm9yID0gZk9uRXJyb3I7XG4gICAgICAgICAgICAgICAgZWwub25sb2FkID0gZk9uU3VjY2VzcztcbiAgICAgICAgICAgICAgICBlbC5zcmMgPSBcImRhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQVVBQUFBRkNBWUFBQUNOYnlibEFBQUFIRWxFUVZRSTEyUDQvLzgvdzM4R0lBWERJQktFMERIeGdsak5CQUFPOVRYTDBZNE9Id0FBQUFCSlJVNUVya0pnZ2c9PVwiOyAvLyB0aGUgSW1hZ2UgY29udGFpbnMgMXB4IGRhdGEuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLl9iU3VwcG9ydERhdGFVUkkgPT09IHRydWUgJiYgc2VsZi5fZlN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9mU3VjY2Vzcy5jYWxsKHNlbGYpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxmLl9iU3VwcG9ydERhdGFVUkkgPT09IGZhbHNlICYmIHNlbGYuX2ZGYWlsKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fZkZhaWwuY2FsbChzZWxmKTtcbiAgICAgICAgICAgIH1cblx0XHR9O1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIERyYXdpbmcgUVJDb2RlIGJ5IHVzaW5nIGNhbnZhc1xuXHRcdCAqIFxuXHRcdCAqIEBjb25zdHJ1Y3RvclxuXHRcdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsXG5cdFx0ICogQHBhcmFtIHtPYmplY3R9IGh0T3B0aW9uIFFSQ29kZSBPcHRpb25zIFxuXHRcdCAqL1xuXHRcdHZhciBEcmF3aW5nID0gZnVuY3Rpb24gKGVsLCBodE9wdGlvbikge1xuICAgIFx0XHR0aGlzLl9iSXNQYWludGVkID0gZmFsc2U7XG4gICAgXHRcdHRoaXMuX2FuZHJvaWQgPSBfZ2V0QW5kcm9pZCgpO1xuXHRcdFxuXHRcdFx0dGhpcy5faHRPcHRpb24gPSBodE9wdGlvbjtcblx0XHRcdHRoaXMuX2VsQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcblx0XHRcdHRoaXMuX2VsQ2FudmFzLndpZHRoID0gaHRPcHRpb24ud2lkdGg7XG5cdFx0XHR0aGlzLl9lbENhbnZhcy5oZWlnaHQgPSBodE9wdGlvbi5oZWlnaHQ7XG5cdFx0XHRlbC5hcHBlbmRDaGlsZCh0aGlzLl9lbENhbnZhcyk7XG5cdFx0XHR0aGlzLl9lbCA9IGVsO1xuXHRcdFx0dGhpcy5fb0NvbnRleHQgPSB0aGlzLl9lbENhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XG5cdFx0XHR0aGlzLl9iSXNQYWludGVkID0gZmFsc2U7XG5cdFx0XHR0aGlzLl9lbEltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcblx0XHRcdHRoaXMuX2VsSW1hZ2UuYWx0ID0gXCJTY2FuIG1lIVwiO1xuXHRcdFx0dGhpcy5fZWxJbWFnZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdFx0XHR0aGlzLl9lbC5hcHBlbmRDaGlsZCh0aGlzLl9lbEltYWdlKTtcblx0XHRcdHRoaXMuX2JTdXBwb3J0RGF0YVVSSSA9IG51bGw7XG5cdFx0fTtcblx0XHRcdFxuXHRcdC8qKlxuXHRcdCAqIERyYXcgdGhlIFFSQ29kZVxuXHRcdCAqIFxuXHRcdCAqIEBwYXJhbSB7UVJDb2RlfSBvUVJDb2RlIFxuXHRcdCAqL1xuXHRcdERyYXdpbmcucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAob1FSQ29kZSkge1xuICAgICAgICAgICAgdmFyIF9lbEltYWdlID0gdGhpcy5fZWxJbWFnZTtcbiAgICAgICAgICAgIHZhciBfb0NvbnRleHQgPSB0aGlzLl9vQ29udGV4dDtcbiAgICAgICAgICAgIHZhciBfaHRPcHRpb24gPSB0aGlzLl9odE9wdGlvbjtcbiAgICAgICAgICAgIFxuXHRcdFx0dmFyIG5Db3VudCA9IG9RUkNvZGUuZ2V0TW9kdWxlQ291bnQoKTtcblx0XHRcdHZhciBuV2lkdGggPSBfaHRPcHRpb24ud2lkdGggLyBuQ291bnQ7XG5cdFx0XHR2YXIgbkhlaWdodCA9IF9odE9wdGlvbi5oZWlnaHQgLyBuQ291bnQ7XG5cdFx0XHR2YXIgblJvdW5kZWRXaWR0aCA9IE1hdGgucm91bmQobldpZHRoKTtcblx0XHRcdHZhciBuUm91bmRlZEhlaWdodCA9IE1hdGgucm91bmQobkhlaWdodCk7XG5cblx0XHRcdF9lbEltYWdlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0XHRcdHRoaXMuY2xlYXIoKTtcblx0XHRcdFxuXHRcdFx0Zm9yICh2YXIgcm93ID0gMDsgcm93IDwgbkNvdW50OyByb3crKykge1xuXHRcdFx0XHRmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBuQ291bnQ7IGNvbCsrKSB7XG5cdFx0XHRcdFx0dmFyIGJJc0RhcmsgPSBvUVJDb2RlLmlzRGFyayhyb3csIGNvbCk7XG5cdFx0XHRcdFx0dmFyIG5MZWZ0ID0gY29sICogbldpZHRoO1xuXHRcdFx0XHRcdHZhciBuVG9wID0gcm93ICogbkhlaWdodDtcblx0XHRcdFx0XHRfb0NvbnRleHQuc3Ryb2tlU3R5bGUgPSBiSXNEYXJrID8gX2h0T3B0aW9uLmNvbG9yRGFyayA6IF9odE9wdGlvbi5jb2xvckxpZ2h0O1xuXHRcdFx0XHRcdF9vQ29udGV4dC5saW5lV2lkdGggPSAxO1xuXHRcdFx0XHRcdF9vQ29udGV4dC5maWxsU3R5bGUgPSBiSXNEYXJrID8gX2h0T3B0aW9uLmNvbG9yRGFyayA6IF9odE9wdGlvbi5jb2xvckxpZ2h0O1x0XHRcdFx0XHRcblx0XHRcdFx0XHRfb0NvbnRleHQuZmlsbFJlY3QobkxlZnQsIG5Ub3AsIG5XaWR0aCwgbkhlaWdodCk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0Ly8g7JWI7YuwIOyVqOumrOyWtOyLsSDrsKnsp4Ag7LKY66asXG5cdFx0XHRcdFx0X29Db250ZXh0LnN0cm9rZVJlY3QoXG5cdFx0XHRcdFx0XHRNYXRoLmZsb29yKG5MZWZ0KSArIDAuNSxcblx0XHRcdFx0XHRcdE1hdGguZmxvb3IoblRvcCkgKyAwLjUsXG5cdFx0XHRcdFx0XHRuUm91bmRlZFdpZHRoLFxuXHRcdFx0XHRcdFx0blJvdW5kZWRIZWlnaHRcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdF9vQ29udGV4dC5zdHJva2VSZWN0KFxuXHRcdFx0XHRcdFx0TWF0aC5jZWlsKG5MZWZ0KSAtIDAuNSxcblx0XHRcdFx0XHRcdE1hdGguY2VpbChuVG9wKSAtIDAuNSxcblx0XHRcdFx0XHRcdG5Sb3VuZGVkV2lkdGgsXG5cdFx0XHRcdFx0XHRuUm91bmRlZEhlaWdodFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0dGhpcy5fYklzUGFpbnRlZCA9IHRydWU7XG5cdFx0fTtcblx0XHRcdFxuXHRcdC8qKlxuXHRcdCAqIE1ha2UgdGhlIGltYWdlIGZyb20gQ2FudmFzIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIERhdGEgVVJJLlxuXHRcdCAqL1xuXHRcdERyYXdpbmcucHJvdG90eXBlLm1ha2VJbWFnZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdGlmICh0aGlzLl9iSXNQYWludGVkKSB7XG5cdFx0XHRcdF9zYWZlU2V0RGF0YVVSSS5jYWxsKHRoaXMsIF9vbk1ha2VJbWFnZSk7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRcdFxuXHRcdC8qKlxuXHRcdCAqIFJldHVybiB3aGV0aGVyIHRoZSBRUkNvZGUgaXMgcGFpbnRlZCBvciBub3Rcblx0XHQgKiBcblx0XHQgKiBAcmV0dXJuIHtCb29sZWFufVxuXHRcdCAqL1xuXHRcdERyYXdpbmcucHJvdG90eXBlLmlzUGFpbnRlZCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiB0aGlzLl9iSXNQYWludGVkO1xuXHRcdH07XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogQ2xlYXIgdGhlIFFSQ29kZVxuXHRcdCAqL1xuXHRcdERyYXdpbmcucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0dGhpcy5fb0NvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuX2VsQ2FudmFzLndpZHRoLCB0aGlzLl9lbENhbnZhcy5oZWlnaHQpO1xuXHRcdFx0dGhpcy5fYklzUGFpbnRlZCA9IGZhbHNlO1xuXHRcdH07XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogQHByaXZhdGVcblx0XHQgKiBAcGFyYW0ge051bWJlcn0gbk51bWJlclxuXHRcdCAqL1xuXHRcdERyYXdpbmcucHJvdG90eXBlLnJvdW5kID0gZnVuY3Rpb24gKG5OdW1iZXIpIHtcblx0XHRcdGlmICghbk51bWJlcikge1xuXHRcdFx0XHRyZXR1cm4gbk51bWJlcjtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0cmV0dXJuIE1hdGguZmxvb3Iobk51bWJlciAqIDEwMDApIC8gMTAwMDtcblx0XHR9O1xuXHRcdFxuXHRcdHJldHVybiBEcmF3aW5nO1xuXHR9KSgpO1xuXHRcblx0LyoqXG5cdCAqIEdldCB0aGUgdHlwZSBieSBzdHJpbmcgbGVuZ3RoXG5cdCAqIFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc1RleHRcblx0ICogQHBhcmFtIHtOdW1iZXJ9IG5Db3JyZWN0TGV2ZWxcblx0ICogQHJldHVybiB7TnVtYmVyfSB0eXBlXG5cdCAqL1xuXHRmdW5jdGlvbiBfZ2V0VHlwZU51bWJlcihzVGV4dCwgbkNvcnJlY3RMZXZlbCkge1x0XHRcdFxuXHRcdHZhciBuVHlwZSA9IDE7XG5cdFx0dmFyIGxlbmd0aCA9IF9nZXRVVEY4TGVuZ3RoKHNUZXh0KTtcblx0XHRcblx0XHRmb3IgKHZhciBpID0gMCwgbGVuID0gUVJDb2RlTGltaXRMZW5ndGgubGVuZ3RoOyBpIDw9IGxlbjsgaSsrKSB7XG5cdFx0XHR2YXIgbkxpbWl0ID0gMDtcblx0XHRcdFxuXHRcdFx0c3dpdGNoIChuQ29ycmVjdExldmVsKSB7XG5cdFx0XHRcdGNhc2UgUVJFcnJvckNvcnJlY3RMZXZlbC5MIDpcblx0XHRcdFx0XHRuTGltaXQgPSBRUkNvZGVMaW1pdExlbmd0aFtpXVswXTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBRUkVycm9yQ29ycmVjdExldmVsLk0gOlxuXHRcdFx0XHRcdG5MaW1pdCA9IFFSQ29kZUxpbWl0TGVuZ3RoW2ldWzFdO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFFSRXJyb3JDb3JyZWN0TGV2ZWwuUSA6XG5cdFx0XHRcdFx0bkxpbWl0ID0gUVJDb2RlTGltaXRMZW5ndGhbaV1bMl07XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgUVJFcnJvckNvcnJlY3RMZXZlbC5IIDpcblx0XHRcdFx0XHRuTGltaXQgPSBRUkNvZGVMaW1pdExlbmd0aFtpXVszXTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWYgKGxlbmd0aCA8PSBuTGltaXQpIHtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRuVHlwZSsrO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRpZiAoblR5cGUgPiBRUkNvZGVMaW1pdExlbmd0aC5sZW5ndGgpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIlRvbyBsb25nIGRhdGFcIik7XG5cdFx0fVxuXHRcdFxuXHRcdHJldHVybiBuVHlwZTtcblx0fVxuXG5cdGZ1bmN0aW9uIF9nZXRVVEY4TGVuZ3RoKHNUZXh0KSB7XG5cdFx0dmFyIHJlcGxhY2VkVGV4dCA9IGVuY29kZVVSSShzVGV4dCkudG9TdHJpbmcoKS5yZXBsYWNlKC9cXCVbMC05YS1mQS1GXXsyfS9nLCAnYScpO1xuXHRcdHJldHVybiByZXBsYWNlZFRleHQubGVuZ3RoICsgKHJlcGxhY2VkVGV4dC5sZW5ndGggIT0gc1RleHQgPyAzIDogMCk7XG5cdH1cblx0XG5cdC8qKlxuXHQgKiBAY2xhc3MgUVJDb2RlXG5cdCAqIEBjb25zdHJ1Y3RvclxuXHQgKiBAZXhhbXBsZSBcblx0ICogbmV3IFFSQ29kZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRlc3RcIiksIFwiaHR0cDovL2ppbmRvLmRldi5uYXZlci5jb20vY29sbGllXCIpO1xuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKiB2YXIgb1FSQ29kZSA9IG5ldyBRUkNvZGUoXCJ0ZXN0XCIsIHtcblx0ICogICAgdGV4dCA6IFwiaHR0cDovL25hdmVyLmNvbVwiLFxuXHQgKiAgICB3aWR0aCA6IDEyOCxcblx0ICogICAgaGVpZ2h0IDogMTI4XG5cdCAqIH0pO1xuXHQgKiBcblx0ICogb1FSQ29kZS5jbGVhcigpOyAvLyBDbGVhciB0aGUgUVJDb2RlLlxuXHQgKiBvUVJDb2RlLm1ha2VDb2RlKFwiaHR0cDovL21hcC5uYXZlci5jb21cIik7IC8vIFJlLWNyZWF0ZSB0aGUgUVJDb2RlLlxuXHQgKlxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fFN0cmluZ30gZWwgdGFyZ2V0IGVsZW1lbnQgb3IgJ2lkJyBhdHRyaWJ1dGUgb2YgZWxlbWVudC5cblx0ICogQHBhcmFtIHtPYmplY3R8U3RyaW5nfSB2T3B0aW9uXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSB2T3B0aW9uLnRleHQgUVJDb2RlIGxpbmsgZGF0YVxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3ZPcHRpb24ud2lkdGg9MjU2XVxuXHQgKiBAcGFyYW0ge051bWJlcn0gW3ZPcHRpb24uaGVpZ2h0PTI1Nl1cblx0ICogQHBhcmFtIHtTdHJpbmd9IFt2T3B0aW9uLmNvbG9yRGFyaz1cIiMwMDAwMDBcIl1cblx0ICogQHBhcmFtIHtTdHJpbmd9IFt2T3B0aW9uLmNvbG9yTGlnaHQ9XCIjZmZmZmZmXCJdXG5cdCAqIEBwYXJhbSB7UVJDb2RlLkNvcnJlY3RMZXZlbH0gW3ZPcHRpb24uY29ycmVjdExldmVsPVFSQ29kZS5Db3JyZWN0TGV2ZWwuSF0gW0x8TXxRfEhdIFxuXHQgKi9cblx0UVJDb2RlID0gZnVuY3Rpb24gKGVsLCB2T3B0aW9uKSB7XG5cdFx0dGhpcy5faHRPcHRpb24gPSB7XG5cdFx0XHR3aWR0aCA6IDI1NiwgXG5cdFx0XHRoZWlnaHQgOiAyNTYsXG5cdFx0XHR0eXBlTnVtYmVyIDogNCxcblx0XHRcdGNvbG9yRGFyayA6IFwiIzAwMDAwMFwiLFxuXHRcdFx0Y29sb3JMaWdodCA6IFwiI2ZmZmZmZlwiLFxuXHRcdFx0Y29ycmVjdExldmVsIDogUVJFcnJvckNvcnJlY3RMZXZlbC5IXG5cdFx0fTtcblx0XHRcblx0XHRpZiAodHlwZW9mIHZPcHRpb24gPT09ICdzdHJpbmcnKSB7XG5cdFx0XHR2T3B0aW9uXHQ9IHtcblx0XHRcdFx0dGV4dCA6IHZPcHRpb25cblx0XHRcdH07XG5cdFx0fVxuXHRcdFxuXHRcdC8vIE92ZXJ3cml0ZXMgb3B0aW9uc1xuXHRcdGlmICh2T3B0aW9uKSB7XG5cdFx0XHRmb3IgKHZhciBpIGluIHZPcHRpb24pIHtcblx0XHRcdFx0dGhpcy5faHRPcHRpb25baV0gPSB2T3B0aW9uW2ldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRpZiAodHlwZW9mIGVsID09IFwic3RyaW5nXCIpIHtcblx0XHRcdGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWwpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLl9odE9wdGlvbi51c2VTVkcpIHtcblx0XHRcdERyYXdpbmcgPSBzdmdEcmF3ZXI7XG5cdFx0fVxuXHRcdFxuXHRcdHRoaXMuX2FuZHJvaWQgPSBfZ2V0QW5kcm9pZCgpO1xuXHRcdHRoaXMuX2VsID0gZWw7XG5cdFx0dGhpcy5fb1FSQ29kZSA9IG51bGw7XG5cdFx0dGhpcy5fb0RyYXdpbmcgPSBuZXcgRHJhd2luZyh0aGlzLl9lbCwgdGhpcy5faHRPcHRpb24pO1xuXHRcdFxuXHRcdGlmICh0aGlzLl9odE9wdGlvbi50ZXh0KSB7XG5cdFx0XHR0aGlzLm1ha2VDb2RlKHRoaXMuX2h0T3B0aW9uLnRleHQpO1x0XG5cdFx0fVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIE1ha2UgdGhlIFFSQ29kZVxuXHQgKiBcblx0ICogQHBhcmFtIHtTdHJpbmd9IHNUZXh0IGxpbmsgZGF0YVxuXHQgKi9cblx0UVJDb2RlLnByb3RvdHlwZS5tYWtlQ29kZSA9IGZ1bmN0aW9uIChzVGV4dCkge1xuXHRcdHRoaXMuX29RUkNvZGUgPSBuZXcgUVJDb2RlTW9kZWwoX2dldFR5cGVOdW1iZXIoc1RleHQsIHRoaXMuX2h0T3B0aW9uLmNvcnJlY3RMZXZlbCksIHRoaXMuX2h0T3B0aW9uLmNvcnJlY3RMZXZlbCk7XG5cdFx0dGhpcy5fb1FSQ29kZS5hZGREYXRhKHNUZXh0KTtcblx0XHR0aGlzLl9vUVJDb2RlLm1ha2UoKTtcblx0XHR0aGlzLl9lbC50aXRsZSA9IHNUZXh0O1xuXHRcdHRoaXMuX29EcmF3aW5nLmRyYXcodGhpcy5fb1FSQ29kZSk7XHRcdFx0XG5cdFx0dGhpcy5tYWtlSW1hZ2UoKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBNYWtlIHRoZSBJbWFnZSBmcm9tIENhbnZhcyBlbGVtZW50XG5cdCAqIC0gSXQgb2NjdXJzIGF1dG9tYXRpY2FsbHlcblx0ICogLSBBbmRyb2lkIGJlbG93IDMgZG9lc24ndCBzdXBwb3J0IERhdGEtVVJJIHNwZWMuXG5cdCAqIFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0UVJDb2RlLnByb3RvdHlwZS5tYWtlSW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0aWYgKHR5cGVvZiB0aGlzLl9vRHJhd2luZy5tYWtlSW1hZ2UgPT0gXCJmdW5jdGlvblwiICYmICghdGhpcy5fYW5kcm9pZCB8fCB0aGlzLl9hbmRyb2lkID49IDMpKSB7XG5cdFx0XHR0aGlzLl9vRHJhd2luZy5tYWtlSW1hZ2UoKTtcblx0XHR9XG5cdH07XG5cdFxuXHQvKipcblx0ICogQ2xlYXIgdGhlIFFSQ29kZVxuXHQgKi9cblx0UVJDb2RlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcblx0XHR0aGlzLl9vRHJhd2luZy5jbGVhcigpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIEBuYW1lIFFSQ29kZS5Db3JyZWN0TGV2ZWxcblx0ICovXG5cdFFSQ29kZS5Db3JyZWN0TGV2ZWwgPSBRUkVycm9yQ29ycmVjdExldmVsO1xufSkoKTsiLCIvKipcbiAqIFRpbnlBbmltYXRlXG4gKiAgdmVyc2lvbiAwLjMuMFxuICpcbiAqIFNvdXJjZTogIGh0dHBzOi8vZ2l0aHViLmNvbS9icmFubmVtYW4vVGlueUFuaW1hdGVcbiAqIEF1dGhvcjogIEJyYW4gdmFuIGRlciBNZWVyIDxicmFubW92aWNAZ21haWwuY29tPiAoaHR0cDovL2JyYW4ubmFtZS8pXG4gKiBMaWNlbnNlOiBNSVRcbiAqXG4gKiBGdW5jdGlvbnM6XG4gKiAgVGlueUFuaW1hdGUuYW5pbWF0ZShmcm9tLCB0bywgZHVyYXRpb24sIHVwZGF0ZSwgZWFzaW5nLCBkb25lKVxuICogIFRpbnlBbmltYXRlLmFuaW1hdGVDU1MoZWxlbWVudCwgcHJvcGVydHksIHVuaXQsIGZyb20sIHRvLCBkdXJhdGlvbiwgZWFzaW5nLCBkb25lKVxuICogIFRpbnlBbmltYXRlLmNhbmNlbChhbmltYXRpb24pXG4gKlxuICogUGFyYW1ldGVyczpcbiAqICBlbGVtZW50ICAgSFRNTEVsZW1lbnQgICAgICAgIEEgZG9tIG5vZGVcbiAqICBwcm9wZXJ0eSAgc3RyaW5nICAgICAgICAgICAgIFByb3BlcnR5IG5hbWUsIGFzIGF2YWlsYWJsZSBpbiBlbGVtZW50LnN0eWxlLCBpLmUuICdib3JkZXJSYWRpdXMnLCBub3QgJ2JvcmRlci1yYWRpdXMnXG4gKiAgdW5pdCAgICAgIHN0cmluZyAgICAgICAgICAgICBQcm9wZXJ0eSB1bml0LCBsaWtlICdweCdcbiAqICBmcm9tICAgICAgaW50ICAgICAgICAgICAgICAgIFByb3BlcnR5IHZhbHVlIHRvIGFuaW1hdGUgZnJvbVxuICogIHRvICAgICAgICBpbnQgICAgICAgICAgICAgICAgUHJvcGVydHkgdmFsdWUgdG8gYW5pbWF0ZSB0b1xuICogIGR1cmF0aW9uICBpbnQgICAgICAgICAgICAgICAgRHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzXG4gKiAgdXBkYXRlICAgIGZ1bmN0aW9uICAgICAgICAgICBGdW5jdGlvbiB0byBpbXBsZW1lbnQgdXBkYXRpbmcgdGhlIERPTSwgZ2V0J3MgY2FsbGVkIHdpdGggYSB2YWx1ZSBiZXR3ZWVuIGBmcm9tYCBhbmQgYHRvYFxuICogIGVhc2luZyAgICBzdHJpbmcgfCBmdW5jdGlvbiAgT3B0aW9uYWw6IEEgc3RyaW5nIHdoZW4gdGhlIGVhc2luZyBmdW5jdGlvbiBpcyBhdmFpbGFibGUgaW4gVGlueUFuaW1hdGUuZWFzaW5ncyxcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBhIGZ1bmN0aW9uIHdpdGggdGhlIHNpZ25hdHVyZTogZnVuY3Rpb24odCwgYiwgYywgZCkgey4uLn1cbiAqICBkb25lICAgICAgZnVuY3Rpb24gICAgICAgICAgIE9wdGlvbmFsOiBUbyBiZSBleGVjdXRlZCB3aGVuIHRoZSBhbmltYXRpb24gaGFzIGNvbXBsZXRlZC5cbiAqXG4gKiBSZXR1cm5zOlxuICogIGFuaW1hdGlvbiBvYmplY3QgICAgICAgICAgICAgQW5pbWF0aW9uIG9iamVjdCB0aGF0IGNhbiBiZSBjYW5jZWxlZC5cbiAqL1xuXG4vKipcbiAqIFVuaXZlcnNhbCBNb2R1bGUgRGFuY2VcbiAqICBjb25maWc6IENvbW1vbkpTIFN0cmljdCwgZXhwb3J0cyBHbG9iYWwsIHN1cHBvcnRzIGNpcmN1bGFyIGRlcGVuZGVuY2llc1xuICogIGh0dHBzOi8vZ2l0aHViLmNvbS91bWRqcy91bWQvXG4gKi9cbihmdW5jdGlvbihyb290LCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoWydleHBvcnRzJ10sIGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiAgICAgICAgICAgIGZhY3RvcnkoKHJvb3QuVGlueUFuaW1hdGUgPSBleHBvcnRzKSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGZhY3RvcnkoZXhwb3J0cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZmFjdG9yeSgocm9vdC5UaW55QW5pbWF0ZSA9IHt9KSk7XG4gICAgfVxufSh0aGlzLCBmdW5jdGlvbihleHBvcnRzKSB7XG5cbiAgICAvKipcbiAgICAgKiBUaW55QW5pbWF0ZS5hbmltYXRlKClcbiAgICAgKi9cbiAgICBleHBvcnRzLmFuaW1hdGUgPSBmdW5jdGlvbihmcm9tLCB0bywgZHVyYXRpb24sIHVwZGF0ZSwgZWFzaW5nLCBkb25lKSB7XG5cbiAgICAgICAgLy8gRWFybHkgYmFpbCBvdXQgaWYgY2FsbGVkIGluY29ycmVjdGx5XG4gICAgICAgIGlmICh0eXBlb2YgZnJvbSAhPT0gJ251bWJlcicgfHxcbiAgICAgICAgICAgIHR5cGVvZiB0byAhPT0gJ251bWJlcicgfHxcbiAgICAgICAgICAgIHR5cGVvZiBkdXJhdGlvbiAhPT0gJ251bWJlcicgfHxcbiAgICAgICAgICAgIHR5cGVvZiB1cGRhdGUgIT09ICdmdW5jdGlvbicpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgLy8gRGV0ZXJtaW5lIGVhc2luZ1xuICAgICAgICBpZiAodHlwZW9mIGVhc2luZyA9PT0gJ3N0cmluZycgJiYgZWFzaW5nc1tlYXNpbmddKSB7XG4gICAgICAgICAgICBlYXNpbmcgPSBlYXNpbmdzW2Vhc2luZ107XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBlYXNpbmcgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGVhc2luZyA9IGVhc2luZ3MubGluZWFyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ3JlYXRlIG1vY2sgZG9uZSgpIGZ1bmN0aW9uIGlmIG5lY2Vzc2FyeVxuICAgICAgICBpZiAodHlwZW9mIGRvbmUgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGRvbmUgPSBmdW5jdGlvbigpIHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUGljayBpbXBsZW1lbnRhdGlvbiAocmVxdWVzdEFuaW1hdGlvbkZyYW1lIHwgc2V0VGltZW91dClcbiAgICAgICAgdmFyIHJBRiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEFuaW1hdGlvbiBsb29wXG4gICAgICAgIHZhciBjYW5jZWxlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgY2hhbmdlID0gdG8gLSBmcm9tO1xuICAgICAgICBmdW5jdGlvbiBsb29wKHRpbWVzdGFtcCkge1xuICAgICAgICAgICAgaWYgKGNhbmNlbGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRpbWUgPSAodGltZXN0YW1wIHx8ICtuZXcgRGF0ZSgpKSAtIHN0YXJ0O1xuICAgICAgICAgICAgaWYgKHRpbWUgPj0gMCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZShlYXNpbmcodGltZSwgZnJvbSwgY2hhbmdlLCBkdXJhdGlvbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRpbWUgPj0gMCAmJiB0aW1lID49IGR1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlKHRvKTtcbiAgICAgICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJBRihsb29wKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB1cGRhdGUoZnJvbSk7XG5cbiAgICAgICAgLy8gU3RhcnQgYW5pbWF0aW9uIGxvb3BcbiAgICAgICAgdmFyIHN0YXJ0ID0gd2luZG93LnBlcmZvcm1hbmNlICYmIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3cgPyB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCkgOiArbmV3IERhdGUoKTtcblxuICAgICAgICByQUYobG9vcCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNhbmNlbDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY2FuY2VsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaW55QW5pbWF0ZS5hbmltYXRlQ1NTKClcbiAgICAgKiAgU2hvcnRjdXQgbWV0aG9kIGZvciBhbmltYXRpbmcgY3NzIHByb3BlcnRpZXNcbiAgICAgKi9cbiAgICBleHBvcnRzLmFuaW1hdGVDU1MgPSBmdW5jdGlvbihlbGVtZW50LCBwcm9wZXJ0eSwgdW5pdCwgZnJvbSwgdG8sIGR1cmF0aW9uLCBlYXNpbmcsIGRvbmUpIHtcblxuICAgICAgICB2YXIgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGVbcHJvcGVydHldID0gdmFsdWUgKyB1bml0O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZXhwb3J0cy5hbmltYXRlKGZyb20sIHRvLCBkdXJhdGlvbiwgdXBkYXRlLCBlYXNpbmcsIGRvbmUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaW55QW5pbWF0ZS5jYW5jZWwoKVxuICAgICAqICBNZXRob2QgZm9yIGNhbmNlbGluZyBhbmltYXRpb25zXG4gICAgICovXG4gICAgZXhwb3J0cy5jYW5jZWwgPSBmdW5jdGlvbihhbmltYXRpb24pIHtcbiAgICAgICAgaWYgKCFhbmltYXRpb24pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhbmltYXRpb24uY2FuY2VsKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRpbnlBbmltYXRlLmVhc2luZ3NcbiAgICAgKiAgQWRhcHRlZCBmcm9tIGpRdWVyeSBFYXNpbmdcbiAgICAgKi9cbiAgICB2YXIgZWFzaW5ncyA9IGV4cG9ydHMuZWFzaW5ncyA9IHt9O1xuICAgIGVhc2luZ3MubGluZWFyID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gYyAqIHQgLyBkICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluUXVhZCA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlT3V0UXVhZCA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIC1jICogKHQgLz0gZCkgKiAodCAtIDIpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluT3V0UXVhZCA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICsgYjtcbiAgICAgICAgcmV0dXJuIC1jIC8gMiAqICgoLS10KSAqICh0IC0gMikgLSAxKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbkN1YmljID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlT3V0Q3ViaWMgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICsgMSkgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5PdXRDdWJpYyA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCArIGI7XG4gICAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICsgMikgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5RdWFydCA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VPdXRRdWFydCA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIC1jICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAtIDEpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluT3V0UXVhcnQgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICAgICAgcmV0dXJuIC1jIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAtIDIpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluUXVpbnQgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZU91dFF1aW50ID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgKiB0ICsgMSkgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5PdXRRdWludCA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKiB0ICsgYjtcbiAgICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0ICogdCArIDIpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluU2luZSA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIC1jICogTWF0aC5jb3ModCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGMgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlT3V0U2luZSA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIGMgKiBNYXRoLnNpbih0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluT3V0U2luZSA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIC1jIC8gMiAqIChNYXRoLmNvcyhNYXRoLlBJICogdCAvIGQpIC0gMSkgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5FeHBvID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gKHQgPT0gMCkgPyBiIDogYyAqIE1hdGgucG93KDIsIDEwICogKHQgLyBkIC0gMSkpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZU91dEV4cG8gPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiAodCA9PSBkKSA/IGIgKyBjIDogYyAqICgtTWF0aC5wb3coMiwgLTEwICogdCAvIGQpICsgMSkgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5PdXRFeHBvID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICBpZiAodCA9PSAwKSByZXR1cm4gYjtcbiAgICAgICAgaWYgKHQgPT0gZCkgcmV0dXJuIGIgKyBjO1xuICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogTWF0aC5wb3coMiwgMTAgKiAodCAtIDEpKSArIGI7XG4gICAgICAgIHJldHVybiBjIC8gMiAqICgtTWF0aC5wb3coMiwgLTEwICogLS10KSArIDIpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluQ2lyYyA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIC1jICogKE1hdGguc3FydCgxIC0gKHQgLz0gZCkgKiB0KSAtIDEpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZU91dENpcmMgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiBjICogTWF0aC5zcXJ0KDEgLSAodCA9IHQgLyBkIC0gMSkgKiB0KSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbk91dENpcmMgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gLWMgLyAyICogKE1hdGguc3FydCgxIC0gdCAqIHQpIC0gMSkgKyBiO1xuICAgICAgICByZXR1cm4gYyAvIDIgKiAoTWF0aC5zcXJ0KDEgLSAodCAtPSAyKSAqIHQpICsgMSkgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5FbGFzdGljID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICB2YXIgcCA9IDA7XG4gICAgICAgIHZhciBhID0gYztcbiAgICAgICAgaWYgKHQgPT0gMCkgcmV0dXJuIGI7XG4gICAgICAgIGlmICgodCAvPSBkKSA9PSAxKSByZXR1cm4gYiArIGM7XG4gICAgICAgIGlmICghcCkgcCA9IGQgKiAuMztcbiAgICAgICAgaWYgKGEgPCBNYXRoLmFicyhjKSkge1xuICAgICAgICAgICAgYSA9IGM7XG4gICAgICAgICAgICB2YXIgcyA9IHAgLyA0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgdmFyIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG4gICAgICAgIHJldHVybiAtKGEgKiBNYXRoLnBvdygyLCAxMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VPdXRFbGFzdGljID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICB2YXIgcCA9IDA7XG4gICAgICAgIHZhciBhID0gYztcbiAgICAgICAgaWYgKHQgPT0gMCkgcmV0dXJuIGI7XG4gICAgICAgIGlmICgodCAvPSBkKSA9PSAxKSByZXR1cm4gYiArIGM7XG4gICAgICAgIGlmICghcCkgcCA9IGQgKiAuMztcbiAgICAgICAgaWYgKGEgPCBNYXRoLmFicyhjKSkge1xuICAgICAgICAgICAgYSA9IGM7XG4gICAgICAgICAgICB2YXIgcyA9IHAgLyA0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgdmFyIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG4gICAgICAgIHJldHVybiBhICogTWF0aC5wb3coMiwgLTEwICogdCkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSArIGMgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5PdXRFbGFzdGljID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICB2YXIgcCA9IDA7XG4gICAgICAgIHZhciBhID0gYztcbiAgICAgICAgaWYgKHQgPT0gMCkgcmV0dXJuIGI7XG4gICAgICAgIGlmICgodCAvPSBkIC8gMikgPT0gMikgcmV0dXJuIGIgKyBjO1xuICAgICAgICBpZiAoIXApIHAgPSBkICogKC4zICogMS41KTtcbiAgICAgICAgaWYgKGEgPCBNYXRoLmFicyhjKSkge1xuICAgICAgICAgICAgYSA9IGM7XG4gICAgICAgICAgICB2YXIgcyA9IHAgLyA0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgdmFyIHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihjIC8gYSk7XG4gICAgICAgIGlmICh0IDwgMSkgcmV0dXJuIC0uNSAqIChhICogTWF0aC5wb3coMiwgMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSkgKyBiO1xuICAgICAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApICogLjUgKyBjICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluQmFjayA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQsIHMpIHtcbiAgICAgICAgaWYgKHMgPT0gdW5kZWZpbmVkKSBzID0gMS43MDE1ODtcbiAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiAoKHMgKyAxKSAqIHQgLSBzKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VPdXRCYWNrID0gZnVuY3Rpb24odCwgYiwgYywgZCwgcykge1xuICAgICAgICBpZiAocyA9PSB1bmRlZmluZWQpIHMgPSAxLjcwMTU4O1xuICAgICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogKChzICsgMSkgKiB0ICsgcykgKyAxKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbk91dEJhY2sgPSBmdW5jdGlvbih0LCBiLCBjLCBkLCBzKSB7XG4gICAgICAgIGlmIChzID09IHVuZGVmaW5lZCkgcyA9IDEuNzAxNTg7XG4gICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiAodCAqIHQgKiAoKChzICo9ICgxLjUyNSkpICsgMSkgKiB0IC0gcykpICsgYjtcbiAgICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqICgoKHMgKj0gKDEuNTI1KSkgKyAxKSAqIHQgKyBzKSArIDIpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluQm91bmNlID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gYyAtIGVhc2luZ3MuZWFzZU91dEJvdW5jZShkIC0gdCwgMCwgYywgZCkgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlT3V0Qm91bmNlID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICBpZiAoKHQgLz0gZCkgPCAoMSAvIDIuNzUpKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiB0ICogdCkgKyBiO1xuICAgICAgICB9IGVsc2UgaWYgKHQgPCAoMiAvIDIuNzUpKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAoMS41IC8gMi43NSkpICogdCArIC43NSkgKyBiO1xuICAgICAgICB9IGVsc2UgaWYgKHQgPCAoMi41IC8gMi43NSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09ICgyLjI1IC8gMi43NSkpICogdCArIC45Mzc1KSArIGI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAoMi42MjUgLyAyLjc1KSkgKiB0ICsgLjk4NDM3NSkgKyBiO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbk91dEJvdW5jZSA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgaWYgKHQgPCBkIC8gMikgcmV0dXJuIGVhc2luZ3MuZWFzZUluQm91bmNlKHQgKiAyLCAwLCBjLCBkKSAqIC41ICsgYjtcbiAgICAgICAgcmV0dXJuIGVhc2luZ3MuZWFzZU91dEJvdW5jZSh0ICogMiAtIGQsIDAsIGMsIGQpICogLjUgKyBjICogLjUgKyBiO1xuICAgIH07XG5cbn0pKTtcbiIsIihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICBkZWZpbmUoWydleHBvcnRzJywgJ21vZHVsZSddLCBmYWN0b3J5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBmYWN0b3J5KGV4cG9ydHMsIG1vZHVsZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG1vZCA9IHtcbiAgICAgICAgICAgIGV4cG9ydHM6IHt9XG4gICAgICAgIH07XG4gICAgICAgIGZhY3RvcnkobW9kLmV4cG9ydHMsIG1vZCk7XG4gICAgICAgIGdsb2JhbC5JbXBldHVzID0gbW9kLmV4cG9ydHM7XG4gICAgfVxufSkodGhpcywgZnVuY3Rpb24gKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uJyk7IH0gfVxuXG4gICAgdmFyIHN0b3BUaHJlc2hvbGREZWZhdWx0ID0gMC4zO1xuICAgIHZhciBib3VuY2VEZWNlbGVyYXRpb24gPSAwLjA0O1xuICAgIHZhciBib3VuY2VBY2NlbGVyYXRpb24gPSAwLjExO1xuXG4gICAgLy8gZml4ZXMgd2VpcmQgc2FmYXJpIDEwIGJ1ZyB3aGVyZSBwcmV2ZW50RGVmYXVsdCBpcyBwcmV2ZW50ZWRcbiAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZXRhZml6enkvZmxpY2tpdHkvaXNzdWVzLzQ1NyNpc3N1ZWNvbW1lbnQtMjU0NTAxMzU2XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGZ1bmN0aW9uICgpIHt9KTtcblxuICAgIHZhciBJbXBldHVzID0gZnVuY3Rpb24gSW1wZXR1cyhfcmVmKSB7XG4gICAgICAgIHZhciBfcmVmJHNvdXJjZSA9IF9yZWYuc291cmNlO1xuICAgICAgICB2YXIgc291cmNlRWwgPSBfcmVmJHNvdXJjZSA9PT0gdW5kZWZpbmVkID8gZG9jdW1lbnQgOiBfcmVmJHNvdXJjZTtcbiAgICAgICAgdmFyIHVwZGF0ZUNhbGxiYWNrID0gX3JlZi51cGRhdGU7XG4gICAgICAgIHZhciBfcmVmJG11bHRpcGxpZXIgPSBfcmVmLm11bHRpcGxpZXI7XG4gICAgICAgIHZhciBtdWx0aXBsaWVyID0gX3JlZiRtdWx0aXBsaWVyID09PSB1bmRlZmluZWQgPyAxIDogX3JlZiRtdWx0aXBsaWVyO1xuICAgICAgICB2YXIgX3JlZiRmcmljdGlvbiA9IF9yZWYuZnJpY3Rpb247XG4gICAgICAgIHZhciBmcmljdGlvbiA9IF9yZWYkZnJpY3Rpb24gPT09IHVuZGVmaW5lZCA/IDAuOTIgOiBfcmVmJGZyaWN0aW9uO1xuICAgICAgICB2YXIgaW5pdGlhbFZhbHVlcyA9IF9yZWYuaW5pdGlhbFZhbHVlcztcbiAgICAgICAgdmFyIGJvdW5kWCA9IF9yZWYuYm91bmRYO1xuICAgICAgICB2YXIgYm91bmRZID0gX3JlZi5ib3VuZFk7XG4gICAgICAgIHZhciBfcmVmJGJvdW5jZSA9IF9yZWYuYm91bmNlO1xuICAgICAgICB2YXIgYm91bmNlID0gX3JlZiRib3VuY2UgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBfcmVmJGJvdW5jZTtcblxuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgSW1wZXR1cyk7XG5cbiAgICAgICAgdmFyIGJvdW5kWG1pbiwgYm91bmRYbWF4LCBib3VuZFltaW4sIGJvdW5kWW1heCwgcG9pbnRlckxhc3RYLCBwb2ludGVyTGFzdFksIHBvaW50ZXJDdXJyZW50WCwgcG9pbnRlckN1cnJlbnRZLCBwb2ludGVySWQsIGRlY1ZlbFgsIGRlY1ZlbFk7XG4gICAgICAgIHZhciB0YXJnZXRYID0gMDtcbiAgICAgICAgdmFyIHRhcmdldFkgPSAwO1xuICAgICAgICB2YXIgc3RvcFRocmVzaG9sZCA9IHN0b3BUaHJlc2hvbGREZWZhdWx0ICogbXVsdGlwbGllcjtcbiAgICAgICAgdmFyIHRpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIHBvaW50ZXJBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdmFyIHBhdXNlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZGVjZWxlcmF0aW5nID0gZmFsc2U7XG4gICAgICAgIHZhciB0cmFja2luZ1BvaW50cyA9IFtdO1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEluaXRpYWxpemUgaW5zdGFuY2VcclxuICAgICAgICAgKi9cbiAgICAgICAgKGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgICAgICAgICBzb3VyY2VFbCA9IHR5cGVvZiBzb3VyY2VFbCA9PT0gJ3N0cmluZycgPyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNvdXJjZUVsKSA6IHNvdXJjZUVsO1xuICAgICAgICAgICAgaWYgKCFzb3VyY2VFbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSU1QRVRVUzogc291cmNlIG5vdCBmb3VuZC4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF1cGRhdGVDYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSU1QRVRVUzogdXBkYXRlIGZ1bmN0aW9uIG5vdCBkZWZpbmVkLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoaW5pdGlhbFZhbHVlcykge1xuICAgICAgICAgICAgICAgIGlmIChpbml0aWFsVmFsdWVzWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFggPSBpbml0aWFsVmFsdWVzWzBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbFZhbHVlc1sxXSkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRZID0gaW5pdGlhbFZhbHVlc1sxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FsbFVwZGF0ZUNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgYm91bmQgdmFsdWVzXG4gICAgICAgICAgICBpZiAoYm91bmRYKSB7XG4gICAgICAgICAgICAgICAgYm91bmRYbWluID0gYm91bmRYWzBdO1xuICAgICAgICAgICAgICAgIGJvdW5kWG1heCA9IGJvdW5kWFsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib3VuZFkpIHtcbiAgICAgICAgICAgICAgICBib3VuZFltaW4gPSBib3VuZFlbMF07XG4gICAgICAgICAgICAgICAgYm91bmRZbWF4ID0gYm91bmRZWzFdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzb3VyY2VFbC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgb25Eb3duKTtcbiAgICAgICAgICAgIHNvdXJjZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uRG93bik7XG4gICAgICAgIH0pKCk7XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW4gZWRnZSBjYXNlcyB3aGVyZSB5b3UgbWF5IG5lZWQgdG9cclxuICAgICAgICAgKiByZWluc3RhbmNpYXRlIEltcGV0dXMgb24gdGhlIHNhbWUgc291cmNlRWxcclxuICAgICAgICAgKiB0aGlzIHdpbGwgcmVtb3ZlIHRoZSBwcmV2aW91cyBldmVudCBsaXN0ZW5lcnNcclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc291cmNlRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uRG93bik7XG4gICAgICAgICAgICBzb3VyY2VFbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbkRvd24pO1xuICAgICAgICAgICAgLy8gaG93ZXZlciBpdCB3b24ndCBcImRlc3Ryb3lcIiBhIHJlZmVyZW5jZVxuICAgICAgICAgICAgLy8gdG8gaW5zdGFuY2UgaWYgeW91J2QgbGlrZSB0byBkbyB0aGF0XG4gICAgICAgICAgICAvLyBpdCByZXR1cm5zIG51bGwgYXMgYSBjb252aW5pZW5jZS5cbiAgICAgICAgICAgIC8vIGV4OiBgaW5zdGFuY2UgPSBpbnN0YW5jZS5kZXN0cm95KCk7YFxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRGlzYWJsZSBtb3ZlbWVudCBwcm9jZXNzaW5nXHJcbiAgICAgICAgICogQHB1YmxpY1xyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBhdXNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcG9pbnRlckFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgcGF1c2VkID0gdHJ1ZTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBFbmFibGUgbW92ZW1lbnQgcHJvY2Vzc2luZ1xyXG4gICAgICAgICAqIEBwdWJsaWNcclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZXN1bWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVcGRhdGUgdGhlIGN1cnJlbnQgeCBhbmQgeSB2YWx1ZXNcclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHhcclxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0geVxyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNldFZhbHVlcyA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0WCA9IHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIHkgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0WSA9IHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVXBkYXRlIHRoZSBtdWx0aXBsaWVyIHZhbHVlXHJcbiAgICAgICAgICogQHB1YmxpY1xyXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2YWxcclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZXRNdWx0aXBsaWVyID0gZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICAgICAgbXVsdGlwbGllciA9IHZhbDtcbiAgICAgICAgICAgIHN0b3BUaHJlc2hvbGQgPSBzdG9wVGhyZXNob2xkRGVmYXVsdCAqIG11bHRpcGxpZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVXBkYXRlIGJvdW5kWCB2YWx1ZVxyXG4gICAgICAgICAqIEBwdWJsaWNcclxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcltdfSBib3VuZFhcclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZXRCb3VuZFggPSBmdW5jdGlvbiAoYm91bmRYKSB7XG4gICAgICAgICAgICBib3VuZFhtaW4gPSBib3VuZFhbMF07XG4gICAgICAgICAgICBib3VuZFhtYXggPSBib3VuZFhbMV07XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVXBkYXRlIGJvdW5kWSB2YWx1ZVxyXG4gICAgICAgICAqIEBwdWJsaWNcclxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcltdfSBib3VuZFlcclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZXRCb3VuZFkgPSBmdW5jdGlvbiAoYm91bmRZKSB7XG4gICAgICAgICAgICBib3VuZFltaW4gPSBib3VuZFlbMF07XG4gICAgICAgICAgICBib3VuZFltYXggPSBib3VuZFlbMV07XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRXhlY3V0ZXMgdGhlIHVwZGF0ZSBmdW5jdGlvblxyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBjYWxsVXBkYXRlQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICB1cGRhdGVDYWxsYmFjay5jYWxsKHNvdXJjZUVsLCB0YXJnZXRYLCB0YXJnZXRZKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENyZWF0ZXMgYSBjdXN0b20gbm9ybWFsaXplZCBldmVudCBvYmplY3QgZnJvbSB0b3VjaCBhbmQgbW91c2UgZXZlbnRzXHJcbiAgICAgICAgICogQHBhcmFtICB7RXZlbnR9IGV2XHJcbiAgICAgICAgICogQHJldHVybnMge09iamVjdH0gd2l0aCB4LCB5LCBhbmQgaWQgcHJvcGVydGllc1xyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBub3JtYWxpemVFdmVudChldikge1xuICAgICAgICAgICAgaWYgKGV2LnR5cGUgPT09ICd0b3VjaG1vdmUnIHx8IGV2LnR5cGUgPT09ICd0b3VjaHN0YXJ0JyB8fCBldi50eXBlID09PSAndG91Y2hlbmQnKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRvdWNoID0gZXYudGFyZ2V0VG91Y2hlc1swXSB8fCBldi5jaGFuZ2VkVG91Y2hlc1swXTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB4OiB0b3VjaC5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICB5OiB0b3VjaC5jbGllbnRZLFxuICAgICAgICAgICAgICAgICAgICBpZDogdG91Y2guaWRlbnRpZmllclxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIG1vdXNlIGV2ZW50c1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IGV2LmNsaWVudFgsXG4gICAgICAgICAgICAgICAgICAgIHk6IGV2LmNsaWVudFksXG4gICAgICAgICAgICAgICAgICAgIGlkOiBudWxsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEluaXRpYWxpemVzIG1vdmVtZW50IHRyYWNraW5nXHJcbiAgICAgICAgICogQHBhcmFtICB7T2JqZWN0fSBldiBOb3JtYWxpemVkIGV2ZW50XHJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG9uRG93bihldikge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gbm9ybWFsaXplRXZlbnQoZXYpO1xuICAgICAgICAgICAgaWYgKCFwb2ludGVyQWN0aXZlICYmICFwYXVzZWQpIHtcbiAgICAgICAgICAgICAgICBwb2ludGVyQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBkZWNlbGVyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBwb2ludGVySWQgPSBldmVudC5pZDtcblxuICAgICAgICAgICAgICAgIHBvaW50ZXJMYXN0WCA9IHBvaW50ZXJDdXJyZW50WCA9IGV2ZW50Lng7XG4gICAgICAgICAgICAgICAgcG9pbnRlckxhc3RZID0gcG9pbnRlckN1cnJlbnRZID0gZXZlbnQueTtcbiAgICAgICAgICAgICAgICB0cmFja2luZ1BvaW50cyA9IFtdO1xuICAgICAgICAgICAgICAgIGFkZFRyYWNraW5nUG9pbnQocG9pbnRlckxhc3RYLCBwb2ludGVyTGFzdFkpO1xuXG4gICAgICAgICAgICAgICAgLy8gQHNlZSBodHRwczovL2RldmVsb3BlcnMuZ29vZ2xlLmNvbS93ZWIvdXBkYXRlcy8yMDE3LzAxL3Njcm9sbGluZy1pbnRlcnZlbnRpb25cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvbk1vdmUsIGdldFBhc3NpdmVTdXBwb3J0ZWQoKSA/IHsgcGFzc2l2ZTogZmFsc2UgfSA6IGZhbHNlKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG9uVXApO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgc3RvcFRyYWNraW5nKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdmUsIGdldFBhc3NpdmVTdXBwb3J0ZWQoKSA/IHsgcGFzc2l2ZTogZmFsc2UgfSA6IGZhbHNlKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25VcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIYW5kbGVzIG1vdmUgZXZlbnRzXHJcbiAgICAgICAgICogQHBhcmFtICB7T2JqZWN0fSBldiBOb3JtYWxpemVkIGV2ZW50XHJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG9uTW92ZShldikge1xuICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciBldmVudCA9IG5vcm1hbGl6ZUV2ZW50KGV2KTtcblxuICAgICAgICAgICAgaWYgKHBvaW50ZXJBY3RpdmUgJiYgZXZlbnQuaWQgPT09IHBvaW50ZXJJZCkge1xuICAgICAgICAgICAgICAgIHBvaW50ZXJDdXJyZW50WCA9IGV2ZW50Lng7XG4gICAgICAgICAgICAgICAgcG9pbnRlckN1cnJlbnRZID0gZXZlbnQueTtcbiAgICAgICAgICAgICAgICBhZGRUcmFja2luZ1BvaW50KHBvaW50ZXJMYXN0WCwgcG9pbnRlckxhc3RZKTtcbiAgICAgICAgICAgICAgICByZXF1ZXN0VGljaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGFuZGxlcyB1cC9lbmQgZXZlbnRzXHJcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IGV2IE5vcm1hbGl6ZWQgZXZlbnRcclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gb25VcChldikge1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gbm9ybWFsaXplRXZlbnQoZXYpO1xuXG4gICAgICAgICAgICBpZiAocG9pbnRlckFjdGl2ZSAmJiBldmVudC5pZCA9PT0gcG9pbnRlcklkKSB7XG4gICAgICAgICAgICAgICAgc3RvcFRyYWNraW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTdG9wcyBtb3ZlbWVudCB0cmFja2luZywgc3RhcnRzIGFuaW1hdGlvblxyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzdG9wVHJhY2tpbmcoKSB7XG4gICAgICAgICAgICBwb2ludGVyQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICBhZGRUcmFja2luZ1BvaW50KHBvaW50ZXJMYXN0WCwgcG9pbnRlckxhc3RZKTtcbiAgICAgICAgICAgIHN0YXJ0RGVjZWxBbmltKCk7XG5cbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uTW92ZSk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG9uVXApO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCBzdG9wVHJhY2tpbmcpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uVXApO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3ZlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJlY29yZHMgbW92ZW1lbnQgZm9yIHRoZSBsYXN0IDEwMG1zXHJcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHhcclxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0geSBbZGVzY3JpcHRpb25dXHJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGFkZFRyYWNraW5nUG9pbnQoeCwgeSkge1xuICAgICAgICAgICAgdmFyIHRpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgd2hpbGUgKHRyYWNraW5nUG9pbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBpZiAodGltZSAtIHRyYWNraW5nUG9pbnRzWzBdLnRpbWUgPD0gMTAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cmFja2luZ1BvaW50cy5zaGlmdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cmFja2luZ1BvaW50cy5wdXNoKHsgeDogeCwgeTogeSwgdGltZTogdGltZSB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENhbGN1bGF0ZSBuZXcgdmFsdWVzLCBjYWxsIHVwZGF0ZSBmdW5jdGlvblxyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiB1cGRhdGVBbmRSZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgcG9pbnRlckNoYW5nZVggPSBwb2ludGVyQ3VycmVudFggLSBwb2ludGVyTGFzdFg7XG4gICAgICAgICAgICB2YXIgcG9pbnRlckNoYW5nZVkgPSBwb2ludGVyQ3VycmVudFkgLSBwb2ludGVyTGFzdFk7XG5cbiAgICAgICAgICAgIHRhcmdldFggKz0gcG9pbnRlckNoYW5nZVggKiBtdWx0aXBsaWVyO1xuICAgICAgICAgICAgdGFyZ2V0WSArPSBwb2ludGVyQ2hhbmdlWSAqIG11bHRpcGxpZXI7XG5cbiAgICAgICAgICAgIGlmIChib3VuY2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGlmZiA9IGNoZWNrQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgaWYgKGRpZmYueCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRYIC09IHBvaW50ZXJDaGFuZ2VYICogZHJhZ091dE9mQm91bmRzTXVsdGlwbGllcihkaWZmLngpICogbXVsdGlwbGllcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRpZmYueSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRZIC09IHBvaW50ZXJDaGFuZ2VZICogZHJhZ091dE9mQm91bmRzTXVsdGlwbGllcihkaWZmLnkpICogbXVsdGlwbGllcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoZWNrQm91bmRzKHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjYWxsVXBkYXRlQ2FsbGJhY2soKTtcblxuICAgICAgICAgICAgcG9pbnRlckxhc3RYID0gcG9pbnRlckN1cnJlbnRYO1xuICAgICAgICAgICAgcG9pbnRlckxhc3RZID0gcG9pbnRlckN1cnJlbnRZO1xuICAgICAgICAgICAgdGlja2luZyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmV0dXJucyBhIHZhbHVlIGZyb20gYXJvdW5kIDAuNSB0byAxLCBiYXNlZCBvbiBkaXN0YW5jZVxyXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB2YWxcclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZHJhZ091dE9mQm91bmRzTXVsdGlwbGllcih2YWwpIHtcbiAgICAgICAgICAgIHJldHVybiAwLjAwMDAwNSAqIE1hdGgucG93KHZhbCwgMikgKyAwLjAwMDEgKiB2YWwgKyAwLjU1O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogcHJldmVudHMgYW5pbWF0aW5nIGZhc3RlciB0aGFuIGN1cnJlbnQgZnJhbWVyYXRlXHJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHJlcXVlc3RUaWNrKCkge1xuICAgICAgICAgICAgaWYgKCF0aWNraW5nKSB7XG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1GcmFtZSh1cGRhdGVBbmRSZW5kZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGlja2luZyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBEZXRlcm1pbmUgcG9zaXRpb24gcmVsYXRpdmUgdG8gYm91bmRzXHJcbiAgICAgICAgICogQHBhcmFtIHtCb29sZWFufSByZXN0cmljdCBXaGV0aGVyIHRvIHJlc3RyaWN0IHRhcmdldCB0byBib3VuZHNcclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gY2hlY2tCb3VuZHMocmVzdHJpY3QpIHtcbiAgICAgICAgICAgIHZhciB4RGlmZiA9IDA7XG4gICAgICAgICAgICB2YXIgeURpZmYgPSAwO1xuXG4gICAgICAgICAgICBpZiAoYm91bmRYbWluICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0WCA8IGJvdW5kWG1pbikge1xuICAgICAgICAgICAgICAgIHhEaWZmID0gYm91bmRYbWluIC0gdGFyZ2V0WDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYm91bmRYbWF4ICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0WCA+IGJvdW5kWG1heCkge1xuICAgICAgICAgICAgICAgIHhEaWZmID0gYm91bmRYbWF4IC0gdGFyZ2V0WDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGJvdW5kWW1pbiAhPT0gdW5kZWZpbmVkICYmIHRhcmdldFkgPCBib3VuZFltaW4pIHtcbiAgICAgICAgICAgICAgICB5RGlmZiA9IGJvdW5kWW1pbiAtIHRhcmdldFk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJvdW5kWW1heCAhPT0gdW5kZWZpbmVkICYmIHRhcmdldFkgPiBib3VuZFltYXgpIHtcbiAgICAgICAgICAgICAgICB5RGlmZiA9IGJvdW5kWW1heCAtIHRhcmdldFk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZXN0cmljdCkge1xuICAgICAgICAgICAgICAgIGlmICh4RGlmZiAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRYID0geERpZmYgPiAwID8gYm91bmRYbWluIDogYm91bmRYbWF4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoeURpZmYgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WSA9IHlEaWZmID4gMCA/IGJvdW5kWW1pbiA6IGJvdW5kWW1heDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgeDogeERpZmYsXG4gICAgICAgICAgICAgICAgeTogeURpZmYsXG4gICAgICAgICAgICAgICAgaW5Cb3VuZHM6IHhEaWZmID09PSAwICYmIHlEaWZmID09PSAwXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW5pdGlhbGl6ZSBhbmltYXRpb24gb2YgdmFsdWVzIGNvbWluZyB0byBhIHN0b3BcclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc3RhcnREZWNlbEFuaW0oKSB7XG4gICAgICAgICAgICB2YXIgZmlyc3RQb2ludCA9IHRyYWNraW5nUG9pbnRzWzBdO1xuICAgICAgICAgICAgdmFyIGxhc3RQb2ludCA9IHRyYWNraW5nUG9pbnRzW3RyYWNraW5nUG9pbnRzLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgICAgICB2YXIgeE9mZnNldCA9IGxhc3RQb2ludC54IC0gZmlyc3RQb2ludC54O1xuICAgICAgICAgICAgdmFyIHlPZmZzZXQgPSBsYXN0UG9pbnQueSAtIGZpcnN0UG9pbnQueTtcbiAgICAgICAgICAgIHZhciB0aW1lT2Zmc2V0ID0gbGFzdFBvaW50LnRpbWUgLSBmaXJzdFBvaW50LnRpbWU7XG5cbiAgICAgICAgICAgIHZhciBEID0gdGltZU9mZnNldCAvIDE1IC8gbXVsdGlwbGllcjtcblxuICAgICAgICAgICAgZGVjVmVsWCA9IHhPZmZzZXQgLyBEIHx8IDA7IC8vIHByZXZlbnQgTmFOXG4gICAgICAgICAgICBkZWNWZWxZID0geU9mZnNldCAvIEQgfHwgMDtcblxuICAgICAgICAgICAgdmFyIGRpZmYgPSBjaGVja0JvdW5kcygpO1xuXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZGVjVmVsWCkgPiAxIHx8IE1hdGguYWJzKGRlY1ZlbFkpID4gMSB8fCAhZGlmZi5pbkJvdW5kcykge1xuICAgICAgICAgICAgICAgIGRlY2VsZXJhdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1GcmFtZShzdGVwRGVjZWxBbmltKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFuaW1hdGVzIHZhbHVlcyBzbG93aW5nIGRvd25cclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc3RlcERlY2VsQW5pbSgpIHtcbiAgICAgICAgICAgIGlmICghZGVjZWxlcmF0aW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBkZWNWZWxYICo9IGZyaWN0aW9uO1xuICAgICAgICAgICAgZGVjVmVsWSAqPSBmcmljdGlvbjtcblxuICAgICAgICAgICAgdGFyZ2V0WCArPSBkZWNWZWxYO1xuICAgICAgICAgICAgdGFyZ2V0WSArPSBkZWNWZWxZO1xuXG4gICAgICAgICAgICB2YXIgZGlmZiA9IGNoZWNrQm91bmRzKCk7XG5cbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWNWZWxYKSA+IHN0b3BUaHJlc2hvbGQgfHwgTWF0aC5hYnMoZGVjVmVsWSkgPiBzdG9wVGhyZXNob2xkIHx8ICFkaWZmLmluQm91bmRzKSB7XG5cbiAgICAgICAgICAgICAgICBpZiAoYm91bmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZWJvdW5kQWRqdXN0ID0gMi41O1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWZmLnggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWZmLnggKiBkZWNWZWxYIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNWZWxYICs9IGRpZmYueCAqIGJvdW5jZURlY2VsZXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkanVzdCA9IGRpZmYueCA+IDAgPyByZWJvdW5kQWRqdXN0IDogLXJlYm91bmRBZGp1c3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjVmVsWCA9IChkaWZmLnggKyBhZGp1c3QpICogYm91bmNlQWNjZWxlcmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWZmLnkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWZmLnkgKiBkZWNWZWxZIDw9IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNWZWxZICs9IGRpZmYueSAqIGJvdW5jZURlY2VsZXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFkanVzdCA9IGRpZmYueSA+IDAgPyByZWJvdW5kQWRqdXN0IDogLXJlYm91bmRBZGp1c3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjVmVsWSA9IChkaWZmLnkgKyBhZGp1c3QpICogYm91bmNlQWNjZWxlcmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYueCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYueCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRYID0gYm91bmRYbWluO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRYID0gYm91bmRYbWF4O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVjVmVsWCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYueSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYueSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRZID0gYm91bmRZbWluO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXRZID0gYm91bmRZbWF4O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZGVjVmVsWSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjYWxsVXBkYXRlQ2FsbGJhY2soKTtcblxuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltRnJhbWUoc3RlcERlY2VsQW5pbSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlY2VsZXJhdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXHJcbiAgICAgKiBAc2VlIGh0dHA6Ly93d3cucGF1bGlyaXNoLmNvbS8yMDExL3JlcXVlc3RhbmltYXRpb25mcmFtZS1mb3Itc21hcnQtYW5pbWF0aW5nL1xyXG4gICAgICovXG4gICAgO1xuXG4gICAgbW9kdWxlLmV4cG9ydHMgPSBJbXBldHVzO1xuICAgIHZhciByZXF1ZXN0QW5pbUZyYW1lID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XG4gICAgICAgIH07XG4gICAgfSkoKTtcblxuICAgIGZ1bmN0aW9uIGdldFBhc3NpdmVTdXBwb3J0ZWQoKSB7XG4gICAgICAgIHZhciBwYXNzaXZlU3VwcG9ydGVkID0gZmFsc2U7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCBcInBhc3NpdmVcIiwge1xuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgICAgICAgICAgICBwYXNzaXZlU3VwcG9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJ0ZXN0XCIsIG51bGwsIG9wdGlvbnMpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHt9XG5cbiAgICAgICAgZ2V0UGFzc2l2ZVN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXNzaXZlU3VwcG9ydGVkO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gcGFzc2l2ZVN1cHBvcnRlZDtcbiAgICB9XG59KTtcbiIsIi8qXG4gKiBjbGFzc0xpc3QuanM6IENyb3NzLWJyb3dzZXIgZnVsbCBlbGVtZW50LmNsYXNzTGlzdCBpbXBsZW1lbnRhdGlvbi5cbiAqIDEuMS4yMDE3MDQyN1xuICpcbiAqIEJ5IEVsaSBHcmV5LCBodHRwOi8vZWxpZ3JleS5jb21cbiAqIExpY2Vuc2U6IERlZGljYXRlZCB0byB0aGUgcHVibGljIGRvbWFpbi5cbiAqICAgU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L2NsYXNzTGlzdC5qcy9ibG9iL21hc3Rlci9MSUNFTlNFLm1kXG4gKi9cblxuLypnbG9iYWwgc2VsZiwgZG9jdW1lbnQsIERPTUV4Y2VwdGlvbiAqL1xuXG4vKiEgQHNvdXJjZSBodHRwOi8vcHVybC5lbGlncmV5LmNvbS9naXRodWIvY2xhc3NMaXN0LmpzL2Jsb2IvbWFzdGVyL2NsYXNzTGlzdC5qcyAqL1xuXG5pZiAoXCJkb2N1bWVudFwiIGluIHdpbmRvdy5zZWxmKSB7XG5cbi8vIEZ1bGwgcG9seWZpbGwgZm9yIGJyb3dzZXJzIHdpdGggbm8gY2xhc3NMaXN0IHN1cHBvcnRcbi8vIEluY2x1ZGluZyBJRSA8IEVkZ2UgbWlzc2luZyBTVkdFbGVtZW50LmNsYXNzTGlzdFxuaWYgKCEoXCJjbGFzc0xpc3RcIiBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiX1wiKSkgXG5cdHx8IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyAmJiAhKFwiY2xhc3NMaXN0XCIgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcImdcIikpKSB7XG5cbihmdW5jdGlvbiAodmlldykge1xuXG5cInVzZSBzdHJpY3RcIjtcblxuaWYgKCEoJ0VsZW1lbnQnIGluIHZpZXcpKSByZXR1cm47XG5cbnZhclxuXHQgIGNsYXNzTGlzdFByb3AgPSBcImNsYXNzTGlzdFwiXG5cdCwgcHJvdG9Qcm9wID0gXCJwcm90b3R5cGVcIlxuXHQsIGVsZW1DdHJQcm90byA9IHZpZXcuRWxlbWVudFtwcm90b1Byb3BdXG5cdCwgb2JqQ3RyID0gT2JqZWN0XG5cdCwgc3RyVHJpbSA9IFN0cmluZ1twcm90b1Byb3BdLnRyaW0gfHwgZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiB0aGlzLnJlcGxhY2UoL15cXHMrfFxccyskL2csIFwiXCIpO1xuXHR9XG5cdCwgYXJySW5kZXhPZiA9IEFycmF5W3Byb3RvUHJvcF0uaW5kZXhPZiB8fCBmdW5jdGlvbiAoaXRlbSkge1xuXHRcdHZhclxuXHRcdFx0ICBpID0gMFxuXHRcdFx0LCBsZW4gPSB0aGlzLmxlbmd0aFxuXHRcdDtcblx0XHRmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRpZiAoaSBpbiB0aGlzICYmIHRoaXNbaV0gPT09IGl0ZW0pIHtcblx0XHRcdFx0cmV0dXJuIGk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiAtMTtcblx0fVxuXHQvLyBWZW5kb3JzOiBwbGVhc2UgYWxsb3cgY29udGVudCBjb2RlIHRvIGluc3RhbnRpYXRlIERPTUV4Y2VwdGlvbnNcblx0LCBET01FeCA9IGZ1bmN0aW9uICh0eXBlLCBtZXNzYWdlKSB7XG5cdFx0dGhpcy5uYW1lID0gdHlwZTtcblx0XHR0aGlzLmNvZGUgPSBET01FeGNlcHRpb25bdHlwZV07XG5cdFx0dGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcblx0fVxuXHQsIGNoZWNrVG9rZW5BbmRHZXRJbmRleCA9IGZ1bmN0aW9uIChjbGFzc0xpc3QsIHRva2VuKSB7XG5cdFx0aWYgKHRva2VuID09PSBcIlwiKSB7XG5cdFx0XHR0aHJvdyBuZXcgRE9NRXgoXG5cdFx0XHRcdCAgXCJTWU5UQVhfRVJSXCJcblx0XHRcdFx0LCBcIkFuIGludmFsaWQgb3IgaWxsZWdhbCBzdHJpbmcgd2FzIHNwZWNpZmllZFwiXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRpZiAoL1xccy8udGVzdCh0b2tlbikpIHtcblx0XHRcdHRocm93IG5ldyBET01FeChcblx0XHRcdFx0ICBcIklOVkFMSURfQ0hBUkFDVEVSX0VSUlwiXG5cdFx0XHRcdCwgXCJTdHJpbmcgY29udGFpbnMgYW4gaW52YWxpZCBjaGFyYWN0ZXJcIlxuXHRcdFx0KTtcblx0XHR9XG5cdFx0cmV0dXJuIGFyckluZGV4T2YuY2FsbChjbGFzc0xpc3QsIHRva2VuKTtcblx0fVxuXHQsIENsYXNzTGlzdCA9IGZ1bmN0aW9uIChlbGVtKSB7XG5cdFx0dmFyXG5cdFx0XHQgIHRyaW1tZWRDbGFzc2VzID0gc3RyVHJpbS5jYWxsKGVsZW0uZ2V0QXR0cmlidXRlKFwiY2xhc3NcIikgfHwgXCJcIilcblx0XHRcdCwgY2xhc3NlcyA9IHRyaW1tZWRDbGFzc2VzID8gdHJpbW1lZENsYXNzZXMuc3BsaXQoL1xccysvKSA6IFtdXG5cdFx0XHQsIGkgPSAwXG5cdFx0XHQsIGxlbiA9IGNsYXNzZXMubGVuZ3RoXG5cdFx0O1xuXHRcdGZvciAoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdHRoaXMucHVzaChjbGFzc2VzW2ldKTtcblx0XHR9XG5cdFx0dGhpcy5fdXBkYXRlQ2xhc3NOYW1lID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0ZWxlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCB0aGlzLnRvU3RyaW5nKCkpO1xuXHRcdH07XG5cdH1cblx0LCBjbGFzc0xpc3RQcm90byA9IENsYXNzTGlzdFtwcm90b1Byb3BdID0gW11cblx0LCBjbGFzc0xpc3RHZXR0ZXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIG5ldyBDbGFzc0xpc3QodGhpcyk7XG5cdH1cbjtcbi8vIE1vc3QgRE9NRXhjZXB0aW9uIGltcGxlbWVudGF0aW9ucyBkb24ndCBhbGxvdyBjYWxsaW5nIERPTUV4Y2VwdGlvbidzIHRvU3RyaW5nKClcbi8vIG9uIG5vbi1ET01FeGNlcHRpb25zLiBFcnJvcidzIHRvU3RyaW5nKCkgaXMgc3VmZmljaWVudCBoZXJlLlxuRE9NRXhbcHJvdG9Qcm9wXSA9IEVycm9yW3Byb3RvUHJvcF07XG5jbGFzc0xpc3RQcm90by5pdGVtID0gZnVuY3Rpb24gKGkpIHtcblx0cmV0dXJuIHRoaXNbaV0gfHwgbnVsbDtcbn07XG5jbGFzc0xpc3RQcm90by5jb250YWlucyA9IGZ1bmN0aW9uICh0b2tlbikge1xuXHR0b2tlbiArPSBcIlwiO1xuXHRyZXR1cm4gY2hlY2tUb2tlbkFuZEdldEluZGV4KHRoaXMsIHRva2VuKSAhPT0gLTE7XG59O1xuY2xhc3NMaXN0UHJvdG8uYWRkID0gZnVuY3Rpb24gKCkge1xuXHR2YXJcblx0XHQgIHRva2VucyA9IGFyZ3VtZW50c1xuXHRcdCwgaSA9IDBcblx0XHQsIGwgPSB0b2tlbnMubGVuZ3RoXG5cdFx0LCB0b2tlblxuXHRcdCwgdXBkYXRlZCA9IGZhbHNlXG5cdDtcblx0ZG8ge1xuXHRcdHRva2VuID0gdG9rZW5zW2ldICsgXCJcIjtcblx0XHRpZiAoY2hlY2tUb2tlbkFuZEdldEluZGV4KHRoaXMsIHRva2VuKSA9PT0gLTEpIHtcblx0XHRcdHRoaXMucHVzaCh0b2tlbik7XG5cdFx0XHR1cGRhdGVkID0gdHJ1ZTtcblx0XHR9XG5cdH1cblx0d2hpbGUgKCsraSA8IGwpO1xuXG5cdGlmICh1cGRhdGVkKSB7XG5cdFx0dGhpcy5fdXBkYXRlQ2xhc3NOYW1lKCk7XG5cdH1cbn07XG5jbGFzc0xpc3RQcm90by5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG5cdHZhclxuXHRcdCAgdG9rZW5zID0gYXJndW1lbnRzXG5cdFx0LCBpID0gMFxuXHRcdCwgbCA9IHRva2Vucy5sZW5ndGhcblx0XHQsIHRva2VuXG5cdFx0LCB1cGRhdGVkID0gZmFsc2Vcblx0XHQsIGluZGV4XG5cdDtcblx0ZG8ge1xuXHRcdHRva2VuID0gdG9rZW5zW2ldICsgXCJcIjtcblx0XHRpbmRleCA9IGNoZWNrVG9rZW5BbmRHZXRJbmRleCh0aGlzLCB0b2tlbik7XG5cdFx0d2hpbGUgKGluZGV4ICE9PSAtMSkge1xuXHRcdFx0dGhpcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdFx0dXBkYXRlZCA9IHRydWU7XG5cdFx0XHRpbmRleCA9IGNoZWNrVG9rZW5BbmRHZXRJbmRleCh0aGlzLCB0b2tlbik7XG5cdFx0fVxuXHR9XG5cdHdoaWxlICgrK2kgPCBsKTtcblxuXHRpZiAodXBkYXRlZCkge1xuXHRcdHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSgpO1xuXHR9XG59O1xuY2xhc3NMaXN0UHJvdG8udG9nZ2xlID0gZnVuY3Rpb24gKHRva2VuLCBmb3JjZSkge1xuXHR0b2tlbiArPSBcIlwiO1xuXG5cdHZhclxuXHRcdCAgcmVzdWx0ID0gdGhpcy5jb250YWlucyh0b2tlbilcblx0XHQsIG1ldGhvZCA9IHJlc3VsdCA/XG5cdFx0XHRmb3JjZSAhPT0gdHJ1ZSAmJiBcInJlbW92ZVwiXG5cdFx0OlxuXHRcdFx0Zm9yY2UgIT09IGZhbHNlICYmIFwiYWRkXCJcblx0O1xuXG5cdGlmIChtZXRob2QpIHtcblx0XHR0aGlzW21ldGhvZF0odG9rZW4pO1xuXHR9XG5cblx0aWYgKGZvcmNlID09PSB0cnVlIHx8IGZvcmNlID09PSBmYWxzZSkge1xuXHRcdHJldHVybiBmb3JjZTtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gIXJlc3VsdDtcblx0fVxufTtcbmNsYXNzTGlzdFByb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuXHRyZXR1cm4gdGhpcy5qb2luKFwiIFwiKTtcbn07XG5cbmlmIChvYmpDdHIuZGVmaW5lUHJvcGVydHkpIHtcblx0dmFyIGNsYXNzTGlzdFByb3BEZXNjID0ge1xuXHRcdCAgZ2V0OiBjbGFzc0xpc3RHZXR0ZXJcblx0XHQsIGVudW1lcmFibGU6IHRydWVcblx0XHQsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuXHR9O1xuXHR0cnkge1xuXHRcdG9iakN0ci5kZWZpbmVQcm9wZXJ0eShlbGVtQ3RyUHJvdG8sIGNsYXNzTGlzdFByb3AsIGNsYXNzTGlzdFByb3BEZXNjKTtcblx0fSBjYXRjaCAoZXgpIHsgLy8gSUUgOCBkb2Vzbid0IHN1cHBvcnQgZW51bWVyYWJsZTp0cnVlXG5cdFx0Ly8gYWRkaW5nIHVuZGVmaW5lZCB0byBmaWdodCB0aGlzIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS9lbGlncmV5L2NsYXNzTGlzdC5qcy9pc3N1ZXMvMzZcblx0XHQvLyBtb2Rlcm5pZSBJRTgtTVNXNyBtYWNoaW5lIGhhcyBJRTggOC4wLjYwMDEuMTg3MDIgYW5kIGlzIGFmZmVjdGVkXG5cdFx0aWYgKGV4Lm51bWJlciA9PT0gdW5kZWZpbmVkIHx8IGV4Lm51bWJlciA9PT0gLTB4N0ZGNUVDNTQpIHtcblx0XHRcdGNsYXNzTGlzdFByb3BEZXNjLmVudW1lcmFibGUgPSBmYWxzZTtcblx0XHRcdG9iakN0ci5kZWZpbmVQcm9wZXJ0eShlbGVtQ3RyUHJvdG8sIGNsYXNzTGlzdFByb3AsIGNsYXNzTGlzdFByb3BEZXNjKTtcblx0XHR9XG5cdH1cbn0gZWxzZSBpZiAob2JqQ3RyW3Byb3RvUHJvcF0uX19kZWZpbmVHZXR0ZXJfXykge1xuXHRlbGVtQ3RyUHJvdG8uX19kZWZpbmVHZXR0ZXJfXyhjbGFzc0xpc3RQcm9wLCBjbGFzc0xpc3RHZXR0ZXIpO1xufVxuXG59KHdpbmRvdy5zZWxmKSk7XG5cbn1cblxuLy8gVGhlcmUgaXMgZnVsbCBvciBwYXJ0aWFsIG5hdGl2ZSBjbGFzc0xpc3Qgc3VwcG9ydCwgc28ganVzdCBjaGVjayBpZiB3ZSBuZWVkXG4vLyB0byBub3JtYWxpemUgdGhlIGFkZC9yZW1vdmUgYW5kIHRvZ2dsZSBBUElzLlxuXG4oZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgdGVzdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiX1wiKTtcblxuXHR0ZXN0RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwiYzFcIiwgXCJjMlwiKTtcblxuXHQvLyBQb2x5ZmlsbCBmb3IgSUUgMTAvMTEgYW5kIEZpcmVmb3ggPDI2LCB3aGVyZSBjbGFzc0xpc3QuYWRkIGFuZFxuXHQvLyBjbGFzc0xpc3QucmVtb3ZlIGV4aXN0IGJ1dCBzdXBwb3J0IG9ubHkgb25lIGFyZ3VtZW50IGF0IGEgdGltZS5cblx0aWYgKCF0ZXN0RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJjMlwiKSkge1xuXHRcdHZhciBjcmVhdGVNZXRob2QgPSBmdW5jdGlvbihtZXRob2QpIHtcblx0XHRcdHZhciBvcmlnaW5hbCA9IERPTVRva2VuTGlzdC5wcm90b3R5cGVbbWV0aG9kXTtcblxuXHRcdFx0RE9NVG9rZW5MaXN0LnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24odG9rZW4pIHtcblx0XHRcdFx0dmFyIGksIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG5cblx0XHRcdFx0Zm9yIChpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRcdFx0dG9rZW4gPSBhcmd1bWVudHNbaV07XG5cdFx0XHRcdFx0b3JpZ2luYWwuY2FsbCh0aGlzLCB0b2tlbik7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fTtcblx0XHRjcmVhdGVNZXRob2QoJ2FkZCcpO1xuXHRcdGNyZWF0ZU1ldGhvZCgncmVtb3ZlJyk7XG5cdH1cblxuXHR0ZXN0RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKFwiYzNcIiwgZmFsc2UpO1xuXG5cdC8vIFBvbHlmaWxsIGZvciBJRSAxMCBhbmQgRmlyZWZveCA8MjQsIHdoZXJlIGNsYXNzTGlzdC50b2dnbGUgZG9lcyBub3Rcblx0Ly8gc3VwcG9ydCB0aGUgc2Vjb25kIGFyZ3VtZW50LlxuXHRpZiAodGVzdEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYzNcIikpIHtcblx0XHR2YXIgX3RvZ2dsZSA9IERPTVRva2VuTGlzdC5wcm90b3R5cGUudG9nZ2xlO1xuXG5cdFx0RE9NVG9rZW5MaXN0LnByb3RvdHlwZS50b2dnbGUgPSBmdW5jdGlvbih0b2tlbiwgZm9yY2UpIHtcblx0XHRcdGlmICgxIGluIGFyZ3VtZW50cyAmJiAhdGhpcy5jb250YWlucyh0b2tlbikgPT09ICFmb3JjZSkge1xuXHRcdFx0XHRyZXR1cm4gZm9yY2U7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm4gX3RvZ2dsZS5jYWxsKHRoaXMsIHRva2VuKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdH1cblxuXHR0ZXN0RWxlbWVudCA9IG51bGw7XG59KCkpO1xuXG59XG4iLCIvKiFcbkNvcHlyaWdodCAoQykgMjAxMy0yMDE1IGJ5IFdlYlJlZmxlY3Rpb25cblxuUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGEgY29weVxub2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGUgXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbFxuaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xudG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLCBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbFxuY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdCBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzXG5mdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG5UaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG5cblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbklNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZLFxuRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFXG5BVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSXG5MSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLFxuT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTlxuVEhFIFNPRlRXQVJFLlxuXG4qL1xuKGZ1bmN0aW9uKHdpbmRvdyl7XG4gIC8qISAoQykgV2ViUmVmbGVjdGlvbiBNaXQgU3R5bGUgTGljZW5zZSAqL1xuICBpZiAoZG9jdW1lbnQuY3JlYXRlRXZlbnQpIHJldHVybjtcbiAgdmFyXG4gICAgRFVOTk9BQk9VVERPTUxPQURFRCA9IHRydWUsXG4gICAgUkVBRFlFVkVOVERJU1BBVENIRUQgPSBmYWxzZSxcbiAgICBPTlJFQURZU1RBVEVDSEFOR0UgPSAnb25yZWFkeXN0YXRlY2hhbmdlJyxcbiAgICBET01DT05URU5UTE9BREVEID0gJ0RPTUNvbnRlbnRMb2FkZWQnLFxuICAgIFNFQ1JFVCA9ICdfX0lFOF9fJyArIE1hdGgucmFuZG9tKCksXG4gICAgLy8gT2JqZWN0ID0gd2luZG93Lk9iamVjdCxcbiAgICBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSB8fFxuICAgIC8vIGp1c3QgaW4gY2FzZSAuLi5cbiAgICBmdW5jdGlvbiAob2JqZWN0LCBwcm9wZXJ0eSwgZGVzY3JpcHRvcikge1xuICAgICAgb2JqZWN0W3Byb3BlcnR5XSA9IGRlc2NyaXB0b3IudmFsdWU7XG4gICAgfSxcbiAgICBkZWZpbmVQcm9wZXJ0aWVzID0gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMgfHxcbiAgICAvLyBJRTggaW1wbGVtZW50ZWQgZGVmaW5lUHJvcGVydHkgYnV0IG5vdCB0aGUgcGx1cmFsLi4uXG4gICAgZnVuY3Rpb24gKG9iamVjdCwgZGVzY3JpcHRvcnMpIHtcbiAgICAgIGZvcih2YXIga2V5IGluIGRlc2NyaXB0b3JzKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGRlc2NyaXB0b3JzLCBrZXkpKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCBkZXNjcmlwdG9yc1trZXldKTtcbiAgICAgICAgICB9IGNhdGNoKG9fTykge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25zb2xlKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGtleSArICcgZmFpbGVkIG9uIG9iamVjdDonLCBvYmplY3QsIG9fTy5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gICAgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFxuICAgIC8vIGhlcmUgSUU3IHdpbGwgYnJlYWsgbGlrZSBhIGNoYXJtXG4gICAgRWxlbWVudFByb3RvdHlwZSA9IHdpbmRvdy5FbGVtZW50LnByb3RvdHlwZSxcbiAgICBUZXh0UHJvdG90eXBlID0gd2luZG93LlRleHQucHJvdG90eXBlLFxuICAgIC8vIG5vbmUgb2YgYWJvdmUgbmF0aXZlIGNvbnN0cnVjdG9ycyBleGlzdC9hcmUgZXhwb3NlZFxuICAgIHBvc3NpYmx5TmF0aXZlRXZlbnQgPSAvXlthLXpdKyQvLFxuICAgIC8vIF4gYWN0dWFsbHkgY291bGQgcHJvYmFibHkgYmUganVzdCAvXlthLXpdKyQvXG4gICAgcmVhZHlTdGF0ZU9LID0gL2xvYWRlZHxjb21wbGV0ZS8sXG4gICAgdHlwZXMgPSB7fSxcbiAgICBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICBodG1sID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LFxuICAgIHJlbW92ZUF0dHJpYnV0ZSA9IGh0bWwucmVtb3ZlQXR0cmlidXRlLFxuICAgIHNldEF0dHJpYnV0ZSA9IGh0bWwuc2V0QXR0cmlidXRlLFxuICAgIHZhbHVlRGVzYyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICB9O1xuICAgIH1cbiAgO1xuXG4gIGZ1bmN0aW9uIGNvbW1vbkV2ZW50TG9vcChjdXJyZW50VGFyZ2V0LCBlLCAkaGFuZGxlcnMsIHN5bnRoZXRpYykge1xuICAgIGZvcih2YXJcbiAgICAgIGhhbmRsZXIsXG4gICAgICBjb250aW51ZVByb3BhZ2F0aW9uLFxuICAgICAgaGFuZGxlcnMgPSAkaGFuZGxlcnMuc2xpY2UoKSxcbiAgICAgIGV2dCA9IGVucmljaChlLCBjdXJyZW50VGFyZ2V0KSxcbiAgICAgIGkgPSAwLCBsZW5ndGggPSBoYW5kbGVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrK1xuICAgICkge1xuICAgICAgaGFuZGxlciA9IGhhbmRsZXJzW2ldO1xuICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnb2JqZWN0Jykge1xuICAgICAgICBpZiAodHlwZW9mIGhhbmRsZXIuaGFuZGxlRXZlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBoYW5kbGVyLmhhbmRsZUV2ZW50KGV2dCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhbmRsZXIuY2FsbChjdXJyZW50VGFyZ2V0LCBldnQpO1xuICAgICAgfVxuICAgICAgaWYgKGV2dC5zdG9wcGVkSW1tZWRpYXRlUHJvcGFnYXRpb24pIGJyZWFrO1xuICAgIH1cbiAgICBjb250aW51ZVByb3BhZ2F0aW9uID0gIWV2dC5zdG9wcGVkUHJvcGFnYXRpb247XG4gICAgLypcbiAgICBpZiAoY29udGludWVQcm9wYWdhdGlvbiAmJiAhc3ludGhldGljICYmICFsaXZlKGN1cnJlbnRUYXJnZXQpKSB7XG4gICAgICBldnQuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICB9XG4gICAgKi9cbiAgICByZXR1cm4gKFxuICAgICAgc3ludGhldGljICYmXG4gICAgICBjb250aW51ZVByb3BhZ2F0aW9uICYmXG4gICAgICBjdXJyZW50VGFyZ2V0LnBhcmVudE5vZGVcbiAgICApID9cbiAgICAgIGN1cnJlbnRUYXJnZXQucGFyZW50Tm9kZS5kaXNwYXRjaEV2ZW50KGV2dCkgOlxuICAgICAgIWV2dC5kZWZhdWx0UHJldmVudGVkXG4gICAgO1xuICB9XG5cbiAgZnVuY3Rpb24gY29tbW9uRGVzY3JpcHRvcihnZXQsIHNldCkge1xuICAgIHJldHVybiB7XG4gICAgICAvLyBpZiB5b3UgdHJ5IHdpdGggZW51bWVyYWJsZTogdHJ1ZVxuICAgICAgLy8gSUU4IHdpbGwgbWlzZXJhYmx5IGZhaWxcbiAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgIGdldDogZ2V0LFxuICAgICAgc2V0OiBzZXRcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY29tbW9uVGV4dENvbnRlbnQocHJvdG9EZXN0LCBwcm90b1NvdXJjZSwgcHJvcGVydHkpIHtcbiAgICB2YXIgZGVzY3JpcHRvciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihcbiAgICAgIHByb3RvU291cmNlIHx8IHByb3RvRGVzdCwgcHJvcGVydHlcbiAgICApO1xuICAgIGRlZmluZVByb3BlcnR5KFxuICAgICAgcHJvdG9EZXN0LFxuICAgICAgJ3RleHRDb250ZW50JyxcbiAgICAgIGNvbW1vbkRlc2NyaXB0b3IoXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvci5nZXQuY2FsbCh0aGlzKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKHRleHRDb250ZW50KSB7XG4gICAgICAgICAgZGVzY3JpcHRvci5zZXQuY2FsbCh0aGlzLCB0ZXh0Q29udGVudCk7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5yaWNoKGUsIGN1cnJlbnRUYXJnZXQpIHtcbiAgICBlLmN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0O1xuICAgIGUuZXZlbnRQaGFzZSA9IChcbiAgICAgIC8vIEFUX1RBUkdFVCA6IEJVQkJMSU5HX1BIQVNFXG4gICAgICBlLnRhcmdldCA9PT0gZS5jdXJyZW50VGFyZ2V0ID8gMiA6IDNcbiAgICApO1xuICAgIHJldHVybiBlO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluZChhcnJheSwgdmFsdWUpIHtcbiAgICB2YXIgaSA9IGFycmF5Lmxlbmd0aDtcbiAgICB3aGlsZShpLS0gJiYgYXJyYXlbaV0gIT09IHZhbHVlKTtcbiAgICByZXR1cm4gaTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRleHRDb250ZW50KCkge1xuICAgIGlmICh0aGlzLnRhZ05hbWUgPT09ICdCUicpIHJldHVybiAnXFxuJztcbiAgICB2YXJcbiAgICAgIHRleHROb2RlID0gdGhpcy5maXJzdENoaWxkLFxuICAgICAgYXJyYXlDb250ZW50ID0gW11cbiAgICA7XG4gICAgd2hpbGUodGV4dE5vZGUpIHtcbiAgICAgIGlmICh0ZXh0Tm9kZS5ub2RlVHlwZSAhPT0gOCAmJiB0ZXh0Tm9kZS5ub2RlVHlwZSAhPT0gNykge1xuICAgICAgICBhcnJheUNvbnRlbnQucHVzaCh0ZXh0Tm9kZS50ZXh0Q29udGVudCk7XG4gICAgICB9XG4gICAgICB0ZXh0Tm9kZSA9IHRleHROb2RlLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXlDb250ZW50LmpvaW4oJycpO1xuICB9XG5cbiAgZnVuY3Rpb24gbGl2ZShzZWxmKSB7XG4gICAgcmV0dXJuIHNlbGYubm9kZVR5cGUgIT09IDkgJiYgaHRtbC5jb250YWlucyhzZWxmKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9ua2V5dXAoZSkge1xuICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICBldnQuaW5pdEV2ZW50KCdpbnB1dCcsIHRydWUsIHRydWUpO1xuICAgIChlLnNyY0VsZW1lbnQgfHwgZS5mcm9tRWxlbWVudCB8fCBkb2N1bWVudCkuZGlzcGF0Y2hFdmVudChldnQpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25SZWFkeVN0YXRlKGUpIHtcbiAgICBpZiAoIVJFQURZRVZFTlRESVNQQVRDSEVEICYmIHJlYWR5U3RhdGVPSy50ZXN0KFxuICAgICAgZG9jdW1lbnQucmVhZHlTdGF0ZVxuICAgICkpIHtcbiAgICAgIFJFQURZRVZFTlRESVNQQVRDSEVEID0gIVJFQURZRVZFTlRESVNQQVRDSEVEO1xuICAgICAgZG9jdW1lbnQuZGV0YWNoRXZlbnQoT05SRUFEWVNUQVRFQ0hBTkdFLCBvblJlYWR5U3RhdGUpO1xuICAgICAgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgZS5pbml0RXZlbnQoRE9NQ09OVEVOVExPQURFRCwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGUpO1xuICAgIH1cbiAgfVxuICBcbiAgZnVuY3Rpb24gZ2V0dGVyKGF0dHIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gaHRtbFthdHRyXSB8fCAoZG9jdW1lbnQuYm9keSAmJiBkb2N1bWVudC5ib2R5W2F0dHJdKSB8fCAwO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBzZXRUZXh0Q29udGVudCh0ZXh0Q29udGVudCkge1xuICAgIHZhciBub2RlO1xuICAgIHdoaWxlICgobm9kZSA9IHRoaXMubGFzdENoaWxkKSkge1xuICAgICAgdGhpcy5yZW1vdmVDaGlsZChub2RlKTtcbiAgICB9XG4gICAgLypqc2hpbnQgZXFudWxsOnRydWUgKi9cbiAgICBpZiAodGV4dENvbnRlbnQgIT0gbnVsbCkge1xuICAgICAgdGhpcy5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0Q29udGVudCkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHZlcmlmeShzZWxmLCBlKSB7XG4gICAgaWYgKCFlKSB7XG4gICAgICBlID0gd2luZG93LmV2ZW50O1xuICAgIH1cbiAgICBpZiAoIWUudGFyZ2V0KSB7XG4gICAgICBlLnRhcmdldCA9IGUuc3JjRWxlbWVudCB8fCBlLmZyb21FbGVtZW50IHx8IGRvY3VtZW50O1xuICAgIH1cbiAgICBpZiAoIWUudGltZVN0YW1wKSB7XG4gICAgICBlLnRpbWVTdGFtcCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgfVxuICAgIHJldHVybiBlO1xuICB9XG5cbiAgLy8gbm9ybWFsaXplZCB0ZXh0Q29udGVudCBmb3I6XG4gIC8vICBjb21tZW50LCBzY3JpcHQsIHN0eWxlLCB0ZXh0LCB0aXRsZVxuICBjb21tb25UZXh0Q29udGVudChcbiAgICB3aW5kb3cuSFRNTENvbW1lbnRFbGVtZW50LnByb3RvdHlwZSxcbiAgICBFbGVtZW50UHJvdG90eXBlLFxuICAgICdub2RlVmFsdWUnXG4gICk7XG5cbiAgY29tbW9uVGV4dENvbnRlbnQoXG4gICAgd2luZG93LkhUTUxTY3JpcHRFbGVtZW50LnByb3RvdHlwZSxcbiAgICBudWxsLFxuICAgICd0ZXh0J1xuICApO1xuXG4gIGNvbW1vblRleHRDb250ZW50KFxuICAgIFRleHRQcm90b3R5cGUsXG4gICAgbnVsbCxcbiAgICAnbm9kZVZhbHVlJ1xuICApO1xuXG4gIGNvbW1vblRleHRDb250ZW50KFxuICAgIHdpbmRvdy5IVE1MVGl0bGVFbGVtZW50LnByb3RvdHlwZSxcbiAgICBudWxsLFxuICAgICd0ZXh0J1xuICApO1xuXG4gIGRlZmluZVByb3BlcnR5KFxuICAgIHdpbmRvdy5IVE1MU3R5bGVFbGVtZW50LnByb3RvdHlwZSxcbiAgICAndGV4dENvbnRlbnQnLFxuICAgIChmdW5jdGlvbihkZXNjcmlwdG9yKXtcbiAgICAgIHJldHVybiBjb21tb25EZXNjcmlwdG9yKFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3IuZ2V0LmNhbGwodGhpcy5zdHlsZVNoZWV0KTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24gKHRleHRDb250ZW50KSB7XG4gICAgICAgICAgZGVzY3JpcHRvci5zZXQuY2FsbCh0aGlzLnN0eWxlU2hlZXQsIHRleHRDb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KGdldE93blByb3BlcnR5RGVzY3JpcHRvcih3aW5kb3cuQ1NTU3R5bGVTaGVldC5wcm90b3R5cGUsICdjc3NUZXh0JykpKVxuICApO1xuXG4gIHZhciBvcGFjaXR5cmUgPSAvXFxiXFxzKmFscGhhXFxzKlxcKFxccypvcGFjaXR5XFxzKj1cXHMqKFxcZCspXFxzKlxcKS87XG4gIGRlZmluZVByb3BlcnR5KFxuICAgIHdpbmRvdy5DU1NTdHlsZURlY2xhcmF0aW9uLnByb3RvdHlwZSxcbiAgICAnb3BhY2l0eScsIHtcbiAgICAgIGdldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtID0gdGhpcy5maWx0ZXIubWF0Y2gob3BhY2l0eXJlKTtcbiAgICAgICAgcmV0dXJuIG0gPyAobVsxXSAvIDEwMCkudG9TdHJpbmcoKSA6ICcnO1xuICAgICAgfSxcbiAgICAgIHNldDogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgdGhpcy56b29tID0gMTtcbiAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XG4gICAgICAgIGlmICh2YWx1ZSA8IDEpIHtcbiAgICAgICAgICB2YWx1ZSA9ICcgYWxwaGEob3BhY2l0eT0nICsgTWF0aC5yb3VuZCh2YWx1ZSAqIDEwMCkgKyAnKSc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZpbHRlciA9IHRoaXMuZmlsdGVyLnJlcGxhY2Uob3BhY2l0eXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7IGZvdW5kID0gdHJ1ZTsgcmV0dXJuIHZhbHVlOyB9KTtcbiAgICAgICAgaWYgKCFmb3VuZCAmJiB2YWx1ZSkge1xuICAgICAgICAgIHRoaXMuZmlsdGVyICs9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICApO1xuXG4gIGRlZmluZVByb3BlcnRpZXMoXG4gICAgRWxlbWVudFByb3RvdHlwZSxcbiAgICB7XG4gICAgICAvLyBib251c1xuICAgICAgdGV4dENvbnRlbnQ6IHtcbiAgICAgICAgZ2V0OiBnZXRUZXh0Q29udGVudCxcbiAgICAgICAgc2V0OiBzZXRUZXh0Q29udGVudFxuICAgICAgfSxcbiAgICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL0VsZW1lbnRUcmF2ZXJzYWwvI2ludGVyZmFjZS1lbGVtZW50VHJhdmVyc2FsXG4gICAgICBmaXJzdEVsZW1lbnRDaGlsZDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmb3IodmFyXG4gICAgICAgICAgICBjaGlsZE5vZGVzID0gdGhpcy5jaGlsZE5vZGVzIHx8IFtdLFxuICAgICAgICAgICAgaSA9IDAsIGxlbmd0aCA9IGNoaWxkTm9kZXMubGVuZ3RoO1xuICAgICAgICAgICAgaSA8IGxlbmd0aDsgaSsrXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGROb2Rlc1tpXS5ub2RlVHlwZSA9PSAxKSByZXR1cm4gY2hpbGROb2Rlc1tpXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBsYXN0RWxlbWVudENoaWxkOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZvcih2YXJcbiAgICAgICAgICAgIGNoaWxkTm9kZXMgPSB0aGlzLmNoaWxkTm9kZXMgfHwgW10sXG4gICAgICAgICAgICBpID0gY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAgICAgICAgICBpLS07XG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGROb2Rlc1tpXS5ub2RlVHlwZSA9PSAxKSByZXR1cm4gY2hpbGROb2Rlc1tpXTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBvbmlucHV0OiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLl9vbmlucHV0IHx8IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG9uaW5wdXQpIHtcbiAgICAgICAgICBpZiAodGhpcy5fb25pbnB1dCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCdpbnB1dCcsIHRoaXMuX29uaW5wdXQpO1xuICAgICAgICAgICAgdGhpcy5fb25pbnB1dCA9IG9uaW5wdXQ7XG4gICAgICAgICAgICBpZiAob25pbnB1dCkge1xuICAgICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0Jywgb25pbnB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcHJldmlvdXNFbGVtZW50U2libGluZzoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgcHJldmlvdXNFbGVtZW50U2libGluZyA9IHRoaXMucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICAgIHdoaWxlIChwcmV2aW91c0VsZW1lbnRTaWJsaW5nICYmIHByZXZpb3VzRWxlbWVudFNpYmxpbmcubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50U2libGluZyA9IHByZXZpb3VzRWxlbWVudFNpYmxpbmcucHJldmlvdXNTaWJsaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcHJldmlvdXNFbGVtZW50U2libGluZztcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG5leHRFbGVtZW50U2libGluZzoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgbmV4dEVsZW1lbnRTaWJsaW5nID0gdGhpcy5uZXh0U2libGluZztcbiAgICAgICAgICB3aGlsZSAobmV4dEVsZW1lbnRTaWJsaW5nICYmIG5leHRFbGVtZW50U2libGluZy5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgICAgICBuZXh0RWxlbWVudFNpYmxpbmcgPSBuZXh0RWxlbWVudFNpYmxpbmcubmV4dFNpYmxpbmc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXh0RWxlbWVudFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjaGlsZEVsZW1lbnRDb3VudDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmb3IodmFyXG4gICAgICAgICAgICBjb3VudCA9IDAsXG4gICAgICAgICAgICBjaGlsZE5vZGVzID0gdGhpcy5jaGlsZE5vZGVzIHx8IFtdLFxuICAgICAgICAgICAgaSA9IGNoaWxkTm9kZXMubGVuZ3RoOyBpLS07IGNvdW50ICs9IGNoaWxkTm9kZXNbaV0ubm9kZVR5cGUgPT0gMVxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIGNvdW50O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgLypcbiAgICAgIC8vIGNoaWxkcmVuIHdvdWxkIGJlIGFuIG92ZXJyaWRlXG4gICAgICAvLyBJRTggYWxyZWFkeSBzdXBwb3J0cyB0aGVtIGJ1dCB3aXRoIGNvbW1lbnRzIHRvb1xuICAgICAgLy8gbm90IGp1c3Qgbm9kZVR5cGUgMVxuICAgICAgY2hpbGRyZW46IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZm9yKHZhclxuICAgICAgICAgICAgY2hpbGRyZW4gPSBbXSxcbiAgICAgICAgICAgIGNoaWxkTm9kZXMgPSB0aGlzLmNoaWxkTm9kZXMgfHwgW10sXG4gICAgICAgICAgICBpID0gMCwgbGVuZ3RoID0gY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAgICAgICAgICBpIDwgbGVuZ3RoOyBpKytcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmIChjaGlsZE5vZGVzW2ldLm5vZGVUeXBlID09IDEpIHtcbiAgICAgICAgICAgICAgY2hpbGRyZW4ucHVzaChjaGlsZE5vZGVzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgKi9cbiAgICAgIC8vIERPTSBMZXZlbCAyIEV2ZW50VGFyZ2V0IG1ldGhvZHMgYW5kIGV2ZW50c1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogdmFsdWVEZXNjKGZ1bmN0aW9uICh0eXBlLCBoYW5kbGVyLCBjYXB0dXJlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgaGFuZGxlciAhPT0gJ29iamVjdCcpIHJldHVybjtcbiAgICAgICAgdmFyXG4gICAgICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgb250eXBlID0gJ29uJyArIHR5cGUsXG4gICAgICAgICAgdGVtcGxlID0gIHNlbGZbU0VDUkVUXSB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZiwgU0VDUkVULCB7dmFsdWU6IHt9fVxuICAgICAgICAgICAgICAgICAgICAgIClbU0VDUkVUXSxcbiAgICAgICAgICBjdXJyZW50VHlwZSA9IHRlbXBsZVtvbnR5cGVdIHx8ICh0ZW1wbGVbb250eXBlXSA9IHt9KSxcbiAgICAgICAgICBoYW5kbGVycyAgPSBjdXJyZW50VHlwZS5oIHx8IChjdXJyZW50VHlwZS5oID0gW10pLFxuICAgICAgICAgIGUsIGF0dHJcbiAgICAgICAgO1xuICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwoY3VycmVudFR5cGUsICd3JykpIHtcbiAgICAgICAgICBjdXJyZW50VHlwZS53ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIC8vIGVbU0VDUkVUXSBpcyBhIHNpbGVudCBub3RpZmljYXRpb24gbmVlZGVkIHRvIGF2b2lkXG4gICAgICAgICAgICAvLyBmaXJlZCBldmVudHMgZHVyaW5nIGxpdmUgdGVzdFxuICAgICAgICAgICAgcmV0dXJuIGVbU0VDUkVUXSB8fCBjb21tb25FdmVudExvb3Aoc2VsZiwgdmVyaWZ5KHNlbGYsIGUpLCBoYW5kbGVycywgZmFsc2UpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgLy8gaWYgbm90IGRldGVjdGVkIHlldFxuICAgICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbCh0eXBlcywgb250eXBlKSkge1xuICAgICAgICAgICAgLy8gYW5kIHBvdGVudGlhbGx5IGEgbmF0aXZlIGV2ZW50XG4gICAgICAgICAgICBpZihwb3NzaWJseU5hdGl2ZUV2ZW50LnRlc3QodHlwZSkpIHtcbiAgICAgICAgICAgICAgLy8gZG8gdGhpcyBoZWF2eSB0aGluZ1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE86ICBzaG91bGQgSSBjb25zaWRlciB0YWdOYW1lIHRvbyBzbyB0aGF0XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIElOUFVUW29udHlwZV0gY291bGQgYmUgZGlmZmVyZW50ID9cbiAgICAgICAgICAgICAgICBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QoKTtcbiAgICAgICAgICAgICAgICAvLyBkbyBub3QgY2xvbmUgZXZlciBhIG5vZGVcbiAgICAgICAgICAgICAgICAvLyBzcGVjaWFsbHkgYSBkb2N1bWVudCBvbmUgLi4uXG4gICAgICAgICAgICAgICAgLy8gdXNlIHRoZSBzZWNyZXQgdG8gaWdub3JlIHRoZW0gYWxsXG4gICAgICAgICAgICAgICAgZVtTRUNSRVRdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBkb2N1bWVudCBhIHBhcnQgaWYgYSBub2RlIGhhcyBuZXZlciBiZWVuXG4gICAgICAgICAgICAgICAgLy8gYWRkZWQgdG8gYW55IG90aGVyIG5vZGUsIGZpcmVFdmVudCBtaWdodFxuICAgICAgICAgICAgICAgIC8vIGJlaGF2ZSB2ZXJ5IHdlaXJkbHkgKHJlYWQ6IHRyaWdnZXIgdW5zcGVjaWZpZWQgZXJyb3JzKVxuICAgICAgICAgICAgICAgIGlmIChzZWxmLm5vZGVUeXBlICE9IDkpIHtcbiAgICAgICAgICAgICAgICAgIC8qanNoaW50IGVxbnVsbDp0cnVlICovXG4gICAgICAgICAgICAgICAgICBpZiAoc2VsZi5wYXJlbnROb2RlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZGl2LmFwcGVuZENoaWxkKHNlbGYpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKChhdHRyID0gc2VsZi5nZXRBdHRyaWJ1dGUob250eXBlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQXR0cmlidXRlLmNhbGwoc2VsZiwgb250eXBlKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2VsZi5maXJlRXZlbnQob250eXBlLCBlKTtcbiAgICAgICAgICAgICAgICB0eXBlc1tvbnR5cGVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgfSBjYXRjaChtZWgpIHtcbiAgICAgICAgICAgICAgICB0eXBlc1tvbnR5cGVdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGRpdi5oYXNDaGlsZE5vZGVzKCkpIHtcbiAgICAgICAgICAgICAgICAgIGRpdi5yZW1vdmVDaGlsZChkaXYuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmIChhdHRyICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBzZXRBdHRyaWJ1dGUuY2FsbChzZWxmLCBvbnR5cGUsIGF0dHIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBubyBuZWVkIHRvIGJvdGhlciBzaW5jZVxuICAgICAgICAgICAgICAvLyAneC1ldmVudCcgYWluJ3QgbmF0aXZlIGZvciBzdXJlXG4gICAgICAgICAgICAgIHR5cGVzW29udHlwZV0gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKChjdXJyZW50VHlwZS5uID0gdHlwZXNbb250eXBlXSkpIHtcbiAgICAgICAgICAgIHNlbGYuYXR0YWNoRXZlbnQob250eXBlLCBjdXJyZW50VHlwZS53KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbmQoaGFuZGxlcnMsIGhhbmRsZXIpIDwgMCkge1xuICAgICAgICAgIGhhbmRsZXJzW2NhcHR1cmUgPyAndW5zaGlmdCcgOiAncHVzaCddKGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlID09PSAnaW5wdXQnKSB7XG4gICAgICAgICAgc2VsZi5hdHRhY2hFdmVudCgnb25rZXl1cCcsIG9ua2V5dXApO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIGRpc3BhdGNoRXZlbnQ6IHZhbHVlRGVzYyhmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICBvbnR5cGUgPSAnb24nICsgZS50eXBlLFxuICAgICAgICAgIHRlbXBsZSA9ICBzZWxmW1NFQ1JFVF0sXG4gICAgICAgICAgY3VycmVudFR5cGUgPSB0ZW1wbGUgJiYgdGVtcGxlW29udHlwZV0sXG4gICAgICAgICAgdmFsaWQgPSAhIWN1cnJlbnRUeXBlLFxuICAgICAgICAgIHBhcmVudE5vZGVcbiAgICAgICAgO1xuICAgICAgICBpZiAoIWUudGFyZ2V0KSBlLnRhcmdldCA9IHNlbGY7XG4gICAgICAgIHJldHVybiAodmFsaWQgPyAoXG4gICAgICAgICAgY3VycmVudFR5cGUubiAvKiAmJiBsaXZlKHNlbGYpICovID9cbiAgICAgICAgICAgIHNlbGYuZmlyZUV2ZW50KG9udHlwZSwgZSkgOlxuICAgICAgICAgICAgY29tbW9uRXZlbnRMb29wKFxuICAgICAgICAgICAgICBzZWxmLFxuICAgICAgICAgICAgICBlLFxuICAgICAgICAgICAgICBjdXJyZW50VHlwZS5oLFxuICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICApXG4gICAgICAgICkgOiAoXG4gICAgICAgICAgKHBhcmVudE5vZGUgPSBzZWxmLnBhcmVudE5vZGUpIC8qICYmIGxpdmUoc2VsZikgKi8gP1xuICAgICAgICAgICAgcGFyZW50Tm9kZS5kaXNwYXRjaEV2ZW50KGUpIDpcbiAgICAgICAgICAgIHRydWVcbiAgICAgICAgKSksICFlLmRlZmF1bHRQcmV2ZW50ZWQ7XG4gICAgICB9KSxcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IHZhbHVlRGVzYyhmdW5jdGlvbiAodHlwZSwgaGFuZGxlciwgY2FwdHVyZSkge1xuICAgICAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGhhbmRsZXIgIT09ICdvYmplY3QnKSByZXR1cm47XG4gICAgICAgIHZhclxuICAgICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICAgIG9udHlwZSA9ICdvbicgKyB0eXBlLFxuICAgICAgICAgIHRlbXBsZSA9ICBzZWxmW1NFQ1JFVF0sXG4gICAgICAgICAgY3VycmVudFR5cGUgPSB0ZW1wbGUgJiYgdGVtcGxlW29udHlwZV0sXG4gICAgICAgICAgaGFuZGxlcnMgPSBjdXJyZW50VHlwZSAmJiBjdXJyZW50VHlwZS5oLFxuICAgICAgICAgIGkgPSBoYW5kbGVycyA/IGZpbmQoaGFuZGxlcnMsIGhhbmRsZXIpIDogLTFcbiAgICAgICAgO1xuICAgICAgICBpZiAoLTEgPCBpKSBoYW5kbGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICB9KVxuICAgIH1cbiAgKTtcblxuICAvKiB0aGlzIGlzIG5vdCBuZWVkZWQgaW4gSUU4XG4gIGRlZmluZVByb3BlcnRpZXMod2luZG93LkhUTUxTZWxlY3RFbGVtZW50LnByb3RvdHlwZSwge1xuICAgIHZhbHVlOiB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc1t0aGlzLnNlbGVjdGVkSW5kZXhdLnZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIC8vKi9cblxuICAvLyBFdmVudFRhcmdldCBtZXRob2RzIGZvciBUZXh0IG5vZGVzIHRvb1xuICBkZWZpbmVQcm9wZXJ0aWVzKFRleHRQcm90b3R5cGUsIHtcbiAgICBhZGRFdmVudExpc3RlbmVyOiB2YWx1ZURlc2MoRWxlbWVudFByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyKSxcbiAgICBkaXNwYXRjaEV2ZW50OiB2YWx1ZURlc2MoRWxlbWVudFByb3RvdHlwZS5kaXNwYXRjaEV2ZW50KSxcbiAgICByZW1vdmVFdmVudExpc3RlbmVyOiB2YWx1ZURlc2MoRWxlbWVudFByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyKVxuICB9KTtcblxuICBkZWZpbmVQcm9wZXJ0aWVzKFxuICAgIHdpbmRvdy5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUsXG4gICAge1xuICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogdmFsdWVEZXNjKGZ1bmN0aW9uICh0eXBlLCBoYW5kbGVyLCBjYXB0dXJlKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICAgIG9udHlwZSA9ICdvbicgKyB0eXBlLFxuICAgICAgICAgIHRlbXBsZSA9ICBzZWxmW1NFQ1JFVF0gfHxcbiAgICAgICAgICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYsIFNFQ1JFVCwge3ZhbHVlOiB7fX1cbiAgICAgICAgICAgICAgICAgICAgICApW1NFQ1JFVF0sXG4gICAgICAgICAgY3VycmVudFR5cGUgPSB0ZW1wbGVbb250eXBlXSB8fCAodGVtcGxlW29udHlwZV0gPSB7fSksXG4gICAgICAgICAgaGFuZGxlcnMgID0gY3VycmVudFR5cGUuaCB8fCAoY3VycmVudFR5cGUuaCA9IFtdKVxuICAgICAgICA7XG4gICAgICAgIGlmIChmaW5kKGhhbmRsZXJzLCBoYW5kbGVyKSA8IDApIHtcbiAgICAgICAgICBpZiAoIXNlbGZbb250eXBlXSkge1xuICAgICAgICAgICAgc2VsZltvbnR5cGVdID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgICAgICAgICBlLmluaXRFdmVudCh0eXBlLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgc2VsZi5kaXNwYXRjaEV2ZW50KGUpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaGFuZGxlcnNbY2FwdHVyZSA/ICd1bnNoaWZ0JyA6ICdwdXNoJ10oaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgZGlzcGF0Y2hFdmVudDogdmFsdWVEZXNjKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICAgIG9udHlwZSA9ICdvbicgKyBlLnR5cGUsXG4gICAgICAgICAgdGVtcGxlID0gIHNlbGZbU0VDUkVUXSxcbiAgICAgICAgICBjdXJyZW50VHlwZSA9IHRlbXBsZSAmJiB0ZW1wbGVbb250eXBlXSxcbiAgICAgICAgICB2YWxpZCA9ICEhY3VycmVudFR5cGVcbiAgICAgICAgO1xuICAgICAgICByZXR1cm4gdmFsaWQgJiYgKFxuICAgICAgICAgIGN1cnJlbnRUeXBlLm4gLyogJiYgbGl2ZShzZWxmKSAqLyA/XG4gICAgICAgICAgICBzZWxmLmZpcmVFdmVudChvbnR5cGUsIGUpIDpcbiAgICAgICAgICAgIGNvbW1vbkV2ZW50TG9vcChcbiAgICAgICAgICAgICAgc2VsZixcbiAgICAgICAgICAgICAgZSxcbiAgICAgICAgICAgICAgY3VycmVudFR5cGUuaCxcbiAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgfSksXG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyOiB2YWx1ZURlc2MoRWxlbWVudFByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyKVxuICAgIH1cbiAgKTtcblxuICB2YXIgYnV0dG9uR2V0dGVyID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEV2ZW50LnByb3RvdHlwZSwgJ2J1dHRvbicpLmdldDtcbiAgZGVmaW5lUHJvcGVydGllcyhcbiAgICB3aW5kb3cuRXZlbnQucHJvdG90eXBlLFxuICAgIHtcbiAgICAgIGJ1YmJsZXM6IHZhbHVlRGVzYyh0cnVlKSxcbiAgICAgIGNhbmNlbGFibGU6IHZhbHVlRGVzYyh0cnVlKSxcbiAgICAgIHByZXZlbnREZWZhdWx0OiB2YWx1ZURlc2MoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jYW5jZWxhYmxlKSB7XG4gICAgICAgICAgdGhpcy5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIHN0b3BQcm9wYWdhdGlvbjogdmFsdWVEZXNjKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdG9wcGVkUHJvcGFnYXRpb24gPSB0cnVlO1xuICAgICAgICB0aGlzLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgICB9KSxcbiAgICAgIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbjogdmFsdWVEZXNjKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zdG9wcGVkSW1tZWRpYXRlUHJvcGFnYXRpb24gPSB0cnVlO1xuICAgICAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgfSksXG4gICAgICBpbml0RXZlbnQ6IHZhbHVlRGVzYyhmdW5jdGlvbih0eXBlLCBidWJibGVzLCBjYW5jZWxhYmxlKXtcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5idWJibGVzID0gISFidWJibGVzO1xuICAgICAgICB0aGlzLmNhbmNlbGFibGUgPSAhIWNhbmNlbGFibGU7XG4gICAgICAgIGlmICghdGhpcy5idWJibGVzKSB7XG4gICAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBwYWdlWDoge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXMuX3BhZ2VYIHx8ICh0aGlzLl9wYWdlWCA9IHRoaXMuY2xpZW50WCArIHdpbmRvdy5zY3JvbGxYIC0gKGh0bWwuY2xpZW50TGVmdCB8fCAwKSk7IH19LFxuICAgICAgcGFnZVk6IHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzLl9wYWdlWSB8fCAodGhpcy5fcGFnZVkgPSB0aGlzLmNsaWVudFkgKyB3aW5kb3cuc2Nyb2xsWSAtIChodG1sLmNsaWVudFRvcCB8fCAwKSk7IH19LFxuICAgICAgd2hpY2g6IHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzLmtleUNvZGUgPyB0aGlzLmtleUNvZGUgOiAoaXNOYU4odGhpcy5idXR0b24pID8gdW5kZWZpbmVkIDogdGhpcy5idXR0b24gKyAxKTsgfX0sXG4gICAgICBjaGFyQ29kZToge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuICh0aGlzLmtleUNvZGUgJiYgdGhpcy50eXBlID09ICdrZXlwcmVzcycpID8gdGhpcy5rZXlDb2RlIDogMDsgfX0sXG4gICAgICBidXR0b25zOiB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gYnV0dG9uR2V0dGVyLmNhbGwodGhpcyk7IH19LFxuICAgICAgYnV0dG9uOiB7Z2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGJ1dHRvbnMgPSB0aGlzLmJ1dHRvbnM7XG4gICAgICAgIHJldHVybiAoYnV0dG9ucyAmIDEgPyAwIDogKGJ1dHRvbnMgJiAyID8gMiA6IChidXR0b25zICYgNCA/IDEgOiB1bmRlZmluZWQpKSk7XG4gICAgICB9fSxcbiAgICAgIGRlZmF1bHRQcmV2ZW50ZWQ6IHtnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBpZiBwcmV2ZW50RGVmYXVsdCgpIHdhcyBuZXZlciBjYWxsZWQsIG9yIHJldHVyblZhbHVlIG5vdCBnaXZlbiBhIHZhbHVlXG4gICAgICAgIC8vIHRoZW4gcmV0dXJuVmFsdWUgaXMgdW5kZWZpbmVkXG4gICAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHRoaXMucmV0dXJuVmFsdWUsIHVuZGVmO1xuICAgICAgICByZXR1cm4gIShyZXR1cm5WYWx1ZSA9PT0gdW5kZWYgfHwgcmV0dXJuVmFsdWUpO1xuICAgICAgfX0sXG4gICAgICByZWxhdGVkVGFyZ2V0OiB7Z2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHR5cGUgPSB0aGlzLnR5cGU7XG4gICAgICAgIGlmICh0eXBlID09PSAnbW91c2VvdmVyJykge1xuICAgICAgICAgIHJldHVybiB0aGlzLmZyb21FbGVtZW50O1xuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdtb3VzZW91dCcpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy50b0VsZW1lbnQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH19XG4gICAgfVxuICApO1xuXG4gIGRlZmluZVByb3BlcnRpZXMoXG4gICAgd2luZG93LkhUTUxEb2N1bWVudC5wcm90b3R5cGUsXG4gICAge1xuICAgICAgZGVmYXVsdFZpZXc6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMucGFyZW50V2luZG93O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgdGV4dENvbnRlbnQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubm9kZVR5cGUgPT09IDExID8gZ2V0VGV4dENvbnRlbnQuY2FsbCh0aGlzKSA6IG51bGw7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHRleHRDb250ZW50KSB7XG4gICAgICAgICAgaWYgKHRoaXMubm9kZVR5cGUgPT09IDExKSB7XG4gICAgICAgICAgICBzZXRUZXh0Q29udGVudC5jYWxsKHRoaXMsIHRleHRDb250ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBhZGRFdmVudExpc3RlbmVyOiB2YWx1ZURlc2MoZnVuY3Rpb24odHlwZSwgaGFuZGxlciwgY2FwdHVyZSkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIEVsZW1lbnRQcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lci5jYWxsKHNlbGYsIHR5cGUsIGhhbmRsZXIsIGNhcHR1cmUpO1xuICAgICAgICAvLyBOT1RFOiAgaXQgd29uJ3QgZmlyZSBpZiBhbHJlYWR5IGxvYWRlZCwgdGhpcyBpcyBOT1QgYSAkLnJlYWR5KCkgc2hpbSFcbiAgICAgICAgLy8gICAgICAgIHRoaXMgYmVoYXZlcyBqdXN0IGxpa2Ugc3RhbmRhcmQgYnJvd3NlcnNcbiAgICAgICAgaWYgKFxuICAgICAgICAgIERVTk5PQUJPVVRET01MT0FERUQgJiZcbiAgICAgICAgICB0eXBlID09PSBET01DT05URU5UTE9BREVEICYmXG4gICAgICAgICAgIXJlYWR5U3RhdGVPSy50ZXN0KFxuICAgICAgICAgICAgc2VsZi5yZWFkeVN0YXRlXG4gICAgICAgICAgKVxuICAgICAgICApIHtcbiAgICAgICAgICBEVU5OT0FCT1VURE9NTE9BREVEID0gZmFsc2U7XG4gICAgICAgICAgc2VsZi5hdHRhY2hFdmVudChPTlJFQURZU1RBVEVDSEFOR0UsIG9uUmVhZHlTdGF0ZSk7XG4gICAgICAgICAgLyogZ2xvYmFsIHRvcCAqL1xuICAgICAgICAgIGlmICh3aW5kb3cgPT0gdG9wKSB7XG4gICAgICAgICAgICAoZnVuY3Rpb24gZ29ubmEoZSl7dHJ5e1xuICAgICAgICAgICAgICBzZWxmLmRvY3VtZW50RWxlbWVudC5kb1Njcm9sbCgnbGVmdCcpO1xuICAgICAgICAgICAgICBvblJlYWR5U3RhdGUoKTtcbiAgICAgICAgICAgICAgfWNhdGNoKG9fTyl7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZ29ubmEsIDUwKTtcbiAgICAgICAgICAgIH19KCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBkaXNwYXRjaEV2ZW50OiB2YWx1ZURlc2MoRWxlbWVudFByb3RvdHlwZS5kaXNwYXRjaEV2ZW50KSxcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IHZhbHVlRGVzYyhFbGVtZW50UHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIpLFxuICAgICAgY3JlYXRlRXZlbnQ6IHZhbHVlRGVzYyhmdW5jdGlvbihDbGFzcyl7XG4gICAgICAgIHZhciBlO1xuICAgICAgICBpZiAoQ2xhc3MgIT09ICdFdmVudCcpIHRocm93IG5ldyBFcnJvcigndW5zdXBwb3J0ZWQgJyArIENsYXNzKTtcbiAgICAgICAgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCk7XG4gICAgICAgIGUudGltZVN0YW1wID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgICB9KVxuICAgIH1cbiAgKTtcblxuICBkZWZpbmVQcm9wZXJ0aWVzKFxuICAgIHdpbmRvdy5XaW5kb3cucHJvdG90eXBlLFxuICAgIHtcbiAgICAgIGdldENvbXB1dGVkU3R5bGU6IHZhbHVlRGVzYyhmdW5jdGlvbigpe1xuXG4gICAgICAgIHZhciAvLyBwYXJ0aWFsbHkgZ3JhYmJlZCBmcm9tIGpRdWVyeSBhbmQgRGVhbidzIGhhY2tcbiAgICAgICAgICBub3RwaXhlbCA9IC9eKD86WystXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVsrLV0/XFxkK3wpKSg/IXB4KVthLXolXSskLyxcbiAgICAgICAgICBwb3NpdGlvbiA9IC9eKHRvcHxyaWdodHxib3R0b218bGVmdCkkLyxcbiAgICAgICAgICByZSA9IC9cXC0oW2Etel0pL2csXG4gICAgICAgICAgcGxhY2UgPSBmdW5jdGlvbiAobWF0Y2gsICQxKSB7XG4gICAgICAgICAgICByZXR1cm4gJDEudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIDtcblxuICAgICAgICBmdW5jdGlvbiBDb21wdXRlZFN0eWxlKF8pIHtcbiAgICAgICAgICB0aGlzLl8gPSBfO1xuICAgICAgICB9XG5cbiAgICAgICAgQ29tcHV0ZWRTdHlsZS5wcm90b3R5cGUuZ2V0UHJvcGVydHlWYWx1ZSA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgdmFyXG4gICAgICAgICAgICBlbCA9IHRoaXMuXyxcbiAgICAgICAgICAgIHN0eWxlID0gZWwuc3R5bGUsXG4gICAgICAgICAgICBjdXJyZW50U3R5bGUgPSBlbC5jdXJyZW50U3R5bGUsXG4gICAgICAgICAgICBydW50aW1lU3R5bGUgPSBlbC5ydW50aW1lU3R5bGUsXG4gICAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgICBsZWZ0LFxuICAgICAgICAgICAgcnRMZWZ0XG4gICAgICAgICAgO1xuICAgICAgICAgIGlmIChuYW1lID09ICdvcGFjaXR5Jykge1xuICAgICAgICAgICAgcmV0dXJuIHN0eWxlLm9wYWNpdHkgfHwgJzEnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuYW1lID0gKG5hbWUgPT09ICdmbG9hdCcgPyAnc3R5bGUtZmxvYXQnIDogbmFtZSkucmVwbGFjZShyZSwgcGxhY2UpO1xuICAgICAgICAgIHJlc3VsdCA9IGN1cnJlbnRTdHlsZSA/IGN1cnJlbnRTdHlsZVtuYW1lXSA6IHN0eWxlW25hbWVdO1xuICAgICAgICAgIGlmIChub3RwaXhlbC50ZXN0KHJlc3VsdCkgJiYgIXBvc2l0aW9uLnRlc3QobmFtZSkpIHtcbiAgICAgICAgICAgIGxlZnQgPSBzdHlsZS5sZWZ0O1xuICAgICAgICAgICAgcnRMZWZ0ID0gcnVudGltZVN0eWxlICYmIHJ1bnRpbWVTdHlsZS5sZWZ0O1xuICAgICAgICAgICAgaWYgKHJ0TGVmdCkge1xuICAgICAgICAgICAgICBydW50aW1lU3R5bGUubGVmdCA9IGN1cnJlbnRTdHlsZS5sZWZ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3R5bGUubGVmdCA9IG5hbWUgPT09ICdmb250U2l6ZScgPyAnMWVtJyA6IHJlc3VsdDtcbiAgICAgICAgICAgIHJlc3VsdCA9IHN0eWxlLnBpeGVsTGVmdCArICdweCc7XG4gICAgICAgICAgICBzdHlsZS5sZWZ0ID0gbGVmdDtcbiAgICAgICAgICAgIGlmIChydExlZnQpIHtcbiAgICAgICAgICAgICAgcnVudGltZVN0eWxlLmxlZnQgPSBydExlZnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIC8qanNoaW50IGVxbnVsbDp0cnVlICovXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdCA9PSBudWxsID9cbiAgICAgICAgICAgIHJlc3VsdCA6ICgocmVzdWx0ICsgJycpIHx8ICdhdXRvJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gdW5zdXBwb3J0ZWRcbiAgICAgICAgZnVuY3Rpb24gUHNldWRvQ29tcHV0ZWRTdHlsZSgpIHt9XG4gICAgICAgIFBzZXVkb0NvbXB1dGVkU3R5bGUucHJvdG90eXBlLmdldFByb3BlcnR5VmFsdWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlbCwgcHNldWRvKSB7XG4gICAgICAgICAgcmV0dXJuIHBzZXVkbyA/XG4gICAgICAgICAgICBuZXcgUHNldWRvQ29tcHV0ZWRTdHlsZShlbCkgOlxuICAgICAgICAgICAgbmV3IENvbXB1dGVkU3R5bGUoZWwpO1xuICAgICAgICB9O1xuXG4gICAgICB9KCkpLFxuXG4gICAgICBhZGRFdmVudExpc3RlbmVyOiB2YWx1ZURlc2MoZnVuY3Rpb24gKHR5cGUsIGhhbmRsZXIsIGNhcHR1cmUpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgc2VsZiA9IHdpbmRvdyxcbiAgICAgICAgICBvbnR5cGUgPSAnb24nICsgdHlwZSxcbiAgICAgICAgICBoYW5kbGVyc1xuICAgICAgICA7XG4gICAgICAgIGlmICghc2VsZltvbnR5cGVdKSB7XG4gICAgICAgICAgc2VsZltvbnR5cGVdID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgcmV0dXJuIGNvbW1vbkV2ZW50TG9vcChzZWxmLCB2ZXJpZnkoc2VsZiwgZSksIGhhbmRsZXJzLCBmYWxzZSkgJiYgdW5kZWZpbmVkO1xuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaGFuZGxlcnMgPSBzZWxmW29udHlwZV1bU0VDUkVUXSB8fCAoXG4gICAgICAgICAgc2VsZltvbnR5cGVdW1NFQ1JFVF0gPSBbXVxuICAgICAgICApO1xuICAgICAgICBpZiAoZmluZChoYW5kbGVycywgaGFuZGxlcikgPCAwKSB7XG4gICAgICAgICAgaGFuZGxlcnNbY2FwdHVyZSA/ICd1bnNoaWZ0JyA6ICdwdXNoJ10oaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgZGlzcGF0Y2hFdmVudDogdmFsdWVEZXNjKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBtZXRob2QgPSB3aW5kb3dbJ29uJyArIGUudHlwZV07XG4gICAgICAgIHJldHVybiBtZXRob2QgPyBtZXRob2QuY2FsbCh3aW5kb3csIGUpICE9PSBmYWxzZSAmJiAhZS5kZWZhdWx0UHJldmVudGVkIDogdHJ1ZTtcbiAgICAgIH0pLFxuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogdmFsdWVEZXNjKGZ1bmN0aW9uICh0eXBlLCBoYW5kbGVyLCBjYXB0dXJlKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgIG9udHlwZSA9ICdvbicgKyB0eXBlLFxuICAgICAgICAgIGhhbmRsZXJzID0gKHdpbmRvd1tvbnR5cGVdIHx8IE9iamVjdClbU0VDUkVUXSxcbiAgICAgICAgICBpID0gaGFuZGxlcnMgPyBmaW5kKGhhbmRsZXJzLCBoYW5kbGVyKSA6IC0xXG4gICAgICAgICA7XG4gICAgICAgIGlmICgtMSA8IGkpIGhhbmRsZXJzLnNwbGljZShpLCAxKTtcbiAgICAgIH0pLFxuICAgICAgcGFnZVhPZmZzZXQ6IHtnZXQ6IGdldHRlcignc2Nyb2xsTGVmdCcpfSxcbiAgICAgIHBhZ2VZT2Zmc2V0OiB7Z2V0OiBnZXR0ZXIoJ3Njcm9sbFRvcCcpfSxcbiAgICAgIHNjcm9sbFg6IHtnZXQ6IGdldHRlcignc2Nyb2xsTGVmdCcpfSxcbiAgICAgIHNjcm9sbFk6IHtnZXQ6IGdldHRlcignc2Nyb2xsVG9wJyl9LFxuICAgICAgaW5uZXJXaWR0aDoge2dldDogZ2V0dGVyKCdjbGllbnRXaWR0aCcpfSxcbiAgICAgIGlubmVySGVpZ2h0OiB7Z2V0OiBnZXR0ZXIoJ2NsaWVudEhlaWdodCcpfVxuICAgIH1cbiAgKTtcblxuICB3aW5kb3cuSFRNTEVsZW1lbnQgPSB3aW5kb3cuRWxlbWVudDtcblxuICAoZnVuY3Rpb24gKHN0eWxlU2hlZXRzLCBIVE1MNUVsZW1lbnQsIGkpIHtcbiAgICBmb3IgKGkgPSAwOyBpIDwgSFRNTDVFbGVtZW50Lmxlbmd0aDsgaSsrKSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KEhUTUw1RWxlbWVudFtpXSk7XG4gICAgaWYgKCFzdHlsZVNoZWV0cy5sZW5ndGgpIGRvY3VtZW50LmNyZWF0ZVN0eWxlU2hlZXQoJycpO1xuICAgIHN0eWxlU2hlZXRzWzBdLmFkZFJ1bGUoSFRNTDVFbGVtZW50LmpvaW4oJywnKSwgJ2Rpc3BsYXk6YmxvY2s7Jyk7XG4gIH0oZG9jdW1lbnQuc3R5bGVTaGVldHMsIFsnaGVhZGVyJywgJ25hdicsICdzZWN0aW9uJywgJ2FydGljbGUnLCAnYXNpZGUnLCAnZm9vdGVyJ10pKTtcbn0odGhpcy53aW5kb3cgfHwgZ2xvYmFsKSk7IiwiLy9cbi8vIHJlcXVlc3RBbmltYXRpb25GcmFtZSBwb2x5ZmlsbCBieSBFcmlrIE3DtmxsZXIuXG4vLyAgV2l0aCBmaXhlcyBmcm9tIFBhdWwgSXJpc2ggYW5kIFRpbm8gWmlqZGVsXG4vL1xuLy8gIGh0dHA6Ly9wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvXG4vLyAgaHR0cDovL215Lm9wZXJhLmNvbS9lbW9sbGVyL2Jsb2cvMjAxMS8xMi8yMC9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWVyLWFuaW1hdGluZ1xuLy9cbi8vICBNSVQgbGljZW5zZVxuLy9cbihmdW5jdGlvbigpIHtcbiAgICB2YXIgbGFzdFRpbWUgPSAwO1xuICAgIHZhciB2ZW5kb3JzID0gWyd3ZWJraXQnLCAnbW96J107XG4gICAgZm9yICh2YXIgeCA9IDA7IHggPCB2ZW5kb3JzLmxlbmd0aCAmJiAhd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZTsgKyt4KSB7XG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3dbdmVuZG9yc1t4XSArICdSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID1cbiAgICAgICAgICAgIHdpbmRvd1t2ZW5kb3JzW3hdICsgJ0NhbmNlbEFuaW1hdGlvbkZyYW1lJ10gfHwgd2luZG93W3ZlbmRvcnNbeF0gKyAnQ2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG4gICAgfVxuXG4gICAgaWYgKCF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKVxuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHZhciBjdXJyVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgdmFyIHRpbWVUb0NhbGwgPSBNYXRoLm1heCgwLCAxNiAtIChjdXJyVGltZSAtIGxhc3RUaW1lKSk7XG4gICAgICAgICAgICB2YXIgaWQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhjdXJyVGltZSArIHRpbWVUb0NhbGwpO1xuICAgICAgICAgICAgfSwgdGltZVRvQ2FsbCk7XG4gICAgICAgICAgICBsYXN0VGltZSA9IGN1cnJUaW1lICsgdGltZVRvQ2FsbDtcbiAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgfTtcblxuICAgIGlmICghd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKVxuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihpZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcbiAgICAgICAgfTtcbn0oKSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGFwaTtcbiAgICAoZnVuY3Rpb24gKGFwaSkge1xuICAgICAgICB2YXIgYXV0aDtcbiAgICAgICAgKGZ1bmN0aW9uIChhdXRoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiB2YWxpZGF0ZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBpLnJlcXVlc3QoXCJhdXRoL3ZhbGlkYXRlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXV0aC52YWxpZGF0ZSA9IHZhbGlkYXRlO1xuICAgICAgICB9KShhdXRoID0gYXBpLmF1dGggfHwgKGFwaS5hdXRoID0ge30pKTtcbiAgICB9KShhcGkgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgYXBpO1xuICAgIChmdW5jdGlvbiAoYXBpKSB7XG4gICAgICAgIHZhciBzZXR0aW5ncztcbiAgICAgICAgKGZ1bmN0aW9uIChzZXR0aW5nc18xKSB7XG4gICAgICAgICAgICB2YXIgZGVmYXVsdFNldHRpbmdzID0ge1xuICAgICAgICAgICAgICAgIEVuYWJsZVNoYXJpbmc6IHRydWUsXG4gICAgICAgICAgICAgICAgU3VzcGVuc2lvblJhbmdlczoge1xuICAgICAgICAgICAgICAgICAgICBEZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNaW46IC00LFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF4OiAwXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFRydWNrNFdEOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNaW46IC00LFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF4OiA0XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFZhbjRXRDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgTWluOiAtNCxcbiAgICAgICAgICAgICAgICAgICAgICAgIE1heDogNFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBVc2VSYXdUaXJlRGVzY3JpcHRpb246IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0U2V0dGluZ3MoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oYXBpLnJlcXVlc3QoXCJvcmdhbml6YXRpb24vZ2V0c2V0dGluZ3NcIiwge1xuICAgICAgICAgICAgICAgICAgICBLZXlzOiBbJ0VOQUJMRV9TSEFSSU5HJywgJ1NVU1BFTlNJT05fUkFOR0VTJywgJ1JBV1RJUkVERVNDJ11cbiAgICAgICAgICAgICAgICB9KSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZXR0aW5ncyA9IHJlc3BvbnNlLlNldHRpbmdzO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNldHRpbmdzKSByZXR1cm4gZGVmYXVsdFNldHRpbmdzO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgRW5hYmxlU2hhcmluZzogcGFyc2VCb29sZWFuKHNldHRpbmdzW1wiRU5BQkxFX1NIQVJJTkdcIl0gfHwgZGVmYXVsdFNldHRpbmdzLkVuYWJsZVNoYXJpbmcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgU3VzcGVuc2lvblJhbmdlczogcGFyc2VTdXNwZW5zaW9uUmFuZ2VzKHNldHRpbmdzW1wiU1VTUEVOU0lPTl9SQU5HRVNcIl0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgVXNlUmF3VGlyZURlc2NyaXB0aW9uOiBwYXJzZUJvb2xlYW4oc2V0dGluZ3NbXCJSQVdUSVJFREVTQ1wiXSB8fCBkZWZhdWx0U2V0dGluZ3MuVXNlUmF3VGlyZURlc2NyaXB0aW9uKVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0dGluZ3NfMS5nZXRTZXR0aW5ncyA9IGdldFNldHRpbmdzO1xuICAgICAgICAgICAgZnVuY3Rpb24gcGFyc2VCb29sZWFuKGJvb2xlYW4pIHtcbiAgICAgICAgICAgICAgICAvLyBOb3QgYSBzdHJpbmcsIG9yIGFuIGVtcHR5IHN0cmluZywgcmV0dXJuIHRydWUgb3IgZmFsc2VcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGJvb2xlYW4gIT09ICdzdHJpbmcnIHx8ICFib29sZWFuKSByZXR1cm4gISFib29sZWFuO1xuICAgICAgICAgICAgICAgIHZhciBmaXJzdENoYXIgPSBib29sZWFuWzBdO1xuICAgICAgICAgICAgICAgIC8vIFRydWUgaXM6IHRoZSBmaXJzdCBjaGFyIGJlaW5nIHVwcGVyY2FzZS9sb3dlcmNhc2UgVCBvciBZXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0Q2hhciA9PT0gJ3knIHx8IGZpcnN0Q2hhciA9PT0gJ1knIHx8IGZpcnN0Q2hhciA9PT0gJ3QnIHx8IGZpcnN0Q2hhciA9PT0gJ1QnKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBGYWxzZSBpcyBldmVyeXRoaW5nIGVsc2VcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBwYXJzZVN1c3BlbnNpb25SYW5nZXMoc3VzcGVuc2lvblJhbmdlc1NldHRpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXN1c3BlbnNpb25SYW5nZXNTZXR0aW5nKSByZXR1cm4gZGVmYXVsdFNldHRpbmdzLlN1c3BlbnNpb25SYW5nZXM7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1c3BlbnNpb25SYW5nZXMgPSBKU09OLnBhcnNlKHN1c3BlbnNpb25SYW5nZXNTZXR0aW5nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1c3BlbnNpb25SYW5nZXM7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGVmYXVsdFNldHRpbmdzLlN1c3BlbnNpb25SYW5nZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KShzZXR0aW5ncyA9IGFwaS5zZXR0aW5ncyB8fCAoYXBpLnNldHRpbmdzID0ge30pKTtcbiAgICB9KShhcGkgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgYXBpID0gdm9pZCAwO1xuICAgIChmdW5jdGlvbiAoYXBpKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbml0aWFsaXplIHRoZSBSaWRlU3R5bGVyIEFQSSBieSBwYXNzaW5nIGluIGEgdXNlci9wYXNzd29yZCBjb21iaW5hdGlvbiwgYSB1c2VyIHRva2VuLCBvciBhIGtleS5cbiAgICAgICAgICogQHBhcmFtIHNldHRpbmdzIFRoZSBBUEkgaW5pdGlhbGl6YXRpb24gc2V0dGluZ3NcbiAgICAgICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgaXMgcmVzb2x2ZWQgKG9yIHJlamVjdGVkKSB3aGVuIHRoZSBBUEkgaXMgYXV0aGVudGljYXRlZCAob3IgZmFpbHMgYXV0aGVudGljYXRpb24pXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBpbml0aWFsaXplKHNldHRpbmdzKSB7XG4gICAgICAgICAgICAvLyBJZiBhdXRoZW50aWNhdGlvbiBpbmZvcm1hdGlvbiB3YXMgcGFzc2VkIGluLCBsZXQncyB1c2UgdGhhdFxuICAgICAgICAgICAgaWYgKHNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCd1c2VybmFtZScgaW4gc2V0dGluZ3MgJiYgJ3Bhc3N3b3JkJyBpbiBzZXR0aW5ncykge1xuICAgICAgICAgICAgICAgICAgICAvLyBMb2dpbiB1c2luZyBhIHVzZXJuYW1lIGFuZCBwYXNzd29yZFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgICAgICAgICAgICAgICByaWRlc3R5bGVyLmF1dGguc3RhcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFVzZXJuYW1lOiBzZXR0aW5ncy51c2VybmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBQYXNzd29yZDogc2V0dGluZ3MucGFzc3dvcmRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2socmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuU3VjY2VzcykgYXBpLmF1dGhlbnRpY2F0ZWQucmVzb2x2ZSgpO2Vsc2UgYXBpLmF1dGhlbnRpY2F0ZWQucmVqZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGNhbGxpbmcgdmFsaWRhdGUgYmVsb3dcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJ3Rva2VuJyBpbiBzZXR0aW5ncyB8fCAna2V5JyBpbiBzZXR0aW5ncykge1xuICAgICAgICAgICAgICAgICAgICAvLyBMb2dpbiB1c2luZyBhIGtleSBvciB0b2tlblxuICAgICAgICAgICAgICAgICAgICByaWRlc3R5bGVyLmF1dGguc2V0KHNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBWYWxpZGF0ZSB0aGUgdXNlcidzIGtleSBvciB0b2tlblxuICAgICAgICAgICAgYXBpLmF1dGgudmFsaWRhdGUoKS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gcmlkZXN0eWxlci5hamF4LnVybCgnJywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICBpZiAoL1xcL2FwaS1hbHBoYVxcLi9pLnRlc3QodXJsKSkgYXBpLmVudmlyb25tZW50ID0gRW52aXJvbm1lbnQuQWxwaGE7ZWxzZSBpZiAoL1xcL2FwaS1iZXRhXFwuL2kudGVzdCh1cmwpKSBhcGkuZW52aXJvbm1lbnQgPSBFbnZpcm9ubWVudC5CZXRhO2Vsc2UgaWYgKC9cXC9hcGlcXC4vaS50ZXN0KHVybCkpIGFwaS5lbnZpcm9ubWVudCA9IEVudmlyb25tZW50LkxpdmU7ZWxzZSBhcGkuZW52aXJvbm1lbnQgPSBFbnZpcm9ubWVudC5PdGhlcjtcbiAgICAgICAgICAgICAgICBhcGkuYXV0aGVudGljYXRlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBpLmF1dGhlbnRpY2F0ZWQucmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBhcGkuYXV0aGVudGljYXRlZDtcbiAgICAgICAgfVxuICAgICAgICBhcGkuaW5pdGlhbGl6ZSA9IGluaXRpYWxpemU7XG4gICAgICAgIGFwaS5hdXRoZW50aWNhdGVkID0gcmlkZXN0eWxlci5wcm9taXNlKCk7XG4gICAgICAgIGZ1bmN0aW9uIGlzQXV0aGVudGljYXRlZCgpIHtcbiAgICAgICAgICAgIHJldHVybiBhcGkuYXV0aGVudGljYXRlZC5zdGF0ZSgpID09PSAxIC8qIFJlc29sdmVkICovO1xuICAgICAgICB9XG4gICAgICAgIGFwaS5pc0F1dGhlbnRpY2F0ZWQgPSBpc0F1dGhlbnRpY2F0ZWQ7XG4gICAgICAgIGZ1bmN0aW9uIGFmdGVyQXV0aGVudGljYXRlZChjYWxsYmFjaykge1xuICAgICAgICAgICAgaWYgKGlzQXV0aGVudGljYXRlZCgpKSBjYWxsYmFjaygpO2Vsc2UgYXBpLmF1dGhlbnRpY2F0ZWQuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBhcGkuYWZ0ZXJBdXRoZW50aWNhdGVkID0gYWZ0ZXJBdXRoZW50aWNhdGVkO1xuICAgICAgICBmdW5jdGlvbiByZXF1ZXN0KGFjdGlvbiwgZGF0YSkge1xuICAgICAgICAgICAgdmFyIHByb21pc2UgPSByaWRlc3R5bGVyLnByb21pc2UoKTtcbiAgICAgICAgICAgIHJpZGVzdHlsZXIuYWpheC5zZW5kKHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuU3VjY2VzcykgcHJvbWlzZS5yZXNvbHZlKHJlc3BvbnNlKTtlbHNlIHByb21pc2UucmVqZWN0KHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIGFwaS5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICAgICAgZnVuY3Rpb24gZ2V0VVJMKGFjdGlvbiwgZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIHJpZGVzdHlsZXIuYWpheC51cmwoYWN0aW9uLCBkYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBhcGkuZ2V0VVJMID0gZ2V0VVJMO1xuICAgICAgICB2YXIgRW52aXJvbm1lbnQgPSB2b2lkIDA7XG4gICAgICAgIChmdW5jdGlvbiAoRW52aXJvbm1lbnQpIHtcbiAgICAgICAgICAgIEVudmlyb25tZW50W0Vudmlyb25tZW50W1wiQWxwaGFcIl0gPSAwXSA9IFwiQWxwaGFcIjtcbiAgICAgICAgICAgIEVudmlyb25tZW50W0Vudmlyb25tZW50W1wiQmV0YVwiXSA9IDFdID0gXCJCZXRhXCI7XG4gICAgICAgICAgICBFbnZpcm9ubWVudFtFbnZpcm9ubWVudFtcIkxpdmVcIl0gPSAyXSA9IFwiTGl2ZVwiO1xuICAgICAgICAgICAgRW52aXJvbm1lbnRbRW52aXJvbm1lbnRbXCJPdGhlclwiXSA9IDNdID0gXCJPdGhlclwiO1xuICAgICAgICB9KShFbnZpcm9ubWVudCA9IGFwaS5FbnZpcm9ubWVudCB8fCAoYXBpLkVudmlyb25tZW50ID0ge30pKTtcbiAgICB9KShhcGkgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgQXJyYXlIZWxwZXI7XG4gICAgKGZ1bmN0aW9uIChBcnJheUhlbHBlcikge1xuICAgICAgICBmdW5jdGlvbiBjb3B5KGFycmF5KSB7XG4gICAgICAgICAgICB2YXIgY29weSA9IG5ldyBBcnJheShhcnJheS5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGFycmF5Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIGNvcHlbaW5kZXhdID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICAgICAgfXJldHVybiBjb3B5O1xuICAgICAgICB9XG4gICAgICAgIEFycmF5SGVscGVyLmNvcHkgPSBjb3B5O1xuICAgICAgICBmdW5jdGlvbiByZW1vdmUoYXJyYXksIGl0ZW1NYXRjaCkge1xuICAgICAgICAgICAgdmFyIG5ld0FycmF5ID0gbmV3IEFycmF5KGFycmF5Lmxlbmd0aCk7XG4gICAgICAgICAgICB2YXIgbmV3QXJyYXlJbmRleCA9IC0xO1xuICAgICAgICAgICAgZm9yICh2YXIgYXJyYXlJbmRleCA9IDA7IGFycmF5SW5kZXggPCBhcnJheS5sZW5ndGg7IGFycmF5SW5kZXgrKykge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gYXJyYXlbYXJyYXlJbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpdGVtTWF0Y2ggPT09ICdmdW5jdGlvbicgJiYgaXRlbU1hdGNoKGl0ZW0pIHx8IGl0ZW0gPT09IGl0ZW1NYXRjaCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGl0ZW1zIHRoYXQgbWF0Y2ggdGhlIGl0ZW1NYXRjaCBmdW5jdGlvbiBvciB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3QXJyYXlbKytuZXdBcnJheUluZGV4XSA9IGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTaG9ydGVuIGFycmF5IHRvIGV4Y2x1ZGUgbGVuZ3RoIGZyb20gcmVtb3ZlZCBpdGVtc1xuICAgICAgICAgICAgbmV3QXJyYXkubGVuZ3RoID0gbmV3QXJyYXlJbmRleCArIDE7XG4gICAgICAgICAgICByZXR1cm4gbmV3QXJyYXk7XG4gICAgICAgIH1cbiAgICAgICAgQXJyYXlIZWxwZXIucmVtb3ZlID0gcmVtb3ZlO1xuICAgICAgICBmdW5jdGlvbiBmaWx0ZXIoYXJyYXksIGl0ZW1NYXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlbW92ZShhcnJheSwgZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWl0ZW1NYXRjaChpdGVtKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIEFycmF5SGVscGVyLmZpbHRlciA9IGZpbHRlcjtcbiAgICAgICAgZnVuY3Rpb24gbWFwKGFycmF5LCBtYXBGdW5jdGlvbiwgdGhpc0FyZykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBBcnJheS5wcm90b3R5cGUubWFwID09PSAnZnVuY3Rpb24nKSByZXR1cm4gYXJyYXkubWFwKG1hcEZ1bmN0aW9uLCB0aGlzQXJnKTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBuZXcgQXJyYXkoYXJyYXkubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IGFycmF5W2ldO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpc0FyZyA9PT0gJ3VuZGVmaW5lZCcpIHJlc3VsdFtpXSA9IG1hcEZ1bmN0aW9uKGFycmF5W2ldLCBpLCBhcnJheSk7ZWxzZSByZXN1bHRbaV0gPSBtYXBGdW5jdGlvbi5jYWxsKHRoaXNBcmcsIGFycmF5W2ldLCBpLCBhcnJheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICAgIEFycmF5SGVscGVyLm1hcCA9IG1hcDtcbiAgICAgICAgZnVuY3Rpb24gcmVkdWNlKGFycmF5LCByZWR1Y2VyLCBpbml0aWFsVmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgQXJyYXkucHJvdG90eXBlLnJlZHVjZSA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGFycmF5LnJlZHVjZShyZWR1Y2VyLCBpbml0aWFsVmFsdWUpO1xuICAgICAgICAgICAgdmFyIGFjY3VtdWxhdG9yID0gaW5pdGlhbFZhbHVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGFjY3VtdWxhdG9yID0gYWNjdW11bGF0b3IgIT09IHVuZGVmaW5lZCA/IHJlZHVjZXIuY2FsbCh1bmRlZmluZWQsIGFjY3VtdWxhdG9yLCBhcnJheVtpXSwgaSwgYXJyYXkpIDogYXJyYXlbaV07XG4gICAgICAgICAgICB9cmV0dXJuIGFjY3VtdWxhdG9yO1xuICAgICAgICB9XG4gICAgICAgIEFycmF5SGVscGVyLnJlZHVjZSA9IHJlZHVjZTtcbiAgICB9KShBcnJheUhlbHBlciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlciB8fCAoUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgQm94SGVscGVyO1xuICAgIChmdW5jdGlvbiAoQm94SGVscGVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCb3VuZCBhIGJveCB0byBhIG1pbmltdW0gYW5kL29yIG1heGltdW0gYm91bmRpbmcgYm94XG4gICAgICAgICAqIEBwYXJhbSBib3ggVGhlIGJveCB0byBib3VuZFxuICAgICAgICAgKiBAcGFyYW0gYm91bmRzTWluIFRoZSBtaW5pbXVtIGJvdW5kaW5nIGJveFxuICAgICAgICAgKiBAcGFyYW0gYm91bmRzTWF4IFRoZSBtYXhpbXVtIGJvdW5kaW5nIGJveFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gYm91bmQoYm94LCBib3VuZHNNaW4sIGJvdW5kc01heCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBib3VuZHNNaW4gPT09ICdudW1iZXInKSBib3VuZHNNaW4gPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGJvdW5kc01pbixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGJvdW5kc01pblxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYm91bmRzTWF4ID09PSAnbnVtYmVyJykgYm91bmRzTWF4ID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBib3VuZHNNYXgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBib3VuZHNNYXhcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBHZXQgdGhlIHNjYWxlIGNoYW5nZSB0byBzY2FsZSBib3ggZG93biB0byBtYXhpbXVtIGJvdW5kc1xuICAgICAgICAgICAgdmFyIHNjYWxlVG9NYXggPSBib3VuZHNNYXggPyBNYXRoLm1pbihib3VuZHNNYXgud2lkdGggLyBib3gud2lkdGgsIGJvdW5kc01heC5oZWlnaHQgLyBib3guaGVpZ2h0KSA6IDE7XG4gICAgICAgICAgICAvLyBHZXQgdGhlIHNjYWxlIGNoYW5nZSB0byBzY2FsZSBib3ggdXAgdG8gbWluaW11bSBib3VuZHNcbiAgICAgICAgICAgIHZhciBzY2FsZVRvTWluID0gYm91bmRzTWluID8gTWF0aC5tYXgoYm91bmRzTWluLndpZHRoIC8gYm94LndpZHRoLCBib3VuZHNNaW4uaGVpZ2h0IC8gYm94LmhlaWdodCkgOiAxO1xuICAgICAgICAgICAgdmFyIHNjYWxhciA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmIChzY2FsZVRvTWF4IDwgMSkgc2NhbGFyID0gc2NhbGVUb01heDtlbHNlIGlmIChzY2FsZVRvTWluID4gMSkgc2NhbGFyID0gc2NhbGVUb01pbjtlbHNlIHJldHVybiBib3g7XG4gICAgICAgICAgICByZXR1cm4gc2NhbGUoYm94LCBzY2FsYXIpO1xuICAgICAgICB9XG4gICAgICAgIEJveEhlbHBlci5ib3VuZCA9IGJvdW5kO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbGUgYSBib3ggYnkgYSBzY2FsYXJcbiAgICAgICAgICogQHBhcmFtIGJveCBUaGUgYm94XG4gICAgICAgICAqIEBwYXJhbSBzY2FsYXIgVGhlIG51bWJlciB0byBzY2FsZSB0aGUgYm94IGJ5XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzY2FsZShib3gsIHNjYWxhcikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzY2FsYXIgPT09ICdudW1iZXInKSBzY2FsYXIgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHNjYWxhcixcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHNjYWxhclxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGJveC53aWR0aCAqIHNjYWxhci53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGJveC5oZWlnaHQgKiBzY2FsYXIuaGVpZ2h0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIEJveEhlbHBlci5zY2FsZSA9IHNjYWxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgYm94LCB3aXRob3V0IGRlY2ltYWxzXG4gICAgICAgICAqIEBwYXJhbSBib3ggVGhlIGJveFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZmxvb3IoYm94KSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiB+fmJveC53aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IH5+Ym94LmhlaWdodFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBCb3hIZWxwZXIuZmxvb3IgPSBmbG9vcjtcbiAgICB9KShCb3hIZWxwZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuQm94SGVscGVyIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuQm94SGVscGVyID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgR1VJREhlbHBlciA9IHZvaWQgMDtcbiAgICAoZnVuY3Rpb24gKEdVSURIZWxwZXIpIHtcbiAgICAgICAgLy8gTWFwcyBmb3IgbnVtYmVyIDwtPiBoZXggc3RyaW5nIGNvbnZlcnNpb25cbiAgICAgICAgdmFyIGJ5dGVUb0hleCA9IFtdO1xuICAgICAgICB2YXIgaGV4VG9CeXRlID0ge307XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgICAgICAgICAgIGJ5dGVUb0hleFtpXSA9IChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7XG4gICAgICAgICAgICBoZXhUb0J5dGVbYnl0ZVRvSGV4W2ldXSA9IGk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhcnNlIGEgR3VpZCBpbnRvIGEgY29tbW9uIGZvcm1hdFxuICAgICAgICAgKiBAcGFyYW0gaWQgVGhlIElEIHRvIHBhcnNlXG4gICAgICAgICAqIEBwYXJhbSBidWZmZXIgQW4gZXhpc3RpbmcgR3VpZC9hcnJheSB0byB3cml0ZSB0b1xuICAgICAgICAgKiBAcGFyYW0gb2Zmc2V0IFRoZSBvZmZzZXQgdG8gYmVnaW4gd3JpdGluZyBhdFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gcGFyc2UoaWQsIGJ1ZmZlciwgb2Zmc2V0KSB7XG4gICAgICAgICAgICB2YXIgaSA9IGJ1ZmZlciAmJiBvZmZzZXQgfHwgMDtcbiAgICAgICAgICAgIHZhciBqID0gMDtcbiAgICAgICAgICAgIGJ1ZmZlciA9IGJ1ZmZlciB8fCBbXTtcbiAgICAgICAgICAgIGlkLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvWzAtOWEtZl17Mn0vZywgZnVuY3Rpb24gKG9jdCkge1xuICAgICAgICAgICAgICAgIGlmIChqIDwgMTYpIGJ1ZmZlcltpICsgaisrXSA9IGhleFRvQnl0ZVtvY3RdO1xuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gWmVybyBvdXQgcmVtYWluaW5nIGJ5dGVzIGlmIHN0cmluZyB3YXMgc2hvcnRcbiAgICAgICAgICAgIHdoaWxlIChqIDwgMTYpIHtcbiAgICAgICAgICAgICAgICBidWZmZXJbaSArIGorK10gPSAwO1xuICAgICAgICAgICAgfXJldHVybiBidWZmZXI7XG4gICAgICAgIH1cbiAgICAgICAgR1VJREhlbHBlci5wYXJzZSA9IHBhcnNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVydCBhIHBhcnNlZCBHdWlkIGJhY2sgaW50byBhIHN0cmluZ1xuICAgICAgICAgKiBAcGFyYW0gaWQgQSBwYXJzZWQgR3VpZCB0byB1bnBhcnNlXG4gICAgICAgICAqIEBwYXJhbSBvZmZzZXQgU3RhcnRpbmcgaW5kZXggaW4gdGhlIGlkIHRvIGJlZ2luIHJlYWRpbmcgZnJvbVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gdW5wYXJzZShpZCwgb2Zmc2V0KSB7XG4gICAgICAgICAgICB2YXIgaSA9IG9mZnNldCB8fCAwO1xuICAgICAgICAgICAgdmFyIGJ0aCA9IGJ5dGVUb0hleDtcbiAgICAgICAgICAgIHJldHVybiBidGhbaWRbaSsrXV0gKyBidGhbaWRbaSsrXV0gKyBidGhbaWRbaSsrXV0gKyBidGhbaWRbaSsrXV0gKyAnLScgKyBidGhbaWRbaSsrXV0gKyBidGhbaWRbaSsrXV0gKyAnLScgKyBidGhbaWRbaSsrXV0gKyBidGhbaWRbaSsrXV0gKyAnLScgKyBidGhbaWRbaSsrXV0gKyBidGhbaWRbaSsrXV0gKyAnLScgKyBidGhbaWRbaSsrXV0gKyBidGhbaWRbaSsrXV0gKyBidGhbaWRbaSsrXV0gKyBidGhbaWRbaSsrXV0gKyBidGhbaWRbaSsrXV0gKyBidGhbaWRbaSsrXV07XG4gICAgICAgIH1cbiAgICAgICAgR1VJREhlbHBlci51bnBhcnNlID0gdW5wYXJzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbXBhcmUgdHdvIEd1aWRzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVhbFxuICAgICAgICAgKiBAcGFyYW0gaWRBIFRoZSBmaXJzdCBJRCB0byBwYXJzZSAoaWYgbmVlZGVkKSBhbmQgdGhlbiBjb21wYXJlXG4gICAgICAgICAqIEBwYXJhbSBpZEIgVGhlIHNlY29uZCBJRCB0byBwYXJzZSAoaWYgbmVlZGVkKSBhbmQgdGhlbiBjb21wYXJlXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBhcmVFcXVhbChpZEEsIGlkQikge1xuICAgICAgICAgICAgLy8gSGFuZGxlIHVuZGVmaW5lZC91bnNwZWNpZmllZCBwYXJhbWV0ZXJzXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCFpZEEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpZEIpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghaWRCKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZ3VpZEEgPSB2b2lkIDA7XG4gICAgICAgICAgICB2YXIgZ3VpZEIgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlkQSA9PT0gJ3N0cmluZycpIGd1aWRBID0gcGFyc2UoaWRBKTtlbHNlIGd1aWRBID0gaWRBO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpZEIgPT09ICdzdHJpbmcnKSBndWlkQiA9IHBhcnNlKGlkQik7ZWxzZSBndWlkQiA9IGlkQjtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBndWlkQS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYnl0ZUEgPSBndWlkQVtfaV07XG4gICAgICAgICAgICAgICAgdmFyIGJ5dGVCID0gZ3VpZEJbX2ldO1xuICAgICAgICAgICAgICAgIGlmIChieXRlQSAhPT0gYnl0ZUIpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIEdVSURIZWxwZXIuYXJlRXF1YWwgPSBhcmVFcXVhbDtcbiAgICB9KShHVUlESGVscGVyID0gUmlkZVN0eWxlclNob3djYXNlLkdVSURIZWxwZXIgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5HVUlESGVscGVyID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBIVE1MSGVscGVyO1xuICAgIChmdW5jdGlvbiAoSFRNTEhlbHBlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhIG5ldyBzZXQgb2YgZWxlbWVudHMgbWF0Y2hlZCBmcm9tIHRoZSBvcmlnaW5hbCBzZXRcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnRzIFRoZSBlbGVtZW50cyB0byBtYXRjaFxuICAgICAgICAgKiBAcGFyYW0gbWF0Y2ggVGhlIG1hdGNoaW5nIGZ1bmN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBlbGVtZW50c01hdGNoaW5nKGVsZW1lbnRzLCBtYXRjaCkge1xuICAgICAgICAgICAgdmFyIG1hdGNoaW5nRWxlbWVudHMgPSBuZXcgQXJyYXkoZWxlbWVudHMubGVuZ3RoKTtcbiAgICAgICAgICAgIHZhciBtYXRjaGluZ0VsZW1lbnRzSW5kZXggPSAwO1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGVsZW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGVsZW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2goY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoaW5nRWxlbWVudHNbbWF0Y2hpbmdFbGVtZW50c0luZGV4KytdID0gY2hpbGQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF0Y2hpbmdFbGVtZW50cy5sZW5ndGggPSBtYXRjaGluZ0VsZW1lbnRzSW5kZXg7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2hpbmdFbGVtZW50cztcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmVsZW1lbnRzTWF0Y2hpbmcgPSBlbGVtZW50c01hdGNoaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudCBpbiB0aGUgc2V0IHRvIG1hdGNoIHRoZSBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudHMgVGhlIHNldCBvZiBlbGVtZW50cyB0byBzZWFyY2ggaW5cbiAgICAgICAgICogQHBhcmFtIG1hdGNoIFRoZSBtYXRjaGluZyBmdW5jdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZmlyc3RFbGVtZW50TWF0Y2hpbmcoZWxlbWVudHMsIG1hdGNoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgZWxlbWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gZWxlbWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaChjaGlsZCkpIHJldHVybiBjaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuZmlyc3RFbGVtZW50TWF0Y2hpbmcgPSBmaXJzdEVsZW1lbnRNYXRjaGluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIGxhc3QgZWxlbWVudCBpbiB0aGUgc2V0IHRvIG1hdGNoIHRoZSBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudHMgVGhlIHNldCBvZiBlbGVtZW50cyB0byBzZWFyY2ggaW5cbiAgICAgICAgICogQHBhcmFtIG1hdGNoIFRoZSBtYXRjaGluZyBmdW5jdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gbGFzdEVsZW1lbnRNYXRjaGluZyhlbGVtZW50cywgbWF0Y2gpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gZWxlbWVudHMubGVuZ3RoIC0gMTsgaW5kZXggPj0gMDsgaW5kZXgtLSkge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGVsZW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2goY2hpbGQpKSByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmxhc3RFbGVtZW50TWF0Y2hpbmcgPSBsYXN0RWxlbWVudE1hdGNoaW5nO1xuICAgICAgICBmdW5jdGlvbiBjaGlsZHJlbk1hdGNoaW5nKGVsZW1lbnQsIG1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudHNNYXRjaGluZyhlbGVtZW50LmNoaWxkcmVuLCBtYXRjaCk7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5jaGlsZHJlbk1hdGNoaW5nID0gY2hpbGRyZW5NYXRjaGluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlYXJjaCBhbiBlbGVtZW50IGZvciB0aGUgZmlyc3QgY2hpbGQgbWF0Y2hpbmcgdGhlIG1hdGNoIGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHNlYXJjaCBjaGlsZHJlbiBvZlxuICAgICAgICAgKiBAcGFyYW0gbWF0Y2ggVGhlIG1hdGNoIGZ1bmN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBmaXJzdENoaWxkTWF0Y2hpbmcoZWxlbWVudCwgbWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiBmaXJzdEVsZW1lbnRNYXRjaGluZyhlbGVtZW50LmNoaWxkcmVuLCBtYXRjaCk7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5maXJzdENoaWxkTWF0Y2hpbmcgPSBmaXJzdENoaWxkTWF0Y2hpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGVsZW1lbnQncyBjaGlsZHJlbiBtYXRjaGluZyB0aGUgcGFzc2VkIGluIHNldCBvZlxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBzZWFyY2ggdGhlIGNoaWxkcmVuIG9mXG4gICAgICAgICAqIEBwYXJhbSBjbGFzc2VzIFRoZSBzZXQgb2YgY2xhc3NlcyB0byBtYXRjaCBjaGlsZHJlbiB3aXRoXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBjaGlsZHJlbldpdGhDbGFzc2VzKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBjbGFzc2VzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgICAgIGNsYXNzZXNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjbGFzc2VzID0gUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLmZsYXR0ZW5DbGFzc0xpc3QoY2xhc3Nlcyk7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGRyZW5NYXRjaGluZyhlbGVtZW50LCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLmhhc0NsYXNzZXMoY2hpbGQsIGNsYXNzZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5jaGlsZHJlbldpdGhDbGFzc2VzID0gY2hpbGRyZW5XaXRoQ2xhc3NlcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZXMgY2hpbGRyZW4gZnJvbSB0aGUgZWxlbWVudCBtYXRjaGluZyBhIGNsYXNzIG9yIHNldCBvZiBjbGFzc2VzXG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHNlYXJjaCB0aGUgY2hpbGRyZW5cbiAgICAgICAgICogQHBhcmFtIGNsYXNzZXMgVGhlIGNsYXNzZXMgdG8gbWF0Y2ggY2hpbGRyZW4gdG8gcmVtb3ZlXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiByZW1vdmVDaGlsZHJlbldpdGhDbGFzc2VzKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NlcyA9IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzW19rZXkyIC0gMV0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBjaGlsZHJlbldpdGhDbGFzc2VzLmFwcGx5KHVuZGVmaW5lZCwgW2VsZW1lbnRdLmNvbmNhdChjbGFzc2VzKSlbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5yZW1vdmVDaGlsZHJlbldpdGhDbGFzc2VzID0gcmVtb3ZlQ2hpbGRyZW5XaXRoQ2xhc3NlcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlYXJjaCBhbiBlbGVtZW50IGZvciB0aGUgZmlyc3QgY2hpbGQgd2l0aCB0aGUgc3BlY2lmaWVkIHRhZ1xuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBzZWFyY2ggY2hpbGRyZW4gb2ZcbiAgICAgICAgICogQHBhcmFtIHRhZ05hbWUgVGhlIHRhZyB0byBsb29rIGZvclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZmlyc3RDaGlsZFdpdGhUYWcoZWxlbWVudCwgdGFnTmFtZSkge1xuICAgICAgICAgICAgdGFnTmFtZSA9IHRhZ05hbWUudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIHJldHVybiBmaXJzdENoaWxkTWF0Y2hpbmcoZWxlbWVudCwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkLnRhZ05hbWUgPT09IHRhZ05hbWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmZpcnN0Q2hpbGRXaXRoVGFnID0gZmlyc3RDaGlsZFdpdGhUYWc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWFyY2ggYW4gZWxlbWVudCBmb3IgdGhlIGZpcnN0IGNoaWxkIHdpdGggdGhlIHNwZWNpZmllZCBjbGFzcyhlcykgaW4gaXRzIGNsYXNzIGxpc3RcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gc2VhcmNoIGNoaWxkcmVuIG9mXG4gICAgICAgICAqIEBwYXJhbSBjbGFzc2VzIFRoZSBjbGFzc2VzIHRvIGxvb2sgZm9yXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBmaXJzdENoaWxkV2l0aENsYXNzKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9sZW4zID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NlcyA9IEFycmF5KF9sZW4zID4gMSA/IF9sZW4zIC0gMSA6IDApLCBfa2V5MyA9IDE7IF9rZXkzIDwgX2xlbjM7IF9rZXkzKyspIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzW19rZXkzIC0gMV0gPSBhcmd1bWVudHNbX2tleTNdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmlyc3RDaGlsZE1hdGNoaW5nKGVsZW1lbnQsIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIuaGFzQ2xhc3NlcyhjaGlsZCwgY2xhc3Nlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmZpcnN0Q2hpbGRXaXRoQ2xhc3MgPSBmaXJzdENoaWxkV2l0aENsYXNzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZWN0cyBpZiBhbiBlbGVtZW50IGhhcyBhIGNoaWxkIHdpdGggdGhlIHNwZWNpZmllZCBjbGFzcyhlcylcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gc2VhcmNoIHRoZSBjaGlsZHJlbiBvZlxuICAgICAgICAgKiBAcGFyYW0gY2xhc3NlcyBUaGUgY2xhc3MoZXMpIHRvIGxvb2sgZm9yXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBoYXNDaGlsZFdpdGhDbGFzcyhlbGVtZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzZXMgPSBBcnJheShfbGVuNCA+IDEgPyBfbGVuNCAtIDEgOiAwKSwgX2tleTQgPSAxOyBfa2V5NCA8IF9sZW40OyBfa2V5NCsrKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlc1tfa2V5NCAtIDFdID0gYXJndW1lbnRzW19rZXk0XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuICEhZmlyc3RDaGlsZFdpdGhDbGFzcy5hcHBseSh1bmRlZmluZWQsIFtlbGVtZW50XS5jb25jYXQoY2xhc3NlcykpO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuaGFzQ2hpbGRXaXRoQ2xhc3MgPSBoYXNDaGlsZFdpdGhDbGFzcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGVjdHMgaWYgYW4gZWxlbWVudCBoYXMgYSBzaWJsaW5nIHdpdGggdGhlIHNwZWNpZmllZCBjbGFzcyhlcylcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gc2VhcmNoIHRoZSBzaWJsaW5ncyBvZlxuICAgICAgICAgKiBAcGFyYW0gY2xhc3NlcyBUaGUgY2xhc3MoZXMpIHRvIGxvb2sgZm9yXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBoYXNTaWJsaW5nV2l0aENsYXNzKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9sZW41ID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NlcyA9IEFycmF5KF9sZW41ID4gMSA/IF9sZW41IC0gMSA6IDApLCBfa2V5NSA9IDE7IF9rZXk1IDwgX2xlbjU7IF9rZXk1KyspIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzW19rZXk1IC0gMV0gPSBhcmd1bWVudHNbX2tleTVdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaGFzQ2hpbGRXaXRoQ2xhc3MuYXBwbHkodW5kZWZpbmVkLCBbZWxlbWVudC5wYXJlbnRFbGVtZW50XS5jb25jYXQoY2xhc3NlcykpO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuaGFzU2libGluZ1dpdGhDbGFzcyA9IGhhc1NpYmxpbmdXaXRoQ2xhc3M7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBsYXN0IHNpYmxpbmcgb2YgYW4gZWxlbWVudCBtYXRjaGluZyBhIHNwZWNpZmllZCBjbGFzcyAob3Igc3BlY2lmaWVkIGNsYXNzZXMpXG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHNlYXJjaCBzaWJsaW5nc1xuICAgICAgICAgKiBAcGFyYW0gY2xhc3NlcyBUaGUgY2xhc3NlcyB0byBsb29rIGZvclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gbGFzdFNpYmxpbmdXaXRoQ2xhc3MoZWxlbWVudCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2xlbjYgPSBhcmd1bWVudHMubGVuZ3RoLCBjbGFzc2VzID0gQXJyYXkoX2xlbjYgPiAxID8gX2xlbjYgLSAxIDogMCksIF9rZXk2ID0gMTsgX2tleTYgPCBfbGVuNjsgX2tleTYrKykge1xuICAgICAgICAgICAgICAgIGNsYXNzZXNbX2tleTYgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Nl07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBsYXN0RWxlbWVudE1hdGNoaW5nKGVsZW1lbnQucGFyZW50RWxlbWVudC5jaGlsZHJlbiwgZnVuY3Rpb24gKHNpYmxpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2libGluZyAhPT0gZWxlbWVudCAmJiBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIuaGFzQ2xhc3NlcyhzaWJsaW5nLCBjbGFzc2VzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIubGFzdFNpYmxpbmdXaXRoQ2xhc3MgPSBsYXN0U2libGluZ1dpdGhDbGFzcztcbiAgICAgICAgZnVuY3Rpb24gYXBwbHlPcHRpb25zKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBodG1sRWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICBpZiAoKHR5cGVvZiBvcHRpb25zID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihvcHRpb25zKSkgIT09ICdvYmplY3QnKSByZXR1cm47XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuY2xhc3NOYW1lID09PSAnc3RyaW5nJykgZWxlbWVudC5jbGFzc05hbWUgPSBvcHRpb25zLmNsYXNzTmFtZTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5pZCA9PT0gJ3N0cmluZycpIGVsZW1lbnQuaWQgPSBvcHRpb25zLmlkO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMud3JhcCkgb3B0aW9ucy53cmFwLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXBwZW5kVG8pIG9wdGlvbnMuYXBwZW5kVG8uYXBwZW5kQ2hpbGQob3B0aW9ucy53cmFwIHx8IGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnRleHQgPT09ICdzdHJpbmcnKSBlbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG9wdGlvbnMudGV4dCkpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXBwZW5kKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXBwZW5kIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gb3B0aW9ucy5hcHBlbmRbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGRFbGVtZW50ID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQob3B0aW9ucy5hcHBlbmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG9wdGlvbnMuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hdHRyaWJ1dGVzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKGtleSwgb3B0aW9ucy5hdHRyaWJ1dGVzW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3R5bGUgJiYgX3R5cGVvZihodG1sRWxlbWVudC5zdHlsZSkgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2tleTcgaW4gb3B0aW9ucy5zdHlsZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zdHlsZS5oYXNPd25Qcm9wZXJ0eShfa2V5NykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWxFbGVtZW50LnN0eWxlW19rZXk3XSA9IG9wdGlvbnMuc3R5bGVbX2tleTddO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9rZXk4IGluIG9wdGlvbnMucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KF9rZXk4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFtfa2V5OF0gPSBvcHRpb25zLnByb3BlcnRpZXNbX2tleThdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnQodGFnTmFtZU9yRGl2T3B0aW9ucywgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIHRhZ05hbWUgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhZ05hbWVPckRpdk9wdGlvbnMgPT09ICdzdHJpbmcnKSB0YWdOYW1lID0gdGFnTmFtZU9yRGl2T3B0aW9ucztlbHNlIHtcbiAgICAgICAgICAgICAgICB0YWdOYW1lID0gJ2Rpdic7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHRhZ05hbWVPckRpdk9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnTmFtZSk7XG4gICAgICAgICAgICBhcHBseU9wdGlvbnMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQgPSBjcmVhdGVFbGVtZW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlcyBhbiBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCB0ZXh0XG4gICAgICAgICAqIEBwYXJhbSB0YWdOYW1lIFRoZSB0YWcgb2YgdGhlIGVsZW1lbnQgdG8gY3JlYXRlXG4gICAgICAgICAqIEBwYXJhbSB0ZXh0IFRoZSB0ZXh0IHRvIGFkZCB0byB0aGUgY3JlYXRlZCBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50V2l0aFRleHQodGFnTmFtZSwgdGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQodGFnTmFtZSwgeyB0ZXh0OiB0ZXh0IH0pO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudFdpdGhUZXh0ID0gY3JlYXRlRWxlbWVudFdpdGhUZXh0O1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50V2l0aENsYXNzKHRhZ05hbWVPckNsYXNzTmFtZSwgY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICB2YXIgdGFnTmFtZSA9IHRhZ05hbWVPckNsYXNzTmFtZTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2xhc3NOYW1lID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHRhZ05hbWUgPSAnZGl2JztcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSB0YWdOYW1lT3JDbGFzc05hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudCh0YWdOYW1lLCB7IGNsYXNzTmFtZTogY2xhc3NOYW1lIH0pO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudFdpdGhDbGFzcyA9IGNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3M7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIGFuIGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGlkXG4gICAgICAgICAqIEBwYXJhbSB0YWdOYW1lIFRoZSB0YWcgb2YgdGhlIGVsZW1lbnQgdG8gY3JlYXRlXG4gICAgICAgICAqIEBwYXJhbSBpZCBUaGUgaWQgdG8gYWRkIHRvIHRoZSBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50V2l0aElEKHRhZ05hbWUsIGlkKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudCh0YWdOYW1lLCB7IGlkOiBpZCB9KTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoSUQgPSBjcmVhdGVFbGVtZW50V2l0aElEO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGEgbmV3IHRleHQgZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0gdGV4dCBUaGUgdGV4dCB0byBjcmVhdGUgdGhlIHRleHQgZWxlbWVudCB3aXRoXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVUZXh0RWxlbWVudCh0ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCk7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5jcmVhdGVUZXh0RWxlbWVudCA9IGNyZWF0ZVRleHRFbGVtZW50O1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVCdXR0b24ob3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBjcmVhdGVFbGVtZW50KCdidXR0b24nLCBvcHRpb25zKTtcbiAgICAgICAgICAgIHZhciBidXR0b25DbGFzc05hbWUgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1idXR0b24nO1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGJ1dHRvbkNsYXNzTmFtZSk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5sYXJnZSkgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGJ1dHRvbkNsYXNzTmFtZSArICctbGFyZ2UnKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmRpc2FibGVkKSBlbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmxpbmspIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChidXR0b25DbGFzc05hbWUgKyAnLWxpbmsnKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNraW5ueSkgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGJ1dHRvbkNsYXNzTmFtZSArICctc2tpbm55Jyk7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmNyZWF0ZUJ1dHRvbiA9IGNyZWF0ZUJ1dHRvbjtcbiAgICAgICAgdmFyIGljb25DbGFzc1ByZWZpeCA9ICdyaWRlc3R5bGVyLXNob3djYXNlLWljb24gcmlkZXN0eWxlci1zaG93Y2FzZS1pY29uLSc7XG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUljb24oaWNvbk9yT3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSB2b2lkIDA7XG4gICAgICAgICAgICAvLyBTZXR1cCBvcHRpb25zXG4gICAgICAgICAgICBpZiAodHlwZW9mIGljb25Pck9wdGlvbnMgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogaWNvbk9yT3B0aW9uc1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSBpY29uT3JPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQnVpbGQgaWNvbiBjbGFzc05hbWVcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgaWNvbkNsYXNzID0gb3B0aW9ucy5pY29uO1xuICAgICAgICAgICAgICAgIGlmICghaWNvbkNsYXNzLnN0YXJ0c1dpdGgoaWNvbkNsYXNzUHJlZml4KSkgaWNvbkNsYXNzID0gaWNvbkNsYXNzUHJlZml4ICsgaWNvbkNsYXNzO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jbGFzc05hbWUgPT09ICdzdHJpbmcnKSBpY29uQ2xhc3MgPSBvcHRpb25zLmNsYXNzTmFtZSArICcgJyArIGljb25DbGFzcztcbiAgICAgICAgICAgICAgICBvcHRpb25zLmNsYXNzTmFtZSA9IGljb25DbGFzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KCdpJywgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5jcmVhdGVJY29uID0gY3JlYXRlSWNvbjtcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlU1ZHRWxlbWVudCh0YWdOYW1lLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCB0YWdOYW1lKTtcbiAgICAgICAgICAgIGFwcGx5T3B0aW9ucyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuY3JlYXRlU1ZHRWxlbWVudCA9IGNyZWF0ZVNWR0VsZW1lbnQ7XG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZURlc2NyaXB0aW9uTGlzdCh2YWx1ZXMpIHtcbiAgICAgICAgICAgIHZhciBkZXNjcmlwdGlvbkxpc3QgPSBIVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RsJywge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtZGVzY3JpcHRpb24tbGlzdCcsXG4gICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuc3VtbWFyeUVsZW1lbnRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKHZhbHVlcykgYXBwZW5kRGVzY3JpcHRpb25MaXN0VmFsdWVzKGRlc2NyaXB0aW9uTGlzdCwgdmFsdWVzKTtcbiAgICAgICAgICAgIHJldHVybiBkZXNjcmlwdGlvbkxpc3Q7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5jcmVhdGVEZXNjcmlwdGlvbkxpc3QgPSBjcmVhdGVEZXNjcmlwdGlvbkxpc3Q7XG4gICAgICAgIGZ1bmN0aW9uIGFwcGVuZERlc2NyaXB0aW9uTGlzdFZhbHVlcyhkZXNjcmlwdGlvbkxpc3QsIHZhbHVlcykge1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IHZhbHVlc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkdCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHZhbHVlLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IGRlc2NyaXB0aW9uTGlzdFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHZhbHVlLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IGRlc2NyaXB0aW9uTGlzdFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmFwcGVuZERlc2NyaXB0aW9uTGlzdFZhbHVlcyA9IGFwcGVuZERlc2NyaXB0aW9uTGlzdFZhbHVlcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZXMgYWxsIGNoaWxkcmVuIGZyb20gYW4gZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBlbXB0eVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZW1wdHkoZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdm9pZCAwO1xuICAgICAgICAgICAgd2hpbGUgKGNoaWxkID0gZWxlbWVudC5sYXN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmVtcHR5ID0gZW1wdHk7XG4gICAgICAgIGZ1bmN0aW9uIG9uY2UoZWxlbWVudCwgdHlwZSwgbGlzdGVuZXIsIHVzZUNhcHR1cmUpIHtcbiAgICAgICAgICAgIHZhciBvbmNlTGlzdGVuZXIgPSBmdW5jdGlvbiBvbmNlTGlzdGVuZXIoZXZ0KSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIG9uY2VMaXN0ZW5lciwgdXNlQ2FwdHVyZSk7XG4gICAgICAgICAgICAgICAgaWYgKCh0eXBlb2YgbGlzdGVuZXIgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGxpc3RlbmVyKSkgPT09ICdvYmplY3QnKSBsaXN0ZW5lciA9IGxpc3RlbmVyLmhhbmRsZUV2ZW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0ZW5lci5jYWxsKHRoaXMsIGV2dCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIG9uY2VMaXN0ZW5lciwgdXNlQ2FwdHVyZSk7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5vbmNlID0gb25jZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIGRvY3VtZW50IHRoYXQgdGhlIGVsZW1lbnQgaXMgYSBwYXJ0IG9mIChpZiB0aGVyZSBpcyBvbmUpXG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXREb2N1bWVudChlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudC5vd25lckRvY3VtZW50O1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuZ2V0RG9jdW1lbnQgPSBnZXREb2N1bWVudDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIHdpbmRvdyB0aGF0IHRoZSBlbGVtZW50IGlzIGEgcGFydCBvZiAoaWYgdGhlcmUgaXMgb25lKVxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0V2luZG93KGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXREb2N1bWVudChlbGVtZW50KS5kZWZhdWx0VmlldztcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmdldFdpbmRvdyA9IGdldFdpbmRvdztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGNvbnRlbnQgb2YgYW4gZWxlbWVudCB0byBhIHN0cmluZ1xuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0gdGV4dCBUaGUgdGV4dFxuICAgICAgICAgKiBAcmV0dXJucyBUaGUgZWxlbWVudCB0aGF0IHdhcyBwYXNzZWQgaW5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHNldFRleHQoZWxlbWVudCwgdGV4dCkge1xuICAgICAgICAgICAgZW1wdHkoZWxlbWVudCk7XG4gICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpKTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuc2V0VGV4dCA9IHNldFRleHQ7XG4gICAgfSkoSFRNTEhlbHBlciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlciA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIE51bWJlckhlbHBlcjtcbiAgICAoZnVuY3Rpb24gKE51bWJlckhlbHBlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgbnVtYmVyIGJvdW5kZWQgdG8gYSByYW5nZVxuICAgICAgICAgKiBAcGFyYW0gbnVtYmVyIFRoZSBudW1iZXIgdG8gYm91bmRcbiAgICAgICAgICogQHBhcmFtIG1pbiBUaGUgbWluaW11bSBhbGxvd2FibGUgbnVtYmVyXG4gICAgICAgICAqIEBwYXJhbSBtYXggVGhlIG1heGltdW0gYWxsb3dhYmxlIG51bWJlclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gYm91bmQobnVtYmVyLCBtaW4sIG1heCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlciA8IG1pbiA/IG1pbiA6IG51bWJlciA+IG1heCA/IG1heCA6IG51bWJlcjtcbiAgICAgICAgfVxuICAgICAgICBOdW1iZXJIZWxwZXIuYm91bmQgPSBib3VuZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4dGVuZCBhIG51bWJlciByYW5nZSB3aXRoIGEgbnVtYmVyXG4gICAgICAgICAqIEBwYXJhbSBudW1iZXIgVGhlIG51bWJlciB0byBleHRlbmQgdGhlIHJhbmdlIHdpdGhcbiAgICAgICAgICogQHBhcmFtIHJhbmdlIFRoZSByYW5nZSB0byBleHRlbmRcbiAgICAgICAgICpcbiAgICAgICAgICogQHJldHVybnMgVGhlIHJhbmdlIG9iamVjdCB0aGF0IHdhcyBwYXNzZWQgaW4gZXh0ZW5kZWQgYnkgdGhlIG51bWJlclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZXh0ZW5kUmFuZ2UobnVtYmVyLCByYW5nZSkge1xuICAgICAgICAgICAgaWYgKCFyYW5nZSkgcmFuZ2UgPSB7XG4gICAgICAgICAgICAgICAgbWluOiBJbmZpbml0eSxcbiAgICAgICAgICAgICAgICBtYXg6IC1JbmZpbml0eVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChudW1iZXIgPCByYW5nZS5taW4pIHJhbmdlLm1pbiA9IG51bWJlcjtcbiAgICAgICAgICAgIGlmIChudW1iZXIgPiByYW5nZS5tYXgpIHJhbmdlLm1heCA9IG51bWJlcjtcbiAgICAgICAgICAgIHJldHVybiByYW5nZTtcbiAgICAgICAgfVxuICAgICAgICBOdW1iZXJIZWxwZXIuZXh0ZW5kUmFuZ2UgPSBleHRlbmRSYW5nZTtcbiAgICB9KShOdW1iZXJIZWxwZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuTnVtYmVySGVscGVyIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuTnVtYmVySGVscGVyID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgT2JqZWN0SGVscGVyID0gdm9pZCAwO1xuICAgIChmdW5jdGlvbiAoT2JqZWN0SGVscGVyKSB7XG4gICAgICAgIGZ1bmN0aW9uIGFzc2lnbih0YXJnZXQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQgPT0gbnVsbCkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjb252ZXJ0IHVuZGVmaW5lZCBvciBudWxsIHRvIG9iamVjdFwiKTtcbiAgICAgICAgICAgIHZhciB0byA9IE9iamVjdCh0YXJnZXQpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXNzaWduT2JqZWN0cyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgICAgICBhc3NpZ25PYmplY3RzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gYXNzaWduT2JqZWN0c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNvdXJjZSA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghc291cmNlKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHRvW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0bztcbiAgICAgICAgfVxuICAgICAgICBPYmplY3RIZWxwZXIuYXNzaWduID0gYXNzaWduO1xuICAgICAgICBmdW5jdGlvbiBjb3B5KHRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIGFzc2lnbih7fSwgdGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBPYmplY3RIZWxwZXIuY29weSA9IGNvcHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIGFsbCBvZiB0aGUga2V5cyBmb3Igb3duIHByb3BlcnRpZXMgb24gYW4gb2JqZWN0XG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0S2V5cyh0YXJnZXQpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5oYXNPd25Qcm9wZXJ0eShrZXkpKSBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgIH1yZXR1cm4ga2V5cztcbiAgICAgICAgfVxuICAgICAgICBPYmplY3RIZWxwZXIuZ2V0S2V5cyA9IGdldEtleXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIGFsbCBvZiB0aGUgdmFsdWVzIGZvciBvd24gcHJvcGVydGllcyBvbiBhbiBvYmplY3RcbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgb2JqZWN0XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRWYWx1ZXModGFyZ2V0KSB7XG4gICAgICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB2YWx1ZXMucHVzaCh0YXJnZXRba2V5XSk7XG4gICAgICAgICAgICB9cmV0dXJuIHZhbHVlcztcbiAgICAgICAgfVxuICAgICAgICBPYmplY3RIZWxwZXIuZ2V0VmFsdWVzID0gZ2V0VmFsdWVzO1xuICAgIH0pKE9iamVjdEhlbHBlciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIFByb21pc2VIZWxwZXI7XG4gICAgKGZ1bmN0aW9uIChQcm9taXNlSGVscGVyKSB7XG4gICAgICAgIGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICAgICAgICAgICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgICAgIHZhciBtZXJnZWQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuQXJyYXlIZWxwZXIucmVkdWNlKHByb21pc2VzLCBmdW5jdGlvbiAoYWNjdW11bGF0b3IsIGN1cnJlbnRQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoZW4odGhlbihhY2N1bXVsYXRvciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFByb21pc2U7XG4gICAgICAgICAgICAgICAgfSksIGZ1bmN0aW9uIChyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzLnB1c2gocik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCByZXNvbHZlZChudWxsKSk7XG4gICAgICAgICAgICBQcm9taXNlLmFsbDtcbiAgICAgICAgICAgIHJldHVybiB0aGVuKG1lcmdlZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgUHJvbWlzZUhlbHBlci5hbGwgPSBhbGw7XG4gICAgICAgIC8qKlxuICAgICAgICAqIEF0dGFjaGVzIGNhbGxiYWNrcyBmb3IgdGhlIHJlc29sdXRpb24gYW5kL29yIHJlamVjdGlvbiBvZiB0aGUgUHJvbWlzZS5cbiAgICAgICAgKiBAcGFyYW0gb25mdWxmaWxsZWQgVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiB0aGUgUHJvbWlzZSBpcyByZXNvbHZlZC5cbiAgICAgICAgKiBAcGFyYW0gb25yZWplY3RlZCBUaGUgY2FsbGJhY2sgdG8gZXhlY3V0ZSB3aGVuIHRoZSBQcm9taXNlIGlzIHJlamVjdGVkLlxuICAgICAgICAqIEByZXR1cm5zIEEgUHJvbWlzZSBmb3IgdGhlIGNvbXBsZXRpb24gb2Ygd2hpY2ggZXZlciBjYWxsYmFjayBpcyBleGVjdXRlZC5cbiAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gdGhlbihwcm9taXNlLCBvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCkge1xuICAgICAgICAgICAgdmFyIHJldHVyblByb21pc2UgPSByaWRlc3R5bGVyLnByb21pc2UoKTtcbiAgICAgICAgICAgIHByb21pc2UuZG9uZShmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvbmZ1bGZpbGxlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9uZnVsZmlsbGVkUmVzdWx0ID0gb25mdWxmaWxsZWQocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1Byb21pc2Uob25mdWxmaWxsZWRSZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzb2x2ZSB0aGUgcHJvbWlzZSB3aGVuIHRoZSByZXR1cm5lZCBwcm9taXNlIGlzIHJlc29sdmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25mdWxmaWxsZWRSZXN1bHQuZG9uZShmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5Qcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblByb21pc2UucmVqZWN0KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc29sdmUgdGhlIHByb21pc2Ugd2l0aCB0aGUgcmV0dXJuZWQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5Qcm9taXNlLnJlc29sdmUob25mdWxmaWxsZWRSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblByb21pc2UucmVqZWN0KGV4Y2VwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5Qcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHByb21pc2UuZmFpbChmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvbnJlamVjdGVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb25yZWplY3RlZFJlc3VsdCA9IG9ucmVqZWN0ZWQocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1Byb21pc2Uob25yZWplY3RlZFJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNvbHZlIHRoZSBwcm9taXNlIHdoZW4gdGhlIHJldHVybmVkIHByb21pc2UgaXMgcmVzb2x2ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbnJlamVjdGVkUmVzdWx0LmRvbmUoZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5Qcm9taXNlLnJlamVjdChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNvbHZlIHRoZSBwcm9taXNlIHdpdGggdGhlIHJldHVybmVkIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuUHJvbWlzZS5yZXNvbHZlKG9ucmVqZWN0ZWRSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChleGNlcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblByb21pc2UucmVqZWN0KGV4Y2VwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5Qcm9taXNlLnJlamVjdChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJldHVyblByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgUHJvbWlzZUhlbHBlci50aGVuID0gdGhlbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgYSBuZXcgcmVzb2x2ZWQgcHJvbWlzZSB3aXRoIGFuIG9wdGlvbmFsIHZhbHVlXG4gICAgICAgICAqIEBwYXJhbSB2YWx1ZSBPcHRpb25hbGx5LCBhIHZhbHVlIHRvIHJlc29sdmUgdGhlIHByb21pc2Ugd2l0aFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZWQodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gcmlkZXN0eWxlci5wcm9taXNlKCk7XG4gICAgICAgICAgICBwcm9taXNlLnJlc29sdmUodmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgUHJvbWlzZUhlbHBlci5yZXNvbHZlZCA9IHJlc29sdmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGVzdHMgYW4gb2JqZWN0IGZvciBhIFJpZGVzdHlsZXJQcm9taXNlLWxpa2UgaW50ZXJmYWNlLCB0ZXN0aW5nIGZvclxuICAgICAgICAgKiBkb25lLCBmYWlsIGFuZCBhbHdheXMgZnVuY3Rpb25zLlxuICAgICAgICAgKiBAcGFyYW0gbyBUaGUgb2JqZWN0IHRvIHRlc3RcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGlzUHJvbWlzZShvKSB7XG4gICAgICAgICAgICByZXR1cm4gKHR5cGVvZiBvID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihvKSkgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvLmRvbmUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG8uZmFpbCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygby5hbHdheXMgPT09ICdmdW5jdGlvbic7XG4gICAgICAgIH1cbiAgICAgICAgUHJvbWlzZUhlbHBlci5pc1Byb21pc2UgPSBpc1Byb21pc2U7XG4gICAgfSkoUHJvbWlzZUhlbHBlciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlciA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIFNjcm9sbEhlbHBlcjtcbiAgICAoZnVuY3Rpb24gKFNjcm9sbEhlbHBlcikge1xuICAgICAgICB2YXIgc2Nyb2xsRXZlbnQgPSB2b2lkIDA7XG4gICAgICAgIHZhciBtb3VzZXdoZWVsRXZlbnRTY2FsZSA9IC0xIC8gNDA7XG4gICAgICAgIHtcbiAgICAgICAgICAgIHZhciB0ZXN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgc2Nyb2xsRXZlbnQgPSAnb253aGVlbCcgaW4gdGVzdEVsZW1lbnQgPyAnd2hlZWwnIDogLy8gTW9kZXJuIGJyb3dlcnMgc3VwcG9ydCBcIndoZWVsXCJcbiAgICAgICAgICAgIGRvY3VtZW50Lm9ubW91c2V3aGVlbCAhPT0gdW5kZWZpbmVkID8gJ21vdXNld2hlZWwnIDogLy8gV2Via2l0IGFuZCBJRSBzdXBwb3J0IGF0IGxlYXN0IFwibW91c2V3aGVlbFwiXG4gICAgICAgICAgICAnTW96TW91c2VQaXhlbFNjcm9sbCc7IC8vIG9sZGVyIEZpcmVmb3hcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhdHRhY2hXaGVlbExpc3RlbmVyKGVsZW1lbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBpZiAoc2Nyb2xsRXZlbnQgPT09ICd3aGVlbCcpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBub3JtYWxpemVkRXZlbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbihldmVudCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsaXN0ZW5lcihub3JtYWxpemVkRXZlbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihzY3JvbGxFdmVudCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFldmVudCkgZXZlbnQgPSB3aW5kb3cuZXZlbnQ7XG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWRFdmVudCA9IHtcbiAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogZXZlbnQudGFyZ2V0IHx8IGV2ZW50LnNyY0VsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3aGVlbCcsXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhTW9kZTogZXZlbnQudHlwZSA9PT0gJ01vek1vdXNlUGl4ZWxTY3JvbGwnID8gMCA6IDEsXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhWDogMCxcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFZOiAwLFxuICAgICAgICAgICAgICAgICAgICBkZWx0YVo6IDAsXG4gICAgICAgICAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQucHJldmVudERlZmF1bHQgPT09ICdmdW5jdGlvbicpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7ZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKHNjcm9sbEV2ZW50ID09PSAnbW91c2V3aGVlbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50LmRlbHRhWSA9IG1vdXNld2hlZWxFdmVudFNjYWxlICogZXZlbnQud2hlZWxEZWx0YTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50LndoZWVsRGVsdGFYKSBub3JtYWxpemVkRXZlbnQuZGVsdGFYID0gbW91c2V3aGVlbEV2ZW50U2NhbGUgKiBldmVudC53aGVlbERlbHRhWDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkRXZlbnQuZGVsdGFZID0gZXZlbnQuZGV0YWlsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIobm9ybWFsaXplZEV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFNjcm9sbEhlbHBlci5hdHRhY2hXaGVlbExpc3RlbmVyID0gYXR0YWNoV2hlZWxMaXN0ZW5lcjtcbiAgICB9KShTY3JvbGxIZWxwZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuU2Nyb2xsSGVscGVyIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuU2Nyb2xsSGVscGVyID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgU3RyaW5nSGVscGVyO1xuICAgIChmdW5jdGlvbiAoU3RyaW5nSGVscGVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBmaXJzdCB3b3JkIG9mIHRoZSBzcGVjaWZpZWQgc3RyaW5nXG4gICAgICAgICAqIEBwYXJhbSBzdHJpbmcgVGhlIHN0cmluZyB0byBnZXQgdGhlIGZpcnN0IHdvcmQgb2ZcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldEZpcnN0V29yZChzdHJpbmcpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc3RyaW5nICE9PSAnc3RyaW5nJykgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmcudHJpbSgpLnN1YnN0cigwLCBzdHJpbmcuaW5kZXhPZignICcpKTtcbiAgICAgICAgfVxuICAgICAgICBTdHJpbmdIZWxwZXIuZ2V0Rmlyc3RXb3JkID0gZ2V0Rmlyc3RXb3JkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBzZXF1ZW5jZSBvZiBlbGVtZW50cyBvZiBzZWFyY2hTdHJpbmcgY29udmVydGVkIHRvIGEgU3RyaW5nIGlzIHRoZVxuICAgICAgICAgKiBzYW1lIGFzIHRoZSBjb3JyZXNwb25kaW5nIGVsZW1lbnRzIG9mIHRoaXMgb2JqZWN0IChjb252ZXJ0ZWQgdG8gYSBTdHJpbmcpIHN0YXJ0aW5nIGF0XG4gICAgICAgICAqIGVuZFBvc2l0aW9uIOKAkyBsZW5ndGgodGhpcykuIE90aGVyd2lzZSByZXR1cm5zIGZhbHNlLlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZW5kc1dpdGgoc3RyaW5nLCBlbmRpbmcsIGluZGV4KSB7XG4gICAgICAgICAgICBpZiAoIShpbmRleCA8IHRoaXMubGVuZ3RoKSkgaW5kZXggPSB0aGlzLmxlbmd0aDtlbHNlIGluZGV4IHw9IDA7XG4gICAgICAgICAgICB2YXIgZW5kaW5nTGVuZ3RoID0gZW5kaW5nLmxlbmd0aDtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmcuc3Vic3RyKGluZGV4IC0gZW5kaW5nTGVuZ3RoLCBlbmRpbmdMZW5ndGgpID09PSBlbmRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgU3RyaW5nSGVscGVyLmVuZHNXaXRoID0gZW5kc1dpdGg7XG4gICAgICAgIGZ1bmN0aW9uIGVzY2FwZVJlZ0V4cChzdHJpbmcpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICAgICAgICAgICAgICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG4gICAgICAgICAgICB2YXIgcmVIYXNSZWdFeHBDaGFyID0gUmVnRXhwKHJlUmVnRXhwQ2hhci5zb3VyY2UpO1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZyAmJiByZUhhc1JlZ0V4cENoYXIudGVzdChzdHJpbmcpID8gc3RyaW5nLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJykgOiBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgU3RyaW5nSGVscGVyLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcbiAgICB9KShTdHJpbmdIZWxwZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuU3RyaW5nSGVscGVyIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuU3RyaW5nSGVscGVyID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgU3R5bGVIZWxwZXI7XG4gICAgKGZ1bmN0aW9uIChTdHlsZUhlbHBlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSwgdGhlIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlIGlzIGF2YWlsYWJsZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGhhc0dldENvbXB1dGVkU3R5bGUgPSAnZ2V0Q29tcHV0ZWRTdHlsZScgaW4gd2luZG93O1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdHJ1ZSwgSFRNTEVsZW1lbnQuY3VycmVudFN0eWxlIGlzIGF2YWlsYWJsZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIGhhc0N1cnJlbnRTdHlsZVN1cHBvcnQgPSBmYWxzZTtcbiAgICAgICAgLy8gVGVzdCBmb3Igc3VwcG9ydCBvbiBlbGVtZW50IHByb3BlcnRpZXNcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0ZXN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgaGFzQ3VycmVudFN0eWxlU3VwcG9ydCA9ICdjdXJyZW50U3R5bGUnIGluIHRlc3RFbGVtZW50O1xuICAgICAgICAgICAgU3R5bGVIZWxwZXIudHJhbnNpdGlvbkVuZEV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIFRyYW5zaXRpb24gZXZlbnQgbWFwcGluZ1xuICAgICAgICAgICAgICAgIHZhciB0cmFuc2l0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgJ3RyYW5zaXRpb24nOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgICAgICAgICAgICAgICAgICdXZWJraXRUcmFuc2l0aW9uJzogJ3dlYmtpdFRyYW5zaXRpb25FbmQnLFxuICAgICAgICAgICAgICAgICAgICAnTW96VHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgICAgICAgICAgICAgJ09UcmFuc2l0aW9uJzogJ29UcmFuc2l0aW9uRW5kJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgayBpbiB0cmFuc2l0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoayBpbiB0ZXN0RWxlbWVudC5zdHlsZSkgcmV0dXJuIHRyYW5zaXRpb25zW2tdO1xuICAgICAgICAgICAgICAgIH1yZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfSgpO1xuICAgICAgICAgICAgU3R5bGVIZWxwZXIudHJhbnNpdGlvbnNTdXBwb3J0ZWQgPSAhIVN0eWxlSGVscGVyLnRyYW5zaXRpb25FbmRFdmVudDtcbiAgICAgICAgfSkoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGZhbHNlLCB0aGlzIGlzIG5vdCBhIHRvdWNoIGRldmljZVxuICAgICAgICAgKi9cbiAgICAgICAgU3R5bGVIZWxwZXIuaXNUb3VjaERldmljZSA9ICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyB8fCBuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMgPiAwO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZmFsc2UsIFNWR3MgYXJlIG5vdCBzdXBwb3J0ZWQgYnkgdGhlIGJyb3dzZXJcbiAgICAgICAgICovXG4gICAgICAgIFN0eWxlSGVscGVyLnN2Z1N1cHBvcnRlZCA9ICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TICYmICEhZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKS5jcmVhdGVTVkdSZWN0O1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBjdXJyZW50IGNvbXB1dGVkIHN0eWxlIG9mIGFuIGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkge1xuICAgICAgICAgICAgaWYgKGhhc0dldENvbXB1dGVkU3R5bGUpIHJldHVybiB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChoYXNDdXJyZW50U3R5bGVTdXBwb3J0ICYmIGVsZW1lbnRbJ2N1cnJlbnRTdHlsZSddICE9PSBudWxsKSByZXR1cm4gZWxlbWVudFsnY3VycmVudFN0eWxlJ107XG4gICAgICAgICAgICB0aHJvdyBcIlVuYWJsZSB0byBnZXQgY29tcHV0ZWQgc3R5bGVcIjtcbiAgICAgICAgfVxuICAgICAgICBTdHlsZUhlbHBlci5nZXRDb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZTtcbiAgICAgICAgdmFyIG9mZnNldFBvc2l0aW9uaW5ncyA9IFsnYWJzb2x1dGUnLCAncmVsYXRpdmUnLCAnZml4ZWQnXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGVjdHMgd2hldGhlciBvciBub3QgYWJzb2x1dGUvcmVsYXRpdmUvZml4ZWQgcG9zaXRpb25pbmcgaXMgZW5hYmxlZCBvbiBhbiBlbGVtZW50XG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBpc09mZnNldFBvc2l0aW9uZWQoZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gZWxlbWVudC5zdHlsZS5wb3NpdGlvbjtcbiAgICAgICAgICAgIGlmICghcG9zaXRpb24pIHBvc2l0aW9uID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbjtcbiAgICAgICAgICAgIC8vIElmIHdlIHN0aWxsIGRvbid0IGhhdmUgYSBwb3NpdGlvbiBhdCB0aGlzIHBvaW50IGl0J3Mgbm90IG9mZnNldCBwb3NpdGlvbmVkXG4gICAgICAgICAgICBpZiAoIXBvc2l0aW9uKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAvLyBUaGUgZWxlbWVudCBpcyBvZmZzZXQgcG9zaXRpb25lZCBpZiBpdHMgb25lIG9mIHRoZSBhYm92ZSBsaXN0XG4gICAgICAgICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBvZmZzZXRQb3NpdGlvbmluZ3NbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb3NpdGlvbmluZyA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChwb3NpdGlvbiA9PT0gcG9zaXRpb25pbmcpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBTdHlsZUhlbHBlci5pc09mZnNldFBvc2l0aW9uZWQgPSBpc09mZnNldFBvc2l0aW9uZWQ7XG4gICAgICAgIGZ1bmN0aW9uIGZsYXR0ZW5DbGFzc0xpc3QoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NlcyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgICAgIGNsYXNzZXNbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuQXJyYXlIZWxwZXIucmVkdWNlKGNsYXNzZXMsIGZ1bmN0aW9uIChjbGFzc0xpc3QsIGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgICAgIHZhciBzdWJjbGFzc0xpc3QgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjbGFzc05hbWUgPT09ICdzdHJpbmcnKSBzdWJjbGFzc0xpc3QgPSBbY2xhc3NOYW1lXTtlbHNlIHN1YmNsYXNzTGlzdCA9IGNsYXNzTmFtZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IHN1YmNsYXNzTGlzdFtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTGlzdCA9IGNsYXNzTGlzdC5jb25jYXQoYy5zcGxpdCgvXFxzKy8pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBjbGFzc0xpc3Q7XG4gICAgICAgICAgICB9LCBbXSk7XG4gICAgICAgIH1cbiAgICAgICAgU3R5bGVIZWxwZXIuZmxhdHRlbkNsYXNzTGlzdCA9IGZsYXR0ZW5DbGFzc0xpc3Q7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYXVzZXMgdGhlIGJyb3dzZXIgdG8gcmVjYWxjdWxhdGUgdGhlIHN0eWxlcyBvZiB0aGUgc3BlY2lmaWVkIGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHRyaWdnZXJSZWZsb3coZWxlbWVudCkge1xuICAgICAgICAgICAgZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgU3R5bGVIZWxwZXIudHJpZ2dlclJlZmxvdyA9IHRyaWdnZXJSZWZsb3c7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTa2lwIGEgdHJhbnNpdGlvbiBvbiBhbiBlbGVtZW50IHByZWZvcm1lZCBieSBhIGNhbGxiYWNrIGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50XG4gICAgICAgICAqIEBwYXJhbSBjYWxsYmFjayBBIGZ1bmN0aW9uIHRvIHJ1biBjYXVzaW5nIGEgdHJhbnNpdGlvbiB0byBiZSBmaXJlZCBvbiB0aGUgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc2tpcFRyYW5zaXRpb24oZWxlbWVudCwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGlmICghU3R5bGVIZWxwZXIudHJhbnNpdGlvbnNTdXBwb3J0ZWQpIHJldHVybiBjYWxsYmFjaygpO1xuICAgICAgICAgICAgdmFyIG9sZFRyYW5zaXRpb24gPSBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb247XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSAnbm9uZSc7XG4gICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdHJpZ2dlclJlZmxvdyhlbGVtZW50KTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbiA9IG9sZFRyYW5zaXRpb247XG4gICAgICAgIH1cbiAgICAgICAgU3R5bGVIZWxwZXIuc2tpcFRyYW5zaXRpb24gPSBza2lwVHJhbnNpdGlvbjtcbiAgICAgICAgZnVuY3Rpb24gb25OZXh0VHJhbnNpdGlvbkVuZChlbGVtZW50LCBsaXN0ZW5lcikge1xuICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLm9uY2UoZWxlbWVudCwgU3R5bGVIZWxwZXIudHJhbnNpdGlvbkVuZEV2ZW50LCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgICAgU3R5bGVIZWxwZXIub25OZXh0VHJhbnNpdGlvbkVuZCA9IG9uTmV4dFRyYW5zaXRpb25FbmQ7XG4gICAgICAgIGZ1bmN0aW9uIGhhc0NsYXNzZXMoZWxlbWVudCwgY2xhc3NBcnJheSkge1xuICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNsYXNzQXJyYXkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBjbGFzc0xpc3QgPSBBcnJheShfbGVuMiA+IDIgPyBfbGVuMiAtIDIgOiAwKSwgX2tleTIgPSAyOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTGlzdFtfa2V5MiAtIDJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjbGFzc2VzID0gY2xhc3NMaXN0IHx8IFtdO1xuICAgICAgICAgICAgICAgIGNsYXNzZXMucHVzaChjbGFzc0FycmF5KTtcbiAgICAgICAgICAgIH0gZWxzZSBjbGFzc2VzID0gY2xhc3NBcnJheTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSBjbGFzc2VzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIFN0eWxlSGVscGVyLmhhc0NsYXNzZXMgPSBoYXNDbGFzc2VzO1xuICAgICAgICBmdW5jdGlvbiBwYXJzZVBpeGVscyhwaXhlbHMpIHtcbiAgICAgICAgICAgIGlmICghUmlkZVN0eWxlclNob3djYXNlLlN0cmluZ0hlbHBlci5lbmRzV2l0aChwaXhlbHMsICdweCcpKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHBpeGVscyk7XG4gICAgICAgIH1cbiAgICAgICAgU3R5bGVIZWxwZXIucGFyc2VQaXhlbHMgPSBwYXJzZVBpeGVscztcbiAgICAgICAgZnVuY3Rpb24gY2FsY3VsYXRlUGFkZGluZyhlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgX2dldENvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLFxuICAgICAgICAgICAgICAgIHBhZGRpbmdCb3R0b20gPSBfZ2V0Q29tcHV0ZWRTdHlsZS5wYWRkaW5nQm90dG9tLFxuICAgICAgICAgICAgICAgIHBhZGRpbmdUb3AgPSBfZ2V0Q29tcHV0ZWRTdHlsZS5wYWRkaW5nVG9wLFxuICAgICAgICAgICAgICAgIHBhZGRpbmdMZWZ0ID0gX2dldENvbXB1dGVkU3R5bGUucGFkZGluZ0xlZnQsXG4gICAgICAgICAgICAgICAgcGFkZGluZ1JpZ2h0ID0gX2dldENvbXB1dGVkU3R5bGUucGFkZGluZ1JpZ2h0O1xuXG4gICAgICAgICAgICB2YXIgd2lkdGggPSBwYXJzZVBpeGVscyhwYWRkaW5nTGVmdCkgKyBwYXJzZVBpeGVscyhwYWRkaW5nUmlnaHQpO1xuICAgICAgICAgICAgdmFyIGhlaWdodCA9IHBhcnNlUGl4ZWxzKHBhZGRpbmdUb3ApICsgcGFyc2VQaXhlbHMocGFkZGluZ0JvdHRvbSk7XG4gICAgICAgICAgICBpZiAoaXNOYU4od2lkdGgpKSB3aWR0aCA9IDA7XG4gICAgICAgICAgICBpZiAoaXNOYU4oaGVpZ2h0KSkgaGVpZ2h0ID0gMDtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIFN0eWxlSGVscGVyLmNhbGN1bGF0ZVBhZGRpbmcgPSBjYWxjdWxhdGVQYWRkaW5nO1xuICAgIH0pKFN0eWxlSGVscGVyID0gUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBWaXNpYmlsaXR5SGVscGVyO1xuICAgIChmdW5jdGlvbiAoVmlzaWJpbGl0eUhlbHBlcikge1xuICAgICAgICB2YXIgZGVmYXVsdFRyYW5zaXRpb25JbkNsYXNzID0gJ2luJztcbiAgICAgICAgZnVuY3Rpb24gc2hvdyhlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgdHJhbnNpdGlvbkNsYXNzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBkZWZhdWx0VHJhbnNpdGlvbkluQ2xhc3M7XG5cbiAgICAgICAgICAgIHNldFZpc2liaWxpdHkoZWxlbWVudCwgdHJ1ZSk7XG4gICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIudHJpZ2dlclJlZmxvdyhlbGVtZW50KTtcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0cmFuc2l0aW9uQ2xhc3MpO1xuICAgICAgICAgICAgdmFyIHByb21pc2UgPSByaWRlc3R5bGVyLnByb21pc2UoKTtcbiAgICAgICAgICAgIGlmICghUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLnRyYW5zaXRpb25zU3VwcG9ydGVkKSBwcm9taXNlLnJlc29sdmUoKTtlbHNlIFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5vbk5leHRUcmFuc2l0aW9uRW5kKGVsZW1lbnQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIFZpc2liaWxpdHlIZWxwZXIuc2hvdyA9IHNob3c7XG4gICAgICAgIGZ1bmN0aW9uIGhpZGUoZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25DbGFzcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZGVmYXVsdFRyYW5zaXRpb25JbkNsYXNzO1xuXG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodHJhbnNpdGlvbkNsYXNzKTtcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gcmlkZXN0eWxlci5wcm9taXNlKCk7XG4gICAgICAgICAgICBwcm9taXNlLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzZXRWaXNpYmlsaXR5KGVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIudHJhbnNpdGlvbnNTdXBwb3J0ZWQpIHByb21pc2UucmVzb2x2ZSgpO2Vsc2UgUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLm9uTmV4dFRyYW5zaXRpb25FbmQoZWxlbWVudCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgVmlzaWJpbGl0eUhlbHBlci5oaWRlID0gaGlkZTtcbiAgICAgICAgZnVuY3Rpb24gc2V0VmlzaWJpbGl0eShlbGVtZW50LCB2aXNpYmxlKSB7XG4gICAgICAgICAgICBpZiAoIXZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFZpc2liaWxpdHlIZWxwZXIuc2V0VmlzaWJpbGl0eSA9IHNldFZpc2liaWxpdHk7XG4gICAgfSkoVmlzaWJpbGl0eUhlbHBlciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5WaXNpYmlsaXR5SGVscGVyIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuVmlzaWJpbGl0eUhlbHBlciA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIHN0cmluZ3M7XG4gICAgKGZ1bmN0aW9uIChzdHJpbmdzKSB7XG4gICAgICAgIHN0cmluZ3MucmVnaXN0ZXJMYW5ndWFnZShSaWRlU3R5bGVyU2hvd2Nhc2UuTGFuZ3VhZ2VLZXlzLkVuLCB7XG4gICAgICAgICAgICBcInZlaGljbGUtc2VsZWN0LXZpc3VhbGl6ZS1pbnRyb1wiOiBcIlZpc3VhbGl6ZSB3aGVlbHMsIHRpcmVzIGFuZCBzdXNwZW5zaW9uIG1vZGlmaWNhdGlvbnMgb24geW91ciB2ZWhpY2xlLlwiLFxuICAgICAgICAgICAgXCJ2ZWhpY2xlLXNlbGVjdC1zaGFyZS1pbnRyb1wiOiBcIlNoYXJlIHdpdGggeW91ciBmcmllbmRzLCBvciBzYXZlIGZvciBpbnNwaXJhdGlvbi5cIixcbiAgICAgICAgICAgIFwic2VsZWN0LXlvdXItdmVoaWNsZVwiOiBcIlNlbGVjdCB5b3VyIFZlaGljbGVcIixcbiAgICAgICAgICAgIFwicGFpbnRcIjogXCJQYWludFwiLFxuICAgICAgICAgICAgXCJzdXNwZW5zaW9uXCI6IFwiU3VzcGVuc2lvblwiLFxuICAgICAgICAgICAgXCJ3aGVlbHNcIjogXCJXaGVlbHNcIixcbiAgICAgICAgICAgIFwidGlyZXNcIjogXCJUaXJlc1wiLFxuICAgICAgICAgICAgXCJmcm9udFwiOiBcIkZyb250XCIsXG4gICAgICAgICAgICBcInJlYXJcIjogXCJSZWFyXCIsXG4gICAgICAgICAgICBcInZlaGljbGUtZGV0YWlsc1wiOiBcIlZlaGljbGUgRGV0YWlsc1wiLFxuICAgICAgICAgICAgXCJjaGFuZ2UtdmVoaWNsZVwiOiBcIkNoYW5nZSBWZWhpY2xlXCIsXG4gICAgICAgICAgICBcIndoZWVsLWRldGFpbHNcIjogXCJXaGVlbCBEZXRhaWxzXCIsXG4gICAgICAgICAgICBcInRpcmUtZGV0YWlsc1wiOiBcIlRpcmUgRGV0YWlsc1wiLFxuICAgICAgICAgICAgXCJzZWxlY3QtcGFpbnRcIjogXCJTZWxlY3QgUGFpbnRcIixcbiAgICAgICAgICAgIFwic2VsZWN0LXdoZWVsc1wiOiBcIlNlbGVjdCBXaGVlbHNcIixcbiAgICAgICAgICAgIFwic2VsZWN0LXRpcmVzXCI6IFwiU2VsZWN0IFRpcmVzXCIsXG4gICAgICAgICAgICBcImFkanVzdC1zdXNwZW5zaW9uXCI6IFwiQWRqdXN0IFN1c3BlbnNpb25cIixcbiAgICAgICAgICAgIFwiY2hhbmdlLXdoZWVsLXNpemVcIjogXCJDaGFuZ2UgV2hlZWwgU2l6ZVwiLFxuICAgICAgICAgICAgXCJuby1yZXN1bHRzXCI6IFwiTm8gUmVzdWx0cyBGb3VuZFwiLFxuICAgICAgICAgICAgXCJ3aGVlbC1mZWF0dXJlcy1zcGVjc1wiOiBcIldoZWVsIEZlYXR1cmVzICYgU3BlY3NcIixcbiAgICAgICAgICAgIFwic2hhcmUtbXktdmVoaWNsZVwiOiBcIlNoYXJlIE15IFZlaGljbGVcIixcbiAgICAgICAgICAgIFwic2hhcmUtaW5zdHJ1Y3Rpb25zXCI6IFwiVXNlIHRoZSBidXR0b25zIHRvIHNoYXJlIG9yIHNhdmUgeW91ciB2ZWhpY2xlIGNvbmZpZ3VyYXRpb24uXCIsXG4gICAgICAgICAgICBcIm5vLWRlc2NyaXB0aW9uLXdoZWVsXCI6IFwiV2UgZG9uJ3QgaGF2ZSBhIGRlc2NyaXB0aW9uIGZvciB0aGlzIHdoZWVsIHlldFwiLFxuICAgICAgICAgICAgJ3Nob3ctc3BlY3MnOiBcIlNob3cgU3BlY3NcIixcbiAgICAgICAgICAgICdjYWxsJzogXCJDYWxsXCIsXG4gICAgICAgICAgICAnc2l6ZSc6IFwiU2l6ZVwiLFxuICAgICAgICAgICAgJ29mZnNldCc6IFwiT2Zmc2V0XCIsXG4gICAgICAgICAgICAnYm9sdC1wYXR0ZXJuJzogXCJCb2x0IFBhdHRlcm5cIixcbiAgICAgICAgICAgICdjZW50ZXJib3JlJzogXCJDZW50ZXJib3JlXCIsXG4gICAgICAgICAgICAncHJpY2UnOiBcIlByaWNlXCIsXG4gICAgICAgICAgICAnaXRlbS1udW1iZXInOiBcIkl0ZW0gI1wiLFxuICAgICAgICAgICAgJ2JyYW5kcyc6IFwiQnJhbmRzXCIsXG4gICAgICAgICAgICAnZmluaXNoZXMnOiBcIkZpbmlzaGVzXCIsXG4gICAgICAgICAgICAnc2l6ZXMnOiBcIlNpemVzXCIsXG4gICAgICAgICAgICAnYWxsJzogXCJBbGxcIixcbiAgICAgICAgICAgICdhbGwtYnJhbmRzJzogXCJBbGwgQnJhbmRzXCIsXG4gICAgICAgICAgICAnYWxsLWZpbmlzaGVzJzogXCJBbGwgRmluaXNoZXNcIixcbiAgICAgICAgICAgICdhbGwtc2l6ZXMnOiBcIkFsbCBTaXplc1wiLFxuICAgICAgICAgICAgJ2ZpbHRlci1yZXN1bHRzJzogXCJGaWx0ZXIgUmVzdWx0c1wiLFxuICAgICAgICAgICAgJ2xvYWRpbmctZWxsaXBzaXMnOiBcIkxvYWRpbmcuLi5cIixcbiAgICAgICAgICAgICdzaG93LWNvdW50LWZvcm1hdC10aXJlcyc6IFwiU2hvdyB7Y291bnR9IFRpcmVzXCIsXG4gICAgICAgICAgICAnc2hvdy1jb3VudC1mb3JtYXQtd2hlZWxzJzogXCJTaG93IHtjb3VudH0gV2hlZWxzXCIsXG4gICAgICAgICAgICAnc3BlY2lmaWNhdGlvbnMnOiBcIlNwZWNpZmljYXRpb25zXCIsXG4gICAgICAgICAgICAnc3BlZWQtcmF0aW5nJzogXCJTcGVlZCBSYXRpbmdcIixcbiAgICAgICAgICAgICdhbnktc3BlZWQtcmF0aW5ncyc6IFwiQW55IFNwZWVkIFJhdGluZ3NcIixcbiAgICAgICAgICAgICdmZWF0dXJlcyc6IFwiRmVhdHVyZXNcIixcbiAgICAgICAgICAgICdhbnktZmVhdHVyZXMnOiBcIkFueSBGZWF0dXJlc1wiLFxuICAgICAgICAgICAgJ2ZpbmlzaCc6IFwiRmluaXNoXCIsXG4gICAgICAgICAgICAnc3VtbWFyeSc6IFwiU3VtbWFyeVwiLFxuICAgICAgICAgICAgJ2NoZWNrLW91dC1teS12ZWhpY2xlJzogXCJDaGVjayBvdXQgbXkgdmVoaWNsZSFcIlxuICAgICAgICB9KTtcbiAgICB9KShzdHJpbmdzID0gUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiXX0=
