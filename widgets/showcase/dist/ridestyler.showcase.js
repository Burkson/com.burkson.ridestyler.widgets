function RideStylerVehicleSelectionModal(e){function t(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e}function n(e,t){if(e){"string"==typeof e?e=document.querySelectorAll(e):e.tagName&&(e=[e]);for(var n=0;n<e.length;n++)""==e[n].className.trim()?e[n].className=t:(" "+e[n].className+" ").indexOf(" "+t+" ")<0&&(e[n].className+=" "+t)}}function i(e,t){if(e){"string"==typeof e?e=document.querySelectorAll(e):e.tagName&&(e=[e]);for(var n=new RegExp(" "+t+" ","g"),i=new RegExp("(^)"+t+"($| )","g"),r=new RegExp("(^| )"+t+"($)","g"),o=0;o<e.length;o++)e[o].className=e[o].className.replace(n," "),e[o].className=e[o].className.replace(i,""),e[o].className=e[o].className.replace(r,""),""==e[o].className.trim()&&e[o].removeAttribute("class")}}function r(){if(!document.getElementById("vsm-backdrop")){var e=document.createElement("div");e.id="vsm-backdrop",e.style.opacity=0,e.style.transition="opacity linear .3s",s().appendChild(e),function(){var e=document.getElementById("vsm-backdrop");e||r();setTimeout(function(){e.style.opacity=.55,e.onTransitionEndOnce(function(){})},0)}()}}function o(){var e=document.getElementById("vsm-backdrop");e&&(e.style.opacity=0,e.onTransitionEndOnce(function(){e.parentNode.removeChild(e)}))}function a(){var t=document.querySelectorAll(".vsm-modal:not(#vsm_modal_base)"),n=document.querySelectorAll(".vsm-modal.in")[0],r=f.slice(0),a=d.slice(0);f=[],d=[],m=!0,v.indexOf(n.getAttribute("id"))>-1?(n.style.opacity=0,n.onTransitionEndOnce(function(){[].forEach.call(t,function(e){var t=e.getAttribute("id");v.indexOf(t)>-1&&e.parentNode.removeChild(e)});for(var n={},i=0;i<r.length;i++){var o=r[i].split(":");2==o.length&&(n[o[0]]=o[1])}if(e.callback&&"function"==typeof e.callback){var s={FinalSelectionMade:!1,Vehicle:n,FullSelectionData:a};e.callback(s)}else console.warn("No callback function provided.")}),o(),i(document.body,"vsm-modal-open")):console.warn("This vsm instance is not shown yet.")}function s(){return"function"==typeof e.container?e.container():e.container?e.container:document.body}function l(n,i,r){var o=document.getElementById("vsm_modal_base");if(o){var l=o.cloneNode(!0);if(l.id="vsm_modal_"+_vsmModalIDCounter,v.push("vsm_modal_"+_vsmModalIDCounter),l.className+=" vsm_modal_"+_vsmModalIDCounter,s().appendChild(l),void 0!==r){i=t({backModal:r,thisModal:l},i);var u=l.querySelectorAll(".vsm-back-step");[].forEach.call(u,function(t){var n=function(t){t.target.removeEventListener(t.type,n);var r=i.backModal,o=i.thisModal;c(r,o,!0).done(function(){if(f.length&&f.pop(),d.length&&d.pop(),o.parentNode&&o.parentNode.removeChild(o),e.afterBackClicked&&"function"==typeof e.afterBackClicked){for(var t={},n=0;n<f.length;n++){var i=f[n].split(":");2==i.length&&(t[i[0]]=i[1])}var r={FullSelection:t,FullSelectionData:d};e.afterBackClicked(r)}})};t.addEventListener("click",n,!1)})}"function"==typeof n&&n(l,i);var h=l.querySelectorAll(".vsm-close");return[].forEach.call(h,function(e){e.onclick=function(){a()}}),_vsmModalIDCounter++,l}}function c(e,t,r){if(r=!!r,e&&t){var o=ridestyler.promise(),a=ridestyler.promise();if(!r){var s=parseInt(t.style.zIndex,10)||0,l=parseInt(e.style.zIndex,10)||0;l<=s&&(l=s+1),e.style.zIndex=l}y?r?(e.style.display="block",n(e,"in"),a.resolve(),setTimeout(function(){i(t,"in"),t.onTransitionEndOnce(function(){t.style.display="none",o.resolve()})},50)):(e.style.display="block",setTimeout(function(){n(e,"in"),e.onTransitionEndOnce(function(){t.style.display="none",i(t,"in"),a.resolve(),o.resolve()})},50)):(r?(e.style.display="block",n(e,"in"),i(t,"in"),t.style.display="none"):(e.style.display="block",n(e,"in"),t.style.display="none",i(t,"in")),a.resolve(),o.resolve());var c=ridestyler.promise(),u=function(){var e=a.state(),t=o.state();if(0!==e&&0!==t)return 2===e||2===t?c.reject():void c.resolve()};return a.always(u),o.always(u),c}}function u(t,n){var i={Selection:d};n&&n.bestConfiguration?p(t,n.bestConfiguration):ridestyler.ajax.send({action:"Vehicle/Select",data:i,callback:function(n){n.Success&&(n.BestConfiguration?e.IncludeOETireOption?ridestyler.ajax.send({action:"Vehicle/GetTireOptionDetails",data:{VehicleConfiguration:n.BestConfiguration.Value},bestConfiguration:n.BestConfiguration,callback:function(e){if(e.Success){var n=e.Details,i=this.bestConfiguration;if(1==n.length){a=function(e){var t=e.Front.Description,n=e.Rear.Description;return t==n?t:"F: "+t+" R: "+n}(n[0]);i.TireOptionBasic={TireOptionID:n[0].TireOptionID,TireOptionString:a},p(t,i)}else{for(var r={Groups:null,Description:"Select Your Tire Size",Title:"Tire Size",Key:"tireoption",Options:[]},o=0;o<n.length;o++){var a=function(e){var t=e.Front.Description,n=e.Rear.Description;return t==n?t:"F: "+t+" R: "+n}(n[o]);r.Options.push({Group:null,Label:a,Value:n[o].TireOptionID})}h(t,r,i)}}else p(t,i)}}):p(t,n.BestConfiguration):h(t,n.Menu))}})}function h(t,i,r){var o=t.querySelectorAll(".vsm-list-container")[0],a=t.querySelectorAll(".vsm-header")[0],s=t.querySelectorAll(".vsm-modal-body")[0],h=t.querySelectorAll(".vsm-line-step")[0],p=t.querySelectorAll(".vsm-final")[0],v=i.Options,y=i.Key,g=i.Title,b=i.Groups,C=function(n){var i=n.Label,o=n.Value;if(void 0!==i&&void 0!==o){var a=document.createElement("a"),s=document.createTextNode(i);return a.className="vsm-option-item vsm-btn vsm-btn-gray",a.href="javascript:void(0)",a.setAttribute("data-optionvalue",o),a.setAttribute("data-optionlabel",i),a.appendChild(s),a.onclick=function(){!function(n){var i=n.getAttribute("data-optionvalue"),o=n.getAttribute("data-optionkey"),a=n.getAttribute("data-optionlabel"),s=n.getAttribute("data-menutitle");if(d.push(o+":"+i),f.push(s+":"+a),e.afterOptionSelected&&"function"==typeof e.afterOptionSelected){for(var h={},p=0;p<f.length;p++){var v=f[p].split(":");2==v.length&&(h[v[0]]=v[1])}var y={CurrentSelection:{},FullSelection:h,FullSelectionData:d};y.CurrentSelection[s]=a,e.afterOptionSelected(y)}if(!m){var g={};"tireoption"==o&&r&&(r.TireOptionBasic={TireOptionID:i,TireOptionString:a},g.bestConfiguration=r),c(l(u,g,t),t)}}(this)},a}},w=function(e){var t=document.createElement("p"),n=document.createTextNode(e);return t.className="vsm-group-title",t.appendChild(n),t};p.parentNode.removeChild(p),n(h,"vsm-single-step");var A=document.createElement("div"),S=document.createElement("i"),E=document.createElement("span");if(A.className="vsm-column-2",S.className="dot-style dot-before active",E.className="dot-info dot-info-before active",A.appendChild(S),A.appendChild(E),d.length){n(s,"vsm-has-back");I=document.createElement("div");I.className="vsm-column-2 vsm-before";var k=f.map(function(e){return e&&2===e.split(":").length?e.split(":")[1]:""});E.innerHTML=k.join(" "),h.appendChild(I),h.appendChild(A)}else{var I;(I=document.createElement("div")).className="vsm-column-2 no-style",h.appendChild(I),h.appendChild(A)}for(a.innerHTML=i.Description;o.firstChild;)o.removeChild(o.firstChild);if(v.length){var T=document.createElement("div");if(T.className="vsm-group-wrap center-piece",o.appendChild(T),e.GroupOptions&&b){for(var O={},L=0;L<v.length;L++){var _=v[L],H=_.Group;H?O[H]?O[H].push(_):O[H]=[_]:O._ungrouped?O._ungrouped.push(_):O._ungrouped=[_]}for(var R=0;R<b.length;R++){var M=b[R];if(D=O[M]){var B=document.createElement("div"),x="vsm-one-container";"year"==i.Key&&v.length>10&&(2==e.YearScreenColumns&&(x="vsm-half-container"),e.YearScreenColumns>=3&&(x="vsm-third-container")),"make"==i.Key&&v.length>10&&e.MakeScreenColumns>=2&&(x="vsm-half-container"),B.className="vsm-group-list "+x,T.appendChild(w(M)),T.appendChild(B);for(L=0;L<D.length;L++){void 0!==(P=C(D[L]))&&(P.setAttribute("data-optionkey",y),P.setAttribute("data-menutitle",g),B.appendChild(P))}}}if(O._ungrouped){var B=document.createElement("div"),x="vsm-one-container";"year"==i.Key&&v.length>10&&(2==e.YearScreenColumns&&(x="vsm-half-container"),e.YearScreenColumns>=3&&(x="vsm-third-container")),"make"==i.Key&&v.length>10&&e.MakeScreenColumns>=2&&(x="vsm-half-container"),B.className="vsm-group-list "+x,T.appendChild(w("Ungrouped")),T.appendChild(B);for(var D=O._ungrouped,L=0;L<D.length;L++){void 0!==(P=C(D[L]))&&(P.setAttribute("data-optionkey",y),P.setAttribute("data-menutitle",g),B.appendChild(P))}}}else{var B=document.createElement("div"),x="vsm-one-container";"year"==i.Key&&v.length>10&&(2==e.YearScreenColumns&&(x="vsm-half-container"),e.YearScreenColumns>=3&&(x="vsm-third-container")),"make"==i.Key&&v.length>10&&e.MakeScreenColumns>=2&&(x="vsm-half-container"),B.className="vsm-group-list "+x,T.appendChild(B);for(L=0;L<v.length;L++){var P=C(v[L]);void 0!==P&&(P.setAttribute("data-optionkey",y),P.setAttribute("data-menutitle",g),B.appendChild(P))}}}}function p(i,r){var s=i.querySelectorAll(".vsm-vehicle-display")[0],l=i.querySelectorAll(".vsm-final .vsm-loaderIcon")[0],c=i.querySelectorAll(".vehicle-result-name")[0],u=(i.querySelectorAll(".vehicle-result-size")[0],i.querySelectorAll(".vsm-find")[0]),h=i.querySelectorAll(".vsm-modal-body")[0],p=i.querySelectorAll(".vsm-in-progress")[0];n(h,"vsm-has-back"),u.innerHTML=e.ConfirmButtonText;for(var v=[],m={},y=0;y<f.length;y++){var g=f[y].split(":");2==g.length&&"Tire Size"!=g[0]&&(v.push(g[1]),m[g[0]]=g[1])}for(var b=v[0],C=v.pop(),y=1;y<v.length&&!(y>=3);y++)b+=" "+v[y];var w=b+" "+C;c.innerHTML=w,n(i.querySelectorAll(".vsm-modal-body")[0],"vsm-final-screen"),p.parentNode.removeChild(p);var A={Width:260,Height:120,PositionX:1,PositionY:1};e.ImageSettings&&t(A,"function"==typeof e.ImageSettings?e.ImageSettings.call(this,e):e.ImageSettings),A.VehicleConfiguration=r.Value;var S=ridestyler.ajax.url("Vehicle/Render",A);s.src=S,s.style.display="inline-block",s.onload=function(){l.style.display="none"};var E=function(n){n.target.removeEventListener(n.type,E);var i=document.querySelectorAll(".vsm-modal:not(#vsm_modal_base)"),s=function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null}(this,".vsm-modal"),l=d.slice(0);f=[],d=[],s.style.opacity=0,s.onTransitionEndOnce(function(){[].forEach.call(i,function(e){e.parentNode.removeChild(e)});var n={ImageUrl:S,VehicleDescription:w,VehicleConfiguration:r.Value};if(t(n,m),r.TireOptionBasic&&t(n,r.TireOptionBasic),e.callback&&"function"==typeof e.callback){var o={FinalSelectionMade:!0,Vehicle:n,FullSelectionData:l};e.callback(o)}else a(),console.warn("No callback function provided.")}),o()};u.addEventListener("click",E,!1)}var f=[],d=[],v=[],m=!1;e=t({ConfirmButtonText:"Confirm Vehicle",GroupOptions:!1,IncludeOETireOption:!1,YearScreenColumns:3,MakeScreenColumns:2,container:document.body,afterBackClicked:null,afterOptionSelected:null,callback:null},e);var y=function(){var e=(document.body||document.documentElement).style;return void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.OTransition||void 0!==e.transition}();!function(){var e,t=document.createElement("div"),n={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},i="";for(e in n)if(n.hasOwnProperty(e)&&void 0!==t.style[e]){i=n[e];break}HTMLElement.prototype.onTransitionEndOnce=function(e){if(""===i)return e(),this;var t=function(n){e(),n.target.removeEventListener(n.type,t)};return this.addEventListener(i,t,!1),this}}(),this.Show=function(){!function(){if(!document.getElementById("vsm_modal_base")){var e=document.createElement("div");e.innerHTML=vsm_template,s().appendChild(e.firstChild)}}();if(document.querySelectorAll(".vsm-modal:not(#vsm_modal_base)").length)console.warn("There is currently another vsm instance running.");else{var e=l();r(),e.style.display="block",m=!1,setTimeout(function(){n(e,"in"),n(document.body,"vsm-modal-open"),e.onTransitionEndOnce(function(){u(e)})},50)}},this.Hide=a}function RideStylerViewport(e,t){function n(){o.style.opacity=.75}var i="data:image/gif;base64,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ODwvYj48YnIgLz4KPGJyIC8+CjxiPldhcm5pbmc8L2I+OiAgbXlzcWxfcXVlcnkoKSBbPGEgaHJlZj0nZnVuY3Rpb24ubXlzcWwtcXVlcnknPmZ1bmN0aW9uLm15c3FsLXF1ZXJ5PC9hPl06IENhbid0IGNvbm5lY3QgdG8gbG9jYWwgTXlTUUwgc2VydmVyIHRocm91Z2ggc29ja2V0ICcvdmFyL3J1bi9teXNxbGQvbXlzcWxkLnNvY2snICgyKSBpbiA8Yj4vaG9tZS9hamF4bG9hZC93d3cvbGlicmFpcmllcy9jbGFzcy5teXNxbC5waHA8L2I+IG9uIGxpbmUgPGI+Njg8L2I+PGJyIC8+CjxiciAvPgo8Yj5XYXJuaW5nPC9iPjogIG15c3FsX3F1ZXJ5KCkgWzxhIGhyZWY9J2Z1bmN0aW9uLm15c3FsLXF1ZXJ5Jz5mdW5jdGlvbi5teXNxbC1xdWVyeTwvYT5dOiBBIGxpbmsgdG8gdGhlIHNlcnZlciBjb3VsZCBub3QgYmUgZXN0YWJsaXNoZWQgaW4gPGI+L2hvbWUvYWpheGxvYWQvd3d3L2xpYnJhaXJpZXMvY2xhc3MubXlzcWwucGhwPC9iPiBvbiBsaW5lIDxiPjY4PC9iPjxiciAvPgo8YnIgLz4KPGI+V2FybmluZzwvYj46ICBteXNxbF9xdWVyeSgpIFs8YSBocmVmPSdmdW5jdGlvbi5teXNxbC1xdWVyeSc+ZnVuY3Rpb24ubXlzcWwtcXVlcnk8L2E+XTogQ2FuJ3QgY29ubmVjdCB0byBsb2NhbCBNeVNRTCBzZXJ2ZXIgdGhyb3VnaCBzb2NrZXQgJy92YXIvcnVuL215c3FsZC9teXNxbGQuc29jaycgKDIpIGluIDxiPi9ob21lL2FqYXhsb2FkL3d3dy9saWJyYWlyaWVzL2NsYXNzLm15c3FsLnBocDwvYj4gb24gbGluZSA8Yj42ODwvYj48YnIgLz4KPGJyIC8+CjxiPldhcm5pbmc8L2I+OiAgbXlzcWxfcXVlcnkoKSBbPGEgaHJlZj0nZnVuY3Rpb24ubXlzcWwtcXVlcnknPmZ1bmN0aW9uLm15c3FsLXF1ZXJ5PC9hPl06IEEgbGluayB0byB0aGUgc2VydmVyIGNvdWxkIG5vdCBiZSBlc3RhYmxpc2hlZCBpbiA8Yj4vaG9tZS9hamF4bG9hZC93d3cvbGlicmFpcmllcy9jbGFzcy5teXNxbC5waHA8L2I+IG9uIGxpbmUgPGI+Njg8L2I+PGJyIC8+Cg==",r=null,o=null,a=null,s={};t&&t.state&&(s=t.state),"string"==typeof e?"function"==typeof document.querySelector?r=document.querySelector(e):"."===e[0]?r=document.getElementsByClassName(e.substring(1)):"#"===e[0]&&(r=document.getElementById(e.substring(1))):"object"==typeof e&&e.tagName&&(r=e),r||console.error("Could not find element specified for: "+e);(function(){var e=function(e){return"fixed"===e||"absolute"===e||"relative"===e};if(e(r.style.position))return!0;var t="getComputedStyle"in window?getComputedStyle(r):r.runtimeStyle;return!!t&&e(t.position)})()||(r.style.position="relative"),(o=document.createElement("img")).src=i,o.style.padding="5px",o.style.borderRadius="21px",o.style.background="#fff",o.style.opacity=0,o.style.transition="opacity linear 300ms",o.style.position="absolute",o.style.left="50%",o.style.top="50%",o.style.zIndex="50",o.style.marginLeft="-21px",o.style.marginTop="-21px",r.appendChild(o),n(),0==function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}()||(a=new function(e){function t(t){var a=ridestyler.promise();n();var s=ridestyler.ajax.url("Vehicle/Render",t);null!=i&&(r.push(i),i=null);for(var l=r.length-1;l>=0;l--){var c=r[l];c.style.opacity>.5&&(c.style.opacity=.5)}var u=document.createElement("img");return u.style.position="absolute",u.style.left=0,u.style.top=0,u.style.opacity=0,u.style.transition="opacity linear 300ms",e.appendChild(i=u),u.onload=function(){if(u==i){o.style.opacity=0,u.style.opacity=1;for(var t=r.splice(0,r.length),n=0;n<t.length;n++)t[n].style.opacity=0;setTimeout(function(){for(var n=0;n<t.length;n++)e.removeChild(t[n]);a.resolve()},300)}},u.onerror=function(){a.reject()},u.src=s,a}var i=null,r=[];this.Render=function(e){return t(e)}}(r)),this.Update=function(e){(e=function(e){var t={};if("string"==typeof e){var n=e.split("?");n=(1==n.length?n[0]:n[1]).split("&");for(var i=0;i<n.length;i++){var r=n[i].split("="),o=decodeURIComponent(r[0]).toLowerCase();"key"!=o&&"token"!=o&&(t[o]=decodeURIComponent(r[1]))}}else for(var a in e)t[a.toLowerCase()]=e[a];return t}(e)).width=r.clientWidth,e.height=r.clientHeight;var t=!1;for(var n in e){var i=s[n],o=e[n];i!=o&&(s[n]=o,t=!0)}if(0==t){var l=ridestyler.promise();return l.resolve(),l}return a.Render(s)}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.noUiSlider=e()}(function(){"use strict";function e(e){e.preventDefault()}function t(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function n(e,t,n){n>0&&(o(e,t),setTimeout(function(){a(e,t)},n))}function i(e){return Array.isArray(e)?e:[e]}function r(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function o(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function a(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function s(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:n?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:n?e.documentElement.scrollTop:e.body.scrollTop}}function l(e,t){return 100/(t-e)}function c(e,t){return 100*t/(e[1]-e[0])}function u(e,t){for(var n=1;e>=t[n];)n+=1;return n}function h(e,t,n){if(n>=e.slice(-1)[0])return 100;var i,r,o,a,s=u(n,e);return i=e[s-1],r=e[s],o=t[s-1],a=t[s],o+function(e,t){return c(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}([i,r],n)/l(o,a)}function p(e,t,n,i){if(100===i)return i;var r,o,a=u(i,e);return n?(r=e[a-1],o=e[a],i-r>(o-r)/2?o:r):t[a-1]?e[a-1]+function(e,t){return Math.round(e/t)*t}(i-e[a-1],t[a-1]):i}function f(e,n,i){var r;if("number"==typeof n&&(n=[n]),"[object Array]"!==Object.prototype.toString.call(n))throw new Error("noUiSlider ("+j+"): 'range' contains invalid value.");if(r="min"===e?0:"max"===e?100:parseFloat(e),!t(r)||!t(n[0]))throw new Error("noUiSlider ("+j+"): 'range' value isn't numeric.");i.xPct.push(r),i.xVal.push(n[0]),r?i.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(i.xSteps[0]=n[1]),i.xHighestCompleteStep.push(0)}function d(e,t,n){if(!t)return!0;n.xSteps[e]=c([n.xVal[e],n.xVal[e+1]],t)/l(n.xPct[e],n.xPct[e+1]);var i=(n.xVal[e+1]-n.xVal[e])/n.xNumSteps[e],r=Math.ceil(Number(i.toFixed(3))-1),o=n.xVal[e]+n.xNumSteps[e]*r;n.xHighestCompleteStep[e]=o}function v(e,t,n){this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=t;var i,r=[];for(i in e)e.hasOwnProperty(i)&&r.push([e[i],i]);for(r.length&&"object"==typeof r[0][0]?r.sort(function(e,t){return e[0][0]-t[0][0]}):r.sort(function(e,t){return e[0]-t[0]}),i=0;i<r.length;i++)f(r[i][1],r[i][0],this);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)d(i,this.xNumSteps[i],this)}function m(e){if(function(e){return"object"==typeof e&&"function"==typeof e.to&&"function"==typeof e.from}(e))return!0;throw new Error("noUiSlider ("+j+"): 'format' requires 'to' and 'from' methods.")}function y(e,n){if(!t(n))throw new Error("noUiSlider ("+j+"): 'step' is not numeric.");e.singleStep=n}function g(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider ("+j+"): 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider ("+j+"): Missing 'min' or 'max' in 'range'.");if(t.min===t.max)throw new Error("noUiSlider ("+j+"): 'range' 'min' and 'max' cannot be equal.");e.spectrum=new v(t,e.snap,e.singleStep)}function b(e,t){if(t=i(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider ("+j+"): 'start' option is incorrect.");e.handles=t.length,e.start=t}function C(e,t){if(e.snap=t,"boolean"!=typeof t)throw new Error("noUiSlider ("+j+"): 'snap' option must be a boolean.")}function w(e,t){if(e.animate=t,"boolean"!=typeof t)throw new Error("noUiSlider ("+j+"): 'animate' option must be a boolean.")}function A(e,t){if(e.animationDuration=t,"number"!=typeof t)throw new Error("noUiSlider ("+j+"): 'animationDuration' option must be a number.")}function S(e,t){var n,i=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(n=1;n<e.handles;n++)i.push(t);i.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider ("+j+"): 'connect' option doesn't match handle count.");i=t}e.connect=i}function E(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider ("+j+"): 'orientation' option is invalid.")}}function k(e,n){if(!t(n))throw new Error("noUiSlider ("+j+"): 'margin' option must be numeric.");if(0!==n&&(e.margin=e.spectrum.getMargin(n),!e.margin))throw new Error("noUiSlider ("+j+"): 'margin' option is only supported on linear sliders.")}function I(e,n){if(!t(n))throw new Error("noUiSlider ("+j+"): 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(n),!e.limit||e.handles<2)throw new Error("noUiSlider ("+j+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function T(e,n){if(!t(n))throw new Error("noUiSlider ("+j+"): 'padding' option must be numeric.");if(0!==n){if(e.padding=e.spectrum.getMargin(n),!e.padding)throw new Error("noUiSlider ("+j+"): 'padding' option is only supported on linear sliders.");if(e.padding<0)throw new Error("noUiSlider ("+j+"): 'padding' option must be a positive number.");if(e.padding>=50)throw new Error("noUiSlider ("+j+"): 'padding' option must be less than half the range.")}}function O(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider ("+j+"): 'direction' option was not recognized.")}}function L(e,t){if("string"!=typeof t)throw new Error("noUiSlider ("+j+"): 'behaviour' must be a string containing options.");var n=t.indexOf("tap")>=0,i=t.indexOf("drag")>=0,r=t.indexOf("fixed")>=0,o=t.indexOf("snap")>=0,a=t.indexOf("hover")>=0;if(r){if(2!==e.handles)throw new Error("noUiSlider ("+j+"): 'fixed' behaviour must be used with 2 handles");k(e,e.start[1]-e.start[0])}e.events={tap:n||o,drag:i,fixed:r,snap:o,hover:a}}function _(e,t){if(e.multitouch=t,"boolean"!=typeof t)throw new Error("noUiSlider ("+j+"): 'multitouch' option must be a boolean.")}function H(e,t){if(!1!==t)if(!0===t){e.tooltips=[];for(var n=0;n<e.handles;n++)e.tooltips.push(!0)}else{if(e.tooltips=i(t),e.tooltips.length!==e.handles)throw new Error("noUiSlider ("+j+"): must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider ("+j+"): 'tooltips' must be passed a formatter or 'false'.")})}}function R(e,t){e.ariaFormat=t,m(t)}function M(e,t){e.format=t,m(t)}function B(e,t){if(void 0!==t&&"string"!=typeof t&&!1!==t)throw new Error("noUiSlider ("+j+"): 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function x(e,t){if(void 0!==t&&"object"!=typeof t)throw new Error("noUiSlider ("+j+"): 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix){e.cssClasses={};for(var n in t)t.hasOwnProperty(n)&&(e.cssClasses[n]=e.cssPrefix+t[n])}else e.cssClasses=t}function D(e,t){if(!0!==t&&!1!==t)throw new Error("noUiSlider ("+j+"): 'useRequestAnimationFrame' option should be true (default) or false.");e.useRequestAnimationFrame=t}function P(e){var t={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:N,format:N},n={step:{r:!1,t:y},start:{r:!0,t:b},connect:{r:!0,t:S},direction:{r:!0,t:O},snap:{r:!1,t:C},animate:{r:!1,t:w},animationDuration:{r:!1,t:A},range:{r:!0,t:g},orientation:{r:!1,t:E},margin:{r:!1,t:k},limit:{r:!1,t:I},padding:{r:!1,t:T},behaviour:{r:!0,t:L},multitouch:{r:!0,t:_},ariaFormat:{r:!1,t:R},format:{r:!1,t:M},tooltips:{r:!1,t:H},cssPrefix:{r:!1,t:B},cssClasses:{r:!1,t:x},useRequestAnimationFrame:{r:!1,t:D}},i={connect:!1,direction:"ltr",behaviour:"tap",multitouch:!1,orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(n).forEach(function(r){if(void 0===e[r]&&void 0===i[r]){if(n[r].r)throw new Error("noUiSlider ("+j+"): '"+r+"' is required.");return!0}n[r].t(t,void 0===e[r]?i[r]:e[r])}),t.pips=e.pips;var r=[["left","top"],["right","bottom"]];return t.style=r[t.dir][t.ort],t.styleOposite=r[t.dir?0:1][t.ort],t}function F(t,r,l){function c(e,t){var n=Z.createElement("div");return t&&o(n,t),e.appendChild(n),n}function u(e,t){var n=c(e,r.cssClasses.origin),i=c(n,r.cssClasses.handle);return i.setAttribute("data-handle",t),i.setAttribute("tabindex","0"),i.setAttribute("role","slider"),i.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===t?o(i,r.cssClasses.handleLower):t===r.handles-1&&o(i,r.cssClasses.handleUpper),n}function h(e,t){return!!t&&c(e,r.cssClasses.connect)}function p(e,t){return!!r.tooltips[t]&&c(e.firstChild,r.cssClasses.tooltip)}function f(e,t,n){function i(e,t){var n=t===r.cssClasses.value,i=n?s:l;return t+" "+(n?u:h)[r.ort]+" "+i[e]}var a=Z.createElement("div"),s=[r.cssClasses.valueNormal,r.cssClasses.valueLarge,r.cssClasses.valueSub],l=[r.cssClasses.markerNormal,r.cssClasses.markerLarge,r.cssClasses.markerSub],u=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],h=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];return o(a,r.cssClasses.pips),o(a,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(e).forEach(function(o){!function(e,o){o[1]=o[1]&&t?t(o[0],o[1]):o[1];var s=c(a,!1);s.className=i(o[1],r.cssClasses.marker),s.style[r.style]=e+"%",o[1]&&((s=c(a,!1)).className=i(o[1],r.cssClasses.value),s.style[r.style]=e+"%",s.innerText=n.to(o[0]))}(o,e[o])}),a}function d(){V&&(!function(e){e.parentElement.removeChild(e)}(V),V=null)}function v(e){d();var t=e.mode,n=e.density||1,i=e.filter||!1,r=function(e,t,n){function i(e,t){return(e+t).toFixed(7)/1}var r={},o=J.xVal[0],a=J.xVal[J.xVal.length-1],s=!1,l=!1,c=0;return(n=n.slice().sort(function(e,t){return e-t}).filter(function(e){return!this[e]&&(this[e]=!0)},{}))[0]!==o&&(n.unshift(o),s=!0),n[n.length-1]!==a&&(n.push(a),l=!0),n.forEach(function(o,a){var u,h,p,f,d,v,m,y,g,b=o,C=n[a+1];if("steps"===t&&(u=J.xNumSteps[a]),u||(u=C-b),!1!==b&&void 0!==C)for(u=Math.max(u,1e-7),h=b;h<=C;h=i(h,u)){for(m=(d=(f=J.toStepping(h))-c)/e,g=d/(y=Math.round(m)),p=1;p<=y;p+=1)r[(c+p*g).toFixed(5)]=["x",0];v=n.indexOf(h)>-1?1:"steps"===t?2:0,!a&&s&&(v=0),h===C&&l||(r[f.toFixed(5)]=[h,v]),c=f}}),r}(n,t,function(e,t,n){if("range"===e||"steps"===e)return J.xVal;if("count"===e){if(!t)throw new Error("noUiSlider ("+j+"): 'values' required for mode 'count'.");var i,r=100/(t-1),o=0;for(t=[];(i=o++*r)<=100;)t.push(i);e="positions"}return"positions"===e?t.map(function(e){return J.fromStepping(n?J.getStep(e):e)}):"values"===e?n?t.map(function(e){return J.fromStepping(J.getStep(J.toStepping(e)))}):t:void 0}(t,e.values||!1,e.stepped||!1)),o=e.format||{to:Math.round};return V=K.appendChild(f(r,i,o))}function m(){var e=D.getBoundingClientRect(),t="offset"+["Width","Height"][r.ort];return 0===r.ort?e.width||D[t]:e.height||D[t]}function y(e,t,n,i){var o=function(o){return!K.hasAttribute("disabled")&&(!function(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}(K,r.cssClasses.tap)&&(!!(o=function(e,t,n){var i,o,a=0===e.type.indexOf("touch"),l=0===e.type.indexOf("mouse"),c=0===e.type.indexOf("pointer");0===e.type.indexOf("MSPointer")&&(c=!0);if(a&&r.multitouch){var u=function(e){return e.target===n||n.contains(e.target)};if("touchstart"===e.type){var h=Array.prototype.filter.call(e.touches,u);if(h.length>1)return!1;i=h[0].pageX,o=h[0].pageY}else{var p=Array.prototype.find.call(e.changedTouches,u);if(!p)return!1;i=p.pageX,o=p.pageY}}else if(a){if(e.touches.length>1)return!1;i=e.changedTouches[0].pageX,o=e.changedTouches[0].pageY}t=t||s(Z),(l||c)&&(i=e.clientX+t.x,o=e.clientY+t.y);return e.pageOffset=t,e.points=[i,o],e.cursor=l||c,e}(o,i.pageOffset,i.target||t))&&(!(e===U.start&&void 0!==o.buttons&&o.buttons>1)&&((!i.hover||!o.buttons)&&(W||o.preventDefault(),o.calcPoint=o.points[r.ort],void n(o,i))))))},a=[];return e.split(" ").forEach(function(e){t.addEventListener(e,o,!!W&&{passive:!0}),a.push([e,o])}),a}function g(e){var t=100*(e-function(e,t){var n=e.getBoundingClientRect(),i=e.ownerDocument,r=i.documentElement,o=s(i);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(o.x=0),t?n.top+o.y-r.clientTop:n.left+o.x-r.clientLeft}(D,r.ort))/m();return r.dir?100-t:t}function b(e,t,n,i){var r=n.slice(),o=[!e,e],a=[e,!e];i=i.slice(),e&&i.reverse(),i.length>1?i.forEach(function(e,n){var i=T(r,e,r[e]+t,o[n],a[n],!1);!1===i?t=0:(t=i-r[e],r[e]=i)}):o=a=[!0];var s=!1;i.forEach(function(e,i){s=_(e,n[e]+t,o[i],a[i])||s}),s&&i.forEach(function(e){C("update",e),C("slide",e)})}function C(e,t,n){Object.keys(X).forEach(function(i){var o=i.split(".")[0];e===o&&X[i].forEach(function(e){e.call(Q,q.map(r.format.to),t,q.slice(),n||!1,z.slice())})})}function w(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&S(e,t)}function A(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return S(e,t);var n=(r.dir?-1:1)*(e.calcPoint-t.startCalcPoint);b(n>0,100*n/t.baseSize,t.locations,t.handleNumbers)}function S(t,n){n.handle&&(a(n.handle,r.cssClasses.active),G-=1),n.listeners.forEach(function(e){$.removeEventListener(e[0],e[1])}),0===G&&(a(K,r.cssClasses.drag),L(),t.cursor&&(ee.style.cursor="",ee.removeEventListener("selectstart",e))),n.handleNumbers.forEach(function(e){C("change",e),C("set",e),C("end",e)})}function E(t,n){var i;if(1===n.handleNumbers.length){var a=F[n.handleNumbers[0]];if(a.hasAttribute("disabled"))return!1;i=a.children[0],G+=1,o(i,r.cssClasses.active)}t.stopPropagation();var s=[],l=y(U.move,$,A,{target:t.target,handle:i,listeners:s,startCalcPoint:t.calcPoint,baseSize:m(),pageOffset:t.pageOffset,handleNumbers:n.handleNumbers,buttonsProperty:t.buttons,locations:z.slice()}),c=y(U.end,$,S,{target:t.target,handle:i,listeners:s,handleNumbers:n.handleNumbers}),u=y("mouseout",$,w,{target:t.target,handle:i,listeners:s,handleNumbers:n.handleNumbers});s.push.apply(s,l.concat(c,u)),t.cursor&&(ee.style.cursor=getComputedStyle(t.target).cursor,F.length>1&&o(K,r.cssClasses.drag),ee.addEventListener("selectstart",e,!1)),n.handleNumbers.forEach(function(e){C("start",e)})}function k(e){e.stopPropagation();var t=g(e.calcPoint),i=function(e){var t=100,n=!1;return F.forEach(function(i,r){if(!i.hasAttribute("disabled")){var o=Math.abs(z[r]-e);o<t&&(n=r,t=o)}}),n}(t);if(!1===i)return!1;r.events.snap||n(K,r.cssClasses.tap,r.animationDuration),_(i,t,!0,!0),L(),C("slide",i,!0),C("update",i,!0),C("change",i,!0),C("set",i,!0),r.events.snap&&E(e,{handleNumbers:[i]})}function I(e){var t=g(e.calcPoint),n=J.getStep(t),i=J.fromStepping(n);Object.keys(X).forEach(function(e){"hover"===e.split(".")[0]&&X[e].forEach(function(e){e.call(Q,i)})})}function T(e,t,n,i,o,a){return F.length>1&&(i&&t>0&&(n=Math.max(n,e[t-1]+r.margin)),o&&t<F.length-1&&(n=Math.min(n,e[t+1]-r.margin))),F.length>1&&r.limit&&(i&&t>0&&(n=Math.min(n,e[t-1]+r.limit)),o&&t<F.length-1&&(n=Math.max(n,e[t+1]-r.limit))),r.padding&&(0===t&&(n=Math.max(n,r.padding)),t===F.length-1&&(n=Math.min(n,100-r.padding))),n=J.getStep(n),!((n=function(e){return Math.max(Math.min(e,100),0)}(n))===e[t]&&!a)&&n}function O(e){return e+"%"}function L(){Y.forEach(function(e){var t=z[e]>50?-1:1,n=3+(F.length+t*e);F[e].childNodes[0].style.zIndex=n})}function _(e,t,n,i){return!1!==(t=T(z,e,t,n,i,!1))&&(function(e,t){z[e]=t,q[e]=J.fromStepping(t);var n=function(){F[e].style[r.style]=O(t),H(e),H(e+1)};window.requestAnimationFrame&&r.useRequestAnimationFrame?window.requestAnimationFrame(n):n()}(e,t),!0)}function H(e){if(N[e]){var t=0,n=100;0!==e&&(t=z[e-1]),e!==N.length-1&&(n=z[e]),N[e].style[r.style]=O(t),N[e].style[r.styleOposite]=O(100-n)}}function R(e,t){null!==e&&!1!==e&&("number"==typeof e&&(e=String(e)),!1===(e=r.format.from(e))||isNaN(e)||_(t,J.toStepping(e),!1,!1))}function M(e,t){var o=i(e),a=void 0===z[0];t=void 0===t||!!t,o.forEach(R),r.animate&&!a&&n(K,r.cssClasses.tap,r.animationDuration),Y.forEach(function(e){_(e,z[e],!0,!1)}),L(),Y.forEach(function(e){C("update",e),null!==o[e]&&t&&C("set",e)})}function B(){var e=q.map(r.format.to);return 1===e.length?e[0]:e}function x(e,t){X[e]=X[e]||[],X[e].push(t),"update"===e.split(".")[0]&&F.forEach(function(e,t){C("update",t)})}var D,F,N,Q,V,U=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},W=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),K=t,z=[],Y=[],G=0,J=r.spectrum,q=[],X={},Z=t.ownerDocument,$=Z.documentElement,ee=Z.body;if(K.noUiSlider)throw new Error("noUiSlider ("+j+"): Slider was already initialized.");return function(e){o(e,r.cssClasses.target),0===r.dir?o(e,r.cssClasses.ltr):o(e,r.cssClasses.rtl),0===r.ort?o(e,r.cssClasses.horizontal):o(e,r.cssClasses.vertical),D=c(e,r.cssClasses.base)}(K),function(e,t){F=[],(N=[]).push(h(t,e[0]));for(var n=0;n<r.handles;n++)F.push(u(t,n)),Y[n]=n,N.push(h(t,e[n+1]))}(r.connect,D),Q={destroy:function(){for(var e in r.cssClasses)r.cssClasses.hasOwnProperty(e)&&a(K,r.cssClasses[e]);for(;K.firstChild;)K.removeChild(K.firstChild);delete K.noUiSlider},steps:function(){return z.map(function(e,t){var n=J.getNearbySteps(e),i=q[t],r=n.thisStep.step,o=null;!1!==r&&i+r>n.stepAfter.startValue&&(r=n.stepAfter.startValue-i),o=i>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&i-n.stepBefore.highestStep,100===e?r=null:0===e&&(o=null);var a=J.countStepDecimals();return null!==r&&!1!==r&&(r=Number(r.toFixed(a))),null!==o&&!1!==o&&(o=Number(o.toFixed(a))),[o,r]})},on:x,off:function(e){var t=e&&e.split(".")[0],n=t&&e.substring(t.length);Object.keys(X).forEach(function(e){var i=e.split(".")[0],r=e.substring(i.length);t&&t!==i||n&&n!==r||delete X[e]})},get:B,set:M,reset:function(e){M(r.start,e)},__moveHandles:function(e,t,n){b(e,t,z,n)},options:l,updateOptions:function(e,t){var n=B(),i=["margin","limit","padding","range","animate","snap","step","format"];i.forEach(function(t){void 0!==e[t]&&(l[t]=e[t])});var o=P(l);i.forEach(function(t){void 0!==e[t]&&(r[t]=o[t])}),J=o.spectrum,r.margin=o.margin,r.limit=o.limit,r.padding=o.padding,r.pips&&v(r.pips),z=[],M(e.start||n,t)},target:K,removePips:d,pips:v},function(e){e.fixed||F.forEach(function(e,t){y(U.start,e.children[0],E,{handleNumbers:[t]})}),e.tap&&y(U.start,D,k,{}),e.hover&&y(U.move,D,I,{hover:!0}),e.drag&&N.forEach(function(t,n){if(!1!==t&&0!==n&&n!==N.length-1){var i=F[n-1],a=F[n],s=[t];o(t,r.cssClasses.draggable),e.fixed&&(s.push(i.children[0]),s.push(a.children[0])),s.forEach(function(e){y(U.start,e,E,{handles:[i,a],handleNumbers:[n-1,n]})})}})}(r.events),M(r.start),r.pips&&v(r.pips),r.tooltips&&function(){var e=F.map(p);x("update",function(t,n,i){if(e[n]){var o=t[n];!0!==r.tooltips[n]&&(o=r.tooltips[n].to(i[n])),e[n].innerHTML=o}})}(),x("update",function(e,t,n,i,o){Y.forEach(function(e){var t=F[e],i=T(z,e,0,!0,!0,!0),a=T(z,e,100,!0,!0,!0),s=o[e],l=r.ariaFormat.to(n[e]);t.children[0].setAttribute("aria-valuemin",i.toFixed(1)),t.children[0].setAttribute("aria-valuemax",a.toFixed(1)),t.children[0].setAttribute("aria-valuenow",s.toFixed(1)),t.children[0].setAttribute("aria-valuetext",l)})}),Q}var j="10.1.0";v.prototype.getMargin=function(e){var t=this.xNumSteps[0];if(t&&e/t%1!=0)throw new Error("noUiSlider ("+j+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&c(this.xVal,e)},v.prototype.toStepping=function(e){return e=h(this.xVal,this.xPct,e)},v.prototype.fromStepping=function(e){return function(e,t,n){if(n>=100)return e.slice(-1)[0];var i,r,o,a,s=u(n,t);return i=e[s-1],r=e[s],o=t[s-1],a=t[s],function(e,t){return(n-o)*l(o,a)*(e[1]-e[0])/100+e[0]}([i,r])}(this.xVal,this.xPct,e)},v.prototype.getStep=function(e){return e=p(this.xPct,this.xSteps,this.snap,e)},v.prototype.getNearbySteps=function(e){var t=u(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t-0],step:this.xNumSteps[t-0],highestStep:this.xHighestCompleteStep[t-0]}}},v.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(r);return Math.max.apply(null,e)},v.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var N={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};return{version:j,create:function(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider ("+j+"): create requires a single element, got: "+e);var n=F(e,P(t),t);return e.noUiSlider=n,n}}});var QRCode;!function(){function e(e){this.mode=s.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,n=this.data.length;t<n;t++){var i=[],r=this.data.charCodeAt(t);r>65536?(i[0]=240|(1835008&r)>>>18,i[1]=128|(258048&r)>>>12,i[2]=128|(4032&r)>>>6,i[3]=128|63&r):r>2048?(i[0]=224|(61440&r)>>>12,i[1]=128|(4032&r)>>>6,i[2]=128|63&r):r>128?(i[0]=192|(1984&r)>>>6,i[1]=128|63&r):i[0]=r,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function n(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}function i(e,t){this.totalCount=e,this.dataCount=t}function r(){this.buffer=[],this.length=0}function o(){var e=!1,t=navigator.userAgent;if(/android/i.test(t)){e=!0;var n=t.toString().match(/android ([0-9]\.[0-9])/i);n&&n[1]&&(e=parseFloat(n[1]))}return e}function a(e,t){for(var n=1,i=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),r=0,o=C.length;r<=o;r++){var a=0;switch(t){case l.L:a=C[r][0];break;case l.M:a=C[r][1];break;case l.Q:a=C[r][2];break;case l.H:a=C[r][3]}if(i<=a)break;n++}if(n>C.length)throw new Error("Too long data");return n}e.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,n=this.parsedData.length;t<n;t++)e.put(this.parsedData[t],8)}},t.prototype={addData:function(t){var n=new e(t);this.dataList.push(n),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,n){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[i][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,n),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(this.modules[e+n][t+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=y.getLostPoint(this);(0==n||e>i)&&(e=i,t=n)}return t},createMovieClip:function(e,t,n){var i=e.createEmptyMovieClip(t,n);this.make();for(var r=0;r<this.modules.length;r++)for(var o=1*r,a=0;a<this.modules[r].length;a++){var s=1*a;this.modules[r][a]&&(i.beginFill(0,100),i.moveTo(s,o),i.lineTo(s+1,o),i.lineTo(s+1,o+1),i.lineTo(s,o+1),i.endFill())}return i},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=y.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t],r=e[n];if(null==this.modules[i][r])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)this.modules[i+o][r+a]=-2==o||2==o||-2==a||2==a||0==o&&0==a}},setupTypeNumber:function(e){for(var t=y.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){i=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++){var i=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,i=y.getBCHTypeInfo(n),r=0;r<15;r++){o=!e&&1==(i>>r&1);r<6?this.modules[r][8]=o:r<8?this.modules[r+1][8]=o:this.modules[this.moduleCount-15+r][8]=o}for(r=0;r<15;r++){var o=!e&&1==(i>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=o:r<9?this.modules[8][15-r-1+1]=o:this.modules[8][15-r-1]=o}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,i=this.moduleCount-1,r=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;s<2;s++)if(null==this.modules[i][a-s]){var l=!1;o<e.length&&(l=1==(e[o]>>>r&1));y.getMask(t,i,a-s)&&(l=!l),this.modules[i][a-s]=l,-1==--r&&(o++,r=7)}if((i+=n)<0||this.moduleCount<=i){i-=n,n=-n;break}}}},t.PAD0=236,t.PAD1=17,t.createData=function(e,n,o){for(var a=i.getRSBlocks(e,n),s=new r,l=0;l<o.length;l++){var c=o[l];s.put(c.mode,4),s.put(c.getLength(),y.getLengthInBits(c.mode,e)),c.write(s)}for(var u=0,l=0;l<a.length;l++)u+=a[l].dataCount;if(s.getLengthInBits()>8*u)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*u+")");for(s.getLengthInBits()+4<=8*u&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;;){if(s.getLengthInBits()>=8*u)break;if(s.put(t.PAD0,8),s.getLengthInBits()>=8*u)break;s.put(t.PAD1,8)}return t.createBytes(s,a)},t.createBytes=function(e,t){for(var i=0,r=0,o=0,a=new Array(t.length),s=new Array(t.length),l=0;l<t.length;l++){var c=t[l].dataCount,u=t[l].totalCount-c;r=Math.max(r,c),o=Math.max(o,u),a[l]=new Array(c);for(v=0;v<a[l].length;v++)a[l][v]=255&e.buffer[v+i];i+=c;var h=y.getErrorCorrectPolynomial(u),p=new n(a[l],h.getLength()-1).mod(h);s[l]=new Array(h.getLength()-1);for(v=0;v<s[l].length;v++){var f=v+p.getLength()-s[l].length;s[l][v]=f>=0?p.get(f):0}}for(var d=0,v=0;v<t.length;v++)d+=t[v].totalCount;for(var m=new Array(d),g=0,v=0;v<r;v++)for(l=0;l<t.length;l++)v<a[l].length&&(m[g++]=a[l][v]);for(v=0;v<o;v++)for(l=0;l<t.length;l++)v<s[l].length&&(m[g++]=s[l][v]);return m};for(var s={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l={L:1,M:0,Q:3,H:2},c=0,u=1,h=2,p=3,f=4,d=5,v=6,m=7,y={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;y.getBCHDigit(t)-y.getBCHDigit(y.G15)>=0;)t^=y.G15<<y.getBCHDigit(t)-y.getBCHDigit(y.G15);return(e<<10|t)^y.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;y.getBCHDigit(t)-y.getBCHDigit(y.G18)>=0;)t^=y.G18<<y.getBCHDigit(t)-y.getBCHDigit(y.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return y.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case c:return(t+n)%2==0;case u:return t%2==0;case h:return n%3==0;case p:return(t+n)%3==0;case f:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case d:return t*n%2+t*n%3==0;case v:return(t*n%2+t*n%3)%2==0;case m:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new n([1],0),i=0;i<e;i++)t=t.multiply(new n([1,g.gexp(i)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case s.MODE_NUMBER:return 10;case s.MODE_ALPHA_NUM:return 9;case s.MODE_8BIT_BYTE:case s.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case s.MODE_NUMBER:return 12;case s.MODE_ALPHA_NUM:return 11;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case s.MODE_NUMBER:return 14;case s.MODE_ALPHA_NUM:return 13;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i++)for(u=0;u<t;u++){for(var r=0,o=e.isDark(i,u),a=-1;a<=1;a++)if(!(i+a<0||t<=i+a))for(var s=-1;s<=1;s++)u+s<0||t<=u+s||0==a&&0==s||o==e.isDark(i+a,u+s)&&r++;r>5&&(n+=3+r-5)}for(i=0;i<t-1;i++)for(u=0;u<t-1;u++){var l=0;e.isDark(i,u)&&l++,e.isDark(i+1,u)&&l++,e.isDark(i,u+1)&&l++,e.isDark(i+1,u+1)&&l++,0!=l&&4!=l||(n+=3)}for(i=0;i<t;i++)for(u=0;u<t-6;u++)e.isDark(i,u)&&!e.isDark(i,u+1)&&e.isDark(i,u+2)&&e.isDark(i,u+3)&&e.isDark(i,u+4)&&!e.isDark(i,u+5)&&e.isDark(i,u+6)&&(n+=40);for(u=0;u<t;u++)for(i=0;i<t-6;i++)e.isDark(i,u)&&!e.isDark(i+1,u)&&e.isDark(i+2,u)&&e.isDark(i+3,u)&&e.isDark(i+4,u)&&!e.isDark(i+5,u)&&e.isDark(i+6,u)&&(n+=40);for(var c=0,u=0;u<t;u++)for(i=0;i<t;i++)e.isDark(i,u)&&c++;return n+=10*(Math.abs(100*c/t/t-50)/5)}},g={glog:function(e){if(e<1)throw new Error("glog("+e+")");return g.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return g.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},b=0;b<8;b++)g.EXP_TABLE[b]=1<<b;for(b=8;b<256;b++)g.EXP_TABLE[b]=g.EXP_TABLE[b-4]^g.EXP_TABLE[b-5]^g.EXP_TABLE[b-6]^g.EXP_TABLE[b-8];for(b=0;b<255;b++)g.LOG_TABLE[g.EXP_TABLE[b]]=b;n.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var r=0;r<e.getLength();r++)t[i+r]^=g.gexp(g.glog(this.get(i))+g.glog(e.get(r)));return new n(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=g.glog(this.get(0))-g.glog(e.get(0)),i=new Array(this.getLength()),r=0;r<this.getLength();r++)i[r]=this.get(r);for(r=0;r<e.getLength();r++)i[r]^=g.gexp(g.glog(e.get(r))+t);return new n(i,0).mod(e)}},i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],i.getRSBlocks=function(e,t){var n=i.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,o=[],a=0;a<r;a++)for(var s=n[3*a+0],l=n[3*a+1],c=n[3*a+2],u=0;u<s;u++)o.push(new i(l,c));return o},i.getRsBlockTable=function(e,t){switch(t){case l.L:return i.RS_BLOCK_TABLE[4*(e-1)+0];case l.M:return i.RS_BLOCK_TABLE[4*(e-1)+1];case l.Q:return i.RS_BLOCK_TABLE[4*(e-1)+2];case l.H:return i.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},r.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var C=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],w=function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){function t(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);for(var i in t)t.hasOwnProperty(i)&&n.setAttribute(i,t[i]);return n}var n=this._htOption,i=this._el,r=e.getModuleCount();Math.floor(n.width/r),Math.floor(n.height/r);this.clear();var o=t("svg",{viewBox:"0 0 "+String(r)+" "+String(r),width:"100%",height:"100%",fill:n.colorLight});o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),i.appendChild(o),o.appendChild(t("rect",{fill:n.colorLight,width:"100%",height:"100%"})),o.appendChild(t("rect",{fill:n.colorDark,width:"1",height:"1",id:"template"}));for(var a=0;a<r;a++)for(var s=0;s<r;s++)if(e.isDark(a,s)){var l=t("use",{x:String(s),y:String(a)});l.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),o.appendChild(l)}},e.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},e}(),A="svg"===document.documentElement.tagName.toLowerCase()?w:"undefined"==typeof CanvasRenderingContext2D?function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){for(var t=this._htOption,n=this._el,i=e.getModuleCount(),r=Math.floor(t.width/i),o=Math.floor(t.height/i),a=['<table style="border:0;border-collapse:collapse;">'],s=0;s<i;s++){a.push("<tr>");for(var l=0;l<i;l++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+r+"px;height:"+o+"px;background-color:"+(e.isDark(s,l)?t.colorDark:t.colorLight)+';"></td>');a.push("</tr>")}a.push("</table>"),n.innerHTML=a.join("");var c=n.childNodes[0],u=(t.width-c.offsetWidth)/2,h=(t.height-c.offsetHeight)/2;u>0&&h>0&&(c.style.margin=h+"px "+u+"px")},e.prototype.clear=function(){this._el.innerHTML=""},e}():function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var t=1/window.devicePixelRatio,n=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(e,i,r,o,a,s,l,c,u){if("nodeName"in e&&/img/i.test(e.nodeName))for(var h=arguments.length-1;h>=1;h--)arguments[h]=arguments[h]*t;else void 0===c&&(arguments[1]*=t,arguments[2]*=t,arguments[3]*=t,arguments[4]*=t);n.apply(this,arguments)}}var i=function(e,t){this._bIsPainted=!1,this._android=o(),this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return i.prototype.draw=function(e){var t=this._elImage,n=this._oContext,i=this._htOption,r=e.getModuleCount(),o=i.width/r,a=i.height/r,s=Math.round(o),l=Math.round(a);t.style.display="none",this.clear();for(var c=0;c<r;c++)for(var u=0;u<r;u++){var h=e.isDark(c,u),p=u*o,f=c*a;n.strokeStyle=h?i.colorDark:i.colorLight,n.lineWidth=1,n.fillStyle=h?i.colorDark:i.colorLight,n.fillRect(p,f,o,a),n.strokeRect(Math.floor(p)+.5,Math.floor(f)+.5,s,l),n.strokeRect(Math.ceil(p)-.5,Math.ceil(f)-.5,s,l)}this._bIsPainted=!0},i.prototype.makeImage=function(){this._bIsPainted&&function(e,t){var n=this;if(n._fFail=t,n._fSuccess=e,null===n._bSupportDataURI){var i=document.createElement("img"),r=function(){n._bSupportDataURI=!1,n._fFail&&n._fFail.call(n)};return i.onabort=r,i.onerror=r,i.onload=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)},void(i.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===n._bSupportDataURI&&n._fSuccess?n._fSuccess.call(n):!1===n._bSupportDataURI&&n._fFail&&n._fFail.call(n)}.call(this,e)},i.prototype.isPainted=function(){return this._bIsPainted},i.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},i.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e},i}();(QRCode=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:l.H},"string"==typeof t&&(t={text:t}),t)for(var n in t)this._htOption[n]=t[n];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(A=w),this._android=o(),this._el=e,this._oQRCode=null,this._oDrawing=new A(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(e){this._oQRCode=new t(a(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=l}(),function(e,t){"function"==typeof define&&define.amd?define(["exports"],function(n){t(e.TinyAnimate=n)}):t("object"==typeof exports?exports:e.TinyAnimate={})}(this,function(e){e.animate=function(e,n,i,r,o,a){function s(t){if(!c){var p=(t||+new Date)-h;p>=0&&r(o(p,e,u,i)),p>=0&&p>=i?(r(n),a()):l(s)}}if("number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"function"==typeof r){"string"==typeof o&&t[o]&&(o=t[o]),"function"!=typeof o&&(o=t.linear),"function"!=typeof a&&(a=function(){});var l=window.requestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},c=!1,u=n-e;r(e);var h=window.performance&&window.performance.now?window.performance.now():+new Date;return l(s),{cancel:function(){c=!0}}}},e.animateCSS=function(t,n,i,r,o,a,s,l){return e.animate(r,o,a,function(e){t.style[n]=e+i},s,l)},e.cancel=function(e){e&&e.cancel()};var t=e.easings={};t.linear=function(e,t,n,i){return n*e/i+t},t.easeInQuad=function(e,t,n,i){return n*(e/=i)*e+t},t.easeOutQuad=function(e,t,n,i){return-n*(e/=i)*(e-2)+t},t.easeInOutQuad=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},t.easeInCubic=function(e,t,n,i){return n*(e/=i)*e*e+t},t.easeOutCubic=function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t},t.easeInOutCubic=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},t.easeInQuart=function(e,t,n,i){return n*(e/=i)*e*e*e+t},t.easeOutQuart=function(e,t,n,i){return-n*((e=e/i-1)*e*e*e-1)+t},t.easeInOutQuart=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},t.easeInQuint=function(e,t,n,i){return n*(e/=i)*e*e*e*e+t},t.easeOutQuint=function(e,t,n,i){return n*((e=e/i-1)*e*e*e*e+1)+t},t.easeInOutQuint=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},t.easeInSine=function(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t},t.easeOutSine=function(e,t,n,i){return n*Math.sin(e/i*(Math.PI/2))+t},t.easeInOutSine=function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t},t.easeInExpo=function(e,t,n,i){return 0==e?t:n*Math.pow(2,10*(e/i-1))+t},t.easeOutExpo=function(e,t,n,i){return e==i?t+n:n*(1-Math.pow(2,-10*e/i))+t},t.easeInOutExpo=function(e,t,n,i){return 0==e?t:e==i?t+n:(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},t.easeInCirc=function(e,t,n,i){return-n*(Math.sqrt(1-(e/=i)*e)-1)+t},t.easeOutCirc=function(e,t,n,i){return n*Math.sqrt(1-(e=e/i-1)*e)+t},t.easeInOutCirc=function(e,t,n,i){return(e/=i/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},t.easeInElastic=function(e,t,n,i){var r=0,o=n;if(0==e)return t;if(1==(e/=i))return t+n;if(r||(r=.3*i),o<Math.abs(n)){o=n;a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return-o*Math.pow(2,10*(e-=1))*Math.sin((e*i-a)*(2*Math.PI)/r)+t},t.easeOutElastic=function(e,t,n,i){var r=0,o=n;if(0==e)return t;if(1==(e/=i))return t+n;if(r||(r=.3*i),o<Math.abs(n)){o=n;a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return o*Math.pow(2,-10*e)*Math.sin((e*i-a)*(2*Math.PI)/r)+n+t},t.easeInOutElastic=function(e,t,n,i){var r=0,o=n;if(0==e)return t;if(2==(e/=i/2))return t+n;if(r||(r=i*(.3*1.5)),o<Math.abs(n)){o=n;a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return e<1?o*Math.pow(2,10*(e-=1))*Math.sin((e*i-a)*(2*Math.PI)/r)*-.5+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*i-a)*(2*Math.PI)/r)*.5+n+t},t.easeInBack=function(e,t,n,i,r){return void 0==r&&(r=1.70158),n*(e/=i)*e*((r+1)*e-r)+t},t.easeOutBack=function(e,t,n,i,r){return void 0==r&&(r=1.70158),n*((e=e/i-1)*e*((r+1)*e+r)+1)+t},t.easeInOutBack=function(e,t,n,i,r){return void 0==r&&(r=1.70158),(e/=i/2)<1?n/2*(e*e*((1+(r*=1.525))*e-r))+t:n/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t},t.easeInBounce=function(e,n,i,r){return i-t.easeOutBounce(r-e,0,i,r)+n},t.easeOutBounce=function(e,t,n,i){return(e/=i)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},t.easeInOutBounce=function(e,n,i,r){return e<r/2?.5*t.easeInBounce(2*e,0,i,r)+n:.5*t.easeOutBounce(2*e-r,0,i,r)+.5*i+n}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var n={exports:{}};t(n.exports,n),e.Impetus=n.exports}}(this,function(e,t){"use strict";function n(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return n=function(){return e},e}var i=.04,r=.11;window.addEventListener("touchmove",function(){});t.exports=function e(t){function a(){b.call(g,N,Q)}function s(e){if("touchmove"===e.type||"touchstart"===e.type||"touchend"===e.type){var t=e.targetTouches[0]||e.changedTouches[0];return{x:t.clientX,y:t.clientY,id:t.identifier}}return{x:e.clientX,y:e.clientY,id:null}}function l(e){var t=s(e);W||K||(W=!0,z=!1,P=t.id,M=x=t.x,B=D=t.y,Y=[],p(M,B),document.addEventListener("touchmove",c,!!n()&&{passive:!1}),document.addEventListener("touchend",u),document.addEventListener("touchcancel",h),document.addEventListener("mousemove",c,!!n()&&{passive:!1}),document.addEventListener("mouseup",u))}function c(e){e.preventDefault();var t=s(e);W&&t.id===P&&(x=t.x,D=t.y,p(M,B),U||o(f),U=!0)}function u(e){var t=s(e);W&&t.id===P&&h()}function h(){W=!1,p(M,B),function(){var e=Y[0],t=Y[Y.length-1],n=t.x-e.x,i=t.y-e.y,r=(t.time-e.time)/15/w;F=n/r||0,j=i/r||0;var a=v();(Math.abs(F)>1||Math.abs(j)>1||!a.inBounds)&&(z=!0,o(m))}(),document.removeEventListener("touchmove",c),document.removeEventListener("touchend",u),document.removeEventListener("touchcancel",h),document.removeEventListener("mouseup",u),document.removeEventListener("mousemove",c)}function p(e,t){for(var n=Date.now();Y.length>0&&!(n-Y[0].time<=100);)Y.shift();Y.push({x:e,y:t,time:n})}function f(){var e=x-M,t=D-B;if(N+=e*w,Q+=t*w,O){var n=v();0!==n.x&&(N-=e*d(n.x)*w),0!==n.y&&(Q-=t*d(n.y)*w)}else v(!0);a(),M=x,B=D,U=!1}function d(e){return 5e-6*Math.pow(e,2)+1e-4*e+.55}function v(e){var t=0,n=0;return void 0!==L&&N<L?t=L-N:void 0!==_&&N>_&&(t=_-N),void 0!==H&&Q<H?n=H-Q:void 0!==R&&Q>R&&(n=R-Q),e&&(0!==t&&(N=t>0?L:_),0!==n&&(Q=n>0?H:R)),{x:t,y:n,inBounds:0===t&&0===n}}function m(){if(z){N+=F*=S,Q+=j*=S;var e=v();if(Math.abs(F)>V||Math.abs(j)>V||!e.inBounds){if(O){if(0!==e.x&&(e.x*F<=0?F+=e.x*i:(t=e.x>0?2.5:-2.5,F=(e.x+t)*r)),0!==e.y)if(e.y*j<=0)j+=e.y*i;else{var t=e.y>0?2.5:-2.5;j=(e.y+t)*r}}else 0!==e.x&&(N=e.x>0?L:_,F=0),0!==e.y&&(Q=e.y>0?H:R,j=0);a(),o(m)}else z=!1}}var y=t.source,g=void 0===y?document:y,b=t.update,C=t.multiplier,w=void 0===C?1:C,A=t.friction,S=void 0===A?.92:A,E=t.initialValues,k=t.boundX,I=t.boundY,T=t.bounce,O=void 0===T||T;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var L,_,H,R,M,B,x,D,P,F,j,N=0,Q=0,V=.3*w,U=!1,W=!1,K=!1,z=!1,Y=[];!function(){if(!(g="string"==typeof g?document.querySelector(g):g))throw new Error("IMPETUS: source not found.");if(!b)throw new Error("IMPETUS: update function not defined.");E&&(E[0]&&(N=E[0]),E[1]&&(Q=E[1]),a()),k&&(L=k[0],_=k[1]),I&&(H=I[0],R=I[1]),g.addEventListener("touchstart",l),g.addEventListener("mousedown",l)}(),this.destroy=function(){return g.removeEventListener("touchstart",l),g.removeEventListener("mousedown",l),null},this.pause=function(){W=!1,K=!0},this.resume=function(){K=!1},this.setValues=function(e,t){"number"==typeof e&&(N=e),"number"==typeof t&&(Q=t)},this.setMultiplier=function(e){V=.3*(w=e)},this.setBoundX=function(e){L=e[0],_=e[1]},this.setBoundY=function(e){H=e[0],R=e[1]}};var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}});var vsm_template='<div id="vsm_modal_base" class="vsm-modal vsm-hide vsm-fade" style="z-index: 9999;" tabindex="-1" role="dialog"> <div class="vsm-modal-dialog"> <div class="vsm-modal-content"> <div class="vsm-modal-header"> <button type="button" class="vsm-close"> </button> </div><div class="vsm-modal-body vsm-option-body vsm-list-body"> <a href="javascript:void(0);" class="vsm-back-link vsm-back-step"> <i class="vsm-back-arrow"></i> </a> <div class="vsm-in-progress"> <p class="vsm-header vsm-center"></p><div class="vsm-line-step center-piece vsm-columns"> </div><div class="vsm-list-container"> <i class="vsm-loaderIcon" alt="Loading options"></i> </div></div><div class="vsm-final"> <div class="center-piece vsm-line-step vsm-columns vehicle-result-wrap"> <div class="vsm-column-2 vsm-before"></div><div class="vsm-column-2 no-style"><i class="dot-style dot-before active"></i></div><p class="vehicle-result-name"></p><p class="vehicle-result-size"></p></div> <div class="center-piece vehicle-image-wrap"> <div style="position: relative; text-align: center; min-height: 120px;"> <i class="vsm-loaderIcon" alt="Loading an image of your vehicle"></i> <img src="" alt="" class="vsm-vehicle-display" style="display: none;"> </div><a href="javascript:void(0);" class="vsm-btn vsm-btn-gray vsm-full-width vsm-find"></a> </div></div></div></div></div></div>',_vsmModalIDCounter=0;"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(e){"use strict";if("Element"in e){var t="prototype",n=e.Element[t],i=Object,r=String[t].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[t].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},a=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},s=function(e,t){if(""===t)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},l=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,o=n.length;i<o;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},c=l[t]=[],u=function(){return new l(this)};if(a[t]=Error[t],c.item=function(e){return this[e]||null},c.contains=function(e){return e+="",-1!==s(this,e)},c.add=function(){var e,t=arguments,n=0,i=t.length,r=!1;do{e=t[n]+"",-1===s(this,e)&&(this.push(e),r=!0)}while(++n<i);r&&this._updateClassName()},c.remove=function(){var e,t,n=arguments,i=0,r=n.length,o=!1;do{for(e=n[i]+"",t=s(this,e);-1!==t;)this.splice(t,1),o=!0,t=s(this,e)}while(++i<r);o&&this._updateClassName()},c.toggle=function(e,t){e+="";var n=this.contains(e),i=n?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),!0===t||!1===t?t:!n},c.toString=function(){return this.join(" ")},i.defineProperty){var h={get:u,enumerable:!0,configurable:!0};try{i.defineProperty(n,"classList",h)}catch(e){void 0!==e.number&&-2146823252!==e.number||(h.enumerable=!1,i.defineProperty(n,"classList",h))}}else i[t].__defineGetter__&&n.__defineGetter__("classList",u)}}(window.self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,i=arguments.length;for(n=0;n<i;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}()),function(e){function t(e,t,n,i){for(var r,o,a=n.slice(),s=function(e,t){return e.currentTarget=t,e.eventPhase=e.target===e.currentTarget?2:3,e}(t,e),l=0,c=a.length;l<c&&("object"==typeof(r=a[l])?"function"==typeof r.handleEvent&&r.handleEvent(s):r.call(e,s),!s.stoppedImmediatePropagation);l++);return o=!s.stoppedPropagation,i&&o&&e.parentNode?e.parentNode.dispatchEvent(s):!s.defaultPrevented}function n(e,t){return{configurable:!0,get:e,set:t}}function i(e,t,i){var r=g(t||e,i);m(e,"textContent",n(function(){return r.get.call(this)},function(e){r.set.call(this,e)}))}function r(e,t){for(var n=e.length;n--&&e[n]!==t;);return n}function o(){if("BR"===this.tagName)return"\n";for(var e=this.firstChild,t=[];e;)8!==e.nodeType&&7!==e.nodeType&&t.push(e.textContent),e=e.nextSibling;return t.join("")}function a(e){var t=document.createEvent("Event");t.initEvent("input",!0,!0),(e.srcElement||e.fromElement||document).dispatchEvent(t)}function s(e){!p&&S.test(document.readyState)&&(p=!p,document.detachEvent(f,s),(e=document.createEvent("Event")).initEvent(d,!0,!0),document.dispatchEvent(e))}function l(e){return function(){return I[e]||document.body&&document.body[e]||0}}function c(e){for(var t;t=this.lastChild;)this.removeChild(t);null!=e&&this.appendChild(document.createTextNode(e))}function u(t,n){return n||(n=e.event),n.target||(n.target=n.srcElement||n.fromElement||document),n.timeStamp||(n.timeStamp=(new Date).getTime()),n}if(!document.createEvent){var h=!0,p=!1,f="onreadystatechange",d="DOMContentLoaded",v="__IE8__"+Math.random(),m=Object.defineProperty||function(e,t,n){e[t]=n.value},y=Object.defineProperties||function(t,n){for(var i in n)if(b.call(n,i))try{m(t,i,n[i])}catch(n){e.console&&console.log(i+" failed on object:",t,n.message)}},g=Object.getOwnPropertyDescriptor,b=Object.prototype.hasOwnProperty,C=e.Element.prototype,w=e.Text.prototype,A=/^[a-z]+$/,S=/loaded|complete/,E={},k=document.createElement("div"),I=document.documentElement,T=I.removeAttribute,O=I.setAttribute,L=function(e){return{enumerable:!0,writable:!0,configurable:!0,value:e}};i(e.HTMLCommentElement.prototype,C,"nodeValue"),i(e.HTMLScriptElement.prototype,null,"text"),i(w,null,"nodeValue"),i(e.HTMLTitleElement.prototype,null,"text"),m(e.HTMLStyleElement.prototype,"textContent",function(e){return n(function(){return e.get.call(this.styleSheet)},function(t){e.set.call(this.styleSheet,t)})}(g(e.CSSStyleSheet.prototype,"cssText")));var _=/\b\s*alpha\s*\(\s*opacity\s*=\s*(\d+)\s*\)/;m(e.CSSStyleDeclaration.prototype,"opacity",{get:function(){var e=this.filter.match(_);return e?(e[1]/100).toString():""},set:function(e){this.zoom=1;var t=!1;e=e<1?" alpha(opacity="+Math.round(100*e)+")":"",this.filter=this.filter.replace(_,function(){return t=!0,e}),!t&&e&&(this.filter+=e)}}),y(C,{textContent:{get:o,set:c},firstElementChild:{get:function(){for(var e=this.childNodes||[],t=0,n=e.length;t<n;t++)if(1==e[t].nodeType)return e[t]}},lastElementChild:{get:function(){for(var e=this.childNodes||[],t=e.length;t--;)if(1==e[t].nodeType)return e[t]}},oninput:{get:function(){return this._oninput||null},set:function(e){this._oninput&&(this.removeEventListener("input",this._oninput),this._oninput=e,e&&this.addEventListener("input",e))}},previousElementSibling:{get:function(){for(var e=this.previousSibling;e&&1!=e.nodeType;)e=e.previousSibling;return e}},nextElementSibling:{get:function(){for(var e=this.nextSibling;e&&1!=e.nodeType;)e=e.nextSibling;return e}},childElementCount:{get:function(){for(var e=0,t=this.childNodes||[],n=t.length;n--;e+=1==t[n].nodeType);return e}},addEventListener:L(function(e,n,i){if("function"==typeof n||"object"==typeof n){var o,s,l=this,c="on"+e,h=l[v]||m(l,v,{value:{}})[v],p=h[c]||(h[c]={}),f=p.h||(p.h=[]);if(!b.call(p,"w")){if(p.w=function(e){return e[v]||t(l,u(0,e),f,!1)},!b.call(E,c))if(A.test(e)){try{(o=document.createEventObject())[v]=!0,9!=l.nodeType&&(null==l.parentNode&&k.appendChild(l),(s=l.getAttribute(c))&&T.call(l,c)),l.fireEvent(c,o),E[c]=!0}catch(e){for(E[c]=!1;k.hasChildNodes();)k.removeChild(k.firstChild)}null!=s&&O.call(l,c,s)}else E[c]=!1;(p.n=E[c])&&l.attachEvent(c,p.w)}r(f,n)<0&&f[i?"unshift":"push"](n),"input"===e&&l.attachEvent("onkeyup",a)}}),dispatchEvent:L(function(e){var n,i="on"+e.type,r=this[v],o=r&&r[i],a=!!o;return e.target||(e.target=this),a?o.n?this.fireEvent(i,e):t(this,e,o.h,!0):!(n=this.parentNode)||n.dispatchEvent(e),!e.defaultPrevented}),removeEventListener:L(function(e,t,n){if("function"==typeof t||"object"==typeof t){var i="on"+e,o=this[v],a=o&&o[i],s=a&&a.h,l=s?r(s,t):-1;-1<l&&s.splice(l,1)}})}),y(w,{addEventListener:L(C.addEventListener),dispatchEvent:L(C.dispatchEvent),removeEventListener:L(C.removeEventListener)}),y(e.XMLHttpRequest.prototype,{addEventListener:L(function(e,t,n){var i=this,o="on"+e,a=i[v]||m(i,v,{value:{}})[v],s=a[o]||(a[o]={}),l=s.h||(s.h=[]);r(l,t)<0&&(i[o]||(i[o]=function(){var t=document.createEvent("Event");t.initEvent(e,!0,!0),i.dispatchEvent(t)}),l[n?"unshift":"push"](t))}),dispatchEvent:L(function(e){var n="on"+e.type,i=this[v],r=i&&i[n];return!!r&&(r.n?this.fireEvent(n,e):t(this,e,r.h,!0))}),removeEventListener:L(C.removeEventListener)});var H=g(Event.prototype,"button").get;y(e.Event.prototype,{bubbles:L(!0),cancelable:L(!0),preventDefault:L(function(){this.cancelable&&(this.returnValue=!1)}),stopPropagation:L(function(){this.stoppedPropagation=!0,this.cancelBubble=!0}),stopImmediatePropagation:L(function(){this.stoppedImmediatePropagation=!0,this.stopPropagation()}),initEvent:L(function(e,t,n){this.type=e,this.bubbles=!!t,this.cancelable=!!n,this.bubbles||this.stopPropagation()}),pageX:{get:function(){return this._pageX||(this._pageX=this.clientX+e.scrollX-(I.clientLeft||0))}},pageY:{get:function(){return this._pageY||(this._pageY=this.clientY+e.scrollY-(I.clientTop||0))}},which:{get:function(){return this.keyCode?this.keyCode:isNaN(this.button)?void 0:this.button+1}},charCode:{get:function(){return this.keyCode&&"keypress"==this.type?this.keyCode:0}},buttons:{get:function(){return H.call(this)}},button:{get:function(){var e=this.buttons;return 1&e?0:2&e?2:4&e?1:void 0}},defaultPrevented:{get:function(){var e=this.returnValue;return!(void 0===e||e)}},relatedTarget:{get:function(){var e=this.type;return"mouseover"===e?this.fromElement:"mouseout"===e?this.toElement:null}}}),y(e.HTMLDocument.prototype,{defaultView:{get:function(){return this.parentWindow}},textContent:{get:function(){return 11===this.nodeType?o.call(this):null},set:function(e){11===this.nodeType&&c.call(this,e)}},addEventListener:L(function(t,n,i){var r=this;C.addEventListener.call(r,t,n,i),h&&t===d&&!S.test(r.readyState)&&(h=!1,r.attachEvent(f,s),e==top&&function e(t){try{r.documentElement.doScroll("left"),s()}catch(t){setTimeout(e,50)}}())}),dispatchEvent:L(C.dispatchEvent),removeEventListener:L(C.removeEventListener),createEvent:L(function(e){var t;if("Event"!==e)throw new Error("unsupported "+e);return t=document.createEventObject(),t.timeStamp=(new Date).getTime(),t})}),y(e.Window.prototype,{getComputedStyle:L(function(){function e(e){this._=e}function t(){}var n=/^(?:[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/,i=/^(top|right|bottom|left)$/,r=/\-([a-z])/g,o=function(e,t){return t.toUpperCase()};return e.prototype.getPropertyValue=function(e){var t,a,s,l=this._,c=l.style,u=l.currentStyle,h=l.runtimeStyle;return"opacity"==e?c.opacity||"1":(e=("float"===e?"style-float":e).replace(r,o),t=u?u[e]:c[e],n.test(t)&&!i.test(e)&&(a=c.left,(s=h&&h.left)&&(h.left=u.left),c.left="fontSize"===e?"1em":t,t=c.pixelLeft+"px",c.left=a,s&&(h.left=s)),null==t?t:t+""||"auto")},t.prototype.getPropertyValue=function(){return null},function(n,i){return i?new t(n):new e(n)}}()),addEventListener:L(function(n,i,o){var a,s=e,l="on"+n;s[l]||(s[l]=function(e){return t(s,u(0,e),a,!1)&&void 0}),r(a=s[l][v]||(s[l][v]=[]),i)<0&&a[o?"unshift":"push"](i)}),dispatchEvent:L(function(t){var n=e["on"+t.type];return!n||!1!==n.call(e,t)&&!t.defaultPrevented}),removeEventListener:L(function(t,n,i){var o=(e["on"+t]||Object)[v],a=o?r(o,n):-1;-1<a&&o.splice(a,1)}),pageXOffset:{get:l("scrollLeft")},pageYOffset:{get:l("scrollTop")},scrollX:{get:l("scrollLeft")},scrollY:{get:l("scrollTop")},innerWidth:{get:l("clientWidth")},innerHeight:{get:l("clientHeight")}}),e.HTMLElement=e.Element,function(e,t,n){for(n=0;n<t.length;n++)document.createElement(t[n]);e.length||document.createStyleSheet(""),e[0].addRule(t.join(","),"display:block;")}(document.styleSheets,["header","nav","section","article","aside","footer"])}}(this.window||global),function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),r=window.setTimeout(function(){t(n+i)},i);return e=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();!function(e){!function(e){var t;!function(n){(t=e.auth||(e.auth={})).validate=function(){return e.request("auth/validate")}}()}(e.api||(e.api={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(t){var n;!function(i){function r(e){if("string"!=typeof e||!e)return!!e;var t=e[0];return"y"===t||"Y"===t||"t"===t||"T"===t}var o={EnableSharing:!0,SuspensionRanges:{Default:{Min:-4,Max:0},Truck4WD:{Min:-4,Max:4},Van4WD:{Min:-4,Max:4}},UseRawTireDescription:!1};(n=t.settings||(t.settings={})).getSettings=function(){return e.PromiseHelper.then(t.request("organization/getsettings",{Keys:["ENABLE_SHARING","SUSPENSION_RANGES","RAWTIREDESC"]}),function(e){var t=e.Settings;return t?{EnableSharing:r(t.ENABLE_SHARING||o.EnableSharing),SuspensionRanges:function(e){if(!e)return o.SuspensionRanges;try{return JSON.parse(e)}catch(e){return console.error(e),o.SuspensionRanges}}(t.SUSPENSION_RANGES),UseRawTireDescription:r(t.RAWTIREDESC||o.UseRawTireDescription)}:o})}}()}(e.api||(e.api={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(){return 1===e.authenticated.state()}e.initialize=function(t){if(t){if("username"in t&&"password"in t)return t=t,void ridestyler.auth.start({data:{Username:t.username,Password:t.password},callback:function(t){t.Success?e.authenticated.resolve():e.authenticated.reject()}});("token"in t||"key"in t)&&ridestyler.auth.set(t)}return e.auth.validate().done(function(){var t=ridestyler.ajax.url("",void 0);/\/api-alpha\./i.test(t)?e.environment=n.Alpha:/\/api-beta\./i.test(t)?e.environment=n.Beta:/\/api\./i.test(t)?e.environment=n.Live:e.environment=n.Other,e.authenticated.resolve()}).fail(function(){return e.authenticated.reject()}),e.authenticated},e.authenticated=ridestyler.promise(),e.isAuthenticated=t,e.afterAuthenticated=function(n){t()?n():e.authenticated.done(function(){return n()})},e.request=function(e,t){var n=ridestyler.promise();return ridestyler.ajax.send({action:e,data:t,callback:function(e){e.Success?n.resolve(e):n.reject(e)}}),n},e.getURL=function(e,t){return ridestyler.ajax.url(e,t)};var n=void 0;!function(e){e[e.Alpha=0]="Alpha",e[e.Beta=1]="Beta",e[e.Live=2]="Live",e[e.Other=3]="Other"}(n=e.Environment||(e.Environment={}))}(e.api||(e.api={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.eventHandlers={}}return _createClass(t,[{key:"on",value:function(e,t){e in this.eventHandlers==!1&&(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)}},{key:"off",value:function(t,n){t in this.eventHandlers!=!1&&(this.eventHandlers[t]=e.ArrayHelper.remove(this.eventHandlers[t],n))}},{key:"trigger",value:function(e,t){if("function"==typeof this.debugCallback&&this.debugCallback(e,t,this.eventHandlers[e]||[]),e in this.eventHandlers==!1)return!0;var n=!0,i=!1,r=void 0;try{for(var o,a=this.eventHandlers[e][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(!1===(0,o.value)(t))return!1}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return!0}}]),t}();t.EventHandler=n}(e.events||(e.events={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(t){var n=function(){function e(){_classCallCheck(this,e),this.globalFilters=new o,this.tireFilters=new a(this.globalFilters),this.wheelFilters=new s(this.globalFilters)}return _createClass(e,[{key:"setVehicle",value:function(e){this.clearFilters(!1),this.globalFilters.setVehicle(e)}},{key:"clearFilters",value:function(e){this.globalFilters.clear(e),this.tireFilters.clear(e),this.wheelFilters.clear(e)}}]),e}();t.FilterController=n;var i=function(){function t(e,n){_classCallCheck(this,t),this.type=e,this.currentFilters={},this.globalFilterProvider=n}return _createClass(t,[{key:"triggerFilterChange",value:function(){"function"==typeof this.onFiltersChanged&&this.onFiltersChanged(this.getFilters())}},{key:"previewFilters",value:function(t){var n=this.globalFilterProvider?this.globalFilterProvider.getFilters():{},i={},r=(this.baseFilters,!0),o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=c.key,h=c.value;this.setFilter(u,h,i)}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return e.ObjectHelper.assign({},this.baseFilters,n,i)}},{key:"getFilters",value:function(){var t=this.globalFilterProvider?this.globalFilterProvider.getFilters():{};return e.ObjectHelper.assign({},this.baseFilters,t,this.currentFilters)}},{key:"retrieveOptions",value:function(e){return e.retrieveOptions(this.globalFilterProvider.getFilters())}},{key:"setFilter",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentFilters,i=this.findFilterOption(e);i&&i.apply(n,t)}},{key:"findFilterOption",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.filterOptions[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.key===e)return a}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"setFilters",value:function(e,t,n){var i={},r=void 0;"string"==typeof e?r=[{key:e,value:t}]:(r=e,"boolean"==typeof t&&(n=t));var o=!0,a=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,h=u.key,p=u.value;this.setFilter(h,p,i)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}var f=!1;for(var h in i)if(i.hasOwnProperty(h)){var d=i[h];d!==this.currentFilters[h]&&(this.currentFilters[h]=d,f=!0)}return void 0===n&&(n=!0),f&&n&&this.triggerFilterChange(),f}},{key:"clear",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.currentFilters={},e&&this.triggerFilterChange()}}]),t}();t.FilterProvider=i;var r="vehicle-config",o=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"global",void 0));return e.baseFilters={HasFitments:!0},e.currentFilters={},e.filterOptions=[{key:r,visible:!1,apply:function(e,t){var n=t.vehicleConfigurationID,i=t.vehicleTireOptionID;n&&(e.VehicleConfiguration=n),i&&(e.VehicleTireOption=i)}}],e}return _inherits(t,i),_createClass(t,[{key:"setVehicle",value:function(e){this.setFilter(r,e)}},{key:"getCount",value:function(){throw"Cannot count GlobalFilterModel"}}]),t}();t.GlobalFilterProvider=o;var a=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"tire",t));return i.baseFilters={RequiredFitmentResourceTypes:[2]},i.filterOptions=[{label:e.strings.getString("brands"),unselectedOptionLabel:e.strings.getString("all-brands"),key:"tire-brand",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("tire/getbrands",t),function(t){return e.ArrayHelper.map(t.Brands,function(e){return{label:e.TireBrandName,value:e.TireBrandID}})})},getValueFromFilters:function(e){return e.TireBrand},apply:function(e,t){e.TireBrand=t}},{label:e.strings.getString("features"),unselectedOptionLabel:e.strings.getString("any-features"),key:"tire-model-attribute",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("tire/getmodelattributes",t),function(t){return e.ArrayHelper.map(t.Attributes,function(e){return{label:e.TireModelAttributeName,value:e.TireModelAttributeID}})})},getValueFromFilters:function(e){return e.RequiredTireModelAttribute},apply:function(e,t){e.RequiredTireModelAttribute=t}},{label:e.strings.getString("speed-rating"),unselectedOptionLabel:e.strings.getString("any-speed-ratings"),key:"tire-speed-rating",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("tire/getspeedratings",t),function(t){return e.ArrayHelper.map(t.SpeedRatings,function(e){return{label:e.TireSpeedRatingCode,value:e.TireSpeedRatingID}})})},getValueFromFilters:function(e){return e.SpeedRating},apply:function(e,t){e.SpeedRating=t}}],i}return _inherits(n,i),_createClass(n,[{key:"getCount",value:function(t){return e.PromiseHelper.then(e.api.request("tire/countmodels",t),function(e){return e.Count})}}]),n}();t.TireFilterProvider=a;var s=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"wheel",t));return i.baseFilters={FitmentResourceTypes:[2,3,1]},i.filterOptions=[{label:e.strings.getString("brands"),unselectedOptionLabel:e.strings.getString("all-brands"),key:"wheel-brand",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("wheel/getbrands",t),function(t){return e.ArrayHelper.map(t.Brands,function(e){return{label:e.WheelBrandName,value:e.WheelBrandID}})})},getValueFromFilters:function(e){return e.WheelBrand},apply:function(e,t){e.WheelBrand=t}},{label:e.strings.getString("finishes"),unselectedOptionLabel:e.strings.getString("all-finishes"),key:"wheel-finish",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("wheel/getfinishes",t),function(t){return e.ArrayHelper.map(t.Finishes,function(e){return{label:e.WheelFinishCategoryName,value:e.WheelFinishCategoryID}})})},getValueFromFilters:function(e){return e.WheelFinishCategory},apply:function(e,t){e.WheelFinishCategory=t}},{label:e.strings.getString("sizes"),unselectedOptionLabel:e.strings.getString("all-sizes"),key:"wheel-size",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("wheel/getdiameters",t),function(t){return e.ArrayHelper.map(t.Diameters,function(e){return{label:e.toString(),value:e}})})},getValueFromFilters:function(e){return function(e,t){var n=!0,i=!1,r=void 0;try{for(var o,a=(e.FitmentFilters||[])[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.GroupKey===l)return s[t]}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}(e,"Diameter")},apply:function(t,n){t.FitmentFilters||(t.FitmentFilters=[]),function(t,n){var i=t.FitmentFilters||[],r=void 0,o=!0,a=!1,s=void 0;try{for(var c,u=i[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;if(h.GroupKey===l){r=h;break}}}catch(e){a=!0,s=e}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}r?(e.ObjectHelper.assign(r,n),r.GroupKey=l):(n.GroupKey=l,i.push(n),t.FitmentFilters=i)}(t,{Diameter:n})}}],i}return _inherits(n,i),_createClass(n,[{key:"getCount",value:function(t){return e.PromiseHelper.then(e.api.request("wheel/countmodels",t),function(e){return e.Count})}}]),n}();t.WheelFilterProvider=s;var l="ridestyler-showcase-filters"}(e.filters||(e.filters={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(e){e[e.ChooseVehicle=0]="ChooseVehicle",e[e.Visualize=1]="Visualize"}(e.States||(e.States={}))}(RideStylerShowcase||(RideStylerShowcase={})),function(e){!function(e){var t=function(){function e(t){_classCallCheck(this,e),this.state=t,this.exitCallbacks=[],this.enterCallbacks=[]}return _createClass(e,[{key:"triggerExitCallbacks",value:function(e,t,n){var i=!0,r=!1,o=void 0;try{for(var a,s=this.exitCallbacks[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){if(!1===(0,a.value)(e,t,n))return!1}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return!0}},{key:"triggerEnterCallbacks",value:function(e,t,n){var i=!0,r=!1,o=void 0;try{for(var a,s=this.enterCallbacks[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){if(!1===(0,a.value)(e,t,n))return!1}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return!0}}]),e}(),n=function(){function e(t){_classCallCheck(this,e),this.currentData={currentVehicleConfigurationID:void 0,currentVehicleDescription:void 0,vehicleHasAngledImage:void 0,vehicleHasSideImage:void 0,currentVehicleTireOptionDescription:void 0,currentVehicleTireOptionID:void 0,currentPaintScheme:void 0,currentTire:void 0,currentWheel:void 0,currentWheelFitment:void 0,currentTireOption:void 0,currentVehicleDescriptionModel:void 0},this.callbacks={},this.changeCallbacks=[],this.dataChangedCallbacks=[],this.currentState=t}return _createClass(e,[{key:"getData",value:function(){return this.currentData}},{key:"setData",value:function(e){var t=[],n=[],i=!0,r=!1,o=void 0;try{for(var a,s=this.dataChangedCallbacks[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,c=l.callback;l.before?t.push(c):n.push(c)}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}var u=!0,h=!1,p=void 0;try{for(var f,d=t[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){(c=f.value)(e)}}catch(e){h=!0,p=e}finally{try{!u&&d.return&&d.return()}finally{if(h)throw p}}this.currentData=e;var v=!0,m=!1,y=void 0;try{for(var g,b=n[Symbol.iterator]();!(v=(g=b.next()).done);v=!0){(0,g.value)(this.currentData)}}catch(e){m=!0,y=e}finally{try{!v&&b.return&&b.return()}finally{if(m)throw y}}}},{key:"extendData",value:function(e){var t=!1,n={},i=this.currentData;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r],a=e[r];r in e&&o!==a?(t=!0,n[r]=a):n[r]=o}t&&this.setData(n)}},{key:"callbacksForState",value:function(e){return e in this.callbacks?this.callbacks[e]:this.callbacks[e]=new t(e)}},{key:"onExit",value:function(e,t){this.callbacksForState(e).exitCallbacks.push(t)}},{key:"onEnter",value:function(e,t){this.callbacksForState(e).enterCallbacks.push(t)}},{key:"onChange",value:function(e){this.changeCallbacks.push(e)}},{key:"beforeDataChange",value:function(e){this.dataChangedCallbacks.push({callback:e,before:!0})}},{key:"afterDataChange",value:function(e){this.dataChangedCallbacks.push({callback:e,before:!1})}},{key:"changeState",value:function(e,t){if(this.currentState!==e){var n=this.currentState;t&&this.setData(t);var i={oldState:n,newState:e,newData:this.currentData};"function"==typeof this.debugCallback&&this.debugCallback(i,!1);var r=!0,o=!1,a=void 0;try{for(var s,l=this.changeCallbacks[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){if(!(0,s.value)(i))return}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}!1!==this.callbacksForState(n).triggerExitCallbacks(n,e,this.currentData)&&!1!==this.callbacksForState(e).triggerEnterCallbacks(n,e,this.currentData)&&("function"==typeof this.debugCallback&&this.debugCallback(i,!0),this.currentState=e)}}}]),e}();e.RideStylerShowcaseState=n}(e.state||(e.state={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t={currency:function(e,t){return t+(+e.toFixed(2)).toLocaleString()}};!function(e){e[e.En=0]="En"}(e.LanguageKeys||(e.LanguageKeys={}));var n=function(){function e(t){_classCallCheck(this,e),this.language=t,this.format=t.format}return _createClass(e,[{key:"getString",value:function(e){return this.language[e]}}]),e}(),i=void 0,r={};!function(e){function o(e){return e in r?r[e]:i}e.registerLanguage=function(e,o,a){if(o.format)for(var s in t)t.hasOwnProperty(s)&&s in o.format==0&&(o.format[s]=t[s]);else o.format=t;var l=r[e]=new n(o);!a&&i||(i=l)},e.setDefaultLanguage=function(e){return e in r&&(i=r[e],!0)},e.languageIsRegistered=function(e){return e in r},e.getString=function(e,t){var n=void 0;return(n=o(t).getString(e))?n:e},e.format=function(e){return o(e).format}}(e.strings||(e.strings={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(t){var n=[["phone-portrait",319],["phone-landscape",420],["tablet",768],["desktop",992],["desktop-xl",1200],["tv",1600]],i=function(){function t(e){_classCallCheck(this,t),this.element=e,this.initialized=ridestyler.promise(),this.initializeBreakpoints(),this.watchSize(),this.initializeCSS(),this.resolveOnDOMLoad(),this.initializeStyleClasses()}return _createClass(t,[{key:"resolveOnDOMLoad",value:function(){var e=this;"complete"!==document.readyState?window.addEventListener("load",function(){return e.initialized.resolve()},!1):this.initialized.resolve()}},{key:"initializeCSS",value:function(){if(e.StyleHelper.isOffsetPositioned(this.element)||(this.element.style.position="relative"),"css"in e!=!1){var t=this.element.ownerDocument,n=t.getElementsByTagName("head").item(0);n||(n=document.createElement("head"),t.documentElement.insertBefore(n,t.firstChild));var i=document.createElement("style");i.appendChild(document.createTextNode(e.css)),n.insertBefore(i,e.HTMLHelper.firstChildWithTag(n,"STYLE")),delete e.css}}},{key:"initializeStyleClasses",value:function(){e.StyleHelper.isTouchDevice&&this.element.classList.add("is-touch")}},{key:"initializeBreakpoints",value:function(){var t=this;switch(n.sort(function(e,t){return e[1]-t[1]}),this.applyBreakpointClasses(),document.readyState){case"loading":e.HTMLHelper.getDocument(this.element).addEventListener("DOMContentLoaded",function(){return t.applyBreakpointClasses()});case"interactive":e.HTMLHelper.getWindow(this.element).addEventListener("load",function(){return t.applyBreakpointClasses()})}}},{key:"resize",value:function(){this.applyBreakpointClasses(),"function"==typeof this.onResize&&this.onResize()}},{key:"resized",value:function(){"function"==typeof this.onResized&&this.onResized()}},{key:"breakpointChanged",value:function(e){"function"==typeof this.onBreakpointChanged&&this.onBreakpointChanged(e)}},{key:"watchSize",value:function(){var t=this,n=this.element,i=void 0,r={width:n.clientWidth,height:n.clientHeight};e.HTMLHelper.getWindow(n).addEventListener("resize",function(){var e={width:n.clientWidth,height:n.clientHeight};e.width===r.width&&e.height===r.height||(r=e,t.resize(),clearTimeout(i),i=setTimeout(function(){t.resized()},200))},!1)}},{key:"getCurrentBreakpoint",value:function(){return this.currentBreakpoint}},{key:"applyBreakpointClasses",value:function(){var e=this.element,t=e.offsetHeight,i=e.offsetWidth;if(t&&i){var r=void 0,o=void 0;for(o=n.length-1;o>=0&&!(n[o][1]<=i);o--);if((r=o>=0?n[o]:void 0)!==this.currentBreakpoint){this.currentBreakpoint=r;var a=e.className,s=a;s=s.replace(/\bridestyler-showcase-breakpoint-.+?(?= |$)/gi,"").trim(),r&&(s+=" ridestyler-showcase-breakpoint-"+r[0]),s!==a&&(e.className=s,this.breakpointChanged(r))}}}}]),t}();t.StyleManager=i}(e.styles||(e.styles={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(){function t(n,i){_classCallCheck(this,t),this.activeLoadingSessionKeys=[],this.settings=i||{},this.settings.debug=this.settings.debug||{},this.events=new e.events.EventHandler,!0===this.settings.debug.events&&(this.events.debugCallback=function(e,t,n){"resize"!==e&&console.log("[RideStylerShowcase Event] Name:"+e+" Data:",t,n)}),n&&("string"==typeof n&&((n=document.getElementById(n))||console.error('The ID "'+n+'" could not be found in the DOM.')),this.initialize(n))}return _createClass(t,[{key:"registerComponents",value:function(){this.events;this.otherComponents=[new e.RideStylerShowcaseBackground(this)],this.stateComponentMapping={},this.stateComponentMapping[e.States.ChooseVehicle]=new e.RideStylerShowcaseVehicleSelection(this),this.stateComponentMapping[e.States.Visualize]=new e.RideStylerShowcaseVehicleVisualization(this),this.mainComponents=[];for(var t in this.stateComponentMapping)this.mainComponents.push(this.stateComponentMapping[t])}},{key:"initialize",value:function(t){var n=this;if(!t)throw"Cannot initialize showcase without a container to put it in.";this.container=e.ObjectHelper.assign(t,{ridestylerShowcase:this}),this.initializeState(),this.registerComponents(),e.api.initialize(this.settings),this.initializeStyle(),this.initializeFilters(),this.initializeComponents(),this.events.on("vehicle-selected",function(t){return n.state.changeState(e.States.Visualize,{currentVehicleConfigurationID:t.VehicleConfiguration,currentVehicleDescription:t.VehicleDescription,currentVehicleTireOptionID:t.TireOptionID,currentVehicleTireOptionDescription:t.TireOptionString,currentPaintScheme:void 0,vehicleHasAngledImage:void 0,vehicleHasSideImage:void 0,currentTire:void 0,currentWheel:void 0,currentWheelFitment:void 0,currentTireOption:void 0,currentVehicleDescriptionModel:void 0}),!0});var i=e.PromiseHelper.then(e.api.authenticated,function(){return e.api.settings.getSettings().done(function(e){n.settingsFromAPI=e})});e.PromiseHelper.all([this.style.initialized,i]).done(function(){n.events.trigger("initialized",void 0)}),this.onStateChanged({newState:this.state.currentState,oldState:void 0,newData:void 0})}},{key:"initializeState",value:function(){var t=this;this.state=new e.state.RideStylerShowcaseState(e.States.ChooseVehicle),!0===this.settings.debug.state&&(this.state.debugCallback=function(t,n){var i=n?"Finished":"Beginning",r="to "+e.States[t.newState];"number"==typeof t.oldState&&(r="from "+e.States[t.oldState]+" "+r),console.log("[RideStylerShowcase State] "+r+" "+i,t)}),this.state.onChange(function(e){return t.events.trigger("state-changed",e)&&t.onStateChanged(e)})}},{key:"initializeStyle",value:function(){var t=this;this.style=new e.styles.StyleManager(this.container),this.style.onResize=function(){return t.events.trigger("resize",void 0)},this.style.onResized=function(){return t.events.trigger("resized",void 0)},this.style.onBreakpointChanged=function(e){return t.events.trigger("breakpoint-changed",e)},this.container.classList.contains("ridestyler-showcase")||this.container.classList.add("ridestyler-showcase")}},{key:"initializeFilters",value:function(){var t=this;this.filters=new e.filters.FilterController,this.events.on("vehicle-selected",function(e){t.filters.setVehicle({vehicleConfigurationID:e.VehicleConfiguration,vehicleTireOptionID:e.TireOptionID})})}},{key:"initializeComponents",value:function(){var e=this.container,t=!0,n=!1,i=void 0;try{for(var r,o=this.otherComponents[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e.appendChild(a.component)}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}var s=!0,l=!1,c=void 0;try{for(var u,h=this.mainComponents[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var p=u.value;p.setVisible(!1),e.appendChild(p.component)}}catch(e){l=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}}},{key:"onStateChanged",value:function(e){return this.updateCurrentComponent(e),!0}},{key:"updateCurrentComponent",value:function(t){var n=this.stateComponentMapping[t.newState],i=void 0,r="ridestyler-showcase-state-";"number"==typeof t.oldState&&(i=this.stateComponentMapping[t.oldState],this.container.classList.remove(r+e.States[t.oldState].toLowerCase())),this.container.classList.add(r+e.States[t.newState].toLowerCase()),i&&i.isVisible()?i.hide(function(){n.show()}):n.show()}}]),t}();e.RideStylerShowcaseInstance=t,e.create=function(e,n){return new t(e,n)}}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(){function e(t){_classCallCheck(this,e),this.showcase=t,this.events=t.events,this.state=t.state,this.initializeComponent()}return _createClass(e,[{key:"initializeComponent",value:function(){}}]),e}();e.ComponentBase=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return i.component=document.createElement("div"),i.component.classList.add("ridestyler-showcase-main-component"),e.StyleHelper.transitionsSupported&&i.component.addEventListener(e.StyleHelper.transitionEndEvent,function(e){e.target===i.component&&i.onTransitionEnd()}),i.setVisible(!1),i.buildComponent(i.component),i.initializeMainComponent(),i}return _inherits(n,t),_createClass(n,[{key:"initializeComponent",value:function(){}},{key:"initializeMainComponent",value:function(){}},{key:"isVisible",value:function(){return this._visible}},{key:"setVisible",value:function(t){var n=this;this._visible!==t&&(this._visible=t,this.setVisibleStyling(t),e.StyleHelper.skipTransition(this.component,function(){return t?n.show():n.hide()}))}},{key:"setVisibleStyling",value:function(e){var t=this.component.style;e?(t.visibility="visible",t.top=""):(t.visibility="hidden",t.top="1000%")}},{key:"callWhenDoneAnimating",value:function(t){var n=this;this._animating?e.StyleHelper.onNextTransitionEnd(this.component,function(){return t.call(n)}):t.call(this)}},{key:"onShow",value:function(){}},{key:"onDisplay",value:function(){}},{key:"onShown",value:function(){}},{key:"onHide",value:function(){}},{key:"onHidden",value:function(){}},{key:"show",value:function(t){var n=this;if(this.component.classList.contains("in"))return this._visible=!0,void("function"==typeof t&&this.callWhenDoneAnimating(t));this._animating?e.StyleHelper.onNextTransitionEnd(this.component,function(){return n.show(t)}):(this._visible=!0,this._animating=e.StyleHelper.transitionsSupported,this.onShow(),this.setVisibleStyling(!0),e.StyleHelper.triggerReflow(this.component),this.onDisplay(),this.callWhenDoneAnimating(function(){this.onShown(),"function"==typeof t&&t.call(this)}),this.component.classList.add("in"))}},{key:"hide",value:function(t){var n=this;if(!this.component.classList.contains("in"))return this._visible=!1,void("function"==typeof t&&this.callWhenDoneAnimating(t));this._animating?e.StyleHelper.onNextTransitionEnd(this.component,function(){return n.hide(t)}):(this._visible=!1,this._animating=e.StyleHelper.transitionsSupported,this.onHide(),this.callWhenDoneAnimating(function(){this.onHidden(),"function"==typeof t&&t.call(this)}),this.component.classList.remove("in"),e.StyleHelper.transitionsSupported||this.setVisibleStyling(!1))}},{key:"onTransitionEnd",value:function(){this.component.classList.contains("in")||this.setVisibleStyling(!1),this._animating=!1}}]),n}(e.ComponentBase);e.MainComponentBase=t}(RideStylerShowcase||(RideStylerShowcase={}));var _slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t={width:200,height:200},n={width:50,height:50},i={width:800,height:800},r={PositionY:0,PositionX:0},o=function(){function o(t,n){var i=this;if(_classCallCheck(this,o),this.resizeCallback=function(){i.update()},this.container=t,this.action=n.action,this.image=document.createElement("img"),this.container.appendChild(this.image),this.events=[],n.transitionClass&&(this.image.classList.add(n.transitionClass),this.useTransitions=!0),this.transitionInClass=n.transitionInClass,void 0===n.padding?this.padding=e.StyleHelper.calculatePadding:!1===n.padding?this.padding={width:0,height:0}:this.padding=n.padding,this.imageLoadCallback=n.onLoad,this.imageErrorCallback=n.onError,this.image.addEventListener("error",function(e){return i.onImageError(e)}),this.image.addEventListener("load",function(e){return i.onImageLoad(e)}),"object"===_typeof(n.baseInstructions)&&(this.baseInstructions=n.baseInstructions),this.instructions&&!1!==n.loadInitially&&this.update(this.instructions),!1!==n.listenToWindowResize){var r=void 0,a=function(){clearTimeout(r),r=setTimeout(function(){i.update()},500)};window.addEventListener("resize",a,!1),this.events.push([window,"resize",a])}}return _createClass(o,[{key:"destroy",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.events[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value,a=_slicedToArray(o,3),s=a[0],l=a[1],c=a[2];s.removeEventListener(l,c)}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}}},{key:"onImageError",value:function(e){"function"==typeof this.imageErrorCallback&&this.imageErrorCallback(this.image,e)}},{key:"onImageLoad",value:function(e){"function"==typeof this.imageLoadCallback&&this.imageLoadCallback(this.image,e),this.visible||this.show()}},{key:"show",value:function(){var t=this;this.visible||(this.useTransitions&&e.VisibilityHelper.show(this.image,this.transitionInClass).done(function(){"function"==typeof t.imageDisplayCallback&&t.imageDisplayCallback(t.image)}),this.visible=!0)}},{key:"calculateRenderSize",value:function(){var r=this.container,o=r.clientWidth,a=r.clientHeight;if(!a||!o)return t;var s="function"==typeof this.padding?this.padding(this.container):this.padding,l={width:o-s.width,height:a-s.height},c=window.devicePixelRatio||1;return l.width*=c,l.height*=c,e.BoxHelper.floor(e.BoxHelper.bound(l,n,i))}},{key:"sizeIsDifferent",value:function(e){if(!this.currentSize)return!0;var t=this.currentSize,n=t.width,i=t.height,r=e.width,o=e.height;return n!==r||i!==o}},{key:"update",value:function(t){var n=!1;t&&this.instructions!==t&&(this.instructions=t,n=!0);var i=this.calculateRenderSize();if(this.sizeIsDifferent(i)&&(this.currentSize=i,n=!0),n){var o=this.currentSize,a=o.width,s=o.height;this.image.src=ridestyler.ajax.url(this.action,e.ObjectHelper.assign({Width:a,Height:s},r,this.baseInstructions,this.instructions))}}}]),o}();e.ResizeableResourceImage=o}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,t),_createClass(n,[{key:"initializeComponent",value:function(){var t=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-background"});e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-background-texture",appendTo:t});this.component=t}}]),n}(e.ComponentBase);e.RideStylerShowcaseBackground=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-button-picker",n=t+"-option",i=n+"-active",r=function(r){function o(n,i){_classCallCheck(this,o);var r=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,n));return r.component=e.HTMLHelper.createElement("div",{className:t}),e.HTMLHelper.createElement("div",{className:t+"-title",text:i.title,appendTo:r.component}).addEventListener("click",function(){r.optionContainer.style.display="none"==r.optionContainer.style.display?"":"none"}),r.optionContainer=e.HTMLHelper.createElement("div",{className:t+"-option-container",appendTo:r.component,style:{display:"none"}}),r.optionContainer.addEventListener("click",function(e){return r.onOptionClick(e)}),r}return _inherits(o,r),_createClass(o,[{key:"setOptions",value:function(t){e.HTMLHelper.empty(this.optionContainer);var r=document.createDocumentFragment(),o=!0,a=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,h=Object.assign(e.HTMLHelper.createElement("div",{className:n,text:u.label}),{value:u.value});u.active&&h.classList.add(i),r.appendChild(h)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}this.optionContainer.appendChild(r)}},{key:"onOptionClick",value:function(t){for(var r=t.target;r!==this.optionContainer;){if(r.classList.contains(n)){var o=!0,a=!1,s=void 0;try{for(var l,c=e.HTMLHelper.childrenWithClasses(this.optionContainer,i)[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){l.value.classList.remove(i)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}return r.classList.add(i),void("function"==typeof this.optionSelectedCallback&&this.optionSelectedCallback(r.value))}r=r.parentElement}}}]),o}(e.ComponentBase);e.RideStylerShowcaseButtonPicker=r}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,{title:e.strings.getString("change-wheel-size")}));return i.component.classList.add("ridestyler-showcase-change-wheel-size"),i}return _inherits(n,t),_createClass(n,[{key:"setFitmentOptions",value:function(t,n){var i={},r=[],o=!0,a=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,h=u.DiameterMin;h in i==!1&&(i[h]=!0,r.push([h,u]))}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}r.sort(function(e,t){return e[0]-t[0]}),1===r.length&&(this.component.style.display="none"),this.setOptions(e.ArrayHelper.map(r,function(e){return{label:e[0]+"″",value:e[1],active:e[1]===n}}))}}]),n}(e.RideStylerShowcaseButtonPicker);e.RideStylerShowcaseChangeWheelSize=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-modal",n=t+"-backdrop",i=function(i){function o(e,t){_classCallCheck(this,o);var n=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return n.options=t,n.createBackdropIfNeeded(),n.buildModal(),n.setVisibility(!1),n.parent=e.container,n.parent.appendChild(n.component),n}return _inherits(o,i),_createClass(o,[{key:"buildModal",value:function(){var n=this;this.component=Object.assign(e.HTMLHelper.createElement("div",{className:t}),{modal:this}),this.options.full&&this.component.classList.add(t+"-full"),e.HTMLHelper.createElement("button",{className:t+"-close",appendTo:this.component}).addEventListener("click",function(){n.hide()}),this.options.actions&&this.buildActions(this.options.actions)}},{key:"buildActions",value:function(n){var i=this,r=e.HTMLHelper.createElement("div",{className:t+"-actions",appendTo:this.component}),o=function(t){e.HTMLHelper.createButton(e.ObjectHelper.assign({appendTo:r},t)).addEventListener("click",function(){"function"==typeof t.action?t.action():"hide-modal"===t.action&&i.hide()})},a=!0,s=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){o(c.value)}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}}},{key:"onShow",value:function(){this.events.trigger("modal-show",{modal:this})}},{key:"onShown",value:function(){}},{key:"onHide",value:function(){this.events.trigger("modal-hide",{modal:this})}},{key:"onHidden",value:function(){this.options.removeOnHidden&&this.parent.removeChild(this.component)}},{key:"show",value:function(){var t=this,n=e.VisibilityHelper.show(this.component);return this.onShow(),n.done(function(){return t.onShown()}),n}},{key:"hide",value:function(){var t=this,n=e.VisibilityHelper.hide(this.component);return this.onHide(),n.done(function(){return t.onHidden()}),n}},{key:"setVisibility",value:function(t){e.VisibilityHelper.setVisibility(this.component,t)}},{key:"createBackdropIfNeeded",value:function(){e.HTMLHelper.hasChildWithClass(this.showcase.container,n)||new r(this.showcase)}}]),o}(e.ComponentBase);e.RideStylerShowcaseModal=i;var r=function(i){function r(e){_classCallCheck(this,r);var t=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.buildBackdrop(),t.setVisibility(!1),e.container.appendChild(t.component),t}return _inherits(r,i),_createClass(r,[{key:"buildBackdrop",value:function(){var i=this;this.component=e.HTMLHelper.createElementWithClass("div",n),this.component.addEventListener("click",function(){var n=e.HTMLHelper.lastSiblingWithClass(i.component,t,"in");n&&n.modal.hide()})}},{key:"initializeComponent",value:function(){var e=this;this.events.on("modal-show",function(t){e.update()}),this.events.on("modal-hide",function(t){e.update()})}},{key:"update",value:function(){this[e.HTMLHelper.hasSiblingWithClass(this.component,t,"in")?"show":"hide"]()}},{key:"show",value:function(){return e.VisibilityHelper.show(this.component)}},{key:"hide",value:function(){return e.VisibilityHelper.hide(this.component)}},{key:"setVisibility",value:function(t){e.VisibilityHelper.setVisibility(this.component,t)}}]),r}(e.ComponentBase);e.RideStylerShowcaseModalBackdrop=r,i=e.RideStylerShowcaseModal||(e.RideStylerShowcaseModal={})}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-option-menu",n=t+"-option",i=n+"-active",r=t+"-loading",o=function(){function o(n,i){var r=this;_classCallCheck(this,o),this.name=n,this.component=e.HTMLHelper.createElement({className:t}),this.component.addEventListener("click",function(e){return r.onClicked(e)}),i?this.setOptions(i):this.setLoading(!0)}return _createClass(o,[{key:"setLoading",value:function(e){this.component.classList.toggle(r,e)}},{key:"generateOptionElement",value:function(t){var i=e.HTMLHelper.createElement("div",{className:n,text:t.label});return i.value=t.value,i}},{key:"clearOptions",value:function(){e.HTMLHelper.empty(this.component)}},{key:"appendOptions",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.component.appendChild(this.generateOptionElement(a))}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"setOptions",value:function(e){this.clearOptions(),this.appendOptions(e),this.setLoading(!1)}},{key:"setValue",value:function(e){for(var t=0;t<this.component.children.length;t++){var n=this.component.children[t],r=n.value===e;n.classList.toggle(i,r),r&&(this.value=e)}}},{key:"onClicked",value:function(t){var r=t.target;if(r.classList.contains(n)&&!r.classList.contains(i)){var o=e.HTMLHelper.firstChildWithClass(this.component,i),a=r;o&&o.classList.remove(i),a.classList.add(i),this.value=a.value,"function"==typeof this.onChange&&this.onChange(a.value)}}}]),o}();e.RideStylerShowcaseOptionMenu=o}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-pagination-option",n=t+"-selected",i=t+"-loading",r=t+"-loader",o=function(o){function a(){_classCallCheck(this,a);var e=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments));return e.hasMoreResults=!0,e.isLoading=!1,e.isFirstLoad=!0,e.enableShowNoResults=!0,e}return _inherits(a,o),_createClass(a,[{key:"initializeComponent",value:function(){var t=this;this.component=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination"}),this.optionContainer=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-wrapper",appendTo:this.component}),this.prevButton=e.HTMLHelper.createElement("button",{className:"ridestyler-showcase-pagination-prev",appendTo:this.component,append:e.HTMLHelper.createIcon("chevron-left")}),this.nextButton=e.HTMLHelper.createElement("button",{className:"ridestyler-showcase-pagination-next",appendTo:this.component,append:e.HTMLHelper.createIcon("chevron-right")}),this.component.addEventListener("click",function(e){return t.onComponentClick(e)}),this.clearOptions(),setTimeout(function(){return t.loadMore()},0),e.ScrollHelper.attachWheelListener(this.component,function(e){var n=e.deltaX||e.deltaY,i=t.optionContainer,r=i.scrollLeft,o=i.scrollWidth,a=i.offsetWidth,s=Math.min(r+n,o-a);t.optionContainer.scrollLeft=s,t.touchScrollHandler.setValues(s,0),t.onScroll()}),this.touchScrollHandler=new Impetus({source:this.optionContainer,bounce:!1,multiplier:-1,update:function(e,n){console.log(e,n),t.optionContainer.scrollLeft=e,t.optionContainer.scrollTop=n,t.onScroll()},boundY:[0,0]})}},{key:"loadMore",value:function(){var e=this;return this._loadMore().always(function(){e.clearOptionLoader(),e.updateBounds()})}},{key:"updateBounds",value:function(){var e=this.optionContainer,t=e.scrollWidth,n=e.offsetWidth;this.touchScrollHandler.setBoundX([0,t-n])}},{key:"onScroll",value:function(){this.updatePaginationButtons();var e=this.optionContainer;e.scrollLeft>=e.scrollWidth-e.offsetWidth-10&&this.onEndVisible()}},{key:"onEndVisible",value:function(){!this.isLoading&&this.hasMoreResults&&(this.addOptionLoader(),this.updateBounds(),this.loadMore())}},{key:"onComponentClick",value:function(e){for(var n=e.target;n!==this.component;){if(n.classList.contains(t))return void this.onOptionClick(n);if(n===this.prevButton)return void this.previousPage();if(n===this.nextButton)return void this.nextPage();n=n.parentElement}}},{key:"updatePaginationButtons",value:function(){var e=this.optionContainer;this.prevButton.disabled=0===e.scrollLeft,this.nextButton.disabled=e.scrollLeft>=e.scrollWidth-e.clientWidth-1}},{key:"addOptionLoader",value:function(){this.optionContainer.appendChild(e.HTMLHelper.createElement("div",{className:t+" "+r}))}},{key:"clearOptionLoader",value:function(){e.HTMLHelper.removeChildrenWithClasses(this.optionContainer,r)}},{key:"addOptionElements",value:function(e){if(e instanceof Node)this.optionContainer.appendChild(e);else if(!e.length&&this.enableShowNoResults)this.showNoResults();else{var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.optionContainer.appendChild(a)}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}this.clearOptionLoader(),this.update(),this.isFirstLoad=!1}},{key:"showNoResults",value:function(){this.noResultsElement=e.HTMLHelper.createElement("div",{className:t+" ridestyler-showcase-pagination-option-no-results",text:e.strings.getString("no-results"),appendTo:this.optionContainer})}},{key:"clearOptions",value:function(){e.HTMLHelper.empty(this.optionContainer),this.addOptionLoader(),this.isFirstLoad=!0}},{key:"update",value:function(){this.updatePaginationButtons(),this.updateBounds()}},{key:"scrollTo",value:function(e){var t=this,n=this.optionContainer.scrollLeft,i=Math.abs(n-e)/2;TinyAnimate.animate(n,e,i,function(e){t.optionContainer.scrollLeft=e},"easeOutCubic",function(){return t.update()})}},{key:"previousPage",value:function(){this.scrollTo(this.optionContainer.scrollLeft-this.optionContainer.clientWidth)}},{key:"nextPage",value:function(){this.scrollTo(this.optionContainer.scrollLeft+this.optionContainer.clientWidth)}},{key:"selectOption",value:function(e){if(this.selectedOption!==e){var t=this.selectedOption;t&&t.classList.remove(n,i),e.classList.add(n),this.selectedOption=e}}},{key:"setOptionIsLoading",value:function(e){this.selectedOption&&this.selectedOption.classList[e?"add":"remove"](i)}},{key:"onOptionClick",value:function(e){this.selectOption(e)}}]),a}(e.ComponentBase);e.RideStylerShowcasePaginationComponent=o}(RideStylerShowcase||(RideStylerShowcase={}));var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)};!function(e){var t=function(t){function n(e){_classCallCheck(this,n);var t=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e)),i=e.state.getData().currentVehicleConfigurationID;return t.vehicleConfigurationID=i,t}return _inherits(n,t),_createClass(n,[{key:"_loadMore",value:function(){var t=this;return this.hasMoreResults=!1,this.isLoading=!0,e.api.request("vehicle/getpaintschemedescriptions",{VehicleConfiguration:this.vehicleConfigurationID}).done(function(e){return t.createOptions(e.Schemes)}).always(function(){return t.isLoading=!1})}},{key:"createOptions",value:function(t){var i=document.createDocumentFragment(),r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option ridestyler-showcase-paint-option",appendTo:i});u.paintScheme=c;var h=c.Colors[0];e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-display ridestyler-showcase-paint-swatch",style:{backgroundColor:h.Hex},appendTo:u}),e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label",text:c.SchemeName,appendTo:u}),e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label-secondary",text:n.createAttributeLabel(h.Attributes),appendTo:u})}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}e.HTMLHelper.empty(this.optionContainer),this.optionContainer.appendChild(i),this.update()}},{key:"onOptionClick",value:function(e){var t=e.paintScheme;t&&(_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"onOptionClick",this).call(this,e),this.state.extendData({currentPaintScheme:t}),"function"==typeof this.onPaintSchemeSelected&&this.onPaintSchemeSelected(t))}}],[{key:"createAttributeLabel",value:function(e){if(0===e)return"Glossy";var t=[];return e&&t.push("Matte"),e&&t.push("Metallic"),e&&t.push("Pearlescent"),0===t.length?"Glossy":t.join(", ")}}]),n}(e.RideStylerShowcasePaginationComponent);e.RideStylerShowcasePaintSelector=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-popover",n=function(){function n(){_classCallCheck(this,n),this.component=e.HTMLHelper.createElement({className:t})}return _createClass(n,[{key:"show",value:function(){this.setVisible(!0)}},{key:"hide",value:function(){this.setVisible(!1)}},{key:"setVisible",value:function(e){this.component.classList.toggle("in",e)}},{key:"isVisible",value:function(){return this.component.classList.contains("in")}},{key:"toggle",value:function(){this.setVisible(!this.isVisible())}}]),n}();e.RideStylerShowcasePopover=n}(RideStylerShowcase||(RideStylerShowcase={}));var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)};!function(e){var t="ridestyler-showcase-product-modal",n=t+"-title",i=function(i){function r(e){return _classCallCheck(this,r),_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,{removeOnHidden:!0}))}return _inherits(r,i),_createClass(r,[{key:"buildModal",value:function(){var i=this;_get(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"buildModal",this).call(this),this.component.classList.add(t),this.toggleButton=new e.RideStylerShowcaseToggleButton(this.showcase),this.toggleButton.onChanged=function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=i.pages[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(s.label===e)return void i.showPage(s)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}},this.component.appendChild(this.toggleButton.component),e.HTMLHelper.createElement("h1",{className:n,appendTo:this.component,append:[this.brandTitleElement=e.HTMLHelper.createElementWithClass("span",n+"-brand"),this.titleElement=e.HTMLHelper.createElement("span"),this.subtitleElement=e.HTMLHelper.createElementWithClass("span",n+"-subtitle")]}),this.summaryContainer=e.HTMLHelper.createElement({className:t+"-summary-container"}),this.imageContainer=e.HTMLHelper.createElement({className:t+"-image",appendTo:this.summaryContainer}),this.image=this.createImage(),this.summaryElement=e.HTMLHelper.createElement({className:t+"-summary",appendTo:this.summaryContainer}),this.addPage({label:e.strings.getString("summary"),container:this.summaryContainer},!0)}},{key:"addPage",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.pages||(this.pages=[]),this.pages.push(t),this.toggleButton.addOption({label:t.label,value:t.label}),n?this.showPage(t):e.VisibilityHelper.setVisibility(t.container,!1),t.container.classList.add("ridestyler-showcase-product-modal-page"),this.component.appendChild(t.container)}},{key:"showPage",value:function(t){var n=!0,i=!1,r=void 0;try{for(var o,a=this.pages[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.VisibilityHelper.setVisibility(s.container,s===t)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}this.toggleButton.setValue(t.label)}},{key:"onHidden",value:function(){this.image.destroy()}}]),r}(e.RideStylerShowcaseModal);e.RideStylerShowcaseProductModal=i}(RideStylerShowcase||(RideStylerShowcase={}));var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)};!function(e){var t=function(t){function n(){_classCallCheck(this,n);var e=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return e.resultsPerLoad=20,e.count=-1,e.index=0,e}return _inherits(n,t),_createClass(n,[{key:"_loadMore",value:function(){var t=this;this.isLoading=!0;var n=void 0;n=this.count>-1?e.PromiseHelper.resolved(this.count):this.countResults(this.currentFilters);var i=this.resultsPerLoad;return e.PromiseHelper.then(n,function(n){t.count=n;var r=e.ObjectHelper.assign({Start:t.index,Count:i},t.currentFilters);return t.getResults(r).done(function(e){t.index+=i,t.hasMoreResults=t.index+i<n,t.createOptions(e)})}).always(function(){return t.isLoading=!1})}},{key:"setFilters",value:function(e){this.clearOptions(),this.count=-1,this.index=0,this.currentFilters=e,this.loadMore()}},{key:"updateFilters",value:function(t){this.setFilters(e.ObjectHelper.assign(this.currentFilters,t))}},{key:"createOptions",value:function(t){var n=document.createDocumentFragment(),i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(this.productFilter(l)){var c=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option",appendTo:n});c.product=l;var u=this.productImageSource(l);u&&e.HTMLHelper.createElement("img",{className:"ridestyler-showcase-pagination-option-display",appendTo:c,properties:{src:u}});var h=this.productImageLabels(l);e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label",text:h.primary,appendTo:c}),h.secondary&&e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label-secondary",text:h.secondary,appendTo:c}),h.tertiary&&e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label-tertiary",text:h.tertiary,appendTo:c})}}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}this.addOptionElements(n)}},{key:"onOptionClick",value:function(e){var t=e.product;t&&(_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"onOptionClick",this).call(this,e),this.onProductClick(t))}},{key:"onProductClick",value:function(e){"function"==typeof this.productSelectedCallback&&this.productSelectedCallback(e)}}]),n}(e.RideStylerShowcasePaginationComponent);e.RideStylerShowcaseProductSelector=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-qr-display",n=function(){function n(i){_classCallCheck(this,n),this.component=e.HTMLHelper.createElement("div",{className:t}),this.qrCodeElement=e.HTMLHelper.createElement("a",{className:t+"-image",appendTo:this.component,properties:{target:"_blank"}}),this.qrCode=new QRCode(this.qrCodeElement),i&&this.displayURL(i)}return _createClass(n,[{key:"displayURL",value:function(e){this.qrCodeElement.href=e,this.qrCode.makeCode(e)}}]),n}();e.RideStylerShowcaseQRCodeComponent=n}(RideStylerShowcase||(RideStylerShowcase={}));var _get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(t){var n="ridestyler-showcase-share-button",i=function(){function t(i){var r=this;_classCallCheck(this,t),this.component=e.HTMLHelper.createButton({className:n}),i.className&&this.component.classList.add(i.className),i.title&&(this.component.title=i.title),this.component.addEventListener("click",function(){return r.onClick()})}return _createClass(t,[{key:"setURL",value:function(e){this.currentURL=e}},{key:"setTags",value:function(e){this.tags=e}},{key:"setMessage",value:function(e){this.message=e}},{key:"onClick",value:function(){this.currentURL&&this.share()}},{key:"share",value:function(){}},{key:"openNewWindow",value:function(e,t){var n=(t=t||{}).width||550,i=t.height||420,r=screen.height,o=screen.width,a=r>i?Math.round(r/2-i/2):0,s=Math.round(o/2-n/2),l=t.target||"share",c=[],u=function(e,t){return c.push(e+"="+t)},h=function(e,t,n){"boolean"!=typeof t&&(t=n),u(e,t?"yes":"no")};h("scrollbars",t.enableScrollbars,!0),h("resizable",t.enableResizeable,!0),h("toolbar",t.enableToolbar,!1),h("location",t.enableLocation,!0),u("width",n.toString()),u("height",i.toString()),u("top",a.toString()),u("left",s.toString()),window.open(e,l,"_blank"!==l?c.join(","):"")}},{key:"getShareRedirectURL",value:function(){var t="https://app.ridestyler.net";return e.api.environment===e.api.Environment.Alpha?t="https://app-alpha.ridestyler.net":e.api.environment===e.api.Environment.Beta&&(t="https://app-beta.ridestyler.net"),t+"/shared.html"}}]),t}();t.ShareButton=i;var r=function(t){function r(){return _classCallCheck(this,r),_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{className:n+"-twitter",title:"Twitter"}))}return _inherits(r,i),_createClass(r,[{key:"share",value:function(){var t="https://twitter.com/intent/tweet?",n=["url="+encodeURIComponent(this.currentURL)];this.message&&n.push("text="+encodeURIComponent(this.message)),this.tags&&this.tags.length&&n.push("hashtags="+e.ArrayHelper.map(this.tags,function(e){return encodeURIComponent(e)}).join(",")),t+=n.join("&"),this.openNewWindow(t)}}]),r}();t.TwitterShareButton=r;var o=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{className:n+"-facebook",title:"Facebook"}))}return _inherits(t,i),_createClass(t,[{key:"share",value:function(){var e="https://www.facebook.com/dialog/share?",t=["app_id=1576380412582845","display=popup","href="+encodeURIComponent(this.currentURL),"redirect_uri="+encodeURIComponent(this.getShareRedirectURL())];this.tags&&this.tags.length&&t.push("hashtag="+encodeURIComponent("#"+this.tags[0])),e+=t.join("&"),this.openNewWindow(e)}}]),t}();t.FacebookShareButton=o;var a=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{className:n+"-link"}))}return _inherits(t,i),_createClass(t,[{key:"share",value:function(){this.openNewWindow(this.currentURL,{target:"_blank"})}}]),t}();t.NewWindowShareButton=a;var s=function(t){function r(){_classCallCheck(this,r);var t=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{className:n+"-qr-code"}));return t.popover=new e.RideStylerShowcasePopover,t.component.appendChild(t.popover.component),t.qrCode=new e.RideStylerShowcaseQRCodeComponent,t.popover.component.appendChild(t.qrCode.component),t}return _inherits(r,i),_createClass(r,[{key:"setURL",value:function(e){_get(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"setURL",this).call(this,e),this.qrCode.displayURL(e)}},{key:"onClick",value:function(){this.popover.toggle()}}]),r}();t.QRShareButton=s}(e.share||(e.share={}))}(RideStylerShowcase||(RideStylerShowcase={}));var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)};!function(e){var t="ridestyler-showcase-share",n=function(n){function i(e,t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,{removeOnHidden:!0,full:!0}));return n.imageType=2,n.resizedCallback=function(){return n.updateViewport()},n.vehicleRenderInstructions=Object.assign({},t),n.onInstructionsChanged(),n}return _inherits(i,n),_createClass(i,[{key:"buildModal",value:function(){var n=this;_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"buildModal",this).call(this),this.component.classList.add(t);var r=new e.RideStylerShowcaseBackground(this.showcase);this.component.appendChild(r.component),e.HTMLHelper.createElement("h1",{appendTo:this.component,text:e.strings.getString("share-my-vehicle")}),e.HTMLHelper.createElement("p",{className:"ridestyler-showcase-share-instructions",text:e.strings.getString("share-instructions"),appendTo:this.component}),this.createShareButtons(),this.canSwitchAngle()&&(this.rotateElement=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-rotate-vehicle",appendTo:this.component}),this.rotateElement.addEventListener("click",function(){return n.switchAngle()}))}},{key:"createShareButtons",value:function(){this.shareButtons=[new e.share.FacebookShareButton,new e.share.TwitterShareButton,new e.share.QRShareButton,new e.share.NewWindowShareButton];var n=e.HTMLHelper.createElement({className:t+"-buttons",appendTo:this.component}),i=!0,r=!1,o=void 0;try{for(var a,s=this.shareButtons[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n.appendChild(l.component)}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}},{key:"onShow",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"onShow",this).call(this),this.setupViewport(),this.events.on("resized",this.resizedCallback)}},{key:"onHidden",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"onHidden",this).call(this),this.events.off("resized",this.resizedCallback)}},{key:"updateViewport",value:function(){this.vehicleViewport.Update(this.vehicleRenderInstructions)}},{key:"getShareURL",value:function(){return"https://app.ridestyler.net/share.cshtml?"+ridestyler.utils.toParamString(e.ObjectHelper.assign(ridestyler.auth.authenticateData(null),this.vehicleRenderInstructions))}},{key:"setupViewport",value:function(){var t=this,n=e.HTMLHelper.createElementWithClass("div","ridestyler-showcase-viewport");this.component.appendChild(n),n.addEventListener("click",function(){return t.switchAngle()}),this.vehicleViewport=new RideStylerViewport(n);var i=this.vehicleViewport.Update(this.vehicleRenderInstructions);this.rotateElement&&i.done(function(){t.rotateElement.classList.add("in")})}},{key:"canSwitchAngle",value:function(){var e=this.state.getData().currentVehicleDescriptionModel;return e.HasAngledImage&&e.HasSideImage}},{key:"onInstructionsChanged",value:function(){var t=this;this.getShareURL();this.setEnabled(!1),e.api.request("link/create",{URL:this.getShareURL()}).done(function(e){t.updateURL(e.ShortURL),t.setEnabled(!0)})}},{key:"setEnabled",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.shareButtons[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.component.disabled=!e}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"updateURL",value:function(t){var n=["vehicle"],i=e.strings.getString("check-out-my-vehicle");this.vehicleRenderInstructions.WheelFitment&&n.push("wheels");var r=!0,o=!1,a=void 0;try{for(var s,l=this.shareButtons[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;c.setURL(t),c.setTags(n),c.setMessage(i)}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}}},{key:"switchAngle",value:function(){this.canSwitchAngle()&&(2===this.imageType?this.imageType=1:this.imageType=2,this.vehicleRenderInstructions.Type=this.imageType,this.vehicleViewport.Update({Type:this.imageType}),this.onInstructionsChanged())}}]),i}(e.RideStylerShowcaseModal);e.RideStylerShowcaseShareModal=n}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-suspension-selector-element",n={Min:-4,Max:0},i=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"initializeComponent",value:function(){var t=this;this.component=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-suspension-selector"});var i=this.state.getData().currentVehicleDescriptionModel,r={min:n.Min,max:n.Max,start:0,step:1,decimalPlaces:1,unitAbbreviation:"″"},a=this.showcase.settingsFromAPI.SuspensionRanges,s=i.StyleType+i.DriveType;s in a==!1&&(s="Default");var l=a[s]||n;r.min=l.Min,r.max=l.Max,this.frontAndRear=new o(this.showcase,e.ObjectHelper.assign({label:e.strings.getString("suspension")},r)),this.frontAndRear.suspensionChangedCallback=function(){"function"==typeof t.suspensionChangeCallback&&t.suspensionChangeCallback({Suspension:t.frontAndRear.value})},this.component.appendChild(this.frontAndRear.component)}}]),i}(e.ComponentBase);e.RideStylerShowcaseSuspensionSelector=i;var r=function(e){function t(e,n){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.options=n,i.value=n.start,i}return _inherits(t,e),_createClass(t,[{key:"onSuspensionChanged",value:function(e){this.value=e,"function"==typeof this.suspensionChangedCallback&&this.suspensionChangedCallback(e)}}]),t}(e.ComponentBase),o=function(n){function i(n,r){_classCallCheck(this,i);var o=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n,r));o.component=e.HTMLHelper.createElement("div",{className:t,append:e.HTMLHelper.createElement("div",{className:t+"-label",text:r.label})});var a=e.HTMLHelper.createElement("div",{className:t+"-slider",appendTo:o.component});return noUiSlider.create(a,{start:r.start,range:{min:r.min,max:r.max},step:r.step,pips:{mode:"steps",format:function(){var t=r.unitAbbreviation,n=r.decimalPlaces;return{to:function(e){return e.toFixed(n)+t},from:function(n){return parseFloat(n.replace(new RegExp(e.StringHelper.escapeRegExp(t)+"$"),""))}}}()}}),o.sliderElement=a,o.slider=o.sliderElement.noUiSlider,o.slider.on("update",function(e,t,n){o.onSuspensionChanged(n[0])}),o}return _inherits(i,r),i}()}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-tab-bar",n=t+"-tab",i=n+"-background",r=n+"-active",o=t+"-",a=function(i){function a(){return _classCallCheck(this,a),_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return _inherits(a,i),_createClass(a,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElement("div",{className:t}),this.setMode("vertical"),this.component.addEventListener("click",function(e){return n.onClick(e)})}},{key:"setMode",value:function(e){var t=this;if(this.mode!==e){var n=function(e,n){return t.component.classList.toggle(e,n)};"string"==typeof this.mode&&n(o+this.mode,!1),this.mode=e,n(o+e,!0),this.updateTabDisplay()}}},{key:"updateTabDisplay",value:function(){if(this.tabs){var e=100/this.tabs.length+"%",t=this.mode,n=!0,i=!1,r=void 0;try{for(var o,a=this.tabs[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;"vertical"===t?(s.element.style.height=e,s.element.style.width=""):(s.element.style.height="",s.element.style.width=e),s.updateBackgroundPolygon(t)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}}},{key:"setTabs",value:function(t){var n=void 0;if(0===t.length)n=[];else if(t[0]instanceof a.Tab)n=t;else{n=new Array(t.length);for(var i=0;i<t.length;i++){var r=t[i];n[i]=new a.Tab(r)}}this.tabs=e.ArrayHelper.copy(n),e.HTMLHelper.empty(this.component);n.length;var o=!0,s=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;this.component.appendChild(h.element)}}catch(e){s=!0,l=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}this.updateTabDisplay(),this.currentTab=void 0,this.setActiveTab(n[0])}},{key:"clearActiveTab",value:function(){this.setActiveTab(void 0)}},{key:"setActiveTab",value:function(e){var t=this.currentTab;t!==e&&(this.currentTab=e,t&&t.element.classList.remove(r),e&&e.element.classList.add(r),e&&"function"==typeof this.tabSwitchedCallback&&this.tabSwitchedCallback({oldTab:t,newTab:e}))}},{key:"onClick",value:function(e){for(var t=e.target;t!==this.component;){if(t.classList.contains(n))return void this.onTabClick(this.tabForElement(t));t=t.parentElement}}},{key:"onTabClick",value:function(e){e&&this.setActiveTab(e)}},{key:"tabForLabel",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.tabs[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.label===e)return a}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"tabForElement",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.tabs[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.element===e)return a}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}}]),a}(e.ComponentBase);e.RideStylerShowcaseTabBar=a,function(t){var r=function(){function t(r){_classCallCheck(this,t),this.label=r.label,this.iconClass=r.icon,this.key=r.key,this.backgroundMode="horizontal",this.element=e.HTMLHelper.createElement("div",{className:n}),e.HTMLHelper.createIcon({icon:r.icon,appendTo:this.element,wrap:e.HTMLHelper.createElementWithClass("div",n+"-icon")});var o=e.HTMLHelper.createElement({className:i,appendTo:this.element});e.StyleHelper.svgSupported?e.HTMLHelper.createSVGElement("svg",{attributes:{width:"100%",height:"100%",preserveAspectRatio:"none",viewBox:"0 0 100 100"},append:this.backgroundPolygon=e.HTMLHelper.createSVGElement("polygon",{attributes:{fill:"black"}}),appendTo:o}):o.classList.add(i+"-nosvg"),this.element.title=r.label}return _createClass(t,[{key:"updateBackgroundPolygon",value:function(e){if(this.backgroundPolygon){var t="vertical"===e?30:15,n="vertical"===e?15:30;this.backgroundPolygon.setAttribute("points","vertical"===e?"0,0 100,0 100,"+(50-t/2)+" "+(100-n)+",50 100,"+(50+t/2)+" 100,100 0,100":"0,0 "+(50-t/2)+",0 50,"+t+" "+(50+t/2)+",0 100,0 100,100, 0,100")}}}]),t}();t.Tab=r}(a=e.RideStylerShowcaseTabBar||(e.RideStylerShowcaseTabBar={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-table",n=t+"-head",i=t+"-body",r=i+"-loading",o=function(o){function a(r,o){_classCallCheck(this,a),o=e.ObjectHelper.assign({},o);var s=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,r));s.options=o,s.columns=o.columns;var l=e.HTMLHelper.createElement("table",{appendTo:s.component,className:t}),c=e.HTMLHelper.createElement("thead",{appendTo:l,className:n});return s.tbody=e.HTMLHelper.createElement("tbody",{appendTo:l,className:i}),s.generateHeaders(c),s.component=l,o.rows?s.appendRows(o.rows):o.startLoading&&s.setLoading(!0),s}return _inherits(a,o),_createClass(a,[{key:"generateHeaderCell",value:function(t){var n=t.header;if("function"==typeof n){var i=n(t);return"string"==typeof i?e.HTMLHelper.createElement("th",{text:i}):i}return e.HTMLHelper.createElement("th",{text:n})}},{key:"generateHeaders",value:function(t){var n=e.HTMLHelper.createElement("tr"),i=!0,r=!1,o=void 0;try{for(var a,s=this.columns[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n.appendChild(this.generateHeaderCell(l))}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}t.appendChild(n)}},{key:"generateRowCell",value:function(t,n){var i=n.cell;if("function"==typeof i){var r=i(t,n);return"string"==typeof r?e.HTMLHelper.createElement("td",{text:r}):r}return e.HTMLHelper.createElement("td",{text:t[i].toString()})}},{key:"generateRow",value:function(t){var n=e.HTMLHelper.createElement("tr"),i=!0,r=!1,o=void 0;try{for(var a,s=this.columns[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n.appendChild(this.generateRowCell(t,l))}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}},{key:"appendRows",value:function(e){this.setLoading(!1);var t=document.createDocumentFragment(),n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.appendChild(this.generateRow(s))}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}this.tbody.appendChild(t)}},{key:"setLoading",value:function(e){this.tbody.classList.toggle(r,e)}}],[{key:"formatCell",value:function(t,n,i){var r=t[n].toString();return e.HTMLHelper.createElement("td",{text:r?i?r+i:r:a.emptyCellString})}}]),a}(e.ComponentBase);o.emptyCellString="-",e.RideStylerShowcaseTable=o}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t)),r=t.state.getData();return i.supportedVehicleImagery={angled:r.vehicleHasAngledImage,side:r.vehicleHasSideImage},i.vehicleTireOptionID=r.currentVehicleTireOptionID,i.defaultFilters={VehicleTireOption:i.vehicleTireOptionID,HasCatalogImage:!0},i.currentFilters=e.ObjectHelper.assign({},i.defaultFilters),i}return _inherits(n,t),_createClass(n,[{key:"countResults",value:function(t){return e.PromiseHelper.then(e.api.request("tire/countmodels",t),function(e){return e.Count})}},{key:"getResults",value:function(t){return e.PromiseHelper.then(e.api.request("tire/getmodeldescriptions",t),function(e){return e.Models})}},{key:"productFilter",value:function(e){return!0}},{key:"productImageSource",value:function(e){return ridestyler.tire.image({TireFitmentResourceType:2,TireModel:e.TireModelID,Width:100,Height:100,PositionX:1,PositionY:1,IncludeShadow:!0})}},{key:"productImageLabels",value:function(e){return{primary:e.TireBrandName,secondary:e.TireModelName,tertiary:e.Attributes&&e.Attributes.length?e.Attributes.join(", "):""}}}]),n}(e.RideStylerShowcaseProductSelector);e.RideStylerShowcaseTireSelector=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-toggle-button",n=t+"-option",i=n+"-active",r=function(r){function o(){return _classCallCheck(this,o),_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return _inherits(o,r),_createClass(o,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElement({className:t}),this.component.addEventListener("click",function(e){return n.onClicked(e)})}},{key:"onClicked",value:function(e){var t=e.target;t.classList.contains(n)&&(t.classList.contains(i)||this.selectOptionElement(t))}},{key:"selectOptionElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.value;if(this.value!==n){this.value=n;for(var r=0;r<this.component.children.length;r++){var o=this.component.children[r];o.classList.toggle(i,o===e)}"function"==typeof this.onChanged&&t&&this.onChanged(n)}}},{key:"setValue",value:function(e){if(this.value!==e)for(var t=0;t<this.component.children.length;t++){var n=this.component.children[t];if(n.value===e)return void this.selectOptionElement(n)}}},{key:"setOptions",value:function(t){e.HTMLHelper.empty(this.component),this.value=void 0;var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.addOption(s)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}},{key:"addOption",value:function(t){var i=e.ObjectHelper.assign(e.HTMLHelper.createElement("span",{className:n,text:t.label,appendTo:this.component}),{value:t.value});void 0===this.value&&this.selectOptionElement(i,!1)}}]),o}(e.ComponentBase);e.RideStylerShowcaseToggleButton=r}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,t),_createClass(n,[{key:"initializeMainComponent",value:function(){var t=this;this.modal=new RideStylerVehicleSelectionModal({container:function(){return t.component.parentElement},callback:function(e){e.FinalSelectionMade&&t.onVehicleSelected(e.Vehicle)},ImageSettings:function(e){return t.generateVehiclePreviewSettings()},IncludeOETireOption:!0}),e.api.afterAuthenticated(function(){return t.onAuthenticated()})}},{key:"buildComponent",value:function(t){var n=this;t.classList.add("ridestyler-showcase-vehicle-selection"),this.contentContainer=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-content ridestyler-showcase-vehicle-selection-content",appendTo:t}),this.buildCopy(),this.chooseVehicleButton=e.HTMLHelper.createButton({text:e.strings.getString("select-your-vehicle"),appendTo:this.contentContainer,disabled:!0,large:!0,id:"ridestyler-showcase-select-your-vehicle",wrap:e.HTMLHelper.createElementWithID("div","ridestyler-showcase-select-your-vehicle-wrapper")}),this.chooseVehicleButton.addEventListener("click",function(){n.modal.Show()})}},{key:"buildCopy",value:function(){function t(t){var n=e.StringHelper.getFirstWord(t),i=t.substr(n.length);return[e.HTMLHelper.createElementWithText("strong",n),e.HTMLHelper.createTextElement(i)]}e.HTMLHelper.createElement("h1",{append:t(e.strings.getString("vehicle-select-visualize-intro")),appendTo:this.contentContainer}),e.HTMLHelper.createElement("h1",{append:t(e.strings.getString("vehicle-select-share-intro")),appendTo:this.contentContainer})}},{key:"onAuthenticated",value:function(){var t=this;this.chooseVehicleButton.disabled=!1,e.api.request("wheel/getmodels",{Count:3,HasCatalogImage:!0}).done(function(e){return t.showWheels(e.Models)})}},{key:"onVehicleSelected",value:function(e){this.events.trigger("vehicle-selected",e)}},{key:"showWheels",value:function(t){var n=void 0;this.wheelContainer?(n=this.wheelContainer,e.HTMLHelper.empty(n)):n=this.wheelContainer=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-vehicle-selection-wheel-showcase",appendTo:this.component});var i=[],r=function(){var e=!0,t=!1,r=void 0;try{for(var o,a=i[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){if(!o.value.complete)return}}catch(e){t=!0,r=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw r}}n.style.opacity="1"},o=!0,a=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,h=ridestyler.wheel.image({WheelModel:u.WheelModelID,Width:400,Height:400,PositionX:1,PositionY:1,WheelFitmentResourceType:3,IncludeShadow:!0}),p=e.HTMLHelper.createElement("img");p.className="ridestyler-showcase-vehicle-selection-wheel-showcase-image",p.addEventListener("load",r),i.push(p),p.src=h,n.appendChild(p)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}}},{key:"generateVehiclePreviewSettings",value:function(){var e=Math.max(window.devicePixelRatio||0,1),t=.8*this.component.clientWidth;t||(t=500),(t*=e)>1920&&(t=1920);return{Width:~~t,Height:~~(.6*t)}}}]),n}(e.MainComponentBase);e.RideStylerShowcaseVehicleSelection=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-customizations",n=t+"-loading",i=function(i){function r(){_classCallCheck(this,r);var t=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.customizationComponentOrder=["paint","wheels","tires","suspension"],t.customizationComponentSettings={paint:{title:e.strings.getString("select-paint"),showFilterButton:!1,enabled:!0},wheels:{title:e.strings.getString("select-wheels"),showFilterButton:!0,enabled:!0},tires:{title:e.strings.getString("select-tires"),showFilterButton:!0,enabled:!0},suspension:{title:e.strings.getString("adjust-suspension"),showFilterButton:!1,enabled:!0}},t}return _inherits(r,i),_createClass(r,[{key:"buildComponent",value:function(n){var i=this;this.events.on("initialized",function(){i.setupViewport(n),i.updateTabLayout(),i.showcase.settingsFromAPI.EnableSharing||(u.style.display="none");var t=e.api.request("tire/countbrands",i.showcase.filters.tireFilters.getFilters()),r=e.api.request("wheel/countbrands",i.showcase.filters.wheelFilters.getFilters());e.PromiseHelper.all([t,r]).done(function(e){var t=e[0].Count,n=e[1].Count;t||(i.customizationComponentSettings.tires.enabled=!1),n||(i.customizationComponentSettings.wheels.enabled=!1),i.updateTabs()})}),this.setupTabs(),this.changeWheelSize=new e.RideStylerShowcaseChangeWheelSize(this.showcase),this.changeWheelSize.optionSelectedCallback=function(e){i.state.extendData({currentWheelFitment:e}),i.updateViewport({WheelFitment:e.WheelFitmentID})},this.components=[this.vehicleDetails=new e.VehicleDetails(this.showcase),new e.WheelDetails(this.showcase),new e.TireDetails(this.showcase),this.tabBar,this.changeWheelSize],this.customizationComponentContainer=e.HTMLHelper.createElement("div",{className:t,appendTo:this.component});var r=!0,o=!1,a=void 0;try{for(var s,l=this.components[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;this.component.appendChild(c.component)}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}this.rotateElement=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-rotate-vehicle",appendTo:this.component}),this.rotateElement.addEventListener("click",function(){i.switchAngle()}),e.HTMLHelper.createElement({className:"ridestyler-showcase-customization-component-title-container",appendTo:this.component,append:[this.titleElement=e.HTMLHelper.createElement({className:"ridestyler-showcase-customization-component-title",appendTo:this.component}),this.filterButton=e.HTMLHelper.createButton({text:e.strings.getString("filter-results"),skinny:!0})]}),this.filterButton.addEventListener("click",function(){i.showFilters()});var u=e.HTMLHelper.createButton({className:"ridestyler-share-my-vehicle-button",text:e.strings.getString("share-my-vehicle"),appendTo:this.component});u.addEventListener("click",function(){new e.RideStylerShowcaseShareModal(i.showcase,i.currentRenderInstructions).show()}),this.events.on("resized",function(){i.isVisible()&&i.updateViewport()}),this.events.on("breakpoint-changed",function(e){i.updateTabLayout()}),this.vehicleDetails.paintSwatchClickCallback=function(){i.setActiveCustomizationComponent(i.customizationComponents.paint)}}},{key:"setupViewport",value:function(t){var n=this,i=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-viewport",appendTo:t});i.addEventListener("click",function(){n.switchAngle()}),this.viewport=new RideStylerViewport(i)}},{key:"updateTabs",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var r,o=this.customizationComponentOrder[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.customizationComponentSettings[a].enabled&&e.push(this.tabs[a])}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}this.tabBar.setTabs(e),this.updateTabLayout()}},{key:"updateTabLayout",value:function(){var e=this.showcase.style.getCurrentBreakpoint(),t=e&&"phone-portrait"===e[0];this.tabBar.setMode(t?"horizontal":"vertical")}},{key:"setupTabs",value:function(){var t=this;this.tabBar=new e.RideStylerShowcaseTabBar(this.showcase),this.tabs={paint:new e.RideStylerShowcaseTabBar.Tab({icon:"paint",key:"paint",label:e.strings.getString("paint")}),wheels:new e.RideStylerShowcaseTabBar.Tab({icon:"wheel",key:"wheels",label:e.strings.getString("wheels")}),tires:new e.RideStylerShowcaseTabBar.Tab({icon:"tire",key:"tires",label:e.strings.getString("tires")}),suspension:new e.RideStylerShowcaseTabBar.Tab({icon:"suspension",key:"suspension",label:e.strings.getString("suspension")})},this.tabBar.tabSwitchedCallback=function(e){var n=e.newTab.key;t.customizationComponents&&n in t.customizationComponents&&t.setActiveCustomizationComponent(t.customizationComponents[n])}}},{key:"onDisplay",value:function(){var t=this.state.getData();t.currentVehicleConfigurationID&&t.currentVehicleTireOptionID||console.error("Trying to show the visualize screen without a vehicle configuration or tire option.");var n=!e.GUIDHelper.areEqual(t.currentVehicleConfigurationID,this.vehicleConfigurationID),i=!e.GUIDHelper.areEqual(t.currentVehicleTireOptionID,this.vehicleTireOptionID);(n||i)&&(this.vehicleConfigurationID=t.currentVehicleConfigurationID,this.vehicleDescription=t.currentVehicleDescription,this.vehicleTireOptionID=t.currentVehicleTireOptionID,this.vehicleTireOptionDescription=t.currentVehicleTireOptionDescription,this.onVehicleChanged())}},{key:"onVehicleChanged",value:function(){var t=this;e.HTMLHelper.empty(this.customizationComponentContainer),this.customizationComponentContainer.classList.add(n),this.updateTabs(),this.tabBar.clearActiveTab(),this.rotateElement.classList.remove("in");var i=e.api.request("vehicle/getdescriptions",{Count:1,VehicleConfiguration:this.vehicleConfigurationID}),r=e.api.request("vehicle/gettireoptiondetails",{VehicleConfiguration:this.vehicleConfigurationID});e.PromiseHelper.all([i,r]).done(function(n){var i=t.vehicleDescriptionModel=n[0].Descriptions[0],r=void 0,o=e.GUIDHelper.parse(t.vehicleTireOptionID),a=!0,s=!1,l=void 0;try{for(var c,u=n[1].Details[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;if(e.GUIDHelper.areEqual(h.TireOptionID,o)){r=h;break}}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}t.vehicleTireOption=r,t.state.extendData({vehicleHasAngledImage:i.HasAngledImage,vehicleHasSideImage:i.HasSideImage,currentTireOption:r,currentVehicleDescriptionModel:i}),t.initializeForNewVehicle()})}},{key:"initializeForNewVehicle",value:function(){var t=this;this.currentRenderInstructions={},this.tabBar.setActiveTab(this.tabs.paint),this.customizationComponents={paint:new e.RideStylerShowcasePaintSelector(this.showcase),wheels:new e.RideStylerShowcaseWheelSelector(this.showcase),tires:new e.RideStylerShowcaseTireSelector(this.showcase),suspension:new e.RideStylerShowcaseSuspensionSelector(this.showcase)},this.showcase.filters.wheelFilters.onFiltersChanged=function(e){t.customizationComponents.wheels.setFilters(e)},this.showcase.filters.tireFilters.onFiltersChanged=function(e){t.customizationComponents.tires.setFilters(e)},this.customizationComponents.paint.onPaintSchemeSelected=function(e){t.customizationComponents.paint.setOptionIsLoading(!0),t.updateViewport({PaintColor:e.Colors[0].Hex}).always(function(){t.customizationComponents.paint.setOptionIsLoading(!1)})},this.customizationComponents.wheels.productSelectedCallback=function(n){t.customizationComponents.wheels.setOptionIsLoading(!0);2===t.imageType&&n.HasAngleImage||1===t.imageType&&n.HasSideImage||t.switchAngle(),e.api.request("wheel/getfitmentdescriptions",{VehicleConfiguration:t.vehicleConfigurationID,WheelModel:n.WheelModelID}).done(function(e){var i=e.Fitments,r=void 0,o=t.vehicleTireOption.Front.InsideDiameter;i.sort(function(e,t){return Math.abs(e.DiameterMin-o)-Math.abs(t.DiameterMin-o)}),r=i[0],t.state.extendData({currentWheel:n,currentWheelFitment:r}),t.changeWheelSize.setFitmentOptions(i,r),t.changeWheelSize.component.style.display="",t.updateViewport({WheelFitment:r.WheelFitmentID}).always(function(){t.customizationComponents.wheels.setOptionIsLoading(!1)})}).fail(function(){return t.customizationComponents.wheels.setOptionIsLoading(!1)})},this.customizationComponents.tires.productSelectedCallback=function(e){t.state.extendData({currentTire:e})},this.customizationComponents.suspension.suspensionChangeCallback=function(e){t.updateViewport(e)},this.setActiveCustomizationComponent(this.customizationComponents.wheels);var i=!0,r=!1,o=void 0;try{for(var a,s=e.ObjectHelper.getValues(this.customizationComponents)[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l.component.classList.add("ridestyler-showcase-customization-component"),this.customizationComponentContainer.appendChild(l.component)}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}this.imageType=2,this.vehicleDescriptionModel.HasAngledImage||(this.imageType=1),this.rotateElement.style.display=this.canSwitchAngle()?"":"none",this.updateViewport({VehicleConfiguration:this.vehicleConfigurationID,VehicleTireOption:this.vehicleTireOptionID,PositionX:1,PositionY:2,Type:this.imageType}).done(function(){t.rotateElement.classList.add("in")}),this.customizationComponentContainer.classList.remove(n)}},{key:"setActiveCustomizationComponent",value:function(t){var n=this.state.getData(),i=this.getComponentKey(t),r=this.customizationComponentSettings[i],o=this.tabs[i];o&&this.tabBar.setActiveTab(o),this.activeCustomizationComponent&&this.activeCustomizationComponent.component.classList.remove("in"),t.component.classList.add("in"),this.activeCustomizationComponent=t,"function"==typeof t.update&&t.update(),this.changeWheelSize.component.style.display=t instanceof e.RideStylerShowcaseWheelSelector&&n.currentWheel?"":"none",this.filterButton.style.display=r.showFilterButton?"":"none",e.HTMLHelper.setText(this.titleElement,r.title)}},{key:"getComponentKey",value:function(e){for(var t in this.customizationComponents){if(this.customizationComponents[t]===e)return t}}},{key:"updateViewport",value:function(e){return Object.assign(this.currentRenderInstructions,e),this.viewport.Update(e)}},{key:"canSwitchAngle",value:function(){return this.vehicleDescriptionModel.HasAngledImage&&this.vehicleDescriptionModel.HasSideImage}},{key:"showFilters",value:function(){var t=this.activeCustomizationComponent,n=void 0;t===this.customizationComponents.tires?n=new e.RideStylerShowcaseFilterModal(this.showcase,{filterProvider:this.showcase.filters.tireFilters,showCountTextFormat:e.strings.getString("show-count-format-tires")}):t===this.customizationComponents.wheels&&(n=new e.RideStylerShowcaseFilterModal(this.showcase,{filterProvider:this.showcase.filters.wheelFilters,showCountTextFormat:e.strings.getString("show-count-format-wheels")})),n&&n.show()}},{key:"switchAngle",value:function(){this.canSwitchAngle()&&(2===this.imageType?this.imageType=1:this.imageType=2,this.updateViewport({Type:this.imageType}))}}]),r}(e.MainComponentBase);e.RideStylerShowcaseVehicleVisualization=i}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(t,i){_classCallCheck(this,n);var r=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.image.update({WheelFitmentResourceType:3,WheelModel:i.WheelModelID}),e.HTMLHelper.setText(r.brandTitleElement,i.WheelBrandName),e.HTMLHelper.setText(r.titleElement,i.WheelModelName),e.HTMLHelper.setText(r.subtitleElement,i.WheelModelFinishDescription),r.summaryTable=new e.RideStylerShowcaseTable(r.showcase,{columns:[{header:e.strings.getString("size"),cell:"size"},{header:e.strings.getString("price"),cell:"price"}],startLoading:!0}),r.summaryElement.appendChild(r.summaryTable.component),r.buildSpecsPage(),e.api.request("wheel/getfitmentdescriptions",{WheelModel:i.WheelModelID,IncludePromotions:!0,IncludePricing:!0}).done(function(e){r.summaryTable.appendRows(r.buildSummaryTable(e.Fitments)),r.specsTable.appendRows(e.Fitments)}),r}return _inherits(n,t),_createClass(n,[{key:"buildSummaryTable",value:function(t){var i=[],r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=n.getFitmentRetailPriceDataObject(c),h=u?u.WheelPricingAmount:void 0;i.push({diameter:c.DiameterMin,width:c.WidthMin,price:h}),i.push({diameter:c.DiameterMin,width:c.WidthMax,price:h}),i.push({diameter:c.DiameterMax,width:c.WidthMin,price:h}),i.push({diameter:c.DiameterMax,width:c.WidthMax,price:h})}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}var p={},f=!0,d=!1,v=void 0;try{for(var m,y=i[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){var g=m.value,b=g.diameter,C=g.price,w=void 0;w=(E=b+"″ x "+g.width)in p==!1?p[E]={min:1/0,max:-1/0}:p[E],C&&e.NumberHelper.extendRange(C,w)}}catch(e){d=!0,v=e}finally{try{!f&&y.return&&y.return()}finally{if(d)throw v}}var A=[],S=function(e){return"number"!=typeof e||isNaN(e)||e===1/0||e===-1/0};for(var E in p)if(p.hasOwnProperty(E)){var k=void 0;k=S((w=p[E]).min)||S(w.max)?e.strings.getString("call"):w.min===w.max?e.strings.format().currency(w.min,"$"):e.strings.format().currency(w.min,"$")+" - "+e.strings.format().currency(w.max,"$"),A.push({size:E,price:k})}return A}},{key:"buildSpecsPage",value:function(){this.specsTable=new e.RideStylerShowcaseTable(this.showcase,{columns:[{header:e.strings.getString("size"),cell:n.getFitmentSizeDescription},{header:e.strings.getString("offset"),cell:function(t){return e.RideStylerShowcaseTable.formatCell(t,"OffsetMin","mm")}},{header:e.strings.getString("bolt-pattern"),cell:"BoltPatternDescription"},{header:e.strings.getString("centerbore"),cell:function(t){return e.RideStylerShowcaseTable.formatCell(t,"CenterboreMM","mm")}},{header:"Price",cell:n.getFitmentPrice},{header:e.strings.getString("item-number"),cell:n.getFitmentItemNumber}]});var t=e.HTMLHelper.createElement({className:"scrollable",append:this.specsTable.component});this.addPage({container:t,label:e.strings.getString("specifications")})}},{key:"createImage",value:function(){return new e.ResizeableResourceImage(this.imageContainer,{action:"wheel/image",baseInstructions:{PositionX:1,PositionY:2,IncludeShadow:!0}})}}],[{key:"getFitmentRetailPriceDataObject",value:function(e){return e.Pricing&&e.Pricing.Retail||void 0}},{key:"getFitmentSizeDescription",value:function(t){var n=t.DiameterMin,i=t.WidthMin;return n&&i?n+"″ x "+i:e.RideStylerShowcaseTable.emptyCellString}},{key:"getFitmentPrice",value:function(t){var i=e.strings.getString("call"),r=n.getFitmentRetailPriceDataObject(t);if(!r)return i;var o=r.WheelPricingAmount;return o?e.strings.format().currency(o,"$"):i}},{key:"getFitmentItemNumber",value:function(t){var i=n.getFitmentRetailPriceDataObject(t),r=void 0;return i&&(r=i.WheelPricingItemNumber),r||(r=t.PartNumber),r||e.RideStylerShowcaseTable.emptyCellString}}]),n}(e.RideStylerShowcaseProductModal);e.RideStylerShowcaseWheelModal=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t)),r=t.state.getData();return i.supportedVehicleImagery={angled:r.vehicleHasAngledImage,side:r.vehicleHasSideImage},i.vehicleConfigurationID=r.currentVehicleConfigurationID,i.defaultFilters={VehicleConfiguration:r.currentVehicleConfigurationID,HasCatalogImage:!0,HasFitments:!0},i.currentFilters=e.ObjectHelper.assign({},i.defaultFilters),i}return _inherits(n,t),_createClass(n,[{key:"countResults",value:function(t){return e.PromiseHelper.then(e.api.request("wheel/countmodels",t),function(e){return e.Count})}},{key:"getResults",value:function(t){return e.PromiseHelper.then(e.api.request("wheel/getmodeldescriptions",e.ObjectHelper.assign({IncludeMetaKeys:["Description","Highlights"],HasFitments:!0},t)),function(e){return e.Models})}},{key:"productFilter",value:function(e){return!0}},{key:"productImageSource",value:function(e){return ridestyler.wheel.image({WheelFitmentResourceType:3,WheelModel:e.WheelModelID,Width:100,Height:100,PositionX:1,PositionY:1,IncludeShadow:!0})}},{key:"productImageLabels",value:function(e){return{primary:e.WheelBrandName,secondary:e.WheelModelName,tertiary:e.WheelModelFinishDescription}}}]),n}(e.RideStylerShowcaseProductSelector);e.RideStylerShowcaseWheelSelector=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-tire-details",n=function(n){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,n),_createClass(i,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElementWithClass("div",t+" ridestyler-showcase-details"),e.HTMLHelper.createElement("div",{className:t+"-title ridestyler-showcase-details-title",text:e.strings.getString("tire-details"),appendTo:this.component}),this.tireNameElement=e.HTMLHelper.createElement("div",{className:t+"-name",appendTo:this.component}),this.tireDescriptionElement=e.HTMLHelper.createElement("div",{className:t+"-description ridestyler-showcase-details-secondary",appendTo:this.component}),this.state.afterDataChange(function(e){return n.onDataChange(e)})}},{key:"onDataChange",value:function(t){var n=t.currentTire;this.component.style.display=n?"":"none",n&&(e.HTMLHelper.setText(this.tireNameElement,n.TireBrandName+" "+n.TireModelName),e.HTMLHelper.setText(this.tireDescriptionElement,n.Attributes&&n.Attributes.length?n.Attributes.join(", "):""))}}]),i}(e.ComponentBase);e.TireDetails=n}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-vehicle-details",n=function(n){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,n),_createClass(i,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElementWithClass("div",t+" ridestyler-showcase-details"),e.HTMLHelper.createElement("div",{className:t+"-title ridestyler-showcase-details-title",text:e.strings.getString("vehicle-details"),appendTo:this.component}),e.HTMLHelper.createElement("div",{className:t+"-vehicle",append:[this.vehiclePaintSwatchElement=e.HTMLHelper.createElement("div",{className:t+"-vehicle-swatch ridestyler-showcase-paint-swatch",style:{backgroundColor:"#999"}}),this.vehicleDescriptionElement=e.HTMLHelper.createElement("div",{className:t+"-vehicle-details"})],appendTo:this.component}),this.tireSizeElement=e.HTMLHelper.createElement("div",{className:t+"-tire-size ridestyler-showcase-details-secondary",appendTo:this.component}),e.HTMLHelper.createButton({className:t+"-change-vehicle",appendTo:this.component,text:e.strings.getString("change-vehicle"),link:!0}).addEventListener("click",function(){n.state.changeState(e.States.ChooseVehicle)}),this.state.afterDataChange(function(e){return n.onDataChange(e)}),this.vehiclePaintSwatchElement.addEventListener("click",function(){"function"==typeof n.paintSwatchClickCallback&&n.paintSwatchClickCallback()})}},{key:"onDataChange",value:function(t){e.HTMLHelper.setText(this.vehicleDescriptionElement,t.currentVehicleDescription),this.vehiclePaintSwatchElement.style.backgroundColor=t.currentPaintScheme?t.currentPaintScheme.Colors[0].Hex:"#999",e.HTMLHelper.setText(this.tireSizeElement,t.currentVehicleTireOptionDescription)}}]),i}(e.ComponentBase);e.VehicleDetails=n}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-wheel-details",n=function(n){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,n),_createClass(i,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElementWithClass("div",t+" ridestyler-showcase-details"),e.HTMLHelper.createElement("div",{className:t+"-title ridestyler-showcase-details-title",text:e.strings.getString("wheel-details"),appendTo:this.component}),this.wheelNameElement=e.HTMLHelper.createElement("div",{className:t+"-name",appendTo:this.component}),this.wheelDescriptionElement=e.HTMLHelper.createElement("div",{className:t+"-description ridestyler-showcase-details-secondary",appendTo:this.component}),e.HTMLHelper.createButton({className:t+"-features-specs",appendTo:this.component,text:e.strings.getString("wheel-features-specs"),link:!0}).addEventListener("click",function(){n.showWheelModal()}),this.state.afterDataChange(function(e){return n.onDataChange(e)})}},{key:"showWheelModal",value:function(){var t=this.state.getData();new e.RideStylerShowcaseWheelModal(this.showcase,t.currentWheel).show()}},{key:"onDataChange",value:function(t){var n=t.currentWheel,i=t.currentWheelFitment;if(this.component.style.display=n?"":"none",n)if(e.HTMLHelper.setText(this.wheelNameElement,n.WheelBrandName+" "+n.WheelModelName),i){var r=i.DiameterMin.toString()+"″";i.DiameterMin!==i.DiameterMax&&(r="("+i.DiameterMin+"-"+i.DiameterMax+")″"),e.HTMLHelper.setText(this.wheelDescriptionElement,r+" "+n.WheelModelFinishDescription)}else e.HTMLHelper.setText(this.wheelDescriptionElement,n.WheelModelFinishDescription)}}]),i}(e.ComponentBase);e.WheelDetails=n}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-filter-modal",n=t+"-menu-title",i=function(i){function r(e,n){_classCallCheck(this,r);var i=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,{removeOnHidden:!0}));return i.filterProvider=n.filterProvider,i.showCountTextFormat=n.showCountTextFormat,i.component.classList.add(t),i.buildShowButton(),i.buildFilterMenus().done(function(){i.updateCount()}),i.component.appendChild(i.showButton),i}return _inherits(r,i),_createClass(r,[{key:"buildFilterMenus",value:function(){var i=this,r=e.HTMLHelper.createElement({className:t+"-menus",appendTo:this.component}),o=this.filterProvider,a=[],s=o.getFilters();this.menus=[];var l=function(l){if(!1===l.visible||!l.label)return"continue";var c=new e.RideStylerShowcaseOptionMenu(l.key),u=(e.HTMLHelper.createElement({className:t+"-menu-container",appendTo:r,append:[e.HTMLHelper.createElement({className:n,text:l.label}),c.component]}),o.retrieveOptions(l).done(function(t){t.unshift({label:l.unselectedOptionLabel||e.strings.getString("all"),value:void 0}),c.setOptions(t),"function"==typeof l.getValueFromFilters?c.setValue(l.getValueFromFilters(s)):c.setValue(void 0)}));c.onChange=function(){i.updateCount()},a.push(u),i.menus.push(c)},c=!0,u=!1,h=void 0;try{for(var p,f=o.filterOptions[Symbol.iterator]();!(c=(p=f.next()).done);c=!0)l(p.value)}catch(e){u=!0,h=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw h}}return e.PromiseHelper.all(a)}},{key:"buildShowButton",value:function(){var t=this;this.showButton=e.HTMLHelper.createButton({large:!0,disabled:!0,text:e.strings.getString("loading-ellipsis")}),this.showButton.addEventListener("click",function(){t.filterProvider.setFilters(t.getValues()),t.hide()})}},{key:"getValues",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var r,o=this.menus[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e.push({key:a.name,value:a.value})}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}return e}},{key:"getFilters",value:function(){return this.filterProvider.previewFilters(this.getValues())}},{key:"updateCount",value:function(){var e=this;this.setCountText(!1),this.filterProvider.getCount(this.getFilters()).done(function(t){e.setCountText(t)})}},{key:"setCountText",value:function(t){!1===t?(e.HTMLHelper.setText(this.showButton,e.strings.getString("loading-ellipsis")),this.showButton.disabled=!0):(e.HTMLHelper.setText(this.showButton,this.showCountTextFormat.replace("{count}",t.toString())),this.showButton.disabled=0===t)}}]),r}(e.RideStylerShowcaseModal);e.RideStylerShowcaseFilterModal=i}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(e,t){for(var n=new Array(e.length),i=-1,r=0;r<e.length;r++){var o=e[r];"function"==typeof t&&t(o)||o===t||(n[++i]=o)}return n.length=i+1,n}e.copy=function(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t},e.remove=t,e.filter=function(e,n){return t(e,function(e){return!n(e)})},e.map=function(e,t,n){if("function"==typeof Array.prototype.map)return e.map(t,n);for(var i=new Array(e.length),r=0;r<e.length;r++)e[r],i[r]=void 0===n?t(e[r],r,e):t.call(n,e[r],r,e);return i},e.reduce=function(e,t,n){if("function"==typeof Array.prototype.reduce)return e.reduce(t,n);for(var i=n,r=0;r<e.length;r++)i=void 0!==i?t.call(void 0,i,e[r],r,e):e[r];return i}}(e.ArrayHelper||(e.ArrayHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(e,t){return"number"==typeof t&&(t={width:t,height:t}),{width:e.width*t.width,height:e.height*t.height}}e.bound=function(e,n,i){"number"==typeof n&&(n={width:n,height:n}),"number"==typeof i&&(i={width:i,height:i});var r=i?Math.min(i.width/e.width,i.height/e.height):1,o=n?Math.max(n.width/e.width,n.height/e.height):1,a=void 0;if(r<1)a=r;else{if(!(o>1))return e;a=o}return t(e,a)},e.scale=t,e.floor=function(e){return{width:~~e.width,height:~~e.height}}}(e.BoxHelper||(e.BoxHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(e,t,n){var r=t&&n||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){return o<16&&(t[r+o++]=i[e]),""});o<16;)t[r+o++]=0;return t}for(var n=[],i={},r=0;r<256;r++)n[r]=(r+256).toString(16).substr(1),i[n[r]]=r;e.parse=t,e.unparse=function(e,t){var i=t||0,r=n;return r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]},e.areEqual=function(e,n){if(!e)return!n;if(!n)return!1;var i=void 0,r=void 0;i="string"==typeof e?t(e):e,r="string"==typeof n?t(n):n;for(var o=0;o<i.length;o++)if(i[o]!==r[o])return!1;return!0}}(e.GUIDHelper||(e.GUIDHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){!function(t){function n(e,t){for(var n=new Array(e.length),i=0,r=0;r<e.length;r++){var o=e[r];t(o)&&(n[i++]=o)}return n.length=i,n}function i(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(t(i))return i}return null}function r(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];if(t(i))return i}return null}function o(e,t){return n(e.children,t)}function a(e,t){return i(e.children,t)}function s(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i=e.StyleHelper.flattenClassList(i),o(t,function(t){return e.StyleHelper.hasClasses(t,i)})}function l(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return a(t,function(t){return e.StyleHelper.hasClasses(t,i)})}function c(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return!!l.apply(void 0,[e].concat(n))}function u(e,t){var n=e;if("object"===(void 0===t?"undefined":_typeof(t))){if("string"==typeof t.className&&(e.className=t.className),"string"==typeof t.id&&(e.id=t.id),t.wrap&&t.wrap.appendChild(e),t.appendTo&&t.appendTo.appendChild(t.wrap||e),"string"==typeof t.text&&e.appendChild(document.createTextNode(t.text)),t.append){if(t.append instanceof Array){var i=!0,r=!1,o=void 0;try{for(var a,s=t.append[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;e.appendChild(l)}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}else e.appendChild(t.append);document.createElementNS}if(t.attributes)for(var c in t.attributes)t.attributes.hasOwnProperty(c)&&e.setAttribute(c,t.attributes[c]);if(t.style&&"object"===_typeof(n.style))for(var u in t.style)t.style.hasOwnProperty(u)&&(n.style[u]=t.style[u]);if(t.properties)for(var h in t.properties)t.properties.hasOwnProperty(h)&&(e[h]=t.properties[h])}}function h(e,t){var n=void 0;"string"==typeof e?n=e:(n="div",t=e);var i=document.createElement(n);return u(i,t),i}function p(e,n){var i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;t.createElement("dt",{text:l.label,appendTo:e}),t.createElement("dd",{text:l.description,appendTo:e})}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}function f(e){for(var t=void 0;t=e.lastChild;)e.removeChild(t)}function d(e){return e.ownerDocument}t.elementsMatching=n,t.firstElementMatching=i,t.lastElementMatching=r,t.childrenMatching=o,t.firstChildMatching=a,t.childrenWithClasses=s,t.removeChildrenWithClasses=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=!0,o=!1,a=void 0;try{for(var l,c=s.apply(void 0,[e].concat(n))[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value;e.removeChild(u)}}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}},t.firstChildWithTag=function(e,t){return t=t.toUpperCase(),a(e,function(e){return e.tagName===t})},t.firstChildWithClass=l,t.hasChildWithClass=c,t.hasSiblingWithClass=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return c.apply(void 0,[e.parentElement].concat(n))},t.lastSiblingWithClass=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return r(t.parentElement.children,function(n){return n!==t&&e.StyleHelper.hasClasses(n,i)})},t.createElement=h,t.createElementWithText=function(e,t){return h(e,{text:t})},t.createElementWithClass=function(e,t){var n=e;return void 0===t&&(n="div",t=e),h(n,{className:t})},t.createElementWithID=function(e,t){return h(e,{id:t})},t.createTextElement=function(e){return document.createTextNode(e)},t.createButton=function(e){var t=h("button",e),n="ridestyler-showcase-button";return t.classList.add(n),e.large&&t.classList.add(n+"-large"),e.disabled&&(t.disabled=!0),e.link&&t.classList.add(n+"-link"),e.skinny&&t.classList.add(n+"-skinny"),t};var v="ridestyler-showcase-icon ridestyler-showcase-icon-";t.createIcon=function(e){var t=void 0,n=(t="string"==typeof e?{icon:e}:e).icon;return n.startsWith(v)||(n=v+n),"string"==typeof t.className&&(n=t.className+" "+n),t.className=n,h("i",t)},t.createSVGElement=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);return u(n,t),n},t.createDescriptionList=function(e){var n=t.createElement("dl",{className:"ridestyler-showcase-description-list",appendTo:this.summaryElement});return e&&p(n,e),n},t.appendDescriptionListValues=p,t.empty=f,t.once=function(e,t,n,i){e.addEventListener(t,function r(o){return e.removeEventListener(t,r,i),"object"===(void 0===n?"undefined":_typeof(n))&&(n=n.handleEvent),n.call(this,o)},i)},t.getDocument=d,t.getWindow=function(e){return d(e).defaultView},t.setText=function(e,t){return f(e),e.appendChild(document.createTextNode(t)),e}}(e.HTMLHelper||(e.HTMLHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){e.bound=function(e,t,n){return e<t?t:e>n?n:e},e.extendRange=function(e,t){return t||(t={min:1/0,max:-1/0}),e<t.min&&(t.min=e),e>t.max&&(t.max=e),t}}(e.NumberHelper||(e.NumberHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=!0,a=!1,s=void 0;try{for(var l,c=i[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if(u)for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(t[h]=u[h])}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}return t}e.assign=t,e.copy=function(e){return t({},e)},e.getKeys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},e.getValues=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}}(e.ObjectHelper||(e.ObjectHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){!function(t){function n(e,t,n){var i=ridestyler.promise();return e.done(function(e){if("function"==typeof t)try{var n=t(e);r(n)?n.done(function(e){return i.resolve(e)}).fail(function(e){return i.reject(e)}):i.resolve(n)}catch(e){i.reject(e)}else i.resolve(e)}),e.fail(function(e){if("function"==typeof n)try{var t=n(e);r(t)?t.done(function(e){return i.resolve(e)}).fail(function(e){return i.reject(e)}):i.resolve(t)}catch(e){i.reject(e)}else i.reject(e)}),i}function i(e){var t=ridestyler.promise();return t.resolve(e),t}function r(e){return"object"===(void 0===e?"undefined":_typeof(e))&&"function"==typeof e.done&&"function"==typeof e.fail&&"function"==typeof e.always}t.all=function(t){var r=[],o=e.ArrayHelper.reduce(t,function(e,t){return n(n(e,function(){return t}),function(e){return r.push(e)})},i(null));return Promise.all,n(o,function(){return r})},t.then=n,t.resolved=i,t.isPromise=r}(e.PromiseHelper||(e.PromiseHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(t){var n=void 0,i=-.025,r=document.createElement("div");n="onwheel"in r?"wheel":void 0!==document.onmousewheel?"mousewheel":"MozMousePixelScroll",t.attachWheelListener=function(t,r){"wheel"!==n?t.addEventListener(n,function(e){e||(e=window.event);var t={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"===e.type?0:1,deltaX:0,deltaY:0,deltaZ:0,preventDefault:function(){"function"==typeof e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"===n?(t.deltaY=i*e.wheelDelta,e.wheelDeltaX&&(t.deltaX=i*e.wheelDeltaX)):t.deltaY=e.detail,r(t)}):t.addEventListener("wheel",function(t){var n=e.ObjectHelper.assign(t,{originalEvent:t});return r(n)})}}(e.ScrollHelper||(e.ScrollHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){e.getFirstWord=function(e){if("string"==typeof e)return e.trim().substr(0,e.indexOf(" "))},e.endsWith=function(e,t,n){n<this.length?n|=0:n=this.length;var i=t.length;return e.substr(n-i,i)===t},e.escapeRegExp=function(e){var t=/[\\^$.*+?()[\]{}|]/g,n=RegExp(t.source);return e&&n.test(e)?e.replace(t,"\\$&"):e}}(e.StringHelper||(e.StringHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(t){function n(e){if(o)return window.getComputedStyle(e);if(a&&null!==e.currentStyle)return e.currentStyle;throw"Unable to get computed style"}function i(e){e.offsetHeight}function r(t){if(e.StringHelper.endsWith(t,"px"))return parseInt(t)}var o="getComputedStyle"in window,a=!1;!function(){var e=document.createElement("div");a="currentStyle"in e,t.transitionEndEvent=function(){var t={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd"};for(var n in t)if(n in e.style)return t[n]}(),t.transitionsSupported=!!t.transitionEndEvent}(),t.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0,t.svgSupported=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,t.getComputedStyle=n;var s=["absolute","relative","fixed"];t.isOffsetPositioned=function(e){var t=e.style.position;if(t||(t=n(e).position),!t)return!1;t=t.toLowerCase();var i=!0,r=!1,o=void 0;try{for(var a,l=s[Symbol.iterator]();!(i=(a=l.next()).done);i=!0)if(t===a.value)return!0}catch(e){r=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}return!1},t.flattenClassList=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.ArrayHelper.reduce(n,function(e,t){var n=void 0;n="string"==typeof t?[t]:t;var i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;e=e.concat(l.split(/\s+/))}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return e},[])},t.triggerReflow=i,t.skipTransition=function(e,n){if(!t.transitionsSupported)return n();var r=e.style.transition;e.style.transition="none",n.call(this),i(e),e.style.transition=r},t.onNextTransitionEnd=function(n,i){return e.HTMLHelper.once(n,t.transitionEndEvent,i)},t.hasClasses=function(e,t){var n=void 0;if("string"==typeof t){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];(n=r||[]).push(t)}else n=t;var a=!0,s=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;if(!e.classList.contains(h))return!1}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}return!0},t.parsePixels=r,t.calculatePadding=function(e){var t=n(e),i=t.paddingBottom,o=t.paddingTop,a=t.paddingLeft,s=t.paddingRight,l=r(a)+r(s),c=r(o)+r(i);return isNaN(l)&&(l=0),isNaN(c)&&(c=0),{width:l,height:c}}}(e.StyleHelper||(e.StyleHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(t){function n(e,t){t?(e.style.visibility="",e.style.pointerEvents=""):(e.style.visibility="hidden",e.style.pointerEvents="none")}var i="in";t.show=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;n(t,!0),e.StyleHelper.triggerReflow(t),t.classList.add(r);var o=ridestyler.promise();return e.StyleHelper.transitionsSupported?e.StyleHelper.onNextTransitionEnd(t,function(){return o.resolve()}):o.resolve(),o},t.hide=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;t.classList.remove(r);var o=ridestyler.promise();return o.done(function(){return n(t,!1)}),e.StyleHelper.transitionsSupported?e.StyleHelper.onNextTransitionEnd(t,function(){return o.resolve()}):o.resolve(),o},t.setVisibility=n}(e.VisibilityHelper||(e.VisibilityHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));var RideStylerShowcase;!function(e){(e.strings||(e.strings={})).registerLanguage(e.LanguageKeys.En,{"vehicle-select-visualize-intro":"Visualize wheels, tires and suspension modifications on your vehicle.","vehicle-select-share-intro":"Share with your friends, or save for inspiration.","select-your-vehicle":"Select your Vehicle",paint:"Paint",suspension:"Suspension",wheels:"Wheels",tires:"Tires",front:"Front",rear:"Rear","vehicle-details":"Vehicle Details","change-vehicle":"Change Vehicle","wheel-details":"Wheel Details","tire-details":"Tire Details","select-paint":"Select Paint","select-wheels":"Select Wheels","select-tires":"Select Tires","adjust-suspension":"Adjust Suspension","change-wheel-size":"Change Wheel Size","no-results":"No Results Found","wheel-features-specs":"Wheel Features & Specs","share-my-vehicle":"Share My Vehicle","share-instructions":"Use the buttons to share or save your vehicle configuration.","no-description-wheel":"We don't have a description for this wheel yet","show-specs":"Show Specs",call:"Call",size:"Size",offset:"Offset","bolt-pattern":"Bolt Pattern",centerbore:"Centerbore",price:"Price","item-number":"Item #",brands:"Brands",finishes:"Finishes",sizes:"Sizes",all:"All","all-brands":"All Brands","all-finishes":"All Finishes","all-sizes":"All Sizes","filter-results":"Filter Results","loading-ellipsis":"Loading...","show-count-format-tires":"Show {count} Tires","show-count-format-wheels":"Show {count} Wheels",specifications:"Specifications","speed-rating":"Speed Rating","any-speed-ratings":"Any Speed Ratings",features:"Features","any-features":"Any Features",finish:"Finish",summary:"Summary","check-out-my-vehicle":"Check out my vehicle!"})}(RideStylerShowcase||(RideStylerShowcase={}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJzdnNtLmpzIiwicnN2ci5qcyIsInNjcmlwdHMvUmlkZVN0eWxlclNob3djYXNlLmV2ZW50cy5qcyIsInNjcmlwdHMvUmlkZVN0eWxlclNob3djYXNlLmZpbHRlcnMuanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5zdGF0ZS5qcyIsInNjcmlwdHMvUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5zdHlsZXMuanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9Db21wb25lbnRCYXNlLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL01haW5Db21wb25lbnRCYXNlLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1Jlc2l6ZWFibGVSZXNvdXJjZUltYWdlLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZS5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbC5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51LmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3Rvci5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VQb3BvdmVyLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbC5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0U2VsZWN0b3IuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlUVJDb2RlQ29tcG9uZW50LmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVNoYXJlQnV0dG9uLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlU3VzcGVuc2lvblNlbGVjdG9yLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVRhYkJhci5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZS5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VUaXJlU2VsZWN0b3IuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlVG9nZ2xlQnV0dG9uLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb24uanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb24uanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbC5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1RpcmVEZXRhaWxzLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1ZlaGljbGVEZXRhaWxzLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1doZWVsRGV0YWlscy5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9tb2RhbHMvUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwuanMiLCJub3Vpc2xpZGVyLmpzIiwicXJjb2RlLmpzIiwiVGlueUFuaW1hdGUuanMiLCJpbXBldHVzLmpzIiwiaW5kZXguanMiLCJpZTgubWF4LmpzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzIiwic2NyaXB0cy9SaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLmF1dGguanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5hcGkuc2V0dGluZ3MuanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5hcGkuanMiLCJzY3JpcHRzL2hlbHBlcnMvQXJyYXlIZWxwZXIuanMiLCJzY3JpcHRzL2hlbHBlcnMvQm94SGVscGVyLmpzIiwic2NyaXB0cy9oZWxwZXJzL0dVSURIZWxwZXIuanMiLCJzY3JpcHRzL2hlbHBlcnMvSFRNTEhlbHBlci5qcyIsInNjcmlwdHMvaGVscGVycy9OdW1iZXJIZWxwZXIuanMiLCJzY3JpcHRzL2hlbHBlcnMvT2JqZWN0SGVscGVyLmpzIiwic2NyaXB0cy9oZWxwZXJzL1Byb21pc2VIZWxwZXIuanMiLCJzY3JpcHRzL2hlbHBlcnMvU2Nyb2xsSGVscGVyLmpzIiwic2NyaXB0cy9oZWxwZXJzL1N0cmluZ0hlbHBlci5qcyIsInNjcmlwdHMvaGVscGVycy9TdHlsZUhlbHBlci5qcyIsInNjcmlwdHMvaGVscGVycy9WaXNpYmlsaXR5SGVscGVyLmpzIiwic2NyaXB0cy9zdHJpbmdzL1JpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmVuLmpzIl0sIm5hbWVzIjpbIlJpZGVTdHlsZXJWZWhpY2xlU2VsZWN0aW9uTW9kYWwiLCJvcHRpb25zIiwiZXh0ZW5kIiwib3V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsImtleSIsImhhc093blByb3BlcnR5IiwiYWRkQ2xhc3MiLCJlbGVtZW50cyIsIm15Q2xhc3MiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0YWdOYW1lIiwiY2xhc3NOYW1lIiwidHJpbSIsImluZGV4T2YiLCJyZW1vdmVDbGFzcyIsInJlZzEiLCJSZWdFeHAiLCJyZWcyIiwicmVnMyIsInJlcGxhY2UiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjcmVhdGVCYWNrZHJvcCIsImdldEVsZW1lbnRCeUlkIiwiYmFja0Ryb3AiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJzdHlsZSIsIm9wYWNpdHkiLCJ0cmFuc2l0aW9uIiwiZ2V0TW9kYWxDb250YWluZXIiLCJhcHBlbmRDaGlsZCIsImV4aXN0aW5nQmFja2Ryb3AiLCJzZXRUaW1lb3V0Iiwib25UcmFuc2l0aW9uRW5kT25jZSIsInNob3dCYWNrZHJvcCIsImhpZGVCYWNrZHJvcCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImhpZGVNb2RhbHMiLCJhbGxNb2RhbHMiLCJjdXJyZW50QmFzZSIsImNvcHlPZkFycmF5IiwiaW5mb0FycmF5Iiwic2xpY2UiLCJjb3B5T2ZEYXRhQXJyYXkiLCJkYXRhQXJyYXkiLCJkaXNDb3VudGludWVkIiwibW9kYWxBcnJheSIsImdldEF0dHJpYnV0ZSIsImZvckVhY2giLCJjYWxsIiwidGhpc01vZGFsIiwidGhpc0lEIiwiaW5mb0Jhc2VPYmoiLCJzcGxpdHRlZEFycmF5Iiwic3BsaXQiLCJjYWxsYmFjayIsIm91dE9iaiIsIkZpbmFsU2VsZWN0aW9uTWFkZSIsIlZlaGljbGUiLCJGdWxsU2VsZWN0aW9uRGF0YSIsImNvbnNvbGUiLCJ3YXJuIiwiYm9keSIsImNvbnRhaW5lciIsImJhc2UiLCJwcmVwYXJlRnVuY3Rpb24iLCJwcmVwYXJlRnVuY3Rpb25PcHRpb25zIiwidHJhbnNpdGlvbk1vZGFsIiwibW9kYWxCYXNlIiwibW9kYWxCYXNlQ29weSIsImNsb25lTm9kZSIsIl92c21Nb2RhbElEQ291bnRlciIsInB1c2giLCJiYWNrTW9kYWwiLCJiYWNrTGlua3MiLCJiYWNrTGluayIsImJhY2tIYW5kbGVyIiwiZSIsInRhcmdldCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0eXBlIiwiYm0iLCJiYyIsInRyYW5zaXRpb25Ub01vZGFsIiwiZG9uZSIsInBvcCIsImFmdGVyQmFja0NsaWNrZWQiLCJvdXRJbmZvT2JqIiwiRnVsbFNlbGVjdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbG9zZUJ1dHRvbnMiLCJjbG9zZUJ1dHRvbiIsIm9uY2xpY2siLCJ0b01vZGFsIiwiZnJvbU1vZGFsIiwiYmFja3dhcmRzIiwiZnJvbUFuaW1hdGVQcm9taXNlIiwicmlkZXN0eWxlciIsInByb21pc2UiLCJ0b0FuaW1hdGVQcm9taXNlIiwiZnJvbVoiLCJwYXJzZUludCIsInpJbmRleCIsInRvWiIsInRyYW5zaXRpb25TdXBwb3J0IiwiZGlzcGxheSIsInJlc29sdmUiLCJhbGxQcm9taXNlIiwib25Qcm9taXNlQ2hhbmdlIiwidG9TdGF0ZSIsInN0YXRlIiwiZnJvbVN0YXRlIiwicmVqZWN0IiwiYWx3YXlzIiwicmVxdWVzdFN0ZXAiLCJtb2RhbCIsInN0ZXBPcHRpb25zIiwicmVxdWVzdCIsIlNlbGVjdGlvbiIsImJlc3RDb25maWd1cmF0aW9uIiwic2hvd1NlbGVjdGlvbiIsImFqYXgiLCJzZW5kIiwiYWN0aW9uIiwiZGF0YSIsInJlc3BvbnNlIiwiU3VjY2VzcyIsIkJlc3RDb25maWd1cmF0aW9uIiwiSW5jbHVkZU9FVGlyZU9wdGlvbiIsIlZlaGljbGVDb25maWd1cmF0aW9uIiwiVmFsdWUiLCJkZXRhaWxSZXNwb25zZSIsImRldGFpbHMiLCJEZXRhaWxzIiwidGhpcyIsImRldGFpbFN0cmluZyIsImRldGFpbCIsImYiLCJGcm9udCIsInIiLCJSZWFyIiwiVGlyZU9wdGlvbkJhc2ljIiwiVGlyZU9wdGlvbklEIiwiVGlyZU9wdGlvblN0cmluZyIsIm9wdGlvbk1lbnUiLCJHcm91cHMiLCJEZXNjcmlwdGlvbiIsIlRpdGxlIiwiS2V5IiwiT3B0aW9ucyIsIkdyb3VwIiwiTGFiZWwiLCJ1cGRhdGVNb2RhbCIsIk1lbnUiLCJtZW51IiwiaXRlbUxpc3RDb250YWluZXIiLCJoZWFkZXJFbGVtZW50IiwiYm9keUVsZW1lbnQiLCJ2c21MaW5rU3R5bGUiLCJmaW5hbFNjcmVlbiIsIm1lbnVPcHRpb25zIiwibWVudUtleSIsIm1lbnVUaXRsZSIsIm1lbnVHcm91cHMiLCJidWlsZExpc3RJdGVtIiwib3B0T2JqIiwib3B0aW9uTGFiZWwiLCJvcHRpb25WYWx1ZSIsIm9wdGlvbkJ0biIsIm9wdGlvblRleHQiLCJjcmVhdGVUZXh0Tm9kZSIsImhyZWYiLCJzZXRBdHRyaWJ1dGUiLCJvIiwib3B0aW9uS2V5Iiwib3B0aW9uVGl0bGUiLCJhZnRlck9wdGlvblNlbGVjdGVkIiwiQ3VycmVudFNlbGVjdGlvbiIsInRyYW5zaXRpb25PcHRpb24iLCJvbkxpc3RJdGVtU2VsZWN0ZWQiLCJidWlsZExpc3RIZWFkZXIiLCJoZWFkZXJUZXh0IiwibWVudVN1YkhlYWRlciIsIm1lbnVTdWJIZWFkZXJUZXh0IiwiZGl2RUxlIiwiZG90RWxlIiwic3BhbkVsZSIsIm5vdFN0eWxlRGl2IiwiaW5mb0Jhc2VBcnJheSIsIm1hcCIsImVsZSIsImlubmVySFRNTCIsImpvaW4iLCJmaXJzdENoaWxkIiwiZ3JvdXBXcmFwIiwiR3JvdXBPcHRpb25zIiwibWVudUdyb3VwZWRPcHRpb25zIiwidGhpc01lbnVPcHRpb24iLCJ0aGlzTWVudU9wdGlvbkdyb3VwIiwiaiIsIm1lbnVHcm91cCIsInN1Ykdyb3VwIiwiZ3JvdXBMaXN0IiwiY29sdW1uQ2xhc3MiLCJZZWFyU2NyZWVuQ29sdW1ucyIsIk1ha2VTY3JlZW5Db2x1bW5zIiwibGlzdEl0ZW0iLCJ2ZWhpY2xlSW1hZ2UiLCJ2ZWhpY2xlTG9hZGVyIiwibmFtZUVsZW1lbnQiLCJjb25maXJtQnV0dG9uIiwiaW5Qcm9ncmVzc1NjcmVlbiIsIkNvbmZpcm1CdXR0b25UZXh0IiwibWFpblBhcnRTdHJpbmciLCJsYXN0SXRlbSIsInZlaGljbGVEZXNjIiwiaW1hZ2VTZXR0aW5ncyIsIldpZHRoIiwiSGVpZ2h0IiwiUG9zaXRpb25YIiwiUG9zaXRpb25ZIiwiSW1hZ2VTZXR0aW5ncyIsImltYWdlVXJsIiwidXJsIiwic3JjIiwib25sb2FkIiwiY29uZmlybUhhbmRsZXIiLCJwYXJlbnRCYXNlIiwiZWxlbWVudCIsInNlbGVjdG9yIiwiRWxlbWVudCIsInByb3RvdHlwZSIsIm1hdGNoZXMiLCJtYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJzIiwib3duZXJEb2N1bWVudCIsIml0ZW0iLCJnZXRDbG9zZXN0IiwidmVoaWNsZUluZm8iLCJJbWFnZVVybCIsIlZlaGljbGVEZXNjcmlwdGlvbiIsInRoaXNTdHlsZSIsImRvY3VtZW50RWxlbWVudCIsInVuZGVmaW5lZCIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJlbCIsInRyYW5zaXRpb25zIiwidHJhbnNpdGlvbkVuZCIsIkhUTUxFbGVtZW50IiwidHJhbnNpdGlvbkVuZFdyYXAiLCJTaG93IiwiZGl2RWxlIiwidnNtX3RlbXBsYXRlIiwibG9hZEJhc2UiLCJIaWRlIiwiUmlkZVN0eWxlclZpZXdwb3J0IiwiZWxlbSIsInNob3dMb2FkZXJFbGVtZW50IiwibG9hZGVyIiwibG9hZGVyRGF0YSIsInJlbmRlcmVyIiwicXVlcnlTZWxlY3RvciIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJzdWJzdHJpbmciLCJlcnJvciIsImlzT2Zmc2V0UG9zaXRpb25WYWx1ZSIsInZhbHVlIiwicG9zaXRpb24iLCJjYWxjdWxhdGVkU3R5bGUiLCJ3aW5kb3ciLCJnZXRDb21wdXRlZFN0eWxlIiwicnVudGltZVN0eWxlIiwicGFkZGluZyIsImJvcmRlclJhZGl1cyIsImJhY2tncm91bmQiLCJsZWZ0IiwidG9wIiwibWFyZ2luTGVmdCIsIm1hcmdpblRvcCIsImdldENvbnRleHQiLCJpc0NhbnZhc1N1cHBvcnRlZCIsImNyZWF0ZU5ld0xheWVyIiwiaW5zdHJ1Y3Rpb25zIiwiYWN0aXZlSW1hZ2UiLCJyZXRpcmVkSW1hZ2VzIiwib2ltZyIsImltZyIsInJlbW92ZWRJbWFnZXMiLCJzcGxpY2UiLCJvbmVycm9yIiwiUmVuZGVyIiwiVXBkYXRlIiwiYXJncyIsInZhbHVlcyIsInRva2VucyIsImt2IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwidG9Mb3dlckNhc2UiLCJrIiwicHJlcGFyZUFyZ3VtZW50cyIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiaGFzQ2hhbmdlcyIsIngiLCJ2MSIsInYyIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJleHBvcnRzIiwibW9kdWxlIiwibm9VaVNsaWRlciIsInByZXZlbnREZWZhdWx0IiwiaXNOdW1lcmljIiwiYSIsImlzTmFOIiwiaXNGaW5pdGUiLCJhZGRDbGFzc0ZvciIsImR1cmF0aW9uIiwiYXNBcnJheSIsIkFycmF5IiwiaXNBcnJheSIsImNvdW50RGVjaW1hbHMiLCJudW1TdHIiLCJwaWVjZXMiLCJTdHJpbmciLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJnZXRQYWdlT2Zmc2V0IiwiZG9jIiwic3VwcG9ydFBhZ2VPZmZzZXQiLCJwYWdlWE9mZnNldCIsImlzQ1NTMUNvbXBhdCIsImNvbXBhdE1vZGUiLCJzY3JvbGxMZWZ0IiwieSIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG9wIiwic3ViUmFuZ2VSYXRpbyIsInBhIiwicGIiLCJmcm9tUGVyY2VudGFnZSIsInJhbmdlIiwiZ2V0SiIsImFyciIsInRvU3RlcHBpbmciLCJ4VmFsIiwieFBjdCIsInZhIiwidmIiLCJNYXRoIiwiYWJzIiwidG9QZXJjZW50YWdlIiwiZ2V0U3RlcCIsInhTdGVwcyIsInNuYXAiLCJiIiwidG8iLCJyb3VuZCIsImNsb3Nlc3QiLCJoYW5kbGVFbnRyeVBvaW50IiwiaW5kZXgiLCJ0aGF0IiwicGVyY2VudGFnZSIsInRvU3RyaW5nIiwiRXJyb3IiLCJWRVJTSU9OIiwicGFyc2VGbG9hdCIsInhIaWdoZXN0Q29tcGxldGVTdGVwIiwiaGFuZGxlU3RlcFBvaW50IiwibiIsInRvdGFsU3RlcHMiLCJ4TnVtU3RlcHMiLCJoaWdoZXN0U3RlcCIsImNlaWwiLCJOdW1iZXIiLCJ0b0ZpeGVkIiwic3RlcCIsIlNwZWN0cnVtIiwiZW50cnkiLCJzaW5nbGVTdGVwIiwib3JkZXJlZCIsInNvcnQiLCJ2YWxpZGF0ZUZvcm1hdCIsImZyb20iLCJpc1ZhbGlkRm9ybWF0dGVyIiwidGVzdFN0ZXAiLCJwYXJzZWQiLCJ0ZXN0UmFuZ2UiLCJtaW4iLCJtYXgiLCJzcGVjdHJ1bSIsInRlc3RTdGFydCIsImhhbmRsZXMiLCJzdGFydCIsInRlc3RTbmFwIiwidGVzdEFuaW1hdGUiLCJhbmltYXRlIiwidGVzdEFuaW1hdGlvbkR1cmF0aW9uIiwiYW5pbWF0aW9uRHVyYXRpb24iLCJ0ZXN0Q29ubmVjdCIsImNvbm5lY3QiLCJ0ZXN0T3JpZW50YXRpb24iLCJvcnQiLCJ0ZXN0TWFyZ2luIiwibWFyZ2luIiwiZ2V0TWFyZ2luIiwidGVzdExpbWl0IiwibGltaXQiLCJ0ZXN0UGFkZGluZyIsInRlc3REaXJlY3Rpb24iLCJkaXIiLCJ0ZXN0QmVoYXZpb3VyIiwidGFwIiwiZHJhZyIsImZpeGVkIiwiaG92ZXIiLCJldmVudHMiLCJ0ZXN0TXVsdGl0b3VjaCIsIm11bHRpdG91Y2giLCJ0ZXN0VG9vbHRpcHMiLCJ0b29sdGlwcyIsImZvcm1hdHRlciIsInRlc3RBcmlhRm9ybWF0IiwiYXJpYUZvcm1hdCIsInRlc3RGb3JtYXQiLCJmb3JtYXQiLCJ0ZXN0Q3NzUHJlZml4IiwiY3NzUHJlZml4IiwidGVzdENzc0NsYXNzZXMiLCJjc3NDbGFzc2VzIiwidGVzdFVzZVJhZiIsInVzZVJlcXVlc3RBbmltYXRpb25GcmFtZSIsInRlc3RPcHRpb25zIiwiZGVmYXVsdEZvcm1hdHRlciIsInRlc3RzIiwidCIsImRpcmVjdGlvbiIsIm9yaWVudGF0aW9uIiwiYmVoYXZpb3VyIiwiZGVmYXVsdHMiLCJvcmlnaW4iLCJoYW5kbGUiLCJoYW5kbGVMb3dlciIsImhhbmRsZVVwcGVyIiwiaG9yaXpvbnRhbCIsInZlcnRpY2FsIiwibHRyIiwicnRsIiwiZHJhZ2dhYmxlIiwiYWN0aXZlIiwidG9vbHRpcCIsInBpcHMiLCJwaXBzSG9yaXpvbnRhbCIsInBpcHNWZXJ0aWNhbCIsIm1hcmtlciIsIm1hcmtlckhvcml6b250YWwiLCJtYXJrZXJWZXJ0aWNhbCIsIm1hcmtlck5vcm1hbCIsIm1hcmtlckxhcmdlIiwibWFya2VyU3ViIiwidmFsdWVIb3Jpem9udGFsIiwidmFsdWVWZXJ0aWNhbCIsInZhbHVlTm9ybWFsIiwidmFsdWVMYXJnZSIsInZhbHVlU3ViIiwia2V5cyIsIm5hbWUiLCJzdHlsZXMiLCJzdHlsZU9wb3NpdGUiLCJjbG9zdXJlIiwib3JpZ2luYWxPcHRpb25zIiwiYWRkTm9kZVRvIiwiZGl2Iiwic2NvcGVfRG9jdW1lbnQiLCJhZGRPcmlnaW4iLCJoYW5kbGVOdW1iZXIiLCJhZGRDb25uZWN0IiwiYWRkVG9vbHRpcCIsImFkZE1hcmtpbmciLCJzcHJlYWQiLCJmaWx0ZXJGdW5jIiwiZ2V0Q2xhc3NlcyIsInNvdXJjZSIsInNpemVDbGFzc2VzIiwidmFsdWVTaXplQ2xhc3NlcyIsIm1hcmtlclNpemVDbGFzc2VzIiwidmFsdWVPcmllbnRhdGlvbkNsYXNzZXMiLCJtYXJrZXJPcmllbnRhdGlvbkNsYXNzZXMiLCJvZmZzZXQiLCJub2RlIiwiaW5uZXJUZXh0IiwiYWRkU3ByZWFkIiwicmVtb3ZlUGlwcyIsInNjb3BlX1BpcHMiLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlRWxlbWVudCIsImdyaWQiLCJtb2RlIiwiZGVuc2l0eSIsImZpbHRlciIsImdyb3VwIiwic2FmZUluY3JlbWVudCIsImluY3JlbWVudCIsImluZGV4ZXMiLCJmaXJzdEluUmFuZ2UiLCJzY29wZV9TcGVjdHJ1bSIsImxhc3RJblJhbmdlIiwiaWdub3JlRmlyc3QiLCJpZ25vcmVMYXN0IiwicHJldlBjdCIsInVuc2hpZnQiLCJjdXJyZW50IiwicSIsIm5ld1BjdCIsInBjdERpZmZlcmVuY2UiLCJzdGVwcyIsInJlYWxTdGVwcyIsInN0ZXBzaXplIiwibG93IiwiaGlnaCIsImdlbmVyYXRlU3ByZWFkIiwic3RlcHBlZCIsInYiLCJmcm9tU3RlcHBpbmciLCJnZXRHcm91cCIsInNjb3BlX1RhcmdldCIsImJhc2VTaXplIiwicmVjdCIsInNjb3BlX0Jhc2UiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJhbHQiLCJ3aWR0aCIsImhlaWdodCIsImF0dGFjaEV2ZW50IiwibWV0aG9kIiwiaGFzQXR0cmlidXRlIiwiY29udGFpbnMiLCJ0ZXN0IiwiaGFzQ2xhc3MiLCJwYWdlT2Zmc2V0IiwidG91Y2giLCJtb3VzZSIsInBvaW50ZXIiLCJpc1RvdWNoT25UYXJnZXQiLCJ0YXJnZXRUb3VjaGVzIiwidG91Y2hlcyIsInBhZ2VYIiwicGFnZVkiLCJ0YXJnZXRUb3VjaCIsImZpbmQiLCJjaGFuZ2VkVG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwicG9pbnRzIiwiY3Vyc29yIiwiZml4RXZlbnQiLCJhY3Rpb25zIiwiYnV0dG9ucyIsInN1cHBvcnRzUGFzc2l2ZSIsImNhbGNQb2ludCIsIm1ldGhvZHMiLCJldmVudE5hbWUiLCJwYXNzaXZlIiwiY2FsY1BvaW50VG9QZXJjZW50YWdlIiwicHJvcG9zYWwiLCJkb2NFbGVtIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiY2xpZW50VG9wIiwiY2xpZW50TGVmdCIsIm1vdmVIYW5kbGVzIiwidXB3YXJkIiwibG9jYXRpb25zIiwiaGFuZGxlTnVtYmVycyIsInByb3Bvc2FscyIsInJldmVyc2UiLCJjaGVja0hhbmRsZVBvc2l0aW9uIiwic2V0SGFuZGxlIiwiZmlyZUV2ZW50Iiwic2NvcGVfRXZlbnRzIiwidGFyZ2V0RXZlbnQiLCJldmVudFR5cGUiLCJzY29wZV9TZWxmIiwic2NvcGVfVmFsdWVzIiwic2NvcGVfTG9jYXRpb25zIiwiZG9jdW1lbnRMZWF2ZSIsImV2ZW50Iiwibm9kZU5hbWUiLCJyZWxhdGVkVGFyZ2V0IiwiZXZlbnRFbmQiLCJldmVudE1vdmUiLCJhcHBWZXJzaW9uIiwiYnV0dG9uc1Byb3BlcnR5IiwibW92ZW1lbnQiLCJzdGFydENhbGNQb2ludCIsInNjb3BlX0FjdGl2ZUhhbmRsZXNDb3VudCIsImxpc3RlbmVycyIsImMiLCJzY29wZV9Eb2N1bWVudEVsZW1lbnQiLCJzZXRaaW5kZXgiLCJzY29wZV9Cb2R5IiwiZXZlbnRTdGFydCIsImhhbmRsZU9yaWdpbiIsInNjb3BlX0hhbmRsZXMiLCJjaGlsZHJlbiIsInN0b3BQcm9wYWdhdGlvbiIsIm1vdmVFdmVudCIsIm1vdmUiLCJlbmRFdmVudCIsImVuZCIsIm91dEV2ZW50IiwiYXBwbHkiLCJjb25jYXQiLCJldmVudFRhcCIsInBvcyIsImdldENsb3Nlc3RIYW5kbGUiLCJldmVudEhvdmVyIiwicmVmZXJlbmNlIiwibG9va0JhY2t3YXJkIiwibG9va0ZvcndhcmQiLCJnZXRWYWx1ZSIsInRvUGN0IiwicGN0Iiwic2NvcGVfSGFuZGxlTnVtYmVycyIsImNoaWxkTm9kZXMiLCJzdGF0ZVVwZGF0ZSIsInVwZGF0ZUNvbm5lY3QiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ1cGRhdGVIYW5kbGVQb3NpdGlvbiIsInNjb3BlX0Nvbm5lY3RzIiwibCIsImgiLCJzZXRWYWx1ZSIsInZhbHVlU2V0IiwiaW5wdXQiLCJmaXJlU2V0RXZlbnQiLCJpc0luaXQiLCJ2YWx1ZUdldCIsImJpbmRFdmVudCIsIm5hbWVzcGFjZWRFdmVudCIsInBvaW50ZXJFbmFibGVkIiwibXNQb2ludGVyRW5hYmxlZCIsIkNTUyIsInN1cHBvcnRzIiwib3B0cyIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiZ2V0U3VwcG9ydHNQYXNzaXZlIiwiYWRkU2xpZGVyIiwiY29ubmVjdE9wdGlvbnMiLCJhZGRFbGVtZW50cyIsImRlc3Ryb3kiLCJsb2NhdGlvbiIsIm5lYXJieVN0ZXBzIiwiZ2V0TmVhcmJ5U3RlcHMiLCJ0aGlzU3RlcCIsImRlY3JlbWVudCIsInN0ZXBBZnRlciIsInN0YXJ0VmFsdWUiLCJzdGVwQmVmb3JlIiwic3RlcERlY2ltYWxzIiwiY291bnRTdGVwRGVjaW1hbHMiLCJvbiIsIm9mZiIsIm5hbWVzcGFjZSIsImJpbmQiLCJ0RXZlbnQiLCJ0TmFtZXNwYWNlIiwic2V0IiwicmVzZXQiLCJfX21vdmVIYW5kbGVzIiwidXBkYXRlT3B0aW9ucyIsIm9wdGlvbnNUb1VwZGF0ZSIsInVwZGF0ZUFibGUiLCJuZXdPcHRpb25zIiwiaGFuZGxlQmVmb3JlIiwiaGFuZGxlQWZ0ZXIiLCJldmVudEhvbGRlcnMiLCJldmVudEhvbGRlciIsImJpbmRTbGlkZXJFdmVudHMiLCJ0aXBzIiwidW5lbmNvZGVkIiwiZm9ybWF0dGVkVmFsdWUiLCJwb3NpdGlvbnMiLCJub3ciLCJ0ZXh0IiwiaXNQZXJjZW50YWdlIiwiY29udmVydCIsInZlcnNpb24iLCJhcGkiLCJRUkNvZGUiLCJRUjhiaXRCeXRlIiwiUVJNb2RlIiwiTU9ERV84QklUX0JZVEUiLCJwYXJzZWREYXRhIiwiYnl0ZUFycmF5IiwiY29kZSIsImNoYXJDb2RlQXQiLCJRUkNvZGVNb2RlbCIsInR5cGVOdW1iZXIiLCJlcnJvckNvcnJlY3RMZXZlbCIsIm1vZHVsZXMiLCJtb2R1bGVDb3VudCIsImRhdGFDYWNoZSIsImRhdGFMaXN0IiwiUVJQb2x5bm9taWFsIiwibnVtIiwic2hpZnQiLCJRUlJTQmxvY2siLCJ0b3RhbENvdW50IiwiZGF0YUNvdW50IiwiUVJCaXRCdWZmZXIiLCJidWZmZXIiLCJfZ2V0QW5kcm9pZCIsImFuZHJvaWQiLCJzQWdlbnQiLCJhTWF0IiwibWF0Y2giLCJfZ2V0VHlwZU51bWJlciIsInNUZXh0IiwibkNvcnJlY3RMZXZlbCIsIm5UeXBlIiwicmVwbGFjZWRUZXh0IiwiZW5jb2RlVVJJIiwiX2dldFVURjhMZW5ndGgiLCJsZW4iLCJRUkNvZGVMaW1pdExlbmd0aCIsIm5MaW1pdCIsIlFSRXJyb3JDb3JyZWN0TGV2ZWwiLCJMIiwiTSIsIlEiLCJIIiwiZ2V0TGVuZ3RoIiwid3JpdGUiLCJwdXQiLCJhZGREYXRhIiwibmV3RGF0YSIsImlzRGFyayIsInJvdyIsImNvbCIsImdldE1vZHVsZUNvdW50IiwibWFrZSIsIm1ha2VJbXBsIiwiZ2V0QmVzdE1hc2tQYXR0ZXJuIiwibWFza1BhdHRlcm4iLCJzZXR1cFBvc2l0aW9uUHJvYmVQYXR0ZXJuIiwic2V0dXBQb3NpdGlvbkFkanVzdFBhdHRlcm4iLCJzZXR1cFRpbWluZ1BhdHRlcm4iLCJzZXR1cFR5cGVJbmZvIiwic2V0dXBUeXBlTnVtYmVyIiwiY3JlYXRlRGF0YSIsIm1hcERhdGEiLCJtaW5Mb3N0UG9pbnQiLCJwYXR0ZXJuIiwibG9zdFBvaW50IiwiUVJVdGlsIiwiZ2V0TG9zdFBvaW50IiwiY3JlYXRlTW92aWVDbGlwIiwidGFyZ2V0X21jIiwiaW5zdGFuY2VfbmFtZSIsImRlcHRoIiwicXJfbWMiLCJjcmVhdGVFbXB0eU1vdmllQ2xpcCIsImJlZ2luRmlsbCIsIm1vdmVUbyIsImxpbmVUbyIsImVuZEZpbGwiLCJnZXRQYXR0ZXJuUG9zaXRpb24iLCJiaXRzIiwiZ2V0QkNIVHlwZU51bWJlciIsIm1vZCIsImZsb29yIiwiZ2V0QkNIVHlwZUluZm8iLCJpbmMiLCJiaXRJbmRleCIsImJ5dGVJbmRleCIsImRhcmsiLCJnZXRNYXNrIiwiUEFEMCIsIlBBRDEiLCJyc0Jsb2NrcyIsImdldFJTQmxvY2tzIiwiZ2V0TGVuZ3RoSW5CaXRzIiwidG90YWxEYXRhQ291bnQiLCJwdXRCaXQiLCJjcmVhdGVCeXRlcyIsIm1heERjQ291bnQiLCJtYXhFY0NvdW50IiwiZGNkYXRhIiwiZWNkYXRhIiwiZGNDb3VudCIsImVjQ291bnQiLCJyc1BvbHkiLCJnZXRFcnJvckNvcnJlY3RQb2x5bm9taWFsIiwibW9kUG9seSIsIm1vZEluZGV4IiwidG90YWxDb2RlQ291bnQiLCJNT0RFX05VTUJFUiIsIk1PREVfQUxQSEFfTlVNIiwiTU9ERV9LQU5KSSIsIlFSTWFza1BhdHRlcm4iLCJQQVRURVJOX1BPU0lUSU9OX1RBQkxFIiwiRzE1IiwiRzE4IiwiRzE1X01BU0siLCJkIiwiZ2V0QkNIRGlnaXQiLCJkaWdpdCIsImVycm9yQ29ycmVjdExlbmd0aCIsIm11bHRpcGx5IiwiUVJNYXRoIiwiZ2V4cCIsInFyQ29kZSIsInNhbWVDb3VudCIsImNvdW50IiwiZGFya0NvdW50IiwiZ2xvZyIsIkxPR19UQUJMRSIsIkVYUF9UQUJMRSIsInJhdGlvIiwiUlNfQkxPQ0tfVEFCTEUiLCJyc0Jsb2NrIiwiZ2V0UnNCbG9ja1RhYmxlIiwibGlzdCIsImJ1ZkluZGV4IiwiYml0Iiwic3ZnRHJhd2VyIiwiRHJhd2luZyIsImh0T3B0aW9uIiwiX2VsIiwiX2h0T3B0aW9uIiwiZHJhdyIsIm9RUkNvZGUiLCJtYWtlU1ZHIiwidGFnIiwiYXR0cnMiLCJjcmVhdGVFbGVtZW50TlMiLCJuQ291bnQiLCJjbGVhciIsInN2ZyIsInZpZXdCb3giLCJmaWxsIiwiY29sb3JMaWdodCIsInNldEF0dHJpYnV0ZU5TIiwiY29sb3JEYXJrIiwiY2hpbGQiLCJoYXNDaGlsZE5vZGVzIiwibGFzdENoaWxkIiwiQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwibldpZHRoIiwibkhlaWdodCIsImFIVE1MIiwiZWxUYWJsZSIsIm5MZWZ0TWFyZ2luVGFibGUiLCJvZmZzZXRXaWR0aCIsIm5Ub3BNYXJnaW5UYWJsZSIsIm9mZnNldEhlaWdodCIsIl9vbk1ha2VJbWFnZSIsIl9lbEltYWdlIiwiX2VsQ2FudmFzIiwidG9EYXRhVVJMIiwiX2FuZHJvaWQiLCJmYWN0b3IiLCJkZXZpY2VQaXhlbFJhdGlvIiwiZHJhd0ltYWdlIiwiaW1hZ2UiLCJzeCIsInN5Iiwic3ciLCJzaCIsImR4IiwiZHkiLCJkdyIsImRoIiwiX2JJc1BhaW50ZWQiLCJfb0NvbnRleHQiLCJfYlN1cHBvcnREYXRhVVJJIiwiblJvdW5kZWRXaWR0aCIsIm5Sb3VuZGVkSGVpZ2h0IiwiYklzRGFyayIsIm5MZWZ0IiwiblRvcCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJzdHJva2VSZWN0IiwibWFrZUltYWdlIiwiZlN1Y2Nlc3MiLCJmRmFpbCIsIl9mRmFpbCIsIl9mU3VjY2VzcyIsImZPbkVycm9yIiwib25hYm9ydCIsImlzUGFpbnRlZCIsImNsZWFyUmVjdCIsIm5OdW1iZXIiLCJ2T3B0aW9uIiwiY29ycmVjdExldmVsIiwidXNlU1ZHIiwiX29RUkNvZGUiLCJfb0RyYXdpbmciLCJtYWtlQ29kZSIsInRpdGxlIiwiQ29ycmVjdExldmVsIiwicm9vdCIsIlRpbnlBbmltYXRlIiwidXBkYXRlIiwiZWFzaW5nIiwibG9vcCIsInRpbWVzdGFtcCIsImNhbmNlbGVkIiwidGltZSIsIkRhdGUiLCJjaGFuZ2UiLCJyQUYiLCJlYXNpbmdzIiwibGluZWFyIiwicGVyZm9ybWFuY2UiLCJjYW5jZWwiLCJhbmltYXRlQ1NTIiwicHJvcGVydHkiLCJ1bml0IiwiYW5pbWF0aW9uIiwiZWFzZUluUXVhZCIsImVhc2VPdXRRdWFkIiwiZWFzZUluT3V0UXVhZCIsImVhc2VJbkN1YmljIiwiZWFzZU91dEN1YmljIiwiZWFzZUluT3V0Q3ViaWMiLCJlYXNlSW5RdWFydCIsImVhc2VPdXRRdWFydCIsImVhc2VJbk91dFF1YXJ0IiwiZWFzZUluUXVpbnQiLCJlYXNlT3V0UXVpbnQiLCJlYXNlSW5PdXRRdWludCIsImVhc2VJblNpbmUiLCJjb3MiLCJQSSIsImVhc2VPdXRTaW5lIiwic2luIiwiZWFzZUluT3V0U2luZSIsImVhc2VJbkV4cG8iLCJwb3ciLCJlYXNlT3V0RXhwbyIsImVhc2VJbk91dEV4cG8iLCJlYXNlSW5DaXJjIiwic3FydCIsImVhc2VPdXRDaXJjIiwiZWFzZUluT3V0Q2lyYyIsImVhc2VJbkVsYXN0aWMiLCJwIiwiYXNpbiIsImVhc2VPdXRFbGFzdGljIiwiZWFzZUluT3V0RWxhc3RpYyIsImVhc2VJbkJhY2siLCJlYXNlT3V0QmFjayIsImVhc2VJbk91dEJhY2siLCJlYXNlSW5Cb3VuY2UiLCJlYXNlT3V0Qm91bmNlIiwiZWFzZUluT3V0Qm91bmNlIiwiZ2xvYmFsIiwiSW1wZXR1cyIsImdldFBhc3NpdmVTdXBwb3J0ZWQiLCJwYXNzaXZlU3VwcG9ydGVkIiwiZXJyIiwiYm91bmNlRGVjZWxlcmF0aW9uIiwiYm91bmNlQWNjZWxlcmF0aW9uIiwiX3JlZiIsImNhbGxVcGRhdGVDYWxsYmFjayIsInVwZGF0ZUNhbGxiYWNrIiwic291cmNlRWwiLCJ0YXJnZXRYIiwidGFyZ2V0WSIsIm5vcm1hbGl6ZUV2ZW50IiwiZXYiLCJpZGVudGlmaWVyIiwib25Eb3duIiwicG9pbnRlckFjdGl2ZSIsInBhdXNlZCIsImRlY2VsZXJhdGluZyIsInBvaW50ZXJJZCIsInBvaW50ZXJMYXN0WCIsInBvaW50ZXJDdXJyZW50WCIsInBvaW50ZXJMYXN0WSIsInBvaW50ZXJDdXJyZW50WSIsInRyYWNraW5nUG9pbnRzIiwiYWRkVHJhY2tpbmdQb2ludCIsIm9uTW92ZSIsIm9uVXAiLCJzdG9wVHJhY2tpbmciLCJ0aWNraW5nIiwicmVxdWVzdEFuaW1GcmFtZSIsInVwZGF0ZUFuZFJlbmRlciIsImZpcnN0UG9pbnQiLCJsYXN0UG9pbnQiLCJ4T2Zmc2V0IiwieU9mZnNldCIsIkQiLCJtdWx0aXBsaWVyIiwiZGVjVmVsWCIsImRlY1ZlbFkiLCJkaWZmIiwiY2hlY2tCb3VuZHMiLCJpbkJvdW5kcyIsInN0ZXBEZWNlbEFuaW0iLCJzdGFydERlY2VsQW5pbSIsInBvaW50ZXJDaGFuZ2VYIiwicG9pbnRlckNoYW5nZVkiLCJib3VuY2UiLCJkcmFnT3V0T2ZCb3VuZHNNdWx0aXBsaWVyIiwidmFsIiwicmVzdHJpY3QiLCJ4RGlmZiIsInlEaWZmIiwiYm91bmRYbWluIiwiYm91bmRYbWF4IiwiYm91bmRZbWluIiwiYm91bmRZbWF4IiwiZnJpY3Rpb24iLCJzdG9wVGhyZXNob2xkIiwiYWRqdXN0IiwiX3JlZiRzb3VyY2UiLCJfcmVmJG11bHRpcGxpZXIiLCJfcmVmJGZyaWN0aW9uIiwiaW5pdGlhbFZhbHVlcyIsImJvdW5kWCIsImJvdW5kWSIsIl9yZWYkYm91bmNlIiwicGF1c2UiLCJyZXN1bWUiLCJzZXRWYWx1ZXMiLCJzZXRNdWx0aXBsaWVyIiwic2V0Qm91bmRYIiwic2V0Qm91bmRZIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidmlldyIsInByb3RvUHJvcCIsImVsZW1DdHJQcm90byIsIm9iakN0ciIsInN0clRyaW0iLCJhcnJJbmRleE9mIiwiRE9NRXgiLCJtZXNzYWdlIiwiRE9NRXhjZXB0aW9uIiwiY2hlY2tUb2tlbkFuZEdldEluZGV4IiwidG9rZW4iLCJDbGFzc0xpc3QiLCJ0cmltbWVkQ2xhc3NlcyIsImNsYXNzZXMiLCJfdXBkYXRlQ2xhc3NOYW1lIiwiY2xhc3NMaXN0UHJvdG8iLCJjbGFzc0xpc3RHZXR0ZXIiLCJ1cGRhdGVkIiwidG9nZ2xlIiwiZm9yY2UiLCJyZXN1bHQiLCJjbGFzc0xpc3RQcm9wRGVzYyIsImV4IiwibnVtYmVyIiwiX19kZWZpbmVHZXR0ZXJfXyIsInRlc3RFbGVtZW50IiwiY3JlYXRlTWV0aG9kIiwib3JpZ2luYWwiLCJET01Ub2tlbkxpc3QiLCJfdG9nZ2xlIiwiY29tbW9uRXZlbnRMb29wIiwiY3VycmVudFRhcmdldCIsIiRoYW5kbGVycyIsInN5bnRoZXRpYyIsImhhbmRsZXIiLCJjb250aW51ZVByb3BhZ2F0aW9uIiwiaGFuZGxlcnMiLCJldnQiLCJldmVudFBoYXNlIiwiZW5yaWNoIiwiaGFuZGxlRXZlbnQiLCJzdG9wcGVkSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJzdG9wcGVkUHJvcGFnYXRpb24iLCJkaXNwYXRjaEV2ZW50IiwiZGVmYXVsdFByZXZlbnRlZCIsImNvbW1vbkRlc2NyaXB0b3IiLCJjb21tb25UZXh0Q29udGVudCIsInByb3RvRGVzdCIsInByb3RvU291cmNlIiwiZGVzY3JpcHRvciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInRleHRDb250ZW50IiwiYXJyYXkiLCJnZXRUZXh0Q29udGVudCIsInRleHROb2RlIiwiYXJyYXlDb250ZW50Iiwibm9kZVR5cGUiLCJuZXh0U2libGluZyIsIm9ua2V5dXAiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsInNyY0VsZW1lbnQiLCJmcm9tRWxlbWVudCIsIm9uUmVhZHlTdGF0ZSIsIlJFQURZRVZFTlRESVNQQVRDSEVEIiwicmVhZHlTdGF0ZU9LIiwicmVhZHlTdGF0ZSIsImRldGFjaEV2ZW50IiwiT05SRUFEWVNUQVRFQ0hBTkdFIiwiRE9NQ09OVEVOVExPQURFRCIsImdldHRlciIsImF0dHIiLCJodG1sIiwic2V0VGV4dENvbnRlbnQiLCJ2ZXJpZnkiLCJ0aW1lU3RhbXAiLCJnZXRUaW1lIiwiRFVOTk9BQk9VVERPTUxPQURFRCIsIlNFQ1JFVCIsInJhbmRvbSIsIm9iamVjdCIsImRlZmluZVByb3BlcnRpZXMiLCJkZXNjcmlwdG9ycyIsIm9fTyIsImxvZyIsIkVsZW1lbnRQcm90b3R5cGUiLCJUZXh0UHJvdG90eXBlIiwiVGV4dCIsInBvc3NpYmx5TmF0aXZlRXZlbnQiLCJ0eXBlcyIsInZhbHVlRGVzYyIsIkhUTUxDb21tZW50RWxlbWVudCIsIkhUTUxTY3JpcHRFbGVtZW50IiwiSFRNTFRpdGxlRWxlbWVudCIsIkhUTUxTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiQ1NTU3R5bGVTaGVldCIsIm9wYWNpdHlyZSIsIkNTU1N0eWxlRGVjbGFyYXRpb24iLCJtIiwiem9vbSIsImZvdW5kIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJsYXN0RWxlbWVudENoaWxkIiwib25pbnB1dCIsIl9vbmlucHV0IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInByZXZpb3VzU2libGluZyIsIm5leHRFbGVtZW50U2libGluZyIsImNoaWxkRWxlbWVudENvdW50IiwiY2FwdHVyZSIsIm9udHlwZSIsInRlbXBsZSIsImN1cnJlbnRUeXBlIiwidyIsImNyZWF0ZUV2ZW50T2JqZWN0IiwibWVoIiwidmFsaWQiLCJYTUxIdHRwUmVxdWVzdCIsImJ1dHRvbkdldHRlciIsIkV2ZW50IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJyZXR1cm5WYWx1ZSIsImNhbmNlbEJ1YmJsZSIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIl9wYWdlWCIsInNjcm9sbFgiLCJfcGFnZVkiLCJzY3JvbGxZIiwid2hpY2giLCJrZXlDb2RlIiwiYnV0dG9uIiwiY2hhckNvZGUiLCJ1bmRlZiIsInRvRWxlbWVudCIsIkhUTUxEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwicGFyZW50V2luZG93IiwiZ29ubmEiLCJkb1Njcm9sbCIsIkNsYXNzIiwiV2luZG93IiwiQ29tcHV0ZWRTdHlsZSIsIl8iLCJQc2V1ZG9Db21wdXRlZFN0eWxlIiwibm90cGl4ZWwiLCJyZSIsInBsYWNlIiwiJDEiLCJ0b1VwcGVyQ2FzZSIsImdldFByb3BlcnR5VmFsdWUiLCJydExlZnQiLCJjdXJyZW50U3R5bGUiLCJwaXhlbExlZnQiLCJwc2V1ZG8iLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJzdHlsZVNoZWV0cyIsIkhUTUw1RWxlbWVudCIsImNyZWF0ZVN0eWxlU2hlZXQiLCJhZGRSdWxlIiwibGFzdFRpbWUiLCJ2ZW5kb3JzIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJjdXJyVGltZSIsInRpbWVUb0NhbGwiLCJjbGVhclRpbWVvdXQiLCJSaWRlU3R5bGVyU2hvd2Nhc2UiLCJhdXRoIiwidmFsaWRhdGUiLCJzZXR0aW5ncyIsInNldHRpbmdzXzEiLCJwYXJzZUJvb2xlYW4iLCJib29sZWFuIiwiZmlyc3RDaGFyIiwiZGVmYXVsdFNldHRpbmdzIiwiRW5hYmxlU2hhcmluZyIsIlN1c3BlbnNpb25SYW5nZXMiLCJEZWZhdWx0IiwiTWluIiwiTWF4IiwiVHJ1Y2s0V0QiLCJWYW40V0QiLCJVc2VSYXdUaXJlRGVzY3JpcHRpb24iLCJnZXRTZXR0aW5ncyIsIlByb21pc2VIZWxwZXIiLCJ0aGVuIiwiS2V5cyIsIlNldHRpbmdzIiwic3VzcGVuc2lvblJhbmdlc1NldHRpbmciLCJKU09OIiwicGFyc2UiLCJwYXJzZVN1c3BlbnNpb25SYW5nZXMiLCJpc0F1dGhlbnRpY2F0ZWQiLCJhdXRoZW50aWNhdGVkIiwiaW5pdGlhbGl6ZSIsIlVzZXJuYW1lIiwidXNlcm5hbWUiLCJQYXNzd29yZCIsInBhc3N3b3JkIiwiZW52aXJvbm1lbnQiLCJFbnZpcm9ubWVudCIsIkFscGhhIiwiQmV0YSIsIkxpdmUiLCJPdGhlciIsImZhaWwiLCJhZnRlckF1dGhlbnRpY2F0ZWQiLCJnZXRVUkwiLCJfY3JlYXRlQ2xhc3MiLCJwcm9wcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkV2ZW50SGFuZGxlciIsImV2ZW50SGFuZGxlcnMiLCJBcnJheUhlbHBlciIsImRlYnVnQ2FsbGJhY2siLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuZXh0IiwiZXZlbnRIYW5kbGVyIiwicmV0dXJuIiwiZmlsdGVyc18xIiwiRmlsdGVyQ29udHJvbGxlciIsImdsb2JhbEZpbHRlcnMiLCJHbG9iYWxGaWx0ZXJQcm92aWRlciIsInRpcmVGaWx0ZXJzIiwiVGlyZUZpbHRlclByb3ZpZGVyIiwid2hlZWxGaWx0ZXJzIiwiV2hlZWxGaWx0ZXJQcm92aWRlciIsInZlaGljbGUiLCJjbGVhckZpbHRlcnMiLCJzZXRWZWhpY2xlIiwidHJpZ2dlckNoYW5nZSIsIkZpbHRlclByb3ZpZGVyIiwiZ2xvYmFsRmlsdGVyUHJvdmlkZXIiLCJjdXJyZW50RmlsdGVycyIsIm9uRmlsdGVyc0NoYW5nZWQiLCJnZXRGaWx0ZXJzIiwiZmlsdGVyVmFsdWVzIiwiZmlsdGVycyIsImJhc2VGaWx0ZXJzIiwiZmlsdGVyVmFsdWUiLCJzZXRGaWx0ZXIiLCJPYmplY3RIZWxwZXIiLCJhc3NpZ24iLCJyZXRyaWV2ZU9wdGlvbnMiLCJmaWx0ZXJPcHRpb24iLCJmaW5kRmlsdGVyT3B0aW9uIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIiLCJfZGlkSXRlcmF0b3JFcnJvcjIiLCJfaXRlcmF0b3JFcnJvcjIiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwiZmlsdGVyT3B0aW9ucyIsInNlbGVjdGVkRmlsdGVyc09yS2V5IiwibmV3RmlsdGVycyIsInNlbGVjdGVkRmlsdGVycyIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zIiwiX2RpZEl0ZXJhdG9yRXJyb3IzIiwiX2l0ZXJhdG9yRXJyb3IzIiwiX3N0ZXAzIiwiX2l0ZXJhdG9yMyIsInNlbGVjdGVkRmlsdGVyIiwiX3ZhbHVlIiwiaGFzQ2hhbmdlZCIsIm5ld0ZpbHRlclZhbHVlIiwidHJpZ2dlckZpbHRlckNoYW5nZSIsInZlaGljbGVDb25maWdGaWx0ZXJLZXkiLCJfRmlsdGVyUHJvdmlkZXIiLCJfdGhpcyIsImdldFByb3RvdHlwZU9mIiwiSGFzRml0bWVudHMiLCJ2aXNpYmxlIiwidmVoaWNsZUNvbmZpZ3VyYXRpb25JRCIsInZlaGljbGVUaXJlT3B0aW9uSUQiLCJWZWhpY2xlVGlyZU9wdGlvbiIsIl9GaWx0ZXJQcm92aWRlcjIiLCJfdGhpczIiLCJSZXF1aXJlZEZpdG1lbnRSZXNvdXJjZVR5cGVzIiwibGFiZWwiLCJzdHJpbmdzIiwiZ2V0U3RyaW5nIiwidW5zZWxlY3RlZE9wdGlvbkxhYmVsIiwiQnJhbmRzIiwiYnJhbmQiLCJUaXJlQnJhbmROYW1lIiwiVGlyZUJyYW5kSUQiLCJnZXRWYWx1ZUZyb21GaWx0ZXJzIiwiVGlyZUJyYW5kIiwidGlyZUJyYW5kSUQiLCJBdHRyaWJ1dGVzIiwiYXR0cmlidXRlIiwiVGlyZU1vZGVsQXR0cmlidXRlTmFtZSIsIlRpcmVNb2RlbEF0dHJpYnV0ZUlEIiwiUmVxdWlyZWRUaXJlTW9kZWxBdHRyaWJ1dGUiLCJhdHRyaWJ1dGVJRCIsIlNwZWVkUmF0aW5ncyIsIlRpcmVTcGVlZFJhdGluZ0NvZGUiLCJUaXJlU3BlZWRSYXRpbmdJRCIsIlNwZWVkUmF0aW5nIiwic3BlZWRSYXRpbmdJRCIsIkNvdW50IiwiX0ZpbHRlclByb3ZpZGVyMyIsIl90aGlzMyIsIkZpdG1lbnRSZXNvdXJjZVR5cGVzIiwiV2hlZWxCcmFuZE5hbWUiLCJXaGVlbEJyYW5kSUQiLCJXaGVlbEJyYW5kIiwid2hlZWxCcmFuZElEIiwiRmluaXNoZXMiLCJmaW5pc2hDYXRlZ29yeSIsIldoZWVsRmluaXNoQ2F0ZWdvcnlOYW1lIiwiV2hlZWxGaW5pc2hDYXRlZ29yeUlEIiwiV2hlZWxGaW5pc2hDYXRlZ29yeSIsIndoZWVsRmluaXNoQ2F0ZWdvcnlJRCIsIkRpYW1ldGVycyIsImRpYW1ldGVyIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQiLCJfZGlkSXRlcmF0b3JFcnJvcjQiLCJfaXRlcmF0b3JFcnJvcjQiLCJfc3RlcDQiLCJfaXRlcmF0b3I0IiwiRml0bWVudEZpbHRlcnMiLCJmaXRtZW50RmlsdGVyIiwiR3JvdXBLZXkiLCJmaXRtZW50RmlsdGVyR3JvdXBLZXkiLCJnZXRGaXRtZW50RmlsdGVyVmFsdWUiLCJmaXRtZW50RmlsdGVycyIsImV4aXN0aW5nRml0bWVudEZpbHRlckdyb3VwIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUiLCJfZGlkSXRlcmF0b3JFcnJvcjUiLCJfaXRlcmF0b3JFcnJvcjUiLCJfc3RlcDUiLCJfaXRlcmF0b3I1IiwiYXBwbGllZEZpdG1lbnRGaWx0ZXIiLCJhcHBseUZpdG1lbnRGaWx0ZXIiLCJEaWFtZXRlciIsIlN0YXRlcyIsInN0YXRlXzEiLCJTdGF0ZUNhbGxiYWNrUmVnaXN0ZXIiLCJleGl0Q2FsbGJhY2tzIiwiZW50ZXJDYWxsYmFja3MiLCJjdXJyZW50U3RhdGUiLCJuZXdTdGF0ZSIsImV4aXRDYWxsYmFjayIsIm9sZFN0YXRlIiwiZW50ZXJDYWxsYmFjayIsIlJpZGVTdHlsZXJTaG93Y2FzZVN0YXRlIiwiaW5pdGlhbFN0YXRlIiwiY3VycmVudERhdGEiLCJjdXJyZW50VmVoaWNsZUNvbmZpZ3VyYXRpb25JRCIsImN1cnJlbnRWZWhpY2xlRGVzY3JpcHRpb24iLCJ2ZWhpY2xlSGFzQW5nbGVkSW1hZ2UiLCJ2ZWhpY2xlSGFzU2lkZUltYWdlIiwiY3VycmVudFZlaGljbGVUaXJlT3B0aW9uRGVzY3JpcHRpb24iLCJjdXJyZW50VmVoaWNsZVRpcmVPcHRpb25JRCIsImN1cnJlbnRQYWludFNjaGVtZSIsImN1cnJlbnRUaXJlIiwiY3VycmVudFdoZWVsIiwiY3VycmVudFdoZWVsRml0bWVudCIsImN1cnJlbnRUaXJlT3B0aW9uIiwiY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbk1vZGVsIiwiY2FsbGJhY2tzIiwiY2hhbmdlQ2FsbGJhY2tzIiwiZGF0YUNoYW5nZWRDYWxsYmFja3MiLCJiZWZvcmVDYWxsYmFja3MiLCJhZnRlckNhbGxiYWNrcyIsImRhdGFDaGFuZ2VkQ2FsbGJhY2siLCJiZWZvcmUiLCJfY2FsbGJhY2siLCJkYXRhRXh0ZW5zaW9uIiwiY3VycmVudFZhbHVlIiwibmV3VmFsdWUiLCJzZXREYXRhIiwiY2FsbGJhY2tzRm9yU3RhdGUiLCJwcmV2aW91c1N0YXRlIiwic3RhdGVDaGFuZ2VkRXZlbnQiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiIsIl9kaWRJdGVyYXRvckVycm9yNiIsIl9pdGVyYXRvckVycm9yNiIsIl9zdGVwNiIsIl9pdGVyYXRvcjYiLCJ0cmlnZ2VyRXhpdENhbGxiYWNrcyIsInRyaWdnZXJFbnRlckNhbGxiYWNrcyIsImRlZmF1bHRMYW5ndWFnZUZvcm1hdFByb3ZpZGVyIiwiY3VycmVuY3kiLCJzeW1ib2wiLCJ0b0xvY2FsZVN0cmluZyIsIkxhbmd1YWdlS2V5cyIsIkxhbmd1YWdlUmVnaXN0ZXIiLCJsYW5ndWFnZSIsImRlZmF1bHRMYW5ndWFnZSIsImxhbmd1YWdlUmVnaXN0ZXJzIiwiZ2V0TGFuZ3VhZ2UiLCJsYW5ndWFnZUtleSIsInJlZ2lzdGVyTGFuZ3VhZ2UiLCJzZXRBc0RlZmF1bHQiLCJsYW5ndWFnZVJlZ2lzdGVyIiwic2V0RGVmYXVsdExhbmd1YWdlIiwibGFuZ3VhZ2VJc1JlZ2lzdGVyZWQiLCJzdHJpbmciLCJ3aWR0aEJyZWFrcG9pbnRzIiwiU3R5bGVNYW5hZ2VyIiwiaW5pdGlhbGl6ZWQiLCJpbml0aWFsaXplQnJlYWtwb2ludHMiLCJ3YXRjaFNpemUiLCJpbml0aWFsaXplQ1NTIiwicmVzb2x2ZU9uRE9NTG9hZCIsImluaXRpYWxpemVTdHlsZUNsYXNzZXMiLCJTdHlsZUhlbHBlciIsImlzT2Zmc2V0UG9zaXRpb25lZCIsImNvbnRhaW5lckRvY3VtZW50IiwiaGVhZCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaW5zZXJ0QmVmb3JlIiwic3R5bGVzaGVldCIsImNzcyIsIkhUTUxIZWxwZXIiLCJmaXJzdENoaWxkV2l0aFRhZyIsImlzVG91Y2hEZXZpY2UiLCJhcHBseUJyZWFrcG9pbnRDbGFzc2VzIiwiZ2V0RG9jdW1lbnQiLCJnZXRXaW5kb3ciLCJvblJlc2l6ZSIsIm9uUmVzaXplZCIsIm5ld0JyZWFrcG9pbnQiLCJvbkJyZWFrcG9pbnRDaGFuZ2VkIiwidGltZXIiLCJlbGVtZW50U2l6ZSIsIm5ld0VsZW1lbnRTaXplIiwicmVzaXplIiwicmVzaXplZCIsImN1cnJlbnRCcmVha3BvaW50Iiwib3JpZ2luYWxDbGFzc05hbWUiLCJicmVha3BvaW50Q2hhbmdlZCIsIlJpZGVTdHlsZXJTaG93Y2FzZUluc3RhbmNlIiwiYWN0aXZlTG9hZGluZ1Nlc3Npb25LZXlzIiwiZGVidWciLCJvdGhlckNvbXBvbmVudHMiLCJSaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kIiwic3RhdGVDb21wb25lbnRNYXBwaW5nIiwiQ2hvb3NlVmVoaWNsZSIsIlJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb24iLCJWaXN1YWxpemUiLCJSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbiIsIm1haW5Db21wb25lbnRzIiwicmlkZXN0eWxlclNob3djYXNlIiwiaW5pdGlhbGl6ZVN0YXRlIiwicmVnaXN0ZXJDb21wb25lbnRzIiwiaW5pdGlhbGl6ZVN0eWxlIiwiaW5pdGlhbGl6ZUZpbHRlcnMiLCJpbml0aWFsaXplQ29tcG9uZW50cyIsInNlbGVjdGlvbiIsImNoYW5nZVN0YXRlIiwic2V0dGluZ3NSZXRyaWV2ZWQiLCJzZXR0aW5nc0Zyb21BUEkiLCJhbGwiLCJ0cmlnZ2VyIiwib25TdGF0ZUNoYW5nZWQiLCJmaW5pc2hlZCIsImZpbmlzaGVkU3RyaW5nIiwic3RhdGVDaGFuZ2UiLCJvbkNoYW5nZSIsIl90aGlzNCIsImNvbXBvbmVudCIsIl9jb21wb25lbnQiLCJzZXRWaXNpYmxlIiwidXBkYXRlQ3VycmVudENvbXBvbmVudCIsIm5ld0NvbXBvbmVudCIsIm9sZENvbXBvbmVudCIsInN0YXRlQ2xhc3NQcmVmaXgiLCJpc1Zpc2libGUiLCJoaWRlIiwic2hvdyIsIkNvbXBvbmVudEJhc2UiLCJzaG93Y2FzZUluc3RhbmNlIiwic2hvd2Nhc2UiLCJpbml0aWFsaXplQ29tcG9uZW50IiwiTWFpbkNvbXBvbmVudEJhc2UiLCJfUmlkZVN0eWxlclNob3djYXNlJEMiLCJ0cmFuc2l0aW9uc1N1cHBvcnRlZCIsInRyYW5zaXRpb25FbmRFdmVudCIsIm9uVHJhbnNpdGlvbkVuZCIsImJ1aWxkQ29tcG9uZW50IiwiaW5pdGlhbGl6ZU1haW5Db21wb25lbnQiLCJfdmlzaWJsZSIsInNldFZpc2libGVTdHlsaW5nIiwic2tpcFRyYW5zaXRpb24iLCJ2aXNpYmlsaXR5IiwiX2FuaW1hdGluZyIsIm9uTmV4dFRyYW5zaXRpb25FbmQiLCJjYWxsV2hlbkRvbmVBbmltYXRpbmciLCJvblNob3ciLCJ0cmlnZ2VyUmVmbG93Iiwib25EaXNwbGF5Iiwib25TaG93biIsIl90aGlzNSIsIm9uSGlkZSIsIm9uSGlkZGVuIiwiX3NsaWNlZFRvQXJyYXkiLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwiX3MiLCJfaSIsInNsaWNlSXRlcmF0b3IiLCJfdHlwZW9mIiwib2JqIiwiZGVmYXVsdFNpemUiLCJtaW5pbXVtU2l6ZSIsIm1heGltdW1TaXplIiwiZGVmYXVsdFBvc2l0aW9uIiwiUmVzaXplYWJsZVJlc291cmNlSW1hZ2UiLCJyZXNpemVDYWxsYmFjayIsInRyYW5zaXRpb25DbGFzcyIsInVzZVRyYW5zaXRpb25zIiwidHJhbnNpdGlvbkluQ2xhc3MiLCJjYWxjdWxhdGVQYWRkaW5nIiwiaW1hZ2VMb2FkQ2FsbGJhY2siLCJvbkxvYWQiLCJpbWFnZUVycm9yQ2FsbGJhY2siLCJvbkVycm9yIiwib25JbWFnZUVycm9yIiwib25JbWFnZUxvYWQiLCJiYXNlSW5zdHJ1Y3Rpb25zIiwibG9hZEluaXRpYWxseSIsImxpc3RlblRvV2luZG93UmVzaXplIiwidGltZW91dCIsInJlZ2lzdGVyZWRFdmVudCIsIl9yZWdpc3RlcmVkRXZlbnQiLCJsaXN0ZW5lciIsImVycm9yRXZlbnQiLCJWaXNpYmlsaXR5SGVscGVyIiwiaW1hZ2VEaXNwbGF5Q2FsbGJhY2siLCJfY29udGFpbmVyIiwiZGV0ZWN0ZWRTaXplIiwicGl4ZWxSYXRpbyIsIkJveEhlbHBlciIsImJvdW5kIiwiYm94IiwiY3VycmVudFNpemUiLCJfY3VycmVudFNpemUiLCJ0aGlzV2lkdGgiLCJ0aGlzSGVpZ2h0IiwiYm94V2lkdGgiLCJib3hIZWlnaHQiLCJuZWVkc1VwZGF0ZSIsInJlbmRlclNpemUiLCJjYWxjdWxhdGVSZW5kZXJTaXplIiwic2l6ZUlzRGlmZmVyZW50IiwiX2N1cnJlbnRTaXplMiIsImJhY2tncm91bmRFbGVtZW50IiwiYXBwZW5kVG8iLCJvcHRpb25DbGFzcyIsImFjdGl2ZUNsYXNzIiwiUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyIiwib3B0aW9uQ29udGFpbmVyIiwib25PcHRpb25DbGljayIsImVtcHR5IiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50Iiwib3B0aW9uIiwib3B0aW9uRWxlbWVudCIsImNoaWxkcmVuV2l0aENsYXNzZXMiLCJvcHRpb25TZWxlY3RlZENhbGxiYWNrIiwiUmlkZVN0eWxlclNob3djYXNlQ2hhbmdlV2hlZWxTaXplIiwiX1JpZGVTdHlsZXJTaG93Y2FzZSRSIiwiZml0bWVudHMiLCJhY3RpdmVGaXRtZW50Iiwic2VlbkRpYW1ldGVycyIsImRpYW1ldGVyRml0bWVudHMiLCJmaXRtZW50IiwiRGlhbWV0ZXJNaW4iLCJzZXRPcHRpb25zIiwiZGlhbWV0ZXJGaXRtZW50IiwibW9kYWxDbGFzcyIsImJhY2tkcm9wQ2xhc3MiLCJSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCIsImNyZWF0ZUJhY2tkcm9wSWZOZWVkZWQiLCJidWlsZE1vZGFsIiwic2V0VmlzaWJpbGl0eSIsInBhcmVudCIsImZ1bGwiLCJidWlsZEFjdGlvbnMiLCJhY3Rpb25Db250YWluZXIiLCJfbG9vcCIsImNyZWF0ZUJ1dHRvbiIsInJlbW92ZU9uSGlkZGVuIiwiaGFzQ2hpbGRXaXRoQ2xhc3MiLCJSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbEJhY2tkcm9wIiwiX1JpZGVTdHlsZXJTaG93Y2FzZSRDMiIsIl90aGlzNiIsImJ1aWxkQmFja2Ryb3AiLCJfdGhpczciLCJjcmVhdGVFbGVtZW50V2l0aENsYXNzIiwidG9wVmlzaWJsZU1vZGFsIiwibGFzdFNpYmxpbmdXaXRoQ2xhc3MiLCJfdGhpczgiLCJoYXNTaWJsaW5nV2l0aENsYXNzIiwib3B0aW9uTWVudUNsYXNzIiwib3B0aW9uTWVudU9wdGlvbkNsYXNzIiwib3B0aW9uTWVudU9wdGlvbkFjdGl2ZUNsYXNzIiwib3B0aW9uTWVudUxvYWRpbmdDbGFzcyIsIlJpZGVTdHlsZXJTaG93Y2FzZU9wdGlvbk1lbnUiLCJjbGlja0V2ZW50Iiwib25DbGlja2VkIiwic2V0TG9hZGluZyIsImxvYWRpbmciLCJnZW5lcmF0ZU9wdGlvbkVsZW1lbnQiLCJjbGVhck9wdGlvbnMiLCJhcHBlbmRPcHRpb25zIiwicHJldmlvdXNseVNlbGVjdGVkT3B0aW9uIiwiZmlyc3RDaGlsZFdpdGhDbGFzcyIsIm5ld1NlbGVjdGVkT3B0aW9uIiwib3B0aW9uU2VsZWN0ZWRDbGFzcyIsIm9wdGlvbkxvYWRpbmdDbGFzcyIsIm9wdGlvbkxvYWRlckNsYXNzIiwiUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudCIsImhhc01vcmVSZXN1bHRzIiwiaXNMb2FkaW5nIiwiaXNGaXJzdExvYWQiLCJlbmFibGVTaG93Tm9SZXN1bHRzIiwicHJldkJ1dHRvbiIsImFwcGVuZCIsImNyZWF0ZUljb24iLCJuZXh0QnV0dG9uIiwib25Db21wb25lbnRDbGljayIsImxvYWRNb3JlIiwiU2Nyb2xsSGVscGVyIiwiYXR0YWNoV2hlZWxMaXN0ZW5lciIsImRlbHRhIiwiZGVsdGFYIiwiZGVsdGFZIiwiX29wdGlvbkNvbnRhaW5lciIsInNjcm9sbFdpZHRoIiwidG91Y2hTY3JvbGxIYW5kbGVyIiwib25TY3JvbGwiLCJfbG9hZE1vcmUiLCJjbGVhck9wdGlvbkxvYWRlciIsInVwZGF0ZUJvdW5kcyIsIl9vcHRpb25Db250YWluZXIyIiwidXBkYXRlUGFnaW5hdGlvbkJ1dHRvbnMiLCJvbkVuZFZpc2libGUiLCJhZGRPcHRpb25Mb2FkZXIiLCJwcmV2aW91c1BhZ2UiLCJuZXh0UGFnZSIsImRpc2FibGVkIiwicmVtb3ZlQ2hpbGRyZW5XaXRoQ2xhc3NlcyIsIk5vZGUiLCJzaG93Tm9SZXN1bHRzIiwibm9SZXN1bHRzRWxlbWVudCIsIm5ld0xlZnQiLCJzdGFydExlZnQiLCJjdXJyZW50TGVmdCIsInNjcm9sbFRvIiwic2VsZWN0ZWRPcHRpb24iLCJvbGRPcHRpb25FbGVtZW50Iiwic2VsZWN0T3B0aW9uIiwiX2dldCIsInJlY2VpdmVyIiwiRnVuY3Rpb24iLCJkZXNjIiwiUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3RvciIsImdldERhdGEiLCJjcmVhdGVPcHRpb25zIiwiU2NoZW1lcyIsInNjaGVtZXMiLCJzY2hlbWUiLCJwYWludFNjaGVtZSIsImNvbG9yIiwiQ29sb3JzIiwiYmFja2dyb3VuZENvbG9yIiwiSGV4IiwiU2NoZW1lTmFtZSIsImNyZWF0ZUF0dHJpYnV0ZUxhYmVsIiwiZXh0ZW5kRGF0YSIsIm9uUGFpbnRTY2hlbWVTZWxlY3RlZCIsImF0dHJpYnV0ZXMiLCJzdHJpbmdBdHRyaWJ1dGVzIiwicG9wb3ZlckNsYXNzIiwiUmlkZVN0eWxlclNob3djYXNlUG9wb3ZlciIsInByb2R1Y3RNb2RhbENsYXNzIiwidGl0bGVDbGFzcyIsIlJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbCIsInRvZ2dsZUJ1dHRvbiIsIlJpZGVTdHlsZXJTaG93Y2FzZVRvZ2dsZUJ1dHRvbiIsIm9uQ2hhbmdlZCIsInBhZ2VzIiwicGFnZSIsInNob3dQYWdlIiwiYnJhbmRUaXRsZUVsZW1lbnQiLCJ0aXRsZUVsZW1lbnQiLCJzdWJ0aXRsZUVsZW1lbnQiLCJzdW1tYXJ5Q29udGFpbmVyIiwiaW1hZ2VDb250YWluZXIiLCJjcmVhdGVJbWFnZSIsInN1bW1hcnlFbGVtZW50IiwiYWRkUGFnZSIsImFkZE9wdGlvbiIsIm5ld1BhZ2UiLCJSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0U2VsZWN0b3IiLCJyZXN1bHRzUGVyTG9hZCIsImNvdW50UHJvbWlzZSIsInJlc29sdmVkIiwiY291bnRSZXN1bHRzIiwicHJvZHVjdENvdW50IiwiU3RhcnQiLCJnZXRSZXN1bHRzIiwicHJvZHVjdHMiLCJmaWx0ZXJVcGRhdGVzIiwic2V0RmlsdGVycyIsInByb2R1Y3QiLCJwcm9kdWN0RmlsdGVyIiwiaW1hZ2VTb3VyY2UiLCJwcm9kdWN0SW1hZ2VTb3VyY2UiLCJwcm9wZXJ0aWVzIiwicHJvZHVjdEltYWdlTGFiZWxzIiwicHJpbWFyeSIsInNlY29uZGFyeSIsInRlcnRpYXJ5IiwiYWRkT3B0aW9uRWxlbWVudHMiLCJvblByb2R1Y3RDbGljayIsInByb2R1Y3RTZWxlY3RlZENhbGxiYWNrIiwiUmlkZVN0eWxlclNob3djYXNlUVJDb2RlQ29tcG9uZW50IiwibGluayIsInFyQ29kZUVsZW1lbnQiLCJkaXNwbGF5VVJMIiwic2hhcmUiLCJidXR0b25DbGFzcyIsIlNoYXJlQnV0dG9uIiwib25DbGljayIsImN1cnJlbnRVUkwiLCJ0YWdzIiwic2NyZWVuSGVpZ2h0Iiwic2NyZWVuIiwic2NyZWVuV2lkdGgiLCJ3aW5kb3dTZXR0aW5ncyIsImFkZFNldHRpbmciLCJhZGRCb29sZWFuU2V0dGluZyIsImVuYWJsZWQiLCJlbmFibGVkQnlEZWZhdWx0IiwiZW5hYmxlU2Nyb2xsYmFycyIsImVuYWJsZVJlc2l6ZWFibGUiLCJlbmFibGVUb29sYmFyIiwiZW5hYmxlTG9jYXRpb24iLCJvcGVuIiwiYXBwVVJMIiwiVHdpdHRlclNoYXJlQnV0dG9uIiwiX1NoYXJlQnV0dG9uIiwidHdpdHRlckludGVudFBhcmFtZXRlcnMiLCJlbmNvZGVVUklDb21wb25lbnQiLCJvcGVuTmV3V2luZG93IiwiRmFjZWJvb2tTaGFyZUJ1dHRvbiIsIl9TaGFyZUJ1dHRvbjIiLCJmYWNlYm9va0RpYWxvZ1BhcmFtZXRlcnMiLCJnZXRTaGFyZVJlZGlyZWN0VVJMIiwiTmV3V2luZG93U2hhcmVCdXR0b24iLCJfU2hhcmVCdXR0b24zIiwiUVJTaGFyZUJ1dHRvbiIsIl9TaGFyZUJ1dHRvbjQiLCJwb3BvdmVyIiwic2hhcmVNb2RhbENsYXNzIiwiUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbCIsInZlaGljbGVSZW5kZXJJbnN0cnVjdGlvbnMiLCJpbWFnZVR5cGUiLCJyZXNpemVkQ2FsbGJhY2siLCJ1cGRhdGVWaWV3cG9ydCIsIm9uSW5zdHJ1Y3Rpb25zQ2hhbmdlZCIsImNyZWF0ZVNoYXJlQnV0dG9ucyIsImNhblN3aXRjaEFuZ2xlIiwicm90YXRlRWxlbWVudCIsInN3aXRjaEFuZ2xlIiwic2hhcmVCdXR0b25zIiwic2hhcmVCdXR0b25Db250YWluZXIiLCJzaGFyZUJ1dHRvbiIsInNldHVwVmlld3BvcnQiLCJ2ZWhpY2xlVmlld3BvcnQiLCJ1dGlscyIsInRvUGFyYW1TdHJpbmciLCJhdXRoZW50aWNhdGVEYXRhIiwidmlld3BvcnRFbGVtZW50Iiwidmlld3BvcnRVcGRhdGVkIiwiSGFzQW5nbGVkSW1hZ2UiLCJIYXNTaWRlSW1hZ2UiLCJnZXRTaGFyZVVSTCIsInNldEVuYWJsZWQiLCJVUkwiLCJ1cGRhdGVVUkwiLCJTaG9ydFVSTCIsInNoYXJlVVJMIiwic2hhcmVUYWdzIiwic2hhcmVNZXNzYWdlIiwiV2hlZWxGaXRtZW50Iiwic2V0VVJMIiwic2V0VGFncyIsInNldE1lc3NhZ2UiLCJUeXBlIiwiZWxlbWVudENsYXNzTmFtZSIsImRlZmF1bHRTdXNwZW5zaW9uUmFuZ2UiLCJSaWRlU3R5bGVyU2hvd2Nhc2VTdXNwZW5zaW9uU2VsZWN0b3IiLCJ2ZWhpY2xlRGVzY3JpcHRpb24iLCJzdXNwZW5zaW9uT3B0aW9ucyIsImRlY2ltYWxQbGFjZXMiLCJ1bml0QWJicmV2aWF0aW9uIiwic3VzcGVuc2lvblJhbmdlcyIsInN1c3BlbnNpb25SYW5nZUtleSIsIlN0eWxlVHlwZSIsIkRyaXZlVHlwZSIsInN1c3BlbnNpb25SYW5nZSIsImZyb250QW5kUmVhciIsIk5vVUlTdXNwZW5zaW9uRWxlbWVudCIsInN1c3BlbnNpb25DaGFuZ2VkQ2FsbGJhY2siLCJzdXNwZW5zaW9uQ2hhbmdlQ2FsbGJhY2siLCJTdXNwZW5zaW9uIiwiU3VzcGVuc2lvblVJRWxlbWVudCIsIl9TdXNwZW5zaW9uVUlFbGVtZW50Iiwic2xpZGVyRWxlbWVudCIsInBvc3RmaXgiLCJTdHJpbmdIZWxwZXIiLCJlc2NhcGVSZWdFeHAiLCJzbGlkZXIiLCJmb3JtYXR0ZWRWYWx1ZXMiLCJvblN1c3BlbnNpb25DaGFuZ2VkIiwiYmFyQ2xhc3MiLCJ0YWJDbGFzcyIsInRhYkJhY2tncm91bmRDbGFzcyIsImFjdGl2ZVRhYkNsYXNzIiwibW9kZUNsYXNzIiwiUmlkZVN0eWxlclNob3djYXNlVGFiQmFyIiwic2V0TW9kZSIsInVwZGF0ZVRhYkRpc3BsYXkiLCJ0YWJzIiwidGFiUGVyY2VudCIsInRhYiIsInVwZGF0ZUJhY2tncm91bmRQb2x5Z29uIiwidGFic09yVGFiQ3JlYXRlT3B0aW9ucyIsIlRhYiIsImNvcHkiLCJjdXJyZW50VGFiIiwic2V0QWN0aXZlVGFiIiwibmV3VGFiIiwib2xkVGFiIiwidGFiU3dpdGNoZWRDYWxsYmFjayIsImN1cnJlbnRFbGVtZW50Iiwib25UYWJDbGljayIsInRhYkZvckVsZW1lbnQiLCJpY29uQ2xhc3MiLCJpY29uIiwiYmFja2dyb3VuZE1vZGUiLCJ3cmFwIiwic3ZnU3VwcG9ydGVkIiwiY3JlYXRlU1ZHRWxlbWVudCIsInByZXNlcnZlQXNwZWN0UmF0aW8iLCJiYWNrZ3JvdW5kUG9seWdvbiIsInRyaWFuZ2xlSGVpZ2h0IiwidHJpYW5nbGVXaWR0aCIsInRhYmxlQ2xhc3MiLCJoZWFkQ2xhc3MiLCJib2R5Q2xhc3MiLCJib2R5TG9hZGluZ0NsYXNzIiwiUmlkZVN0eWxlclNob3djYXNlVGFibGUiLCJjb2x1bW5zIiwidGFibGUiLCJ0aGVhZCIsInRib2R5IiwiZ2VuZXJhdGVIZWFkZXJzIiwicm93cyIsImFwcGVuZFJvd3MiLCJzdGFydExvYWRpbmciLCJjb2x1bW4iLCJoZWFkZXIiLCJnZW5lcmF0ZWRIZWFkZXIiLCJoZWFkZXJSb3ciLCJnZW5lcmF0ZUhlYWRlckNlbGwiLCJjZWxsIiwiZ2VuZXJhdGVkQ2VsbCIsInRyIiwiZ2VuZXJhdGVSb3dDZWxsIiwicm93c0ZyYWdtZW50IiwiZ2VuZXJhdGVSb3ciLCJlbXB0eUNlbGxTdHJpbmciLCJSaWRlU3R5bGVyU2hvd2Nhc2VUaXJlU2VsZWN0b3IiLCJzdGF0ZURhdGEiLCJzdXBwb3J0ZWRWZWhpY2xlSW1hZ2VyeSIsImFuZ2xlZCIsInNpZGUiLCJkZWZhdWx0RmlsdGVycyIsIkhhc0NhdGFsb2dJbWFnZSIsIk1vZGVscyIsInRpcmUiLCJUaXJlRml0bWVudFJlc291cmNlVHlwZSIsIlRpcmVNb2RlbCIsIlRpcmVNb2RlbElEIiwiSW5jbHVkZVNoYWRvdyIsIlRpcmVNb2RlbE5hbWUiLCJ0b2dnbGVCdXR0b25DbGFzcyIsIm9wdGlvbkFjdGl2ZUNsYXNzIiwic2VsZWN0T3B0aW9uRWxlbWVudCIsImNoaWxkSW5kZXgiLCJjaGlsZE9wdGlvbkVsZW1lbnQiLCJfUmlkZVN0eWxlclNob3djYXNlJE0iLCJvblZlaGljbGVTZWxlY3RlZCIsImdlbmVyYXRlVmVoaWNsZVByZXZpZXdTZXR0aW5ncyIsIm9uQXV0aGVudGljYXRlZCIsImNvbnRlbnRDb250YWluZXIiLCJidWlsZENvcHkiLCJjaG9vc2VWZWhpY2xlQnV0dG9uIiwibGFyZ2UiLCJjcmVhdGVFbGVtZW50V2l0aElEIiwiZW1ib2xkZW5GaXJzdFdvcmQiLCJmaXJzdFdvcmQiLCJnZXRGaXJzdFdvcmQiLCJyZW1haW5pbmdTdHJpbmciLCJzdWJzdHIiLCJjcmVhdGVFbGVtZW50V2l0aFRleHQiLCJjcmVhdGVUZXh0RWxlbWVudCIsInNob3dXaGVlbHMiLCJtb2RlbHMiLCJ3aGVlbENvbnRhaW5lciIsIm1vZGVsSW1hZ2VzIiwib25Nb2RlbEltYWdlTG9hZCIsImNvbXBsZXRlIiwibW9kZWwiLCJtb2RlbEltYWdlU291cmNlIiwid2hlZWwiLCJXaGVlbE1vZGVsIiwiV2hlZWxNb2RlbElEIiwiV2hlZWxGaXRtZW50UmVzb3VyY2VUeXBlIiwibW9kZWxJbWFnZSIsInNjYWxlIiwiY3VzdG9taXphdGlvbnNDbGFzcyIsImxvYWRpbmdDbGFzcyIsImN1c3RvbWl6YXRpb25Db21wb25lbnRPcmRlciIsImN1c3RvbWl6YXRpb25Db21wb25lbnRTZXR0aW5ncyIsInBhaW50Iiwic2hvd0ZpbHRlckJ1dHRvbiIsIndoZWVscyIsInRpcmVzIiwic3VzcGVuc2lvbiIsInVwZGF0ZVRhYkxheW91dCIsImNvdW50VGlyZUJyYW5kcyIsImNvdW50V2hlZWxCcmFuZHMiLCJyZXN1bHRzIiwidGlyZUJyYW5kQ291bnQiLCJ3aGVlbEJyYW5kQ291bnQiLCJ1cGRhdGVUYWJzIiwic2V0dXBUYWJzIiwiY2hhbmdlV2hlZWxTaXplIiwibmV3T3B0aW9uIiwiV2hlZWxGaXRtZW50SUQiLCJjb21wb25lbnRzIiwidmVoaWNsZURldGFpbHMiLCJWZWhpY2xlRGV0YWlscyIsIldoZWVsRGV0YWlscyIsIlRpcmVEZXRhaWxzIiwidGFiQmFyIiwiY3VzdG9taXphdGlvbkNvbXBvbmVudENvbnRhaW5lciIsImZpbHRlckJ1dHRvbiIsInNraW5ueSIsInNob3dGaWx0ZXJzIiwiY3VycmVudFJlbmRlckluc3RydWN0aW9ucyIsInBhaW50U3dhdGNoQ2xpY2tDYWxsYmFjayIsInNldEFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQiLCJjdXN0b21pemF0aW9uQ29tcG9uZW50cyIsInZpZXdwb3J0Iiwic2V0VGFicyIsImdldEN1cnJlbnRCcmVha3BvaW50IiwidmVoaWNsZUNoYW5nZWQiLCJHVUlESGVscGVyIiwiYXJlRXF1YWwiLCJ0aXJlT3B0aW9uQ2hhbmdlZCIsInZlaGljbGVUaXJlT3B0aW9uRGVzY3JpcHRpb24iLCJvblZlaGljbGVDaGFuZ2VkIiwiY2xlYXJBY3RpdmVUYWIiLCJnZXRWZWhpY2xlRGVzY3JpcHRpb24iLCJnZXRWZWhpY2xlVGlyZU9wdGlvbiIsInJlc3BvbnNlcyIsInZlaGljbGVEZXNjcmlwdGlvbk1vZGVsIiwiRGVzY3JpcHRpb25zIiwidmVoaWNsZVRpcmVPcHRpb24iLCJzZWxlY3RlZFRpcmVPcHRpb25JRCIsInRpcmVPcHRpb24iLCJpbml0aWFsaXplRm9yTmV3VmVoaWNsZSIsIlJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsU2VsZWN0b3IiLCJzZXRPcHRpb25Jc0xvYWRpbmciLCJQYWludENvbG9yIiwiSGFzQW5nbGVJbWFnZSIsIkZpdG1lbnRzIiwiYmVzdEZpdG1lbnQiLCJ0YXJnZXREaWFtZXRlciIsIkluc2lkZURpYW1ldGVyIiwic2V0Rml0bWVudE9wdGlvbnMiLCJyZW5kZXJVcGRhdGUiLCJnZXRWYWx1ZXMiLCJjdXN0b21pemF0aW9uQ29tcG9uZW50IiwiY29tcG9uZW50S2V5IiwiZ2V0Q29tcG9uZW50S2V5IiwiYWN0aXZlQ3VzdG9taXphdGlvbkNvbXBvbmVudCIsInNldFRleHQiLCJmaWx0ZXJNb2RhbCIsIlJpZGVTdHlsZXJTaG93Y2FzZUZpbHRlck1vZGFsIiwiZmlsdGVyUHJvdmlkZXIiLCJzaG93Q291bnRUZXh0Rm9ybWF0IiwiUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbCIsIndoZWVsTW9kZWwiLCJXaGVlbE1vZGVsTmFtZSIsIldoZWVsTW9kZWxGaW5pc2hEZXNjcmlwdGlvbiIsInN1bW1hcnlUYWJsZSIsImJ1aWxkU3BlY3NQYWdlIiwiSW5jbHVkZVByb21vdGlvbnMiLCJJbmNsdWRlUHJpY2luZyIsImJ1aWxkU3VtbWFyeVRhYmxlIiwic3BlY3NUYWJsZSIsImFsbFNpemVQcmljZUNvbWJpbmF0aW9ucyIsImZpdG1lbnRQcmljZSIsImdldEZpdG1lbnRSZXRhaWxQcmljZURhdGFPYmplY3QiLCJmaXRtZW50UHJpY2VBbW91bnQiLCJXaGVlbFByaWNpbmdBbW91bnQiLCJXaWR0aE1pbiIsInByaWNlIiwiV2lkdGhNYXgiLCJEaWFtZXRlck1heCIsInNpemVQcmljZVJhbmdlcyIsInNpemVQcmljZUNvbWJvIiwicHJpY2VSYW5nZSIsInNpemUiLCJJbmZpbml0eSIsIk51bWJlckhlbHBlciIsImV4dGVuZFJhbmdlIiwic3VtbWFyeVRhYmxlUm93cyIsInByaWNlSXNVbnNwZWNpZmllZCIsInByaWNlU3RyaW5nIiwiZ2V0Rml0bWVudFNpemVEZXNjcmlwdGlvbiIsImZvcm1hdENlbGwiLCJnZXRGaXRtZW50UHJpY2UiLCJnZXRGaXRtZW50SXRlbU51bWJlciIsInNwZWNzQ29udGFpbmVyIiwiUHJpY2luZyIsIm5vUHJpY2VTdHJpbmciLCJyZXRhaWxQcmljZURhdGFPYmplY3QiLCJpdGVtTnVtYmVyIiwiV2hlZWxQcmljaW5nSXRlbU51bWJlciIsIlBhcnROdW1iZXIiLCJJbmNsdWRlTWV0YUtleXMiLCJ0aXJlTmFtZUVsZW1lbnQiLCJ0aXJlRGVzY3JpcHRpb25FbGVtZW50IiwiYWZ0ZXJEYXRhQ2hhbmdlIiwib25EYXRhQ2hhbmdlIiwidmVoaWNsZVBhaW50U3dhdGNoRWxlbWVudCIsInZlaGljbGVEZXNjcmlwdGlvbkVsZW1lbnQiLCJ0aXJlU2l6ZUVsZW1lbnQiLCJ3aGVlbE5hbWVFbGVtZW50Iiwid2hlZWxEZXNjcmlwdGlvbkVsZW1lbnQiLCJzaG93V2hlZWxNb2RhbCIsImZpbHRlck1vZGFsQ2xhc3MiLCJmaWx0ZXJNb2RhbE1lbnVUaXRsZUNsYXNzIiwiYnVpbGRTaG93QnV0dG9uIiwiYnVpbGRGaWx0ZXJNZW51cyIsInVwZGF0ZUNvdW50Iiwic2hvd0J1dHRvbiIsIm1lbnVzQ29udGFpbmVyIiwibWVudUxvYWRlZFByb21pc2VzIiwibWVudXMiLCJtZW51TG9hZGVkUHJvbWlzZSIsIl9tZW51IiwicHJldmlld0ZpbHRlcnMiLCJzZXRDb3VudFRleHQiLCJnZXRDb3VudCIsIml0ZW1NYXRjaCIsIm5ld0FycmF5IiwibmV3QXJyYXlJbmRleCIsImFycmF5SW5kZXgiLCJtYXBGdW5jdGlvbiIsInRoaXNBcmciLCJyZWR1Y2UiLCJyZWR1Y2VyIiwiaW5pdGlhbFZhbHVlIiwiYWNjdW11bGF0b3IiLCJzY2FsYXIiLCJib3VuZHNNaW4iLCJib3VuZHNNYXgiLCJzY2FsZVRvTWF4Iiwic2NhbGVUb01pbiIsIm9jdCIsImhleFRvQnl0ZSIsImJ5dGVUb0hleCIsInVucGFyc2UiLCJidGgiLCJpZEEiLCJpZEIiLCJndWlkQSIsImd1aWRCIiwiZWxlbWVudHNNYXRjaGluZyIsIm1hdGNoaW5nRWxlbWVudHMiLCJtYXRjaGluZ0VsZW1lbnRzSW5kZXgiLCJmaXJzdEVsZW1lbnRNYXRjaGluZyIsImxhc3RFbGVtZW50TWF0Y2hpbmciLCJjaGlsZHJlbk1hdGNoaW5nIiwiZmlyc3RDaGlsZE1hdGNoaW5nIiwiX2xlbiIsIl9rZXkiLCJmbGF0dGVuQ2xhc3NMaXN0IiwiaGFzQ2xhc3NlcyIsIl9sZW4zIiwiX2tleTMiLCJfbGVuNCIsIl9rZXk0IiwiYXBwbHlPcHRpb25zIiwiaHRtbEVsZW1lbnQiLCJjaGlsZEVsZW1lbnQiLCJfa2V5NyIsIl9rZXk4IiwidGFnTmFtZU9yRGl2T3B0aW9ucyIsImFwcGVuZERlc2NyaXB0aW9uTGlzdFZhbHVlcyIsImRlc2NyaXB0aW9uTGlzdCIsImRlc2NyaXB0aW9uIiwiX2xlbjIiLCJfa2V5MiIsIl9sZW41IiwiX2tleTUiLCJfbGVuNiIsIl9rZXk2Iiwic2libGluZyIsInRhZ05hbWVPckNsYXNzTmFtZSIsImJ1dHRvbkNsYXNzTmFtZSIsImljb25DbGFzc1ByZWZpeCIsImljb25Pck9wdGlvbnMiLCJzdGFydHNXaXRoIiwiY3JlYXRlRGVzY3JpcHRpb25MaXN0Iiwib25jZSIsInVzZUNhcHR1cmUiLCJvbmNlTGlzdGVuZXIiLCJhc3NpZ25PYmplY3RzIiwiZ2V0S2V5cyIsIm9uZnVsZmlsbGVkIiwib25yZWplY3RlZCIsInJldHVyblByb21pc2UiLCJvbmZ1bGZpbGxlZFJlc3VsdCIsImlzUHJvbWlzZSIsImV4Y2VwdGlvbiIsIm9ucmVqZWN0ZWRSZXN1bHQiLCJwcm9taXNlcyIsIm1lcmdlZCIsImN1cnJlbnRQcm9taXNlIiwiUHJvbWlzZSIsInNjcm9sbEV2ZW50IiwibW91c2V3aGVlbEV2ZW50U2NhbGUiLCJvbm1vdXNld2hlZWwiLCJub3JtYWxpemVkRXZlbnQiLCJvcmlnaW5hbEV2ZW50IiwiZGVsdGFNb2RlIiwiZGVsdGFaIiwid2hlZWxEZWx0YSIsIndoZWVsRGVsdGFYIiwiZW5kc1dpdGgiLCJlbmRpbmciLCJlbmRpbmdMZW5ndGgiLCJyZVJlZ0V4cENoYXIiLCJyZUhhc1JlZ0V4cENoYXIiLCJoYXNHZXRDb21wdXRlZFN0eWxlIiwiaGFzQ3VycmVudFN0eWxlU3VwcG9ydCIsInBhcnNlUGl4ZWxzIiwicGl4ZWxzIiwibWF4VG91Y2hQb2ludHMiLCJjcmVhdGVTVkdSZWN0Iiwib2Zmc2V0UG9zaXRpb25pbmdzIiwic3ViY2xhc3NMaXN0Iiwib2xkVHJhbnNpdGlvbiIsImNsYXNzQXJyYXkiLCJfZ2V0Q29tcHV0ZWRTdHlsZSIsInBhZGRpbmdCb3R0b20iLCJwYWRkaW5nVG9wIiwicGFkZGluZ0xlZnQiLCJwYWRkaW5nUmlnaHQiLCJwb2ludGVyRXZlbnRzIiwiZGVmYXVsdFRyYW5zaXRpb25JbkNsYXNzIiwiRW4iLCJ2ZWhpY2xlLXNlbGVjdC12aXN1YWxpemUtaW50cm8iLCJ2ZWhpY2xlLXNlbGVjdC1zaGFyZS1pbnRybyIsInNlbGVjdC15b3VyLXZlaGljbGUiLCJmcm9udCIsInJlYXIiLCJ2ZWhpY2xlLWRldGFpbHMiLCJjaGFuZ2UtdmVoaWNsZSIsIndoZWVsLWRldGFpbHMiLCJ0aXJlLWRldGFpbHMiLCJzZWxlY3QtcGFpbnQiLCJzZWxlY3Qtd2hlZWxzIiwic2VsZWN0LXRpcmVzIiwiYWRqdXN0LXN1c3BlbnNpb24iLCJjaGFuZ2Utd2hlZWwtc2l6ZSIsIm5vLXJlc3VsdHMiLCJ3aGVlbC1mZWF0dXJlcy1zcGVjcyIsInNoYXJlLW15LXZlaGljbGUiLCJzaGFyZS1pbnN0cnVjdGlvbnMiLCJuby1kZXNjcmlwdGlvbi13aGVlbCIsInNob3ctc3BlY3MiLCJib2x0LXBhdHRlcm4iLCJjZW50ZXJib3JlIiwiaXRlbS1udW1iZXIiLCJicmFuZHMiLCJmaW5pc2hlcyIsInNpemVzIiwiYWxsLWJyYW5kcyIsImFsbC1maW5pc2hlcyIsImFsbC1zaXplcyIsImZpbHRlci1yZXN1bHRzIiwibG9hZGluZy1lbGxpcHNpcyIsInNob3ctY291bnQtZm9ybWF0LXRpcmVzIiwic2hvdy1jb3VudC1mb3JtYXQtd2hlZWxzIiwic3BlY2lmaWNhdGlvbnMiLCJzcGVlZC1yYXRpbmciLCJhbnktc3BlZWQtcmF0aW5ncyIsImZlYXR1cmVzIiwiYW55LWZlYXR1cmVzIiwiZmluaXNoIiwic3VtbWFyeSIsImNoZWNrLW91dC1teS12ZWhpY2xlIl0sIm1hcHBpbmdzIjoiQUFJQSxTQUFBQSxnQ0FBQUMsR0FPQSxTQUFBQyxFQUFBQyxHQUNBQSxFQUFBQSxNQUVBLElBQUEsSUFBQUMsRUFBQSxFQUFBQSxFQUFBQyxVQUFBQyxPQUFBRixJQUNBLEdBQUFDLFVBQUFELEdBR0EsSUFBQSxJQUFBRyxLQUFBRixVQUFBRCxHQUNBQyxVQUFBRCxHQUFBSSxlQUFBRCxLQUNBSixFQUFBSSxHQUFBRixVQUFBRCxHQUFBRyxJQUlBLE9BQUFKLEVBbUVBLFNBQUFNLEVBQUFDLEVBQUFDLEdBQ0EsR0FBQUQsRUFBQSxDQUNBLGlCQUFBLEVBQUFBLEVBQUFFLFNBQUFDLGlCQUFBSCxHQUNBQSxF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Q0FBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQUVBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQ0pBLFNBQUFILGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQ0FBLFNBQUFILGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQ0FBLFNBQUFILGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQ0FBLFNBQUFILGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQ0FBLFNBQUFILGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQ0FBLFNBQUFILGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0FBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQ0pBLFNBQUFILGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQ0FBLFNBQUFILGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0ZBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFG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QUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ05BLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBNVEsR0FBQSxJQUFBNFEsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQTdRLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUE0USxFQUFBNVEsRUFFQSxTQUFBOFEsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBekYsVUFBQTJGLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUExRixXQUFBNkYsYUFBQXBELE1BQUFnRCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxl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QUEsRUFBQSxFQUFBQSxFQUFBLEVBQUFBLEVBQUEsRUFBQTdDLEdBQUE4Qyw0QkFBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxNQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxNQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxNQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxNQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxNQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxNQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxNQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxNQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxNQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsSUFBQSxNQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsSUFBQSxNQUFBQyxJQUFBLEtBQUFDLElBQUEsS0FBQUMsU0FBQSxNQUFBaEMsZUFBQSxTQUFBbnFCLEdBQUEsSUFBQSxJQUFBb3NCLEVBQUFwc0IsR0FBQSxHQUFBa3BCLEVBQUFtRCxZQUFBRCxHQUFBbEQsRUFBQW1ELFlBQUFuRCxFQUFBK0MsTUFBQSxHQUFBRyxHQUFBbEQsRUFBQStDLEtBQUEvQyxFQUFBbUQsWUFBQUQsR0FBQWxELEVBQUFtRCxZQUFBbkQsRUFBQStDLEtBQ0EsT0FBQWpzQixHQUFBLEdBQUFvc0IsR0FBQWxELEVBQUFpRCxVQUFBbkMsaUJBQUEsU0FBQWhxQixHQUFBLElBQUEsSUFBQW9zQixFQUFBcHNCLEdBQUEsR0FBQWtwQixFQUFBbUQsWUFBQUQsR0FBQWxELEVBQUFtRCxZQUFBbkQsRUFBQWdELE1BQUEsR0FBQUUsR0FBQWxELEVBQUFnRCxLQUFBaEQsRUFBQW1ELFlBQUFELEdBQUFsRCxFQUFBbUQsWUFBQW5ELEVBQUFnRCxLQUNBLE9BQUFsc0IsR0FBQSxHQUFBb3NCLEdBQUFDLFlBQUEsU0FBQXJzQixHQUFBLElBQUEsSUFBQXNzQixFQUFBLEVBQUEsR0FBQXRzQixHQUFBc3NCLElBQUF0c0IsS0FBQSxFQUNBLE9BQUFzc0IsR0FBQXhDLG1CQUFBLFNBQUFyRSxHQUFBLE9BQUF5RCxFQUFBOEMsdUJBQUF2RyxFQUFBLElBQUErRSxRQUFBLFNBQUFqQyxFQUFBcHdCLEVBQUF3TSxHQUFBLE9BQUE0akIsR0FBQSxLQUFBd0QsRUFBQSxPQUFBNXpCLEVBQUF3TSxHQUFBLEdBQUEsRUFBQSxLQUFBb25CLEVBQUEsT0FBQTV6QixFQUFBLEdBQUEsRUFBQSxLQUFBNHpCLEVBQUEsT0FBQXBuQixFQUFBLEdBQUEsRUFBQSxLQUFBb25CLEVBQUEsT0FBQTV6QixFQUFBd00sR0FBQSxHQUFBLEVBQUEsS0FBQW9uQixFQUFBLE9BQUFwYyxLQUFBdWEsTUFBQS94QixFQUFBLEdBQUF3WCxLQUFBdWEsTUFBQXZsQixFQUFBLElBQUEsR0FBQSxFQUFBLEtBQUFvbkIsRUFBQSxPQUFBNXpCLEVBQUF3TSxFQUFBLEVBQUF4TSxFQUFBd00sRUFBQSxHQUFBLEVBQUEsS0FBQW9uQixFQUFBLE9BQUE1ekIsRUFBQXdNLEVBQUEsRUFBQXhNLEVBQUF3TSxFQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUFvbkIsRUFBQSxPQUFBNXpCLEVBQUF3TSxFQUFBLEdBQUF4TSxFQUFBd00sR0FBQSxHQUFBLEdBQUEsRUFBQSxRQUFBLE1BQUEsSUFBQStMLE1BQUEsbUJBQUE2WCxLQUFBaUQsMEJBQUEsU0FBQWUsR0FBQSxJQUFBLElBQUFqZixFQUFBLElBQUF5WSxHQUFBLEdBQUEsR0FBQTV0QixFQUFBLEVBQUFBLEVBQUFvMEIsRUFBQXAwQixJQUFBbVYsRUFBQUEsRUFBQWtmLFNBQUEsSUFBQXpHLEdBQUEsRUFBQTBHLEVBQUFDLEtBQUF2MEIsSUFBQSxJQUNBLE9BQUFtVixHQUFBdWQsZ0JBQUEsU0FBQTlSLEVBQUEzYixHQUFBLEdBQUEsR0FBQUEsR0FBQUEsRUFBQSxHQUFBLE9BQUEyYixHQUFBLEtBQUFtTSxFQUFBMEcsWUFBQSxPQUFBLEdBQUEsS0FBQTFHLEVBQUEyRyxlQUFBLE9BQUEsRUFBQSxLQUFBM0csRUFBQUMsZUFBQSxLQUFBRCxFQUFBNEcsV0FBQSxPQUFBLEVBQUEsUUFBQSxNQUFBLElBQUFwYixNQUFBLFFBQUFxSSxRQUFBLEdBQUEzYixFQUFBLEdBQUEsT0FBQTJiLEdBQUEsS0FBQW1NLEVBQUEwRyxZQUFBLE9BQUEsR0FBQSxLQUFBMUcsRUFBQTJHLGVBQUEsT0FBQSxHQUFBLEtBQUEzRyxFQUFBQyxlQUFBLE9BQUEsR0FBQSxLQUFBRCxFQUFBNEcsV0FBQSxPQUFBLEdBQUEsUUFBQSxNQUFBLElBQUFwYixNQUFBLFFBQUFxSSxPQUFBLENBQUEsS0FBQTNiLEVBQUEsSUFBQSxNQUFBLElBQUFzVCxNQUFBLFFBQUF0VCxHQUFBLE9BQUEyYixHQUFBLEtBQUFtTSxFQUFBMEcsWUFBQSxPQUFBLEdBQUEsS0FBQTFHLEVBQUEyRyxlQUFBLE9BQUEsR0FBQSxLQUFBM0csRUFBQUMsZUFBQSxPQUFBLEdBQUEsS0FBQUQsRUFBQTRHLFdBQUEsT0FBQSxHQUFBLFFBQUEsTUFBQSxJQUFBcGIsTUFBQSxRQUFBcUksTUFBQW9RLGFBQUEsU0FBQXdELEdBQUEsSUFBQSxJQUFBL0csRUFBQStHLEVBQUF4RSxpQkFBQWMsRUFBQSxFQUFBaEIsRUFBQSxFQUFBQSxFQUFBckMsRUFBQXFDLElBQUEsSUFBQUMsRUFBQSxFQUFBQSxFQUFBdEMsRUFBQXNDLElBQUEsQ0FBQSxJQUFBLElBQUEwRSxFQUFBLEVBQUFyQyxFQUFBb0MsRUFBQTNFLE9BQUFDLEVBQUFDLEdBQUFubkIsR0FBQSxFQUFBQSxHQUFBLEVBQUFBLElBQUEsS0FBQWtuQixFQUFBbG5CLEVBQUEsR0FBQTZrQixHQUFBcUMsRUFBQWxuQixHQUNBLElBQUEsSUFBQW9lLEdBQUEsRUFBQUEsR0FBQSxFQUFBQSxJQUFBK0ksRUFBQS9JLEVBQUEsR0FBQXlHLEdBQUFzQyxFQUFBL0ksR0FDQSxHQUFBcGUsR0FBQSxHQUFBb2UsR0FDQW9MLEdBQUFvQyxFQUFBM0UsT0FBQUMsRUFBQWxuQixFQUFBbW5CLEVBQUEvSSxJQUFBeU4sSUFDQUEsRUFBQSxJQUFBM0QsR0FBQSxFQUFBMkQsRUFBQSxHQUNBLElBQUEzRSxFQUFBLEVBQUFBLEVBQUFyQyxFQUFBLEVBQUFxQyxJQUFBLElBQUFDLEVBQUEsRUFBQUEsRUFBQXRDLEVBQUEsRUFBQXNDLElBQUEsQ0FBQSxJQUFBMkUsRUFBQSxFQUFBRixFQUFBM0UsT0FBQUMsRUFBQUMsSUFBQTJFLElBQUFGLEVBQUEzRSxPQUFBQyxFQUFBLEVBQUFDLElBQUEyRSxJQUFBRixFQUFBM0UsT0FBQUMsRUFBQUMsRUFBQSxJQUFBMkUsSUFBQUYsRUFBQTNFLE9BQUFDLEVBQUEsRUFBQUMsRUFBQSxJQUFBMkUsSUFBQSxHQUFBQSxHQUFBLEdBQUFBLElBQUE1RCxHQUFBLEdBQ0EsSUFBQWhCLEVBQUEsRUFBQUEsRUFBQXJDLEVBQUFxQyxJQUFBLElBQUFDLEVBQUEsRUFBQUEsRUFBQXRDLEVBQUEsRUFBQXNDLElBQUF5RSxFQUFBM0UsT0FBQUMsRUFBQUMsS0FBQXlFLEVBQUEzRSxPQUFBQyxFQUFBQyxFQUFBLElBQUF5RSxFQUFBM0UsT0FBQUMsRUFBQUMsRUFBQSxJQUFBeUUsRUFBQTNFLE9BQUFDLEVBQUFDLEVBQUEsSUFBQXlFLEVBQUEzRSxPQUFBQyxFQUFBQyxFQUFBLEtBQUF5RSxFQUFBM0UsT0FBQUMsRUFBQUMsRUFBQSxJQUFBeUUsRUFBQTNFLE9BQUFDLEVBQUFDLEVBQUEsS0FBQWUsR0FBQSxJQUNBLElBQUFmLEVBQUEsRUFBQUEsRUFBQXRDLEVBQUFzQyxJQUFBLElBQUFELEVBQUEsRUFBQUEsRUFBQXJDLEVBQUEsRUFBQXFDLElBQUEwRSxFQUFBM0UsT0FBQUMsRUFBQUMsS0FBQXlFLEVBQUEzRSxPQUFBQyxFQUFBLEVBQUFDLElBQUF5RSxFQUFBM0UsT0FBQUMsRUFBQSxFQUFBQyxJQUFBeUUsRUFBQTNFLE9BQUFDLEVBQUEsRUFBQUMsSUFBQXlFLEVBQUEzRSxPQUFBQyxFQUFBLEVBQUFDLEtBQUF5RSxFQUFBM0UsT0FBQUMsRUFBQSxFQUFBQyxJQUFBeUUsRUFBQTNFLE9BQUFDLEVBQUEsRUFBQUMsS0FBQWUsR0FBQSxJQUNBLElBQUEsSUFBQTZELEVBQUEsRUFBQTVFLEVBQUEsRUFBQUEsRUFBQXRDLEVBQUFzQyxJQUFBLElBQUFELEVBQUEsRUFBQUEsRUFBQXJDLEVBQUFxQyxJQUFBMEUsRUFBQTNFLE9BQUFDLEVBQUFDLElBQUE0RSxJQUNBLE9BQUE3RCxHQUFBLElBQUF0WixLQUFBQyxJQUFBLElBQUFrZCxFQUFBbEgsRUFBQUEsRUFBQSxJQUFBLEtBQUE2RyxHQUFBTSxLQUFBLFNBQUFoYyxHQUFBLEdBQUFBLEVBQUEsRUFBQSxNQUFBLElBQUFMLE1BQUEsUUFBQUssRUFBQSxLQUNBLE9BQUEwYixFQUFBTyxVQUFBamMsSUFBQTJiLEtBQUEsU0FBQTNiLEdBQUEsS0FBQUEsRUFBQSxHQUFBQSxHQUFBLElBQ0EsS0FBQUEsR0FBQSxLQUFBQSxHQUFBLElBQ0EsT0FBQTBiLEVBQUFRLFVBQUFsYyxJQUFBa2MsVUFBQSxJQUFBcmYsTUFBQSxLQUFBb2YsVUFBQSxJQUFBcGYsTUFBQSxNQUFBelYsRUFBQSxFQUFBQSxFQUFBLEVBQUFBLElBQUFzMEIsRUFBQVEsVUFBQTkwQixHQUFBLEdBQUFBLEVBQ0EsSUFBQUEsRUFBQSxFQUFBQSxFQUFBLElBQUFBLElBQUFzMEIsRUFBQVEsVUFBQTkwQixHQUFBczBCLEVBQUFRLFVBQUE5MEIsRUFBQSxHQUFBczBCLEVBQUFRLFVBQUE5MEIsRUFBQSxHQUFBczBCLEVBQUFRLFVBQUE5MEIsRUFBQSxHQUFBczBCLEVBQUFRLFVBQUE5MEIsRUFBQSxHQUNBLElBQUFBLEVBQUEsRUFBQUEsRUFBQSxJQUFBQSxJQUFBczBCLEVBQUFPLFVBQUFQLEVBQUFRLFVBQUE5MEIsSUFBQUEsRUFJQTR0QixFQUFBcGYsV0FBQXliLElBQUEsU0FBQTlSLEdBQUEsT0FBQTVQLEtBQUFzbEIsSUFBQTFWLElBQUFxWCxVQUFBLFdBQUEsT0FBQWpuQixLQUFBc2xCLElBQUEzdEIsUUFBQW0wQixTQUFBLFNBQUF2dkIsR0FBQSxJQUFBLElBQUErb0IsRUFBQSxJQUFBcFksTUFBQWxOLEtBQUFpbkIsWUFBQTFxQixFQUFBMHFCLFlBQUEsR0FBQXh2QixFQUFBLEVBQUFBLEVBQUF1SSxLQUFBaW5CLFlBQUF4dkIsSUFBQSxJQUFBLElBQUF3TSxFQUFBLEVBQUFBLEVBQUExSCxFQUFBMHFCLFlBQUFoakIsSUFBQXFoQixFQUFBN3RCLEVBQUF3TSxJQUFBOG5CLEVBQUFDLEtBQUFELEVBQUFNLEtBQUFyc0IsS0FBQTBoQixJQUFBanFCLElBQUFzMEIsRUFBQU0sS0FBQTl2QixFQUFBbWxCLElBQUF6ZCxLQUNBLE9BQUEsSUFBQW9oQixFQUFBQyxFQUFBLElBQUFpRSxJQUFBLFNBQUFodEIsR0FBQSxHQUFBeUQsS0FBQWluQixZQUFBMXFCLEVBQUEwcUIsWUFBQSxFQUFBLE9BQUFqbkIsS0FDQSxJQUFBLElBQUF3c0IsRUFBQVQsRUFBQU0sS0FBQXJzQixLQUFBMGhCLElBQUEsSUFBQXFLLEVBQUFNLEtBQUE5dkIsRUFBQW1sQixJQUFBLElBQUE0RCxFQUFBLElBQUFwWSxNQUFBbE4sS0FBQWluQixhQUFBeHZCLEVBQUEsRUFBQUEsRUFBQXVJLEtBQUFpbkIsWUFBQXh2QixJQUFBNnRCLEVBQUE3dEIsR0FBQXVJLEtBQUEwaEIsSUFBQWpxQixHQUNBLElBQUFBLEVBQUEsRUFBQUEsRUFBQThFLEVBQUEwcUIsWUFBQXh2QixJQUFBNnRCLEVBQUE3dEIsSUFBQXMwQixFQUFBQyxLQUFBRCxFQUFBTSxLQUFBOXZCLEVBQUFtbEIsSUFBQWpxQixJQUFBKzBCLEdBQ0EsT0FBQSxJQUFBbkgsRUFBQUMsRUFBQSxHQUFBaUUsSUFBQWh0QixLQUNBaXBCLEVBQUFpSCxpQkFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxHQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxHQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxHQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxHQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxH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LElBdURBQSxFQUFBdUgsVUFBQXZILEVBQUF1SCxhQXBEQW1ILGlCQUFBMU8sRUFBQW1PLGFBQUFxeEIsSUFDQUMsaUNBQUEsd0VBQ0FDLDZCQUFBLG9EQUNBQyxzQkFBQSxzQkFDQXJQLE1BQUEsUUFDQUksV0FBQSxhQUNBRixPQUFBLFNBQ0FDLE1BQUEsUUFDQW1QLE1BQUEsUUFDQUMsS0FBQSxPQUNBQyxrQkFBQSxrQkFDQUMsaUJBQUEsaUJBQ0FDLGdCQUFBLGdCQUNBQyxlQUFBLGVBQ0FDLGVBQUEsZUFDQUMsZ0JBQUEsZ0JBQ0FDLGVBQUEsZUFDQUMsb0JBQUEsb0JBQ0FDLG9CQUFBLG9CQUNBQyxhQUFBLG1CQUNBQyx1QkFBQSx5QkFDQUMsbUJBQUEsbUJBQ0FDLHFCQUFBLCtEQUNBQyx1QkFBQSxpREFDQUMsYUFBQSxhQUNBM3FFLEtBQUEsT0FDQWdnRSxLQUFBLE9BQ0EvaUQsT0FBQSxTQUNBMnRELGVBQUEsZUFDQUMsV0FBQSxhQUNBbkwsTUFBQSxRQUNBb0wsY0FBQSxTQUNBQyxPQUFBLFNBQ0FDLFNBQUEsV0FDQUMsTUFBQSxRQUNBM3VCLElBQUEsTUFDQTR1QixhQUFBLGFBQ0FDLGVBQUEsZUFDQUMsWUFBQSxZQUNBQyxpQkFBQSxpQkFDQUMsbUJBQUEsYUFDQUMsMEJBQUEscUJBQ0FDLDJCQUFBLHNCQUNBQyxlQUFBLGlCQUNBQyxlQUFBLGVBQ0FDLG9CQUFBLG9CQUNBQyxTQUFBLFdBQ0FDLGVBQUEsZUFDQUMsT0FBQSxTQUNBQyxRQUFBLFVBQ0FDLHVCQUFBLDBCQXJEQSxDQXdEQWppQyxxQkFBQUEiLCJmaWxlIjoicmlkZXN0eWxlci5zaG93Y2FzZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vVGVtcGxhdGUgSFRNTFxudmFyIHZzbV90ZW1wbGF0ZSA9ICc8ZGl2IGlkPVwidnNtX21vZGFsX2Jhc2VcIiBjbGFzcz1cInZzbS1tb2RhbCB2c20taGlkZSB2c20tZmFkZVwiIHN0eWxlPVwiei1pbmRleDogOTk5OTtcIiB0YWJpbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiPiA8ZGl2IGNsYXNzPVwidnNtLW1vZGFsLWRpYWxvZ1wiPiA8ZGl2IGNsYXNzPVwidnNtLW1vZGFsLWNvbnRlbnRcIj4gPGRpdiBjbGFzcz1cInZzbS1tb2RhbC1oZWFkZXJcIj4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ2c20tY2xvc2VcIj4gPC9idXR0b24+IDwvZGl2PjxkaXYgY2xhc3M9XCJ2c20tbW9kYWwtYm9keSB2c20tb3B0aW9uLWJvZHkgdnNtLWxpc3QtYm9keVwiPiA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiIGNsYXNzPVwidnNtLWJhY2stbGluayB2c20tYmFjay1zdGVwXCI+IDxpIGNsYXNzPVwidnNtLWJhY2stYXJyb3dcIj48L2k+IDwvYT4gPGRpdiBjbGFzcz1cInZzbS1pbi1wcm9ncmVzc1wiPiA8cCBjbGFzcz1cInZzbS1oZWFkZXIgdnNtLWNlbnRlclwiPjwvcD48ZGl2IGNsYXNzPVwidnNtLWxpbmUtc3RlcCBjZW50ZXItcGllY2UgdnNtLWNvbHVtbnNcIj4gPC9kaXY+PGRpdiBjbGFzcz1cInZzbS1saXN0LWNvbnRhaW5lclwiPiA8aSBjbGFzcz1cInZzbS1sb2FkZXJJY29uXCIgYWx0PVwiTG9hZGluZyBvcHRpb25zXCI+PC9pPiA8L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwidnNtLWZpbmFsXCI+IDxkaXYgY2xhc3M9XCJjZW50ZXItcGllY2UgdnNtLWxpbmUtc3RlcCB2c20tY29sdW1ucyB2ZWhpY2xlLXJlc3VsdC13cmFwXCI+IDxkaXYgY2xhc3M9XCJ2c20tY29sdW1uLTIgdnNtLWJlZm9yZVwiPjwvZGl2PjxkaXYgY2xhc3M9XCJ2c20tY29sdW1uLTIgbm8tc3R5bGVcIj48aSBjbGFzcz1cImRvdC1zdHlsZSBkb3QtYmVmb3JlIGFjdGl2ZVwiPjwvaT48L2Rpdj48cCBjbGFzcz1cInZlaGljbGUtcmVzdWx0LW5hbWVcIj48L3A+PHAgY2xhc3M9XCJ2ZWhpY2xlLXJlc3VsdC1zaXplXCI+PC9wPjwvZGl2PiA8ZGl2IGNsYXNzPVwiY2VudGVyLXBpZWNlIHZlaGljbGUtaW1hZ2Utd3JhcFwiPiA8ZGl2IHN0eWxlPVwicG9zaXRpb246IHJlbGF0aXZlOyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1pbi1oZWlnaHQ6IDEyMHB4O1wiPiA8aSBjbGFzcz1cInZzbS1sb2FkZXJJY29uXCIgYWx0PVwiTG9hZGluZyBhbiBpbWFnZSBvZiB5b3VyIHZlaGljbGVcIj48L2k+IDxpbWcgc3JjPVwiXCIgYWx0PVwiXCIgY2xhc3M9XCJ2c20tdmVoaWNsZS1kaXNwbGF5XCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPiA8L2Rpdj48YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiIGNsYXNzPVwidnNtLWJ0biB2c20tYnRuLWdyYXkgdnNtLWZ1bGwtd2lkdGggdnNtLWZpbmRcIj48L2E+IDwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2Pic7XG5cbnZhciBfdnNtTW9kYWxJRENvdW50ZXIgPSAwO1xuZnVuY3Rpb24gUmlkZVN0eWxlclZlaGljbGVTZWxlY3Rpb25Nb2RhbChvcHRpb25zKSB7XG4gICAgdmFyIGluZm9BcnJheSA9IFtdLCAvL0tlZXAgdHJhY2sgb2Ygc2VsZWN0ZWQgb3B0aW9ucyBpbmZvXG4gICAgZGF0YUFycmF5ID0gW10sIC8vS2VlcCB0cmFjayBvZiBzZWxlY3RlZCBvcHRpb25zIGRhdGEgKGRhdGEgc2VudCB0byBWZWhpY2xlL1NlbGVjdCBlbmRwb2ludClcbiAgICBtb2RhbEFycmF5ID0gW10sIC8vS2VlcCB0cmFjayBvZiBtb2RhbCBzY3JlZW4gZ2VuZXJhdGVkIGJ5IHRoaXMgaW5zdGFuY2VcbiAgICBkaXNDb3VudGludWVkID0gZmFsc2U7IC8vRGVjaWRlIHdoZXRoZXIgb3Igbm90IGNvbnRpbnVlIHRvIG5leHQgbW9kYWwgc2NyZWVuXG5cbiAgICAvL1NpbWlsYXIgdG8gJC5leHRlbmRcbiAgICBmdW5jdGlvbiBleHRlbmQob3V0KSB7XG4gICAgICAgIG91dCA9IG91dCB8fCB7fTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFhcmd1bWVudHNbaV0pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBhcmd1bWVudHNbaV0pIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzW2ldLmhhc093blByb3BlcnR5KGtleSkpXG4gICAgICAgICAgICAgICAgb3V0W2tleV0gPSBhcmd1bWVudHNbaV1ba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcblxuICAgIC8vIEV4dGVuZCBkZWZhdWx0IHNldHRpbmdzXG4gICAgb3B0aW9ucyA9IGV4dGVuZCh7XG4gICAgICAgIENvbmZpcm1CdXR0b25UZXh0OiAnQ29uZmlybSBWZWhpY2xlJyxcbiAgICAgICAgR3JvdXBPcHRpb25zOiBmYWxzZSxcbiAgICAgICAgSW5jbHVkZU9FVGlyZU9wdGlvbjogZmFsc2UsXG4gICAgICAgIFllYXJTY3JlZW5Db2x1bW5zOiAzLFxuICAgICAgICBNYWtlU2NyZWVuQ29sdW1uczogMixcblxuICAgICAgICBjb250YWluZXI6IGRvY3VtZW50LmJvZHksXG5cbiAgICAgICAgYWZ0ZXJCYWNrQ2xpY2tlZDogbnVsbCxcbiAgICAgICAgYWZ0ZXJPcHRpb25TZWxlY3RlZDogbnVsbCxcbiAgICAgICAgY2FsbGJhY2s6IG51bGxcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIC8vQ2hlY2sgaWYgdHJhbnNpdGlvbiBpcyBzdXBwb3J0ZWQsIEJvb2xlYW5cbiAgICB2YXIgdHJhbnNpdGlvblN1cHBvcnQgPSAoZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHRoaXNCb2R5ID0gZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG4gICAgICAgIHRoaXNTdHlsZSA9IHRoaXNCb2R5LnN0eWxlLFxuICAgICAgICBzdXBwb3J0ID0gdGhpc1N0eWxlLldlYmtpdFRyYW5zaXRpb24gIT09IHVuZGVmaW5lZCB8fCB0aGlzU3R5bGUuTW96VHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkIHx8IHRoaXNTdHlsZS5PVHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkIHx8IHRoaXNTdHlsZS50cmFuc2l0aW9uICE9PSB1bmRlZmluZWQ7XG5cbiAgICAgICAgcmV0dXJuIHN1cHBvcnQ7XG4gICAgfSkoKTtcblxuICAgIC8vIGFkZCBvblRyYW5zaXRpb25FbmRPbmNlIHRvIEhUTUxFbGVtZW50XG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSxcbiAgICAgICAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgdHJhbnNpdGlvbnMgPSB7XG4gICAgICAgICAgICAndHJhbnNpdGlvbic6J3RyYW5zaXRpb25lbmQnLFxuICAgICAgICAgICAgJ09UcmFuc2l0aW9uJzonb3RyYW5zaXRpb25lbmQnLFxuICAgICAgICAgICAgJ01velRyYW5zaXRpb24nOid0cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgICAgICdXZWJraXRUcmFuc2l0aW9uJzond2Via2l0VHJhbnNpdGlvbkVuZCdcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdHJhbnNpdGlvbkVuZCA9ICcnO1xuICAgICAgICBmb3IgKGkgaW4gdHJhbnNpdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9ucy5oYXNPd25Qcm9wZXJ0eShpKSAmJiBlbC5zdHlsZVtpXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbkVuZCA9IHRyYW5zaXRpb25zW2ldO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgSFRNTEVsZW1lbnQucHJvdG90eXBlLm9uVHJhbnNpdGlvbkVuZE9uY2UgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25FbmQgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uRW5kV3JhcCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZS50eXBlLCB0cmFuc2l0aW9uRW5kV3JhcCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKHRyYW5zaXRpb25FbmQsIHRyYW5zaXRpb25FbmRXcmFwLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogQWRkIGNlcnRhaW4gY2xhc3MgdG8gZWxlbWVudHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge0VsZW1lbnR8W0VsZW1lbnRdfSBlbGVtZW50cyAtIEVsZW1lbnQocykgdG8gc2VhcmNoXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgbXlDbGFzcyAtIENsYXNzIG5hbWUgdG8gYWRkXG4gICAgICogQHJldHVybiB2b2lkXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudHMsIG15Q2xhc3MpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50cykgeyByZXR1cm47IH1cbiAgICAgICAgaWYgKHR5cGVvZihlbGVtZW50cykgPT09ICdzdHJpbmcnKSBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbWVudHMpO1xuICAgICAgICBlbHNlIGlmIChlbGVtZW50cy50YWdOYW1lKSBlbGVtZW50cz1bZWxlbWVudHNdO1xuICAgICAgICAvLyBhZGQgY2xhc3MgdG8gYWxsIGNob3NlbiBlbGVtZW50c1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8ZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50c1tpXS5jbGFzc05hbWUudHJpbSgpID09ICcnKSBlbGVtZW50c1tpXS5jbGFzc05hbWUgPSBteUNsYXNzO1xuICAgICAgICAgICAgZWxzZSBpZiAoKCcgJytlbGVtZW50c1tpXS5jbGFzc05hbWUrJyAnKS5pbmRleE9mKCcgJytteUNsYXNzKycgJykgPCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gYWRkIGNsYXNzXG4gICAgICAgICAgICAgICAgZWxlbWVudHNbaV0uY2xhc3NOYW1lICs9ICcgJyArIG15Q2xhc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgY2VydGFpbiBjbGFzcyBmcm9tIGVsZW1lbnRzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtFbGVtZW50fFtFbGVtZW50XX0gZWxlbWVudHMgLSBFbGVtZW50KHMpIHRvIHNlYXJjaFxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIG15Q2xhc3MgLSBDbGFzcyBuYW1lIHRvIG1hdGNoIGFnYWluc3RcbiAgICAgKiBAcmV0dXJuIHZvaWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50cywgbXlDbGFzcykge1xuICAgICAgICBpZiAoIWVsZW1lbnRzKSB7IHJldHVybjsgfVxuICAgICAgICBpZiAodHlwZW9mKGVsZW1lbnRzKSA9PT0gJ3N0cmluZycpIGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbGVtZW50cyk7XG4gICAgICAgIGVsc2UgaWYgKGVsZW1lbnRzLnRhZ05hbWUpIGVsZW1lbnRzPVtlbGVtZW50c107XG4gICAgICAgIHZhciByZWcxID0gbmV3IFJlZ0V4cCgnICcrbXlDbGFzcysnICcsJ2cnKTtcbiAgICAgICAgdmFyIHJlZzIgPSBuZXcgUmVnRXhwKCcoXiknK215Q2xhc3MrJygkfCApJywnZycpO1xuICAgICAgICB2YXIgcmVnMyA9IG5ldyBSZWdFeHAoJyhefCApJytteUNsYXNzKycoJCknLCdnJyk7XG4gICAgICAgIC8vIHJlbW92ZSBjbGFzcyBmcm9tIGFsbCBjaG9zZW4gZWxlbWVudHNcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBlbGVtZW50c1tpXS5jbGFzc05hbWUgPSBlbGVtZW50c1tpXS5jbGFzc05hbWUucmVwbGFjZShyZWcxLCcgJyk7XG4gICAgICAgICAgICBlbGVtZW50c1tpXS5jbGFzc05hbWUgPSBlbGVtZW50c1tpXS5jbGFzc05hbWUucmVwbGFjZShyZWcyLCcnKTtcbiAgICAgICAgICAgIGVsZW1lbnRzW2ldLmNsYXNzTmFtZSA9IGVsZW1lbnRzW2ldLmNsYXNzTmFtZS5yZXBsYWNlKHJlZzMsJycpO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudHNbaV0uY2xhc3NOYW1lLnRyaW0oKSA9PSAnJykgZWxlbWVudHNbaV0ucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjbG9zZXN0IG1hdGNoaW5nIGVsZW1lbnQgdXAgdGhlIERPTSB0cmVlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7RWxlbWVudH0gZWxlbWVudCAtIFN0YXJ0aW5nIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBzZWxlY3RvciBTZWxlY3RvciB0byBtYXRjaCBhZ2FpbnN0XG4gICAgICogQHJldHVybiB7Qm9vbGVhbnxFbGVtZW50fSAgUmV0dXJucyBudWxsIGlmIG5vIG1hdGNoIGZvdW5kXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0Q2xvc2VzdChlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgICAgICAvLyBFbGVtZW50Lm1hdGNoZXMoKSBwb2x5ZmlsbFxuICAgICAgICBpZiAoIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpIHtcbiAgICAgICAgICAgIEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgPVxuICAgICAgICAgICAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICBFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgIEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICBFbGVtZW50LnByb3RvdHlwZS5vTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICBFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9ICh0aGlzLmRvY3VtZW50IHx8IHRoaXMub3duZXJEb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChzKSxcbiAgICAgICAgICAgICAgICAgICAgaSA9IG1hdGNoZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHdoaWxlICgtLWkgPj0gMCAmJiBtYXRjaGVzLml0ZW0oaSkgIT09IHRoaXMpIHt9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkgPiAtMTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgY2xvc2VzdCBtYXRjaFxuICAgICAgICBmb3IgKCA7IGVsZW1lbnQgJiYgZWxlbWVudCAhPT0gZG9jdW1lbnQ7IGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUgKSB7XG4gICAgICAgICAgICBpZiAoIGVsZW1lbnQubWF0Y2hlcyggc2VsZWN0b3IgKSApIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhY2tkcm9wKCkge1xuICAgICAgICB2YXIgZXhpc3RpbmdCYWNrZHJvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2c20tYmFja2Ryb3AnKTtcbiAgICAgICAgaWYgKCFleGlzdGluZ0JhY2tkcm9wKSB7XG4gICAgICAgICAgICB2YXIgYmFja0Ryb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGJhY2tEcm9wLmlkID0gJ3ZzbS1iYWNrZHJvcCc7XG4gICAgICAgICAgICBiYWNrRHJvcC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIGJhY2tEcm9wLnN0eWxlLnRyYW5zaXRpb24gPSAnb3BhY2l0eSBsaW5lYXIgLjNzJztcbiAgICAgICAgICAgIGdldE1vZGFsQ29udGFpbmVyKCkuYXBwZW5kQ2hpbGQoYmFja0Ryb3ApO1xuXG4gICAgICAgICAgICBzaG93QmFja2Ryb3AoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNob3dCYWNrZHJvcCgpIHtcbiAgICAgICAgdmFyIGV4aXN0aW5nQmFja2Ryb3AgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndnNtLWJhY2tkcm9wJyk7XG4gICAgICAgIGlmICghZXhpc3RpbmdCYWNrZHJvcCkge1xuICAgICAgICAgICAgY3JlYXRlQmFja2Ryb3AoKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBleGlzdGluZ0JhY2tkcm9wLnN0eWxlLm9wYWNpdHkgPSAwLjU1XG4gICAgICAgICAgICBleGlzdGluZ0JhY2tkcm9wLm9uVHJhbnNpdGlvbkVuZE9uY2UoZnVuY3Rpb24oKXt9KTtcbiAgICAgICAgfSwgMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGlkZUJhY2tkcm9wKCkge1xuICAgICAgICB2YXIgZXhpc3RpbmdCYWNrZHJvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2c20tYmFja2Ryb3AnKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nQmFja2Ryb3ApIHtcbiAgICAgICAgICAgIGV4aXN0aW5nQmFja2Ryb3Auc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICBleGlzdGluZ0JhY2tkcm9wLm9uVHJhbnNpdGlvbkVuZE9uY2UoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBleGlzdGluZ0JhY2tkcm9wLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZXhpc3RpbmdCYWNrZHJvcCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhpZGVNb2RhbHMoKSB7XG4gICAgICAgIHZhciBhbGxNb2RhbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLW1vZGFsOm5vdCgjdnNtX21vZGFsX2Jhc2UpJyksXG4gICAgICAgIGN1cnJlbnRCYXNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1tb2RhbC5pbicpWzBdO1xuXG4gICAgICAgIHZhciBjb3B5T2ZBcnJheSA9IGluZm9BcnJheS5zbGljZSgwKSwgY29weU9mRGF0YUFycmF5ID0gZGF0YUFycmF5LnNsaWNlKDApO1xuXG4gICAgICAgIGluZm9BcnJheSA9IFtdO1xuICAgICAgICBkYXRhQXJyYXkgPSBbXTtcbiAgICAgICAgZGlzQ291bnRpbnVlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKG1vZGFsQXJyYXkuaW5kZXhPZihjdXJyZW50QmFzZS5nZXRBdHRyaWJ1dGUoJ2lkJykpID4gLTEpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCYXNlLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICAgICAgY3VycmVudEJhc2Uub25UcmFuc2l0aW9uRW5kT25jZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChhbGxNb2RhbHMsIGZ1bmN0aW9uICh0aGlzTW9kYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNJRCA9IHRoaXNNb2RhbC5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RhbEFycmF5LmluZGV4T2YodGhpc0lEKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzTW9kYWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzTW9kYWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgaW5mb0Jhc2VPYmogPSB7fTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29weU9mQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgIHZhciBzcGxpdHRlZEFycmF5ID0gY29weU9mQXJyYXlbaV0uc3BsaXQoJzonKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzcGxpdHRlZEFycmF5Lmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaW5mb0Jhc2VPYmpbc3BsaXR0ZWRBcnJheVswXV0gPSBzcGxpdHRlZEFycmF5WzFdO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNhbGxiYWNrICYmIHR5cGVvZiBvcHRpb25zLmNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG91dE9iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEZpbmFsU2VsZWN0aW9uTWFkZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBWZWhpY2xlOiBpbmZvQmFzZU9iaixcbiAgICAgICAgICAgICAgICAgICAgICAgIEZ1bGxTZWxlY3Rpb25EYXRhOiBjb3B5T2ZEYXRhQXJyYXlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmNhbGxiYWNrKG91dE9iaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ05vIGNhbGxiYWNrIGZ1bmN0aW9uIHByb3ZpZGVkLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaGlkZUJhY2tkcm9wKCk7XG4gICAgICAgICAgICByZW1vdmVDbGFzcyhkb2N1bWVudC5ib2R5LCAndnNtLW1vZGFsLW9wZW4nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignVGhpcyB2c20gaW5zdGFuY2UgaXMgbm90IHNob3duIHlldC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgY29udGFpbmVyIHRoYXQgbW9kYWxzIHNob3VsZCBiZSBhcHBlbmRlZCB0b1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1vZGFsQ29udGFpbmVyKCkge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuY29udGFpbmVyID09PSAnZnVuY3Rpb24nKSByZXR1cm4gb3B0aW9ucy5jb250YWluZXIoKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5jb250YWluZXIpIHJldHVybiBvcHRpb25zLmNvbnRhaW5lcjtcblxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keTtcbiAgICB9XG5cbiAgICAvKkxvYWQgSFRNTCBjb2RlIGFuZCBhcHBlbmQgdG8gYm9keSovXG4gICAgZnVuY3Rpb24gbG9hZEJhc2UoKSB7XG4gICAgICAgIHZhciBleGlzdGluZ01vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZzbV9tb2RhbF9iYXNlJyk7XG4gICAgICAgIGlmICghZXhpc3RpbmdNb2RhbCkge1xuICAgICAgICAgICAgdmFyIGRpdkVsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZGl2RWxlLmlubmVySFRNTCA9IHZzbV90ZW1wbGF0ZTtcbiAgICAgICAgICAgIGdldE1vZGFsQ29udGFpbmVyKCkuYXBwZW5kQ2hpbGQoZGl2RWxlLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYW5kIHByZXBhcmUgbW9kYWwgc2NyZWVuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gcHJlcGFyZUZ1bmN0aW9uIC0gVGhlIGZ1bmN0aW9uIHRvIHByZXBhcmUgdGhlIG1vZGFsXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBwcmVwYXJlRnVuY3Rpb25PcHRpb25zIC0gT3B0aW9ucyB0byBwYXNzIGluXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSB0cmFuc2l0aW9uTW9kYWwgLSBUaGUgbW9kYWwgc2NyZWVuIHRvIHRyYW5zaXRpb24gdG9cbiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fSAgUmV0dXJucyB0aGUgcHJlcGFyZWQgbW9kYWxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlKHByZXBhcmVGdW5jdGlvbiwgcHJlcGFyZUZ1bmN0aW9uT3B0aW9ucywgdHJhbnNpdGlvbk1vZGFsKSB7XG4gICAgICAgIHZhciBtb2RhbEJhc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndnNtX21vZGFsX2Jhc2UnKTtcbiAgICAgICAgaWYgKCFtb2RhbEJhc2UpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIC8vTWFrZSBhIGNvcHkgb2YgI3ZzbV9tb2RhbF9iYXNlXG4gICAgICAgIHZhciBtb2RhbEJhc2VDb3B5ID0gbW9kYWxCYXNlLmNsb25lTm9kZSh0cnVlKTtcblxuICAgICAgICAvL092ZXJyaWRlIGlkIG9mIG1vZGFsQmFzZUNvcHkgYW5kIGFwcGVuZCB0byBib2R5XG4gICAgICAgIG1vZGFsQmFzZUNvcHkuaWQgPSAndnNtX21vZGFsXycgKyBfdnNtTW9kYWxJRENvdW50ZXI7XG4gICAgICAgIG1vZGFsQXJyYXkucHVzaCgndnNtX21vZGFsXycgKyBfdnNtTW9kYWxJRENvdW50ZXIpO1xuICAgICAgICBtb2RhbEJhc2VDb3B5LmNsYXNzTmFtZSArPSAnIHZzbV9tb2RhbF8nICsgX3ZzbU1vZGFsSURDb3VudGVyO1xuICAgICAgICBnZXRNb2RhbENvbnRhaW5lcigpLmFwcGVuZENoaWxkKG1vZGFsQmFzZUNvcHkpO1xuXG4gICAgICAgIC8vU2V0dXAgdHJhbnNpdGlvblxuICAgICAgICBpZiAodHlwZW9mKHRyYW5zaXRpb25Nb2RhbCkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBwcmVwYXJlRnVuY3Rpb25PcHRpb25zID0gZXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBiYWNrTW9kYWw6IHRyYW5zaXRpb25Nb2RhbCxcbiAgICAgICAgICAgICAgICB0aGlzTW9kYWw6IG1vZGFsQmFzZUNvcHlcbiAgICAgICAgICAgIH0sIHByZXBhcmVGdW5jdGlvbk9wdGlvbnMpO1xuXG4gICAgICAgICAgICB2YXIgYmFja0xpbmtzID0gbW9kYWxCYXNlQ29weS5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLWJhY2stc3RlcCcpO1xuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGJhY2tMaW5rcywgZnVuY3Rpb24gKGJhY2tMaW5rKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJhY2tIYW5kbGVyID0gZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZS50eXBlLCBiYWNrSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBibSA9IHByZXBhcmVGdW5jdGlvbk9wdGlvbnMuYmFja01vZGFsLFxuICAgICAgICAgICAgICAgICAgICBiYyA9IHByZXBhcmVGdW5jdGlvbk9wdGlvbnMudGhpc01vZGFsO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uVG9Nb2RhbChibSwgYmMsIHRydWUpXG4gICAgICAgICAgICAgICAgICAgIC5kb25lKFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mb0FycmF5Lmxlbmd0aCkgaW5mb0FycmF5LnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhQXJyYXkubGVuZ3RoKSBkYXRhQXJyYXkucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJjLnBhcmVudE5vZGUpIGJjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYmMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYWZ0ZXJCYWNrQ2xpY2tlZCAmJiB0eXBlb2Ygb3B0aW9ucy5hZnRlckJhY2tDbGlja2VkID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZm9CYXNlT2JqID0ge307XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmZvQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BsaXR0ZWRBcnJheSA9IGluZm9BcnJheVtpXS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGxpdHRlZEFycmF5Lmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm9CYXNlT2JqW3NwbGl0dGVkQXJyYXlbMF1dID0gc3BsaXR0ZWRBcnJheVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3V0SW5mb09iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZ1bGxTZWxlY3Rpb246IGluZm9CYXNlT2JqLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRnVsbFNlbGVjdGlvbkRhdGE6IGRhdGFBcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5hZnRlckJhY2tDbGlja2VkKG91dEluZm9PYmopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiYWNrTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGJhY2tIYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vQ2FsbCB0aGUgcHJlcGFyZSBmdW5jdGlvbiB0byBpbml0aWFsaXplIHRoZSBuZXcgbW9kYWxcbiAgICAgICAgaWYgKHR5cGVvZiBwcmVwYXJlRnVuY3Rpb24gPT09IFwiZnVuY3Rpb25cIikgcHJlcGFyZUZ1bmN0aW9uKG1vZGFsQmFzZUNvcHksIHByZXBhcmVGdW5jdGlvbk9wdGlvbnMpO1xuXG4gICAgICAgIC8vYmluZCBjbGljayBldmVudCB0byBjbG9zZSB0aGUgbW9kYWxcbiAgICAgICAgdmFyIGNsb3NlQnV0dG9ucyA9IG1vZGFsQmFzZUNvcHkucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1jbG9zZScpO1xuICAgICAgICBbXS5mb3JFYWNoLmNhbGwoY2xvc2VCdXR0b25zLCBmdW5jdGlvbiAoY2xvc2VCdXR0b24pIHtcbiAgICAgICAgICAgIGNsb3NlQnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGhpZGVNb2RhbHMoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF92c21Nb2RhbElEQ291bnRlcisrO1xuXG4gICAgICAgIHJldHVybiBtb2RhbEJhc2VDb3B5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zaXRpb24gYmV0d2VlbiBtb2RhbFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7RWxlbWVudH0gdG9Nb2RhbCAtIFRoZSBtb2RhbCB0byB0cmFuc2l0aW9uIHRvXG4gICAgICogQHBhcmFtICB7RWxlbWVudH0gZnJvbU1vZGFsIC0gVGhlIGN1cnJlbnQgbW9kYWwgdG8gdHJhbnNpdGlvbiBmcm9tXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gYmFja3dhcmRzIC0gc2V0IHRvIHRydWUsIGlmIHRyYW5zaXRpb24gZnJvbSBoaWdoZXIgaW5kZXggdG8gbG93ZXIgaW5kZXhcbiAgICAgKiBAcmV0dXJuIHtSaWRlU3R5bGVyUHJvbWlzZX0gLSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSB3aGVuIHRoZSB0cmFuc2l0aW9uIGlzIGNvbXBsZXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNpdGlvblRvTW9kYWwodG9Nb2RhbCwgZnJvbU1vZGFsLCBiYWNrd2FyZHMpIHtcbiAgICAgICAgYmFja3dhcmRzID0gISEgYmFja3dhcmRzO1xuXG4gICAgICAgIGlmICghdG9Nb2RhbCB8fCAhZnJvbU1vZGFsKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIC8qKiBAdHlwZSB7UmlkZVN0eWxlclByb21pc2V9ICovXG4gICAgICAgIHZhciBmcm9tQW5pbWF0ZVByb21pc2UgPSByaWRlc3R5bGVyLnByb21pc2UoKSxcbiAgICAgICAgICAgIHRvQW5pbWF0ZVByb21pc2UgPSByaWRlc3R5bGVyLnByb21pc2UoKTtcblxuICAgICAgICBpZiAoIWJhY2t3YXJkcykge1xuICAgICAgICAgICAgdmFyIGZyb21aID0gcGFyc2VJbnQoZnJvbU1vZGFsLnN0eWxlLnpJbmRleCwgMTApIHx8IDAsXG4gICAgICAgICAgICAgICAgdG9aID0gcGFyc2VJbnQodG9Nb2RhbC5zdHlsZS56SW5kZXgsIDEwKSB8fCAwO1xuICAgICAgICAgICAgaWYgKHRvWiA8PSBmcm9tWikgdG9aID0gZnJvbVogKyAxO1xuICAgICAgICAgICAgdG9Nb2RhbC5zdHlsZS56SW5kZXggPSB0b1o7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhbnNpdGlvblN1cHBvcnQpIHtcbiAgICAgICAgICAgIGlmIChiYWNrd2FyZHMpIHtcbiAgICAgICAgICAgICAgICB0b01vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKHRvTW9kYWwsICdpbicpO1xuXG4gICAgICAgICAgICAgICAgdG9BbmltYXRlUHJvbWlzZS5yZXNvbHZlKCk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhmcm9tTW9kYWwsICdpbicpO1xuICAgICAgICAgICAgICAgICAgICBmcm9tTW9kYWwub25UcmFuc2l0aW9uRW5kT25jZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbU1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tQW5pbWF0ZVByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRvTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyh0b01vZGFsLCAnaW4nKTtcbiAgICAgICAgICAgICAgICAgICAgdG9Nb2RhbC5vblRyYW5zaXRpb25FbmRPbmNlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGZyb21Nb2RhbCwgJ2luJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRvQW5pbWF0ZVByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbUFuaW1hdGVQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoYmFja3dhcmRzKSB7XG4gICAgICAgICAgICAgICAgdG9Nb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyh0b01vZGFsLCAnaW4nKTtcblxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGZyb21Nb2RhbCwgJ2luJyk7XG4gICAgICAgICAgICAgICAgZnJvbU1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b01vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKHRvTW9kYWwsICdpbicpO1xuXG4gICAgICAgICAgICAgICAgZnJvbU1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoZnJvbU1vZGFsLCAnaW4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdG9BbmltYXRlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICBmcm9tQW5pbWF0ZVByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFsbFByb21pc2UgPSByaWRlc3R5bGVyLnByb21pc2UoKTtcbiAgICAgICAgdmFyIG9uUHJvbWlzZUNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0b1N0YXRlID0gdG9BbmltYXRlUHJvbWlzZS5zdGF0ZSgpLFxuICAgICAgICAgICAgICAgIGZyb21TdGF0ZSA9IGZyb21BbmltYXRlUHJvbWlzZS5zdGF0ZSgpO1xuXG4gICAgICAgICAgICAvLyBTdGlsbCB3YWl0aW5nIGZvciByZXNvbHV0aW9uXG4gICAgICAgICAgICBpZiAodG9TdGF0ZSA9PT0gMCB8fCBmcm9tU3RhdGUgPT09IDApIHJldHVybjtcblxuICAgICAgICAgICAgLy8gT25lIHByb21pc2UgaGFzIGJlZW4gcmVqZWN0ZWQgYnV0IHRoZSBvdGhlciBpcyByZXNvbHZlZFxuICAgICAgICAgICAgaWYgKHRvU3RhdGUgPT09IDIgfHwgZnJvbVN0YXRlID09PSAyKSByZXR1cm4gYWxsUHJvbWlzZS5yZWplY3QoKTtcblxuICAgICAgICAgICAgLy8gQm90aCBwcm9taXNlcyBhcmUgcmVzb2x2ZWRcbiAgICAgICAgICAgIGFsbFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRvQW5pbWF0ZVByb21pc2UuYWx3YXlzKG9uUHJvbWlzZUNoYW5nZSk7XG4gICAgICAgIGZyb21BbmltYXRlUHJvbWlzZS5hbHdheXMob25Qcm9taXNlQ2hhbmdlKTtcblxuICAgICAgICByZXR1cm4gYWxsUHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb2RhbCBwcmVwYXJhdGlvbjogUHJvY2VzcyB0aGUgdmVoaWNsZSBzZWxlY3QgcmVxdWVzdFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7RWxlbWVudH0gbW9kYWwgLSBUaGUgbW9kYWwgdG8gcHJlcGFyZVxuICAgICAqIEByZXR1cm4gdm9pZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcXVlc3RTdGVwKG1vZGFsLCBzdGVwT3B0aW9ucykge1xuICAgICAgICB2YXIgcmVxdWVzdCA9IHtcbiAgICAgICAgICAgIFNlbGVjdGlvbjogZGF0YUFycmF5XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHN0ZXBPcHRpb25zICYmIHN0ZXBPcHRpb25zLmJlc3RDb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICBzaG93U2VsZWN0aW9uKG1vZGFsLCBzdGVwT3B0aW9ucy5iZXN0Q29uZmlndXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmlkZXN0eWxlci5hamF4LnNlbmQoe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJ1ZlaGljbGUvU2VsZWN0JyxcbiAgICAgICAgICAgICAgICBkYXRhOiByZXF1ZXN0LFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLlN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5CZXN0Q29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLkluY2x1ZGVPRVRpcmVPcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlkZXN0eWxlci5hamF4LnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnVmVoaWNsZS9HZXRUaXJlT3B0aW9uRGV0YWlscycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7J1ZlaGljbGVDb25maWd1cmF0aW9uJzogcmVzcG9uc2UuQmVzdENvbmZpZ3VyYXRpb24uVmFsdWV9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVzdENvbmZpZ3VyYXRpb246IHJlc3BvbnNlLkJlc3RDb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChkZXRhaWxSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXRhaWxSZXNwb25zZS5TdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZXRhaWxzID0gZGV0YWlsUmVzcG9uc2UuRGV0YWlscyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVzdENvbmZpZ3VyYXRpb24gPSB0aGlzLmJlc3RDb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV0YWlscy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRldGFpbFN0cmluZyA9IChmdW5jdGlvbiAoZGV0YWlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSBkZXRhaWwuRnJvbnRbJ0Rlc2NyaXB0aW9uJ10sIHIgPSBkZXRhaWwuUmVhclsnRGVzY3JpcHRpb24nXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZj09cikgcmV0dXJuIGY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSByZXR1cm4gXCJGOiBcIiArIGYgKyBcIiBSOiBcIiArIHI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KShkZXRhaWxzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RDb25maWd1cmF0aW9uLlRpcmVPcHRpb25CYXNpYyA9IHtUaXJlT3B0aW9uSUQ6IGRldGFpbHNbMF1bJ1RpcmVPcHRpb25JRCddLCBUaXJlT3B0aW9uU3RyaW5nOiBkZXRhaWxTdHJpbmd9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1NlbGVjdGlvbihtb2RhbCwgYmVzdENvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbk1lbnUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uOiAnU2VsZWN0IFlvdXIgVGlyZSBTaXplJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaXRsZTogJ1RpcmUgU2l6ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS2V5OiAndGlyZW9wdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT3B0aW9uczogW11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGV0YWlscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZXRhaWxTdHJpbmcgPSAoZnVuY3Rpb24gKGRldGFpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZiA9IGRldGFpbC5Gcm9udFsnRGVzY3JpcHRpb24nXSwgciA9IGRldGFpbC5SZWFyWydEZXNjcmlwdGlvbiddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZj09cikgcmV0dXJuIGY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuIFwiRjogXCIgKyBmICsgXCIgUjogXCIgKyByO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKGRldGFpbHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbk1lbnUuT3B0aW9ucy5wdXNoKHtHcm91cDogbnVsbCwgTGFiZWw6IGRldGFpbFN0cmluZywgVmFsdWU6IGRldGFpbHNbaV1bJ1RpcmVPcHRpb25JRCddfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVNb2RhbChtb2RhbCwgb3B0aW9uTWVudSwgYmVzdENvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Ugc2hvd1NlbGVjdGlvbihtb2RhbCwgYmVzdENvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2VsZWN0aW9uKG1vZGFsLCByZXNwb25zZS5CZXN0Q29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVNb2RhbChtb2RhbCwgcmVzcG9uc2UuTWVudSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb2RhbCBwcmVwYXJhdGlvbjogVXBkYXRlIG1vZGFsIGNvbnRlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge0VsZW1lbnR9IG1vZGFsIC0gVGhlIG1vZGFsIHRvIHByZXBhcmVcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG1lbnUgLSBNZW51IG9iamVjdCB0byBwYXNzIGluIGZvciBtb2RhbCBjb250ZW50IHVwZGF0ZVxuICAgICAqIEByZXR1cm4gdm9pZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZU1vZGFsKG1vZGFsLCBtZW51LCBiZXN0Q29uZmlndXJhdGlvbikge1xuICAgICAgICB2YXIgaXRlbUxpc3RDb250YWluZXIgPSBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLWxpc3QtY29udGFpbmVyJylbMF0sXG4gICAgICAgIGhlYWRlckVsZW1lbnQgPSBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLWhlYWRlcicpWzBdLFxuICAgICAgICBib2R5RWxlbWVudCA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tbW9kYWwtYm9keScpWzBdLFxuICAgICAgICB2c21MaW5rU3R5bGUgPSBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLWxpbmUtc3RlcCcpWzBdLFxuICAgICAgICBmaW5hbFNjcmVlbiA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tZmluYWwnKVswXTtcblxuICAgICAgICB2YXIgbWVudU9wdGlvbnMgPSBtZW51Lk9wdGlvbnMsXG4gICAgICAgIG1lbnVLZXkgPSBtZW51LktleSxcbiAgICAgICAgbWVudVRpdGxlID0gbWVudS5UaXRsZSxcbiAgICAgICAgbWVudUdyb3VwcyA9IG1lbnUuR3JvdXBzO1xuXG4gICAgICAgIHZhciBvbkxpc3RJdGVtU2VsZWN0ZWQgPSBmdW5jdGlvbihvKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9uVmFsdWUgPSBvLmdldEF0dHJpYnV0ZSgnZGF0YS1vcHRpb252YWx1ZScpO1xuICAgICAgICAgICAgdmFyIG9wdGlvbktleSA9IG8uZ2V0QXR0cmlidXRlKCdkYXRhLW9wdGlvbmtleScpO1xuICAgICAgICAgICAgdmFyIG9wdGlvbkxhYmVsID0gby5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3B0aW9ubGFiZWwnKTtcbiAgICAgICAgICAgIHZhciBvcHRpb25UaXRsZSA9IG8uZ2V0QXR0cmlidXRlKCdkYXRhLW1lbnV0aXRsZScpO1xuICAgICAgICAgICAgZGF0YUFycmF5LnB1c2gob3B0aW9uS2V5ICsgJzonICsgb3B0aW9uVmFsdWUpO1xuICAgICAgICAgICAgaW5mb0FycmF5LnB1c2gob3B0aW9uVGl0bGUgKyAnOicgKyBvcHRpb25MYWJlbCk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFmdGVyT3B0aW9uU2VsZWN0ZWQgJiYgdHlwZW9mIG9wdGlvbnMuYWZ0ZXJPcHRpb25TZWxlY3RlZCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZm9CYXNlT2JqID0ge307XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZm9BcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3BsaXR0ZWRBcnJheSA9IGluZm9BcnJheVtpXS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3BsaXR0ZWRBcnJheS5sZW5ndGggPT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5mb0Jhc2VPYmpbc3BsaXR0ZWRBcnJheVswXV0gPSBzcGxpdHRlZEFycmF5WzFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIG91dEluZm9PYmogPSB7XG4gICAgICAgICAgICAgICAgICAgIEN1cnJlbnRTZWxlY3Rpb246IHt9LFxuICAgICAgICAgICAgICAgICAgICBGdWxsU2VsZWN0aW9uOiBpbmZvQmFzZU9iaixcbiAgICAgICAgICAgICAgICAgICAgRnVsbFNlbGVjdGlvbkRhdGE6IGRhdGFBcnJheVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG91dEluZm9PYmouQ3VycmVudFNlbGVjdGlvbltvcHRpb25UaXRsZV0gPSBvcHRpb25MYWJlbDtcblxuICAgICAgICAgICAgICAgIG9wdGlvbnMuYWZ0ZXJPcHRpb25TZWxlY3RlZChvdXRJbmZvT2JqKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFkaXNDb3VudGludWVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25PcHRpb24gPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uS2V5ID09ICd0aXJlb3B0aW9uJyAmJiBiZXN0Q29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBiZXN0Q29uZmlndXJhdGlvbi5UaXJlT3B0aW9uQmFzaWMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUaXJlT3B0aW9uSUQ6IG9wdGlvblZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgVGlyZU9wdGlvblN0cmluZzogb3B0aW9uTGFiZWxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbk9wdGlvbi5iZXN0Q29uZmlndXJhdGlvbiA9IGJlc3RDb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uVG9Nb2RhbChcbiAgICAgICAgICAgICAgICAgICAgYmFzZShyZXF1ZXN0U3RlcCwgdHJhbnNpdGlvbk9wdGlvbiwgbW9kYWwpLFxuICAgICAgICAgICAgICAgICAgICBtb2RhbFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGJ1aWxkTGlzdEl0ZW0gPSBmdW5jdGlvbihvcHRPYmopIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25MYWJlbCA9IG9wdE9iai5MYWJlbCxcbiAgICAgICAgICAgIG9wdGlvblZhbHVlID0gb3B0T2JqLlZhbHVlO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25MYWJlbCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIG9wdGlvblZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBvcHRpb25CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyksXG4gICAgICAgICAgICBvcHRpb25UZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUob3B0aW9uTGFiZWwpO1xuICAgICAgICAgICAgb3B0aW9uQnRuLmNsYXNzTmFtZSA9ICd2c20tb3B0aW9uLWl0ZW0gdnNtLWJ0biB2c20tYnRuLWdyYXknO1xuICAgICAgICAgICAgb3B0aW9uQnRuLmhyZWYgPSAnamF2YXNjcmlwdDp2b2lkKDApJztcbiAgICAgICAgICAgIG9wdGlvbkJ0bi5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3B0aW9udmFsdWUnLCBvcHRpb25WYWx1ZSk7XG4gICAgICAgICAgICBvcHRpb25CdG4uc2V0QXR0cmlidXRlKCdkYXRhLW9wdGlvbmxhYmVsJywgb3B0aW9uTGFiZWwpO1xuICAgICAgICAgICAgb3B0aW9uQnRuLmFwcGVuZENoaWxkKG9wdGlvblRleHQpO1xuXG4gICAgICAgICAgICBvcHRpb25CdG4ub25jbGljayA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgb25MaXN0SXRlbVNlbGVjdGVkKHRoaXMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25CdG47XG4gICAgICAgIH0sXG4gICAgICAgIGJ1aWxkTGlzdEhlYWRlciA9IGZ1bmN0aW9uKGhlYWRlclRleHQpIHtcbiAgICAgICAgICAgIHZhciBtZW51U3ViSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpLFxuICAgICAgICAgICAgbWVudVN1YkhlYWRlclRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShoZWFkZXJUZXh0KTtcbiAgICAgICAgICAgIG1lbnVTdWJIZWFkZXIuY2xhc3NOYW1lID0gJ3ZzbS1ncm91cC10aXRsZSc7XG4gICAgICAgICAgICBtZW51U3ViSGVhZGVyLmFwcGVuZENoaWxkKG1lbnVTdWJIZWFkZXJUZXh0KTtcblxuICAgICAgICAgICAgcmV0dXJuIG1lbnVTdWJIZWFkZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy9JbiBwcm9ncmVzcywgcmVtb3ZpbmcgdGhlIGZpbmFsIHNjcmVlbiBlbGVtZW50IGZyb20gbG9hZGVkIG1vZGFsXG4gICAgICAgIGZpbmFsU2NyZWVuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZmluYWxTY3JlZW4pO1xuICAgICAgICBhZGRDbGFzcyh2c21MaW5rU3R5bGUsICd2c20tc2luZ2xlLXN0ZXAnKTtcblxuICAgICAgICAvL0NyZWF0ZSByaWdodC1zaWRlIHByb2dyZXNzIGJhclxuICAgICAgICB2YXIgZGl2RUxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgIGRvdEVsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKSxcbiAgICAgICAgc3BhbkVsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgZGl2RUxlLmNsYXNzTmFtZSA9ICd2c20tY29sdW1uLTInO1xuICAgICAgICBkb3RFbGUuY2xhc3NOYW1lID0gJ2RvdC1zdHlsZSBkb3QtYmVmb3JlIGFjdGl2ZSc7XG4gICAgICAgIHNwYW5FbGUuY2xhc3NOYW1lID0gJ2RvdC1pbmZvIGRvdC1pbmZvLWJlZm9yZSBhY3RpdmUnO1xuICAgICAgICAvL3NwYW5FbGUuaW5uZXJIVE1MID0gbWVudVRpdGxlO1xuICAgICAgICBkaXZFTGUuYXBwZW5kQ2hpbGQoZG90RWxlKTtcbiAgICAgICAgZGl2RUxlLmFwcGVuZENoaWxkKHNwYW5FbGUpO1xuXG4gICAgICAgIC8vQ3JlYXRlIGxlZnQtc2lkZSBwcm9ncmVzcyBpbmZvXG4gICAgICAgIGlmICghZGF0YUFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIG5vdFN0eWxlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBub3RTdHlsZURpdi5jbGFzc05hbWUgPSAndnNtLWNvbHVtbi0yIG5vLXN0eWxlJztcbiAgICAgICAgICAgIHZzbUxpbmtTdHlsZS5hcHBlbmRDaGlsZChub3RTdHlsZURpdik7XG4gICAgICAgICAgICB2c21MaW5rU3R5bGUuYXBwZW5kQ2hpbGQoZGl2RUxlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFkZENsYXNzKGJvZHlFbGVtZW50LCAndnNtLWhhcy1iYWNrJyk7XG4gICAgICAgICAgICB2YXIgbm90U3R5bGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIC8qY2VsbEVsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSwqL1xuICAgICAgICAgICAgLyppbmZvRWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOyovXG4gICAgICAgICAgICBub3RTdHlsZURpdi5jbGFzc05hbWUgPSAndnNtLWNvbHVtbi0yIHZzbS1iZWZvcmUnO1xuICAgICAgICAgICAgLypjZWxsRWxlLmNsYXNzTmFtZSA9ICd2c20tdGFibGUtY2VsbCc7XG4gICAgICAgICAgICBpbmZvRWxlLmNsYXNzTmFtZSA9ICd2c20tc2VsZWN0ZWQtaW5mbyc7XG4gICAgICAgICAgICBjZWxsRWxlLmFwcGVuZENoaWxkKGluZm9FbGUpO1xuICAgICAgICAgICAgbm90U3R5bGVEaXYuYXBwZW5kQ2hpbGQoY2VsbEVsZSk7Ki9cbiAgICAgICAgICAgIHZhciBpbmZvQmFzZUFycmF5ID0gaW5mb0FycmF5Lm1hcChmdW5jdGlvbiAoZWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZSAmJiBlbGUuc3BsaXQoJzonKS5sZW5ndGggPT09IDIgPyBlbGUuc3BsaXQoJzonKVsxXSA6ICcnO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvKmluZm9FbGUuaW5uZXJIVE1MID0gaW5mb0Jhc2VBcnJheS5qb2luKCcgJyk7Ki9cbiAgICAgICAgICAgIHNwYW5FbGUuaW5uZXJIVE1MID0gaW5mb0Jhc2VBcnJheS5qb2luKCcgJyk7XG4gICAgICAgICAgICB2c21MaW5rU3R5bGUuYXBwZW5kQ2hpbGQobm90U3R5bGVEaXYpO1xuICAgICAgICAgICAgdnNtTGlua1N0eWxlLmFwcGVuZENoaWxkKGRpdkVMZSk7XG5cbiAgICAgICAgfVxuICAgICAgICBoZWFkZXJFbGVtZW50LmlubmVySFRNTCA9IG1lbnUuRGVzY3JpcHRpb247XG5cbiAgICAgICAgLy9DbGVhciB0aGUgY29udGFpbmVyXG4gICAgICAgIHdoaWxlIChpdGVtTGlzdENvbnRhaW5lci5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICBpdGVtTGlzdENvbnRhaW5lci5yZW1vdmVDaGlsZChpdGVtTGlzdENvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtZW51T3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBncm91cFdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGdyb3VwV3JhcC5jbGFzc05hbWUgPSAndnNtLWdyb3VwLXdyYXAgY2VudGVyLXBpZWNlJztcbiAgICAgICAgICAgIGl0ZW1MaXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGdyb3VwV3JhcCk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLkdyb3VwT3B0aW9ucyAmJiBtZW51R3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1lbnVHcm91cGVkT3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVudU9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNNZW51T3B0aW9uID0gbWVudU9wdGlvbnNbaV0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXNNZW51T3B0aW9uR3JvdXAgPSB0aGlzTWVudU9wdGlvbi5Hcm91cDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNNZW51T3B0aW9uR3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vSWYgR3JvdXAgdmFsdWUgb2YgdGhpcyBvcHRpb24gaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1lbnVHcm91cGVkT3B0aW9uc1t0aGlzTWVudU9wdGlvbkdyb3VwXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVHcm91cGVkT3B0aW9uc1t0aGlzTWVudU9wdGlvbkdyb3VwXSA9IFt0aGlzTWVudU9wdGlvbl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW51R3JvdXBlZE9wdGlvbnNbdGhpc01lbnVPcHRpb25Hcm91cF0ucHVzaCh0aGlzTWVudU9wdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL0lmIEdyb3VwIHZhbHVlIG9mIHRoaXMgb3B0aW9uIGlzIG51bGwgb3IgdW5kZWZpbmVkLCBwdXQgdGhlbSBpbiBVbmdyb3VwZWQgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vTWF5IG5ldmVyIGhhcHBlbiwgbW9yZSBsaWtlIGFuIGVycm9yIGhhbmRsaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1lbnVHcm91cGVkT3B0aW9uc1snX3VuZ3JvdXBlZCddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudUdyb3VwZWRPcHRpb25zWydfdW5ncm91cGVkJ10gPSBbdGhpc01lbnVPcHRpb25dO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudUdyb3VwZWRPcHRpb25zWydfdW5ncm91cGVkJ10ucHVzaCh0aGlzTWVudU9wdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9HbyB0aHJvdWdoIGtub3duIEdyb3VwcyBiZWZvcmUgY2hlY2tpbmcgdW5ncm91cGVkIG9wdGlvbnNcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1lbnVHcm91cHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lbnVHcm91cCA9IG1lbnVHcm91cHNbal07XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdWJHcm91cCA9IG1lbnVHcm91cGVkT3B0aW9uc1ttZW51R3JvdXBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3ViR3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBncm91cExpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbkNsYXNzID0gJ3ZzbS1vbmUtY29udGFpbmVyJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZW51LktleSA9PSAneWVhcicgJiYgbWVudU9wdGlvbnMubGVuZ3RoID4gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5ZZWFyU2NyZWVuQ29sdW1ucyA9PSAyKSBjb2x1bW5DbGFzcyA9ICd2c20taGFsZi1jb250YWluZXInO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLlllYXJTY3JlZW5Db2x1bW5zID49IDMpIGNvbHVtbkNsYXNzID0gJ3ZzbS10aGlyZC1jb250YWluZXInO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lbnUuS2V5ID09ICdtYWtlJyAmJiBtZW51T3B0aW9ucy5sZW5ndGggPiAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLk1ha2VTY3JlZW5Db2x1bW5zID49IDIpIGNvbHVtbkNsYXNzID0gJ3ZzbS1oYWxmLWNvbnRhaW5lcic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cExpc3QuY2xhc3NOYW1lID0gJ3ZzbS1ncm91cC1saXN0ICcgKyBjb2x1bW5DbGFzcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwV3JhcC5hcHBlbmRDaGlsZChidWlsZExpc3RIZWFkZXIobWVudUdyb3VwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cFdyYXAuYXBwZW5kQ2hpbGQoZ3JvdXBMaXN0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJHcm91cC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IGJ1aWxkTGlzdEl0ZW0oc3ViR3JvdXBbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGlzdEl0ZW0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1vcHRpb25rZXknLCBtZW51S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLW1lbnV0aXRsZScsIG1lbnVUaXRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwTGlzdC5hcHBlbmRDaGlsZChsaXN0SXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vQ2hlY2sgaWYgVW5ncm91cGVkIG9wdGlvbnMgZXhpc3RcbiAgICAgICAgICAgICAgICBpZiAobWVudUdyb3VwZWRPcHRpb25zWydfdW5ncm91cGVkJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdyb3VwTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5DbGFzcyA9ICd2c20tb25lLWNvbnRhaW5lcic7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZW51LktleSA9PSAneWVhcicgJiYgbWVudU9wdGlvbnMubGVuZ3RoID4gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLlllYXJTY3JlZW5Db2x1bW5zID09IDIpIGNvbHVtbkNsYXNzID0gJ3ZzbS1oYWxmLWNvbnRhaW5lcic7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5ZZWFyU2NyZWVuQ29sdW1ucyA+PSAzKSBjb2x1bW5DbGFzcyA9ICd2c20tdGhpcmQtY29udGFpbmVyJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVudS5LZXkgPT0gJ21ha2UnICYmIG1lbnVPcHRpb25zLmxlbmd0aCA+IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5NYWtlU2NyZWVuQ29sdW1ucyA+PSAyKSBjb2x1bW5DbGFzcyA9ICd2c20taGFsZi1jb250YWluZXInO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwTGlzdC5jbGFzc05hbWUgPSAndnNtLWdyb3VwLWxpc3QgJyArIGNvbHVtbkNsYXNzO1xuICAgICAgICAgICAgICAgICAgICBncm91cFdyYXAuYXBwZW5kQ2hpbGQoYnVpbGRMaXN0SGVhZGVyKCdVbmdyb3VwZWQnKSk7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwV3JhcC5hcHBlbmRDaGlsZChncm91cExpc3QpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdWJHcm91cCA9IG1lbnVHcm91cGVkT3B0aW9uc1snX3VuZ3JvdXBlZCddO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN1Ykdyb3VwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSBidWlsZExpc3RJdGVtKHN1Ykdyb3VwW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGlzdEl0ZW0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLW9wdGlvbmtleScsIG1lbnVLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1tZW51dGl0bGUnLCBtZW51VGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwTGlzdC5hcHBlbmRDaGlsZChsaXN0SXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZ3JvdXBMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgICAgICAgY29sdW1uQ2xhc3MgPSAndnNtLW9uZS1jb250YWluZXInO1xuICAgICAgICAgICAgICAgIGlmIChtZW51LktleSA9PSAneWVhcicgJiYgbWVudU9wdGlvbnMubGVuZ3RoID4gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuWWVhclNjcmVlbkNvbHVtbnMgPT0gMikgY29sdW1uQ2xhc3MgPSAndnNtLWhhbGYtY29udGFpbmVyJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuWWVhclNjcmVlbkNvbHVtbnMgPj0gMykgY29sdW1uQ2xhc3MgPSAndnNtLXRoaXJkLWNvbnRhaW5lcic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtZW51LktleSA9PSAnbWFrZScgJiYgbWVudU9wdGlvbnMubGVuZ3RoID4gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuTWFrZVNjcmVlbkNvbHVtbnMgPj0gMikgY29sdW1uQ2xhc3MgPSAndnNtLWhhbGYtY29udGFpbmVyJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ3JvdXBMaXN0LmNsYXNzTmFtZSA9ICd2c20tZ3JvdXAtbGlzdCAnICsgY29sdW1uQ2xhc3M7XG4gICAgICAgICAgICAgICAgZ3JvdXBXcmFwLmFwcGVuZENoaWxkKGdyb3VwTGlzdCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lbnVPcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IGJ1aWxkTGlzdEl0ZW0obWVudU9wdGlvbnNbaV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGxpc3RJdGVtICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLW9wdGlvbmtleScsIG1lbnVLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLW1lbnV0aXRsZScsIG1lbnVUaXRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cExpc3QuYXBwZW5kQ2hpbGQobGlzdEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW9kYWwgcHJlcGFyYXRpb246IFNob3cgZmluYWwgdmVoaWNsZSBzZWxlY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge0VsZW1lbnR9IG1vZGFsIC0gVGhlIG1vZGFsIHRvIHByZXBhcmVcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGJlc3RDb25maWd1cmF0aW9uIC0gYmVzdENvbmZpZ3VyYXRpb24gb2JqZWN0IHRvIHBhc3MgaW4gZm9yIG1vZGFsIGNvbnRlbnQgdXBkYXRlXG4gICAgICogQHJldHVybiB2b2lkXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2hvd1NlbGVjdGlvbihtb2RhbCwgYmVzdENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgdmFyIHZlaGljbGVJbWFnZSA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tdmVoaWNsZS1kaXNwbGF5JylbMF0sXG4gICAgICAgIHZlaGljbGVMb2FkZXIgPSBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLWZpbmFsIC52c20tbG9hZGVySWNvbicpWzBdLFxuICAgICAgICBuYW1lRWxlbWVudCA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52ZWhpY2xlLXJlc3VsdC1uYW1lJylbMF0sXG4gICAgICAgIHNpemVFbGVtZW50ID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnZlaGljbGUtcmVzdWx0LXNpemUnKVswXSxcbiAgICAgICAgY29uZmlybUJ1dHRvbiA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tZmluZCcpWzBdLFxuICAgICAgICBib2R5RWxlbWVudCA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tbW9kYWwtYm9keScpWzBdLFxuICAgICAgICBpblByb2dyZXNzU2NyZWVuID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1pbi1wcm9ncmVzcycpWzBdO1xuXG4gICAgICAgIGFkZENsYXNzKGJvZHlFbGVtZW50LCAndnNtLWhhcy1iYWNrJyk7XG4gICAgICAgIGNvbmZpcm1CdXR0b24uaW5uZXJIVE1MID0gb3B0aW9ucy5Db25maXJtQnV0dG9uVGV4dDtcblxuICAgICAgICB2YXIgaW5mb0Jhc2VBcnJheSA9IFtdLCBpbmZvQmFzZU9iaiA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5mb0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHNwbGl0dGVkQXJyYXkgPSBpbmZvQXJyYXlbaV0uc3BsaXQoJzonKTtcbiAgICAgICAgICBpZiAoc3BsaXR0ZWRBcnJheS5sZW5ndGggPT0gMiAmJiBzcGxpdHRlZEFycmF5WzBdICE9ICdUaXJlIFNpemUnKSB7XG4gICAgICAgICAgICAgIGluZm9CYXNlQXJyYXkucHVzaChzcGxpdHRlZEFycmF5WzFdKTtcbiAgICAgICAgICAgICAgaW5mb0Jhc2VPYmpbc3BsaXR0ZWRBcnJheVswXV0gPSBzcGxpdHRlZEFycmF5WzFdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtYWluUGFydFN0cmluZyA9IGluZm9CYXNlQXJyYXlbMF0sXG4gICAgICAgIGxhc3RJdGVtID0gaW5mb0Jhc2VBcnJheS5wb3AoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGluZm9CYXNlQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID49IDMpIGJyZWFrO1xuICAgICAgICAgICAgbWFpblBhcnRTdHJpbmcgKz0gJyAnICsgaW5mb0Jhc2VBcnJheVtpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2ZWhpY2xlRGVzYyA9IG1haW5QYXJ0U3RyaW5nICsgJyAnICsgbGFzdEl0ZW07XG5cbiAgICAgICAgbmFtZUVsZW1lbnQuaW5uZXJIVE1MID0gdmVoaWNsZURlc2M7XG5cbiAgICAgICAgYWRkQ2xhc3MobW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1tb2RhbC1ib2R5JylbMF0sICd2c20tZmluYWwtc2NyZWVuJyk7XG4gICAgICAgIGluUHJvZ3Jlc3NTY3JlZW4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpblByb2dyZXNzU2NyZWVuKTtcblxuICAgICAgICB2YXIgaW1hZ2VTZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIFdpZHRoOiAyNjAsXG4gICAgICAgICAgICBIZWlnaHQ6IDEyMCxcbiAgICAgICAgICAgIFBvc2l0aW9uWDogMSxcbiAgICAgICAgICAgIFBvc2l0aW9uWTogMVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChvcHRpb25zLkltYWdlU2V0dGluZ3MpIHtcbiAgICAgICAgICAgIGV4dGVuZChpbWFnZVNldHRpbmdzLCBcbiAgICAgICAgICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucy5JbWFnZVNldHRpbmdzID09PSBcImZ1bmN0aW9uXCIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5JbWFnZVNldHRpbmdzLmNhbGwodGhpcywgb3B0aW9ucykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5JbWFnZVNldHRpbmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGltYWdlU2V0dGluZ3MuVmVoaWNsZUNvbmZpZ3VyYXRpb24gPSBiZXN0Q29uZmlndXJhdGlvbi5WYWx1ZTtcblxuICAgICAgICB2YXIgaW1hZ2VVcmwgPSByaWRlc3R5bGVyLmFqYXgudXJsKFwiVmVoaWNsZS9SZW5kZXJcIiwgaW1hZ2VTZXR0aW5ncyk7XG5cbiAgICAgICAgdmVoaWNsZUltYWdlLnNyYyA9IGltYWdlVXJsO1xuICAgICAgICB2ZWhpY2xlSW1hZ2Uuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgICB2ZWhpY2xlSW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZlaGljbGVMb2FkZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb25maXJtSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGUudHlwZSwgY29uZmlybUhhbmRsZXIpO1xuICAgICAgICAgICAgLy9IaWRlIG1vZGFsXG4gICAgICAgICAgICB2YXIgYWxsTW9kYWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1tb2RhbDpub3QoI3ZzbV9tb2RhbF9iYXNlKScpLFxuICAgICAgICAgICAgcGFyZW50QmFzZSA9IGdldENsb3Nlc3QodGhpcywgJy52c20tbW9kYWwnKTtcblxuICAgICAgICAgICAgdmFyIGNvcHlPZkRhdGFBcnJheSA9IGRhdGFBcnJheS5zbGljZSgwKTtcblxuICAgICAgICAgICAgaW5mb0FycmF5ID0gW107XG4gICAgICAgICAgICBkYXRhQXJyYXkgPSBbXTtcblxuICAgICAgICAgICAgcGFyZW50QmFzZS5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIHBhcmVudEJhc2Uub25UcmFuc2l0aW9uRW5kT25jZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChhbGxNb2RhbHMsIGZ1bmN0aW9uICh0aGlzTW9kYWwpIHt0aGlzTW9kYWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzTW9kYWwpO30pO1xuXG4gICAgICAgICAgICAgICAgdmFyIHZlaGljbGVJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICBJbWFnZVVybDogaW1hZ2VVcmwsXG4gICAgICAgICAgICAgICAgICAgIFZlaGljbGVEZXNjcmlwdGlvbjogdmVoaWNsZURlc2MsXG4gICAgICAgICAgICAgICAgICAgIFZlaGljbGVDb25maWd1cmF0aW9uOiBiZXN0Q29uZmlndXJhdGlvbi5WYWx1ZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBleHRlbmQodmVoaWNsZUluZm8sIGluZm9CYXNlT2JqKTtcbiAgICAgICAgICAgICAgICBpZiAoYmVzdENvbmZpZ3VyYXRpb24uVGlyZU9wdGlvbkJhc2ljKSBleHRlbmQodmVoaWNsZUluZm8sIGJlc3RDb25maWd1cmF0aW9uLlRpcmVPcHRpb25CYXNpYyk7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2FsbGJhY2sgJiYgdHlwZW9mIG9wdGlvbnMuY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3V0T2JqID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgRmluYWxTZWxlY3Rpb25NYWRlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgVmVoaWNsZTogdmVoaWNsZUluZm8sXG4gICAgICAgICAgICAgICAgICAgICAgICBGdWxsU2VsZWN0aW9uRGF0YTogY29weU9mRGF0YUFycmF5XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFjayhvdXRPYmopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZU1vZGFscygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ05vIGNhbGxiYWNrIGZ1bmN0aW9uIHByb3ZpZGVkLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaGlkZUJhY2tkcm9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY29uZmlybUhhbmRsZXIsIGZhbHNlKTtcbiAgICB9XG5cbiAgICB0aGlzLlNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvYWRCYXNlKCk7XG4gICAgICAgIC8vQ2hlY2sgZm9yIGFueSBleGlzdGluZyBtb2RhbHNcbiAgICAgICAgdmFyIGFsbE1vZGFscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tbW9kYWw6bm90KCN2c21fbW9kYWxfYmFzZSknKTtcbiAgICAgICAgaWYgKGFsbE1vZGFscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignVGhlcmUgaXMgY3VycmVudGx5IGFub3RoZXIgdnNtIGluc3RhbmNlIHJ1bm5pbmcuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1vZGFsID0gYmFzZSgpO1xuICAgICAgICBjcmVhdGVCYWNrZHJvcCgpO1xuICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgZGlzQ291bnRpbnVlZCA9IGZhbHNlO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhZGRDbGFzcyhtb2RhbCwgJ2luJyk7XG4gICAgICAgICAgICBhZGRDbGFzcyhkb2N1bWVudC5ib2R5LCAndnNtLW1vZGFsLW9wZW4nKTtcbiAgICAgICAgICAgIG1vZGFsLm9uVHJhbnNpdGlvbkVuZE9uY2UoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXF1ZXN0U3RlcChtb2RhbCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9LCA1MCk7XG4gICAgfVxuXG4gICAgdGhpcy5IaWRlID0gaGlkZU1vZGFscztcbn0iLCIvKiBleHBvcnRlZCBSaWRlU3R5bGVyVmlld3BvcnQgKi9cbmZ1bmN0aW9uIFJpZGVTdHlsZXJWaWV3cG9ydChlbGVtLCBvcHRpb25zKSB7XG5cbiAgICAvLyBVSSByZXNvdXJjZXNcbiAgICB2YXIgbG9hZGVyRGF0YSA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhJQUFnQVBZQUFQLy8vd0FBQVByNit0YlcxdHJhMnZ6OC9McTZ1b0NBZ0lxS2lzREF3UGIyOXVqbzZJaUlpSDUrZnFDZ29PYm01bkJ3Y0ZKU1VvS0NndVRrNVBMeThueDhmS0tpb3E2dXJqWTJOam82T2tCQVFHcHFhdHpjM1BUMDlIcDZlcWFtcHZqNCtNakl5RHc4UEd4c2JPcnE2cDZlbm5oNGVMNit2dExTMGpRME5EZzRPS3lzck1iR3hzek16Tzd1N3RUVTFEQXdNTFMwdEx5OHZLaW9xUER3OEc1dWJwS1NrdGpZMk9MaTRvYUdoaElTRWhBUUVDUWtKQTRPRGk0dUxwcWFtdURnNE43ZTN1enM3TEN3c0p5Y25KYVdsbUppWW82T2pwU1VsRVpHUmt4TVRGQlFVRVJFUkVwS1NwQ1FrTTdPemtoSVNFSkNRdERRME1MQ3drNU9UcGlZbUJvYUdpZ29LREl5TWhZV0ZoUVVGTGk0dUZwYVdsUlVWS1NrcEhKeWNsaFlXRjVlWG1Sa1pGeGNYRlpXVmlJaUlpQWdJQjRlSGlvcUtzckt5c1RFeEdob2FMYTJ0bVptWml3c0xLcXFxaGdZR0dCZ1lCd2NISFIwZEhaMmRyS3lzaVltSm9TRWhENCtQb3lNakF3TURBQUFBQUFBQUFBQUFBQUFBQUFBQUNIK0drTnlaV0YwWldRZ2QybDBhQ0JoYW1GNGJHOWhaQzVwYm1adkFDSDVCQUFGQUFBQUlmOExUa1ZVVTBOQlVFVXlMakFEQVFBQUFDd0FBQUFBSUFBZ0FBQUgvNEFBZ29PRWhZYUhpSW1LaTR5TmpvK1FrWktFQ3prMk5KT0NEeGNoZ3dVMU9qc1NtUW9RR0NJV2doUWlPejAxbnBBTEVSa1lHUTRBRkJxdFA0SUxOMEFDamdJU0doa3BHRElBTmp3K0tBQkNLTkV1anhNYkdpb3dvd0FFSElJVDBTZ1VrQndqR2lJemhrSXZLRGlTSkNzeHdZWWRtSThLRkIwRmpmcUxBZ1lNRWlTVUVKZW9BSkFCQkFnaUduQ2dRUVVQSmxnb0lnR3VXeUlDQ0Job1JOQkNFYlJvRmhFVlNPREF3b2NUSUJRVndFRWdpTUpFQ2hTa3pOVFBSUWRFRkY0NktzQUJ4WXRwaFVpc0F4THBXN1FKZ2tETXhBRk81eUlDMFY1Z0Vqcmc1a2NVUUIwOThFbENFRlFVUkFINENpTHZFUVVGZzI1RUN3S0xwaUNtS0JDNnVpMGtZSUxjdVhqejZ0M0xkMUlnQUNINUJBQUZBQUVBTEFBQUFBQWdBQ0FBQUFmL2dBQ0NnNFNGaG9lSWlZcUxqSTJPaHc4VGo0NFhLbGhiazRzS0VWWlpYQVdaZ3dzeExZTWRUSjFSQ3FFQUlBMUpTak9DRktoYVVTQ0NvSThrUmtwTVVMSUtWRlphWGFBTE4wQzZqQVZIUzAxUlRGTUFWVmM4WGdCQ0tOc3Vqd3NtUzFBYUNJSlNwUUFUMnlnVWswQWVTMG9YaGtJdktEaWhRakV5eTRRZE5KTWdPcXhxeEM5UkN5SkZrS3dZaUtnQWtBRUUyQ1dpNENDaERTZFNGSkZReDBFUmlDRVdRbHE0b1VqYnRvNktnQ1F3SU9PSkFFVUZjQkFJSW5HUmdJS3NHcnJvZ0loQ3pVY0ZncUI0MGEwUWlYcEFNajFRSjZrVkxnQTQxUDFreEdIYmkzOUhCL0EwaWFLb282TXZTQWdpc0MwcEFHUkJYazRTT09qR3RpQ0RGWENHU29kQ1NNNkdDN3plM2N1M3I5Ky9nQWNGQWdBaCtRUUFCUUFDQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam9Za1RqOFVqNDBTUEdVTWxZc2RTenhtU2lDYmcwSXlLSU0wVFR4blRBcWpBQ0FJWUdORGdoMVVxMUNpQUIyVkxsOWhaR0FYc0dTclhBVUtFak5BQlk0RlJHSmpYVjBzQUQ4K2FCOEFObUl0S0M2UEpBeGlYQkZJQUFJaElZSlZVeWdvbEk4VENOSXhoa0F2S0RpakxpZFR6Z3gxb0xFSnhDNUdBUmVSa0xGaXhaU0Rod29BR1VCQVhpSVdReTZzbU1GQkVRbDRLRG9xZW5LaTVBbCtpWVNBRkptSXdnQVVMNW9wS29DRFFCQ0xNMTg5YzlIckVBV2N6NExBREZlSWhENGdteGFBbkNESW9DQWNJSUV1RWdxVG9ORUJ2VlRDSStySXhZQVhKQVFSZ0ljVXdJSWJRUVFVUEhpRDdLQ0VPaE1CVElBbkpHN0VCVnp0NnQzTHQ2L2Z2WUVBQUNINUJBQUZBQU1BTEFBQUFBQWdBQ0FBQUFmL2dBQ0NnNFNGaG9lSWlZcUxqSTJPaGlSVkRoU1BqUWhZUGtlVml3cGpXRzVkSUp1REJUZEJneFJrV0doS0NxT0NLMThRVzRJZFhLc1JvZ0FQSFk4Rk5sOGJHMndBSUVhclJnVUtEVzRST0k4WEhsOXJiUzBBRGhrWWJ3QklXajF3VTQ4dVB4NFFZZzRBQlMxcGdtMDlaVWMwbFF0RTVTZUdSMWhFejVzVUlXa0ZEQWtBSXE5U0FRR09BaklDOFlMRkZCUUlFeFVBTW9BQUpVVTQxb1ZRczBBUkNSUWdPU3lhQUJLa0MwVkNTb3BVSkFESGpSc1RGaFhBUVNESVJabXZFcnJvZFlqQ1RWOUJVTHc0V1lqRUN4UkFObjBFR2JOWVJCd2xmeklpS1ZTZTBSdTlVcHFzUkdIQUFCS0NDSUJNQ21DQnFZaVBCS0M5TVpaVVRrSlVFSVc4UFZSZ0FkRzVlUFBxM2N0WGJ5QUFJZmtFQUFVQUJBQXNBQUFBQUNBQUlBQUFCLytBQUlLRGhJV0doNGlKaW91TWpZNkdRaFpESFkrTlNGRWlSWldMQ210UkdYRWdtNFFnQ29NZFlob1pZS2FqQUE5RVRtcUNuUm9xWTZJQUN5NlZDUWdIRFFrQUlCQWFHQ01BQ2hJcFNoeVBUellNRFI0b0FETlFVVU1BVlhKWk9qK1BIUmRPT1I0ckFBVlNUNElqM2pvWGxTN2pPU3lHTm5BN1lSU2JIU2d2aHlBTXZCSGlxbEVCZ3hOdTNNQ3hxQUNRQVFUMktYS0JvaUlLR29wSVdIUTIwZUpGUlVJMk5zU2hjTUpJQWtFa05peG8wQVdsUXhSVVBpb1F4Qit2UWlSZW9BQ3lTV05GazhNRUNNSmhVU2FqQ1JWZllNeDVnMUxJaWpjZEtTQXdnSVFnQWhWNTZyb0JSR2lsQWdjRjNjZzZLQ3hMQUVoUkVEeGJxQUNKcUd3STQ4cWRTN2Z1cUVBQUlma0VBQVVBQlFBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2R0xpdHNDbytOSlJGVU01V0xJQ1lSVFNNQ200a2RjNTlpSUlJZ0x3K1ZUMndvZ2dwMEVWQnJvZ3RmYmxGU2poTmVQMGhwQUFJTkVVbDBBQXBmWldkeVRyNHJGa1ZPQkFCMVlCRnNBRDkyemxaMWppQlRidzQyV3dBRkw3RUNSbVp5Y0VZVWp4UnFieVc5aFVmd1JpU2JJRUdDSEtMd3hvS1FVWTFBVUNqUWlBUUJBaE1XRldqUmdrQ0hSUlJRYUVSQlF4R0pqUnd3YnVTb1NBaElSZzl1M0lpb3FBQU9Ba0F1TW1LSXNGRUJGeklOVVppM3FVQVFGQzljR0NLeERzaW1qeHBaZ2hBRkFNZEdubzRlYUh6UmtlaU5peVkxQ24wRWdzQUFmd0FJYURRS1lNRU5JRXdyMFFSd1kreWd0VFVVQVV6UWVEQ3VvUUlrdHRyZHk3ZXYzNzk5QXdFQUlma0VBQVVBQmdBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2R0JRTURqNDVzSTIweWxJc2dERzFqQndXYWlRcDNubDhnZ2lBeVF4U1BKQ2dQcVoxY2RBSUFKQjRwYmtlT0Ntb3hGNU1DUjIxY0VnQUtGVEJvZG1PMmpCMGhxek00QURJalJwa09LY3c4UDQ4Y0xBWXJJUUFGTjVNRkkyNTJaUnV0amlBRUxGc2Noa1ZYWldza21nVWtDNGNvWFBqZ1FsUWpFRGo0TVNKQmdNQ0VSUlBBMk1sZ1lKR0NGeWd5MGxDRTVNd1ZIMjFRamNLb1VSRUJOZ2xZM0dDMDRNYU5oNG9LNENBQVJJSEJtNGdLdU9pQWlBSThTZ1dDb0hoUnNCQUpqRUEwdmNvSUU4UXpIQmxSL0d6MElPT0xqVWR2OEJRU3RXZzhBamNVRXNpWUZFQkxJTStBRHJwQmRsQW9uSUlSSm1RVUFoY1NDYTkxOCtyZHk3ZXZxRUFBSWZrRUFBVUFCd0FzQUFBQUFDQUFJQUFBQi8rQUFJS0RoSVdHaDRpSmlvdU1qWTZISUFLUGprRkZQMENUakI4Vlh4K1ppZ0kvRlJBTWtnQUNDV3dkandWQ05JSUNSS01Ia2tKM1VSbElqMEZQSVRnQUJRNFZOVWNGSURsNEtpbGlwb3NDTHlndFV5UUFJWGQwTFFBenVDbFlEbzlBS0ZJaE40SVRtQVYwR1Nrd1g2dU9JQnppQzRaRUtUNFFRcG10cjRZZGRTdGNmR29FWW9JK1JrSUlFSml3YUVJWU54cGtMQUlCRFFXS2Zvank2TmlZUklFaWloWXZLanJTbzJRVEVJc1czTGpCVU5FREQxU29oQmdJcWxtakFpN2VHYUpBNFZPQklDaGVDQ3hFQWhxbVNTUkN0b3drQ0VmSW5vOGVXSHp4cXVpTlZVSkNEb1ZINEFZMUFBUXNIbFVKcElEUFFUZkVEakpMYzlBRWl3Y1AyeFlxUUdLcjNMdDQ4K3JkaXpjUUFDSDVCQUFGQUFnQUxBQUFBQUFnQUNBQUFBZi9nQUNDZzRTRmhvZUlpWXFMakkyT2o1Q0hDbWtoQ3BHTFUwZ01NcGVKQlVPYVB3V0NBaXd5SFpBZGxnQUNGMGc1TmdJQUxrY1JUU1dQRXk4RFFnQUZkVWgzdUNCT1ZGQk1FTEtNQlRjb0tDOFVBQzgvQ0M4QVExMU5UQm96ajBET0tBK0NKT0lGRXRwNEZhaU9JQnpQTG9aZVRIZ2U4SkFGTHRHR0hWdDFOSjJNUUV6b3hVZ0lBUUlURmoxb2c0RUptMFVDQm9EN2w4aUdIQ3RXbElCUUZIR2lJaHRaUW1wY1pQQkdRa1VQeEloWThoRGdvUUlVbERuQ3Q4NFFCWDMzZ3J3elJPSUZDaUNSU0lBN0NVSVpEbkE0R3oxdzl1SmZ6eHVvaElDeng0N0FEUktDQ0RnRENtREJEUnlqSW9VRjBPem5vTEV1SnpnajZMSlFBUkpVQ3R2S25VdTNydDI1Z1FBQUlma0VBQVVBQ1FBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2UGtJZ2tDNUdNSEVNek41V0tMQmNPUTRNQ0wyb0trQ0FnZ2dXZEpSOEZBRFJFYldNZmp5UXZBMEtDYVJkRUZ3QUNKVVpjWFEydWpSd29LQzhVQUVCMUZod0FCckpkUzc2T09Na29ENEkwSklKT1kxMVVPYVdPSU1ndk5JWVhaT1Rya0FVdXpJWUtKMXZ3bTRvQ0QwRkN4b21FRUNBd1lSR1FHaHBVSlBtU3o1Q0FBZG9hR3JwanB5S1BLeklTRllDWVRHSWhCR1pDbXJGalFKRUxBamNLS25xd0lRb1RKazRFNkROVW9JUE5SL0k2SUdJeFJHZThJTXBjR0NLUjRFc2JvYlcwcVFRaEUwQTJLUTVRUUhxUVRCMEFXemQwQ3RHVzZ4RUlsTjhBRUVnR1JOQ0NHemdBNGh4MGcrd2d0Zm9USmlUck9yTlFBUkpJNityZHk3ZXZYNzZCQUFBaCtRUUFCUUFLQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam8rUWlDQUNrWXhDVHl3a2xZb0VhVElzZ3dVY1FKRWdCWU0zYVFZeWdoMXZIaVl0ajBJdk4wS0NuVnRUQUFVckpoQnJEbzhjS0NndkZBQkNMUVlUQUdvVndHSmJqempGS0ErQ0NqU0NEbDlyUmtnS2p5REVMOXVGV3h0eE51ZVBCUzdJaGlBc0ovR2JpZ0lMUUVEMmlFSUVCSm9wNGpDSFNoSW1ZbEFrRWpEQVdydERPVktrd0VJUndpbEVCQndxdXVPbVkwY0lpbHdRdUNFd0VRNElTcFJRbVVQZ25xRUNIV0plWlBTdXd5RVFRNGJZaEZRZ2lERVhoaHhvMFRJRzZDTVMxZ1JPRXBRR2loNGRNU0E5S0dZT0FJbGFOb1VZd0tPSENDUVFJelVCeUlpQ0ZJQUZNaXFVZEllcW1GbGVMaFFIVFNoMksyNmhBaVNNMnQzTHQ2L2Z2NXNDQVFBaCtRUUFCUUFMQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam8rUWlBV1JqUlEzQkFxVWlod29LQnlFSUpPUUJhSUFCSjB2Z2dvSlJCZVpqalEzTjBLQ3AxSURBQVV5UnprSEtJOUJxQlFBUWdNb0xnQlNOZ3dORForT09KMG9DNElncjNYTUpsNmxqQ0NjTDhPRmFnZDBEaDJSQlM3aGhTQlBJZWVhaXdJa09EanJpQzRFQkJPTFFBZGpaTHBBd0pYb1ZDY2FpbzR3aWNKUWd3ZEZCbEVnVEpRbmcwV0xEeE5SSUhDRG42SUpIc2lBQVZQaFdUeENCVHAwZU5Vb0hieENBbUxFZU9tb1FMQVh5QW94c0NMSFNFNUhKS1I1QkNGQVVKZ2RXcXl3Z2ZRQUZVSVNMMjZjUTZJRHFRTklJRGlTcU5VSkNBQUZEZHlJOFRocTBJMnVneDRVUFFsZ1FpZGFiQTRMRlNEeE02N2R1M2p6NnFVVUNBQWgrUVFBQlFBTUFDd0FBQUFBSUFBZ0FBQUgvNEFBZ29PRWhZYUhpSW1LaTR5TmpvK1FrWktFQ2tCQUFwT0pRQ2dvRDVtREJRV0RCSndjZ2dVRFV3U1FIVGMzUW9La0tFR0NUek1PRGpTUE9Kd3ZIUUJDQXdNVUFFRXJEa1ZWTG84VG5DZ0xnZ0lnZ2l3V1JVZDFrQ0FjS0MvRWhWSlZlUmNLa1FVdTM0VUNOd1BsbjRrRlFnOFB2NG9VQkFRVGl4TjVOVzFpRFZZbGtvVkNWNklmWkxwMGlSQWhoeUtDQmhFVmFVS1I0aDE3Qkc3b1UvVGdqcGlQT1dpOW82VEFYYU56OWRSdDJaTFNVWUVnM1pZVnlzUGp5b2FJalVnNDJ3Z0NFd0FqVnM3WU1RRHBRUzlkSkY3YytGWEVTbEF2MmpLU2lNVUpDQUFGRXJCd01XVnUwSTJxZ3haTWU5Y01CYXlSaEFxUWtJbTJyZHUzY0FUak5nb0VBQ0g1QkFBRkFBMEFMQUFBQUFBZ0FDQUFBQWYvZ0FDQ2c0U0Zob2VJaVlxTGpJMk9qNUNSa29RS1FEZ0NrNGs0S0NnUG1ZTUZCWU1FbkJ5REpCd1VrQjAzTjBLQ3BDaEJna0FzQmlHUUU1d3ZIUUJDQXdPcUpDRXlkV3lZamcrY0tBdUNBaUNDSE1VenVJOENIQ2d2cW9VNGRSOEowSkFGTHR1R09FSGhuNGdGTkNRa3lJa1VCQVFUaXd0RUJ4NG1TRUNLc1NnMEZIM1lzS2FOUVNUK2xnVk01R0RNbURBT2JTaVNkNk9lSWhKSHZueVpZd09IdWtJS0ZLUmpOSzZYSVFwdkxwaDhWQ0JJTmhlR2pyakJNdWZWSXhMTExJSUlLSUFMRHpRKzZDaDRwQ3hiUUJJdnZyQUJnSVFIanl0WVRqd0NRZUFHQ1Znb1BKQXBvT0JMbWFkZUlva1NkQU1Ga2EwQWFIakFvbVRBSjEwWEZJaUE0bkQxVXdFU0MwWiszTXUzcjkrL2tBSUJBQ0g1QkFBRkFBNEFMQUFBQUFBZ0FDQUFBQWYvZ0FDQ2c0U0Zob2VJaVlxTGpJMk9qNUNSa29RQ0V3c0ZrNGs0S0NnTG1ZT1lnd1NjSElNVUxwRWRCRGRDZ3FNb1FZSVRMeWc0a0JPY0x4MEFRZ01ERkx5Y0xTK1FDNXlkZ2dJZ3NpZ3Rha0NRQlJ3b0w4Q0ZRaTFUS0tHUEJTN1doa0tYbjR1bkhkeUlGQVFFRTR0Q0swVk9OaCt0aWE4b05Jb3hCdzBWRlI1YkZOM0xsK2pDbDRNSFl5aFNkNk9kSWlGRUpOeTU0d0FWT1VJZ01uWnpzY3VRaXhWc09uWUxRczBpSVJzWk5EUXcyWWpFTVlkUFNpbmdna1VGbmdNaUdUM0lsUStJQ2pRQnEvakFnZ0dQbDBjZ1ZwRVE5RUxGampFRlFIZ1lpbUdFZ0dpRFd2allRUWFURUFnK1V2ejQ5T0tLamlLbTJJVDhST0ZJbFp3WENPUEtuVXUzTHFSQUFDSDVCQUFGQUE4QUxBQUFBQUFnQUNBQUFBZi9nQUNDZzRTRmhvZUlpWXFMakkyT2o1Q1Jrb1FGSkNTVGlqZ29LQXVZaUFTYkhJTWRIWkVLSEFSQ2dxQW9RWUlUTHkrWGp3K2JMNlZDQXdNVUFFS2JyWkFMdjUwQUFpQ3Z2NnFQQlJ3b0w3eUZ2aWc0a2dVdTBJWVVOSjZNQ2hUSGl4UUVCQk9MSFZNckh5dFNpNndvMjRrc1ZVVklTRC93bjcvNGgxTU0vZ3cyWENnU2Q2UGN3RGRJYkJCaHg2MlFBQVVDbHJrb1pZaEdEQmtLSWhVSTRreGdvUjlOSWlEWXg0akVyM0lDV3JnQ0lVWURGQ3A1S0RhcTVXeGJEamxZREFCd0lFSkRFaW9ySG9FZ2NPTVNCUlU2NEJncEFFSkN6eVFtQ2tDU0NvQUVqS1JocExyd0lDS0tCVTl0a3Y0WVJNRUFSazhUanZ5UTJiQ3QyN2R3Qk9OR0NnUUFJZmtFQUFVQUVBQXNBQUFBQUNBQUlBQUFCLytBQUlLRGhJV0doNGlKaW91TWpZNlBrSkdTaEFVa0pKT0tFeWdvQzVpSUJKc2NneUFna1FvY0JFS0NvQ2hCZ2c4dkF6U1FENXN2SFFCQ0F6Y1V1WnNvT0pBTHY1MEFBZ0tDbXB1cWp3VWNLQys5aFVLYndaRUZMdEtHRkxPZWl3SWdCWXdVQkFRVDN5OXFDU3pNaWF3bzNZZzNkVU1YRnllTDcvR0hVaGIrRmdZV1VlQnc0NXlpRGdabXZJbHh5VnNoQWVLYXVjQmxpSVlNTmFVZ0ZRZ0N6WVVoTDJQYVZOSFdpTVN2Y3dLZUFBRUE0a3NFTG5HcUtIaFVDOW9zQkR4RTRQdEFKUUtZT0RFZWdTQnc0eElGUEZiS2JDZ0FJbzhTbnpraU9vb29CRVBTTnVKbzNLSFM1WTJuRVZaNGxCalVJYzJVbVpnbTJIQ0ExcUhidDNBRjQ4cVZGQWdBSWZrRUFBVUFFUUFzQUFBQUFDQUFJQUFBQi8rQUFJS0RoSVdHaDRpSmlvdU1qWTZQa0pHU2hBVWtRcE9LRHlnb0M1aUlCSnNjZ3lBRmtRb2NCSmNBb0NoQmdnOHZOeDJRbWlndnMwSUROeFFBUXBzb0Q1QUx2NTBBQWdLQ0U3K3FqZ1VjdHJ5RlFpOG9PSklGTHRHR0hUU2VqQVdsakJRRUJCT0xCVUFEQTBESWlxd28zWWtQVHkxcGFkYnV2L0dJUVRMK01xNFVVZUJ3dzV3aUVDMU9uSkFDd3BzaGNKQ3d6ZHJHNGtuRGlFRlFTQWxoNkFJRUR4OG1Pbkt4NmNnY1l5RlFHRHZRcGdhZER4Y2JhWHFEeFFzQUp6N3dHQUF3SkU2YkVYTVNQQUx4UWd3REFSU1MySUZod2xpVk1EOS9RQkpRREFjV096N2FJS1BneEVpYkdKZ1dxTUNxVlpDQ2pURWpVVkJpeDgwZGg0VVFMdUNoa2dadW9RY2s3T3JkeTVkUUlBQWgrUVFBQlFBU0FDd0FBQUFBSUFBZ0FBQUgvNEFBZ29PRWhZYUhpSW1LaTR5TmpvK1FrWktFQlNRdWs0b1BLQ2drbUlnRW14eURBZ1dSQ2h3RVFvS2dLRUdDRHdNRUlKQ2FLQzhkQUVJRE54UzVteWdMa0F1L3dRQ2tnaE8vcW84RkhMYTloVUl2S0RpU0JTN1FoaDAwbm95bGpSUUVCQk9MQlVDNzFZdXNLTnlKdzcvWm43L3RpTytiOFljVUhEZmtpZ1ZCTHdhazYwYndXaEFCaGtDZ3VJRVFVck1pV0g0WWtzSEF4aFlGa0lRZ01MTURnckUwTDR3NXFYRG5DSnVHaldaWTZRRm5Cb0FpR1pRa0FHQmdEc2s4TFI2bHllQW1qNEFPUzFMZ3VXUE15eHdQRXRoQUl2RkFFQWttS1VSOEtkWEJnb2s3VWpBOWpWcmptNEFicmpDNWFKSWlnd21DaFR4RWZZT1cwSUlTYndnd3RwMUx0NjZnUUFBaCtRUUFCUUFUQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam8rUWtaS0VCVUl1azRvUEtDZ2ttSWdFbXh5REJaSUtIQVJDZ3FBb1FZSVBBeHdDa0pvb0x4MEFRZ00zRkxpYktLbVBDNzRMZ2dLa0FCTyt2SThGSExYTGhFSXZLRGlTQlM3UWhSMDBub3pIakJRRUJCT0xCVUM2eEl1cktOeUp3cHUyNnI3dGlFSys4WW9VSERma2lnVTRCRGdBNjBZUVNBa1pzZ29KQ0lMam02TUpTWHJJS1dFb2hJTVZhUkk2cXJKREI1dzVBQVE4dVNGb2hvMFNIMXBBTXFFalM1a1ZBSWcwR2NNQ2dCb0VOb2g4ZVBDb2hZWVVUZ1IwR0JObGlSTUFCZXJnSkFJRWtwQjBRcFpFb1hLQUZJZ3RQd3lBd0JRMWlwSUszMjU1b2tIRzZ4MkNoZTU0cllPV0VJa1BkUWkydHAxTHQ2NmdRQUFoK1FRQUJRQVVBQ3dBQUFBQUlBQWdBQUFILzRBQWdvT0VoWWFIaUltS2k0eU5qbytRa1pLRUJVSXVrNG9QS0Nna21JZ0VteHlEQlpJS0hBUkNncUFvUVlJTE4wRUNrSm9vTHgwQVFnTTNGTGliS0ttUEM3NExnZ0trQUJPK3ZJOEZITFhMaEVJdktEaVNCUzdRaFIwMG5vekhqQlFFQkJPTEJVQzZuWXVyS055Sndwc0Rzb3JyN1loQ3Z2R0xGQnczNUlvRk9BaHdxTmV0R3c0SEorUVZJbkVwMGdRbFdYaFlNSFJEQm9zZzN4b2RnU09uVEFVQUJWNjBBbkJpeFpZcEl4MTVrR1BHelJBQVhyalVlQUpBaW9VVmJOU0FlUFFFQ3A0aUFoU3M2V0trQk1ncFhsYWMyUGxJQ0RFQUxzSjBpWE9FbElBWENhcGhjaEduUzVnOEdidlJFT1BWUnNGQ1I3d2FPQnZ0Z2dHbWJBYmp5cDBMSUJBQUlma0VBQVVBRlFBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2UGtKR1NoQVZDTHBPS0R5Z29KSmlJQkpzY2d3V1NDaHdFUW9LZ0tFR0NDemRBcEkrYUtDOGRBRUlETnhTNG15aThqd3UrQzRJQ3NoTyt3STRGSExYS2cwSXZLRGlTQlM3UGhCMDBub3l5akJRRUJCT0xCVUM2cVl1cktOdUpKTDQzM29nRGFna3huWWxDNy9HSExXRk5KcmNTRmNCQklBaTdSUjJFN09OR0NBZVJJU0FPdWJnVUtVZ1hNMjRjR0tJVjZ4R0pNR1d1K0pBQW9BQUJhZ0JRaEpDQzRzRWpCeUhkcUZnQjRFSU5DUU1BQkRteGtzQWpDWGJjcE1nalFJR0pOU1pvcHVRcHlwR1VDRkdLM0tKUll3MGRqU1dCQUZFQXljVTRRVFFnckpsRGhDRWhDblBXZkxGZ2xwQUR0V29OMmc2aUlJT0ZBTGw0OCtZTkJBQWgrUVFBQlFBV0FDd0FBQUFBSUFBZ0FBQUgvNEFBZ29PRWhZYUhpSW1LaTR5TmpvK1FrWktFQlVJdWs0b1BLQ2drbUlnRW14eURCWklLSEFSQ2dxQW9RWUlMTjBDa2o1b29MeDBBUWdNM0ZMaWJLTHlQQzc0TGdnS3lFNzdBamdVY3RjcURRaThvT0pJRkxzK0VIVFNlakxLTXVUY1Rpd1ZBdXBlS1FtQktOUkkzaWlTK0JJc2tLVDA5T3gvbzhZd1hUQ2sxMkFvVndFRWdTTUJESFZ4NDQyWm9nb1VZSUE2NU9BY0p5QmdmS3ZJVmdvY2kxaU1oYlh5a0VKRUhBRGxpQUlBTWUrUUV4a2dvZFFCc2tWQ2xGVWNVb2hxQjRKSWlReFFIQlVBd2FPRGtoS0FKMGg0OFlwQkJnNU9JRkNRMHlCTlRFQVdLalNqSU9LSEE2cDBHQ0lZd0pBUWlEOWd0WXdrWk9PQWtaMXFUSEFlb3ZaMUxsMjRnQUNINUJBQUZBQmNBTEFBQUFBQWdBQ0FBQUFmL2dBQ0NnNFNGaG9lSWlZcUxqSTJPajVDUmtvUUZRaTZUaWc4b0tDU1lpQVNiSEo0QUNrRUVRb0tnS0VHQ0pBUkFCWkNhS0M4ZEFFSUROeFMzbXlpN2p3dTlDNElDc1FBVHZiK09CUnkweW9OQ0x5ZzRrZ1V1ejRRZE5KRkNxSTNHakNzWU1HdWRpUVZBdWR1S1FoZzc3MitLSkwwRWl5UVpXVmx3TSt5OW9vdERtb2lZZzYxUUFSd0VnaFE4cE1BRnVGR0dIc3d3QU9JUWhZV0xjTFFSQWVXQ0lSTFNZRDBTQWdFUEV5cFZXbDBDQUVUWW95b21sWEF4QUVETmp5SERoUFFDNGdoRUd5Wk51c3dvSUlCSWtSbFNCRDE0OGNKYkl5ZE5JaENwU01OR2tROHNCblZRQUtuREZEVmNBWFFvVXNTTEdvaUVCSHdvWWdFRldrSTREUzRrV1BkVzBNTzZlUFBXRFFRQUlma0VBQVVBR0FBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2UGtKR1NoQVZDTHBPS0R5Z29KSmlJQkpzY25nQUtRUVJDZ3FBb1FZSWtCRUFGa0pvb0x4MEFRZ00zRkxlYktMdVBDNzBMZ2dLeEFCTzl2NDRGSExUS2cwSXZLRGlTQlM3UGhCMDBrUzZvamNhTVF5SVlJNTJKQlVBREJOaUdRbmhXY0hBWGlpUzlvb3BDVVdabVpXLzQ5b3hpZEVuaWdSMGxIQVNDR0RTa2dBYTRVWVlXWEVnZzRCQ0ZoWW9tekZIQ2hZMGhFdEtBUUhKUmdRcVpPRjRFMFZBZ0NFZ3ZiNDBjTENFVFpvUWFBRkppcE5rbHBOY0VSeURtMEZ3VG80Q0FJVVBVVUFQdzRNVUFqSWFJaEduenBtS0hHVU9tM0NNRkFsS0hFQzJNZ2Jnd0pNRldpSUpZRERreERPMGdCVGNLZnJxZFM3ZXVYVU9CQUFBaCtRUUFCUUFaQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam8rUWtaS0VCVUl1azRvUEtDZ2ttSWdFbXh5ZUFBcEJCRUtDb0NoQmdpUUVRQVdRTWkwb0x4MEFRZ00zRkxpYktMeVBPUkMwQzRJQ3NRQVR2c0NPUUZCZlQ4eURRaThvT0pJNERzV0hIVFNQQlM0a1FnS055SW9rWHhvWklodW9pUVZBQXdTM2lWNTJkanc4WlE3bnZxS0pNOXdJRk9oRmtSQmZyQktSb05NRXlwSUdsOTdoZUtWZ1VTVVNFVWNoSXNFbUJEbERGS1E1V25BZ1RvMEVoa2hVQXdLSkJvSTRHK2pVRWFRQWhDQWd2dHcxZW1Oa3d4d0pUd0FFZVRMZzFzRk4yeGdKa0xEaFM0VVRBQXF3b01VU3dBTjVGUjNOY01xR25BQTF0UDRCT0FaSmdaUVh5QXFrb2FxeEVKQW5MdzFFdHFXUXRhM2R1M2p6S2dvRUFDSDVCQUFGQUJvQUxBQUFBQUFnQUNBQUFBZi9nQUNDZzRTRmhvZUlpWXFMakkyT2o1Q1Jrb1FGUWk2VGlnOG9LQ1NZZ3gwRmd3U2JISjRBYVUwL1FvS2pLRUdDSkFSQW9ZOXpQU2tHSFFCQ0F6Y1V1NXNvdjQ4U096MUdENElDdEJQQnc0NDRTVHRsVDRaQ0x5ZzRramcvYkxTRkhUU1BCVFNXQW8zZmlTd2JUVXhKWDUySkJVQURCTHFJSUVaWSt6QXdTSW9rZ3IzQ3R5R0RRWU1PRkFrSkJrUlJpdzFreUl4aEVBOVJBUnl5UUN3Q0lVU0lPRk9KWENSNGttNFFoV2VQU0RpWmM2ZUZJUkxZR2o2aVVJWE9nVHdKQklIUUNBQkhzSStOMkpnNGdPREhEUUF3QitoYXVHbkJJeUlIR0NCeENhQ1Z6QVgxZURaU2s2ZUltbEFGYm13YUNLQkFTVVlUa29uYXBBMGtJVjRFRFJTNExXUjJydDI3ZVBNZUNnUUFJZmtFQUFVQUd3QXNBQUFBQUNBQUlBQUFCLytBQUlLRGhJV0doNGlKaW91TWpZNlBrSkdTaEFWQ0xwT0tEeWdvSkppREZFS0RCSnNjbmdBdFRTbEZncU1vUVlJa0JFQUZrQjVaT2xZR0FFSUROeFM3bXlpL2p3eHdXanNTZ2dLMEFCUEJ3NDQ0VkhCbkY0WkNMeWc0a2hNbFc4eUZIVFNQQlRSQ05PQ0s2WWhwYzJSTEVSNmhpUVZBQXdRZGlTQTFVVkVhR25pSUtDSVI3QlVpQVhTYUtGUTRRNUdRWUVBVVNUSFJwczBJRy9NUUZjQWhDOFFpRUM1Y1FETjFpRWFhRytzRVVSanB5SVdGUEQ5dUdDS1JMZUlqRUcrT1ZQbUFRaEFJandCd0JCdm5DSVdUS2w1aVBBQkFjMEMraDVzNkZhMWk0Y0lBVnB0c0xyZ0h0SkdDRTJ4a0FpaHdZNVBCc1NrWkNTREVZZE1Da29VT0tIRGcwQld1M2J0NDgrcGRGQWdBSWZrRUFBVUFIQUFzQUFBQUFDQUFJQUFBQi8rQUFJS0RoSVdHaDRpSmlvdU1qWTZQa0pHU2hBVkNMcE9LRHlnb0pKaURORUtEQkpzY25nQXRVQmxWZ3FNb1FZSWtCRUFGa0FkbVZtVXlBRUlETnhTN215aS9qMGM4WjFZNWdnSzBBQlBCdzQ0VFpEeDJkWVpDTHlnNGtoTmVNc3lGSFRTUEJSUXVOT0NLNlloU0IySmhjVG5qaVFWQUF3UUtpUUlWWFYwUlMwc3VLQ0lSRElpK08yTVNKaHlpU0VoQlJRTVltRERSd01FOFJBVnd5QUt4U0FBRkdoMU1LZXJ3d3VBaEN0QWVVWWpoaGMwRFF5U3ltWHgwNGtPZEtkc0FnT0FJQU1lelJ5UlcxRG54WkZ6TUFTRWRicnJreUFVYkdXbGVBbWhsY3NHTklBSWcyZXNFb01DTlRhOEVyWnNVWk5NQ2tZVVVCSmt3RnEzYnQzQUY0OHBGRkFnQUlma0VBQVVBSFFBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2UGtKR1NoQThYTHBPRUN4T0VYMDFTSkpnQVUwbDRKWUlVS2twU0hLRVZibGR1UkFBVUdXUW9RWUlrQkVBRmowNHdiblpvQmdCT2JUY1VBRUlvek1tT0QyRXdhRHdWZ2hPOUFCUE1LTTZPTjlFK0ZvWkNMeWc0a2c4ZkZ3S0hIVFNRN2hUWWkvT0pMMGR6RUJCTzc0a0ZRQU1JS0Vna0lNK2FObTNFR0dHamlNUTJJUDZRZkprNGtWaWlaY3dnSnVKUUJRRUNKeGU2SFNxQVl4ZUlSUUk2VUJnWVNwRUNIRUlRVVJEcENFU0lCRTh1RlNKUlR1T2pGMU9lb05nRUFNUkpBRGkyMFhRWlF1aUxkendIZEZDMlRXZWpBZ05RdkFBRmdFQkdRUXR1NEtqSFNNRUNxemVZNFJKRWRoSVFaZ3NQV2hvU01PR2EzTHQ0OCtyZGl5a1FBQ0g1QkFBRkFCNEFMQUFBQUFBZ0FDQUFBQWYvZ0FDQ2c0U0Zob2VJaVlxTGpJMk9qNUNSa29RTFJUTUtrNEpDRnlHRWREczZSNWtDQnhnaUZvSVVlRHM5SnBrMFhCa3BLZzRBRkJxc1JJSWtCRUFGand3YUdWZ1lNZ0EyUEZnb0FFSW96aFNQRXhzYUtqQVNnZ1FQZ2hQT0tOQ1BIQ01hSWpPR1FpOG9PSklrS3pFQ2h4MDBrQW9VSGIrTTk0cENGamtTRWlYZkVCVUFNb0FBcGtSREdsVHc0TUZFQWtVa3VnRlJGSU9CUllzczlFbFU1SUtOQXdjZlRuUlFWQUJITHhDTUZDaEFtV21SQUJjakQxRUkrS2dBQnhRdlhCZ2lnVzRpSkc3T0pnZ0N3UkpITjVxTUNEaDdJWS9uZ0pITm5rRUNncE1FTm1jK0Y5eFFCNm1BaTRNQWJqZ0xNaWhmUzZNb3JMWTBKT0NCMnJWd0IrUEtuVXRYYmlBQU93QUFBQUFBQUFBQUFEeGljaUF2UGdvOFlqNVhZWEp1YVc1blBDOWlQam9nSUcxNWMzRnNYM0YxWlhKNUtDa2dXenhoSUdoeVpXWTlKMloxYm1OMGFXOXVMbTE1YzNGc0xYRjFaWEo1Sno1bWRXNWpkR2x2Ymk1dGVYTnhiQzF4ZFdWeWVUd3ZZVDVkT2lCRFlXNG5kQ0JqYjI1dVpXTjBJSFJ2SUd4dlkyRnNJRTE1VTFGTUlITmxjblpsY2lCMGFISnZkV2RvSUhOdlkydGxkQ0FuTDNaaGNpOXlkVzR2YlhsemNXeGtMMjE1YzNGc1pDNXpiMk5ySnlBb01pa2dhVzRnUEdJK0wyaHZiV1V2WVdwaGVHeHZZV1F2ZDNkM0wyeHBZbkpoYVhKcFpYTXZZMnhoYzNNdWJYbHpjV3d1Y0dod1BDOWlQaUJ2YmlCc2FXNWxJRHhpUGpZNFBDOWlQanhpY2lBdlBnbzhZbklnTHo0S1BHSStWMkZ5Ym1sdVp6d3ZZajQ2SUNCdGVYTnhiRjl4ZFdWeWVTZ3BJRnM4WVNCb2NtVm1QU2RtZFc1amRHbHZiaTV0ZVhOeGJDMXhkV1Z5ZVNjK1puVnVZM1JwYjI0dWJYbHpjV3d0Y1hWbGNuazhMMkUrWFRvZ1FTQnNhVzVySUhSdklIUm9aU0J6WlhKMlpYSWdZMjkxYkdRZ2JtOTBJR0psSUdWemRHRmliR2x6YUdWa0lHbHVJRHhpUGk5b2IyMWxMMkZxWVhoc2IyRmtMM2QzZHk5c2FXSnlZV2x5YVdWekwyTnNZWE56TG0xNWMzRnNMbkJvY0R3dllqNGdiMjRnYkdsdVpTQThZajQyT0R3dllqNDhZbklnTHo0S1BHSnlJQzgrQ2p4aVBsZGhjbTVwYm1jOEwySStPaUFnYlhsemNXeGZjWFZsY25rb0tTQmJQR0VnYUhKbFpqMG5ablZ1WTNScGIyNHViWGx6Y1d3dGNYVmxjbmtuUG1aMWJtTjBhVzl1TG0xNWMzRnNMWEYxWlhKNVBDOWhQbDA2SUVOaGJpZDBJR052Ym01bFkzUWdkRzhnYkc5allXd2dUWGxUVVV3Z2MyVnlkbVZ5SUhSb2NtOTFaMmdnYzI5amEyVjBJQ2N2ZG1GeUwzSjFiaTl0ZVhOeGJHUXZiWGx6Y1d4a0xuTnZZMnNuSUNneUtTQnBiaUE4WWo0dmFHOXRaUzloYW1GNGJHOWhaQzkzZDNjdmJHbGljbUZwY21sbGN5OWpiR0Z6Y3k1dGVYTnhiQzV3YUhBOEwySStJRzl1SUd4cGJtVWdQR0krTmpnOEwySStQR0p5SUM4K0NqeGljaUF2UGdvOFlqNVhZWEp1YVc1blBDOWlQam9nSUcxNWMzRnNYM0YxWlhKNUtDa2dXenhoSUdoeVpXWTlKMloxYm1OMGFXOXVMbTE1YzNGc0xYRjFaWEo1Sno1bWRXNWpkR2x2Ymk1dGVYTnhiQzF4ZFdWeWVUd3ZZVDVkT2lCQklHeHBibXNnZEc4Z2RHaGxJSE5sY25abGNpQmpiM1ZzWkNCdWIzUWdZbVVnWlhOMFlXSnNhWE5vWldRZ2FXNGdQR0krTDJodmJXVXZZV3BoZUd4dllXUXZkM2QzTDJ4cFluSmhhWEpwWlhNdlkyeGhjM011YlhsemNXd3VjR2h3UEM5aVBpQnZiaUJzYVc1bElEeGlQalk0UEM5aVBqeGljaUF2UGdvOFluSWdMejRLUEdJK1YyRnlibWx1Wnp3dllqNDZJQ0J0ZVhOeGJGOXhkV1Z5ZVNncElGczhZU0JvY21WbVBTZG1kVzVqZEdsdmJpNXRlWE54YkMxeGRXVnllU2MrWm5WdVkzUnBiMjR1YlhsemNXd3RjWFZsY25rOEwyRStYVG9nUTJGdUozUWdZMjl1Ym1WamRDQjBieUJzYjJOaGJDQk5lVk5SVENCelpYSjJaWElnZEdoeWIzVm5hQ0J6YjJOclpYUWdKeTkyWVhJdmNuVnVMMjE1YzNGc1pDOXRlWE54YkdRdWMyOWpheWNnS0RJcElHbHVJRHhpUGk5b2IyMWxMMkZxWVhoc2IyRmtMM2QzZHk5c2FXSnlZV2x5YVdWekwyTnNZWE56TG0xNWMzRnNMbkJvY0R3dllqNGdiMjRnYkdsdVpTQThZajQyT0R3dllqNDhZbklnTHo0S1BHSnlJQzgrQ2p4aVBsZGhjbTVwYm1jOEwySStPaUFnYlhsemNXeGZjWFZsY25rb0tTQmJQR0VnYUhKbFpqMG5ablZ1WTNScGIyNHViWGx6Y1d3dGNYVmxjbmtuUG1aMWJtTjBhVzl1TG0xNWMzRnNMWEYxWlhKNVBDOWhQbDA2SUVFZ2JHbHVheUIwYnlCMGFHVWdjMlZ5ZG1WeUlHTnZkV3hrSUc1dmRDQmlaU0JsYzNSaFlteHBjMmhsWkNCcGJpQThZajR2YUc5dFpTOWhhbUY0Ykc5aFpDOTNkM2N2YkdsaWNtRnBjbWxsY3k5amJHRnpjeTV0ZVhOeGJDNXdhSEE4TDJJK0lHOXVJR3hwYm1VZ1BHSStOamc4TDJJK1BHSnlJQzgrQ2c9PSc7XG5cbiAgICAvLyBWaWV3cG9ydCBlbGVtZW50c1xuICAgIC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovXG4gICAgdmFyIGNvbnRhaW5lciAgPSBudWxsO1xuICAgIHZhciBsb2FkZXIgPSBudWxsO1xuICAgIHZhciByZW5kZXJlciA9IG51bGw7XG5cbiAgICAvLyBTdG9yZXMgdGhlIGN1cnJlbnQgdmVoaWNsZSBzdGF0ZSBmb3IgdGhlIHZlaGljbGVcbiAgICB2YXIgc3RhdGUgPSB7IH07XG5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnN0YXRlKSB7XG4gICAgICAgIHN0YXRlID0gb3B0aW9ucy5zdGF0ZTtcbiAgICB9XG5cbiAgICAvLyBBdHRlbXB0IHRvIGZpbmQgb3VyIGNvbnRhaW5lciBiYXNlZCBvbiB0aGUgc2VsZWN0aW9uIHN0cmluZyBpZiB3ZSBjYW5cbiAgICBpZiAodHlwZW9mIGVsZW0gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlbGVtKTtcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtWzBdID09PSAnLicpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZWxlbS5zdWJzdHJpbmcoMSkpO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1bMF0gPT09ICcjJykge1xuICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbS5zdWJzdHJpbmcoMSkpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZWxlbSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gSXMgdGhpcyBhIERPTSBlbGVtZW50XG4gICAgICAgIGlmIChlbGVtLnRhZ05hbWUpIHtcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGVsZW07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBNYWtlIHN1cmUgd2UgY2FuIGZpbmQgb3VyIGVsZW1lbnQgdGhhdCB3ZSBhcmUgdHJ5aW5nIHRvIHVzZSBmb3IgdGhpcyB2aWV3ZXJcbiAgICBpZiAoIWNvbnRhaW5lcikgY29uc29sZS5lcnJvcignQ291bGQgbm90IGZpbmQgZWxlbWVudCBzcGVjaWZpZWQgZm9yOiAnICsgZWxlbSk7XG5cbiAgICAvLyBQcmVwYXJlIHRoZSBjb250YWluZXIgc28gaXQgY2FuIHByb3Blcmx5IHdyYXAgdGhlIGNvbnRlbnRzXG4gICAgdmFyIGlzT2Zmc2V0UG9zaXRpb25lZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uO1xuICAgICAgICB2YXIgaXNPZmZzZXRQb3NpdGlvblZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWUgPT09ICdmaXhlZCcgfHwgdmFsdWUgPT09ICdhYnNvbHV0ZScgfHwgdmFsdWUgPT09ICdyZWxhdGl2ZSc7XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGlzT2Zmc2V0UG9zaXRpb25WYWx1ZShwb3NpdGlvbikpIHJldHVybiB0cnVlO1xuXG4gICAgICAgIC8qKiBAdHlwZSB7Q1NTU3R5bGVEZWNsYXJhdGlvbn0gKi9cbiAgICAgICAgdmFyIGNhbGN1bGF0ZWRTdHlsZSA9ICdnZXRDb21wdXRlZFN0eWxlJyBpbiB3aW5kb3cgPyBnZXRDb21wdXRlZFN0eWxlKGNvbnRhaW5lcikgOiBjb250YWluZXIucnVudGltZVN0eWxlO1xuXG4gICAgICAgIGlmICghY2FsY3VsYXRlZFN0eWxlKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIGlzT2Zmc2V0UG9zaXRpb25WYWx1ZShjYWxjdWxhdGVkU3R5bGUucG9zaXRpb24pO1xuICAgIH0oKTtcblxuICAgIC8vIElmIHdlJ3JlIG5vdCBwb3NpdGlvbmVkIHVzaW5nIG9mZnNldCBwb3NpdGlvbmluZywgc2V0IHJlbGF0aXZlIHBvc2l0aW9uaW5nIG9uIHRoZSBjb250YWluZXJcbiAgICBpZiAoIWlzT2Zmc2V0UG9zaXRpb25lZClcbiAgICAgICAgY29udGFpbmVyLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblxuICAgIC8vIENyZWF0ZSBvdXIgb3RoZXIgcmVxdWlyZWQgZWxlbWVudHNcbiAgICBjcmVhdGVMb2FkZXJFbGVtZW50KCk7XG5cbiAgICAvLyBGaWd1cmUgb3V0IHdoaWNoIHZlcnNpb24gb2Ygb3VyIHZpZXdlciB3ZSB3YW50IHRvIHVzZVxuICAgIGlmIChpc0NhbnZhc1N1cHBvcnRlZCgpID09IGZhbHNlKSB7IC8vIFRPRE86IE5FRUQgVE8gUkVNT1ZFIFRIRSBGQUxTRSBSRVFVSVJFTUVOVCAtIFdFIEFSRSBGTElQUElORyBGT1IgREVCVUdcblxuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbmRlcmVyID0gbmV3IFJpZGVTdHlsZXJJbWFnZVJlbmRlcmVyKGNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgdGhpcy5VcGRhdGUgPSBmdW5jdGlvbihpbnN0cnVjdGlvbnMpIHtcblxuICAgICAgICAvLyBNYWtlIHN1cmUgb3VyIGluc3RydWN0aW9ucyBhcmUgaW4gYW4gb2JqZWN0IGZvcm1hdFxuICAgICAgICBpbnN0cnVjdGlvbnMgPSBwcmVwYXJlQXJndW1lbnRzKGluc3RydWN0aW9ucyk7XG5cbiAgICAgICAgLy8gSW5qZWN0IG91ciB2YXJpYWJsZXMgYmFzZWQgb24gZ2xvYmFsIHBhcmFtc1xuICAgICAgICBpbnN0cnVjdGlvbnNbJ3dpZHRoJ10gPSBjb250YWluZXIuY2xpZW50V2lkdGg7XG4gICAgICAgIGluc3RydWN0aW9uc1snaGVpZ2h0J10gPSBjb250YWluZXIuY2xpZW50SGVpZ2h0O1xuXG4gICAgICAgIC8vIFVwZGF0ZSBvdXIgaW50ZXJuYWwgc3RhdGUgYW5kIHdhdGNoIGZvciBjaGFuZ2VzXG4gICAgICAgIHZhciBoYXNDaGFuZ2VzID0gZmFsc2U7XG4gICAgICAgIGZvcih2YXIgeCBpbiBpbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciB2MSA9IHN0YXRlW3hdO1xuICAgICAgICAgICAgdmFyIHYyID0gaW5zdHJ1Y3Rpb25zW3hdO1xuICAgICAgICAgICAgaWYgKHYxICE9IHYyKSB7XG4gICAgICAgICAgICAgICAgc3RhdGVbeF0gPSB2MjtcbiAgICAgICAgICAgICAgICBoYXNDaGFuZ2VzID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHdlIGRpZG4ndCBtYWtlIGFueSBjaGFuZ2VzIHRvIG91ciBpbnRlcm5hbCBzdGF0ZSB3ZSBkb24ndCBuZWVkIHRvIHBlcmZvcm0gYW4gdXBkYXRlXG4gICAgICAgIGlmIChoYXNDaGFuZ2VzID09IGZhbHNlKSB7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHJpZGVzdHlsZXIucHJvbWlzZSgpO1xuXG4gICAgICAgICAgICBwcm9taXNlLnJlc29sdmUoKTtcblxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVuZGVyZXIuUmVuZGVyKHN0YXRlKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gcHJlcGFyZUFyZ3VtZW50cyhhcmdzKSB7XG4gICAgICAgIHZhciB2YWx1ZXMgPSB7fTtcblxuICAgICAgICBpZiAodHlwZW9mIGFyZ3MgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW5zID0gYXJncy5zcGxpdCgnPycpO1xuICAgICAgICAgICAgdG9rZW5zID0gKHRva2Vucy5sZW5ndGggPT0gMSA/IHRva2Vuc1swXSA6IHRva2Vuc1sxXSkuc3BsaXQoJyYnKTtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIga3YgPSB0b2tlbnNbaV0uc3BsaXQoJz0nKTtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gZGVjb2RlVVJJQ29tcG9uZW50KGt2WzBdKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gU2tpcCBvdmVyIHZhcmlhYmxlcyB0aGF0IGFyZSBub3QgdXNlZCBmb3IgcmVuZGVyaW5nXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PSAna2V5JyB8fCBrZXkgPT0gJ3Rva2VuJykgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICB2YWx1ZXNba2V5XSA9IGRlY29kZVVSSUNvbXBvbmVudChrdlsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBNYWtlIHN1cmUgYWxsIGtleXMgYXJlIGluIGxvd2VyIGNhc2VcbiAgICAgICAgICAgIGZvcih2YXIgayBpbiBhcmdzKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzW2sudG9Mb3dlckNhc2UoKV0gPSBhcmdzW2tdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBpc0NhbnZhc1N1cHBvcnRlZCgpIHtcbiAgICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgcmV0dXJuICEhKGVsZW0uZ2V0Q29udGV4dCAmJiBlbGVtLmdldENvbnRleHQoJzJkJykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJJbWFnZVJlbmRlcmVyKGNvbnRhaW5lcikge1xuICAgICAgICB2YXIgYWN0aXZlSW1hZ2UgPSBudWxsO1xuICAgICAgICB2YXIgcmV0aXJlZEltYWdlcyA9IFtdO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJuIHtSaWRlU3R5bGVyUHJvbWlzZX1cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuUmVuZGVyID0gZnVuY3Rpb24oaW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlTmV3TGF5ZXIoaW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7UmlkZVN0eWxlclByb21pc2V9XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVOZXdMYXllcihpbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gcmlkZXN0eWxlci5wcm9taXNlKCk7XG5cbiAgICAgICAgICAgIC8vIFNob3cgb3VyIGxvYWRlciBzaW5jZSB3ZSBhcmUgY3JlYXRpbmcgYSBuZXcgbGF5ZXJcbiAgICAgICAgICAgIHNob3dMb2FkZXJFbGVtZW50KCk7XG5cbiAgICAgICAgICAgIHZhciBpbWFnZVVybCA9IHJpZGVzdHlsZXIuYWpheC51cmwoJ1ZlaGljbGUvUmVuZGVyJywgaW5zdHJ1Y3Rpb25zKTtcblxuICAgICAgICAgICAgLy8gUmV0aXJlIG91ciBhY3RpdmUgaW1hZ2UgaWYgaXQgaXMgYXZhaWxhYmxlXG4gICAgICAgICAgICBpZiAoYWN0aXZlSW1hZ2UgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldGlyZWRJbWFnZXMucHVzaChhY3RpdmVJbWFnZSk7XG4gICAgICAgICAgICAgICAgYWN0aXZlSW1hZ2UgPSBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBGaW5kIGFsbCBvZiBvdXIgb2xkIGltYWdlcyBhbmQgZmFkZSB0aGVtIHRvIGhhbGYgdHJhbnNwYXJlbnQgKGlmIHRoZXkgYXJlIHZpc2libGUpXG4gICAgICAgICAgICBmb3IodmFyIGkgPSByZXRpcmVkSW1hZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9pbWcgPSByZXRpcmVkSW1hZ2VzW2ldO1xuXG4gICAgICAgICAgICAgICAgLy8gUGFydGlhbGx5IGZhZGUgb3V0IG91ciByZXRpcmVkIGltYWdlc1xuICAgICAgICAgICAgICAgIGlmIChvaW1nLnN0eWxlLm9wYWNpdHkgPiAwLjUpIG9pbWcuc3R5bGUub3BhY2l0eSA9IDAuNTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gQ3JlYXRlIGEgbmV3IGltYWdlIGVsZW1lbnQgZm9yIHRoZSBjdXJyZW50IHJlbmRlciByZXN1bHRcbiAgICAgICAgICAgIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgIGltZy5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICBpbWcuc3R5bGUubGVmdCA9IDA7XG4gICAgICAgICAgICBpbWcuc3R5bGUudG9wID0gMDtcbiAgICAgICAgICAgIGltZy5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIGltZy5zdHlsZS50cmFuc2l0aW9uID0gJ29wYWNpdHkgbGluZWFyIDMwMG1zJztcblxuICAgICAgICAgICAgLy8gQWRkIG91ciBuZXcgaW1hZ2UgbGF5ZXIgdG8gdGhlIERPTVxuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGFjdGl2ZUltYWdlID0gaW1nKTtcblxuICAgICAgICAgICAgLy8gTGlzdGVuIGZvciBvdXIgbmV3IGxheWVyIHRvIGJlY29tZSByZWFkeSBhbmQgZGlzcGxheSBpdCB0byB0aGUgdXNlci4gQWxzbywgY2xlYW51cCBhbnkgbGVnYWN5IGxheWVycy5cbiAgICAgICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IGZhZGUgaW4gdGhpcyBJTUcgaWYgaXQgaGFzbid0IGFscmVhZHkgYmVlbiByZXBsYWNlZC5cbiAgICAgICAgICAgICAgICBpZiAoaW1nID09IGFjdGl2ZUltYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkZXJFbGVtZW50KCk7XG4gICAgICAgICAgICAgICAgICAgIGltZy5zdHlsZS5vcGFjaXR5ID0gMTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcmVtb3ZlZEltYWdlcyA9IHJldGlyZWRJbWFnZXMuc3BsaWNlKDAsIHJldGlyZWRJbWFnZXMubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmFkZSBhbGwgb2Ygb3VyIG9sZCBpbWFnZXMgb3V0IG9mIHZpZXdcbiAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHJlbW92ZWRJbWFnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZWRJbWFnZXNbaV0uc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGVsZW1lbnRzIGFmdGVyIHRoZXkgaGF2ZSBoYWQgYSBjaGFuY2UgdG8gZmFkZSBvdXRcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCByZW1vdmVkSW1hZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnJlbW92ZUNoaWxkKHJlbW92ZWRJbWFnZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlLnJlamVjdCgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gU3RhcnQgbG9hZGluZyBvdXIgaW1hZ2VcbiAgICAgICAgICAgIGltZy5zcmMgPSBpbWFnZVVybDtcblxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVMb2FkZXJFbGVtZW50KCkge1xuICAgICAgICBsb2FkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcblxuICAgICAgICAvLyBTZXQgb3VyIGltYWdlXG4gICAgICAgIGxvYWRlci5zcmMgPSBsb2FkZXJEYXRhO1xuXG4gICAgICAgIC8vIFNldHVwIHN0eWxlIG9mIHRoZSBlbGVtZW50XG4gICAgICAgIGxvYWRlci5zdHlsZS5wYWRkaW5nID0gJzVweCc7XG4gICAgICAgIGxvYWRlci5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnMjFweCc7XG4gICAgICAgIGxvYWRlci5zdHlsZS5iYWNrZ3JvdW5kID0gJyNmZmYnO1xuICAgICAgICBsb2FkZXIuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgIGxvYWRlci5zdHlsZS50cmFuc2l0aW9uID0gJ29wYWNpdHkgbGluZWFyIDMwMG1zJztcblxuICAgICAgICAvLyBQb3NpdGlvbiBpbiBvdXIgY29udGFpbmVyXG4gICAgICAgIGxvYWRlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGxvYWRlci5zdHlsZS5sZWZ0ID0gJzUwJSc7XG4gICAgICAgIGxvYWRlci5zdHlsZS50b3AgPSAnNTAlJztcbiAgICAgICAgbG9hZGVyLnN0eWxlLnpJbmRleCA9ICc1MCc7XG5cbiAgICAgICAgLy8gT2Zmc2V0IGZvciBzaXplXG4gICAgICAgIGxvYWRlci5zdHlsZS5tYXJnaW5MZWZ0ID0gJy0yMXB4JztcbiAgICAgICAgbG9hZGVyLnN0eWxlLm1hcmdpblRvcCA9ICctMjFweCc7XG5cbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGxvYWRlcik7XG4gICAgICAgIHNob3dMb2FkZXJFbGVtZW50KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2hvd0xvYWRlckVsZW1lbnQoKSB7XG4gICAgICAgIGxvYWRlci5zdHlsZS5vcGFjaXR5ID0gMC43NTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoaWRlTG9hZGVyRWxlbWVudCgpIHtcbiAgICAgICAgbG9hZGVyLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgIH1cbn1cblxuIiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGV2ZW50cztcbiAgICAoZnVuY3Rpb24gKGV2ZW50cykge1xuICAgICAgICA7XG5cbiAgICAgICAgdmFyIEV2ZW50SGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIEV2ZW50SGFuZGxlcigpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRXZlbnRIYW5kbGVyKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyA9IHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBMaXN0ZW4gZm9yIGFuIGV2ZW50XG4gICAgICAgICAgICAgKiBAcGFyYW0gZXZlbnROYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudCB0byBsaXN0ZW4gZm9yXG4gICAgICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgIFRoZSBjYWxsYmFjayB0byBydW4gd2hlbiB0aGUgZXZlbnQgaXMgdHJpZ2dlcmVkXG4gICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoRXZlbnRIYW5kbGVyLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ29uJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb24oZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnROYW1lIGluIHRoaXMuZXZlbnRIYW5kbGVycyA9PT0gZmFsc2UpIHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdID0gW107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTdG9wIGxpc3RlbmluZyBmb3IgYW4gZXZlbnRcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gZXZlbnROYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudCB0byBzdG9wIGxpc3RlbmluZyB0b1xuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdGhhdCB3YXMgb3JpZ2luYWxseSByZWdpc3RlcmVkXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdvZmYnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvZmYoZXZlbnROYW1lLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnROYW1lIGluIHRoaXMuZXZlbnRIYW5kbGVycyA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0gPSBSaWRlU3R5bGVyU2hvd2Nhc2UuQXJyYXlIZWxwZXIucmVtb3ZlKHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdLCBjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRyaWdnZXIgYW4gZXZlbnRcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gZXZlbnROYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudCB0byB0cmlnZ2VyXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGV2ICAgICAgICBUaGUgZGF0YSB0byBzZW5kIHRvIHRoZSBldmVudCBoYW5kbGVyc1xuICAgICAgICAgICAgICAgICAqIEByZXR1cm5zICAgICAgICAgZmFsc2UsIGlmIHRoZSBldmVudCBoYXMgYmVlbiBjYW5jZWxsZWQgYnkgYSBoYW5kbGVyLCBvdGhlcndpc2UgdHJ1ZVxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAndHJpZ2dlcicsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRyaWdnZXIoZXZlbnROYW1lLCBldikge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuZGVidWdDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5kZWJ1Z0NhbGxiYWNrKGV2ZW50TmFtZSwgZXYsIHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdIHx8IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSBpbiB0aGlzLmV2ZW50SGFuZGxlcnMgPT09IGZhbHNlKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRIYW5kbGVyID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRIYW5kbGVyKGV2KSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgcmV0dXJuIEV2ZW50SGFuZGxlcjtcbiAgICAgICAgfSgpO1xuXG4gICAgICAgIGV2ZW50cy5FdmVudEhhbmRsZXIgPSBFdmVudEhhbmRsZXI7XG4gICAgfSkoZXZlbnRzID0gUmlkZVN0eWxlclNob3djYXNlLmV2ZW50cyB8fCAoUmlkZVN0eWxlclNob3djYXNlLmV2ZW50cyA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgZmlsdGVycztcbiAgICAoZnVuY3Rpb24gKGZpbHRlcnNfMSkge1xuICAgICAgICB2YXIgRmlsdGVyQ29udHJvbGxlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIEZpbHRlckNvbnRyb2xsZXIoKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlckNvbnRyb2xsZXIpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxGaWx0ZXJzID0gbmV3IEdsb2JhbEZpbHRlclByb3ZpZGVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy50aXJlRmlsdGVycyA9IG5ldyBUaXJlRmlsdGVyUHJvdmlkZXIodGhpcy5nbG9iYWxGaWx0ZXJzKTtcbiAgICAgICAgICAgICAgICB0aGlzLndoZWVsRmlsdGVycyA9IG5ldyBXaGVlbEZpbHRlclByb3ZpZGVyKHRoaXMuZ2xvYmFsRmlsdGVycyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhGaWx0ZXJDb250cm9sbGVyLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ3NldFZlaGljbGUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWZWhpY2xlKHZlaGljbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGVhckZpbHRlcnMoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbEZpbHRlcnMuc2V0VmVoaWNsZSh2ZWhpY2xlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnY2xlYXJGaWx0ZXJzJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJGaWx0ZXJzKHRyaWdnZXJDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxGaWx0ZXJzLmNsZWFyKHRyaWdnZXJDaGFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRpcmVGaWx0ZXJzLmNsZWFyKHRyaWdnZXJDaGFuZ2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLndoZWVsRmlsdGVycy5jbGVhcih0cmlnZ2VyQ2hhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBGaWx0ZXJDb250cm9sbGVyO1xuICAgICAgICB9KCk7XG5cbiAgICAgICAgZmlsdGVyc18xLkZpbHRlckNvbnRyb2xsZXIgPSBGaWx0ZXJDb250cm9sbGVyO1xuXG4gICAgICAgIHZhciBGaWx0ZXJQcm92aWRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIEZpbHRlclByb3ZpZGVyKHR5cGUsIGdsb2JhbEZpbHRlclByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZpbHRlclByb3ZpZGVyKTtcblxuICAgICAgICAgICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RmlsdGVycyA9IHt9O1xuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRmlsdGVyUHJvdmlkZXIgPSBnbG9iYWxGaWx0ZXJQcm92aWRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVHJpZ2dlciB0aGUgZmlsdGVyIGNoYW5nZWQgY2FsbGJhY2tcbiAgICAgICAgICAgICAqL1xuXG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhGaWx0ZXJQcm92aWRlciwgW3tcbiAgICAgICAgICAgICAgICBrZXk6ICd0cmlnZ2VyRmlsdGVyQ2hhbmdlJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdHJpZ2dlckZpbHRlckNoYW5nZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uRmlsdGVyc0NoYW5nZWQgPT09ICdmdW5jdGlvbicpIHRoaXMub25GaWx0ZXJzQ2hhbmdlZCh0aGlzLmdldEZpbHRlcnMoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJldHVybnMgYSBmaWx0ZXIgbW9kZWwgd2l0aCB0aGUgc3BlY2lmaWVkIGZpbHRlciB2YWx1ZXMgc2V0LFxuICAgICAgICAgICAgICAgICAqIHdpdGhvdXQgYWN0dWFsbHkgc2V0dGluZyB0aGVtXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdwcmV2aWV3RmlsdGVycycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByZXZpZXdGaWx0ZXJzKGZpbHRlclZhbHVlcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ2xvYmFsRmlsdGVycyA9IHRoaXMuZ2xvYmFsRmlsdGVyUHJvdmlkZXIgPyB0aGlzLmdsb2JhbEZpbHRlclByb3ZpZGVyLmdldEZpbHRlcnMoKSA6IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVycyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmFzZUZpbHRlcnMgPSB0aGlzLmJhc2VGaWx0ZXJzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGZpbHRlclZhbHVlc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVyVmFsdWUgPSBfc3RlcC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gZmlsdGVyVmFsdWUua2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGZpbHRlclZhbHVlLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRGaWx0ZXIoa2V5LCB2YWx1ZSwgZmlsdGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24oe30sIHRoaXMuYmFzZUZpbHRlcnMsIGdsb2JhbEZpbHRlcnMsIGZpbHRlcnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50bHkgYXBwbGllZCBmaWx0ZXJzXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdnZXRGaWx0ZXJzJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RmlsdGVycygpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdsb2JhbEZpbHRlcnMgPSB0aGlzLmdsb2JhbEZpbHRlclByb3ZpZGVyID8gdGhpcy5nbG9iYWxGaWx0ZXJQcm92aWRlci5nZXRGaWx0ZXJzKCkgOiB7fTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHt9LCB0aGlzLmJhc2VGaWx0ZXJzLCBnbG9iYWxGaWx0ZXJzLCB0aGlzLmN1cnJlbnRGaWx0ZXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmV0cmlldmUgdGhlIG9wdGlvbnMgZm9yIGEgZmlsdGVyXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGZpbHRlciBUaGUgZmlsdGVyXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdyZXRyaWV2ZU9wdGlvbnMnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXRyaWV2ZU9wdGlvbnMoZmlsdGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXIucmV0cmlldmVPcHRpb25zKHRoaXMuZ2xvYmFsRmlsdGVyUHJvdmlkZXIuZ2V0RmlsdGVycygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU2V0IGEgZmlsdGVyIG9wdGlvbiwgb24gYSBzcGVjaWZpYyBmaWx0ZXIgbW9kZWxcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ga2V5IFRoZSBmaWx0ZXIga2V5IHRvIGFwcGx5XG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSB0byBhcHBseSB0byB0aGUgZmlsdGVyXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGZpbHRlcnMgVGhlIGZpbHRlcnMgdG8gYXBwbHkgdGhlbSB0b1xuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnc2V0RmlsdGVyJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RmlsdGVyKGtleSwgdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlcnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHRoaXMuY3VycmVudEZpbHRlcnM7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlck9wdGlvbiA9IHRoaXMuZmluZEZpbHRlck9wdGlvbihrZXkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyT3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJPcHRpb24uYXBwbHkoZmlsdGVycywgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJldHVybnMgdGhlIGZpbHRlciBvcHRpb24gZm9yIHRoZSBzcGVjaWZpZWQga2V5XG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGtleSBUaGUgZmlsdGVyIGtleVxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnZmluZEZpbHRlck9wdGlvbicsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmRGaWx0ZXJPcHRpb24oa2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IHRoaXMuZmlsdGVyT3B0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyLmtleSA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ3NldEZpbHRlcnMnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGaWx0ZXJzKHNlbGVjdGVkRmlsdGVyc09yS2V5LCB2YWx1ZSwgdHJpZ2dlckNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3RmlsdGVycyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRGaWx0ZXJzID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNlbGVjdGVkRmlsdGVyc09yS2V5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWx0ZXJzID0gW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IHNlbGVjdGVkRmlsdGVyc09yS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfV07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEZpbHRlcnMgPSBzZWxlY3RlZEZpbHRlcnNPcktleTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykgdHJpZ2dlckNoYW5nZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IHNlbGVjdGVkRmlsdGVyc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZEZpbHRlciA9IF9zdGVwMy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gc2VsZWN0ZWRGaWx0ZXIua2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdmFsdWUgPSBzZWxlY3RlZEZpbHRlci52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RmlsdGVyKGtleSwgX3ZhbHVlLCBuZXdGaWx0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gbmV3RmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0ZpbHRlcnMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdGaWx0ZXJWYWx1ZSA9IG5ld0ZpbHRlcnNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudEZpbHRlclZhbHVlID0gdGhpcy5jdXJyZW50RmlsdGVyc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdGaWx0ZXJWYWx1ZSAhPT0gY3VycmVudEZpbHRlclZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEZpbHRlcnNba2V5XSA9IG5ld0ZpbHRlclZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0cmlnZ2VyQ2hhbmdlID09PSAndW5kZWZpbmVkJykgdHJpZ2dlckNoYW5nZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNDaGFuZ2VkICYmIHRyaWdnZXJDaGFuZ2UpIHRoaXMudHJpZ2dlckZpbHRlckNoYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFzQ2hhbmdlZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnY2xlYXInLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhcigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyaWdnZXJDaGFuZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6IHRydWU7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RmlsdGVycyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICBpZiAodHJpZ2dlckNoYW5nZSkgdGhpcy50cmlnZ2VyRmlsdGVyQ2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gRmlsdGVyUHJvdmlkZXI7XG4gICAgICAgIH0oKTtcblxuICAgICAgICBmaWx0ZXJzXzEuRmlsdGVyUHJvdmlkZXIgPSBGaWx0ZXJQcm92aWRlcjtcbiAgICAgICAgdmFyIHZlaGljbGVDb25maWdGaWx0ZXJLZXkgPSAndmVoaWNsZS1jb25maWcnO1xuXG4gICAgICAgIHZhciBHbG9iYWxGaWx0ZXJQcm92aWRlciA9IGZ1bmN0aW9uIChfRmlsdGVyUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIF9pbmhlcml0cyhHbG9iYWxGaWx0ZXJQcm92aWRlciwgX0ZpbHRlclByb3ZpZGVyKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gR2xvYmFsRmlsdGVyUHJvdmlkZXIoKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdsb2JhbEZpbHRlclByb3ZpZGVyKTtcblxuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChHbG9iYWxGaWx0ZXJQcm92aWRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEdsb2JhbEZpbHRlclByb3ZpZGVyKSkuY2FsbCh0aGlzLCAnZ2xvYmFsJywgdW5kZWZpbmVkKSk7XG5cbiAgICAgICAgICAgICAgICBfdGhpcy5iYXNlRmlsdGVycyA9IHtcbiAgICAgICAgICAgICAgICAgICAgSGFzRml0bWVudHM6IHRydWVcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF90aGlzLmN1cnJlbnRGaWx0ZXJzID0ge307XG4gICAgICAgICAgICAgICAgX3RoaXMuZmlsdGVyT3B0aW9ucyA9IFtcbiAgICAgICAgICAgICAgICAvLyBWZWhpY2xlQ29uZmlndXJhdGlvbiAmIFZlaGljbGVUaXJlT3B0aW9uXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBrZXk6IHZlaGljbGVDb25maWdGaWx0ZXJLZXksXG4gICAgICAgICAgICAgICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkoZmlsdGVycywgdmVoaWNsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZlaGljbGVDb25maWd1cmF0aW9uSUQgPSB2ZWhpY2xlLnZlaGljbGVDb25maWd1cmF0aW9uSUQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVoaWNsZVRpcmVPcHRpb25JRCA9IHZlaGljbGUudmVoaWNsZVRpcmVPcHRpb25JRDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZlaGljbGVDb25maWd1cmF0aW9uSUQpIGZpbHRlcnMuVmVoaWNsZUNvbmZpZ3VyYXRpb24gPSB2ZWhpY2xlQ29uZmlndXJhdGlvbklEO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZlaGljbGVUaXJlT3B0aW9uSUQpIGZpbHRlcnMuVmVoaWNsZVRpcmVPcHRpb24gPSB2ZWhpY2xlVGlyZU9wdGlvbklEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBcHBsaWVzIGEgdmVoaWNsZSBzZWxlY3Rpb24gdG8gYWxsXG4gICAgICAgICAgICAgKiBAcGFyYW0gdmVoaWNsZSBUaGUgdmVoaWNsZSB0byBhcHBseSB0byBmaWx0ZXIgcXVlcmllc1xuICAgICAgICAgICAgICovXG5cblxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKEdsb2JhbEZpbHRlclByb3ZpZGVyLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ3NldFZlaGljbGUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWZWhpY2xlKHZlaGljbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRGaWx0ZXIodmVoaWNsZUNvbmZpZ0ZpbHRlcktleSwgdmVoaWNsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ2dldENvdW50JyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q291bnQoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFdlJ2xsIG5ldmVyIGNhbGwgZ2V0Q291bnQgb24gdGhlIEdsb2JhbEZpbHRlck1vZGVsXG4gICAgICAgICAgICAgICAgICAgIHRocm93ICdDYW5ub3QgY291bnQgR2xvYmFsRmlsdGVyTW9kZWwnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgcmV0dXJuIEdsb2JhbEZpbHRlclByb3ZpZGVyO1xuICAgICAgICB9KEZpbHRlclByb3ZpZGVyKTtcblxuICAgICAgICBmaWx0ZXJzXzEuR2xvYmFsRmlsdGVyUHJvdmlkZXIgPSBHbG9iYWxGaWx0ZXJQcm92aWRlcjtcblxuICAgICAgICB2YXIgVGlyZUZpbHRlclByb3ZpZGVyID0gZnVuY3Rpb24gKF9GaWx0ZXJQcm92aWRlcjIpIHtcbiAgICAgICAgICAgIF9pbmhlcml0cyhUaXJlRmlsdGVyUHJvdmlkZXIsIF9GaWx0ZXJQcm92aWRlcjIpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBUaXJlRmlsdGVyUHJvdmlkZXIoZ2xvYmFsRmlsdGVyUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlyZUZpbHRlclByb3ZpZGVyKTtcblxuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVGlyZUZpbHRlclByb3ZpZGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGlyZUZpbHRlclByb3ZpZGVyKSkuY2FsbCh0aGlzLCAndGlyZScsIGdsb2JhbEZpbHRlclByb3ZpZGVyKSk7XG5cbiAgICAgICAgICAgICAgICBfdGhpczIuYmFzZUZpbHRlcnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIFJlcXVpcmVkRml0bWVudFJlc291cmNlVHlwZXM6IFsyIC8qIENhdGFsb2cgKi9cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX3RoaXMyLmZpbHRlck9wdGlvbnMgPSBbXG4gICAgICAgICAgICAgICAgLy8gQnJhbmRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2JyYW5kcycpLFxuICAgICAgICAgICAgICAgICAgICB1bnNlbGVjdGVkT3B0aW9uTGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnYWxsLWJyYW5kcycpLFxuICAgICAgICAgICAgICAgICAgICBrZXk6ICd0aXJlLWJyYW5kJyxcbiAgICAgICAgICAgICAgICAgICAgcmV0cmlldmVPcHRpb25zOiBmdW5jdGlvbiByZXRyaWV2ZU9wdGlvbnMoZ2xvYmFsRmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVxdWVzdCBCcmFuZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdCgndGlyZS9nZXRicmFuZHMnLCBnbG9iYWxGaWx0ZXJzKSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFwIGJyYW5kcyB0byBJRmlsdGVyT3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuQXJyYXlIZWxwZXIubWFwKHJlc3BvbnNlLkJyYW5kcywgZnVuY3Rpb24gKGJyYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogYnJhbmQuVGlyZUJyYW5kTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBicmFuZC5UaXJlQnJhbmRJRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldFZhbHVlRnJvbUZpbHRlcnM6IGZ1bmN0aW9uIGdldFZhbHVlRnJvbUZpbHRlcnMoZmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcnMuVGlyZUJyYW5kO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkoZmlsdGVycywgdGlyZUJyYW5kSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnMuVGlyZUJyYW5kID0gdGlyZUJyYW5kSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIEF0dHJpYnV0ZXNcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2ZlYXR1cmVzJyksXG4gICAgICAgICAgICAgICAgICAgIHVuc2VsZWN0ZWRPcHRpb25MYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdhbnktZmVhdHVyZXMnKSxcbiAgICAgICAgICAgICAgICAgICAga2V5OiAndGlyZS1tb2RlbC1hdHRyaWJ1dGUnLFxuICAgICAgICAgICAgICAgICAgICByZXRyaWV2ZU9wdGlvbnM6IGZ1bmN0aW9uIHJldHJpZXZlT3B0aW9ucyhnbG9iYWxGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXF1ZXN0IFNwZWVkIFJhdGluZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdCgndGlyZS9nZXRtb2RlbGF0dHJpYnV0ZXMnLCBnbG9iYWxGaWx0ZXJzKSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFwIGJyYW5kcyB0byBJRmlsdGVyT3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuQXJyYXlIZWxwZXIubWFwKHJlc3BvbnNlLkF0dHJpYnV0ZXMsIGZ1bmN0aW9uIChhdHRyaWJ1dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBhdHRyaWJ1dGUuVGlyZU1vZGVsQXR0cmlidXRlTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBhdHRyaWJ1dGUuVGlyZU1vZGVsQXR0cmlidXRlSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRWYWx1ZUZyb21GaWx0ZXJzOiBmdW5jdGlvbiBnZXRWYWx1ZUZyb21GaWx0ZXJzKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzLlJlcXVpcmVkVGlyZU1vZGVsQXR0cmlidXRlO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkoZmlsdGVycywgYXR0cmlidXRlSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnMuUmVxdWlyZWRUaXJlTW9kZWxBdHRyaWJ1dGUgPSBhdHRyaWJ1dGVJRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gU3BlZWQgUmF0aW5nXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzcGVlZC1yYXRpbmcnKSxcbiAgICAgICAgICAgICAgICAgICAgdW5zZWxlY3RlZE9wdGlvbkxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2FueS1zcGVlZC1yYXRpbmdzJyksXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3RpcmUtc3BlZWQtcmF0aW5nJyxcbiAgICAgICAgICAgICAgICAgICAgcmV0cmlldmVPcHRpb25zOiBmdW5jdGlvbiByZXRyaWV2ZU9wdGlvbnMoZ2xvYmFsRmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVxdWVzdCBTcGVlZCBSYXRpbmdzXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoJ3RpcmUvZ2V0c3BlZWRyYXRpbmdzJywgZ2xvYmFsRmlsdGVycyksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcCBicmFuZHMgdG8gSUZpbHRlck9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyLm1hcChyZXNwb25zZS5TcGVlZFJhdGluZ3MsIGZ1bmN0aW9uIChicmFuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGJyYW5kLlRpcmVTcGVlZFJhdGluZ0NvZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYnJhbmQuVGlyZVNwZWVkUmF0aW5nSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRWYWx1ZUZyb21GaWx0ZXJzOiBmdW5jdGlvbiBnZXRWYWx1ZUZyb21GaWx0ZXJzKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzLlNwZWVkUmF0aW5nO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkoZmlsdGVycywgc3BlZWRSYXRpbmdJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVycy5TcGVlZFJhdGluZyA9IHNwZWVkUmF0aW5nSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoVGlyZUZpbHRlclByb3ZpZGVyLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ2dldENvdW50JyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q291bnQoZmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoXCJ0aXJlL2NvdW50bW9kZWxzXCIsIGZpbHRlcnMpLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gVGlyZUZpbHRlclByb3ZpZGVyO1xuICAgICAgICB9KEZpbHRlclByb3ZpZGVyKTtcblxuICAgICAgICBmaWx0ZXJzXzEuVGlyZUZpbHRlclByb3ZpZGVyID0gVGlyZUZpbHRlclByb3ZpZGVyO1xuXG4gICAgICAgIHZhciBXaGVlbEZpbHRlclByb3ZpZGVyID0gZnVuY3Rpb24gKF9GaWx0ZXJQcm92aWRlcjMpIHtcbiAgICAgICAgICAgIF9pbmhlcml0cyhXaGVlbEZpbHRlclByb3ZpZGVyLCBfRmlsdGVyUHJvdmlkZXIzKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gV2hlZWxGaWx0ZXJQcm92aWRlcihnbG9iYWxGaWx0ZXJQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXaGVlbEZpbHRlclByb3ZpZGVyKTtcblxuICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoV2hlZWxGaWx0ZXJQcm92aWRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFdoZWVsRmlsdGVyUHJvdmlkZXIpKS5jYWxsKHRoaXMsICd3aGVlbCcsIGdsb2JhbEZpbHRlclByb3ZpZGVyKSk7XG5cbiAgICAgICAgICAgICAgICBfdGhpczMuYmFzZUZpbHRlcnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIEZpdG1lbnRSZXNvdXJjZVR5cGVzOiBbMiAvKiBBbmdsZWQgKi9cbiAgICAgICAgICAgICAgICAgICAgLCAzIC8qIENhdGFsb2cgKi9cbiAgICAgICAgICAgICAgICAgICAgLCAxIC8qIFNpZGUgKi9cbiAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX3RoaXMzLmZpbHRlck9wdGlvbnMgPSBbXG4gICAgICAgICAgICAgICAgLy8gQnJhbmRcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2JyYW5kcycpLFxuICAgICAgICAgICAgICAgICAgICB1bnNlbGVjdGVkT3B0aW9uTGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnYWxsLWJyYW5kcycpLFxuICAgICAgICAgICAgICAgICAgICBrZXk6ICd3aGVlbC1icmFuZCcsXG4gICAgICAgICAgICAgICAgICAgIHJldHJpZXZlT3B0aW9uczogZnVuY3Rpb24gcmV0cmlldmVPcHRpb25zKGdsb2JhbEZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlcXVlc3QgQnJhbmRzXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoJ3doZWVsL2dldGJyYW5kcycsIGdsb2JhbEZpbHRlcnMpLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXAgYnJhbmRzIHRvIElGaWx0ZXJPcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlci5tYXAocmVzcG9uc2UuQnJhbmRzLCBmdW5jdGlvbiAoYnJhbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBicmFuZC5XaGVlbEJyYW5kTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBicmFuZC5XaGVlbEJyYW5kSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRWYWx1ZUZyb21GaWx0ZXJzOiBmdW5jdGlvbiBnZXRWYWx1ZUZyb21GaWx0ZXJzKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzLldoZWVsQnJhbmQ7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFwcGx5OiBmdW5jdGlvbiBhcHBseShmaWx0ZXJzLCB3aGVlbEJyYW5kSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnMuV2hlZWxCcmFuZCA9IHdoZWVsQnJhbmRJRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gRmluaXNoXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdmaW5pc2hlcycpLFxuICAgICAgICAgICAgICAgICAgICB1bnNlbGVjdGVkT3B0aW9uTGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnYWxsLWZpbmlzaGVzJyksXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3doZWVsLWZpbmlzaCcsXG4gICAgICAgICAgICAgICAgICAgIHJldHJpZXZlT3B0aW9uczogZnVuY3Rpb24gcmV0cmlldmVPcHRpb25zKGdsb2JhbEZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlcXVlc3QgZmluaXNoZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdCgnd2hlZWwvZ2V0ZmluaXNoZXMnLCBnbG9iYWxGaWx0ZXJzKSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFwIGZpbmlzaGVzIHRvIElGaWx0ZXJPcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlci5tYXAocmVzcG9uc2UuRmluaXNoZXMsIGZ1bmN0aW9uIChmaW5pc2hDYXRlZ29yeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGZpbmlzaENhdGVnb3J5LldoZWVsRmluaXNoQ2F0ZWdvcnlOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGZpbmlzaENhdGVnb3J5LldoZWVsRmluaXNoQ2F0ZWdvcnlJRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldFZhbHVlRnJvbUZpbHRlcnM6IGZ1bmN0aW9uIGdldFZhbHVlRnJvbUZpbHRlcnMoZmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcnMuV2hlZWxGaW5pc2hDYXRlZ29yeTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KGZpbHRlcnMsIHdoZWVsRmluaXNoQ2F0ZWdvcnlJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVycy5XaGVlbEZpbmlzaENhdGVnb3J5ID0gd2hlZWxGaW5pc2hDYXRlZ29yeUlEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBEaWFtZXRlclxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc2l6ZXMnKSxcbiAgICAgICAgICAgICAgICAgICAgdW5zZWxlY3RlZE9wdGlvbkxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2FsbC1zaXplcycpLFxuICAgICAgICAgICAgICAgICAgICBrZXk6ICd3aGVlbC1zaXplJyxcbiAgICAgICAgICAgICAgICAgICAgcmV0cmlldmVPcHRpb25zOiBmdW5jdGlvbiByZXRyaWV2ZU9wdGlvbnMoZ2xvYmFsRmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVxdWVzdCBkaWFtZXRlcnNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdCgnd2hlZWwvZ2V0ZGlhbWV0ZXJzJywgZ2xvYmFsRmlsdGVycyksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcCBkaWFtZXRlcnMgdG8gSUZpbHRlck9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyLm1hcChyZXNwb25zZS5EaWFtZXRlcnMsIGZ1bmN0aW9uIChkaWFtZXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGRpYW1ldGVyLnRvU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZGlhbWV0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRWYWx1ZUZyb21GaWx0ZXJzOiBmdW5jdGlvbiBnZXRWYWx1ZUZyb21GaWx0ZXJzKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBnZXRGaXRtZW50RmlsdGVyVmFsdWUoZmlsdGVycywgJ0RpYW1ldGVyJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFwcGx5OiBmdW5jdGlvbiBhcHBseShmaWx0ZXJzLCBkaWFtZXRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmaWx0ZXJzLkZpdG1lbnRGaWx0ZXJzKSBmaWx0ZXJzLkZpdG1lbnRGaWx0ZXJzID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBseUZpdG1lbnRGaWx0ZXIoZmlsdGVycywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIERpYW1ldGVyOiBkaWFtZXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoV2hlZWxGaWx0ZXJQcm92aWRlciwgW3tcbiAgICAgICAgICAgICAgICBrZXk6ICdnZXRDb3VudCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvdW50KGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwid2hlZWwvY291bnRtb2RlbHNcIiwgZmlsdGVycyksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLkNvdW50O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBXaGVlbEZpbHRlclByb3ZpZGVyO1xuICAgICAgICB9KEZpbHRlclByb3ZpZGVyKTtcblxuICAgICAgICBmaWx0ZXJzXzEuV2hlZWxGaWx0ZXJQcm92aWRlciA9IFdoZWVsRmlsdGVyUHJvdmlkZXI7XG4gICAgICAgIGZ1bmN0aW9uIGdldEZpdG1lbnRGaWx0ZXJWYWx1ZShmaWx0ZXJzLCBrZXkpIHtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjQgPSAoZmlsdGVycy5GaXRtZW50RmlsdGVycyB8fCBbXSlbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDQ7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSAoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpdG1lbnRGaWx0ZXIgPSBfc3RlcDQudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpdG1lbnRGaWx0ZXIuR3JvdXBLZXkgPT09IGZpdG1lbnRGaWx0ZXJHcm91cEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpdG1lbnRGaWx0ZXJba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yNCA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3I0ID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ICYmIF9pdGVyYXRvcjQucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmaXRtZW50RmlsdGVyR3JvdXBLZXkgPSBcInJpZGVzdHlsZXItc2hvd2Nhc2UtZmlsdGVyc1wiO1xuICAgICAgICBmdW5jdGlvbiBhcHBseUZpdG1lbnRGaWx0ZXIoZmlsdGVycywgZml0bWVudEZpbHRlcikge1xuICAgICAgICAgICAgdmFyIGZpdG1lbnRGaWx0ZXJzID0gZmlsdGVycy5GaXRtZW50RmlsdGVycyB8fCBbXTtcbiAgICAgICAgICAgIHZhciBleGlzdGluZ0ZpdG1lbnRGaWx0ZXJHcm91cCA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I1ID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I1ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjUgPSBmaXRtZW50RmlsdGVyc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNTsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IChfc3RlcDUgPSBfaXRlcmF0b3I1Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXBwbGllZEZpdG1lbnRGaWx0ZXIgPSBfc3RlcDUudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGFwcGxpZWRGaXRtZW50RmlsdGVyLkdyb3VwS2V5ID09PSBmaXRtZW50RmlsdGVyR3JvdXBLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nRml0bWVudEZpbHRlckdyb3VwID0gYXBwbGllZEZpdG1lbnRGaWx0ZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yNSA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3I1ID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ICYmIF9pdGVyYXRvcjUucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I1LnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I1O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWV4aXN0aW5nRml0bWVudEZpbHRlckdyb3VwKSB7XG4gICAgICAgICAgICAgICAgZml0bWVudEZpbHRlci5Hcm91cEtleSA9IGZpdG1lbnRGaWx0ZXJHcm91cEtleTtcbiAgICAgICAgICAgICAgICBmaXRtZW50RmlsdGVycy5wdXNoKGZpdG1lbnRGaWx0ZXIpO1xuICAgICAgICAgICAgICAgIC8vIFdlJ3ZlIG1vZGlmaWVkIHRoZSBhcnJheSBzbyB1cGRhdGUgdGhlIGFycmF5IGluIHRoZSBmaWx0ZXJzXG4gICAgICAgICAgICAgICAgZmlsdGVycy5GaXRtZW50RmlsdGVycyA9IGZpdG1lbnRGaWx0ZXJzO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbihleGlzdGluZ0ZpdG1lbnRGaWx0ZXJHcm91cCwgZml0bWVudEZpbHRlcik7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdGaXRtZW50RmlsdGVyR3JvdXAuR3JvdXBLZXkgPSBmaXRtZW50RmlsdGVyR3JvdXBLZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KShmaWx0ZXJzID0gUmlkZVN0eWxlclNob3djYXNlLmZpbHRlcnMgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5maWx0ZXJzID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgU3RhdGVzID0gdm9pZCAwO1xuICAgIChmdW5jdGlvbiAoU3RhdGVzKSB7XG4gICAgICAgIFN0YXRlc1tTdGF0ZXNbXCJDaG9vc2VWZWhpY2xlXCJdID0gMF0gPSBcIkNob29zZVZlaGljbGVcIjtcbiAgICAgICAgU3RhdGVzW1N0YXRlc1tcIlZpc3VhbGl6ZVwiXSA9IDFdID0gXCJWaXN1YWxpemVcIjtcbiAgICB9KShTdGF0ZXMgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIHN0YXRlO1xuICAgIChmdW5jdGlvbiAoc3RhdGVfMSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWdpc3RlciBob2xkaW5nIHRoZSBleGl0L2VudGVyIGNhbGxiYWNrcyBmb3IgYSBzcGVjaWZpYyBzdGF0ZVxuICAgICAgICAgKi9cbiAgICAgICAgdmFyIFN0YXRlQ2FsbGJhY2tSZWdpc3RlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIFN0YXRlQ2FsbGJhY2tSZWdpc3RlcihzdGF0ZSkge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGF0ZUNhbGxiYWNrUmVnaXN0ZXIpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICAgICAgICAgIHRoaXMuZXhpdENhbGxiYWNrcyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuZW50ZXJDYWxsYmFja3MgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVHJpZ2dlciBhbGwgb2YgdGhlIGV4aXQgY2FsbGJhY2tzIGZvciB0aGlzIHN0YXRlLiBJZiBhIGNhbGxiYWNrIHJldHVybnMgZmFsc2UsXG4gICAgICAgICAgICAgKiBza2lwIHRyaWdnZXJpbmcgdGhlIHJlbWFpbmluZyBjYWxsYmFja3MgYW5kIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAqL1xuXG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhTdGF0ZUNhbGxiYWNrUmVnaXN0ZXIsIFt7XG4gICAgICAgICAgICAgICAga2V5OiBcInRyaWdnZXJFeGl0Q2FsbGJhY2tzXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRyaWdnZXJFeGl0Q2FsbGJhY2tzKGN1cnJlbnRTdGF0ZSwgbmV3U3RhdGUsIG5ld0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB0aGlzLmV4aXRDYWxsYmFja3NbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV4aXRDYWxsYmFjayA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXRDYWxsYmFjayhjdXJyZW50U3RhdGUsIG5ld1N0YXRlLCBuZXdEYXRhKSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUcmlnZ2VyIGFsbCBvZiB0aGUgZW50ZXIgY2FsbGJhY2tzIGZvciB0aGlzIHN0YXRlLiBJZiBhIGNhbGxiYWNrIHJldHVybnMgZmFsc2UsXG4gICAgICAgICAgICAgICAgICogc2tpcCB0cmlnZ2VyaW5nIHRoZSByZW1haW5pbmcgY2FsbGJhY2tzIGFuZCByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwidHJpZ2dlckVudGVyQ2FsbGJhY2tzXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRyaWdnZXJFbnRlckNhbGxiYWNrcyhvbGRTdGF0ZSwgY3VycmVudFN0YXRlLCBuZXdEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IHRoaXMuZW50ZXJDYWxsYmFja3NbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZW50ZXJDYWxsYmFjayA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnRlckNhbGxiYWNrKG9sZFN0YXRlLCBjdXJyZW50U3RhdGUsIG5ld0RhdGEpID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgcmV0dXJuIFN0YXRlQ2FsbGJhY2tSZWdpc3RlcjtcbiAgICAgICAgfSgpO1xuXG4gICAgICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVN0YXRlKGluaXRpYWxTdGF0ZSkge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VTdGF0ZSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnREYXRhID0ge1xuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVoaWNsZUNvbmZpZ3VyYXRpb25JRDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHZlaGljbGVIYXNBbmdsZWRJbWFnZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB2ZWhpY2xlSGFzU2lkZUltYWdlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZWhpY2xlVGlyZU9wdGlvbkRlc2NyaXB0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZWhpY2xlVGlyZU9wdGlvbklEOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWludFNjaGVtZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGlyZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2hlZWw6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFdoZWVsRml0bWVudDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGlyZU9wdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uTW9kZWw6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQSBkaWN0aW9uYXJ5IG9mIFN0YXRlcyB0byBTdGF0ZUNhbGxiYWNrUmVnaXN0ZXJzXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFja3MgPSB7fTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTdGF0ZSBjaGFuZ2VkIGNhbGxiYWNrc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlQ2FsbGJhY2tzID0gW107XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogRGF0YSBjaGFuZ2VkIGNhbGxiYWNrc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5nZWRDYWxsYmFja3MgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTdGF0ZSA9IGluaXRpYWxTdGF0ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVN0YXRlLCBbe1xuICAgICAgICAgICAgICAgIGtleTogXCJnZXREYXRhXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldERhdGEoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnREYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwic2V0RGF0YVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXREYXRhKG5ld0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJlZm9yZUNhbGxiYWNrcyA9IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWZ0ZXJDYWxsYmFja3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gdGhpcy5kYXRhQ2hhbmdlZENhbGxiYWNrc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhQ2hhbmdlZENhbGxiYWNrID0gX3N0ZXAzLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGRhdGFDaGFuZ2VkQ2FsbGJhY2suY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZSA9IGRhdGFDaGFuZ2VkQ2FsbGJhY2suYmVmb3JlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJlZm9yZSkgYmVmb3JlQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO2Vsc2UgYWZ0ZXJDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gYmVmb3JlQ2FsbGJhY2tzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA0OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gKF9zdGVwNCA9IF9pdGVyYXRvcjQubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gX3N0ZXA0LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sobmV3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNCA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCAmJiBfaXRlcmF0b3I0LnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RGF0YSA9IG5ld0RhdGE7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yNSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNSA9IGFmdGVyQ2FsbGJhY2tzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA1OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gKF9zdGVwNSA9IF9pdGVyYXRvcjUubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9jYWxsYmFjayA9IF9zdGVwNS52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jYWxsYmFjayh0aGlzLmN1cnJlbnREYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3I1ID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ICYmIF9pdGVyYXRvcjUucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjUucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImV4dGVuZERhdGFcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZXh0ZW5kRGF0YShkYXRhRXh0ZW5zaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdEYXRhID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50RGF0YSA9IHRoaXMuY3VycmVudERhdGE7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBjdXJyZW50RGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnREYXRhLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFZhbHVlID0gY3VycmVudERhdGFba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBkYXRhRXh0ZW5zaW9uW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSBpbiBkYXRhRXh0ZW5zaW9uICYmIGN1cnJlbnRWYWx1ZSAhPT0gbmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGFba2V5XSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGFba2V5XSA9IGN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RGF0YShuZXdEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZXR1cm5zIGFuIGV4aXRpbmcgY2FsbGJhY2sgcmVnaXN0ZXIgZm9yIHRoZSBzcGVjaWZpZWQgc3RhdGUgb3IgY3JlYXRlc1xuICAgICAgICAgICAgICAgICAqIGEgbmV3IG9uZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBzdGF0ZSBUaGUgc3RhdGUgdG8gcmV0dXJuIGEgY2FsbGJhY2sgcmVnaXN0ZXIgZm9yXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiY2FsbGJhY2tzRm9yU3RhdGVcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2FsbGJhY2tzRm9yU3RhdGUoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlIGluIHRoaXMuY2FsbGJhY2tzKSByZXR1cm4gdGhpcy5jYWxsYmFja3Nbc3RhdGVdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYWxsYmFja3Nbc3RhdGVdID0gbmV3IFN0YXRlQ2FsbGJhY2tSZWdpc3RlcihzdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJlZ2lzdGVyIGEgY2FsbGJhY2sgdGhhdCBpcyB0cmlnZ2VyZWQgd2hlbiBleGl0aW5nIGEgc3BlY2lmaWMgc3RhdGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gc3RhdGUgVGhlIHN0YXRlIHRvIHJlZ2lzdGVyIGEgZXhpdCBjYWxsYmFjayBmb3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiBleGl0aW5nIHRoZSBzdGF0ZVxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIm9uRXhpdFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkV4aXQoc3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzRm9yU3RhdGUoc3RhdGUpLmV4aXRDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJlZ2lzdGVyIGEgY2FsbGJhY2sgdGhhdCBpcyB0cmlnZ2VyZWQgd2hlbiBlbnRlcmluZyBhIHNwZWNpZmljIHN0YXRlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHN0YXRlIFRoZSBzdGF0ZSB0byByZWdpc3RlciBhbiBlbnRlciBjYWxsYmFjayBmb3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiBlbnRlcmluZyB0aGUgc3RhdGVcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJvbkVudGVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uRW50ZXIoc3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzRm9yU3RhdGUoc3RhdGUpLmVudGVyQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZWdpc3RlciBhIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgc3RhdGUgaGFzIGJlZW4gY2hhbmdlZFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gcnVuXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwib25DaGFuZ2VcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25DaGFuZ2UoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJlZ2lzdGVyIGEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGJlZm9yZSB0aGUgc3RhdGUgZGF0YSBoYXMgYmVlbiBjaGFuZ2VkLlxuICAgICAgICAgICAgICAgICAqIFRoaXMgYWxsb3dzIGNhbGxiYWNrIGZ1bmN0aW9ucyB0byBtb2RpZnkgdGhlIGRhdGEgYmVmb3JlIGl0J3Mgc2VudCB0byBvdGhlciBjYWxsYmFja3MuXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBydW5cbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJiZWZvcmVEYXRhQ2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJlZm9yZURhdGFDaGFuZ2UoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhQ2hhbmdlZENhbGxiYWNrcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmVnaXN0ZXIgYSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgYWZ0ZXIgdGhlIHN0YXRlIGRhdGEgaGFzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIHJ1blxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImFmdGVyRGF0YUNoYW5nZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZnRlckRhdGFDaGFuZ2UoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhQ2hhbmdlZENhbGxiYWNrcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJjaGFuZ2VTdGF0ZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VTdGF0ZShuZXdTdGF0ZSwgbmV3RGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50U3RhdGUgPT09IG5ld1N0YXRlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c1N0YXRlID0gdGhpcy5jdXJyZW50U3RhdGU7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCBvdXIgc3RhdGUgZGF0YVxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3RGF0YSkgdGhpcy5zZXREYXRhKG5ld0RhdGEpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVDaGFuZ2VkRXZlbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRTdGF0ZTogcHJldmlvdXNTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlOiBuZXdTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGE6IHRoaXMuY3VycmVudERhdGFcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmRlYnVnQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHRoaXMuZGVidWdDYWxsYmFjayhzdGF0ZUNoYW5nZWRFdmVudCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIHRoZSBzdGF0ZS1jaGFuZ2VkIGV2ZW50LCBjYW5jZWwgc3RhdGUgY2hhbmdlIGlmIGNhbmNlbGxlZFxuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I2ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjYgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjYgPSB0aGlzLmNoYW5nZUNhbGxiYWNrc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IChfc3RlcDYgPSBfaXRlcmF0b3I2Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IF9zdGVwNi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2soc3RhdGVDaGFuZ2VkRXZlbnQpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIGV4aXQgY2FsbGJhY2tzXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I2ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNiA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiAmJiBfaXRlcmF0b3I2LnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I2LnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzRm9yU3RhdGUocHJldmlvdXNTdGF0ZSkudHJpZ2dlckV4aXRDYWxsYmFja3MocHJldmlvdXNTdGF0ZSwgbmV3U3RhdGUsIHRoaXMuY3VycmVudERhdGEpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25lIG9mIHRoZSBleGl0IGNhbGxiYWNrcyBjYW5jZWxlZCB0aGUgc3RhdGUgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBlbnRlciBjYWxsYmFja3NcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzRm9yU3RhdGUobmV3U3RhdGUpLnRyaWdnZXJFbnRlckNhbGxiYWNrcyhwcmV2aW91c1N0YXRlLCBuZXdTdGF0ZSwgdGhpcy5jdXJyZW50RGF0YSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmUgb2YgdGhlIGVudGVyIGNhbGxiYWNrcyBjYW5jZWxlZCB0aGUgc3RhdGUgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmRlYnVnQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHRoaXMuZGVidWdDYWxsYmFjayhzdGF0ZUNoYW5nZWRFdmVudCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFsbCBvZiB0aGUgY2FsbGJhY2tzIGhhdmUgYmVlbiByYW4sIGNoYW5nZSB0aGUgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VTdGF0ZTtcbiAgICAgICAgfSgpO1xuXG4gICAgICAgIHN0YXRlXzEuUmlkZVN0eWxlclNob3djYXNlU3RhdGUgPSBSaWRlU3R5bGVyU2hvd2Nhc2VTdGF0ZTtcbiAgICB9KShzdGF0ZSA9IFJpZGVTdHlsZXJTaG93Y2FzZS5zdGF0ZSB8fCAoUmlkZVN0eWxlclNob3djYXNlLnN0YXRlID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgZGVmYXVsdExhbmd1YWdlRm9ybWF0UHJvdmlkZXIgPSB7XG4gICAgICAgIGN1cnJlbmN5OiBmdW5jdGlvbiBjdXJyZW5jeShudW1iZXIsIHN5bWJvbCkge1xuICAgICAgICAgICAgcmV0dXJuIHN5bWJvbCArICgrbnVtYmVyLnRvRml4ZWQoMikpLnRvTG9jYWxlU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiBhY2NlcHRhYmxlIGxhbmd1YWdlc1xuICAgICAqL1xuICAgIHZhciBMYW5ndWFnZUtleXMgPSB2b2lkIDA7XG4gICAgKGZ1bmN0aW9uIChMYW5ndWFnZUtleXMpIHtcbiAgICAgICAgTGFuZ3VhZ2VLZXlzW0xhbmd1YWdlS2V5c1tcIkVuXCJdID0gMF0gPSBcIkVuXCI7XG4gICAgfSkoTGFuZ3VhZ2VLZXlzID0gUmlkZVN0eWxlclNob3djYXNlLkxhbmd1YWdlS2V5cyB8fCAoUmlkZVN0eWxlclNob3djYXNlLkxhbmd1YWdlS2V5cyA9IHt9KSk7XG4gICAgLyoqXG4gICAgICogQW4gaW50ZXJuYWwgc3RydWN0dXJlIGZvciBob2xkaW5nIGxhbmd1YWdlIGRhdGFcbiAgICAgKi9cblxuICAgIHZhciBMYW5ndWFnZVJlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGEgcmVnaXN0ZXIgZm9yIGEgbGFuZ3VhZ2VcbiAgICAgICAgICogQHBhcmFtIGxhbmd1YWdlIFRoZSBsYW5ndWFnZSBkZWZpbml0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBMYW5ndWFnZVJlZ2lzdGVyKGxhbmd1YWdlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGFuZ3VhZ2VSZWdpc3Rlcik7XG5cbiAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5ndWFnZTtcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0ID0gbGFuZ3VhZ2UuZm9ybWF0O1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSBrZXkgZnJvbSB0aGUgbGFuZ3VhZ2UgZGljdGlvbmFyeVxuICAgICAgICAgKiBAcGFyYW0ga2V5IFRoZSBzdHJpbmcga2V5XG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKExhbmd1YWdlUmVnaXN0ZXIsIFt7XG4gICAgICAgICAgICBrZXk6IFwiZ2V0U3RyaW5nXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3RyaW5nKGtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxhbmd1YWdlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gTGFuZ3VhZ2VSZWdpc3RlcjtcbiAgICB9KCk7XG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgbGFuZ3VhZ2UgdG8gdXNlIGlmIG9uZSBpcyBub3QgcHJvdmlkZWQgdG8gZ2V0U3RyaW5nc1xuICAgICAqL1xuXG5cbiAgICB2YXIgZGVmYXVsdExhbmd1YWdlID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEFuIGludGVybmFsIGxpc3Qgb2YgYWxsIHJlZ2lzdGVyZWQgbGFuZ3VhZ2VzIGFuZCB0aGVpciBzdHJpbmdzXG4gICAgICovXG4gICAgdmFyIGxhbmd1YWdlUmVnaXN0ZXJzID0ge307XG4gICAgdmFyIHN0cmluZ3MgPSB2b2lkIDA7XG4gICAgKGZ1bmN0aW9uIChzdHJpbmdzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWdpc3RlciBhIGxhbmd1YWdlIHRvIGJlIHVzZWQgaW4gdGhlIHNob3djYXNlXG4gICAgICAgICAqIEBwYXJhbSBsYW5ndWFnZUtleSBUaGUga2V5IG9mIHRoZSBsYW5ndWFnZSB5b3UgYXJlIHJlZ2lzdGVyaW5nXG4gICAgICAgICAqIEBwYXJhbSBsYW5ndWFnZSBUaGUgbGFuZ3VhZ2UgcHJvdmlkZXJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyTGFuZ3VhZ2UobGFuZ3VhZ2VLZXksIGxhbmd1YWdlLCBzZXRBc0RlZmF1bHQpIHtcbiAgICAgICAgICAgIC8vIFNldCBkZWZhdWx0IGZvcm1hdCBwcm92aWRlclxuICAgICAgICAgICAgaWYgKCFsYW5ndWFnZS5mb3JtYXQpIGxhbmd1YWdlLmZvcm1hdCA9IGRlZmF1bHRMYW5ndWFnZUZvcm1hdFByb3ZpZGVyO2Vsc2UgZm9yICh2YXIga2V5IGluIGRlZmF1bHRMYW5ndWFnZUZvcm1hdFByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGRlZmF1bHRMYW5ndWFnZVByb3ZpZGVyIGhhcyBhIGZvcm1hdCBmdW5jdGlvbiB0aGF0IGlzIG1pc3Npbmcgb24gdGhlIGxhbmd1YWdlJ3MgZm9ybWF0IHByb3ZpZGVyLFxuICAgICAgICAgICAgICAgIC8vIGltcGxlbWVudCBpdCBpbiB0aGUgbGFuZ3VhZ2UncyBmb3JtYXQgcHJvdmlkZXJcbiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdExhbmd1YWdlRm9ybWF0UHJvdmlkZXIuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBrZXkgaW4gbGFuZ3VhZ2UuZm9ybWF0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZS5mb3JtYXRba2V5XSA9IGRlZmF1bHRMYW5ndWFnZUZvcm1hdFByb3ZpZGVyW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxhbmd1YWdlUmVnaXN0ZXIgPSBsYW5ndWFnZVJlZ2lzdGVyc1tsYW5ndWFnZUtleV0gPSBuZXcgTGFuZ3VhZ2VSZWdpc3RlcihsYW5ndWFnZSk7XG4gICAgICAgICAgICBpZiAoc2V0QXNEZWZhdWx0IHx8ICFkZWZhdWx0TGFuZ3VhZ2UpIGRlZmF1bHRMYW5ndWFnZSA9IGxhbmd1YWdlUmVnaXN0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgc3RyaW5ncy5yZWdpc3Rlckxhbmd1YWdlID0gcmVnaXN0ZXJMYW5ndWFnZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIGxhbmd1YWdlIHRvIGJlIHVzZWQgYnkgZGVmYXVsdCwgd2hlbiBubyBrZXkgaXMgcGFzc2VkIGludG8gZ2V0U3RyaW5nc1xuICAgICAgICAgKiBAcGFyYW0gbGFuZ3VhZ2VLZXkgVGhlIGxhbmd1YWdlIGtleSB0byB1c2UgYnkgZGVmYXVsdFxuICAgICAgICAgKiBAcmV0dXJucyB0cnVlLCBpZiB0aGUgbGFuZ3VhZ2UgaXMgcmVnaXN0ZXJlZCBhbmQgc2V0IGFzIGRlZmF1bHQ7IG90aGVyd2lzZSBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc2V0RGVmYXVsdExhbmd1YWdlKGxhbmd1YWdlS2V5KSB7XG4gICAgICAgICAgICBpZiAobGFuZ3VhZ2VLZXkgaW4gbGFuZ3VhZ2VSZWdpc3RlcnMpIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0TGFuZ3VhZ2UgPSBsYW5ndWFnZVJlZ2lzdGVyc1tsYW5ndWFnZUtleV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgc3RyaW5ncy5zZXREZWZhdWx0TGFuZ3VhZ2UgPSBzZXREZWZhdWx0TGFuZ3VhZ2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZWxscyB5b3Ugd2hldGhlciBvciBub3QgYSBsYW5ndWFnZSBpcyByZWdpc3RlcmVkXG4gICAgICAgICAqIEBwYXJhbSBsYW5ndWFnZUtleSBUaGUga2V5IGZvciB0aGUgbGFuZ3VhZ2VcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGxhbmd1YWdlSXNSZWdpc3RlcmVkKGxhbmd1YWdlS2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbGFuZ3VhZ2VLZXkgaW4gbGFuZ3VhZ2VSZWdpc3RlcnM7XG4gICAgICAgIH1cbiAgICAgICAgc3RyaW5ncy5sYW5ndWFnZUlzUmVnaXN0ZXJlZCA9IGxhbmd1YWdlSXNSZWdpc3RlcmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgc3BlY2lmaWVkIGxhbmd1YWdlLCBvciB0aGUgZGVmYXVsdCBsYW5ndWFnZSBpZiBpdCBjb3VsZCBub3QgYmUgZm91bmRcbiAgICAgICAgICogQHBhcmFtIGxhbmd1YWdlS2V5IFRoZSBrZXkgb2YgdGhlIGxhbmd1YWdlIHRvIHJldHJpZXZlXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRMYW5ndWFnZShsYW5ndWFnZUtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGxhbmd1YWdlS2V5IGluIGxhbmd1YWdlUmVnaXN0ZXJzID8gbGFuZ3VhZ2VSZWdpc3RlcnNbbGFuZ3VhZ2VLZXldIDogZGVmYXVsdExhbmd1YWdlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSBzdHJpbmcgZnJvbSB0aGUgcmVnaXN0ZXJlZCBzdHJpbmdzXG4gICAgICAgICAqIEBwYXJhbSBrZXkgVGhlIHN0cmluZyBrZXkgdG8gcmV0dXJuIGEgc3RyaW5nIGZvclxuICAgICAgICAgKiBAcGFyYW0gbGFuZ3VhZ2VLZXkgVGhlIGxhbmd1YWdlIHlvdSB3YW50IHRvIHVzZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0U3RyaW5nKGtleSwgbGFuZ3VhZ2VLZXkpIHtcbiAgICAgICAgICAgIHZhciBsYW5ndWFnZVJlZ2lzdGVyID0gZ2V0TGFuZ3VhZ2UobGFuZ3VhZ2VLZXkpO1xuICAgICAgICAgICAgdmFyIHN0cmluZyA9IHZvaWQgMDtcbiAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBsYW5ndWFnZSwgb3IgY291bGQgbm90IGdldCB0aGUgc3RyaW5nIGZyb20gdGhlIHJlZ2lzdGVyIFxuICAgICAgICAgICAgaWYgKCEoc3RyaW5nID0gbGFuZ3VhZ2VSZWdpc3Rlci5nZXRTdHJpbmcoa2V5KSkpIHJldHVybiBrZXk7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIHN0cmluZ3MuZ2V0U3RyaW5nID0gZ2V0U3RyaW5nO1xuICAgICAgICBmdW5jdGlvbiBmb3JtYXQobGFuZ3VhZ2VLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRMYW5ndWFnZShsYW5ndWFnZUtleSkuZm9ybWF0O1xuICAgICAgICB9XG4gICAgICAgIHN0cmluZ3MuZm9ybWF0ID0gZm9ybWF0O1xuICAgIH0pKHN0cmluZ3MgPSBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncyB8fCAoUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBzdHlsZXM7XG4gICAgKGZ1bmN0aW9uIChzdHlsZXMpIHtcbiAgICAgICAgdmFyIHdpZHRoQnJlYWtwb2ludHMgPSBbWydwaG9uZS1wb3J0cmFpdCcsIDMxOV0sIFsncGhvbmUtbGFuZHNjYXBlJywgNDIwXSwgWyd0YWJsZXQnLCA3NjhdLCBbJ2Rlc2t0b3AnLCA5OTJdLCBbJ2Rlc2t0b3AteGwnLCAxMjAwXSwgWyd0dicsIDE2MDBdXTtcblxuICAgICAgICB2YXIgU3R5bGVNYW5hZ2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gU3R5bGVNYW5hZ2VyKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3R5bGVNYW5hZ2VyKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHJpZGVzdHlsZXIucHJvbWlzZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZUJyZWFrcG9pbnRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy53YXRjaFNpemUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVDU1MoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVPbkRPTUxvYWQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVTdHlsZUNsYXNzZXMoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKFN0eWxlTWFuYWdlciwgW3tcbiAgICAgICAgICAgICAgICBrZXk6ICdyZXNvbHZlT25ET01Mb2FkJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzb2x2ZU9uRE9NTG9hZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIERPTSBpcyBhbHJlYWR5IGxvYWRlZFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplZC5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIERPTSB0byBsb2FkXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmluaXRpYWxpemVkLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBMb2FkIHRoZSBDU1MgZnJvbSB7QGxpbmsgUmlkZVN0eWxlclNob3djYXNlLmNzc30gaW50byB0aGUgZmlyc3QgSEVBRCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICogZm91bmQgaW4gdGhlIGRvY3VtZW50IG9mIHRoZSBjb250YWluZXJcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVDU1MnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplQ1NTKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIVJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5pc09mZnNldFBvc2l0aW9uZWQodGhpcy5lbGVtZW50KSkgdGhpcy5lbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKCdjc3MnIGluIFJpZGVTdHlsZXJTaG93Y2FzZSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lckRvY3VtZW50ID0gdGhpcy5lbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWFkID0gY29udGFpbmVyRG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpLml0ZW0oMCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBIRUFEIGVsZW1lbnQsIGNyZWF0ZSBvbmUgYW5kIGFkZCBpdCB0byB0aGUgRE9NXG4gICAgICAgICAgICAgICAgICAgIGlmICghaGVhZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2hlYWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5pbnNlcnRCZWZvcmUoaGVhZCwgY29udGFpbmVyRG9jdW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0eWxlc2hlZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgb3VyIENTUyB0byB0aGUgc3R5bGVzaGVldFxuICAgICAgICAgICAgICAgICAgICBzdHlsZXNoZWV0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFJpZGVTdHlsZXJTaG93Y2FzZS5jc3MpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBDU1MgdG8gdGhlIGhlYWRlciBiZWZvcmUgdGhlIGZpcnN0IEhFQUQgZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICBoZWFkLmluc2VydEJlZm9yZShzdHlsZXNoZWV0LCBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5maXJzdENoaWxkV2l0aFRhZyhoZWFkLCBcIlNUWUxFXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBDU1MgZnJvbSBvdXIgb2JqZWN0IHNvIGl0J3Mgbm90IHNwZWNpZmllZCB0d2ljZVxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgUmlkZVN0eWxlclNob3djYXNlLmNzcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZVN0eWxlQ2xhc3NlcycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVTdHlsZUNsYXNzZXMoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIuaXNUb3VjaERldmljZSkgdGhpcy5lbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2lzLXRvdWNoJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVCcmVha3BvaW50cycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVCcmVha3BvaW50cygpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIG91ciBicmVha3BvaW50cyBhcmUgc29ydGVkXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoQnJlYWtwb2ludHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFbMV0gLSBiWzFdO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUJyZWFrcG9pbnRDbGFzc2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoZG9jdW1lbnQucmVhZHlTdGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImxvYWRpbmdcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5nZXREb2N1bWVudCh0aGlzLmVsZW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIoXCJET01Db250ZW50TG9hZGVkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5hcHBseUJyZWFrcG9pbnRDbGFzc2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW50ZXJhY3RpdmVcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5nZXRXaW5kb3codGhpcy5lbGVtZW50KS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuYXBwbHlCcmVha3BvaW50Q2xhc3NlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ3Jlc2l6ZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2l6ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBseUJyZWFrcG9pbnRDbGFzc2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vblJlc2l6ZSA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5vblJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdyZXNpemVkJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplZCgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uUmVzaXplZCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5vblJlc2l6ZWQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnYnJlYWtwb2ludENoYW5nZWQnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBicmVha3BvaW50Q2hhbmdlZChuZXdCcmVha3BvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vbkJyZWFrcG9pbnRDaGFuZ2VkID09PSAnZnVuY3Rpb24nKSB0aGlzLm9uQnJlYWtwb2ludENoYW5nZWQobmV3QnJlYWtwb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ3dhdGNoU2l6ZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHdhdGNoU2l6ZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aW1lciA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc2l6ZWRFdmVudERlbGF5ID0gMjAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudFNpemUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogZWxlbWVudC5jbGllbnRIZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuZ2V0V2luZG93KGVsZW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdFbGVtZW50U2l6ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZWxlbWVudC5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGVsZW1lbnQuY2xpZW50SGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0VsZW1lbnRTaXplLndpZHRoICE9PSBlbGVtZW50U2l6ZS53aWR0aCB8fCBuZXdFbGVtZW50U2l6ZS5oZWlnaHQgIT09IGVsZW1lbnRTaXplLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50J3Mgc2l6ZSBoYXMgY2hhbmdlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRTaXplID0gbmV3RWxlbWVudFNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnJlc2l6ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnJlc2l6ZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCByZXNpemVkRXZlbnREZWxheSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnZ2V0Q3VycmVudEJyZWFrcG9pbnQnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDdXJyZW50QnJlYWtwb2ludCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudEJyZWFrcG9pbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ2FwcGx5QnJlYWtwb2ludENsYXNzZXMnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBseUJyZWFrcG9pbnRDbGFzc2VzKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCBydW4gaWYgd2UgZG9uJ3QgaGF2ZSBhIGhlaWdodCBvciB3aWR0aCB5ZXRcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWlnaHQgfHwgIXdpZHRoKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdCcmVha3BvaW50ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbmV3IGJyZWFrcG9pbnQgaXMgdGhlIG5leHQgbG93ZXN0IHZhbHVlIGluIHRoZSBhcnJheVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IHdpZHRoQnJlYWtwb2ludHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAod2lkdGhCcmVha3BvaW50c1tpXVsxXSA8PSB3aWR0aCkgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9bmV3QnJlYWtwb2ludCA9IGkgPj0gMCA/IHdpZHRoQnJlYWtwb2ludHNbaV0gOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnQgYnJlYWtwb2ludCBoYXNuJ3QgY2hhbmdlZCwgZG9uJ3QgcnVuIHRoZSByZXN0IG9mIHRoaXMgbG9naWNcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0JyZWFrcG9pbnQgPT09IHRoaXMuY3VycmVudEJyZWFrcG9pbnQpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2V0IG91ciBjdXJyZW50IGJyZWFrcG9pbnQgdG8gdGhlIG5ld2x5IGRlZmluZWQgb25lXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEJyZWFrcG9pbnQgPSBuZXdCcmVha3BvaW50O1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3JpZ2luYWxDbGFzc05hbWUgPSBlbGVtZW50LmNsYXNzTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IG9yaWdpbmFsQ2xhc3NOYW1lO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgYW55IGJyZWFrcG9pbnQgY2xhc3NlcyBmcm9tIHRoZSBlbGVtZW50J3MgY2xhc3NcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnJlcGxhY2UoL1xcYnJpZGVzdHlsZXItc2hvd2Nhc2UtYnJlYWtwb2ludC0uKz8oPz0gfCQpL2dpLCBcIlwiKS50cmltKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBpbiB0aGUgYnJlYWtwb2ludCBjbGFzcyBpZiB3ZSBoYXZlIG9uZVxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3QnJlYWtwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lICs9ICcgcmlkZXN0eWxlci1zaG93Y2FzZS1icmVha3BvaW50LScgKyBuZXdCcmVha3BvaW50WzBdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjbGFzc05hbWUgaGFzbid0IGNoYW5nZWQgZG8gbm90aGluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2xhc3NOYW1lID09PSBvcmlnaW5hbENsYXNzTmFtZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9IGNsYXNzTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5icmVha3BvaW50Q2hhbmdlZChuZXdCcmVha3BvaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBTdHlsZU1hbmFnZXI7XG4gICAgICAgIH0oKTtcblxuICAgICAgICBzdHlsZXMuU3R5bGVNYW5hZ2VyID0gU3R5bGVNYW5hZ2VyO1xuICAgIH0pKHN0eWxlcyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHlsZXMgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5zdHlsZXMgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlSW5zdGFuY2UoY29udGFpbmVyLCBzZXR0aW5ncykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZUluc3RhbmNlKTtcblxuICAgICAgICAgICAgdGhpcy5hY3RpdmVMb2FkaW5nU2Vzc2lvbktleXMgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB7fTtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MuZGVidWcgPSB0aGlzLnNldHRpbmdzLmRlYnVnIHx8IHt9O1xuICAgICAgICAgICAgdGhpcy5ldmVudHMgPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLmV2ZW50cy5FdmVudEhhbmRsZXIoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmRlYnVnLmV2ZW50cyA9PT0gdHJ1ZSkgdGhpcy5ldmVudHMuZGVidWdDYWxsYmFjayA9IGZ1bmN0aW9uIChuYW1lLCBlLCBoYW5kbGVycykge1xuICAgICAgICAgICAgICAgIGlmIChuYW1lID09PSAncmVzaXplJykgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbUmlkZVN0eWxlclNob3djYXNlIEV2ZW50XSBOYW1lOicgKyBuYW1lICsgJyBEYXRhOicsIGUsIGhhbmRsZXJzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250YWluZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29udGFpbmVyKSBjb25zb2xlLmVycm9yKCdUaGUgSUQgXCInICsgY29udGFpbmVyICsgJ1wiIGNvdWxkIG5vdCBiZSBmb3VuZCBpbiB0aGUgRE9NLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemUoY29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUmVnaXN0ZXIgdGhlIG1haW4gY29tcG9uZW50cyB1c2VkIGJ5IHRoZSBzaG93Y2FzZVxuICAgICAgICAgKi9cblxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VJbnN0YW5jZSwgW3tcbiAgICAgICAgICAgIGtleTogJ3JlZ2lzdGVyQ29tcG9uZW50cycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVnaXN0ZXJDb21wb25lbnRzKCkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudEhhbmRsZXIgPSB0aGlzLmV2ZW50cztcbiAgICAgICAgICAgICAgICAvLyBSZWdpc3RlciBvdGhlciBjb21wb25lbnRzIHRvIGJlIGRpc3BsYXllZFxuICAgICAgICAgICAgICAgIHRoaXMub3RoZXJDb21wb25lbnRzID0gW25ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlQmFja2dyb3VuZCh0aGlzKV07XG4gICAgICAgICAgICAgICAgLy8gUmVnaXN0ZXIgb3VyIG1hcHBpbmcgb2Ygc3RhdGVzIHRvIG1haW4gY29tcG9uZW50c1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVDb21wb25lbnRNYXBwaW5nID0ge307XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUNvbXBvbmVudE1hcHBpbmdbUmlkZVN0eWxlclNob3djYXNlLlN0YXRlcy5DaG9vc2VWZWhpY2xlXSA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVNlbGVjdGlvbih0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQ29tcG9uZW50TWFwcGluZ1tSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzLlZpc3VhbGl6ZV0gPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVWaXN1YWxpemF0aW9uKHRoaXMpO1xuICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIG1haW5Db21wb25lbnRzIGZyb20gdGhlIHN0YXRlQ29tcG9uZW50TWFwcGluZ1xuICAgICAgICAgICAgICAgIHRoaXMubWFpbkNvbXBvbmVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzdGF0ZSBpbiB0aGlzLnN0YXRlQ29tcG9uZW50TWFwcGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1haW5Db21wb25lbnRzLnB1c2godGhpcy5zdGF0ZUNvbXBvbmVudE1hcHBpbmdbc3RhdGVdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNldCB0aGUgY29udGFpbmVyIG9mIHRoaXMgc2hvd2Nhc2UgaW5zdGFuY2UgYW5kIGluaXRpYWxpemUgKG9yIHJlLWluaXRpYWxpemUpIGl0XG4gICAgICAgICAgICAgKiBAcGFyYW0gY29udGFpbmVyIFRoZSBjb250YWluZXIgdG8gaW5pdGlhbGl6ZSB0aGlzIHNob3djYXNlIGluXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5lcikgdGhyb3cgXCJDYW5ub3QgaW5pdGlhbGl6ZSBzaG93Y2FzZSB3aXRob3V0IGEgY29udGFpbmVyIHRvIHB1dCBpdCBpbi5cIjtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKGNvbnRhaW5lciwge1xuICAgICAgICAgICAgICAgICAgICByaWRlc3R5bGVyU2hvd2Nhc2U6IHRoaXNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVTdGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVnaXN0ZXJDb21wb25lbnRzKCk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLmFwaS5pbml0aWFsaXplKHRoaXMuc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZVN0eWxlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRmlsdGVycygpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNvbXBvbmVudHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vbihcInZlaGljbGUtc2VsZWN0ZWRcIiwgZnVuY3Rpb24gKHNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5zdGF0ZS5jaGFuZ2VTdGF0ZShSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzLlZpc3VhbGl6ZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVDb25maWd1cmF0aW9uSUQ6IHNlbGVjdGlvbi5WZWhpY2xlQ29uZmlndXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZWhpY2xlRGVzY3JpcHRpb246IHNlbGVjdGlvbi5WZWhpY2xlRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVoaWNsZVRpcmVPcHRpb25JRDogc2VsZWN0aW9uLlRpcmVPcHRpb25JRCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZWhpY2xlVGlyZU9wdGlvbkRlc2NyaXB0aW9uOiBzZWxlY3Rpb24uVGlyZU9wdGlvblN0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWludFNjaGVtZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVoaWNsZUhhc0FuZ2xlZEltYWdlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWhpY2xlSGFzU2lkZUltYWdlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGlyZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFdoZWVsOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2hlZWxGaXRtZW50OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGlyZU9wdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbk1vZGVsOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBzZXR0aW5nc1JldHJpZXZlZCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oUmlkZVN0eWxlclNob3djYXNlLmFwaS5hdXRoZW50aWNhdGVkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnNldHRpbmdzLmdldFNldHRpbmdzKCkuZG9uZShmdW5jdGlvbiAoc2V0dGluZ3NGcm9tQVBJKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5zZXR0aW5nc0Zyb21BUEkgPSBzZXR0aW5nc0Zyb21BUEk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLmFsbChbdGhpcy5zdHlsZS5pbml0aWFsaXplZCwgc2V0dGluZ3NSZXRyaWV2ZWRdKS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZXZlbnRzLnRyaWdnZXIoJ2luaXRpYWxpemVkJywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uU3RhdGVDaGFuZ2VkKHtcbiAgICAgICAgICAgICAgICAgICAgbmV3U3RhdGU6IHRoaXMuc3RhdGUuY3VycmVudFN0YXRlLFxuICAgICAgICAgICAgICAgICAgICBvbGRTdGF0ZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBuZXdEYXRhOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZVN0YXRlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplU3RhdGUoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5zdGF0ZS5SaWRlU3R5bGVyU2hvd2Nhc2VTdGF0ZShSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzLkNob29zZVZlaGljbGUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmRlYnVnLnN0YXRlID09PSB0cnVlKSB0aGlzLnN0YXRlLmRlYnVnQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZSwgZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbmlzaGVkU3RyaW5nID0gZmluaXNoZWQgPyAnRmluaXNoZWQnIDogJ0JlZ2lubmluZyc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZUNoYW5nZSA9IFwidG8gXCIgKyBSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzW2UubmV3U3RhdGVdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGUub2xkU3RhdGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNoYW5nZSA9IFwiZnJvbSBcIiArIFJpZGVTdHlsZXJTaG93Y2FzZS5TdGF0ZXNbZS5vbGRTdGF0ZV0gKyBcIiBcIiArIHN0YXRlQ2hhbmdlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbUmlkZVN0eWxlclNob3djYXNlIFN0YXRlXSAnICsgc3RhdGVDaGFuZ2UgKyAnICcgKyBmaW5pc2hlZFN0cmluZywgZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLm9uQ2hhbmdlKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZXZlbnRzLnRyaWdnZXIoXCJzdGF0ZS1jaGFuZ2VkXCIsIGUpICYmIF90aGlzMi5vblN0YXRlQ2hhbmdlZChlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZVN0eWxlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplU3R5bGUoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHlsZXMuU3R5bGVNYW5hZ2VyKHRoaXMuY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlLm9uUmVzaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmV2ZW50cy50cmlnZ2VyKCdyZXNpemUnLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5vblJlc2l6ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuZXZlbnRzLnRyaWdnZXIoJ3Jlc2l6ZWQnLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5vbkJyZWFrcG9pbnRDaGFuZ2VkID0gZnVuY3Rpb24gKG5ld0JyZWFrcG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5ldmVudHMudHJpZ2dlcignYnJlYWtwb2ludC1jaGFuZ2VkJywgbmV3QnJlYWtwb2ludCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5jb250YWlucygncmlkZXN0eWxlci1zaG93Y2FzZScpKSB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdyaWRlc3R5bGVyLXNob3djYXNlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVGaWx0ZXJzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplRmlsdGVycygpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVycyA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuZmlsdGVycy5GaWx0ZXJDb250cm9sbGVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMub24oXCJ2ZWhpY2xlLXNlbGVjdGVkXCIsIGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LmZpbHRlcnMuc2V0VmVoaWNsZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWhpY2xlQ29uZmlndXJhdGlvbklEOiBzZWxlY3Rpb24uVmVoaWNsZUNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWhpY2xlVGlyZU9wdGlvbklEOiBzZWxlY3Rpb24uVGlyZU9wdGlvbklEXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplQ29tcG9uZW50cycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbXBvbmVudHMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB0aGlzLm90aGVyQ29tcG9uZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNvbXBvbmVudC5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IHRoaXMubWFpbkNvbXBvbmVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfY29tcG9uZW50ID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfY29tcG9uZW50LnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKF9jb21wb25lbnQuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25TdGF0ZUNoYW5nZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3RhdGVDaGFuZ2VkKGV2KSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50Q29tcG9uZW50KGV2KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndXBkYXRlQ3VycmVudENvbXBvbmVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQ3VycmVudENvbXBvbmVudChldikge1xuICAgICAgICAgICAgICAgIHZhciBuZXdDb21wb25lbnQgPSB0aGlzLnN0YXRlQ29tcG9uZW50TWFwcGluZ1tldi5uZXdTdGF0ZV07XG4gICAgICAgICAgICAgICAgdmFyIG9sZENvbXBvbmVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGVDbGFzc1ByZWZpeCA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXN0YXRlLSc7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldi5vbGRTdGF0ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgb2xkQ29tcG9uZW50ID0gdGhpcy5zdGF0ZUNvbXBvbmVudE1hcHBpbmdbZXYub2xkU3RhdGVdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKHN0YXRlQ2xhc3NQcmVmaXggKyBSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzW2V2Lm9sZFN0YXRlXS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZChzdGF0ZUNsYXNzUHJlZml4ICsgUmlkZVN0eWxlclNob3djYXNlLlN0YXRlc1tldi5uZXdTdGF0ZV0udG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgaWYgKG9sZENvbXBvbmVudCAmJiBvbGRDb21wb25lbnQuaXNWaXNpYmxlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgb2xkQ29tcG9uZW50LmhpZGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV3Q29tcG9uZW50LnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3Q29tcG9uZW50LnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlSW5zdGFuY2U7XG4gICAgfSgpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZUluc3RhbmNlID0gUmlkZVN0eWxlclNob3djYXNlSW5zdGFuY2U7XG4gICAgZnVuY3Rpb24gY3JlYXRlKGNvbnRhaW5lciwgc2V0dGluZ3MpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2VJbnN0YW5jZShjb250YWluZXIsIHNldHRpbmdzKTtcbiAgICB9XG4gICAgUmlkZVN0eWxlclNob3djYXNlLmNyZWF0ZSA9IGNyZWF0ZTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgQ29tcG9uZW50QmFzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gQ29tcG9uZW50QmFzZShzaG93Y2FzZUluc3RhbmNlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgQ29tcG9uZW50QmFzZSk7XG5cbiAgICAgICAgICAgIHRoaXMuc2hvd2Nhc2UgPSBzaG93Y2FzZUluc3RhbmNlO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMgPSBzaG93Y2FzZUluc3RhbmNlLmV2ZW50cztcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBzaG93Y2FzZUluc3RhbmNlLnN0YXRlO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplQ29tcG9uZW50KCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgb3ZlcnJpZGFibGUgZnVuY3Rpb24gY2FsbGVkIGFmdGVyIHRoZSBiYXNlIGNvbXBvbmVudCBpcyBpbml0aWFsaXplZFxuICAgICAgICAgKiBAdmlydHVhbFxuICAgICAgICAgKi9cblxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhDb21wb25lbnRCYXNlLCBbe1xuICAgICAgICAgICAga2V5OiBcImluaXRpYWxpemVDb21wb25lbnRcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplQ29tcG9uZW50KCkge31cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBDb21wb25lbnRCYXNlO1xuICAgIH0oKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5Db21wb25lbnRCYXNlID0gQ29tcG9uZW50QmFzZTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBNYWluQ29tcG9uZW50QmFzZSA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJEMpIHtcbiAgICAgICAgX2luaGVyaXRzKE1haW5Db21wb25lbnRCYXNlLCBfUmlkZVN0eWxlclNob3djYXNlJEMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIE1haW5Db21wb25lbnRCYXNlKHNob3djYXNlSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBNYWluQ29tcG9uZW50QmFzZSk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChNYWluQ29tcG9uZW50QmFzZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE1haW5Db21wb25lbnRCYXNlKSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlKSk7XG5cbiAgICAgICAgICAgIF90aGlzLmNvbXBvbmVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgX3RoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5hZGQoJ3JpZGVzdHlsZXItc2hvd2Nhc2UtbWFpbi1jb21wb25lbnQnKTtcbiAgICAgICAgICAgIGlmIChSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIudHJhbnNpdGlvbnNTdXBwb3J0ZWQpIF90aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci50cmFuc2l0aW9uRW5kRXZlbnQsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSB0cmFuc2l0aW9ucyBvbiB0aGlzIGNvbXBvbmVudCBlbGVtZW50XG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSBfdGhpcy5jb21wb25lbnQpIHJldHVybjtcbiAgICAgICAgICAgICAgICBfdGhpcy5vblRyYW5zaXRpb25FbmQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICBfdGhpcy5idWlsZENvbXBvbmVudChfdGhpcy5jb21wb25lbnQpO1xuICAgICAgICAgICAgX3RoaXMuaW5pdGlhbGl6ZU1haW5Db21wb25lbnQoKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQSBvdmVycmlkYWJsZSBmdW5jdGlvbiBjYWxsZWQgYWZ0ZXIgdGhlIGJhc2UgY29tcG9uZW50IGlzIGNvbnN0cnVjdGVkXG4gICAgICAgICAqIEB2aXJ0dWFsXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKE1haW5Db21wb25lbnRCYXNlLCBbe1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZUNvbXBvbmVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbXBvbmVudCgpIHt9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEEgb3ZlcnJpZGFibGUgZnVuY3Rpb24gY2FsbGVkIGFmdGVyIHRoZSBtYWluIGNvbXBvbmVudCBpcyBjb25zdHJ1Y3RlZFxuICAgICAgICAgICAgICogQHZpcnR1YWxcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVNYWluQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplTWFpbkNvbXBvbmVudCgpIHt9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFdoZXRoZXIgb3Igbm90IHRoaXMgY29tcG9uZW50IGlzIHZpc2libGVcbiAgICAgICAgICAgICAqIEByZXR1cm4gdHJ1ZSwgaWYgdGhpcyBjb21wb25lbnQgaXMgdmlzaWJsZSwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdpc1Zpc2libGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGlzVmlzaWJsZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fdmlzaWJsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSGlkZS9zaG93IHRoZSBjb21wb25lbnQgd2l0aG91dCBhbmltYXRpb25cbiAgICAgICAgICAgICAqIEBwYXJhbSB2aXNpYmxlIElmIHRydWUsIHNob3cgdGhlIGNvbXBvbmVudCwgb3RoZXJ3aXNlIGhpZGUgdGhlIGNvbXBvbmVudFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0VmlzaWJsZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmlzaWJsZSh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fdmlzaWJsZSA9PT0gdmlzaWJsZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Zpc2libGUgPSB2aXNpYmxlO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VmlzaWJsZVN0eWxpbmcodmlzaWJsZSk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLnNraXBUcmFuc2l0aW9uKHRoaXMuY29tcG9uZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2aXNpYmxlID8gX3RoaXMyLnNob3coKSA6IF90aGlzMi5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldFZpc2libGVTdHlsaW5nJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWaXNpYmxlU3R5bGluZyh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0eWxlcyA9IHRoaXMuY29tcG9uZW50LnN0eWxlO1xuICAgICAgICAgICAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlcy52aXNpYmlsaXR5ID0gJ3Zpc2libGUnO1xuICAgICAgICAgICAgICAgICAgICBzdHlsZXMudG9wID0gJyc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzLnRvcCA9ICcxMDAwJSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdjYWxsV2hlbkRvbmVBbmltYXRpbmcnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGxXaGVuRG9uZUFuaW1hdGluZyhjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgLy8gQ2FsbCB0aGUgY2FsbGJhY2sgYWZ0ZXIgdGhlIHZpZXcgaGFzIGJlZW4gYW5pbWF0ZWQgaW4gXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FuaW1hdGluZykgUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLm9uTmV4dFRyYW5zaXRpb25FbmQodGhpcy5jb21wb25lbnQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxiYWNrLmNhbGwoX3RoaXMzKTtcbiAgICAgICAgICAgICAgICB9KTtlbHNlIGNhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxlZCBiZWZvcmUgdGhpcyBjb21wb25lbnQgaXMgc2hvd25cbiAgICAgICAgICAgICAqIEB2aXJ0dWFsXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblNob3cnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2hvdygpIHt9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxlZCBiZWZvcmUgdGhpcyBjb21wb25lbnQgaXMgc2hvd24gYnV0IGFmdGVyIGl0IGhhcyByZWNlaXZlZCBkaW1lbnNpb25zXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkRpc3BsYXknLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uRGlzcGxheSgpIHt9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxlZCBhZnRlciB0aGUgY29tcG9uZW50IGlzIHNob3duXG4gICAgICAgICAgICAgKiBAdmlydHVhbFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25TaG93bicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25TaG93bigpIHt9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxlZCBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyBoaWRkZW5cbiAgICAgICAgICAgICAqIEB2aXJ0dWFsXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkhpZGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uSGlkZSgpIHt9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxlZCBhZnRlciB0aGUgY29tcG9uZW50IGlzIGhpZGRlblxuICAgICAgICAgICAgICogQHZpcnR1YWxcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uSGlkZGVuJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkhpZGRlbigpIHt9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFuaW1hdGUgdGhlIGNvbXBvbmVudCBpbnRvIHRoZSB2aWV3XG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzaG93JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBjb21wb25lbnQgaXMgYWxyZWFkeSB2aXNpYmxlLCB0cmlnZ2VyIHRoZSBjYWxsYmFjayBhcyBuZWVkZWRcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFdoZW5Eb25lQW5pbWF0aW5nKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hbmltYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyB2aWV3IGlzIGFuaW1hdGluZyBvdXQsIHNob3cgaXQgYWZ0ZXIgaXQncyBkb25lXG4gICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5vbk5leHRUcmFuc2l0aW9uRW5kKHRoaXMuY29tcG9uZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LnNob3coY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl92aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmltYXRpbmcgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIudHJhbnNpdGlvbnNTdXBwb3J0ZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5vblNob3coKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpc2libGVTdHlsaW5nKHRydWUpO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci50cmlnZ2VyUmVmbG93KHRoaXMuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uRGlzcGxheSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbFdoZW5Eb25lQW5pbWF0aW5nKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblNob3duKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LmFkZCgnaW4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQW5pbWF0ZSB0aGUgY29tcG9uZW50IG91dCBvZiB0aGUgdmlld1xuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaGlkZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZShjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2luJykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWxyZWFkeSBoaWRkZW5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxXaGVuRG9uZUFuaW1hdGluZyhjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYW5pbWF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgdmlldyBpcyBhbmltYXRpbmcgaW4sIHNob3cgaXQgYWZ0ZXIgaXQncyBkb25lXG4gICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5vbk5leHRUcmFuc2l0aW9uRW5kKHRoaXMuY29tcG9uZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmhpZGUoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl92aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5pbWF0aW5nID0gUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLnRyYW5zaXRpb25zU3VwcG9ydGVkO1xuICAgICAgICAgICAgICAgIHRoaXMub25IaWRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsV2hlbkRvbmVBbmltYXRpbmcoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uSGlkZGVuKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIGNhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaW4nKTtcbiAgICAgICAgICAgICAgICBpZiAoIVJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci50cmFuc2l0aW9uc1N1cHBvcnRlZCkgdGhpcy5zZXRWaXNpYmxlU3R5bGluZyhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEhpZGUgY29tcG9uZW50cyBhZnRlciB0cmFuc2l0aW9uIG91dFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25UcmFuc2l0aW9uRW5kJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblRyYW5zaXRpb25FbmQoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2luJykpIHRoaXMuc2V0VmlzaWJsZVN0eWxpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FuaW1hdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIE1haW5Db21wb25lbnRCYXNlO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLk1haW5Db21wb25lbnRCYXNlID0gTWFpbkNvbXBvbmVudEJhc2U7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9zbGljZWRUb0FycmF5ID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBzbGljZUl0ZXJhdG9yKGFyciwgaSkgeyB2YXIgX2FyciA9IFtdOyB2YXIgX24gPSB0cnVlOyB2YXIgX2QgPSBmYWxzZTsgdmFyIF9lID0gdW5kZWZpbmVkOyB0cnkgeyBmb3IgKHZhciBfaSA9IGFycltTeW1ib2wuaXRlcmF0b3JdKCksIF9zOyAhKF9uID0gKF9zID0gX2kubmV4dCgpKS5kb25lKTsgX24gPSB0cnVlKSB7IF9hcnIucHVzaChfcy52YWx1ZSk7IGlmIChpICYmIF9hcnIubGVuZ3RoID09PSBpKSBicmVhazsgfSB9IGNhdGNoIChlcnIpIHsgX2QgPSB0cnVlOyBfZSA9IGVycjsgfSBmaW5hbGx5IHsgdHJ5IHsgaWYgKCFfbiAmJiBfaVtcInJldHVyblwiXSkgX2lbXCJyZXR1cm5cIl0oKTsgfSBmaW5hbGx5IHsgaWYgKF9kKSB0aHJvdyBfZTsgfSB9IHJldHVybiBfYXJyOyB9IHJldHVybiBmdW5jdGlvbiAoYXJyLCBpKSB7IGlmIChBcnJheS5pc0FycmF5KGFycikpIHsgcmV0dXJuIGFycjsgfSBlbHNlIGlmIChTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KGFycikpIHsgcmV0dXJuIHNsaWNlSXRlcmF0b3IoYXJyLCBpKTsgfSBlbHNlIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgYXR0ZW1wdCB0byBkZXN0cnVjdHVyZSBub24taXRlcmFibGUgaW5zdGFuY2VcIik7IH0gfTsgfSgpO1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBkZWZhdWx0U2l6ZSA9IHtcbiAgICAgICAgd2lkdGg6IDIwMCxcbiAgICAgICAgaGVpZ2h0OiAyMDBcbiAgICB9O1xuICAgIHZhciBtaW5pbXVtU2l6ZSA9IHtcbiAgICAgICAgd2lkdGg6IDUwLFxuICAgICAgICBoZWlnaHQ6IDUwXG4gICAgfTtcbiAgICB2YXIgbWF4aW11bVNpemUgPSB7XG4gICAgICAgIHdpZHRoOiA4MDAsXG4gICAgICAgIGhlaWdodDogODAwXG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdFBvc2l0aW9uID0ge1xuICAgICAgICBQb3NpdGlvblk6IDAgLyogTmVhciAqL1xuICAgICAgICAsIFBvc2l0aW9uWDogMCAvKiBOZWFyICovIC8vIExlZnRcbiAgICB9O1xuXG4gICAgdmFyIFJlc2l6ZWFibGVSZXNvdXJjZUltYWdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIGNvbnRhaW5lciBUaGUgY29udGFpbmVyIHRvIHJlbmRlciB0aGUgaW1hZ2UgaW5cbiAgICAgICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIFJlc2l6ZWFibGVSZXNvdXJjZUltYWdlKGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJlc2l6ZWFibGVSZXNvdXJjZUltYWdlKTtcblxuICAgICAgICAgICAgdGhpcy5yZXNpemVDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcbiAgICAgICAgICAgIHRoaXMuYWN0aW9uID0gb3B0aW9ucy5hY3Rpb247XG4gICAgICAgICAgICB0aGlzLmltYWdlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmltYWdlKTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzID0gW107XG4gICAgICAgICAgICBpZiAob3B0aW9ucy50cmFuc2l0aW9uQ2xhc3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLmNsYXNzTGlzdC5hZGQob3B0aW9ucy50cmFuc2l0aW9uQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMudXNlVHJhbnNpdGlvbnMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy50cmFuc2l0aW9uSW5DbGFzcyA9IG9wdGlvbnMudHJhbnNpdGlvbkluQ2xhc3M7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMucGFkZGluZyA9PT0gJ3VuZGVmaW5lZCcpIHRoaXMucGFkZGluZyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5jYWxjdWxhdGVQYWRkaW5nO2Vsc2UgaWYgKG9wdGlvbnMucGFkZGluZyA9PT0gZmFsc2UpIHRoaXMucGFkZGluZyA9IHsgd2lkdGg6IDAsIGhlaWdodDogMCB9O2Vsc2UgdGhpcy5wYWRkaW5nID0gb3B0aW9ucy5wYWRkaW5nO1xuICAgICAgICAgICAgdGhpcy5pbWFnZUxvYWRDYWxsYmFjayA9IG9wdGlvbnMub25Mb2FkO1xuICAgICAgICAgICAgdGhpcy5pbWFnZUVycm9yQ2FsbGJhY2sgPSBvcHRpb25zLm9uRXJyb3I7XG4gICAgICAgICAgICB0aGlzLmltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9uSW1hZ2VFcnJvcihlcnJvcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5vbkltYWdlTG9hZChldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChfdHlwZW9mKG9wdGlvbnMuYmFzZUluc3RydWN0aW9ucykgPT09ICdvYmplY3QnKSB0aGlzLmJhc2VJbnN0cnVjdGlvbnMgPSBvcHRpb25zLmJhc2VJbnN0cnVjdGlvbnM7XG4gICAgICAgICAgICBpZiAodGhpcy5pbnN0cnVjdGlvbnMgJiYgb3B0aW9ucy5sb2FkSW5pdGlhbGx5ICE9PSBmYWxzZSkgdGhpcy51cGRhdGUodGhpcy5pbnN0cnVjdGlvbnMpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGlzdGVuVG9XaW5kb3dSZXNpemUgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRpbWVvdXQgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgdmFyIHdhaXRNcyA9IDUwMDtcbiAgICAgICAgICAgICAgICB2YXIgcmVzaXplQ2FsbGJhY2sgPSBmdW5jdGlvbiByZXNpemVDYWxsYmFjaygpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgd2FpdE1zKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVDYWxsYmFjaywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnB1c2goW3dpbmRvdywgJ3Jlc2l6ZScsIHJlc2l6ZUNhbGxiYWNrXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGwgdGhpcyBmdW5jdGlvbiBhZnRlciB0aGUgY29tcG9uZW50IHdpbGwgbm8gbG9uZ2VyIGJlIHVzZWRcbiAgICAgICAgICogdG8gcmVtb3ZlIGFueSBpbnRlcm5hbGx5IGF0dGFjaGVkIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJlc2l6ZWFibGVSZXNvdXJjZUltYWdlLCBbe1xuICAgICAgICAgICAga2V5OiAnZGVzdHJveScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGVzdHJveSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdGhpcy5ldmVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVnaXN0ZXJlZEV2ZW50ID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfcmVnaXN0ZXJlZEV2ZW50ID0gX3NsaWNlZFRvQXJyYXkocmVnaXN0ZXJlZEV2ZW50LCAzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSBfcmVnaXN0ZXJlZEV2ZW50WzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZSA9IF9yZWdpc3RlcmVkRXZlbnRbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdGVuZXIgPSBfcmVnaXN0ZXJlZEV2ZW50WzJdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGxpc3RlbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBdHRhY2hlZCB0byB0aGUgaW1hZ2UgZXJyb3IgZXZlbnRcbiAgICAgICAgICAgICAqIEBwYXJhbSBlcnJvckV2ZW50IFRoZSBlcnJvciBldmVudFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25JbWFnZUVycm9yJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkltYWdlRXJyb3IoZXJyb3JFdmVudCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5pbWFnZUVycm9yQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHRoaXMuaW1hZ2VFcnJvckNhbGxiYWNrKHRoaXMuaW1hZ2UsIGVycm9yRXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBdHRhY2hlZCB0byB0aGUgaW1hZ2UgbG9hZCBldmVudFxuICAgICAgICAgICAgICogQHBhcmFtIGV2ZW50IFRoZSBpbWFnZSBsb2FkIGV2ZW50XG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkltYWdlTG9hZCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25JbWFnZUxvYWQoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuaW1hZ2VMb2FkQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHRoaXMuaW1hZ2VMb2FkQ2FsbGJhY2sodGhpcy5pbWFnZSwgZXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy52aXNpYmxlKSB0aGlzLnNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2hvdyB0aGUgaW1hZ2VcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3Nob3cnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aXNpYmxlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudXNlVHJhbnNpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLlZpc2liaWxpdHlIZWxwZXIuc2hvdyh0aGlzLmltYWdlLCB0aGlzLnRyYW5zaXRpb25JbkNsYXNzKS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMyLmltYWdlRGlzcGxheUNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBfdGhpczIuaW1hZ2VEaXNwbGF5Q2FsbGJhY2soX3RoaXMyLmltYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGN1bGF0ZSB0aGUgc2l6ZSBvZiB0aGUgaW1hZ2UgZnJvbSB0aGUgY29udGFpbmVyXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdjYWxjdWxhdGVSZW5kZXJTaXplJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxjdWxhdGVSZW5kZXJTaXplKCkge1xuICAgICAgICAgICAgICAgIC8vIEdyYWIgdGhlIHNpemUgb2YgdGhlIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgIHZhciBfY29udGFpbmVyID0gdGhpcy5jb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudFdpZHRoID0gX2NvbnRhaW5lci5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50SGVpZ2h0ID0gX2NvbnRhaW5lci5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgLy8gUmV0dXJuIGRlZmF1bHQgc2l6ZSBpZiB0aGUgY29udGFpbmVyIHdhcyBub3QgYWJsZSB0byBiZSBkZXRlY3RlZFxuXG4gICAgICAgICAgICAgICAgaWYgKCFjbGllbnRIZWlnaHQgfHwgIWNsaWVudFdpZHRoKSByZXR1cm4gZGVmYXVsdFNpemU7XG4gICAgICAgICAgICAgICAgLy8gR3JhYiB0aGUgcGFkZGluZyBzaXplXG4gICAgICAgICAgICAgICAgdmFyIHBhZGRpbmcgPSB0eXBlb2YgdGhpcy5wYWRkaW5nID09PSAnZnVuY3Rpb24nID8gdGhpcy5wYWRkaW5nKHRoaXMuY29udGFpbmVyKSA6IHRoaXMucGFkZGluZztcbiAgICAgICAgICAgICAgICAvLyBUaGUgZGV0ZWN0ZWQgc2l6ZSBvZiB0aGUgY29udGFpbmVyIG1pbnVzIHBhZGRpbmdcbiAgICAgICAgICAgICAgICB2YXIgZGV0ZWN0ZWRTaXplID0ge1xuICAgICAgICAgICAgICAgICAgICB3aWR0aDogY2xpZW50V2lkdGggLSBwYWRkaW5nLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGNsaWVudEhlaWdodCAtIHBhZGRpbmcuaGVpZ2h0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBHZXQgdGhlIHBpeGVsIHJhdGlvIGZvciByZXRpbmEgc2NyZWVuc1xuICAgICAgICAgICAgICAgIHZhciBwaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMTtcbiAgICAgICAgICAgICAgICAvLyBBZGp1c3QgdGhlIGRldGVjdGVkIHNpemUgdG8gYWNjb3VudCBmb3IgcGl4ZWwgcmF0aW9cbiAgICAgICAgICAgICAgICBkZXRlY3RlZFNpemUud2lkdGggKj0gcGl4ZWxSYXRpbztcbiAgICAgICAgICAgICAgICBkZXRlY3RlZFNpemUuaGVpZ2h0ICo9IHBpeGVsUmF0aW87XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Cb3hIZWxwZXIuZmxvb3IoUmlkZVN0eWxlclNob3djYXNlLkJveEhlbHBlci5ib3VuZChkZXRlY3RlZFNpemUsIG1pbmltdW1TaXplLCBtYXhpbXVtU2l6ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzaXplSXNEaWZmZXJlbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNpemVJc0RpZmZlcmVudChib3gpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudFNpemUpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfY3VycmVudFNpemUgPSB0aGlzLmN1cnJlbnRTaXplLFxuICAgICAgICAgICAgICAgICAgICB0aGlzV2lkdGggPSBfY3VycmVudFNpemUud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIHRoaXNIZWlnaHQgPSBfY3VycmVudFNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgICAgIHZhciBib3hXaWR0aCA9IGJveC53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgYm94SGVpZ2h0ID0gYm94LmhlaWdodDtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzV2lkdGggIT09IGJveFdpZHRoIHx8IHRoaXNIZWlnaHQgIT09IGJveEhlaWdodDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogVXBkYXRlIG9yIGNyZWF0ZSB0aGUgaW1hZ2VcbiAgICAgICAgICAgICAqIEBwYXJhbSBpbnN0cnVjdGlvbnMgTmV3IGluc3RydWN0aW9ucyB0byByZW5kZXIgdGhlIGltYWdlIHdpdGhcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKGluc3RydWN0aW9ucykge1xuICAgICAgICAgICAgICAgIHZhciBuZWVkc1VwZGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBpbnN0cnVjdGlvbnNcbiAgICAgICAgICAgICAgICBpZiAoaW5zdHJ1Y3Rpb25zICYmIHRoaXMuaW5zdHJ1Y3Rpb25zICE9PSBpbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbnM7XG4gICAgICAgICAgICAgICAgICAgIG5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHNpemVcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZW5kZXJTaXplID0gdGhpcy5jYWxjdWxhdGVSZW5kZXJTaXplKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnNpemVJc0RpZmZlcmVudChyZW5kZXJTaXplKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U2l6ZSA9IHJlbmRlclNpemU7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5lZWRzVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfY3VycmVudFNpemUyID0gdGhpcy5jdXJyZW50U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gX2N1cnJlbnRTaXplMi53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IF9jdXJyZW50U2l6ZTIuaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gcmlkZXN0eWxlci5hamF4LnVybCh0aGlzLmFjdGlvbiwgUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgV2lkdGg6IHdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgSGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgfSwgZGVmYXVsdFBvc2l0aW9uLCB0aGlzLmJhc2VJbnN0cnVjdGlvbnMsIHRoaXMuaW5zdHJ1Y3Rpb25zKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJlc2l6ZWFibGVSZXNvdXJjZUltYWdlO1xuICAgIH0oKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SZXNpemVhYmxlUmVzb3VyY2VJbWFnZSA9IFJlc2l6ZWFibGVSZXNvdXJjZUltYWdlO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRDKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kLCBfUmlkZVN0eWxlclNob3djYXNlJEMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQoKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlQmFja2dyb3VuZCk7XG5cbiAgICAgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlQmFja2dyb3VuZC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kLCBbe1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZUNvbXBvbmVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbXBvbmVudCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYmFja2dyb3VuZEVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtYmFja2dyb3VuZCdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgYmFja2dyb3VuZFRleHR1cmUgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtYmFja2dyb3VuZC10ZXh0dXJlJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IGJhY2tncm91bmRFbGVtZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSBiYWNrZ3JvdW5kRWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQgPSBSaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9ICdyaWRlc3R5bGVyLXNob3djYXNlLWJ1dHRvbi1waWNrZXInO1xuICAgIHZhciBvcHRpb25DbGFzcyA9IGNsYXNzTmFtZSArICctb3B0aW9uJztcbiAgICB2YXIgYWN0aXZlQ2xhc3MgPSBvcHRpb25DbGFzcyArICctYWN0aXZlJztcblxuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VCdXR0b25QaWNrZXIgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRDKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VCdXR0b25QaWNrZXIsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkQyk7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyKHNob3djYXNlSW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VCdXR0b25QaWNrZXIpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyKSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlKSk7XG5cbiAgICAgICAgICAgIF90aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLXRpdGxlJyxcbiAgICAgICAgICAgICAgICB0ZXh0OiBvcHRpb25zLnRpdGxlLFxuICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBfdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgIH0pLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9wdGlvbkNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gX3RoaXMub3B0aW9uQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPT0gJ25vbmUnID8gJycgOiAnbm9uZSc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLm9wdGlvbkNvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctb3B0aW9uLWNvbnRhaW5lcicsXG4gICAgICAgICAgICAgICAgYXBwZW5kVG86IF90aGlzLmNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiAnbm9uZSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLm9wdGlvbkNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5vbk9wdGlvbkNsaWNrKGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZUJ1dHRvblBpY2tlciwgW3tcbiAgICAgICAgICAgIGtleTogJ3NldE9wdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmVtcHR5KHRoaXMub3B0aW9uQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IG9wdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25FbGVtZW50ID0gT2JqZWN0LmFzc2lnbihSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBvcHRpb25DbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBvcHRpb24ubGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uLmFjdGl2ZSkgb3B0aW9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKGFjdGl2ZUNsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKG9wdGlvbkVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uT3B0aW9uQ2xpY2snLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uT3B0aW9uQ2xpY2soZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggcGFyZW50cyB1bnRpbCB3ZSd2ZSByZWFjaGVkIHRoZSBib3VuZCBlbGVtZW50XG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnRUYXJnZXQgIT09IHRoaXMub3B0aW9uQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhvcHRpb25DbGFzcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFuIG9wdGlvbiB3YXMgY2xpY2tlZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBhY3RpdmUgY2xhc3MgZnJvbSB0aGUgb2xkIG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNoaWxkcmVuV2l0aENsYXNzZXModGhpcy5vcHRpb25Db250YWluZXIsIGFjdGl2ZUNsYXNzKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hpbGQuY2xhc3NMaXN0LnJlbW92ZShhY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSAvLyBBZGQgaXQgdG8gdGhlIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5hZGQoYWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvblNlbGVjdGVkQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHRoaXMub3B0aW9uU2VsZWN0ZWRDYWxsYmFjayhjdXJyZW50VGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VCdXR0b25QaWNrZXI7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyID0gUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZSA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJFIpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZSwgX1JpZGVTdHlsZXJTaG93Y2FzZSRSKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VDaGFuZ2VXaGVlbFNpemUoc2hvd2Nhc2VJbnN0YW5jZSkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZSk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VDaGFuZ2VXaGVlbFNpemUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VDaGFuZ2VXaGVlbFNpemUpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UsIHtcbiAgICAgICAgICAgICAgICB0aXRsZTogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdjaGFuZ2Utd2hlZWwtc2l6ZScpXG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIF90aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QuYWRkKCdyaWRlc3R5bGVyLXNob3djYXNlLWNoYW5nZS13aGVlbC1zaXplJyk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlQ2hhbmdlV2hlZWxTaXplLCBbe1xuICAgICAgICAgICAga2V5OiAnc2V0Rml0bWVudE9wdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZpdG1lbnRPcHRpb25zKGZpdG1lbnRzLCBhY3RpdmVGaXRtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHNlZW5EaWFtZXRlcnMgPSB7fTtcbiAgICAgICAgICAgICAgICB2YXIgZGlhbWV0ZXJGaXRtZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBmaXRtZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXRtZW50ID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaWFtZXRlciA9IGZpdG1lbnQuRGlhbWV0ZXJNaW47XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlhbWV0ZXIgaW4gc2VlbkRpYW1ldGVycyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWVuRGlhbWV0ZXJzW2RpYW1ldGVyXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbWV0ZXJGaXRtZW50cy5wdXNoKFtkaWFtZXRlciwgZml0bWVudF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBkaWFtZXRlckZpdG1lbnRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFbMF0gLSBiWzBdO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChkaWFtZXRlckZpdG1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnNldE9wdGlvbnMoUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyLm1hcChkaWFtZXRlckZpdG1lbnRzLCBmdW5jdGlvbiAoZGlhbWV0ZXJGaXRtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZGlhbWV0ZXJGaXRtZW50WzBdICsgJ+KAsycsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZGlhbWV0ZXJGaXRtZW50WzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiBkaWFtZXRlckZpdG1lbnRbMV0gPT09IGFjdGl2ZUZpdG1lbnRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlQ2hhbmdlV2hlZWxTaXplO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZUJ1dHRvblBpY2tlcik7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlQ2hhbmdlV2hlZWxTaXplID0gUmlkZVN0eWxlclNob3djYXNlQ2hhbmdlV2hlZWxTaXplO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIG1vZGFsQ2xhc3MgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1tb2RhbCc7XG4gICAgdmFyIGJhY2tkcm9wQ2xhc3MgPSBtb2RhbENsYXNzICsgJy1iYWNrZHJvcCc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlTW9kYWwgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRDKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbChzaG93Y2FzZUluc3RhbmNlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlTW9kYWwpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlTW9kYWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCkpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSkpO1xuXG4gICAgICAgICAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgYmFja2Ryb3AgaWYgbmVlZGVkXG4gICAgICAgICAgICBfdGhpcy5jcmVhdGVCYWNrZHJvcElmTmVlZGVkKCk7XG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIG1vZGFsXG4gICAgICAgICAgICBfdGhpcy5idWlsZE1vZGFsKCk7XG4gICAgICAgICAgICAvLyBNb2RhbHMgc3RhcnQgb2ZmIGhpZGRlbiB1bnRpbCBzaG93blxuICAgICAgICAgICAgX3RoaXMuc2V0VmlzaWJpbGl0eShmYWxzZSk7XG4gICAgICAgICAgICAvLyBNb2RhbHMgYXJlIGFwcGVuZGVkIHRvIHRoZSBzaG93Y2FzZSBjb250YWluZXJcbiAgICAgICAgICAgIF90aGlzLnBhcmVudCA9IHNob3djYXNlSW5zdGFuY2UuY29udGFpbmVyO1xuICAgICAgICAgICAgX3RoaXMucGFyZW50LmFwcGVuZENoaWxkKF90aGlzLmNvbXBvbmVudCk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1aWxkIHRoZSBtb2RhbCBET00gc3RydWN0dXJlXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsLCBbe1xuICAgICAgICAgICAga2V5OiAnYnVpbGRNb2RhbCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRNb2RhbCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gT2JqZWN0LmFzc2lnbihSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogbW9kYWxDbGFzc1xuICAgICAgICAgICAgICAgIH0pLCB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsOiB0aGlzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5mdWxsKSB0aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QuYWRkKG1vZGFsQ2xhc3MgKyAnLWZ1bGwnKTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdidXR0b24nLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogbW9kYWxDbGFzcyArICctY2xvc2UnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFjdGlvbnMpIHRoaXMuYnVpbGRBY3Rpb25zKHRoaXMub3B0aW9ucy5hY3Rpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnYnVpbGRBY3Rpb25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZEFjdGlvbnMoYWN0aW9ucykge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdmFyIGFjdGlvbkNvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBtb2RhbENsYXNzICsgJy1hY3Rpb25zJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGlvbkJ1dHRvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUJ1dHRvbihSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogYWN0aW9uQ29udGFpbmVyXG4gICAgICAgICAgICAgICAgICAgIH0sIGFjdGlvbikpO1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb25CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGFjdGlvbi5hY3Rpb24gPT09ICdmdW5jdGlvbicpIGFjdGlvbi5hY3Rpb24oKTtlbHNlIGlmIChhY3Rpb24uYWN0aW9uID09PSAnaGlkZS1tb2RhbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGFjdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aW9uID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9sb29wKGFjdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FsbGVkIHdoZW4gdGhpcyBtb2RhbCBpcyBsYXllZC1vdXQgYW5kIGFib3V0IHRvIHRyYW5zaXRpb24gaW5cbiAgICAgICAgICAgICAqIEB2aXJ0dWFsXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblNob3cnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2hvdygpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy50cmlnZ2VyKCdtb2RhbC1zaG93JywgeyBtb2RhbDogdGhpcyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FsbGVkIHdoZW4gdGhpcyBtb2RhbCBpcyB2aXNpYmxlXG4gICAgICAgICAgICAgKiBAdmlydHVhbFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25TaG93bicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25TaG93bigpIHt9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxlZCB3aGVuIHRoaXMgbW9kYWwgaXMgYWJvdXQgdG8gdHJhbnNpdGlvbiBvdXRcbiAgICAgICAgICAgICAqIEB2aXJ0dWFsXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkhpZGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uSGlkZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy50cmlnZ2VyKCdtb2RhbC1oaWRlJywgeyBtb2RhbDogdGhpcyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FsbGVkIHdoZW4gdGhpcyBtb2RhbCBpcyBoaWRkZW5cbiAgICAgICAgICAgICAqIEB2aXJ0dWFsXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkhpZGRlbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25IaWRkZW4oKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdmVPbkhpZGRlbikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzaG93JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuVmlzaWJpbGl0eUhlbHBlci5zaG93KHRoaXMuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uU2hvdygpO1xuICAgICAgICAgICAgICAgIHByb21pc2UuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQub25TaG93bigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdoaWRlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdmFyIHByb21pc2UgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuVmlzaWJpbGl0eUhlbHBlci5oaWRlKHRoaXMuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uSGlkZSgpO1xuICAgICAgICAgICAgICAgIHByb21pc2UuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUub25IaWRkZW4oKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0VmlzaWJpbGl0eScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmlzaWJpbGl0eSh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLlZpc2liaWxpdHlIZWxwZXIuc2V0VmlzaWJpbGl0eSh0aGlzLmNvbXBvbmVudCwgdmlzaWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENyZWF0ZXMgdGhlIGJhY2tkcm9wIGlmIG5lZWRlZFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY3JlYXRlQmFja2Ryb3BJZk5lZWRlZCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlQmFja2Ryb3BJZk5lZWRlZCgpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIHByZXZpb3VzbHkgZXhpc3RpbmcgYmFja2Ryb3AgY3JlYXRlIGEgbmV3IG9uZVxuICAgICAgICAgICAgICAgIGlmICghUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuaGFzQ2hpbGRXaXRoQ2xhc3ModGhpcy5zaG93Y2FzZS5jb250YWluZXIsIGJhY2tkcm9wQ2xhc3MpKSBuZXcgUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcCh0aGlzLnNob3djYXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbDtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5Db21wb25lbnRCYXNlKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCA9IFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsQmFja2Ryb3AgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRDMikge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcCwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDMik7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcChzaG93Y2FzZUluc3RhbmNlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcCk7XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgYmFja2Ryb3BcbiAgICAgICAgICAgIHZhciBfdGhpczYgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsQmFja2Ryb3ApKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UpKTtcblxuICAgICAgICAgICAgX3RoaXM2LmJ1aWxkQmFja2Ryb3AoKTtcbiAgICAgICAgICAgIC8vIFRoZSBiYWNrZHJvcCBzdGFydHMgb2ZmIGhpZGRlblxuICAgICAgICAgICAgX3RoaXM2LnNldFZpc2liaWxpdHkoZmFsc2UpO1xuICAgICAgICAgICAgLy8gQXBwZW5kIHRoZSBiYWNrZHJvcCB0byB0aGUgc2hvd2Nhc2UgY29udGFpbmVyXG4gICAgICAgICAgICBzaG93Y2FzZUluc3RhbmNlLmNvbnRhaW5lci5hcHBlbmRDaGlsZChfdGhpczYuY29tcG9uZW50KTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczY7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcCwgW3tcbiAgICAgICAgICAgIGtleTogJ2J1aWxkQmFja2Ryb3AnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkQmFja2Ryb3AoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzNyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MoJ2RpdicsIGJhY2tkcm9wQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG9wVmlzaWJsZU1vZGFsID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIubGFzdFNpYmxpbmdXaXRoQ2xhc3MoX3RoaXM3LmNvbXBvbmVudCwgbW9kYWxDbGFzcywgJ2luJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b3BWaXNpYmxlTW9kYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcFZpc2libGVNb2RhbC5tb2RhbC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZUNvbXBvbmVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbXBvbmVudCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uKCdtb2RhbC1zaG93JywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzOC51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vbignbW9kYWwtaGlkZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczgudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEhpZGUgb3Igc2hvdyB0aGUgYmFja2Ryb3AgYmFzZWQgb2ZmIHRoZSBudW1iZXIgb2YgdmlzaWJsZSBtb2RhbHNcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlKCkge1xuICAgICAgICAgICAgICAgIHZhciBoYXNWaXNpYmxlTW9kYWwgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5oYXNTaWJsaW5nV2l0aENsYXNzKHRoaXMuY29tcG9uZW50LCBtb2RhbENsYXNzLCAnaW4nKTtcbiAgICAgICAgICAgICAgICB0aGlzW2hhc1Zpc2libGVNb2RhbCA/ICdzaG93JyA6ICdoaWRlJ10oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2hvdycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlZpc2liaWxpdHlIZWxwZXIuc2hvdyh0aGlzLmNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2hpZGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5WaXNpYmlsaXR5SGVscGVyLmhpZGUodGhpcy5jb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRWaXNpYmlsaXR5JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWaXNpYmlsaXR5KHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuVmlzaWJpbGl0eUhlbHBlci5zZXRWaXNpYmlsaXR5KHRoaXMuY29tcG9uZW50LCB2aXNpYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbEJhY2tkcm9wO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsQmFja2Ryb3AgPSBSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbEJhY2tkcm9wO1xuICAgIChmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlTW9kYWwpIHtcbiAgICAgICAgO1xuICAgIH0pKFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsID0gUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlTW9kYWwgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBvcHRpb25NZW51Q2xhc3MgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1vcHRpb24tbWVudSc7XG4gICAgdmFyIG9wdGlvbk1lbnVPcHRpb25DbGFzcyA9IG9wdGlvbk1lbnVDbGFzcyArICctb3B0aW9uJztcbiAgICB2YXIgb3B0aW9uTWVudU9wdGlvbkFjdGl2ZUNsYXNzID0gb3B0aW9uTWVudU9wdGlvbkNsYXNzICsgJy1hY3RpdmUnO1xuICAgIHZhciBvcHRpb25NZW51TG9hZGluZ0NsYXNzID0gb3B0aW9uTWVudUNsYXNzICsgJy1sb2FkaW5nJztcblxuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51KG5hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51KTtcblxuICAgICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBvcHRpb25NZW51Q2xhc3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoY2xpY2tFdmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5vbkNsaWNrZWQoY2xpY2tFdmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zKSB0aGlzLnNldE9wdGlvbnMob3B0aW9ucyk7ZWxzZSB0aGlzLnNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlT3B0aW9uTWVudSwgW3tcbiAgICAgICAgICAgIGtleTogJ3NldExvYWRpbmcnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldExvYWRpbmcobG9hZGluZykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC50b2dnbGUob3B0aW9uTWVudUxvYWRpbmdDbGFzcywgbG9hZGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dlbmVyYXRlT3B0aW9uRWxlbWVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVPcHRpb25FbGVtZW50KG9wdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25FbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG9wdGlvbk1lbnVPcHRpb25DbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogb3B0aW9uLmxhYmVsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgb3B0aW9uRWxlbWVudC52YWx1ZSA9IG9wdGlvbi52YWx1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3B0aW9uRWxlbWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY2xlYXJPcHRpb25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhck9wdGlvbnMoKSB7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuZW1wdHkodGhpcy5jb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdhcHBlbmRPcHRpb25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBlbmRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gb3B0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYXBwZW5kQ2hpbGQodGhpcy5nZW5lcmF0ZU9wdGlvbkVsZW1lbnQob3B0aW9uKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0T3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhck9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0VmFsdWUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFZhbHVlKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuY29tcG9uZW50LmNoaWxkcmVuLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uRWxlbWVudCA9IHRoaXMuY29tcG9uZW50LmNoaWxkcmVuW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGl2ZSA9IG9wdGlvbkVsZW1lbnQudmFsdWUgPT09IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25FbGVtZW50LmNsYXNzTGlzdC50b2dnbGUob3B0aW9uTWVudU9wdGlvbkFjdGl2ZUNsYXNzLCBhY3RpdmUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlKSB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkNsaWNrZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2tlZChjbGlja0V2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGNsaWNrRXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhvcHRpb25NZW51T3B0aW9uQ2xhc3MpKSByZXR1cm47IC8vIFRoZSBjbGljayB3YXMgbm90IG9uIGFuIG9wdGlvblxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKG9wdGlvbk1lbnVPcHRpb25BY3RpdmVDbGFzcykpIHJldHVybjsgLy8gVGhlIGNsaWNrIHdhcyBvbiBhbiBhY3RpdmUgb3B0aW9uXG4gICAgICAgICAgICAgICAgdmFyIHByZXZpb3VzbHlTZWxlY3RlZE9wdGlvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmZpcnN0Q2hpbGRXaXRoQ2xhc3ModGhpcy5jb21wb25lbnQsIG9wdGlvbk1lbnVPcHRpb25BY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICAgICAgdmFyIG5ld1NlbGVjdGVkT3B0aW9uID0gdGFyZ2V0O1xuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c2x5U2VsZWN0ZWRPcHRpb24pIHByZXZpb3VzbHlTZWxlY3RlZE9wdGlvbi5jbGFzc0xpc3QucmVtb3ZlKG9wdGlvbk1lbnVPcHRpb25BY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICAgICAgbmV3U2VsZWN0ZWRPcHRpb24uY2xhc3NMaXN0LmFkZChvcHRpb25NZW51T3B0aW9uQWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBuZXdTZWxlY3RlZE9wdGlvbi52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub25DaGFuZ2UgPT09ICdmdW5jdGlvbicpIHRoaXMub25DaGFuZ2UobmV3U2VsZWN0ZWRPcHRpb24udmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZU9wdGlvbk1lbnU7XG4gICAgfSgpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZU9wdGlvbk1lbnUgPSBSaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51O1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIHByZXZCdXR0b25DbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXBhZ2luYXRpb24tcHJldic7XG4gICAgdmFyIG5leHRCdXR0b25DbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXBhZ2luYXRpb24tbmV4dCc7XG4gICAgdmFyIG9wdGlvbkNsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi1vcHRpb24nO1xuICAgIHZhciBvcHRpb25TZWxlY3RlZENsYXNzID0gb3B0aW9uQ2xhc3MgKyAnLXNlbGVjdGVkJztcbiAgICB2YXIgb3B0aW9uTG9hZGluZ0NsYXNzID0gb3B0aW9uQ2xhc3MgKyAnLWxvYWRpbmcnO1xuICAgIHZhciBvcHRpb25Mb2FkZXJDbGFzcyA9IG9wdGlvbkNsYXNzICsgJy1sb2FkZXInO1xuICAgIHZhciBub1Jlc3VsdHNDbGFzcyA9IG9wdGlvbkNsYXNzICsgJy1uby1yZXN1bHRzJztcblxuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VQYWdpbmF0aW9uQ29tcG9uZW50ID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudCwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VQYWdpbmF0aW9uQ29tcG9uZW50KCkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQpO1xuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRydWUsIHRoaXMgaGFzIG1vcmUgcmVzdWx0cyB0aGF0IGl0IGNhbiBsb2FkXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VQYWdpbmF0aW9uQ29tcG9uZW50Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgICAgICBfdGhpcy5oYXNNb3JlUmVzdWx0cyA9IHRydWU7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRydWUsIHRoaXMgaXMgbG9hZGluZ1xuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdHJ1ZSwgdGhlIGZpcnN0IGxvYWQgaXMgYmVpbmcgcHJlZm9ybWVkIG9yIGhhc24ndCBiZWVuIHByZWZvcm1lZCB5ZXQuXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF90aGlzLmlzRmlyc3RMb2FkID0gdHJ1ZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0IHRoaXMgdG8gZmFsc2UgdG8gbm90IHNob3cgdGhlIG5vIHJlc3VsdHMgbWVzc2FnZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfdGhpcy5lbmFibGVTaG93Tm9SZXN1bHRzID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VQYWdpbmF0aW9uQ29tcG9uZW50LCBbe1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZUNvbXBvbmVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbXBvbmVudCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLXBhZ2luYXRpb24nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25Db250YWluZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi13cmFwcGVyJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2QnV0dG9uID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnYnV0dG9uJywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHByZXZCdXR0b25DbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUljb24oJ2NoZXZyb24tbGVmdCcpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0QnV0dG9uID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnYnV0dG9uJywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG5leHRCdXR0b25DbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUljb24oJ2NoZXZyb24tcmlnaHQnKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIExpc3RlbiBmb3IgY2xpY2tzIG9uIG9wdGlvbnNcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uQ29tcG9uZW50Q2xpY2soZXZlbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIFJ1biBjbGVhciBvcHRpb25zIHRvIGdldCB0aGUgbG9hZGVyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhck9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAvLyBMb2FkIHBhZ2luYXRpb24gYWZ0ZXIgdGhpcyBjb21wb25lbnQgaGFzIGJlZW4gc2V0dXBcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5sb2FkTW9yZSgpO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5TY3JvbGxIZWxwZXIuYXR0YWNoV2hlZWxMaXN0ZW5lcih0aGlzLmNvbXBvbmVudCwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWx0YSA9IGV2ZW50LmRlbHRhWCB8fCBldmVudC5kZWx0YVk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfb3B0aW9uQ29udGFpbmVyID0gX3RoaXMyLm9wdGlvbkNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbExlZnQgPSBfb3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxXaWR0aCA9IF9vcHRpb25Db250YWluZXIuc2Nyb2xsV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRXaWR0aCA9IF9vcHRpb25Db250YWluZXIub2Zmc2V0V2lkdGg7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gTWF0aC5taW4oc2Nyb2xsTGVmdCArIGRlbHRhLCBzY3JvbGxXaWR0aCAtIG9mZnNldFdpZHRoKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLm9wdGlvbkNvbnRhaW5lci5zY3JvbGxMZWZ0ID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi50b3VjaFNjcm9sbEhhbmRsZXIuc2V0VmFsdWVzKG5ld1ZhbHVlLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLm9uU2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaFNjcm9sbEhhbmRsZXIgPSBuZXcgSW1wZXR1cyh7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogdGhpcy5vcHRpb25Db250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIGJvdW5jZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG11bHRpcGxpZXI6IC0xLFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZSh4LCB5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh4LCB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5vcHRpb25Db250YWluZXIuc2Nyb2xsTGVmdCA9IHg7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIub3B0aW9uQ29udGFpbmVyLnNjcm9sbFRvcCA9IHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIub25TY3JvbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYm91bmRZOiBbMCwgMF1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnbG9hZE1vcmUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRNb3JlKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRNb3JlKCkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmNsZWFyT3B0aW9uTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMy51cGRhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndXBkYXRlQm91bmRzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVCb3VuZHMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9vcHRpb25Db250YWluZXIyID0gdGhpcy5vcHRpb25Db250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFdpZHRoID0gX29wdGlvbkNvbnRhaW5lcjIuc2Nyb2xsV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFdpZHRoID0gX29wdGlvbkNvbnRhaW5lcjIub2Zmc2V0V2lkdGg7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoU2Nyb2xsSGFuZGxlci5zZXRCb3VuZFgoWzAsIHNjcm9sbFdpZHRoIC0gb2Zmc2V0V2lkdGhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25TY3JvbGwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2Nyb2xsKCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGFnaW5hdGlvbkJ1dHRvbnMoKTtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uQ29udGFpbmVyID0gdGhpcy5vcHRpb25Db250YWluZXI7XG4gICAgICAgICAgICAgICAgdmFyIHJlYWNoZWRFbmRUb2xlcmFuY2UgPSAxMDtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgPj0gb3B0aW9uQ29udGFpbmVyLnNjcm9sbFdpZHRoIC0gb3B0aW9uQ29udGFpbmVyLm9mZnNldFdpZHRoIC0gcmVhY2hlZEVuZFRvbGVyYW5jZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRW5kVmlzaWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25FbmRWaXNpYmxlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkVuZFZpc2libGUoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzTG9hZGluZyAmJiB0aGlzLmhhc01vcmVSZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkT3B0aW9uTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZE1vcmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uQ29tcG9uZW50Q2xpY2snLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ29tcG9uZW50Q2xpY2soZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICAvLyBJdGVyYXRlIHRocm91Z2ggcGFyZW50cyB1bnRpbCB3ZSd2ZSByZWFjaGVkIHRoZSBib3VuZCBlbGVtZW50XG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnRUYXJnZXQgIT09IHRoaXMuY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50VGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhvcHRpb25DbGFzcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25PcHRpb25DbGljayhjdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50VGFyZ2V0ID09PSB0aGlzLnByZXZCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJldmlvdXNQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFRhcmdldCA9PT0gdGhpcy5uZXh0QnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm5leHRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZVBhZ2luYXRpb25CdXR0b25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVQYWdpbmF0aW9uQnV0dG9ucygpIHtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uQ29udGFpbmVyID0gdGhpcy5vcHRpb25Db250YWluZXI7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2QnV0dG9uLmRpc2FibGVkID0gb3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgPT09IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5uZXh0QnV0dG9uLmRpc2FibGVkID0gb3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgPj0gb3B0aW9uQ29udGFpbmVyLnNjcm9sbFdpZHRoIC0gb3B0aW9uQ29udGFpbmVyLmNsaWVudFdpZHRoIC0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQWRkcyBhIHNwaW5uZXIgdG8gdGhlIGVuZCBvZiB0aGUgbGlzdCBpbmRpY2F0aW5nIHNvbWV0aGluZyBpcyBsb2FkaW5nXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdhZGRPcHRpb25Mb2FkZXInLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE9wdGlvbkxvYWRlcigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogb3B0aW9uQ2xhc3MgKyAnICcgKyBvcHRpb25Mb2FkZXJDbGFzc1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY2xlYXJPcHRpb25Mb2FkZXInLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyT3B0aW9uTG9hZGVyKCkge1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLnJlbW92ZUNoaWxkcmVuV2l0aENsYXNzZXModGhpcy5vcHRpb25Db250YWluZXIsIG9wdGlvbkxvYWRlckNsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnYWRkT3B0aW9uRWxlbWVudHMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE9wdGlvbkVsZW1lbnRzKGVsZW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzIGluc3RhbmNlb2YgTm9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtZW50cyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbGVtZW50cy5sZW5ndGggJiYgdGhpcy5lbmFibGVTaG93Tm9SZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dOb1Jlc3VsdHMoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGVsZW1lbnRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhck9wdGlvbkxvYWRlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0ZpcnN0TG9hZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzaG93Tm9SZXN1bHRzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93Tm9SZXN1bHRzKCkge1xuICAgICAgICAgICAgICAgIHRoaXMubm9SZXN1bHRzRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBvcHRpb25DbGFzcyArICcgJyArIG5vUmVzdWx0c0NsYXNzLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ25vLXJlc3VsdHMnKSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMub3B0aW9uQ29udGFpbmVyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NsZWFyT3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJPcHRpb25zKCkge1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmVtcHR5KHRoaXMub3B0aW9uQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE9wdGlvbkxvYWRlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNGaXJzdExvYWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd1cGRhdGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZ2luYXRpb25CdXR0b25zKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2Nyb2xsVG8nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFRvKG5ld0xlZnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHZhciBzdGFydExlZnQgPSB0aGlzLm9wdGlvbkNvbnRhaW5lci5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IE1hdGguYWJzKHN0YXJ0TGVmdCAtIG5ld0xlZnQpIC8gMjtcbiAgICAgICAgICAgICAgICBUaW55QW5pbWF0ZS5hbmltYXRlKHN0YXJ0TGVmdCwgbmV3TGVmdCwgZHVyYXRpb24sIGZ1bmN0aW9uIChjdXJyZW50TGVmdCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQub3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgPSBjdXJyZW50TGVmdDtcbiAgICAgICAgICAgICAgICB9LCAnZWFzZU91dEN1YmljJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdwcmV2aW91c1BhZ2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByZXZpb3VzUGFnZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFRvKHRoaXMub3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgLSB0aGlzLm9wdGlvbkNvbnRhaW5lci5jbGllbnRXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ25leHRQYWdlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBuZXh0UGFnZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFRvKHRoaXMub3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgKyB0aGlzLm9wdGlvbkNvbnRhaW5lci5jbGllbnRXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NlbGVjdE9wdGlvbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0T3B0aW9uKG9wdGlvbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE9wdGlvbiA9PT0gb3B0aW9uRWxlbWVudCkgcmV0dXJuOyAvLyBBbHJlYWR5IHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgdmFyIG9sZE9wdGlvbkVsZW1lbnQgPSB0aGlzLnNlbGVjdGVkT3B0aW9uO1xuICAgICAgICAgICAgICAgIGlmIChvbGRPcHRpb25FbGVtZW50KSBvbGRPcHRpb25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUob3B0aW9uU2VsZWN0ZWRDbGFzcywgb3B0aW9uTG9hZGluZ0NsYXNzKTtcbiAgICAgICAgICAgICAgICBvcHRpb25FbGVtZW50LmNsYXNzTGlzdC5hZGQob3B0aW9uU2VsZWN0ZWRDbGFzcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbiA9IG9wdGlvbkVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNldCBvciByZW1vdmUgdGhlIGxvYWRpbmcgY2xhc3MgZnJvbSB0aGUgY3VycmVudGx5IHNlbGVjdGVkIG9wdGlvblxuICAgICAgICAgICAgICogQHBhcmFtIGlzTG9hZGluZyBJZiB0cnVlLCBhZGQgdGhlIGxvYWRpbmcgY2xhc3MsIG90aGVyd2lzZSByZW1vdmUgaXRcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldE9wdGlvbklzTG9hZGluZycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0aW9uSXNMb2FkaW5nKGlzTG9hZGluZykge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZWxlY3RlZE9wdGlvbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24uY2xhc3NMaXN0W2lzTG9hZGluZyA/ICdhZGQnIDogJ3JlbW92ZSddKG9wdGlvbkxvYWRpbmdDbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxlZCB3aGVuIGFuIG9wdGlvbiBlbGVtZW50IGlzIGNsaWNrZWQgb24uXG4gICAgICAgICAgICAgKiBAcGFyYW0gb3B0aW9uRWxlbWVudCBUaGUgb3B0aW9uIGVsZW1lbnQgdGhhdCB3YXMgY2xpY2tlZCBvblxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25PcHRpb25DbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25PcHRpb25DbGljayhvcHRpb25FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RPcHRpb24ob3B0aW9uRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudDtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5Db21wb25lbnRCYXNlKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VQYWdpbmF0aW9uQ29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudDtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIHJlc3VsdHNQZXJSZXF1ZXN0ID0gMjA7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3RvciA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJFIpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3IsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkUik7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3RvcihzaG93Y2FzZUluc3RhbmNlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3RvcikpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSkpO1xuXG4gICAgICAgICAgICB2YXIgX3Nob3djYXNlSW5zdGFuY2Ukc3RhID0gc2hvd2Nhc2VJbnN0YW5jZS5zdGF0ZS5nZXREYXRhKCksXG4gICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVDb25maWd1cmF0aW9uSUQgPSBfc2hvd2Nhc2VJbnN0YW5jZSRzdGEuY3VycmVudFZlaGljbGVDb25maWd1cmF0aW9uSUQ7XG5cbiAgICAgICAgICAgIF90aGlzLnZlaGljbGVDb25maWd1cmF0aW9uSUQgPSBjdXJyZW50VmVoaWNsZUNvbmZpZ3VyYXRpb25JRDtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yLCBbe1xuICAgICAgICAgICAga2V5OiAnX2xvYWRNb3JlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfbG9hZE1vcmUoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmhhc01vcmVSZXN1bHRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIExvYWQgcGFpbnQgc2NoZW1lcyBmb3IgdGhlIHZlaGljbGVcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwidmVoaWNsZS9nZXRwYWludHNjaGVtZWRlc2NyaXB0aW9uc1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIFZlaGljbGVDb25maWd1cmF0aW9uOiB0aGlzLnZlaGljbGVDb25maWd1cmF0aW9uSURcbiAgICAgICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmNyZWF0ZU9wdGlvbnMocmVzcG9uc2UuU2NoZW1lcyk7XG4gICAgICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY3JlYXRlT3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlT3B0aW9ucyhzY2hlbWVzKSB7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgZnJhZ21lbnQgc28gd2UgYWRkIGFsbCBvcHRpb25zIHRvIHRoZSBlbGVtZW50IGF0IG9uY2VcbiAgICAgICAgICAgICAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGVhY2ggb3B0aW9uIGFuZCBhZGQgaXQgdG8gdGhlIGZyYWdtZW50XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHNjaGVtZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2NoZW1lID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbiByaWRlc3R5bGVyLXNob3djYXNlLXBhaW50LW9wdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IGZyYWdtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi5wYWludFNjaGVtZSA9IHNjaGVtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBtYWluIGNvbG9yIHRvIGJlIHJlcHJlc2VudGVkIGluIHRoZSBzd2F0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IG11bHRpLWNvbG9yIHBhaW50IHNjaGVtZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IHNjaGVtZS5Db2xvcnNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBcInN3YXRjaFwiOiBUaGUgZGlzcGxheSBvZiB0aGUgcGFpbnQgY29sb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzd2F0Y2ggPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbi1kaXNwbGF5IHJpZGVzdHlsZXItc2hvd2Nhc2UtcGFpbnQtc3dhdGNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLkhleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbmFtZSBvZiB0aGUgcGFpbnQgc2NoZW1lIGFzIHRoZSBsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbi1sYWJlbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogc2NoZW1lLlNjaGVtZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBdHRyaWJ1dGVzIG9mIHRoZSBjb2xvciBmb3IgdGhlIHNlY29uZGFyeSBsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbi1sYWJlbC1zZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3IuY3JlYXRlQXR0cmlidXRlTGFiZWwoY29sb3IuQXR0cmlidXRlcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgb3V0IG91ciBzbGlkZVdyYXBwZXIgb2YgYWxsIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5lbXB0eSh0aGlzLm9wdGlvbkNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgLy8gQWRkIGFsbCBvcHRpb25zIHRvIHRoZSBzbGlkZVdyYXBwZXIgYXQgb25jZVxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbk9wdGlvbkNsaWNrJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbk9wdGlvbkNsaWNrKG9wdGlvbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFpbnRTY2hlbWUgPSBvcHRpb25FbGVtZW50LnBhaW50U2NoZW1lO1xuICAgICAgICAgICAgICAgIGlmIChwYWludFNjaGVtZSkge1xuICAgICAgICAgICAgICAgICAgICBfZ2V0KFJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3IucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3Rvci5wcm90b3R5cGUpLCAnb25PcHRpb25DbGljaycsIHRoaXMpLmNhbGwodGhpcywgb3B0aW9uRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZXh0ZW5kRGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFpbnRTY2hlbWU6IHBhaW50U2NoZW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub25QYWludFNjaGVtZVNlbGVjdGVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUGFpbnRTY2hlbWVTZWxlY3RlZChwYWludFNjaGVtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dLCBbe1xuICAgICAgICAgICAga2V5OiAnY3JlYXRlQXR0cmlidXRlTGFiZWwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUF0dHJpYnV0ZUxhYmVsKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVmYXVsdEF0dHJpYnV0ZVN0cmluZyA9ICdHbG9zc3knO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzID09PSAwIC8qIE5vbmUgKi8pIHJldHVybiBkZWZhdWx0QXR0cmlidXRlU3RyaW5nO1xuICAgICAgICAgICAgICAgIHZhciBzdHJpbmdBdHRyaWJ1dGVzID0gW107XG4gICAgICAgICAgICAgICAgLy8gQWRkIGVhY2ggc2VsZWN0ZWQgcGFpbnQgYXR0cmlidXRlIGZsYWcgZm9yIHRoZSBjb2xvciB0byB0aGUgbGlzdFxuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzICYmIDQgLyogTWF0dGUgKi8gPT09IDQgLyogTWF0dGUgKi8pIHN0cmluZ0F0dHJpYnV0ZXMucHVzaCgnTWF0dGUnKTtcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlcyAmJiAxIC8qIE1ldGFsbGljICovID09PSAxIC8qIE1ldGFsbGljICovKSBzdHJpbmdBdHRyaWJ1dGVzLnB1c2goJ01ldGFsbGljJyk7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMgJiYgMiAvKiBQZWFybGVzY2VudCAqLyA9PT0gMiAvKiBQZWFybGVzY2VudCAqLykgc3RyaW5nQXR0cmlidXRlcy5wdXNoKCdQZWFybGVzY2VudCcpO1xuICAgICAgICAgICAgICAgIGlmIChzdHJpbmdBdHRyaWJ1dGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGRlZmF1bHRBdHRyaWJ1dGVTdHJpbmc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZ0F0dHJpYnV0ZXMuam9pbignLCAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3IgPSBSaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBwb3BvdmVyQ2xhc3MgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1wb3BvdmVyJztcbiAgICB2YXIgcG9wb3ZlckluQ2xhc3MgPSAnaW4nO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVBvcG92ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVBvcG92ZXIoKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlUG9wb3Zlcik7XG5cbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBwb3BvdmVyQ2xhc3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVBvcG92ZXIsIFt7XG4gICAgICAgICAgICBrZXk6ICdzaG93JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaGlkZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRWaXNpYmxlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWaXNpYmxlKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QudG9nZ2xlKHBvcG92ZXJJbkNsYXNzLCB2aXNpYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaXNWaXNpYmxlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc1Zpc2libGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5jb250YWlucyhwb3BvdmVySW5DbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3RvZ2dsZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VmlzaWJsZSh0aGlzLmlzVmlzaWJsZSgpID8gZmFsc2UgOiB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VQb3BvdmVyO1xuICAgIH0oKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VQb3BvdmVyID0gUmlkZVN0eWxlclNob3djYXNlUG9wb3Zlcjtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIHByb2R1Y3RNb2RhbENsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcHJvZHVjdC1tb2RhbCc7XG4gICAgdmFyIHRpdGxlQ2xhc3MgPSBwcm9kdWN0TW9kYWxDbGFzcyArICctdGl0bGUnO1xuICAgIHZhciBwYWdlQ2xhc3MgPSBwcm9kdWN0TW9kYWxDbGFzcyArICctcGFnZSc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkUikge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsLCBfUmlkZVN0eWxlclNob3djYXNlJFIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbChzaG93Y2FzZUluc3RhbmNlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsKTtcblxuICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0TW9kYWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0TW9kYWwpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UsIHtcbiAgICAgICAgICAgICAgICByZW1vdmVPbkhpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbCwgW3tcbiAgICAgICAgICAgIGtleTogJ2J1aWxkTW9kYWwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkTW9kYWwoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBfZ2V0KFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbC5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0TW9kYWwucHJvdG90eXBlKSwgJ2J1aWxkTW9kYWwnLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5hZGQocHJvZHVjdE1vZGFsQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUb2dnbGVCdXR0b24odGhpcy5zaG93Y2FzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVCdXR0b24ub25DaGFuZ2VkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3cgdGhlIGNvcnJlY3QgcGFnZSB3aGVuIHRoZSB0b2dnbGUgYnV0dG9uIGlzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBfdGhpczIucGFnZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhZ2UgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlLmxhYmVsID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2hvd1BhZ2UocGFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZENoaWxkKHRoaXMudG9nZ2xlQnV0dG9uLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnaDEnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGl0bGVDbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmQ6IFt0aGlzLmJyYW5kVGl0bGVFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudFdpdGhDbGFzcygnc3BhbicsIHRpdGxlQ2xhc3MgKyAnLWJyYW5kJyksIHRoaXMudGl0bGVFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnc3BhbicpLCB0aGlzLnN1YnRpdGxlRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MoJ3NwYW4nLCB0aXRsZUNsYXNzICsgJy1zdWJ0aXRsZScpXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc3VtbWFyeUNvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHByb2R1Y3RNb2RhbENsYXNzICsgJy1zdW1tYXJ5LWNvbnRhaW5lcidcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlQ29udGFpbmVyID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJvZHVjdE1vZGFsQ2xhc3MgKyAnLWltYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuc3VtbWFyeUNvbnRhaW5lclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2UgPSB0aGlzLmNyZWF0ZUltYWdlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdW1tYXJ5RWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHByb2R1Y3RNb2RhbENsYXNzICsgJy1zdW1tYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuc3VtbWFyeUNvbnRhaW5lclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUGFnZSh7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3N1bW1hcnknKSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB0aGlzLnN1bW1hcnlDb250YWluZXJcbiAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQWRkIGEgbmV3IHBhZ2UgdG8gdGhlIHByb2R1Y3QgbW9kYWwgYW5kIHRvZ2dsZSBidXR0b25cbiAgICAgICAgICAgICAqIEBwYXJhbSBwYWdlIFRoZSBuZXcgcGFnZVxuICAgICAgICAgICAgICogQHBhcmFtIHNldFZpc2libGUgSWYgdHJ1ZSwgc2hvdyB0aGUgcGFnZSBhZnRlciBhZGRpbmcgaXRcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2FkZFBhZ2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFBhZ2UocGFnZSkge1xuICAgICAgICAgICAgICAgIHZhciBzZXRWaXNpYmxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5wYWdlcykgdGhpcy5wYWdlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMucGFnZXMucHVzaChwYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvbi5hZGRPcHRpb24oe1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogcGFnZS5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHBhZ2UubGFiZWxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0VmlzaWJsZSkgdGhpcy5zaG93UGFnZShwYWdlKTtlbHNlIFJpZGVTdHlsZXJTaG93Y2FzZS5WaXNpYmlsaXR5SGVscGVyLnNldFZpc2liaWxpdHkocGFnZS5jb250YWluZXIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBwYWdlLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKHBhZ2VDbGFzcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYXBwZW5kQ2hpbGQocGFnZS5jb250YWluZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXQgdGhlIHBhZ2UgYXMgdmlzaWJsZSBhbmQgaGlkZSB0aGUgb3RoZXIgcGFnZXMsIHVwZGF0ZSB0aGUgc3RhdGUgb2YgdGhlIHRvZ2dsZSBidXR0b25cbiAgICAgICAgICAgICAqIEBwYXJhbSBuZXdQYWdlIFRoZSBwYWdlIHRvIHNob3dcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3Nob3dQYWdlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93UGFnZShuZXdQYWdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSB0aGlzLnBhZ2VzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFnZSA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLlZpc2liaWxpdHlIZWxwZXIuc2V0VmlzaWJpbGl0eShwYWdlLmNvbnRhaW5lciwgcGFnZSA9PT0gbmV3UGFnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvbi5zZXRWYWx1ZShuZXdQYWdlLmxhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25IaWRkZW4nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uSGlkZGVuKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2UuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbDtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsID0gUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KG9iamVjdCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTsgfSB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkUikge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yLCBfUmlkZVN0eWxlclNob3djYXNlJFIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3RvcigpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0U2VsZWN0b3IpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgICAgIF90aGlzLnJlc3VsdHNQZXJMb2FkID0gMjA7XG4gICAgICAgICAgICBfdGhpcy5jb3VudCA9IC0xO1xuICAgICAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3RvciwgW3tcbiAgICAgICAgICAgIGtleTogJ19sb2FkTW9yZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2xvYWRNb3JlKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBjb3VudFByb21pc2UgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY291bnQgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBjb3VudFByb21pc2UgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci5yZXNvbHZlZCh0aGlzLmNvdW50KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb3VudFByb21pc2UgPSB0aGlzLmNvdW50UmVzdWx0cyh0aGlzLmN1cnJlbnRGaWx0ZXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdHNQZXJMb2FkID0gdGhpcy5yZXN1bHRzUGVyTG9hZDtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihjb3VudFByb21pc2UsIGZ1bmN0aW9uIChwcm9kdWN0Q291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmNvdW50ID0gcHJvZHVjdENvdW50O1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVycyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0OiBfdGhpczIuaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBDb3VudDogcmVzdWx0c1BlckxvYWRcbiAgICAgICAgICAgICAgICAgICAgfSwgX3RoaXMyLmN1cnJlbnRGaWx0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5nZXRSZXN1bHRzKGZpbHRlcnMpLmRvbmUoZnVuY3Rpb24gKHByb2R1Y3RzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaW5kZXggKz0gcmVzdWx0c1BlckxvYWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaGFzTW9yZVJlc3VsdHMgPSBfdGhpczIuaW5kZXggKyByZXN1bHRzUGVyTG9hZCA8IHByb2R1Y3RDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5jcmVhdGVPcHRpb25zKHByb2R1Y3RzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0IGZpbHRlcnMgYW5kIHJlbG9hZFxuICAgICAgICAgICAgICogQHBhcmFtIG5ld0ZpbHRlcnMgVGhlIG5ldyBmaWx0ZXJzXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRGaWx0ZXJzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGaWx0ZXJzKG5ld0ZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyT3B0aW9ucygpO1xuICAgICAgICAgICAgICAgIC8vIFJlc2V0IG91ciBjb3VudFxuICAgICAgICAgICAgICAgIHRoaXMuY291bnQgPSAtMTtcbiAgICAgICAgICAgICAgICAvLyBSZXNldCBvdXIgaW5kZXhcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAvLyBTZXQgb3VyIGZpbHRlcnNcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRGaWx0ZXJzID0gbmV3RmlsdGVycztcbiAgICAgICAgICAgICAgICAvLyBMb2FkIGZpcnN0IHJlc3VsdCBzZXRcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRNb3JlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVwZGF0ZSBmaWx0ZXJzIGFuZCByZWxvYWRcbiAgICAgICAgICAgICAqIEBwYXJhbSBmaWx0ZXJVcGRhdGVzIFRoZSBmaWx0ZXIgcHJvcGVydGllcyB0byB1cGRhdGVcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZUZpbHRlcnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUZpbHRlcnMoZmlsdGVyVXBkYXRlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RmlsdGVycyhSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbih0aGlzLmN1cnJlbnRGaWx0ZXJzLCBmaWx0ZXJVcGRhdGVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NyZWF0ZU9wdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMocHJvZHVjdHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHByb2R1Y3RzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2R1Y3QgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnByb2R1Y3RGaWx0ZXIocHJvZHVjdCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLXBhZ2luYXRpb24tb3B0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogZnJhZ21lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnByb2R1Y3QgPSBwcm9kdWN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2VTb3VyY2UgPSB0aGlzLnByb2R1Y3RJbWFnZVNvdXJjZShwcm9kdWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnaW1nJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbi1kaXNwbGF5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBvcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjOiBpbWFnZVNvdXJjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZHVjdEltYWdlTGFiZWxzID0gdGhpcy5wcm9kdWN0SW1hZ2VMYWJlbHMocHJvZHVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbi1sYWJlbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogcHJvZHVjdEltYWdlTGFiZWxzLnByaW1hcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZHVjdEltYWdlTGFiZWxzLnNlY29uZGFyeSkgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi1vcHRpb24tbGFiZWwtc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBwcm9kdWN0SW1hZ2VMYWJlbHMuc2Vjb25kYXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2R1Y3RJbWFnZUxhYmVscy50ZXJ0aWFyeSkgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi1vcHRpb24tbGFiZWwtdGVydGlhcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHByb2R1Y3RJbWFnZUxhYmVscy50ZXJ0aWFyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRPcHRpb25FbGVtZW50cyhmcmFnbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uT3B0aW9uQ2xpY2snLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uT3B0aW9uQ2xpY2sob3B0aW9uRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBwcm9kdWN0ID0gb3B0aW9uRWxlbWVudC5wcm9kdWN0O1xuICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIF9nZXQoUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3Rvci5wcm90b3R5cGUpLCAnb25PcHRpb25DbGljaycsIHRoaXMpLmNhbGwodGhpcywgb3B0aW9uRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Qcm9kdWN0Q2xpY2socHJvZHVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblByb2R1Y3RDbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9kdWN0Q2xpY2socHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9kdWN0U2VsZWN0ZWRDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5wcm9kdWN0U2VsZWN0ZWRDYWxsYmFjayhwcm9kdWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0U2VsZWN0b3I7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudCk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yID0gUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBjbGFzc05hbWUgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1xci1kaXNwbGF5JztcblxuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VRUkNvZGVDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVFSQ29kZUNvbXBvbmVudChsaW5rKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlUVJDb2RlQ29tcG9uZW50KTtcblxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5xckNvZGVFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnYScsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctaW1hZ2UnLFxuICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogJ19ibGFuaydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucXJDb2RlID0gbmV3IFFSQ29kZSh0aGlzLnFyQ29kZUVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKGxpbmspIHRoaXMuZGlzcGxheVVSTChsaW5rKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VRUkNvZGVDb21wb25lbnQsIFt7XG4gICAgICAgICAgICBrZXk6ICdkaXNwbGF5VVJMJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwbGF5VVJMKHVybCkge1xuICAgICAgICAgICAgICAgIHRoaXMucXJDb2RlRWxlbWVudC5ocmVmID0gdXJsO1xuICAgICAgICAgICAgICAgIHRoaXMucXJDb2RlLm1ha2VDb2RlKHVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlUVJDb2RlQ29tcG9uZW50O1xuICAgIH0oKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VRUkNvZGVDb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2VRUkNvZGVDb21wb25lbnQ7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IHJldHVybiBnZXQocGFyZW50LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpOyB9IH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBzaGFyZTtcbiAgICAoZnVuY3Rpb24gKHNoYXJlKSB7XG4gICAgICAgIHZhciBidXR0b25DbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXNoYXJlLWJ1dHRvbic7XG5cbiAgICAgICAgdmFyIFNoYXJlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gU2hhcmVCdXR0b24oc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNoYXJlQnV0dG9uKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlQnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBidXR0b25DbGFzc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5jbGFzc05hbWUpIHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5hZGQoc2V0dGluZ3MuY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MudGl0bGUpIHRoaXMuY29tcG9uZW50LnRpdGxlID0gc2V0dGluZ3MudGl0bGU7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5vbkNsaWNrKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVwZGF0ZSB0aGUgVVJMIGZvciB0aGlzIHNoYXJlIGJ1dHRvbiB0byBzaGFyZVxuICAgICAgICAgICAgICogQHBhcmFtIHVybCBUaGUgVVJMIHRvIHNoYXJlXG4gICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoU2hhcmVCdXR0b24sIFt7XG4gICAgICAgICAgICAgICAga2V5OiAnc2V0VVJMJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VVJMKHVybCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRVUkwgPSB1cmw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEF0dGFjaCB0YWdzIHRvIHRoZSBtZXNzYWdlIGJlaW5nIHNoYXJlZFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB0YWdzIFRoZSB0YWdzIHRvIGF0dGFjaCB0byB0aGUgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnc2V0VGFncycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRhZ3ModGFncykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZ3MgPSB0YWdzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTZXQgYSBtZXNzYWdlIHRvIHNoYXJlIHdpdGggdGhlIFVSTFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIHNoYXJlIGFsb25nIHdpdGggdGhlIFVSTFxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnc2V0TWVzc2FnZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDYWxsZWQgZXZlcnkgdGltZSB0aGUgc2hhcmUgYnV0dG9uIGlzIGNsaWNrZWRcbiAgICAgICAgICAgICAgICAgKiBAdmlydHVhbFxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnb25DbGljaycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50VVJMKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhcmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU2hhcmUgdGhlIGN1cnJlbnQgVVJMXG4gICAgICAgICAgICAgICAgICogQHZpcnR1YWxcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ3NoYXJlJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hhcmUoKSB7fVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ29wZW5OZXdXaW5kb3cnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuTmV3V2luZG93KHVybCwgc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRIZWlnaHQgPSA0MjAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0V2lkdGggPSA1NTA7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHNldHRpbmdzLndpZHRoIHx8IGRlZmF1bHRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IHNldHRpbmdzLmhlaWdodCB8fCBkZWZhdWx0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2NyZWVuSGVpZ2h0ID0gc2NyZWVuLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcmVlbldpZHRoID0gc2NyZWVuLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG9wID0gc2NyZWVuSGVpZ2h0ID4gaGVpZ2h0ID8gTWF0aC5yb3VuZChzY3JlZW5IZWlnaHQgLyAyIC0gaGVpZ2h0IC8gMikgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IE1hdGgucm91bmQoc2NyZWVuV2lkdGggLyAyIC0gd2lkdGggLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IHNldHRpbmdzLnRhcmdldCB8fCAnc2hhcmUnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgd2luZG93U2V0dGluZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFkZFNldHRpbmcgPSBmdW5jdGlvbiBhZGRTZXR0aW5nKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93U2V0dGluZ3MucHVzaChuYW1lICsgJz0nICsgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWRkQm9vbGVhblNldHRpbmcgPSBmdW5jdGlvbiBhZGRCb29sZWFuU2V0dGluZyhuYW1lLCBlbmFibGVkLCBlbmFibGVkQnlEZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVuYWJsZWQgIT09ICdib29sZWFuJykgZW5hYmxlZCA9IGVuYWJsZWRCeURlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRTZXR0aW5nKG5hbWUsIGVuYWJsZWQgPyAneWVzJyA6ICdubycpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBhZGRCb29sZWFuU2V0dGluZygnc2Nyb2xsYmFycycsIHNldHRpbmdzLmVuYWJsZVNjcm9sbGJhcnMsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBhZGRCb29sZWFuU2V0dGluZygncmVzaXphYmxlJywgc2V0dGluZ3MuZW5hYmxlUmVzaXplYWJsZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZEJvb2xlYW5TZXR0aW5nKCd0b29sYmFyJywgc2V0dGluZ3MuZW5hYmxlVG9vbGJhciwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBhZGRCb29sZWFuU2V0dGluZygnbG9jYXRpb24nLCBzZXR0aW5ncy5lbmFibGVMb2NhdGlvbiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFNldHRpbmcoJ3dpZHRoJywgd2lkdGgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFNldHRpbmcoJ2hlaWdodCcsIGhlaWdodC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkU2V0dGluZygndG9wJywgdG9wLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICBhZGRTZXR0aW5nKCdsZWZ0JywgbGVmdC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4odXJsLCB0YXJnZXQsIHRhcmdldCAhPT0gJ19ibGFuaycgPyB3aW5kb3dTZXR0aW5ncy5qb2luKCcsJykgOiAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ2dldFNoYXJlUmVkaXJlY3RVUkwnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTaGFyZVJlZGlyZWN0VVJMKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXBwVVJMID0gJ2h0dHBzOi8vYXBwLnJpZGVzdHlsZXIubmV0JztcbiAgICAgICAgICAgICAgICAgICAgaWYgKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkuZW52aXJvbm1lbnQgPT09IFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkuRW52aXJvbm1lbnQuQWxwaGEpIGFwcFVSTCA9ICdodHRwczovL2FwcC1hbHBoYS5yaWRlc3R5bGVyLm5ldCc7ZWxzZSBpZiAoUmlkZVN0eWxlclNob3djYXNlLmFwaS5lbnZpcm9ubWVudCA9PT0gUmlkZVN0eWxlclNob3djYXNlLmFwaS5FbnZpcm9ubWVudC5CZXRhKSBhcHBVUkwgPSAnaHR0cHM6Ly9hcHAtYmV0YS5yaWRlc3R5bGVyLm5ldCc7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhcHBVUkwgKyAnL3NoYXJlZC5odG1sJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBTaGFyZUJ1dHRvbjtcbiAgICAgICAgfSgpO1xuXG4gICAgICAgIHNoYXJlLlNoYXJlQnV0dG9uID0gU2hhcmVCdXR0b247XG4gICAgICAgIHZhciB0d2l0dGVySW50ZW50VVJMID0gJyc7XG5cbiAgICAgICAgdmFyIFR3aXR0ZXJTaGFyZUJ1dHRvbiA9IGZ1bmN0aW9uIChfU2hhcmVCdXR0b24pIHtcbiAgICAgICAgICAgIF9pbmhlcml0cyhUd2l0dGVyU2hhcmVCdXR0b24sIF9TaGFyZUJ1dHRvbik7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIFR3aXR0ZXJTaGFyZUJ1dHRvbigpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVHdpdHRlclNoYXJlQnV0dG9uKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVHdpdHRlclNoYXJlQnV0dG9uLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVHdpdHRlclNoYXJlQnV0dG9uKSkuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogYnV0dG9uQ2xhc3MgKyAnLXR3aXR0ZXInLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ1R3aXR0ZXInXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTaGFyZSB0aGUgY3VycmVudCBVUkwgdmlhIFR3aXR0ZXJcbiAgICAgICAgICAgICAqL1xuXG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhUd2l0dGVyU2hhcmVCdXR0b24sIFt7XG4gICAgICAgICAgICAgICAga2V5OiAnc2hhcmUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaGFyZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9ICdodHRwczovL3R3aXR0ZXIuY29tL2ludGVudC90d2VldD8nO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHdpdHRlckludGVudFBhcmFtZXRlcnMgPSBbJ3VybD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuY3VycmVudFVSTCldO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5tZXNzYWdlKSB0d2l0dGVySW50ZW50UGFyYW1ldGVycy5wdXNoKCd0ZXh0PScgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5tZXNzYWdlKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhZ3MgJiYgdGhpcy50YWdzLmxlbmd0aCkgdHdpdHRlckludGVudFBhcmFtZXRlcnMucHVzaCgnaGFzaHRhZ3M9JyArIFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlci5tYXAodGhpcy50YWdzLCBmdW5jdGlvbiAodGFnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHRhZyk7XG4gICAgICAgICAgICAgICAgICAgIH0pLmpvaW4oJywnKSk7XG4gICAgICAgICAgICAgICAgICAgIHVybCArPSB0d2l0dGVySW50ZW50UGFyYW1ldGVycy5qb2luKCcmJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3Blbk5ld1dpbmRvdyh1cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgcmV0dXJuIFR3aXR0ZXJTaGFyZUJ1dHRvbjtcbiAgICAgICAgfShTaGFyZUJ1dHRvbik7XG5cbiAgICAgICAgc2hhcmUuVHdpdHRlclNoYXJlQnV0dG9uID0gVHdpdHRlclNoYXJlQnV0dG9uO1xuXG4gICAgICAgIHZhciBGYWNlYm9va1NoYXJlQnV0dG9uID0gZnVuY3Rpb24gKF9TaGFyZUJ1dHRvbjIpIHtcbiAgICAgICAgICAgIF9pbmhlcml0cyhGYWNlYm9va1NoYXJlQnV0dG9uLCBfU2hhcmVCdXR0b24yKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gRmFjZWJvb2tTaGFyZUJ1dHRvbigpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmFjZWJvb2tTaGFyZUJ1dHRvbik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEZhY2Vib29rU2hhcmVCdXR0b24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihGYWNlYm9va1NoYXJlQnV0dG9uKSkuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogYnV0dG9uQ2xhc3MgKyAnLWZhY2Vib29rJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdGYWNlYm9vaydcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNoYXJlIHRoZSBjdXJyZW50IFVSTCB2aWEgRmFjZWJvb2tcbiAgICAgICAgICAgICAqL1xuXG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhGYWNlYm9va1NoYXJlQnV0dG9uLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ3NoYXJlJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hhcmUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSAnaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL2RpYWxvZy9zaGFyZT8nO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmFjZWJvb2tEaWFsb2dQYXJhbWV0ZXJzID0gWydhcHBfaWQ9MTU3NjM4MDQxMjU4Mjg0NScsICdkaXNwbGF5PXBvcHVwJywgJ2hyZWY9JyArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmN1cnJlbnRVUkwpLCAncmVkaXJlY3RfdXJpPScgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5nZXRTaGFyZVJlZGlyZWN0VVJMKCkpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRmFjZWJvb2sgb25seSBsZXRzIHlvdSBzcGVjaWZ5IG9uZSBoYXNodGFnLCBzbyB3ZSB1c2UgdGhlIGZpcnN0XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhZ3MgJiYgdGhpcy50YWdzLmxlbmd0aCkgZmFjZWJvb2tEaWFsb2dQYXJhbWV0ZXJzLnB1c2goJ2hhc2h0YWc9JyArIGVuY29kZVVSSUNvbXBvbmVudCgnIycgKyB0aGlzLnRhZ3NbMF0pKTtcbiAgICAgICAgICAgICAgICAgICAgdXJsICs9IGZhY2Vib29rRGlhbG9nUGFyYW1ldGVycy5qb2luKCcmJyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3Blbk5ld1dpbmRvdyh1cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgcmV0dXJuIEZhY2Vib29rU2hhcmVCdXR0b247XG4gICAgICAgIH0oU2hhcmVCdXR0b24pO1xuXG4gICAgICAgIHNoYXJlLkZhY2Vib29rU2hhcmVCdXR0b24gPSBGYWNlYm9va1NoYXJlQnV0dG9uO1xuXG4gICAgICAgIHZhciBOZXdXaW5kb3dTaGFyZUJ1dHRvbiA9IGZ1bmN0aW9uIChfU2hhcmVCdXR0b24zKSB7XG4gICAgICAgICAgICBfaW5oZXJpdHMoTmV3V2luZG93U2hhcmVCdXR0b24sIF9TaGFyZUJ1dHRvbjMpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBOZXdXaW5kb3dTaGFyZUJ1dHRvbigpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTmV3V2luZG93U2hhcmVCdXR0b24pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChOZXdXaW5kb3dTaGFyZUJ1dHRvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKE5ld1dpbmRvd1NoYXJlQnV0dG9uKSkuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogYnV0dG9uQ2xhc3MgKyAnLWxpbmsnXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTaGFyZSB0aGUgY3VycmVudCBVUkwgYnkgb3BlbmluZyBpdCBpbiBhIG5ldyB3aW5kb3dcbiAgICAgICAgICAgICAqL1xuXG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhOZXdXaW5kb3dTaGFyZUJ1dHRvbiwgW3tcbiAgICAgICAgICAgICAgICBrZXk6ICdzaGFyZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNoYXJlKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5OZXdXaW5kb3codGhpcy5jdXJyZW50VVJMLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6ICdfYmxhbmsnXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgcmV0dXJuIE5ld1dpbmRvd1NoYXJlQnV0dG9uO1xuICAgICAgICB9KFNoYXJlQnV0dG9uKTtcblxuICAgICAgICBzaGFyZS5OZXdXaW5kb3dTaGFyZUJ1dHRvbiA9IE5ld1dpbmRvd1NoYXJlQnV0dG9uO1xuXG4gICAgICAgIHZhciBRUlNoYXJlQnV0dG9uID0gZnVuY3Rpb24gKF9TaGFyZUJ1dHRvbjQpIHtcbiAgICAgICAgICAgIF9pbmhlcml0cyhRUlNoYXJlQnV0dG9uLCBfU2hhcmVCdXR0b240KTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gUVJTaGFyZUJ1dHRvbigpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUVJTaGFyZUJ1dHRvbik7XG5cbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM1ID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFFSU2hhcmVCdXR0b24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihRUlNoYXJlQnV0dG9uKSkuY2FsbCh0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogYnV0dG9uQ2xhc3MgKyAnLXFyLWNvZGUnXG4gICAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgICAgX3RoaXM1LnBvcG92ZXIgPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVBvcG92ZXIoKTtcbiAgICAgICAgICAgICAgICBfdGhpczUuY29tcG9uZW50LmFwcGVuZENoaWxkKF90aGlzNS5wb3BvdmVyLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgX3RoaXM1LnFyQ29kZSA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUVJDb2RlQ29tcG9uZW50KCk7XG4gICAgICAgICAgICAgICAgX3RoaXM1LnBvcG92ZXIuY29tcG9uZW50LmFwcGVuZENoaWxkKF90aGlzNS5xckNvZGUuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoUVJTaGFyZUJ1dHRvbiwgW3tcbiAgICAgICAgICAgICAgICBrZXk6ICdzZXRVUkwnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRVUkwodXJsKSB7XG4gICAgICAgICAgICAgICAgICAgIF9nZXQoUVJTaGFyZUJ1dHRvbi5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihRUlNoYXJlQnV0dG9uLnByb3RvdHlwZSksICdzZXRVUkwnLCB0aGlzKS5jYWxsKHRoaXMsIHVybCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucXJDb2RlLmRpc3BsYXlVUkwodXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnb25DbGljaycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucG9wb3Zlci50b2dnbGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBRUlNoYXJlQnV0dG9uO1xuICAgICAgICB9KFNoYXJlQnV0dG9uKTtcblxuICAgICAgICBzaGFyZS5RUlNoYXJlQnV0dG9uID0gUVJTaGFyZUJ1dHRvbjtcbiAgICB9KShzaGFyZSA9IFJpZGVTdHlsZXJTaG93Y2FzZS5zaGFyZSB8fCAoUmlkZVN0eWxlclNob3djYXNlLnNoYXJlID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIHNoYXJlTW9kYWxDbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXNoYXJlJztcblxuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkUikge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbCwgX1JpZGVTdHlsZXJTaG93Y2FzZSRSKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsKHNob3djYXNlSW5zdGFuY2UsIHZlaGljbGVSZW5kZXJJbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsKTtcblxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsKSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlLCB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlT25IaWRkZW46IHRydWUsXG4gICAgICAgICAgICAgICAgZnVsbDogdHJ1ZVxuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICBfdGhpcy5pbWFnZVR5cGUgPSAyIC8qIEFuZ2xlICovO1xuICAgICAgICAgICAgX3RoaXMucmVzaXplZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy51cGRhdGVWaWV3cG9ydCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIENvcHkgdGhlIHJlbmRlciBpbnN0cnVjdGlvbnNcbiAgICAgICAgICAgIF90aGlzLnZlaGljbGVSZW5kZXJJbnN0cnVjdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB2ZWhpY2xlUmVuZGVySW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgICAgIF90aGlzLm9uSW5zdHJ1Y3Rpb25zQ2hhbmdlZCgpO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWlsZCB0aGUgRE9NIHN0cnVjdHVyZVxuICAgICAgICAgKi9cblxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsLCBbe1xuICAgICAgICAgICAga2V5OiAnYnVpbGRNb2RhbCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRNb2RhbCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIF9nZXQoUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbC5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsLnByb3RvdHlwZSksICdidWlsZE1vZGFsJywgdGhpcykuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QuYWRkKHNoYXJlTW9kYWxDbGFzcyk7XG4gICAgICAgICAgICAgICAgdmFyIGJhY2tncm91bmQgPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQodGhpcy5zaG93Y2FzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYXBwZW5kQ2hpbGQoYmFja2dyb3VuZC5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2gxJywge1xuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc2hhcmUtbXktdmVoaWNsZScpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gSW5zdHJ1Y3Rpb25zXG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgncCcsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1zaGFyZS1pbnN0cnVjdGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3NoYXJlLWluc3RydWN0aW9ucycpLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZVNoYXJlQnV0dG9ucygpO1xuICAgICAgICAgICAgICAgIC8vIFJvdGF0ZSBVSVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhblN3aXRjaEFuZ2xlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1yb3RhdGUtdmVoaWNsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm90YXRlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuc3dpdGNoQW5nbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdjcmVhdGVTaGFyZUJ1dHRvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZVNoYXJlQnV0dG9ucygpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNoYXJlQnV0dG9ucyA9IFtuZXcgUmlkZVN0eWxlclNob3djYXNlLnNoYXJlLkZhY2Vib29rU2hhcmVCdXR0b24oKSwgbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5zaGFyZS5Ud2l0dGVyU2hhcmVCdXR0b24oKSwgbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5zaGFyZS5RUlNoYXJlQnV0dG9uKCksIG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2Uuc2hhcmUuTmV3V2luZG93U2hhcmVCdXR0b24oKV07XG4gICAgICAgICAgICAgICAgdmFyIHNoYXJlQnV0dG9uQ29udGFpbmVyID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogc2hhcmVNb2RhbENsYXNzICsgJy1idXR0b25zJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuc2hhcmVCdXR0b25zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNoYXJlQnV0dG9uID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlQnV0dG9uQ29udGFpbmVyLmFwcGVuZENoaWxkKHNoYXJlQnV0dG9uLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25TaG93JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblNob3coKSB7XG4gICAgICAgICAgICAgICAgX2dldChSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwucHJvdG90eXBlKSwgJ29uU2hvdycsIHRoaXMpLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXR1cFZpZXdwb3J0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMub24oJ3Jlc2l6ZWQnLCB0aGlzLnJlc2l6ZWRDYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uSGlkZGVuJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkhpZGRlbigpIHtcbiAgICAgICAgICAgICAgICBfZ2V0KFJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbC5wcm90b3R5cGUpLCAnb25IaWRkZW4nLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9mZigncmVzaXplZCcsIHRoaXMucmVzaXplZENhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndXBkYXRlVmlld3BvcnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVZpZXdwb3J0KCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZVZpZXdwb3J0LlVwZGF0ZSh0aGlzLnZlaGljbGVSZW5kZXJJbnN0cnVjdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdnZXRTaGFyZVVSTCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2hhcmVVUkwoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNoYXJlVVJMID0gJ2h0dHBzOi8vYXBwLnJpZGVzdHlsZXIubmV0L3NoYXJlLmNzaHRtbD8nO1xuICAgICAgICAgICAgICAgIHZhciBzaGFyZVBhcmFtcyA9IHJpZGVzdHlsZXIudXRpbHMudG9QYXJhbVN0cmluZyhSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbihyaWRlc3R5bGVyLmF1dGguYXV0aGVudGljYXRlRGF0YShudWxsKSwgdGhpcy52ZWhpY2xlUmVuZGVySW5zdHJ1Y3Rpb25zKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNoYXJlVVJMICsgc2hhcmVQYXJhbXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldHVwVmlld3BvcnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldHVwVmlld3BvcnQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB2YXIgdmlld3BvcnRFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudFdpdGhDbGFzcygnZGl2JywgJ3JpZGVzdHlsZXItc2hvd2Nhc2Utdmlld3BvcnQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hcHBlbmRDaGlsZCh2aWV3cG9ydEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5zd2l0Y2hBbmdsZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZVZpZXdwb3J0ID0gbmV3IFJpZGVTdHlsZXJWaWV3cG9ydCh2aWV3cG9ydEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHZhciB2aWV3cG9ydFVwZGF0ZWQgPSB0aGlzLnZlaGljbGVWaWV3cG9ydC5VcGRhdGUodGhpcy52ZWhpY2xlUmVuZGVySW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3RhdGVFbGVtZW50KSB2aWV3cG9ydFVwZGF0ZWQuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMy5yb3RhdGVFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2luJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NhblN3aXRjaEFuZ2xlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5Td2l0Y2hBbmdsZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3N0YXRlJGdldERhdGEgPSB0aGlzLnN0YXRlLmdldERhdGEoKSxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbk1vZGVsID0gX3N0YXRlJGdldERhdGEuY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbk1vZGVsO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRWZWhpY2xlRGVzY3JpcHRpb25Nb2RlbC5IYXNBbmdsZWRJbWFnZSAmJiBjdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uTW9kZWwuSGFzU2lkZUltYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkluc3RydWN0aW9uc0NoYW5nZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uSW5zdHJ1Y3Rpb25zQ2hhbmdlZCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHZhciBzaGFyZVVSTCA9IHRoaXMuZ2V0U2hhcmVVUkwoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEVuYWJsZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdChcImxpbmsvY3JlYXRlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgVVJMOiB0aGlzLmdldFNoYXJlVVJMKClcbiAgICAgICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQudXBkYXRlVVJMKHJlc3BvbnNlLlNob3J0VVJMKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNldEVuYWJsZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldEVuYWJsZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEVuYWJsZWQoZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gdGhpcy5zaGFyZUJ1dHRvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaGFyZUJ1dHRvbiA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVCdXR0b24uY29tcG9uZW50LmRpc2FibGVkID0gIWVuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZVVSTCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVVJMKHNoYXJlVVJMKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNoYXJlVGFncyA9IFsndmVoaWNsZSddO1xuICAgICAgICAgICAgICAgIHZhciBzaGFyZU1lc3NhZ2UgPSBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2NoZWNrLW91dC1teS12ZWhpY2xlJyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmVoaWNsZVJlbmRlckluc3RydWN0aW9ucy5XaGVlbEZpdG1lbnQpIHNoYXJlVGFncy5wdXNoKCd3aGVlbHMnKTtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHNoYXJlIGJ1dHRvbnNcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IHRoaXMuc2hhcmVCdXR0b25zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hhcmVCdXR0b24gPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlQnV0dG9uLnNldFVSTChzaGFyZVVSTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFyZUJ1dHRvbi5zZXRUYWdzKHNoYXJlVGFncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFyZUJ1dHRvbi5zZXRNZXNzYWdlKHNoYXJlTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3N3aXRjaEFuZ2xlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzd2l0Y2hBbmdsZSgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2FuU3dpdGNoQW5nbGUoKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmltYWdlVHlwZSA9PT0gMiAvKiBBbmdsZSAqLykgdGhpcy5pbWFnZVR5cGUgPSAxIC8qIFNpZGUgKi87ZWxzZSB0aGlzLmltYWdlVHlwZSA9IDIgLyogQW5nbGUgKi87XG4gICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlUmVuZGVySW5zdHJ1Y3Rpb25zLlR5cGUgPSB0aGlzLmltYWdlVHlwZTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVWaWV3cG9ydC5VcGRhdGUoe1xuICAgICAgICAgICAgICAgICAgICBUeXBlOiB0aGlzLmltYWdlVHlwZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMub25JbnN0cnVjdGlvbnNDaGFuZ2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbDtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbCA9IFJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWw7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2Utc3VzcGVuc2lvbi1zZWxlY3Rvcic7XG4gICAgdmFyIGVsZW1lbnRDbGFzc05hbWUgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1zdXNwZW5zaW9uLXNlbGVjdG9yLWVsZW1lbnQnO1xuICAgIHZhciBkZWZhdWx0U3VzcGVuc2lvblJhbmdlID0ge1xuICAgICAgICBNaW46IC00LFxuICAgICAgICBNYXg6IDBcbiAgICB9O1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3RvciA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJEMpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3RvciwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VTdXNwZW5zaW9uU2VsZWN0b3IoKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlU3VzcGVuc2lvblNlbGVjdG9yKTtcblxuICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VTdXNwZW5zaW9uU2VsZWN0b3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VTdXNwZW5zaW9uU2VsZWN0b3IpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VTdXNwZW5zaW9uU2VsZWN0b3IsIFt7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplQ29tcG9uZW50KCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIHZlaGljbGVEZXNjcmlwdGlvbiA9IHRoaXMuc3RhdGUuZ2V0RGF0YSgpLmN1cnJlbnRWZWhpY2xlRGVzY3JpcHRpb25Nb2RlbDtcbiAgICAgICAgICAgICAgICB2YXIgc3VzcGVuc2lvbk9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1pbjogZGVmYXVsdFN1c3BlbnNpb25SYW5nZS5NaW4sXG4gICAgICAgICAgICAgICAgICAgIG1heDogZGVmYXVsdFN1c3BlbnNpb25SYW5nZS5NYXgsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICAgICAgICAgICAgICBzdGVwOiAxLFxuICAgICAgICAgICAgICAgICAgICBkZWNpbWFsUGxhY2VzOiAxLFxuICAgICAgICAgICAgICAgICAgICB1bml0QWJicmV2aWF0aW9uOiAn4oCzJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gUmV0cmlldmUgc3VzcGVuc2lvbiBmcm9tIEFQSSBzZXR0aW5nc1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1c3BlbnNpb25SYW5nZXMgPSB0aGlzLnNob3djYXNlLnNldHRpbmdzRnJvbUFQSS5TdXNwZW5zaW9uUmFuZ2VzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgU3R5bGVUeXBlID0gdmVoaWNsZURlc2NyaXB0aW9uLlN0eWxlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIERyaXZlVHlwZSA9IHZlaGljbGVEZXNjcmlwdGlvbi5Ecml2ZVR5cGU7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1c3BlbnNpb25SYW5nZUtleSA9IFN0eWxlVHlwZSArIERyaXZlVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNpb25SYW5nZUtleSBpbiBzdXNwZW5zaW9uUmFuZ2VzID09PSBmYWxzZSkgc3VzcGVuc2lvblJhbmdlS2V5ID0gJ0RlZmF1bHQnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3VzcGVuc2lvblJhbmdlID0gc3VzcGVuc2lvblJhbmdlc1tzdXNwZW5zaW9uUmFuZ2VLZXldIHx8IGRlZmF1bHRTdXNwZW5zaW9uUmFuZ2U7XG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNpb25PcHRpb25zLm1pbiA9IHN1c3BlbnNpb25SYW5nZS5NaW47XG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNpb25PcHRpb25zLm1heCA9IHN1c3BlbnNpb25SYW5nZS5NYXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRBbmRSZWFyID0gbmV3IE5vVUlTdXNwZW5zaW9uRWxlbWVudCh0aGlzLnNob3djYXNlLCBSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbih7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3N1c3BlbnNpb24nKVxuICAgICAgICAgICAgICAgIH0sIHN1c3BlbnNpb25PcHRpb25zKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udEFuZFJlYXIuc3VzcGVuc2lvbkNoYW5nZWRDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpczIuc3VzcGVuc2lvbkNoYW5nZUNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBfdGhpczIuc3VzcGVuc2lvbkNoYW5nZUNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFN1c3BlbnNpb246IF90aGlzMi5mcm9udEFuZFJlYXIudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hcHBlbmRDaGlsZCh0aGlzLmZyb250QW5kUmVhci5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIC8vIGxldCBmcm9udE9wdGlvbnM6U3VzcGVuc2lvblVJRWxlbWVudE9wdGlvbnMgPSBPYmplY3RIZWxwZXIuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAvLyAgICAgbGFiZWw6IHN0cmluZ3MuZ2V0U3RyaW5nKCdmcm9udCcpXG4gICAgICAgICAgICAgICAgLy8gfSwgc3VzcGVuc2lvbk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuZnJvbnQgPSBuZXcgTm9VSVN1c3BlbnNpb25FbGVtZW50KHRoaXMuc2hvd2Nhc2UsIGZyb250T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgLy8gbGV0IHJlYXJPcHRpb25zOlN1c3BlbnNpb25VSUVsZW1lbnRPcHRpb25zID0gT2JqZWN0SGVscGVyLmFzc2lnbih7XG4gICAgICAgICAgICAgICAgLy8gICAgIGxhYmVsOiBzdHJpbmdzLmdldFN0cmluZygncmVhcicpXG4gICAgICAgICAgICAgICAgLy8gfSwgc3VzcGVuc2lvbk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMucmVhciA9IG5ldyBOb1VJU3VzcGVuc2lvbkVsZW1lbnQodGhpcy5zaG93Y2FzZSwgcmVhck9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuY29tcG9uZW50LmFwcGVuZENoaWxkKHRoaXMuZnJvbnQuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmNvbXBvbmVudC5hcHBlbmRDaGlsZCh0aGlzLnJlYXIuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmZyb250LnN1c3BlbnNpb25DaGFuZ2VkQ2FsbGJhY2sgPSB0aGlzLnJlYXIuc3VzcGVuc2lvbkNoYW5nZWRDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyAgICAgaWYgKHR5cGVvZiB0aGlzLnN1c3BlbnNpb25DaGFuZ2VDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5zdXNwZW5zaW9uQ2hhbmdlQ2FsbGJhY2soe1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIFN1c3BlbnNpb25Gcm9udDogdGhpcy5mcm9udC52YWx1ZSxcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBTdXNwZW5zaW9uUmVhcjogdGhpcy5yZWFyLnZhbHVlXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgIC8vIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlU3VzcGVuc2lvblNlbGVjdG9yO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3RvciA9IFJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3RvcjtcbiAgICAvKipcbiAgICAgKiBBIGdlbmVyYWwgaW50ZXJmYWNlIGZvciBVSSBjb21wb25lbnRzIHRoYXQgbW9kaWZ5IHN1c3BlbnNpb25cbiAgICAgKi9cblxuICAgIHZhciBTdXNwZW5zaW9uVUlFbGVtZW50ID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQzIpIHtcbiAgICAgICAgX2luaGVyaXRzKFN1c3BlbnNpb25VSUVsZW1lbnQsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkQzIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFN1c3BlbnNpb25VSUVsZW1lbnQoc2hvd2Nhc2VJbnN0YW5jZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN1c3BlbnNpb25VSUVsZW1lbnQpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFN1c3BlbnNpb25VSUVsZW1lbnQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTdXNwZW5zaW9uVUlFbGVtZW50KSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlKSk7XG5cbiAgICAgICAgICAgIF90aGlzMy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgIF90aGlzMy52YWx1ZSA9IG9wdGlvbnMuc3RhcnQ7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMzO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFN1c3BlbnNpb25VSUVsZW1lbnQsIFt7XG4gICAgICAgICAgICBrZXk6ICdvblN1c3BlbnNpb25DaGFuZ2VkJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblN1c3BlbnNpb25DaGFuZ2VkKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5zdXNwZW5zaW9uQ2hhbmdlZENhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB0aGlzLnN1c3BlbnNpb25DaGFuZ2VkQ2FsbGJhY2sobmV3VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFN1c3BlbnNpb25VSUVsZW1lbnQ7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICB2YXIgTm9VSVN1c3BlbnNpb25FbGVtZW50ID0gZnVuY3Rpb24gKF9TdXNwZW5zaW9uVUlFbGVtZW50KSB7XG4gICAgICAgIF9pbmhlcml0cyhOb1VJU3VzcGVuc2lvbkVsZW1lbnQsIF9TdXNwZW5zaW9uVUlFbGVtZW50KTtcblxuICAgICAgICBmdW5jdGlvbiBOb1VJU3VzcGVuc2lvbkVsZW1lbnQoc2hvd2Nhc2VJbnN0YW5jZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vVUlTdXNwZW5zaW9uRWxlbWVudCk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpczQgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTm9VSVN1c3BlbnNpb25FbGVtZW50Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTm9VSVN1c3BlbnNpb25FbGVtZW50KSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlLCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgIF90aGlzNC5jb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBlbGVtZW50Q2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIGFwcGVuZDogUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGVsZW1lbnRDbGFzc05hbWUgKyAnLWxhYmVsJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogb3B0aW9ucy5sYWJlbFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBzbGlkZXJFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogZWxlbWVudENsYXNzTmFtZSArICctc2xpZGVyJyxcbiAgICAgICAgICAgICAgICBhcHBlbmRUbzogX3RoaXM0LmNvbXBvbmVudFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBub1VpU2xpZGVyLmNyZWF0ZShzbGlkZXJFbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IG9wdGlvbnMuc3RhcnQsXG4gICAgICAgICAgICAgICAgcmFuZ2U6IHtcbiAgICAgICAgICAgICAgICAgICAgbWluOiBvcHRpb25zLm1pbixcbiAgICAgICAgICAgICAgICAgICAgbWF4OiBvcHRpb25zLm1heFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3RlcDogb3B0aW9ucy5zdGVwLFxuICAgICAgICAgICAgICAgIHBpcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogJ3N0ZXBzJyxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zdGZpeCA9IG9wdGlvbnMudW5pdEFiYnJldmlhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWNpbWFsUGxhY2VzID0gb3B0aW9ucy5kZWNpbWFsUGxhY2VzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bzogZnVuY3Rpb24gdG8odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvRml4ZWQoZGVjaW1hbFBsYWNlcykgKyBwb3N0Zml4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogZnVuY3Rpb24gZnJvbSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoUmlkZVN0eWxlclNob3djYXNlLlN0cmluZ0hlbHBlci5lc2NhcGVSZWdFeHAocG9zdGZpeCkgKyAnJCcpLCBcIlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpczQuc2xpZGVyRWxlbWVudCA9IHNsaWRlckVsZW1lbnQ7XG4gICAgICAgICAgICBfdGhpczQuc2xpZGVyID0gX3RoaXM0LnNsaWRlckVsZW1lbnQubm9VaVNsaWRlcjtcbiAgICAgICAgICAgIF90aGlzNC5zbGlkZXIub24oJ3VwZGF0ZScsIGZ1bmN0aW9uIChmb3JtYXR0ZWRWYWx1ZXMsIGhhbmRsZSwgdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgX3RoaXM0Lm9uU3VzcGVuc2lvbkNoYW5nZWQodmFsdWVzWzBdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzNDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBOb1VJU3VzcGVuc2lvbkVsZW1lbnQ7XG4gICAgfShTdXNwZW5zaW9uVUlFbGVtZW50KTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBiYXJDbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXRhYi1iYXInO1xuICAgIHZhciB0YWJDbGFzcyA9IGJhckNsYXNzICsgJy10YWInO1xuICAgIHZhciB0YWJCYWNrZ3JvdW5kQ2xhc3MgPSB0YWJDbGFzcyArICctYmFja2dyb3VuZCc7XG4gICAgdmFyIGFjdGl2ZVRhYkNsYXNzID0gdGFiQ2xhc3MgKyAnLWFjdGl2ZSc7XG4gICAgdmFyIG1vZGVDbGFzcyA9IGJhckNsYXNzICsgJy0nO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhciA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJEMpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhciwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIoKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlVGFiQmFyKTtcblxuICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIsIFt7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplQ29tcG9uZW50KCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogYmFyQ2xhc3NcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE1vZGUoJ3ZlcnRpY2FsJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25DbGljayhlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0TW9kZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TW9kZShtb2RlKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nIGlmIHRoZSBtb2RlcyBhcmUgdGhlIHNhbWVcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlID09PSBtb2RlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdmFyIHRvZ2dsZSA9IGZ1bmN0aW9uIHRvZ2dsZShjbGFzc05hbWUsIGZvcmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuY29tcG9uZW50LmNsYXNzTGlzdC50b2dnbGUoY2xhc3NOYW1lLCBmb3JjZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGN1cnJlbnQgbW9kZSBjbGFzc1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5tb2RlID09PSAnc3RyaW5nJykgdG9nZ2xlKG1vZGVDbGFzcyArIHRoaXMubW9kZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgbmV3IG1vZGVcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgY3VycmVudCBtb2RlIGNsYXNzXG4gICAgICAgICAgICAgICAgdG9nZ2xlKG1vZGVDbGFzcyArIG1vZGUsIHRydWUpO1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdGFicycgbW9kZVxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGFiRGlzcGxheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd1cGRhdGVUYWJEaXNwbGF5JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVUYWJEaXNwbGF5KCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy50YWJzKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdmFyIHRhYlBlcmNlbnQgPSAxMDAgLyB0aGlzLnRhYnMubGVuZ3RoICsgJyUnO1xuICAgICAgICAgICAgICAgIHZhciBtb2RlID0gdGhpcy5tb2RlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB0aGlzLnRhYnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFiID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiLmVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gdGFiUGVyY2VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWIuZWxlbWVudC5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWIuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWIuZWxlbWVudC5zdHlsZS53aWR0aCA9IHRhYlBlcmNlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWIudXBkYXRlQmFja2dyb3VuZFBvbHlnb24obW9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0VGFicycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VGFicyh0YWJzT3JUYWJDcmVhdGVPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhYnMgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgaWYgKHRhYnNPclRhYkNyZWF0ZU9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhYnMgPSBbXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYnNPclRhYkNyZWF0ZU9wdGlvbnNbMF0gaW5zdGFuY2VvZiBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIuVGFiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhYnMgPSB0YWJzT3JUYWJDcmVhdGVPcHRpb25zO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhYnMgPSBuZXcgQXJyYXkodGFic09yVGFiQ3JlYXRlT3B0aW9ucy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdGFic09yVGFiQ3JlYXRlT3B0aW9ucy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVhdGVPcHRpb25zID0gdGFic09yVGFiQ3JlYXRlT3B0aW9uc1tpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJzW2luZGV4XSA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIuVGFiKGNyZWF0ZU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudGFicyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlci5jb3B5KHRhYnMpO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmVtcHR5KHRoaXMuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICB2YXIgdGFiUGVyY2VudCA9IDEwMCAvIHRhYnMubGVuZ3RoICsgJyUnO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gdGFic1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYiA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYXBwZW5kQ2hpbGQodGFiLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUYWJEaXNwbGF5KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VGFiID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlVGFiKHRhYnNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdjbGVhckFjdGl2ZVRhYicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJBY3RpdmVUYWIoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmVUYWIodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0QWN0aXZlVGFiJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBY3RpdmVUYWIobmV3VGFiKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9sZFRhYiA9IHRoaXMuY3VycmVudFRhYjtcbiAgICAgICAgICAgICAgICBpZiAob2xkVGFiID09PSBuZXdUYWIpIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUYWIgPSBuZXdUYWI7XG4gICAgICAgICAgICAgICAgLy8gU3dpdGNoIHRoZSBhY3RpdmUgY2xhc3NcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRUYWIpIG9sZFRhYi5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoYWN0aXZlVGFiQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VGFiKSBuZXdUYWIuZWxlbWVudC5jbGFzc0xpc3QuYWRkKGFjdGl2ZVRhYkNsYXNzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2VuZCBvZmYgdGhlIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgaWYgKG5ld1RhYiAmJiB0eXBlb2YgdGhpcy50YWJTd2l0Y2hlZENhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB0aGlzLnRhYlN3aXRjaGVkQ2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgICBvbGRUYWI6IG9sZFRhYixcbiAgICAgICAgICAgICAgICAgICAgbmV3VGFiOiBuZXdUYWJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25DbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsaWNrVGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRFbGVtZW50ID0gY2xpY2tUYXJnZXQ7XG4gICAgICAgICAgICAgICAgLy8gR28gdXAgdGhyb3VnaCB0aGUgcGFyZW50IGVsZW1lbnRzIHVudGlsIHdlIHJlYWNoIHRoZSB0YWIgYmFyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnRFbGVtZW50ICE9PSB0aGlzLmNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY3VycmVudCBlbGVtZW50IGlzIGEgdGFiXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnModGFiQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uVGFiQ2xpY2sodGhpcy50YWJGb3JFbGVtZW50KGN1cnJlbnRFbGVtZW50KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBjdXJyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25UYWJDbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25UYWJDbGljayh0YWIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRhYikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlVGFiKHRhYik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3RhYkZvckxhYmVsJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0YWJGb3JMYWJlbChsYWJlbCkge1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gdGhpcy50YWJzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFiID0gX3N0ZXAzLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFiLmxhYmVsID09PSBsYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd0YWJGb3JFbGVtZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0YWJGb3JFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNCA9IHRoaXMudGFic1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IChfc3RlcDQgPSBfaXRlcmF0b3I0Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYiA9IF9zdGVwNC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhYi5lbGVtZW50ID09PSBlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjQgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgJiYgX2l0ZXJhdG9yNC5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlVGFiQmFyO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhciA9IFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhcjtcbiAgICAoZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhcikge1xuICAgICAgICB2YXIgVGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gVGFiKGNyZWF0ZU9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFiKTtcblxuICAgICAgICAgICAgICAgIHRoaXMubGFiZWwgPSBjcmVhdGVPcHRpb25zLmxhYmVsO1xuICAgICAgICAgICAgICAgIHRoaXMuaWNvbkNsYXNzID0gY3JlYXRlT3B0aW9ucy5pY29uO1xuICAgICAgICAgICAgICAgIHRoaXMua2V5ID0gY3JlYXRlT3B0aW9ucy5rZXk7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kTW9kZSA9ICdob3Jpem9udGFsJztcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGFiQ2xhc3NcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVJY29uKHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogY3JlYXRlT3B0aW9ucy5pY29uLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB3cmFwOiBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50V2l0aENsYXNzKCdkaXYnLCB0YWJDbGFzcyArICctaWNvbicpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGJhY2tncm91bmQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0YWJCYWNrZ3JvdW5kQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmVsZW1lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLnN2Z1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVTVkdFbGVtZW50KCdzdmcnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlld0JveDogJzAgMCAxMDAgMTAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZDogdGhpcy5iYWNrZ3JvdW5kUG9seWdvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZVNWR0VsZW1lbnQoJ3BvbHlnb24nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiAnYmxhY2snXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogYmFja2dyb3VuZFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLmNsYXNzTGlzdC5hZGQodGFiQmFja2dyb3VuZENsYXNzICsgJy1ub3N2ZycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQudGl0bGUgPSBjcmVhdGVPcHRpb25zLmxhYmVsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoVGFiLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ3VwZGF0ZUJhY2tncm91bmRQb2x5Z29uJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQmFja2dyb3VuZFBvbHlnb24obW9kZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYmFja2dyb3VuZFBvbHlnb24pIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFRoZSBoZWlnaHQgaW4gcGVyY2VudGFnZSBvZiB0aGUgdHJpYW5nbGUgc2l6ZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyaWFuZ2xlSGVpZ2h0ID0gbW9kZSA9PT0gJ3ZlcnRpY2FsJyA/IDMwIDogMTU7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBUaGUgd2lkdGggaW4gcGVyY2VudGFnZSBvZiB0aGUgdHJpYW5nbGUgc2l6ZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyaWFuZ2xlV2lkdGggPSBtb2RlID09PSAndmVydGljYWwnID8gMTUgOiAzMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kUG9seWdvbi5zZXRBdHRyaWJ1dGUoJ3BvaW50cycsIG1vZGUgPT09ICd2ZXJ0aWNhbCcgPyAnMCwwIDEwMCwwIDEwMCwnICsgKDUwIC0gdHJpYW5nbGVIZWlnaHQgLyAyKSArICcgJyArICgxMDAgLSB0cmlhbmdsZVdpZHRoKSArICcsNTAgMTAwLCcgKyAoNTAgKyB0cmlhbmdsZUhlaWdodCAvIDIpICsgJyAxMDAsMTAwIDAsMTAwJyA6ICcwLDAgJyArICg1MCAtIHRyaWFuZ2xlSGVpZ2h0IC8gMikgKyAnLDAgNTAsJyArIHRyaWFuZ2xlSGVpZ2h0ICsgJyAnICsgKDUwICsgdHJpYW5nbGVIZWlnaHQgLyAyKSArICcsMCAxMDAsMCAxMDAsMTAwLCAwLDEwMCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgcmV0dXJuIFRhYjtcbiAgICAgICAgfSgpO1xuXG4gICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhci5UYWIgPSBUYWI7XG4gICAgfSkoUmlkZVN0eWxlclNob3djYXNlVGFiQmFyID0gUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhciB8fCAoUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhciA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgdGFibGVDbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXRhYmxlJztcbiAgICB2YXIgaGVhZENsYXNzID0gdGFibGVDbGFzcyArICctaGVhZCc7XG4gICAgdmFyIGJvZHlDbGFzcyA9IHRhYmxlQ2xhc3MgKyAnLWJvZHknO1xuICAgIHZhciBib2R5TG9hZGluZ0NsYXNzID0gYm9keUNsYXNzICsgJy1sb2FkaW5nJztcbiAgICB2YXIgY29udGFpbmVyQ2xhc3MgPSB0YWJsZUNsYXNzICsgJy1jb250YWluZXInO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlVGFibGUsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkQyk7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlVGFibGUoc2hvd2Nhc2VJbnN0YW5jZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlKTtcblxuICAgICAgICAgICAgb3B0aW9ucyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHt9LCBvcHRpb25zKTtcblxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlVGFibGUpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UpKTtcblxuICAgICAgICAgICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgICAgICBfdGhpcy5jb2x1bW5zID0gb3B0aW9ucy5jb2x1bW5zO1xuICAgICAgICAgICAgdmFyIHRhYmxlID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgndGFibGUnLCB7XG4gICAgICAgICAgICAgICAgYXBwZW5kVG86IF90aGlzLmNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRhYmxlQ2xhc3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHRoZWFkID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgndGhlYWQnLCB7XG4gICAgICAgICAgICAgICAgYXBwZW5kVG86IHRhYmxlLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogaGVhZENsYXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLnRib2R5ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgndGJvZHknLCB7XG4gICAgICAgICAgICAgICAgYXBwZW5kVG86IHRhYmxlLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogYm9keUNsYXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLmdlbmVyYXRlSGVhZGVycyh0aGVhZCk7XG4gICAgICAgICAgICBfdGhpcy5jb21wb25lbnQgPSB0YWJsZTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnJvd3MpIF90aGlzLmFwcGVuZFJvd3Mob3B0aW9ucy5yb3dzKTtlbHNlIGlmIChvcHRpb25zLnN0YXJ0TG9hZGluZykgX3RoaXMuc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZSwgW3tcbiAgICAgICAgICAgIGtleTogJ2dlbmVyYXRlSGVhZGVyQ2VsbCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVIZWFkZXJDZWxsKGNvbHVtbikge1xuICAgICAgICAgICAgICAgIHZhciBoZWFkZXIgPSBjb2x1bW4uaGVhZGVyO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaGVhZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnZW5lcmF0ZWRIZWFkZXIgPSBoZWFkZXIoY29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBnZW5lcmF0ZWRIZWFkZXIgPT09ICdzdHJpbmcnID8gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgndGgnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnZW5lcmF0ZWRIZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgfSkgOiBnZW5lcmF0ZWRIZWFkZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB0aCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ3RoJywge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBoZWFkZXJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dlbmVyYXRlSGVhZGVycycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVIZWFkZXJzKHRoZWFkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhlYWRlclJvdyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuY29sdW1uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW4gPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyUm93LmFwcGVuZENoaWxkKHRoaXMuZ2VuZXJhdGVIZWFkZXJDZWxsKGNvbHVtbikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGVhZC5hcHBlbmRDaGlsZChoZWFkZXJSb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdnZW5lcmF0ZVJvd0NlbGwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlUm93Q2VsbChyb3csIGNvbHVtbikge1xuICAgICAgICAgICAgICAgIHZhciBjZWxsID0gY29sdW1uLmNlbGw7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjZWxsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnZW5lcmF0ZWRDZWxsID0gY2VsbChyb3csIGNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZ2VuZXJhdGVkQ2VsbCA9PT0gJ3N0cmluZycgPyBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCd0ZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdlbmVyYXRlZENlbGxcbiAgICAgICAgICAgICAgICAgICAgfSkgOiBnZW5lcmF0ZWRDZWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdGQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCd0ZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogcm93W2NlbGxdLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dlbmVyYXRlUm93JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZVJvdyhyb3cpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gdGhpcy5jb2x1bW5zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0aGlzLmdlbmVyYXRlUm93Q2VsbChyb3csIGNvbHVtbikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdhcHBlbmRSb3dzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBlbmRSb3dzKHJvd3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHZhciByb3dzRnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSByb3dzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gX3N0ZXAzLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzRnJhZ21lbnQuYXBwZW5kQ2hpbGQodGhpcy5nZW5lcmF0ZVJvdyhyb3cpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMudGJvZHkuYXBwZW5kQ2hpbGQocm93c0ZyYWdtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0TG9hZGluZycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TG9hZGluZyhsb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50Ym9keS5jbGFzc0xpc3QudG9nZ2xlKGJvZHlMb2FkaW5nQ2xhc3MsIGxvYWRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSwgW3tcbiAgICAgICAgICAgIGtleTogJ2Zvcm1hdENlbGwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdENlbGwob2JqZWN0LCBrZXksIHBvc3RmaXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RyaW5nID0gb2JqZWN0W2tleV0udG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgndGQnLCB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHN0cmluZyA/IHBvc3RmaXggPyBzdHJpbmcgKyBwb3N0Zml4IDogc3RyaW5nIDogUmlkZVN0eWxlclNob3djYXNlVGFibGUuZW1wdHlDZWxsU3RyaW5nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlVGFibGU7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZS5lbXB0eUNlbGxTdHJpbmcgPSAnLSc7XG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlID0gUmlkZVN0eWxlclNob3djYXNlVGFibGU7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkUikge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yLCBfUmlkZVN0eWxlclNob3djYXNlJFIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVRpcmVTZWxlY3RvcihzaG93Y2FzZUluc3RhbmNlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yKTtcblxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVRpcmVTZWxlY3Rvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVRpcmVTZWxlY3RvcikpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSkpO1xuXG4gICAgICAgICAgICB2YXIgc3RhdGVEYXRhID0gc2hvd2Nhc2VJbnN0YW5jZS5zdGF0ZS5nZXREYXRhKCk7XG4gICAgICAgICAgICBfdGhpcy5zdXBwb3J0ZWRWZWhpY2xlSW1hZ2VyeSA9IHtcbiAgICAgICAgICAgICAgICBhbmdsZWQ6IHN0YXRlRGF0YS52ZWhpY2xlSGFzQW5nbGVkSW1hZ2UsXG4gICAgICAgICAgICAgICAgc2lkZTogc3RhdGVEYXRhLnZlaGljbGVIYXNTaWRlSW1hZ2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy52ZWhpY2xlVGlyZU9wdGlvbklEID0gc3RhdGVEYXRhLmN1cnJlbnRWZWhpY2xlVGlyZU9wdGlvbklEO1xuICAgICAgICAgICAgX3RoaXMuZGVmYXVsdEZpbHRlcnMgPSB7XG4gICAgICAgICAgICAgICAgVmVoaWNsZVRpcmVPcHRpb246IF90aGlzLnZlaGljbGVUaXJlT3B0aW9uSUQsXG4gICAgICAgICAgICAgICAgSGFzQ2F0YWxvZ0ltYWdlOiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuY3VycmVudEZpbHRlcnMgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbih7fSwgX3RoaXMuZGVmYXVsdEZpbHRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVRpcmVTZWxlY3RvciwgW3tcbiAgICAgICAgICAgIGtleTogXCJjb3VudFJlc3VsdHNcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb3VudFJlc3VsdHMoZmlsdGVycykge1xuICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdChcInRpcmUvY291bnRtb2RlbHNcIiwgZmlsdGVycyksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuQ291bnQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJnZXRSZXN1bHRzXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVzdWx0cyhmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwidGlyZS9nZXRtb2RlbGRlc2NyaXB0aW9uc1wiLCBmaWx0ZXJzKSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5Nb2RlbHM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJwcm9kdWN0RmlsdGVyXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcHJvZHVjdEZpbHRlcihwcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJwcm9kdWN0SW1hZ2VTb3VyY2VcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9kdWN0SW1hZ2VTb3VyY2UocHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByaWRlc3R5bGVyLnRpcmUuaW1hZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBUaXJlRml0bWVudFJlc291cmNlVHlwZTogMiAvKiBDYXRhbG9nICovXG4gICAgICAgICAgICAgICAgICAgICwgVGlyZU1vZGVsOiBwcm9kdWN0LlRpcmVNb2RlbElELFxuICAgICAgICAgICAgICAgICAgICBXaWR0aDogMTAwLFxuICAgICAgICAgICAgICAgICAgICBIZWlnaHQ6IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgUG9zaXRpb25YOiAxIC8qIENlbnRlciAqL1xuICAgICAgICAgICAgICAgICAgICAsIFBvc2l0aW9uWTogMSAvKiBDZW50ZXIgKi9cbiAgICAgICAgICAgICAgICAgICAgLCBJbmNsdWRlU2hhZG93OiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJwcm9kdWN0SW1hZ2VMYWJlbHNcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9kdWN0SW1hZ2VMYWJlbHMocHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHByaW1hcnk6IHByb2R1Y3QuVGlyZUJyYW5kTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kYXJ5OiBwcm9kdWN0LlRpcmVNb2RlbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHRlcnRpYXJ5OiBwcm9kdWN0LkF0dHJpYnV0ZXMgJiYgcHJvZHVjdC5BdHRyaWJ1dGVzLmxlbmd0aCA/IHByb2R1Y3QuQXR0cmlidXRlcy5qb2luKCcsICcpIDogJydcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZVRpcmVTZWxlY3RvcjtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0U2VsZWN0b3IpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRpcmVTZWxlY3RvciA9IFJpZGVTdHlsZXJTaG93Y2FzZVRpcmVTZWxlY3Rvcjtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciB0b2dnbGVCdXR0b25DbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXRvZ2dsZS1idXR0b24nO1xuICAgIHZhciBvcHRpb25DbGFzcyA9IHRvZ2dsZUJ1dHRvbkNsYXNzICsgJy1vcHRpb24nO1xuICAgIHZhciBvcHRpb25BY3RpdmVDbGFzcyA9IG9wdGlvbkNsYXNzICsgJy1hY3RpdmUnO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVRvZ2dsZUJ1dHRvbiA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJEMpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZVRvZ2dsZUJ1dHRvbiwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VUb2dnbGVCdXR0b24oKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlVG9nZ2xlQnV0dG9uKTtcblxuICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VUb2dnbGVCdXR0b24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VUb2dnbGVCdXR0b24pKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VUb2dnbGVCdXR0b24sIFt7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplQ29tcG9uZW50JyxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDcmVhdGUgdGhlIERPTSBmb3IgdGhlIHRvZ2dsZSBidXR0b25cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVDb21wb25lbnQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRvZ2dsZUJ1dHRvbkNsYXNzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoY2xpY2tFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uQ2xpY2tlZChjbGlja0V2ZW50KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FsbGVkIHdoZW4gdGhlIHRvZ2dsZSBidXR0b24gaXMgY2xpY2tlZCBvblxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25DbGlja2VkJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrZWQoY2xpY2tFdmVudCkge1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBjbGlja0V2ZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMob3B0aW9uQ2xhc3MpKSByZXR1cm47IC8vIFRoZSBjbGljayB3YXMgbm90IG9uIGFuIG9wdGlvblxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKG9wdGlvbkFjdGl2ZUNsYXNzKSkgcmV0dXJuOyAvLyBUaGUgY2xpY2sgd2FzIG9uIGFuIGFjdGl2ZSBvcHRpb25cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdE9wdGlvbkVsZW1lbnQodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2VsZWN0T3B0aW9uRWxlbWVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0T3B0aW9uRWxlbWVudChvcHRpb25FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyaWdnZXJDaGFuZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7XG5cbiAgICAgICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBvcHRpb25FbGVtZW50LnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlID09PSBuZXdWYWx1ZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjaGlsZEluZGV4ID0gMDsgY2hpbGRJbmRleCA8IHRoaXMuY29tcG9uZW50LmNoaWxkcmVuLmxlbmd0aDsgY2hpbGRJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZE9wdGlvbkVsZW1lbnQgPSB0aGlzLmNvbXBvbmVudC5jaGlsZHJlbltjaGlsZEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRPcHRpb25FbGVtZW50LmNsYXNzTGlzdC50b2dnbGUob3B0aW9uQWN0aXZlQ2xhc3MsIGNoaWxkT3B0aW9uRWxlbWVudCA9PT0gb3B0aW9uRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vbkNoYW5nZWQgPT09ICdmdW5jdGlvbicgJiYgdHJpZ2dlckNoYW5nZSkgdGhpcy5vbkNoYW5nZWQobmV3VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRWYWx1ZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gdmFsdWUpIHJldHVybjtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjaGlsZEluZGV4ID0gMDsgY2hpbGRJbmRleCA8IHRoaXMuY29tcG9uZW50LmNoaWxkcmVuLmxlbmd0aDsgY2hpbGRJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZE9wdGlvbkVsZW1lbnQgPSB0aGlzLmNvbXBvbmVudC5jaGlsZHJlbltjaGlsZEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkT3B0aW9uRWxlbWVudC52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0T3B0aW9uRWxlbWVudChjaGlsZE9wdGlvbkVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRPcHRpb25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5lbXB0eSh0aGlzLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gb3B0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRPcHRpb24ob3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdhZGRPcHRpb24nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE9wdGlvbihvcHRpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogb3B0aW9uQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IG9wdGlvbi5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSksIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlID09PSB1bmRlZmluZWQpIHRoaXMuc2VsZWN0T3B0aW9uRWxlbWVudChvcHRpb25FbGVtZW50LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlVG9nZ2xlQnV0dG9uO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRvZ2dsZUJ1dHRvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZVRvZ2dsZUJ1dHRvbjtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlU2VsZWN0aW9uID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkTSkge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVNlbGVjdGlvbiwgX1JpZGVTdHlsZXJTaG93Y2FzZSRNKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlU2VsZWN0aW9uKCkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb24pO1xuXG4gICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlU2VsZWN0aW9uKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVNlbGVjdGlvbiwgW3tcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVNYWluQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplTWFpbkNvbXBvbmVudCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMubW9kYWwgPSBuZXcgUmlkZVN0eWxlclZlaGljbGVTZWxlY3Rpb25Nb2RhbCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogZnVuY3Rpb24gY29udGFpbmVyKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5jb21wb25lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKHNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbi5GaW5hbFNlbGVjdGlvbk1hZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIub25WZWhpY2xlU2VsZWN0ZWQoc2VsZWN0aW9uLlZlaGljbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBJbWFnZVNldHRpbmdzOiBmdW5jdGlvbiBJbWFnZVNldHRpbmdzKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2VuZXJhdGVWZWhpY2xlUHJldmlld1NldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIEluY2x1ZGVPRVRpcmVPcHRpb246IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLmFmdGVyQXV0aGVudGljYXRlZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25BdXRoZW50aWNhdGVkKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2J1aWxkQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZENvbXBvbmVudChjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdyaWRlc3R5bGVyLXNob3djYXNlLXZlaGljbGUtc2VsZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50Q29udGFpbmVyID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLWNvbnRlbnQgcmlkZXN0eWxlci1zaG93Y2FzZS12ZWhpY2xlLXNlbGVjdGlvbi1jb250ZW50JyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IGNvbnRhaW5lclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVpbGRDb3B5KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaG9vc2VWZWhpY2xlQnV0dG9uID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlQnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzZWxlY3QteW91ci12ZWhpY2xlJyksXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbnRlbnRDb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBsYXJnZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdyaWRlc3R5bGVyLXNob3djYXNlLXNlbGVjdC15b3VyLXZlaGljbGUnLFxuICAgICAgICAgICAgICAgICAgICB3cmFwOiBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50V2l0aElEKCdkaXYnLCAncmlkZXN0eWxlci1zaG93Y2FzZS1zZWxlY3QteW91ci12ZWhpY2xlLXdyYXBwZXInKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hvb3NlVmVoaWNsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLm1vZGFsLlNob3coKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnYnVpbGRDb3B5JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZENvcHkoKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZW1ib2xkZW5GaXJzdFdvcmQoc3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdFdvcmQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuU3RyaW5nSGVscGVyLmdldEZpcnN0V29yZChzdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVtYWluaW5nU3RyaW5nID0gc3RyaW5nLnN1YnN0cihmaXJzdFdvcmQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50V2l0aFRleHQoJ3N0cm9uZycsIGZpcnN0V29yZCksIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZVRleHRFbGVtZW50KHJlbWFpbmluZ1N0cmluZyldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmlzdWFsaXplU3RyaW5nID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnaDEnLCB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZDogZW1ib2xkZW5GaXJzdFdvcmQoUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKFwidmVoaWNsZS1zZWxlY3QtdmlzdWFsaXplLWludHJvXCIpKSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29udGVudENvbnRhaW5lclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBzaGFyZVN0cmluZyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2gxJywge1xuICAgICAgICAgICAgICAgICAgICBhcHBlbmQ6IGVtYm9sZGVuRmlyc3RXb3JkKFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZyhcInZlaGljbGUtc2VsZWN0LXNoYXJlLWludHJvXCIpKSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29udGVudENvbnRhaW5lclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkF1dGhlbnRpY2F0ZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQXV0aGVudGljYXRlZCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuY2hvb3NlVmVoaWNsZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdChcIndoZWVsL2dldG1vZGVsc1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIENvdW50OiAzLFxuICAgICAgICAgICAgICAgICAgICBIYXNDYXRhbG9nSW1hZ2U6IHRydWVcbiAgICAgICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LnNob3dXaGVlbHMocmVzcG9uc2UuTW9kZWxzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25WZWhpY2xlU2VsZWN0ZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uVmVoaWNsZVNlbGVjdGVkKHNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFRoZSB1c2VyIGhhcyBzZWxlY3RlZCBhIHZlaGljbGUgdXNpbmcgdGhlIHZlaGljbGUgc2VsZWN0aW9uIG1vZGFsLlxuICAgICAgICAgICAgICAgIC8vIE5vdyB3ZSBuZWVkIHRvIG9idGFpbiBhIE9FIHRpcmUgb3B0aW9uIGZvciB0aGVtLlxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnRyaWdnZXIoXCJ2ZWhpY2xlLXNlbGVjdGVkXCIsIHNlbGVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNob3cgdGhlIHBhc3NlZCBpbiB3aGVlbCBtb2RlbHMgaW4gdGhlIHdoZWVsIHNob3djYXNlIHNlY3Rpb24gb2YgdGhlIHZlaGljbGUgc2VsZWN0aW9uIHNjcmVlblxuICAgICAgICAgICAgICogQHBhcmFtIG1vZGVscyBUaGUgd2hlZWwgbW9kZWxzIHRvIHNob3dcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3Nob3dXaGVlbHMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dXaGVlbHMobW9kZWxzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdoZWVsQ29udGFpbmVyID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy53aGVlbENvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICB3aGVlbENvbnRhaW5lciA9IHRoaXMud2hlZWxDb250YWluZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLXZlaGljbGUtc2VsZWN0aW9uLXdoZWVsLXNob3djYXNlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3aGVlbENvbnRhaW5lciA9IHRoaXMud2hlZWxDb250YWluZXI7XG4gICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmVtcHR5KHdoZWVsQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG1vZGVsSW1hZ2VzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIG9uTW9kZWxJbWFnZUxvYWQgPSBmdW5jdGlvbiBvbk1vZGVsSW1hZ2VMb2FkKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IG1vZGVsSW1hZ2VzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RlbEltYWdlID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1vZGVsSW1hZ2UuY29tcGxldGUpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHdoZWVsQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IG1vZGVsc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZWxJbWFnZVNvdXJjZSA9IHJpZGVzdHlsZXIud2hlZWwuaW1hZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdoZWVsTW9kZWw6IG1vZGVsLldoZWVsTW9kZWxJRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXaWR0aDogNDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlaWdodDogNDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBvc2l0aW9uWDogMSAvKiBDZW50ZXIgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIFBvc2l0aW9uWTogMSAvKiBDZW50ZXIgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIFdoZWVsRml0bWVudFJlc291cmNlVHlwZTogMyAvKiBDYXRhbG9nICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBJbmNsdWRlU2hhZG93OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RlbEltYWdlID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbEltYWdlLmNsYXNzTmFtZSA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXZlaGljbGUtc2VsZWN0aW9uLXdoZWVsLXNob3djYXNlLWltYWdlJztcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9uTW9kZWxJbWFnZUxvYWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxJbWFnZXMucHVzaChtb2RlbEltYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsSW1hZ2Uuc3JjID0gbW9kZWxJbWFnZVNvdXJjZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoZWVsQ29udGFpbmVyLmFwcGVuZENoaWxkKG1vZGVsSW1hZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdnZW5lcmF0ZVZlaGljbGVQcmV2aWV3U2V0dGluZ3MnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlVmVoaWNsZVByZXZpZXdTZXR0aW5ncygpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2NhbGUgPSBNYXRoLm1heCh3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAwLCAxKTtcbiAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5jb21wb25lbnQ7XG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoVG9IZWlnaHQgPSAuNjtcbiAgICAgICAgICAgICAgICB2YXIgbWF4UmVxdWVzdFJlc29sdXRpb24gPSAxOTIwO1xuICAgICAgICAgICAgICAgIC8vIFdpZHRoIGlzIDgwJSBvZiB0aGUgY29udGFpbmVyIHdpZHRoXG4gICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gY29udGFpbmVyLmNsaWVudFdpZHRoICogLjgwO1xuICAgICAgICAgICAgICAgIC8vIFdpZHRoIGlzIDUwMCBpZiBub3QgZm91bmRcbiAgICAgICAgICAgICAgICBpZiAoIXdpZHRoKSB3aWR0aCA9IDUwMDtcbiAgICAgICAgICAgICAgICAvLyBBcHBseSBvdXIgc2NhbGVcbiAgICAgICAgICAgICAgICB3aWR0aCAqPSBzY2FsZTtcbiAgICAgICAgICAgICAgICAvLyBMaW1pdCB3aWR0aCB0byBtYXggcmVxdWVzdCByZXNvbHV0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHdpZHRoID4gbWF4UmVxdWVzdFJlc29sdXRpb24pIHdpZHRoID0gbWF4UmVxdWVzdFJlc29sdXRpb247XG4gICAgICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIGhlaWdodFxuICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSB3aWR0aCAqIHdpZHRoVG9IZWlnaHQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgV2lkdGg6IH5+d2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIEhlaWdodDogfn5oZWlnaHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb247XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuTWFpbkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb24gPSBSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlU2VsZWN0aW9uO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGN1c3RvbWl6YXRpb25zQ2xhc3MgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1jdXN0b21pemF0aW9ucyc7XG4gICAgdmFyIGxvYWRpbmdDbGFzcyA9IGN1c3RvbWl6YXRpb25zQ2xhc3MgKyAnLWxvYWRpbmcnO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVWaXN1YWxpemF0aW9uID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkTSkge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb24sIF9SaWRlU3R5bGVyU2hvd2Nhc2UkTSk7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb24oKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb24pO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgICAgICBfdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50T3JkZXIgPSBbJ3BhaW50JywgJ3doZWVscycsICd0aXJlcycsICdzdXNwZW5zaW9uJ107XG4gICAgICAgICAgICBfdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50U2V0dGluZ3MgPSB7XG4gICAgICAgICAgICAgICAgcGFpbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc2VsZWN0LXBhaW50JyksXG4gICAgICAgICAgICAgICAgICAgIHNob3dGaWx0ZXJCdXR0b246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB3aGVlbHM6IHtcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc2VsZWN0LXdoZWVscycpLFxuICAgICAgICAgICAgICAgICAgICBzaG93RmlsdGVyQnV0dG9uOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0aXJlczoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzZWxlY3QtdGlyZXMnKSxcbiAgICAgICAgICAgICAgICAgICAgc2hvd0ZpbHRlckJ1dHRvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3VzcGVuc2lvbjoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdhZGp1c3Qtc3VzcGVuc2lvbicpLFxuICAgICAgICAgICAgICAgICAgICBzaG93RmlsdGVyQnV0dG9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb24sIFt7XG4gICAgICAgICAgICBrZXk6ICdidWlsZENvbXBvbmVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRDb21wb25lbnQoY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAvLyBXYWl0IGZvciBpbml0aWFsaXphdGlvbiBiZWZvcmUgY3JlYXRpbmcgdGhlIHZpZXdwb3J0IGJlY2F1c2UgaXQgZGV0ZWN0c1xuICAgICAgICAgICAgICAgIC8vIHRoZSBvZmZzZXQgcG9zaXRpb25pbmcgb2YgdGhlIHZpZXdwb3J0IGVsZW1lbnQgd2hlbiBjcmVhdGVkIGFuZCBvdXIgQ1NTXG4gICAgICAgICAgICAgICAgLy8gaXNuJ3QgZ3VhcmFudGVlZCB0byBiZSBsb2FkZWQgdW50aWwgdGhlIGluaXRpYWxpemVkIGV2ZW50XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMub24oJ2luaXRpYWxpemVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2V0dXBWaWV3cG9ydChjb250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBTZXR1cCBpbml0aWFsIHRhYiBsYXlvdXRcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnVwZGF0ZVRhYkxheW91dCgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBIaWRlIHRoZSBzaGFyZSBidXR0b24gaWYgc2hhcmluZyBpcyBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5zaG93Y2FzZS5zZXR0aW5nc0Zyb21BUEkuRW5hYmxlU2hhcmluZykgc2hhcmVCdXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50VGlyZUJyYW5kcyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdChcInRpcmUvY291bnRicmFuZHNcIiwgX3RoaXMyLnNob3djYXNlLmZpbHRlcnMudGlyZUZpbHRlcnMuZ2V0RmlsdGVycygpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50V2hlZWxCcmFuZHMgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoXCJ3aGVlbC9jb3VudGJyYW5kc1wiLCBfdGhpczIuc2hvd2Nhc2UuZmlsdGVycy53aGVlbEZpbHRlcnMuZ2V0RmlsdGVycygpKTtcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIuYWxsKFtjb3VudFRpcmVCcmFuZHMsIGNvdW50V2hlZWxCcmFuZHNdKS5kb25lKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGlyZUJyYW5kQ291bnQgPSByZXN1bHRzWzBdLkNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdoZWVsQnJhbmRDb3VudCA9IHJlc3VsdHNbMV0uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRpcmVCcmFuZENvdW50KSBfdGhpczIuY3VzdG9taXphdGlvbkNvbXBvbmVudFNldHRpbmdzLnRpcmVzLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2hlZWxCcmFuZENvdW50KSBfdGhpczIuY3VzdG9taXphdGlvbkNvbXBvbmVudFNldHRpbmdzLndoZWVscy5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlVGFicygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHVwVGFicygpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlV2hlZWxTaXplID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VDaGFuZ2VXaGVlbFNpemUodGhpcy5zaG93Y2FzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VXaGVlbFNpemUub3B0aW9uU2VsZWN0ZWRDYWxsYmFjayA9IGZ1bmN0aW9uIChuZXdPcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnN0YXRlLmV4dGVuZERhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFdoZWVsRml0bWVudDogbmV3T3B0aW9uXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlVmlld3BvcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgV2hlZWxGaXRtZW50OiBuZXdPcHRpb24uV2hlZWxGaXRtZW50SURcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBbdGhpcy52ZWhpY2xlRGV0YWlscyA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuVmVoaWNsZURldGFpbHModGhpcy5zaG93Y2FzZSksIG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuV2hlZWxEZXRhaWxzKHRoaXMuc2hvd2Nhc2UpLCBuZXcgUmlkZVN0eWxlclNob3djYXNlLlRpcmVEZXRhaWxzKHRoaXMuc2hvd2Nhc2UpLCB0aGlzLnRhYkJhciwgdGhpcy5jaGFuZ2VXaGVlbFNpemVdO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudENvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjdXN0b21pemF0aW9uc0NsYXNzLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBBcHBlbmQgYW55IHN1YiBjb21wb25lbnRzXG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuY29tcG9uZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYXBwZW5kQ2hpbGQoY29tcG9uZW50LmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1yb3RhdGUtdmVoaWNsZScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnN3aXRjaEFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtY3VzdG9taXphdGlvbi1jb21wb25lbnQtdGl0bGUtY29udGFpbmVyJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmQ6IFt0aGlzLnRpdGxlRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1jdXN0b21pemF0aW9uLWNvbXBvbmVudC10aXRsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgfSksIHRoaXMuZmlsdGVyQnV0dG9uID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlQnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnZmlsdGVyLXJlc3VsdHMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraW5ueTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNob3dGaWx0ZXJzKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIHNoYXJlQnV0dG9uID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlQnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaGFyZS1teS12ZWhpY2xlLWJ1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc2hhcmUtbXktdmVoaWNsZScpLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzaGFyZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsKF90aGlzMi5zaG93Y2FzZSwgX3RoaXMyLmN1cnJlbnRSZW5kZXJJbnN0cnVjdGlvbnMpLnNob3coKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBTdGFydCBsaXN0ZW5pbmcgZm9yIHJlc2l6ZSBldmVudHNcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vbigncmVzaXplZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi5pc1Zpc2libGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnVwZGF0ZVZpZXdwb3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBTdGFydCBsaXN0ZW5pbmcgZm9yIGJyZWFrcG9pbnQgY2hhbmdlc1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uKCdicmVha3BvaW50LWNoYW5nZWQnLCBmdW5jdGlvbiAobmV3QnJlYWtwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlVGFiTGF5b3V0KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlRGV0YWlscy5wYWludFN3YXRjaENsaWNrQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXRBY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50KF90aGlzMi5jdXN0b21pemF0aW9uQ29tcG9uZW50cy5wYWludCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0dXBWaWV3cG9ydCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0dXBWaWV3cG9ydChjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHZhciB2aWV3cG9ydEVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2Utdmlld3BvcnQnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogY29udGFpbmVyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczMuc3dpdGNoQW5nbGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFJpZGVTdHlsZXJWaWV3cG9ydCh2aWV3cG9ydEVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd1cGRhdGVUYWJzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVUYWJzKCkge1xuICAgICAgICAgICAgICAgIHZhciB0YWJzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRPcmRlcltTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCBkaXNhYmxlZCBjb21wb25lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudFNldHRpbmdzW2tleV0uZW5hYmxlZCkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJzLnB1c2godGhpcy50YWJzW2tleV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy50YWJCYXIuc2V0VGFicyh0YWJzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRhYkxheW91dCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd1cGRhdGVUYWJMYXlvdXQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVRhYkxheW91dCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudEJyZWFrcG9pbnQgPSB0aGlzLnNob3djYXNlLnN0eWxlLmdldEN1cnJlbnRCcmVha3BvaW50KCk7XG4gICAgICAgICAgICAgICAgdmFyIGhvcml6b250YWwgPSBjdXJyZW50QnJlYWtwb2ludCAmJiBjdXJyZW50QnJlYWtwb2ludFswXSA9PT0gJ3Bob25lLXBvcnRyYWl0JztcbiAgICAgICAgICAgICAgICB0aGlzLnRhYkJhci5zZXRNb2RlKGhvcml6b250YWwgPyAnaG9yaXpvbnRhbCcgOiAndmVydGljYWwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0dXBUYWJzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXR1cFRhYnMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRhYkJhciA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFiQmFyKHRoaXMuc2hvd2Nhc2UpO1xuICAgICAgICAgICAgICAgIC8vIERlZmluZSBvdXIgdGFic1xuICAgICAgICAgICAgICAgIHRoaXMudGFicyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcGFpbnQ6IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFiQmFyLlRhYih7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAncGFpbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAncGFpbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygncGFpbnQnKVxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgd2hlZWxzOiBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhci5UYWIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3doZWVsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ3doZWVscycsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCd3aGVlbHMnKVxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgdGlyZXM6IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFiQmFyLlRhYih7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAndGlyZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICd0aXJlcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCd0aXJlcycpXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zaW9uOiBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhci5UYWIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWNvbjogJ3N1c3BlbnNpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnc3VzcGVuc2lvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzdXNwZW5zaW9uJylcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIFN3aXRjaCB0aGUgYm90dG9tIHZpZXcsIHRoZSBjdXN0b21pemF0aW9uIGNvbXBvbmVudCB3aGVuIGEgdGFiIGlzIGNsaWNrZWQgb25cbiAgICAgICAgICAgICAgICB0aGlzLnRhYkJhci50YWJTd2l0Y2hlZENhbGxiYWNrID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1RhYiA9IGUubmV3VGFiO1xuICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gbmV3VGFiLmtleTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNC5jdXN0b21pemF0aW9uQ29tcG9uZW50cyAmJiBrZXkgaW4gX3RoaXM0LmN1c3RvbWl6YXRpb25Db21wb25lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2V0QWN0aXZlQ3VzdG9taXphdGlvbkNvbXBvbmVudChfdGhpczQuY3VzdG9taXphdGlvbkNvbXBvbmVudHNba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkRpc3BsYXknLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uRGlzcGxheSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGVEYXRhID0gdGhpcy5zdGF0ZS5nZXREYXRhKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFzdGF0ZURhdGEuY3VycmVudFZlaGljbGVDb25maWd1cmF0aW9uSUQgfHwgIXN0YXRlRGF0YS5jdXJyZW50VmVoaWNsZVRpcmVPcHRpb25JRCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdUcnlpbmcgdG8gc2hvdyB0aGUgdmlzdWFsaXplIHNjcmVlbiB3aXRob3V0IGEgdmVoaWNsZSBjb25maWd1cmF0aW9uIG9yIHRpcmUgb3B0aW9uLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmVoaWNsZUNoYW5nZWQgPSAhUmlkZVN0eWxlclNob3djYXNlLkdVSURIZWxwZXIuYXJlRXF1YWwoc3RhdGVEYXRhLmN1cnJlbnRWZWhpY2xlQ29uZmlndXJhdGlvbklELCB0aGlzLnZlaGljbGVDb25maWd1cmF0aW9uSUQpO1xuICAgICAgICAgICAgICAgIHZhciB0aXJlT3B0aW9uQ2hhbmdlZCA9ICFSaWRlU3R5bGVyU2hvd2Nhc2UuR1VJREhlbHBlci5hcmVFcXVhbChzdGF0ZURhdGEuY3VycmVudFZlaGljbGVUaXJlT3B0aW9uSUQsIHRoaXMudmVoaWNsZVRpcmVPcHRpb25JRCk7XG4gICAgICAgICAgICAgICAgaWYgKHZlaGljbGVDaGFuZ2VkIHx8IHRpcmVPcHRpb25DaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZUNvbmZpZ3VyYXRpb25JRCA9IHN0YXRlRGF0YS5jdXJyZW50VmVoaWNsZUNvbmZpZ3VyYXRpb25JRDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlRGVzY3JpcHRpb24gPSBzdGF0ZURhdGEuY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlVGlyZU9wdGlvbklEID0gc3RhdGVEYXRhLmN1cnJlbnRWZWhpY2xlVGlyZU9wdGlvbklEO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVUaXJlT3B0aW9uRGVzY3JpcHRpb24gPSBzdGF0ZURhdGEuY3VycmVudFZlaGljbGVUaXJlT3B0aW9uRGVzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25WZWhpY2xlQ2hhbmdlZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25WZWhpY2xlQ2hhbmdlZCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25WZWhpY2xlQ2hhbmdlZCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmVtcHR5KHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudENvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBjdXN0b21pemF0aW9uIGNvbnRhaW5lciBhcyBsb2FkaW5nIHdoaWxlIHdlJ3JlIGxvYWRpbmcgYWRkaXRpb25hbCBpbmZvcm1hdGlvblxuICAgICAgICAgICAgICAgIC8vIGFib3V0IHRoZSB2ZWhpY2xlXG4gICAgICAgICAgICAgICAgdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50Q29udGFpbmVyLmNsYXNzTGlzdC5hZGQobG9hZGluZ0NsYXNzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRhYnMoKTtcbiAgICAgICAgICAgICAgICAvLyBEZXNlbGVjdCBhbnkgYWN0aXZlIHRhYlxuICAgICAgICAgICAgICAgIHRoaXMudGFiQmFyLmNsZWFyQWN0aXZlVGFiKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2luJyk7XG4gICAgICAgICAgICAgICAgLy8gTG9hZCB0aGUgdmVoaWNsZSdzIGRlc2NyaXB0aW9uIG1vZGVsXG4gICAgICAgICAgICAgICAgdmFyIGdldFZlaGljbGVEZXNjcmlwdGlvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdChcInZlaGljbGUvZ2V0ZGVzY3JpcHRpb25zXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgQ291bnQ6IDEsXG4gICAgICAgICAgICAgICAgICAgIFZlaGljbGVDb25maWd1cmF0aW9uOiB0aGlzLnZlaGljbGVDb25maWd1cmF0aW9uSURcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgZ2V0VmVoaWNsZVRpcmVPcHRpb24gPSBSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoJ3ZlaGljbGUvZ2V0dGlyZW9wdGlvbmRldGFpbHMnLCB7XG4gICAgICAgICAgICAgICAgICAgIFZlaGljbGVDb25maWd1cmF0aW9uOiB0aGlzLnZlaGljbGVDb25maWd1cmF0aW9uSURcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci5hbGwoW2dldFZlaGljbGVEZXNjcmlwdGlvbiwgZ2V0VmVoaWNsZVRpcmVPcHRpb25dKS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZlaGljbGVEZXNjcmlwdGlvbiA9IF90aGlzNS52ZWhpY2xlRGVzY3JpcHRpb25Nb2RlbCA9IHJlc3BvbnNlc1swXS5EZXNjcmlwdGlvbnNbMF07XG4gICAgICAgICAgICAgICAgICAgIHZhciB2ZWhpY2xlVGlyZU9wdGlvbiA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkVGlyZU9wdGlvbklEID0gUmlkZVN0eWxlclNob3djYXNlLkdVSURIZWxwZXIucGFyc2UoX3RoaXM1LnZlaGljbGVUaXJlT3B0aW9uSUQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSByZXNwb25zZXNbMV0uRGV0YWlsc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aXJlT3B0aW9uID0gX3N0ZXAzLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFJpZGVTdHlsZXJTaG93Y2FzZS5HVUlESGVscGVyLmFyZUVxdWFsKHRpcmVPcHRpb24uVGlyZU9wdGlvbklELCBzZWxlY3RlZFRpcmVPcHRpb25JRCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmVoaWNsZVRpcmVPcHRpb24gPSB0aXJlT3B0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgX3RoaXM1LnZlaGljbGVUaXJlT3B0aW9uID0gdmVoaWNsZVRpcmVPcHRpb247XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNS5zdGF0ZS5leHRlbmREYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlaGljbGVIYXNBbmdsZWRJbWFnZTogdmVoaWNsZURlc2NyaXB0aW9uLkhhc0FuZ2xlZEltYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVoaWNsZUhhc1NpZGVJbWFnZTogdmVoaWNsZURlc2NyaXB0aW9uLkhhc1NpZGVJbWFnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUaXJlT3B0aW9uOiB2ZWhpY2xlVGlyZU9wdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZWhpY2xlRGVzY3JpcHRpb25Nb2RlbDogdmVoaWNsZURlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczUuaW5pdGlhbGl6ZUZvck5ld1ZlaGljbGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZUZvck5ld1ZlaGljbGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVGb3JOZXdWZWhpY2xlKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50UmVuZGVySW5zdHJ1Y3Rpb25zID0ge307XG4gICAgICAgICAgICAgICAgdGhpcy50YWJCYXIuc2V0QWN0aXZlVGFiKHRoaXMudGFicy5wYWludCk7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBjb21wb25lbnRzIHRoYXQgd2lsbCBiZSBzd2l0Y2hlZCB3aXRoIHRoZSB0YWJzXG4gICAgICAgICAgICAgICAgdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcGFpbnQ6IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3Rvcih0aGlzLnNob3djYXNlKSxcbiAgICAgICAgICAgICAgICAgICAgd2hlZWxzOiBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsU2VsZWN0b3IodGhpcy5zaG93Y2FzZSksXG4gICAgICAgICAgICAgICAgICAgIHRpcmVzOiBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRpcmVTZWxlY3Rvcih0aGlzLnNob3djYXNlKSxcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2lvbjogbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VTdXNwZW5zaW9uU2VsZWN0b3IodGhpcy5zaG93Y2FzZSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd2Nhc2UuZmlsdGVycy53aGVlbEZpbHRlcnMub25GaWx0ZXJzQ2hhbmdlZCA9IGZ1bmN0aW9uIChmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNi5jdXN0b21pemF0aW9uQ29tcG9uZW50cy53aGVlbHMuc2V0RmlsdGVycyhmaWx0ZXJzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd2Nhc2UuZmlsdGVycy50aXJlRmlsdGVycy5vbkZpbHRlcnNDaGFuZ2VkID0gZnVuY3Rpb24gKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmN1c3RvbWl6YXRpb25Db21wb25lbnRzLnRpcmVzLnNldEZpbHRlcnMoZmlsdGVycyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRzLnBhaW50Lm9uUGFpbnRTY2hlbWVTZWxlY3RlZCA9IGZ1bmN0aW9uIChwYWludFNjaGVtZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczYuY3VzdG9taXphdGlvbkNvbXBvbmVudHMucGFpbnQuc2V0T3B0aW9uSXNMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczYudXBkYXRlVmlld3BvcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgUGFpbnRDb2xvcjogcGFpbnRTY2hlbWUuQ29sb3JzWzBdLkhleFxuICAgICAgICAgICAgICAgICAgICB9KS5hbHdheXMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmN1c3RvbWl6YXRpb25Db21wb25lbnRzLnBhaW50LnNldE9wdGlvbklzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50cy53aGVlbHMucHJvZHVjdFNlbGVjdGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmN1c3RvbWl6YXRpb25Db21wb25lbnRzLndoZWVscy5zZXRPcHRpb25Jc0xvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjYW5SZW5kZXJPbkN1cnJlbnRBbmdsZSA9IF90aGlzNi5pbWFnZVR5cGUgPT09IDIgLyogQW5nbGUgKi8gJiYgbW9kZWwuSGFzQW5nbGVJbWFnZSB8fCBfdGhpczYuaW1hZ2VUeXBlID09PSAxIC8qIFNpZGUgKi8gJiYgbW9kZWwuSGFzU2lkZUltYWdlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNhblJlbmRlck9uQ3VycmVudEFuZ2xlKSBfdGhpczYuc3dpdGNoQW5nbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KCd3aGVlbC9nZXRmaXRtZW50ZGVzY3JpcHRpb25zJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgVmVoaWNsZUNvbmZpZ3VyYXRpb246IF90aGlzNi52ZWhpY2xlQ29uZmlndXJhdGlvbklELFxuICAgICAgICAgICAgICAgICAgICAgICAgV2hlZWxNb2RlbDogbW9kZWwuV2hlZWxNb2RlbElEXG4gICAgICAgICAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZml0bWVudHMgPSByZXNwb25zZS5GaXRtZW50cztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZXN0Rml0bWVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXREaWFtZXRlciA9IF90aGlzNi52ZWhpY2xlVGlyZU9wdGlvbi5Gcm9udC5JbnNpZGVEaWFtZXRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpdG1lbnRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYURpZmYgPSBNYXRoLmFicyhhLkRpYW1ldGVyTWluIC0gdGFyZ2V0RGlhbWV0ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiRGlmZiA9IE1hdGguYWJzKGIuRGlhbWV0ZXJNaW4gLSB0YXJnZXREaWFtZXRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFEaWZmIC0gYkRpZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RGaXRtZW50ID0gZml0bWVudHNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuc3RhdGUuZXh0ZW5kRGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFdoZWVsOiBtb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2hlZWxGaXRtZW50OiBiZXN0Rml0bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuY2hhbmdlV2hlZWxTaXplLnNldEZpdG1lbnRPcHRpb25zKGZpdG1lbnRzLCBiZXN0Rml0bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuY2hhbmdlV2hlZWxTaXplLmNvbXBvbmVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYudXBkYXRlVmlld3BvcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdoZWVsRml0bWVudDogYmVzdEZpdG1lbnQuV2hlZWxGaXRtZW50SURcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmN1c3RvbWl6YXRpb25Db21wb25lbnRzLndoZWVscy5zZXRPcHRpb25Jc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5jdXN0b21pemF0aW9uQ29tcG9uZW50cy53aGVlbHMuc2V0T3B0aW9uSXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRzLnRpcmVzLnByb2R1Y3RTZWxlY3RlZENhbGxiYWNrID0gZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNi5zdGF0ZS5leHRlbmREYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUaXJlOiBtb2RlbFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudHMuc3VzcGVuc2lvbi5zdXNwZW5zaW9uQ2hhbmdlQ2FsbGJhY2sgPSBmdW5jdGlvbiAocmVuZGVyVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNi51cGRhdGVWaWV3cG9ydChyZW5kZXJVcGRhdGUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50KHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudHMud2hlZWxzKTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuZ2V0VmFsdWVzKHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudHMpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA0OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gKF9zdGVwNCA9IF9pdGVyYXRvcjQubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VzdG9taXphdGlvbkNvbXBvbmVudCA9IF9zdGVwNC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9taXphdGlvbkNvbXBvbmVudC5jb21wb25lbnQuY2xhc3NMaXN0LmFkZCgncmlkZXN0eWxlci1zaG93Y2FzZS1jdXN0b21pemF0aW9uLWNvbXBvbmVudCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKGN1c3RvbWl6YXRpb25Db21wb25lbnQuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjQgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgJiYgX2l0ZXJhdG9yNC5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VUeXBlID0gMiAvKiBBbmdsZSAqLztcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudmVoaWNsZURlc2NyaXB0aW9uTW9kZWwuSGFzQW5nbGVkSW1hZ2UpIHRoaXMuaW1hZ2VUeXBlID0gMSAvKiBTaWRlICovO1xuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gdGhpcy5jYW5Td2l0Y2hBbmdsZSgpID8gJycgOiAnbm9uZSc7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydCh7XG4gICAgICAgICAgICAgICAgICAgIFZlaGljbGVDb25maWd1cmF0aW9uOiB0aGlzLnZlaGljbGVDb25maWd1cmF0aW9uSUQsXG4gICAgICAgICAgICAgICAgICAgIFZlaGljbGVUaXJlT3B0aW9uOiB0aGlzLnZlaGljbGVUaXJlT3B0aW9uSUQsXG4gICAgICAgICAgICAgICAgICAgIFBvc2l0aW9uWDogMSAvKiBDZW50ZXIgKi9cbiAgICAgICAgICAgICAgICAgICAgLCBQb3NpdGlvblk6IDIgLyogRmFyICovXG4gICAgICAgICAgICAgICAgICAgICwgVHlwZTogdGhpcy5pbWFnZVR5cGVcbiAgICAgICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LnJvdGF0ZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaW4nKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShsb2FkaW5nQ2xhc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRBY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50KGN1c3RvbWl6YXRpb25Db21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGVEYXRhID0gdGhpcy5zdGF0ZS5nZXREYXRhKCk7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudEtleSA9IHRoaXMuZ2V0Q29tcG9uZW50S2V5KGN1c3RvbWl6YXRpb25Db21wb25lbnQpO1xuICAgICAgICAgICAgICAgIHZhciBzZXR0aW5ncyA9IHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudFNldHRpbmdzW2NvbXBvbmVudEtleV07XG4gICAgICAgICAgICAgICAgdmFyIHRhYiA9IHRoaXMudGFic1tjb21wb25lbnRLZXldO1xuICAgICAgICAgICAgICAgIGlmICh0YWIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJCYXIuc2V0QWN0aXZlVGFiKHRhYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50LmNvbXBvbmVudC5jbGFzc0xpc3QucmVtb3ZlKCdpbicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXN0b21pemF0aW9uQ29tcG9uZW50LmNvbXBvbmVudC5jbGFzc0xpc3QuYWRkKCdpbicpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlQ3VzdG9taXphdGlvbkNvbXBvbmVudCA9IGN1c3RvbWl6YXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXN0b21pemF0aW9uQ29tcG9uZW50LnVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykgY3VzdG9taXphdGlvbkNvbXBvbmVudC51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVdoZWVsU2l6ZS5jb21wb25lbnQuc3R5bGUuZGlzcGxheSA9IGN1c3RvbWl6YXRpb25Db21wb25lbnQgaW5zdGFuY2VvZiBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3RvciAmJiBzdGF0ZURhdGEuY3VycmVudFdoZWVsID8gJycgOiAnbm9uZSc7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJCdXR0b24uc3R5bGUuZGlzcGxheSA9IHNldHRpbmdzLnNob3dGaWx0ZXJCdXR0b24gPyAnJyA6ICdub25lJztcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5zZXRUZXh0KHRoaXMudGl0bGVFbGVtZW50LCBzZXR0aW5ncy50aXRsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dldENvbXBvbmVudEtleScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29tcG9uZW50S2V5KGN1c3RvbWl6YXRpb25Db21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29tcG9uZW50ID0gdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50c1trZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50ID09PSBjdXN0b21pemF0aW9uQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd1cGRhdGVWaWV3cG9ydCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVmlld3BvcnQoaW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmN1cnJlbnRSZW5kZXJJbnN0cnVjdGlvbnMsIGluc3RydWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlld3BvcnQuVXBkYXRlKGluc3RydWN0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NhblN3aXRjaEFuZ2xlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5Td2l0Y2hBbmdsZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52ZWhpY2xlRGVzY3JpcHRpb25Nb2RlbC5IYXNBbmdsZWRJbWFnZSAmJiB0aGlzLnZlaGljbGVEZXNjcmlwdGlvbk1vZGVsLkhhc1NpZGVJbWFnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2hvd0ZpbHRlcnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dGaWx0ZXJzKCkge1xuICAgICAgICAgICAgICAgIHZhciBhY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50ID0gdGhpcy5hY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJNb2RhbCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlQ3VzdG9taXphdGlvbkNvbXBvbmVudCA9PT0gdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50cy50aXJlcykge1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJNb2RhbCA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwodGhpcy5zaG93Y2FzZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyUHJvdmlkZXI6IHRoaXMuc2hvd2Nhc2UuZmlsdGVycy50aXJlRmlsdGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb3VudFRleHRGb3JtYXQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc2hvdy1jb3VudC1mb3JtYXQtdGlyZXMnKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQgPT09IHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudHMud2hlZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlck1vZGFsID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbCh0aGlzLnNob3djYXNlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJQcm92aWRlcjogdGhpcy5zaG93Y2FzZS5maWx0ZXJzLndoZWVsRmlsdGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb3VudFRleHRGb3JtYXQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc2hvdy1jb3VudC1mb3JtYXQtd2hlZWxzJylcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJNb2RhbCkge1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJNb2RhbC5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzd2l0Y2hBbmdsZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc3dpdGNoQW5nbGUoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNhblN3aXRjaEFuZ2xlKCkpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbWFnZVR5cGUgPT09IDIgLyogQW5nbGUgKi8pIHRoaXMuaW1hZ2VUeXBlID0gMSAvKiBTaWRlICovO2Vsc2UgdGhpcy5pbWFnZVR5cGUgPSAyIC8qIEFuZ2xlICovO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVmlld3BvcnQoe1xuICAgICAgICAgICAgICAgICAgICBUeXBlOiB0aGlzLmltYWdlVHlwZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVWaXN1YWxpemF0aW9uO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLk1haW5Db21wb25lbnRCYXNlKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVWaXN1YWxpemF0aW9uO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRSKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsLCBfUmlkZVN0eWxlclNob3djYXNlJFIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwoc2hvd2Nhc2VJbnN0YW5jZSwgd2hlZWxNb2RlbCkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwpO1xuXG4gICAgICAgICAgICAvLyBJbWFnZVxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsKSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlKSk7XG5cbiAgICAgICAgICAgIF90aGlzLmltYWdlLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgV2hlZWxGaXRtZW50UmVzb3VyY2VUeXBlOiAzIC8qIENhdGFsb2cgKi9cbiAgICAgICAgICAgICAgICAsIFdoZWVsTW9kZWw6IHdoZWVsTW9kZWwuV2hlZWxNb2RlbElEXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEJyYW5kXG4gICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5zZXRUZXh0KF90aGlzLmJyYW5kVGl0bGVFbGVtZW50LCB3aGVlbE1vZGVsLldoZWVsQnJhbmROYW1lKTtcbiAgICAgICAgICAgIC8vIE1vZGVsIE5hbWVcbiAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLnNldFRleHQoX3RoaXMudGl0bGVFbGVtZW50LCB3aGVlbE1vZGVsLldoZWVsTW9kZWxOYW1lKTtcbiAgICAgICAgICAgIC8vIEZpbmlzaFxuICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuc2V0VGV4dChfdGhpcy5zdWJ0aXRsZUVsZW1lbnQsIHdoZWVsTW9kZWwuV2hlZWxNb2RlbEZpbmlzaERlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgIC8vIFN1bW1hcnkgVGFibGVcbiAgICAgICAgICAgIF90aGlzLnN1bW1hcnlUYWJsZSA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFibGUoX3RoaXMuc2hvd2Nhc2UsIHtcbiAgICAgICAgICAgICAgICBjb2x1bW5zOiBbe1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc2l6ZScpLFxuICAgICAgICAgICAgICAgICAgICBjZWxsOiAnc2l6ZSdcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcjogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdwcmljZScpLFxuICAgICAgICAgICAgICAgICAgICBjZWxsOiAncHJpY2UnXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgc3RhcnRMb2FkaW5nOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLnN1bW1hcnlFbGVtZW50LmFwcGVuZENoaWxkKF90aGlzLnN1bW1hcnlUYWJsZS5jb21wb25lbnQpO1xuICAgICAgICAgICAgX3RoaXMuYnVpbGRTcGVjc1BhZ2UoKTtcbiAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdCgnd2hlZWwvZ2V0Zml0bWVudGRlc2NyaXB0aW9ucycsIHtcbiAgICAgICAgICAgICAgICBXaGVlbE1vZGVsOiB3aGVlbE1vZGVsLldoZWVsTW9kZWxJRCxcbiAgICAgICAgICAgICAgICBJbmNsdWRlUHJvbW90aW9uczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBJbmNsdWRlUHJpY2luZzogdHJ1ZVxuICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zdW1tYXJ5VGFibGUuYXBwZW5kUm93cyhfdGhpcy5idWlsZFN1bW1hcnlUYWJsZShyZXNwb25zZS5GaXRtZW50cykpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNwZWNzVGFibGUuYXBwZW5kUm93cyhyZXNwb25zZS5GaXRtZW50cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsLCBbe1xuICAgICAgICAgICAga2V5OiAnYnVpbGRTdW1tYXJ5VGFibGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkU3VtbWFyeVRhYmxlKGZpdG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFsbFNpemVQcmljZUNvbWJpbmF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgIC8vIEdldCBhIGxpc3Qgb2YgZWFjaCBmaXRtZW50IHNpemUvcHJpY2UgY29tYmluYXRpb25cbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gZml0bWVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZml0bWVudCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZml0bWVudFByaWNlID0gUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbC5nZXRGaXRtZW50UmV0YWlsUHJpY2VEYXRhT2JqZWN0KGZpdG1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpdG1lbnRQcmljZUFtb3VudCA9IGZpdG1lbnRQcmljZSA/IGZpdG1lbnRQcmljZS5XaGVlbFByaWNpbmdBbW91bnQgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTaXplUHJpY2VDb21iaW5hdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbWV0ZXI6IGZpdG1lbnQuRGlhbWV0ZXJNaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGZpdG1lbnQuV2lkdGhNaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IGZpdG1lbnRQcmljZUFtb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTaXplUHJpY2VDb21iaW5hdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbWV0ZXI6IGZpdG1lbnQuRGlhbWV0ZXJNaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGZpdG1lbnQuV2lkdGhNYXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IGZpdG1lbnRQcmljZUFtb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTaXplUHJpY2VDb21iaW5hdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbWV0ZXI6IGZpdG1lbnQuRGlhbWV0ZXJNYXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGZpdG1lbnQuV2lkdGhNaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IGZpdG1lbnRQcmljZUFtb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTaXplUHJpY2VDb21iaW5hdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbWV0ZXI6IGZpdG1lbnQuRGlhbWV0ZXJNYXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGZpdG1lbnQuV2lkdGhNYXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IGZpdG1lbnRQcmljZUFtb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBzaXplUHJpY2VSYW5nZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBwcmljZSByYW5nZXMgZm9yIGVhY2ggdW5pcXVlIHNpemUgZGVzY3JpcHRpb24gY3JlYXRlZCBhYm92ZVxuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gYWxsU2l6ZVByaWNlQ29tYmluYXRpb25zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZVByaWNlQ29tYm8gPSBfc3RlcDIudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlhbWV0ZXIgPSBzaXplUHJpY2VDb21iby5kaWFtZXRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZSA9IHNpemVQcmljZUNvbWJvLnByaWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gc2l6ZVByaWNlQ29tYm8ud2lkdGg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXplID0gZGlhbWV0ZXIgKyAn4oCzIHggJyArIHdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByaWNlUmFuZ2UgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2l6ZSBpbiBzaXplUHJpY2VSYW5nZXMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VSYW5nZSA9IHNpemVQcmljZVJhbmdlc1tzaXplXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluOiBJbmZpbml0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiAtSW5maW5pdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZVJhbmdlID0gc2l6ZVByaWNlUmFuZ2VzW3NpemVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByaWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLk51bWJlckhlbHBlci5leHRlbmRSYW5nZShwcmljZSwgcHJpY2VSYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVHJhbnNsYXRlIHNpemVQcmljZVJhbmdlcyBpbnRvIFN1bW1hcnlUYWJsZVJvd3NcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgc3VtbWFyeVRhYmxlUm93cyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBwcmljZUlzVW5zcGVjaWZpZWQgPSBmdW5jdGlvbiBwcmljZUlzVW5zcGVjaWZpZWQocHJpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJpY2UgbXVzdCBiZSBhIG51bWJlciwgYW5kIG5vdCArLSBpbmZpbml0eVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHByaWNlICE9PSAnbnVtYmVyJyB8fCBpc05hTihwcmljZSkgfHwgcHJpY2UgPT09IEluZmluaXR5IHx8IHByaWNlID09PSAtSW5maW5pdHk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzaXplIGluIHNpemVQcmljZVJhbmdlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNpemVQcmljZVJhbmdlcy5oYXNPd25Qcm9wZXJ0eShzaXplKSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmljZVJhbmdlID0gc2l6ZVByaWNlUmFuZ2VzW3NpemVdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJpY2VTdHJpbmcgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmljZUlzVW5zcGVjaWZpZWQocHJpY2VSYW5nZS5taW4pIHx8IHByaWNlSXNVbnNwZWNpZmllZChwcmljZVJhbmdlLm1heCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlU3RyaW5nID0gUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdjYWxsJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2VSYW5nZS5taW4gPT09IHByaWNlUmFuZ2UubWF4KSBwcmljZVN0cmluZyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmZvcm1hdCgpLmN1cnJlbmN5KHByaWNlUmFuZ2UubWluLCAnJCcpO2Vsc2UgcHJpY2VTdHJpbmcgPSBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5mb3JtYXQoKS5jdXJyZW5jeShwcmljZVJhbmdlLm1pbiwgJyQnKSArICcgLSAnICsgUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZm9ybWF0KCkuY3VycmVuY3kocHJpY2VSYW5nZS5tYXgsICckJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeVRhYmxlUm93cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IHNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogcHJpY2VTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdW1tYXJ5VGFibGVSb3dzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdidWlsZFNwZWNzUGFnZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRTcGVjc1BhZ2UoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zcGVjc1RhYmxlID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZSh0aGlzLnNob3djYXNlLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc2l6ZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbDogUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbC5nZXRGaXRtZW50U2l6ZURlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdvZmZzZXQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGw6IGZ1bmN0aW9uIGNlbGwoZml0bWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFibGUuZm9ybWF0Q2VsbChmaXRtZW50LCAnT2Zmc2V0TWluJywgJ21tJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdib2x0LXBhdHRlcm4nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGw6ICdCb2x0UGF0dGVybkRlc2NyaXB0aW9uJ1xuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnY2VudGVyYm9yZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbDogZnVuY3Rpb24gY2VsbChmaXRtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZS5mb3JtYXRDZWxsKGZpdG1lbnQsICdDZW50ZXJib3JlTU0nLCAnbW0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiAnUHJpY2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbDogUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbC5nZXRGaXRtZW50UHJpY2VcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2l0ZW0tbnVtYmVyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsOiBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsLmdldEZpdG1lbnRJdGVtTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIHNwZWNzQ29udGFpbmVyID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3Njcm9sbGFibGUnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmQ6IHRoaXMuc3BlY3NUYWJsZS5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFBhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHNwZWNzQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzcGVjaWZpY2F0aW9ucycpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NyZWF0ZUltYWdlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVJbWFnZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SZXNpemVhYmxlUmVzb3VyY2VJbWFnZSh0aGlzLmltYWdlQ29udGFpbmVyLCB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJ3aGVlbC9pbWFnZVwiLFxuICAgICAgICAgICAgICAgICAgICBiYXNlSW5zdHJ1Y3Rpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQb3NpdGlvblg6IDEgLyogQ2VudGVyICovXG4gICAgICAgICAgICAgICAgICAgICAgICAsIFBvc2l0aW9uWTogMiAvKiBGYXIgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICwgSW5jbHVkZVNoYWRvdzogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dLCBbe1xuICAgICAgICAgICAga2V5OiAnZ2V0Rml0bWVudFJldGFpbFByaWNlRGF0YU9iamVjdCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rml0bWVudFJldGFpbFByaWNlRGF0YU9iamVjdChmaXRtZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpdG1lbnQuUHJpY2luZyAmJiBmaXRtZW50LlByaWNpbmdbJ1JldGFpbCddIHx8IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZ2V0Rml0bWVudFNpemVEZXNjcmlwdGlvbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rml0bWVudFNpemVEZXNjcmlwdGlvbihmaXRtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIERpYW1ldGVyTWluID0gZml0bWVudC5EaWFtZXRlck1pbixcbiAgICAgICAgICAgICAgICAgICAgV2lkdGhNaW4gPSBmaXRtZW50LldpZHRoTWluO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFEaWFtZXRlck1pbiB8fCAhV2lkdGhNaW4pIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFibGUuZW1wdHlDZWxsU3RyaW5nO1xuICAgICAgICAgICAgICAgIHJldHVybiBEaWFtZXRlck1pbiArICdcXHUyMDMzIHggJyArIFdpZHRoTWluO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdnZXRGaXRtZW50UHJpY2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZpdG1lbnRQcmljZShmaXRtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vUHJpY2VTdHJpbmcgPSBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2NhbGwnKTtcbiAgICAgICAgICAgICAgICB2YXIgcmV0YWlsUHJpY2VEYXRhT2JqZWN0ID0gUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbC5nZXRGaXRtZW50UmV0YWlsUHJpY2VEYXRhT2JqZWN0KGZpdG1lbnQpO1xuICAgICAgICAgICAgICAgIGlmICghcmV0YWlsUHJpY2VEYXRhT2JqZWN0KSByZXR1cm4gbm9QcmljZVN0cmluZztcbiAgICAgICAgICAgICAgICB2YXIgcHJpY2UgPSByZXRhaWxQcmljZURhdGFPYmplY3QuV2hlZWxQcmljaW5nQW1vdW50O1xuICAgICAgICAgICAgICAgIHJldHVybiBwcmljZSA/IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmZvcm1hdCgpLmN1cnJlbmN5KHByaWNlLCAnJCcpIDogbm9QcmljZVN0cmluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZ2V0Rml0bWVudEl0ZW1OdW1iZXInLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZpdG1lbnRJdGVtTnVtYmVyKGZpdG1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmV0YWlsUHJpY2VEYXRhT2JqZWN0ID0gUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbC5nZXRGaXRtZW50UmV0YWlsUHJpY2VEYXRhT2JqZWN0KGZpdG1lbnQpO1xuICAgICAgICAgICAgICAgIHZhciBpdGVtTnVtYmVyID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIC8vIEl0ZW0gbnVtYmVyIGlzIHRoZSByZXRhaWwgcHJpY2luZyBpdGVtIG51bWJlciBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgaWYgKHJldGFpbFByaWNlRGF0YU9iamVjdCkgaXRlbU51bWJlciA9IHJldGFpbFByaWNlRGF0YU9iamVjdC5XaGVlbFByaWNpbmdJdGVtTnVtYmVyO1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gcmV0YWlsIHByaWNpbmcsIG9yIHRoZSByZXRhaWwgcHJpY2UgZG9lc24ndCBoYXZlIGEgaXRlbSBudW1iZXIgdXNlIHRoZSBmaXRtZW50J3MgcGFydCBudW1iZXJcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW1OdW1iZXIpIGl0ZW1OdW1iZXIgPSBmaXRtZW50LlBhcnROdW1iZXI7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW1OdW1iZXIgfHwgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlLmVtcHR5Q2VsbFN0cmluZztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbCk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbCA9IFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWw7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3RvciA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJFIpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsU2VsZWN0b3IsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkUik7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3RvcihzaG93Y2FzZUluc3RhbmNlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3RvcikpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSkpO1xuXG4gICAgICAgICAgICB2YXIgc3RhdGVEYXRhID0gc2hvd2Nhc2VJbnN0YW5jZS5zdGF0ZS5nZXREYXRhKCk7XG4gICAgICAgICAgICBfdGhpcy5zdXBwb3J0ZWRWZWhpY2xlSW1hZ2VyeSA9IHtcbiAgICAgICAgICAgICAgICBhbmdsZWQ6IHN0YXRlRGF0YS52ZWhpY2xlSGFzQW5nbGVkSW1hZ2UsXG4gICAgICAgICAgICAgICAgc2lkZTogc3RhdGVEYXRhLnZlaGljbGVIYXNTaWRlSW1hZ2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy52ZWhpY2xlQ29uZmlndXJhdGlvbklEID0gc3RhdGVEYXRhLmN1cnJlbnRWZWhpY2xlQ29uZmlndXJhdGlvbklEO1xuICAgICAgICAgICAgX3RoaXMuZGVmYXVsdEZpbHRlcnMgPSB7XG4gICAgICAgICAgICAgICAgVmVoaWNsZUNvbmZpZ3VyYXRpb246IHN0YXRlRGF0YS5jdXJyZW50VmVoaWNsZUNvbmZpZ3VyYXRpb25JRCxcbiAgICAgICAgICAgICAgICBIYXNDYXRhbG9nSW1hZ2U6IHRydWUsXG4gICAgICAgICAgICAgICAgSGFzRml0bWVudHM6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5jdXJyZW50RmlsdGVycyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHt9LCBfdGhpcy5kZWZhdWx0RmlsdGVycyk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3RvciwgW3tcbiAgICAgICAgICAgIGtleTogXCJjb3VudFJlc3VsdHNcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb3VudFJlc3VsdHMoZmlsdGVycykge1xuICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdChcIndoZWVsL2NvdW50bW9kZWxzXCIsIGZpbHRlcnMpLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLkNvdW50O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiZ2V0UmVzdWx0c1wiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJlc3VsdHMoZmlsdGVycykge1xuICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdChcIndoZWVsL2dldG1vZGVsZGVzY3JpcHRpb25zXCIsIFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgSW5jbHVkZU1ldGFLZXlzOiBbJ0Rlc2NyaXB0aW9uJywgJ0hpZ2hsaWdodHMnXSxcbiAgICAgICAgICAgICAgICAgICAgSGFzRml0bWVudHM6IHRydWVcbiAgICAgICAgICAgICAgICB9LCBmaWx0ZXJzKSksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuTW9kZWxzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwicHJvZHVjdEZpbHRlclwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByb2R1Y3RGaWx0ZXIocHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwicHJvZHVjdEltYWdlU291cmNlXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcHJvZHVjdEltYWdlU291cmNlKHByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmlkZXN0eWxlci53aGVlbC5pbWFnZSh7XG4gICAgICAgICAgICAgICAgICAgIFdoZWVsRml0bWVudFJlc291cmNlVHlwZTogMyAvKiBDYXRhbG9nICovXG4gICAgICAgICAgICAgICAgICAgICwgV2hlZWxNb2RlbDogcHJvZHVjdC5XaGVlbE1vZGVsSUQsXG4gICAgICAgICAgICAgICAgICAgIFdpZHRoOiAxMDAsXG4gICAgICAgICAgICAgICAgICAgIEhlaWdodDogMTAwLFxuICAgICAgICAgICAgICAgICAgICBQb3NpdGlvblg6IDEgLyogQ2VudGVyICovXG4gICAgICAgICAgICAgICAgICAgICwgUG9zaXRpb25ZOiAxIC8qIENlbnRlciAqL1xuICAgICAgICAgICAgICAgICAgICAsIEluY2x1ZGVTaGFkb3c6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcInByb2R1Y3RJbWFnZUxhYmVsc1wiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByb2R1Y3RJbWFnZUxhYmVscyhwcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeTogcHJvZHVjdC5XaGVlbEJyYW5kTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kYXJ5OiBwcm9kdWN0LldoZWVsTW9kZWxOYW1lLFxuICAgICAgICAgICAgICAgICAgICB0ZXJ0aWFyeTogcHJvZHVjdC5XaGVlbE1vZGVsRmluaXNoRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsU2VsZWN0b3I7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yID0gUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3Rvcjtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBjbGFzc05hbWUgPSAncmlkZXN0eWxlci1zaG93Y2FzZS10aXJlLWRldGFpbHMnO1xuXG4gICAgdmFyIFRpcmVEZXRhaWxzID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoVGlyZURldGFpbHMsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkQyk7XG5cbiAgICAgICAgZnVuY3Rpb24gVGlyZURldGFpbHMoKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlyZURldGFpbHMpO1xuXG4gICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRpcmVEZXRhaWxzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGlyZURldGFpbHMpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhUaXJlRGV0YWlscywgW3tcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVDb21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVDb21wb25lbnQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MoJ2RpdicsIGNsYXNzTmFtZSArIFwiIHJpZGVzdHlsZXItc2hvd2Nhc2UtZGV0YWlsc1wiKTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy10aXRsZScgKyBcIiByaWRlc3R5bGVyLXNob3djYXNlLWRldGFpbHMtdGl0bGVcIixcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCd0aXJlLWRldGFpbHMnKSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy50aXJlTmFtZUVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy1uYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy50aXJlRGVzY3JpcHRpb25FbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctZGVzY3JpcHRpb24gcmlkZXN0eWxlci1zaG93Y2FzZS1kZXRhaWxzLXNlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuYWZ0ZXJEYXRhQ2hhbmdlKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25EYXRhQ2hhbmdlKGRhdGEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkRhdGFDaGFuZ2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uRGF0YUNoYW5nZShkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUaXJlID0gZGF0YS5jdXJyZW50VGlyZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS5kaXNwbGF5ID0gY3VycmVudFRpcmUgPyAnJyA6ICdub25lJztcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRpcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuc2V0VGV4dCh0aGlzLnRpcmVOYW1lRWxlbWVudCwgY3VycmVudFRpcmUuVGlyZUJyYW5kTmFtZSArICcgJyArIGN1cnJlbnRUaXJlLlRpcmVNb2RlbE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5zZXRUZXh0KHRoaXMudGlyZURlc2NyaXB0aW9uRWxlbWVudCwgY3VycmVudFRpcmUuQXR0cmlidXRlcyAmJiBjdXJyZW50VGlyZS5BdHRyaWJ1dGVzLmxlbmd0aCA/IGN1cnJlbnRUaXJlLkF0dHJpYnV0ZXMuam9pbignLCAnKSA6ICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gVGlyZURldGFpbHM7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuVGlyZURldGFpbHMgPSBUaXJlRGV0YWlscztcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBjbGFzc05hbWUgPSAncmlkZXN0eWxlci1zaG93Y2FzZS12ZWhpY2xlLWRldGFpbHMnO1xuICAgIHZhciBmaXJzdFBhaW50Q29sb3IgPSAnIzk5OSc7XG5cbiAgICB2YXIgVmVoaWNsZURldGFpbHMgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRDKSB7XG4gICAgICAgIF9pbmhlcml0cyhWZWhpY2xlRGV0YWlscywgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBWZWhpY2xlRGV0YWlscygpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWZWhpY2xlRGV0YWlscyk7XG5cbiAgICAgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVmVoaWNsZURldGFpbHMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihWZWhpY2xlRGV0YWlscykpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFZlaGljbGVEZXRhaWxzLCBbe1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZUNvbXBvbmVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbXBvbmVudCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudFdpdGhDbGFzcygnZGl2JywgY2xhc3NOYW1lICsgXCIgcmlkZXN0eWxlci1zaG93Y2FzZS1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgICAgIC8vIFRpdGxlXG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctdGl0bGUnICsgXCIgcmlkZXN0eWxlci1zaG93Y2FzZS1kZXRhaWxzLXRpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygndmVoaWNsZS1kZXRhaWxzJyksXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIFZlaGljbGUgRGVzY3JpcHRpb24vUGFpbnQgU3dhdGNoIENvbnRhaW5lclxuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLXZlaGljbGUnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmQ6IFtcbiAgICAgICAgICAgICAgICAgICAgLy8gUGFpbnQgU3dhdGNoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZVBhaW50U3dhdGNoRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy12ZWhpY2xlLXN3YXRjaCByaWRlc3R5bGVyLXNob3djYXNlLXBhaW50LXN3YXRjaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogZmlyc3RQYWludENvbG9yXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAvLyBWZWhpY2xlIERlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZURlc2NyaXB0aW9uRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy12ZWhpY2xlLWRldGFpbHMnXG4gICAgICAgICAgICAgICAgICAgIH0pXSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gVGlyZSBTaXplXG4gICAgICAgICAgICAgICAgdGhpcy50aXJlU2l6ZUVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy10aXJlLXNpemUgcmlkZXN0eWxlci1zaG93Y2FzZS1kZXRhaWxzLXNlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIENoYW5nZSBWZWhpY2xlIEJ1dHRvblxuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy1jaGFuZ2UtdmVoaWNsZScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdjaGFuZ2UtdmVoaWNsZScpLFxuICAgICAgICAgICAgICAgICAgICBsaW5rOiB0cnVlXG4gICAgICAgICAgICAgICAgfSkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5zdGF0ZS5jaGFuZ2VTdGF0ZShSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzLkNob29zZVZlaGljbGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIExpc3RlbiBmb3IgZGF0YSBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5hZnRlckRhdGFDaGFuZ2UoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkRhdGFDaGFuZ2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gU3dpdGNoIHRvIHBhaW50IHdoZW4gY2xpY2tpbmcgb24gdGhlIHBhaW50IHN3YXRjaFxuICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZVBhaW50U3dhdGNoRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpczIucGFpbnRTd2F0Y2hDbGlja0NhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBfdGhpczIucGFpbnRTd2F0Y2hDbGlja0NhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uRGF0YUNoYW5nZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25EYXRhQ2hhbmdlKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5zZXRUZXh0KHRoaXMudmVoaWNsZURlc2NyaXB0aW9uRWxlbWVudCwgZGF0YS5jdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVQYWludFN3YXRjaEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gZGF0YS5jdXJyZW50UGFpbnRTY2hlbWUgPyBkYXRhLmN1cnJlbnRQYWludFNjaGVtZS5Db2xvcnNbMF0uSGV4IDogZmlyc3RQYWludENvbG9yO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLnNldFRleHQodGhpcy50aXJlU2l6ZUVsZW1lbnQsIGRhdGEuY3VycmVudFZlaGljbGVUaXJlT3B0aW9uRGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFZlaGljbGVEZXRhaWxzO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlZlaGljbGVEZXRhaWxzID0gVmVoaWNsZURldGFpbHM7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2Utd2hlZWwtZGV0YWlscyc7XG5cbiAgICB2YXIgV2hlZWxEZXRhaWxzID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoV2hlZWxEZXRhaWxzLCBfUmlkZVN0eWxlclNob3djYXNlJEMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFdoZWVsRGV0YWlscygpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXaGVlbERldGFpbHMpO1xuXG4gICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFdoZWVsRGV0YWlscy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFdoZWVsRGV0YWlscykpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFdoZWVsRGV0YWlscywgW3tcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVDb21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVDb21wb25lbnQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MoJ2RpdicsIGNsYXNzTmFtZSArIFwiIHJpZGVzdHlsZXItc2hvd2Nhc2UtZGV0YWlsc1wiKTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy10aXRsZScgKyBcIiByaWRlc3R5bGVyLXNob3djYXNlLWRldGFpbHMtdGl0bGVcIixcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCd3aGVlbC1kZXRhaWxzJyksXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMud2hlZWxOYW1lRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLW5hbWUnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLndoZWVsRGVzY3JpcHRpb25FbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctZGVzY3JpcHRpb24gcmlkZXN0eWxlci1zaG93Y2FzZS1kZXRhaWxzLXNlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy1mZWF0dXJlcy1zcGVjcycsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCd3aGVlbC1mZWF0dXJlcy1zcGVjcycpLFxuICAgICAgICAgICAgICAgICAgICBsaW5rOiB0cnVlXG4gICAgICAgICAgICAgICAgfSkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5zaG93V2hlZWxNb2RhbCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuYWZ0ZXJEYXRhQ2hhbmdlKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25EYXRhQ2hhbmdlKGRhdGEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzaG93V2hlZWxNb2RhbCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd1doZWVsTW9kYWwoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlRGF0YSA9IHRoaXMuc3RhdGUuZ2V0RGF0YSgpO1xuICAgICAgICAgICAgICAgIG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbCh0aGlzLnNob3djYXNlLCBzdGF0ZURhdGEuY3VycmVudFdoZWVsKS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uRGF0YUNoYW5nZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25EYXRhQ2hhbmdlKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFdoZWVsID0gZGF0YS5jdXJyZW50V2hlZWw7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRXaGVlbEZpdG1lbnQgPSBkYXRhLmN1cnJlbnRXaGVlbEZpdG1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuc3R5bGUuZGlzcGxheSA9IGN1cnJlbnRXaGVlbCA/ICcnIDogJ25vbmUnO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50V2hlZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuc2V0VGV4dCh0aGlzLndoZWVsTmFtZUVsZW1lbnQsIGN1cnJlbnRXaGVlbC5XaGVlbEJyYW5kTmFtZSArICcgJyArIGN1cnJlbnRXaGVlbC5XaGVlbE1vZGVsTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50V2hlZWxGaXRtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlhbWV0ZXIgPSBjdXJyZW50V2hlZWxGaXRtZW50LkRpYW1ldGVyTWluLnRvU3RyaW5nKCkgKyAn4oCzJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50V2hlZWxGaXRtZW50LkRpYW1ldGVyTWluICE9PSBjdXJyZW50V2hlZWxGaXRtZW50LkRpYW1ldGVyTWF4KSBkaWFtZXRlciA9ICcoJyArIGN1cnJlbnRXaGVlbEZpdG1lbnQuRGlhbWV0ZXJNaW4gKyAnLScgKyBjdXJyZW50V2hlZWxGaXRtZW50LkRpYW1ldGVyTWF4ICsgJynigLMnO1xuICAgICAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuc2V0VGV4dCh0aGlzLndoZWVsRGVzY3JpcHRpb25FbGVtZW50LCBkaWFtZXRlciArICcgJyArIGN1cnJlbnRXaGVlbC5XaGVlbE1vZGVsRmluaXNoRGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuc2V0VGV4dCh0aGlzLndoZWVsRGVzY3JpcHRpb25FbGVtZW50LCBjdXJyZW50V2hlZWwuV2hlZWxNb2RlbEZpbmlzaERlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBXaGVlbERldGFpbHM7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuV2hlZWxEZXRhaWxzID0gV2hlZWxEZXRhaWxzO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGZpbHRlck1vZGFsQ2xhc3MgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1maWx0ZXItbW9kYWwnO1xuICAgIHZhciBmaWx0ZXJNb2RhbE1lbnVUaXRsZUNsYXNzID0gZmlsdGVyTW9kYWxDbGFzcyArICctbWVudS10aXRsZSc7XG4gICAgdmFyIGNvdW50Rm9ybWF0VG9rZW4gPSAne2NvdW50fSc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRSKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbCwgX1JpZGVTdHlsZXJTaG93Y2FzZSRSKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbChzaG93Y2FzZUluc3RhbmNlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbCkpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSwge1xuICAgICAgICAgICAgICAgIHJlbW92ZU9uSGlkZGVuOiB0cnVlXG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIF90aGlzLmZpbHRlclByb3ZpZGVyID0gb3B0aW9ucy5maWx0ZXJQcm92aWRlcjtcbiAgICAgICAgICAgIF90aGlzLnNob3dDb3VudFRleHRGb3JtYXQgPSBvcHRpb25zLnNob3dDb3VudFRleHRGb3JtYXQ7XG4gICAgICAgICAgICBfdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LmFkZChmaWx0ZXJNb2RhbENsYXNzKTtcbiAgICAgICAgICAgIF90aGlzLmJ1aWxkU2hvd0J1dHRvbigpO1xuICAgICAgICAgICAgX3RoaXMuYnVpbGRGaWx0ZXJNZW51cygpLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZUNvdW50KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLmNvbXBvbmVudC5hcHBlbmRDaGlsZChfdGhpcy5zaG93QnV0dG9uKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbCwgW3tcbiAgICAgICAgICAgIGtleTogJ2J1aWxkRmlsdGVyTWVudXMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkRmlsdGVyTWVudXMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB2YXIgbWVudXNDb250YWluZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBmaWx0ZXJNb2RhbENsYXNzICsgJy1tZW51cycsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJQcm92aWRlciA9IHRoaXMuZmlsdGVyUHJvdmlkZXI7XG4gICAgICAgICAgICAgICAgdmFyIG1lbnVMb2FkZWRQcm9taXNlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50RmlsdGVycyA9IGZpbHRlclByb3ZpZGVyLmdldEZpbHRlcnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1lbnVzID0gW107XG5cbiAgICAgICAgICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChmaWx0ZXJPcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3Qgc2hvdyBub24tdmlzaWJsZSBmaWx0ZXIgb3B0aW9ucyBvciBmaWx0ZXIgb3B0aW9ucyB3aXRob3V0IGxhYmVsc1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShmaWx0ZXJPcHRpb24udmlzaWJsZSAhPT0gZmFsc2UgJiYgZmlsdGVyT3B0aW9uLmxhYmVsKSkgcmV0dXJuICdjb250aW51ZSc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZW51ID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51KGZpbHRlck9wdGlvbi5rZXkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVudUNvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBmaWx0ZXJNb2RhbENsYXNzICsgJy1tZW51LWNvbnRhaW5lcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogbWVudXNDb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmQ6IFtSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGZpbHRlck1vZGFsTWVudVRpdGxlQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZmlsdGVyT3B0aW9uLmxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSwgbWVudS5jb21wb25lbnRdXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVudUxvYWRlZFByb21pc2UgPSBmaWx0ZXJQcm92aWRlci5yZXRyaWV2ZU9wdGlvbnMoZmlsdGVyT3B0aW9uKS5kb25lKGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnVuc2hpZnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBmaWx0ZXJPcHRpb24udW5zZWxlY3RlZE9wdGlvbkxhYmVsIHx8IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnYWxsJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZW51LnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbHRlck9wdGlvbi5nZXRWYWx1ZUZyb21GaWx0ZXJzID09PSAnZnVuY3Rpb24nKSBtZW51LnNldFZhbHVlKGZpbHRlck9wdGlvbi5nZXRWYWx1ZUZyb21GaWx0ZXJzKGN1cnJlbnRGaWx0ZXJzKSk7ZWxzZSBtZW51LnNldFZhbHVlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBtZW51Lm9uQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnVwZGF0ZUNvdW50KCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIG1lbnVMb2FkZWRQcm9taXNlcy5wdXNoKG1lbnVMb2FkZWRQcm9taXNlKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLm1lbnVzLnB1c2gobWVudSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBmaWx0ZXJQcm92aWRlci5maWx0ZXJPcHRpb25zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlck9wdGlvbiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JldCA9IF9sb29wKGZpbHRlck9wdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfcmV0ID09PSAnY29udGludWUnKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLmFsbChtZW51TG9hZGVkUHJvbWlzZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdidWlsZFNob3dCdXR0b24nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkU2hvd0J1dHRvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0J1dHRvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgIGxhcmdlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdsb2FkaW5nLWVsbGlwc2lzJylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMy5maWx0ZXJQcm92aWRlci5zZXRGaWx0ZXJzKF90aGlzMy5nZXRWYWx1ZXMoKSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dldFZhbHVlcycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWVzKCkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IHRoaXMubWVudXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfbWVudSA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogX21lbnUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX21lbnUudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZ2V0RmlsdGVycycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RmlsdGVycygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJQcm92aWRlci5wcmV2aWV3RmlsdGVycyh0aGlzLmdldFZhbHVlcygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndXBkYXRlQ291bnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUNvdW50KCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb3VudFRleHQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyUHJvdmlkZXIuZ2V0Q291bnQodGhpcy5nZXRGaWx0ZXJzKCkpLmRvbmUoZnVuY3Rpb24gKGNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRDb3VudFRleHQoY291bnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRDb3VudFRleHQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldENvdW50VGV4dChjb3VudCkge1xuICAgICAgICAgICAgICAgIGlmIChjb3VudCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuc2V0VGV4dCh0aGlzLnNob3dCdXR0b24sIFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnbG9hZGluZy1lbGxpcHNpcycpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5zZXRUZXh0KHRoaXMuc2hvd0J1dHRvbiwgdGhpcy5zaG93Q291bnRUZXh0Rm9ybWF0LnJlcGxhY2UoY291bnRGb3JtYXRUb2tlbiwgY291bnQudG9TdHJpbmcoKSkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dCdXR0b24uZGlzYWJsZWQgPSBjb3VudCA9PT0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWw7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlTW9kYWwpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZUZpbHRlck1vZGFsID0gUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWw7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwiLyohIG5vdWlzbGlkZXIgLSAxMC4xLjAgLSAyMDE3LTA3LTI4IDE3OjExOjE4ICovXG5cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuXG4gICAgaWYgKCB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG5cbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuXG4gICAgfSBlbHNlIGlmICggdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICkge1xuXG4gICAgICAgIC8vIE5vZGUvQ29tbW9uSlNcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFsc1xuICAgICAgICB3aW5kb3cubm9VaVNsaWRlciA9IGZhY3RvcnkoKTtcbiAgICB9XG5cbn0oZnVuY3Rpb24oICl7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBWRVJTSU9OID0gJzEwLjEuMCc7XG5cblxuXHRmdW5jdGlvbiBpc1ZhbGlkRm9ybWF0dGVyICggZW50cnkgKSB7XG5cdFx0cmV0dXJuIHR5cGVvZiBlbnRyeSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGVudHJ5LnRvID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbnRyeS5mcm9tID09PSAnZnVuY3Rpb24nO1xuXHR9XG5cblx0ZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCAoIGVsICkge1xuXHRcdGVsLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWwpO1xuXHR9XG5cblx0Ly8gQmluZGFibGUgdmVyc2lvblxuXHRmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9XG5cblx0Ly8gUmVtb3ZlcyBkdXBsaWNhdGVzIGZyb20gYW4gYXJyYXkuXG5cdGZ1bmN0aW9uIHVuaXF1ZSAoIGFycmF5ICkge1xuXHRcdHJldHVybiBhcnJheS5maWx0ZXIoZnVuY3Rpb24oYSl7XG5cdFx0XHRyZXR1cm4gIXRoaXNbYV0gPyB0aGlzW2FdID0gdHJ1ZSA6IGZhbHNlO1xuXHRcdH0sIHt9KTtcblx0fVxuXG5cdC8vIFJvdW5kIGEgdmFsdWUgdG8gdGhlIGNsb3Nlc3QgJ3RvJy5cblx0ZnVuY3Rpb24gY2xvc2VzdCAoIHZhbHVlLCB0byApIHtcblx0XHRyZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSAvIHRvKSAqIHRvO1xuXHR9XG5cblx0Ly8gQ3VycmVudCBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IHJlbGF0aXZlIHRvIHRoZSBkb2N1bWVudC5cblx0ZnVuY3Rpb24gb2Zmc2V0ICggZWxlbSwgb3JpZW50YXRpb24gKSB7XG5cblx0XHR2YXIgcmVjdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0dmFyIGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudDtcblx0XHR2YXIgZG9jRWxlbSA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG5cdFx0dmFyIHBhZ2VPZmZzZXQgPSBnZXRQYWdlT2Zmc2V0KGRvYyk7XG5cblx0XHQvLyBnZXRCb3VuZGluZ0NsaWVudFJlY3QgY29udGFpbnMgbGVmdCBzY3JvbGwgaW4gQ2hyb21lIG9uIEFuZHJvaWQuXG5cdFx0Ly8gSSBoYXZlbid0IGZvdW5kIGEgZmVhdHVyZSBkZXRlY3Rpb24gdGhhdCBwcm92ZXMgdGhpcy4gV29yc3QgY2FzZVxuXHRcdC8vIHNjZW5hcmlvIG9uIG1pcy1tYXRjaDogdGhlICd0YXAnIGZlYXR1cmUgb24gaG9yaXpvbnRhbCBzbGlkZXJzIGJyZWFrcy5cblx0XHRpZiAoIC93ZWJraXQuKkNocm9tZS4qTW9iaWxlL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSApIHtcblx0XHRcdHBhZ2VPZmZzZXQueCA9IDA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9yaWVudGF0aW9uID8gKHJlY3QudG9wICsgcGFnZU9mZnNldC55IC0gZG9jRWxlbS5jbGllbnRUb3ApIDogKHJlY3QubGVmdCArIHBhZ2VPZmZzZXQueCAtIGRvY0VsZW0uY2xpZW50TGVmdCk7XG5cdH1cblxuXHQvLyBDaGVja3Mgd2hldGhlciBhIHZhbHVlIGlzIG51bWVyaWNhbC5cblx0ZnVuY3Rpb24gaXNOdW1lcmljICggYSApIHtcblx0XHRyZXR1cm4gdHlwZW9mIGEgPT09ICdudW1iZXInICYmICFpc05hTiggYSApICYmIGlzRmluaXRlKCBhICk7XG5cdH1cblxuXHQvLyBTZXRzIGEgY2xhc3MgYW5kIHJlbW92ZXMgaXQgYWZ0ZXIgW2R1cmF0aW9uXSBtcy5cblx0ZnVuY3Rpb24gYWRkQ2xhc3NGb3IgKCBlbGVtZW50LCBjbGFzc05hbWUsIGR1cmF0aW9uICkge1xuXHRcdGlmIChkdXJhdGlvbiA+IDApIHtcblx0XHRhZGRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpO1xuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRcdFx0XHRyZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpO1xuXHRcdFx0fSwgZHVyYXRpb24pO1xuXHRcdH1cblx0fVxuXG5cdC8vIExpbWl0cyBhIHZhbHVlIHRvIDAgLSAxMDBcblx0ZnVuY3Rpb24gbGltaXQgKCBhICkge1xuXHRcdHJldHVybiBNYXRoLm1heChNYXRoLm1pbihhLCAxMDApLCAwKTtcblx0fVxuXG5cdC8vIFdyYXBzIGEgdmFyaWFibGUgYXMgYW4gYXJyYXksIGlmIGl0IGlzbid0IG9uZSB5ZXQuXG5cdC8vIE5vdGUgdGhhdCBhbiBpbnB1dCBhcnJheSBpcyByZXR1cm5lZCBieSByZWZlcmVuY2UhXG5cdGZ1bmN0aW9uIGFzQXJyYXkgKCBhICkge1xuXHRcdHJldHVybiBBcnJheS5pc0FycmF5KGEpID8gYSA6IFthXTtcblx0fVxuXG5cdC8vIENvdW50cyBkZWNpbWFsc1xuXHRmdW5jdGlvbiBjb3VudERlY2ltYWxzICggbnVtU3RyICkge1xuXHRcdG51bVN0ciA9IFN0cmluZyhudW1TdHIpO1xuXHRcdHZhciBwaWVjZXMgPSBudW1TdHIuc3BsaXQoXCIuXCIpO1xuXHRcdHJldHVybiBwaWVjZXMubGVuZ3RoID4gMSA/IHBpZWNlc1sxXS5sZW5ndGggOiAwO1xuXHR9XG5cblx0Ly8gaHR0cDovL3lvdW1pZ2h0bm90bmVlZGpxdWVyeS5jb20vI2FkZF9jbGFzc1xuXHRmdW5jdGlvbiBhZGRDbGFzcyAoIGVsLCBjbGFzc05hbWUgKSB7XG5cdFx0aWYgKCBlbC5jbGFzc0xpc3QgKSB7XG5cdFx0XHRlbC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsLmNsYXNzTmFtZSArPSAnICcgKyBjbGFzc05hbWU7XG5cdFx0fVxuXHR9XG5cblx0Ly8gaHR0cDovL3lvdW1pZ2h0bm90bmVlZGpxdWVyeS5jb20vI3JlbW92ZV9jbGFzc1xuXHRmdW5jdGlvbiByZW1vdmVDbGFzcyAoIGVsLCBjbGFzc05hbWUgKSB7XG5cdFx0aWYgKCBlbC5jbGFzc0xpc3QgKSB7XG5cdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoJyhefFxcXFxiKScgKyBjbGFzc05hbWUuc3BsaXQoJyAnKS5qb2luKCd8JykgKyAnKFxcXFxifCQpJywgJ2dpJyksICcgJyk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gaHR0cHM6Ly9wbGFpbmpzLmNvbS9qYXZhc2NyaXB0L2F0dHJpYnV0ZXMvYWRkaW5nLXJlbW92aW5nLWFuZC10ZXN0aW5nLWZvci1jbGFzc2VzLTkvXG5cdGZ1bmN0aW9uIGhhc0NsYXNzICggZWwsIGNsYXNzTmFtZSApIHtcblx0XHRyZXR1cm4gZWwuY2xhc3NMaXN0ID8gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkgOiBuZXcgUmVnRXhwKCdcXFxcYicgKyBjbGFzc05hbWUgKyAnXFxcXGInKS50ZXN0KGVsLmNsYXNzTmFtZSk7XG5cdH1cblxuXHQvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93L3Njcm9sbFkjTm90ZXNcblx0ZnVuY3Rpb24gZ2V0UGFnZU9mZnNldCAoIGRvYyApIHtcblxuXHRcdHZhciBzdXBwb3J0UGFnZU9mZnNldCA9IHdpbmRvdy5wYWdlWE9mZnNldCAhPT0gdW5kZWZpbmVkO1xuXHRcdHZhciBpc0NTUzFDb21wYXQgPSAoKGRvYy5jb21wYXRNb2RlIHx8IFwiXCIpID09PSBcIkNTUzFDb21wYXRcIik7XG5cdFx0dmFyIHggPSBzdXBwb3J0UGFnZU9mZnNldCA/IHdpbmRvdy5wYWdlWE9mZnNldCA6IGlzQ1NTMUNvbXBhdCA/IGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCA6IGRvYy5ib2R5LnNjcm9sbExlZnQ7XG5cdFx0dmFyIHkgPSBzdXBwb3J0UGFnZU9mZnNldCA/IHdpbmRvdy5wYWdlWU9mZnNldCA6IGlzQ1NTMUNvbXBhdCA/IGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIDogZG9jLmJvZHkuc2Nyb2xsVG9wO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHg6IHgsXG5cdFx0XHR5OiB5XG5cdFx0fTtcblx0fVxuXG5cdC8vIHdlIHByb3ZpZGUgYSBmdW5jdGlvbiB0byBjb21wdXRlIGNvbnN0YW50cyBpbnN0ZWFkXG5cdC8vIG9mIGFjY2Vzc2luZyB3aW5kb3cuKiBhcyBzb29uIGFzIHRoZSBtb2R1bGUgbmVlZHMgaXRcblx0Ly8gc28gdGhhdCB3ZSBkbyBub3QgY29tcHV0ZSBhbnl0aGluZyBpZiBub3QgbmVlZGVkXG5cdGZ1bmN0aW9uIGdldEFjdGlvbnMgKCApIHtcblxuXHRcdC8vIERldGVybWluZSB0aGUgZXZlbnRzIHRvIGJpbmQuIElFMTEgaW1wbGVtZW50cyBwb2ludGVyRXZlbnRzIHdpdGhvdXRcblx0XHQvLyBhIHByZWZpeCwgd2hpY2ggYnJlYWtzIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgSUUxMCBpbXBsZW1lbnRhdGlvbi5cblx0XHRyZXR1cm4gd2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCA/IHtcblx0XHRcdHN0YXJ0OiAncG9pbnRlcmRvd24nLFxuXHRcdFx0bW92ZTogJ3BvaW50ZXJtb3ZlJyxcblx0XHRcdGVuZDogJ3BvaW50ZXJ1cCdcblx0XHR9IDogd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkID8ge1xuXHRcdFx0c3RhcnQ6ICdNU1BvaW50ZXJEb3duJyxcblx0XHRcdG1vdmU6ICdNU1BvaW50ZXJNb3ZlJyxcblx0XHRcdGVuZDogJ01TUG9pbnRlclVwJ1xuXHRcdH0gOiB7XG5cdFx0XHRzdGFydDogJ21vdXNlZG93biB0b3VjaHN0YXJ0Jyxcblx0XHRcdG1vdmU6ICdtb3VzZW1vdmUgdG91Y2htb3ZlJyxcblx0XHRcdGVuZDogJ21vdXNldXAgdG91Y2hlbmQnXG5cdFx0fTtcblx0fVxuXG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL0V2ZW50TGlzdGVuZXJPcHRpb25zL2Jsb2IvZ2gtcGFnZXMvZXhwbGFpbmVyLm1kXG5cdC8vIElzc3VlICM3ODVcblx0ZnVuY3Rpb24gZ2V0U3VwcG9ydHNQYXNzaXZlICggKSB7XG5cblx0XHR2YXIgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XG5cblx0XHR0cnkge1xuXG5cdFx0XHR2YXIgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG5cdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0cyk7XG5cblx0XHR9IGNhdGNoIChlKSB7fVxuXG5cdFx0cmV0dXJuIHN1cHBvcnRzUGFzc2l2ZTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFN1cHBvcnRzVG91Y2hBY3Rpb25Ob25lICggKSB7XG5cdFx0cmV0dXJuIHdpbmRvdy5DU1MgJiYgQ1NTLnN1cHBvcnRzICYmIENTUy5zdXBwb3J0cygndG91Y2gtYWN0aW9uJywgJ25vbmUnKTtcblx0fVxuXG5cbi8vIFZhbHVlIGNhbGN1bGF0aW9uXG5cblx0Ly8gRGV0ZXJtaW5lIHRoZSBzaXplIG9mIGEgc3ViLXJhbmdlIGluIHJlbGF0aW9uIHRvIGEgZnVsbCByYW5nZS5cblx0ZnVuY3Rpb24gc3ViUmFuZ2VSYXRpbyAoIHBhLCBwYiApIHtcblx0XHRyZXR1cm4gKDEwMCAvIChwYiAtIHBhKSk7XG5cdH1cblxuXHQvLyAocGVyY2VudGFnZSkgSG93IG1hbnkgcGVyY2VudCBpcyB0aGlzIHZhbHVlIG9mIHRoaXMgcmFuZ2U/XG5cdGZ1bmN0aW9uIGZyb21QZXJjZW50YWdlICggcmFuZ2UsIHZhbHVlICkge1xuXHRcdHJldHVybiAodmFsdWUgKiAxMDApIC8gKCByYW5nZVsxXSAtIHJhbmdlWzBdICk7XG5cdH1cblxuXHQvLyAocGVyY2VudGFnZSkgV2hlcmUgaXMgdGhpcyB2YWx1ZSBvbiB0aGlzIHJhbmdlP1xuXHRmdW5jdGlvbiB0b1BlcmNlbnRhZ2UgKCByYW5nZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGZyb21QZXJjZW50YWdlKCByYW5nZSwgcmFuZ2VbMF0gPCAwID9cblx0XHRcdHZhbHVlICsgTWF0aC5hYnMocmFuZ2VbMF0pIDpcblx0XHRcdFx0dmFsdWUgLSByYW5nZVswXSApO1xuXHR9XG5cblx0Ly8gKHZhbHVlKSBIb3cgbXVjaCBpcyB0aGlzIHBlcmNlbnRhZ2Ugb24gdGhpcyByYW5nZT9cblx0ZnVuY3Rpb24gaXNQZXJjZW50YWdlICggcmFuZ2UsIHZhbHVlICkge1xuXHRcdHJldHVybiAoKHZhbHVlICogKCByYW5nZVsxXSAtIHJhbmdlWzBdICkpIC8gMTAwKSArIHJhbmdlWzBdO1xuXHR9XG5cblxuLy8gUmFuZ2UgY29udmVyc2lvblxuXG5cdGZ1bmN0aW9uIGdldEogKCB2YWx1ZSwgYXJyICkge1xuXG5cdFx0dmFyIGogPSAxO1xuXG5cdFx0d2hpbGUgKCB2YWx1ZSA+PSBhcnJbal0gKXtcblx0XHRcdGogKz0gMTtcblx0XHR9XG5cblx0XHRyZXR1cm4gajtcblx0fVxuXG5cdC8vIChwZXJjZW50YWdlKSBJbnB1dCBhIHZhbHVlLCBmaW5kIHdoZXJlLCBvbiBhIHNjYWxlIG9mIDAtMTAwLCBpdCBhcHBsaWVzLlxuXHRmdW5jdGlvbiB0b1N0ZXBwaW5nICggeFZhbCwgeFBjdCwgdmFsdWUgKSB7XG5cblx0XHRpZiAoIHZhbHVlID49IHhWYWwuc2xpY2UoLTEpWzBdICl7XG5cdFx0XHRyZXR1cm4gMTAwO1xuXHRcdH1cblxuXHRcdHZhciBqID0gZ2V0SiggdmFsdWUsIHhWYWwgKSwgdmEsIHZiLCBwYSwgcGI7XG5cblx0XHR2YSA9IHhWYWxbai0xXTtcblx0XHR2YiA9IHhWYWxbal07XG5cdFx0cGEgPSB4UGN0W2otMV07XG5cdFx0cGIgPSB4UGN0W2pdO1xuXG5cdFx0cmV0dXJuIHBhICsgKHRvUGVyY2VudGFnZShbdmEsIHZiXSwgdmFsdWUpIC8gc3ViUmFuZ2VSYXRpbyAocGEsIHBiKSk7XG5cdH1cblxuXHQvLyAodmFsdWUpIElucHV0IGEgcGVyY2VudGFnZSwgZmluZCB3aGVyZSBpdCBpcyBvbiB0aGUgc3BlY2lmaWVkIHJhbmdlLlxuXHRmdW5jdGlvbiBmcm9tU3RlcHBpbmcgKCB4VmFsLCB4UGN0LCB2YWx1ZSApIHtcblxuXHRcdC8vIFRoZXJlIGlzIG5vIHJhbmdlIGdyb3VwIHRoYXQgZml0cyAxMDBcblx0XHRpZiAoIHZhbHVlID49IDEwMCApe1xuXHRcdFx0cmV0dXJuIHhWYWwuc2xpY2UoLTEpWzBdO1xuXHRcdH1cblxuXHRcdHZhciBqID0gZ2V0SiggdmFsdWUsIHhQY3QgKSwgdmEsIHZiLCBwYSwgcGI7XG5cblx0XHR2YSA9IHhWYWxbai0xXTtcblx0XHR2YiA9IHhWYWxbal07XG5cdFx0cGEgPSB4UGN0W2otMV07XG5cdFx0cGIgPSB4UGN0W2pdO1xuXG5cdFx0cmV0dXJuIGlzUGVyY2VudGFnZShbdmEsIHZiXSwgKHZhbHVlIC0gcGEpICogc3ViUmFuZ2VSYXRpbyAocGEsIHBiKSk7XG5cdH1cblxuXHQvLyAocGVyY2VudGFnZSkgR2V0IHRoZSBzdGVwIHRoYXQgYXBwbGllcyBhdCBhIGNlcnRhaW4gdmFsdWUuXG5cdGZ1bmN0aW9uIGdldFN0ZXAgKCB4UGN0LCB4U3RlcHMsIHNuYXAsIHZhbHVlICkge1xuXG5cdFx0aWYgKCB2YWx1ZSA9PT0gMTAwICkge1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdHZhciBqID0gZ2V0SiggdmFsdWUsIHhQY3QgKSwgYSwgYjtcblxuXHRcdC8vIElmICdzbmFwJyBpcyBzZXQsIHN0ZXBzIGFyZSB1c2VkIGFzIGZpeGVkIHBvaW50cyBvbiB0aGUgc2xpZGVyLlxuXHRcdGlmICggc25hcCApIHtcblxuXHRcdFx0YSA9IHhQY3Rbai0xXTtcblx0XHRcdGIgPSB4UGN0W2pdO1xuXG5cdFx0XHQvLyBGaW5kIHRoZSBjbG9zZXN0IHBvc2l0aW9uLCBhIG9yIGIuXG5cdFx0XHRpZiAoKHZhbHVlIC0gYSkgPiAoKGItYSkvMikpe1xuXHRcdFx0XHRyZXR1cm4gYjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGE7XG5cdFx0fVxuXG5cdFx0aWYgKCAheFN0ZXBzW2otMV0gKXtcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4geFBjdFtqLTFdICsgY2xvc2VzdChcblx0XHRcdHZhbHVlIC0geFBjdFtqLTFdLFxuXHRcdFx0eFN0ZXBzW2otMV1cblx0XHQpO1xuXHR9XG5cblxuLy8gRW50cnkgcGFyc2luZ1xuXG5cdGZ1bmN0aW9uIGhhbmRsZUVudHJ5UG9pbnQgKCBpbmRleCwgdmFsdWUsIHRoYXQgKSB7XG5cblx0XHR2YXIgcGVyY2VudGFnZTtcblxuXHRcdC8vIFdyYXAgbnVtZXJpY2FsIGlucHV0IGluIGFuIGFycmF5LlxuXHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiICkge1xuXHRcdFx0dmFsdWUgPSBbdmFsdWVdO1xuXHRcdH1cblxuXHRcdC8vIFJlamVjdCBhbnkgaW52YWxpZCBpbnB1dCwgYnkgdGVzdGluZyB3aGV0aGVyIHZhbHVlIGlzIGFuIGFycmF5LlxuXHRcdGlmICggT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKCB2YWx1ZSApICE9PSAnW29iamVjdCBBcnJheV0nICl7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdyYW5nZScgY29udGFpbnMgaW52YWxpZCB2YWx1ZS5cIik7XG5cdFx0fVxuXG5cdFx0Ly8gQ292ZXJ0IG1pbi9tYXggc3ludGF4IHRvIDAgYW5kIDEwMC5cblx0XHRpZiAoIGluZGV4ID09PSAnbWluJyApIHtcblx0XHRcdHBlcmNlbnRhZ2UgPSAwO1xuXHRcdH0gZWxzZSBpZiAoIGluZGV4ID09PSAnbWF4JyApIHtcblx0XHRcdHBlcmNlbnRhZ2UgPSAxMDA7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHBlcmNlbnRhZ2UgPSBwYXJzZUZsb2F0KCBpbmRleCApO1xuXHRcdH1cblxuXHRcdC8vIENoZWNrIGZvciBjb3JyZWN0IGlucHV0LlxuXHRcdGlmICggIWlzTnVtZXJpYyggcGVyY2VudGFnZSApIHx8ICFpc051bWVyaWMoIHZhbHVlWzBdICkgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdyYW5nZScgdmFsdWUgaXNuJ3QgbnVtZXJpYy5cIik7XG5cdFx0fVxuXG5cdFx0Ly8gU3RvcmUgdmFsdWVzLlxuXHRcdHRoYXQueFBjdC5wdXNoKCBwZXJjZW50YWdlICk7XG5cdFx0dGhhdC54VmFsLnB1c2goIHZhbHVlWzBdICk7XG5cblx0XHQvLyBOYU4gd2lsbCBldmFsdWF0ZSB0byBmYWxzZSB0b28sIGJ1dCB0byBrZWVwXG5cdFx0Ly8gbG9nZ2luZyBjbGVhciwgc2V0IHN0ZXAgZXhwbGljaXRseS4gTWFrZSBzdXJlXG5cdFx0Ly8gbm90IHRvIG92ZXJyaWRlIHRoZSAnc3RlcCcgc2V0dGluZyB3aXRoIGZhbHNlLlxuXHRcdGlmICggIXBlcmNlbnRhZ2UgKSB7XG5cdFx0XHRpZiAoICFpc05hTiggdmFsdWVbMV0gKSApIHtcblx0XHRcdFx0dGhhdC54U3RlcHNbMF0gPSB2YWx1ZVsxXTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhhdC54U3RlcHMucHVzaCggaXNOYU4odmFsdWVbMV0pID8gZmFsc2UgOiB2YWx1ZVsxXSApO1xuXHRcdH1cblxuXHRcdHRoYXQueEhpZ2hlc3RDb21wbGV0ZVN0ZXAucHVzaCgwKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZVN0ZXBQb2ludCAoIGksIG4sIHRoYXQgKSB7XG5cblx0XHQvLyBJZ25vcmUgJ2ZhbHNlJyBzdGVwcGluZy5cblx0XHRpZiAoICFuICkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gRmFjdG9yIHRvIHJhbmdlIHJhdGlvXG5cdFx0dGhhdC54U3RlcHNbaV0gPSBmcm9tUGVyY2VudGFnZShbXG5cdFx0XHQgdGhhdC54VmFsW2ldXG5cdFx0XHQsdGhhdC54VmFsW2krMV1cblx0XHRdLCBuKSAvIHN1YlJhbmdlUmF0aW8gKFxuXHRcdFx0dGhhdC54UGN0W2ldLFxuXHRcdFx0dGhhdC54UGN0W2krMV0gKTtcblxuXHRcdHZhciB0b3RhbFN0ZXBzID0gKHRoYXQueFZhbFtpKzFdIC0gdGhhdC54VmFsW2ldKSAvIHRoYXQueE51bVN0ZXBzW2ldO1xuXHRcdHZhciBoaWdoZXN0U3RlcCA9IE1hdGguY2VpbChOdW1iZXIodG90YWxTdGVwcy50b0ZpeGVkKDMpKSAtIDEpO1xuXHRcdHZhciBzdGVwID0gdGhhdC54VmFsW2ldICsgKHRoYXQueE51bVN0ZXBzW2ldICogaGlnaGVzdFN0ZXApO1xuXG5cdFx0dGhhdC54SGlnaGVzdENvbXBsZXRlU3RlcFtpXSA9IHN0ZXA7XG5cdH1cblxuXG4vLyBJbnRlcmZhY2VcblxuXHRmdW5jdGlvbiBTcGVjdHJ1bSAoIGVudHJ5LCBzbmFwLCBzaW5nbGVTdGVwICkge1xuXG5cdFx0dGhpcy54UGN0ID0gW107XG5cdFx0dGhpcy54VmFsID0gW107XG5cdFx0dGhpcy54U3RlcHMgPSBbIHNpbmdsZVN0ZXAgfHwgZmFsc2UgXTtcblx0XHR0aGlzLnhOdW1TdGVwcyA9IFsgZmFsc2UgXTtcblx0XHR0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwID0gW107XG5cblx0XHR0aGlzLnNuYXAgPSBzbmFwO1xuXG5cdFx0dmFyIGluZGV4LCBvcmRlcmVkID0gWyAvKiBbMCwgJ21pbiddLCBbMSwgJzUwJSddLCBbMiwgJ21heCddICovIF07XG5cblx0XHQvLyBNYXAgdGhlIG9iamVjdCBrZXlzIHRvIGFuIGFycmF5LlxuXHRcdGZvciAoIGluZGV4IGluIGVudHJ5ICkge1xuXHRcdFx0aWYgKCBlbnRyeS5oYXNPd25Qcm9wZXJ0eShpbmRleCkgKSB7XG5cdFx0XHRcdG9yZGVyZWQucHVzaChbZW50cnlbaW5kZXhdLCBpbmRleF0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFNvcnQgYWxsIGVudHJpZXMgYnkgdmFsdWUgKG51bWVyaWMgc29ydCkuXG5cdFx0aWYgKCBvcmRlcmVkLmxlbmd0aCAmJiB0eXBlb2Ygb3JkZXJlZFswXVswXSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdG9yZGVyZWQuc29ydChmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhWzBdWzBdIC0gYlswXVswXTsgfSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG9yZGVyZWQuc29ydChmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhWzBdIC0gYlswXTsgfSk7XG5cdFx0fVxuXG5cblx0XHQvLyBDb252ZXJ0IGFsbCBlbnRyaWVzIHRvIHN1YnJhbmdlcy5cblx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgb3JkZXJlZC5sZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRoYW5kbGVFbnRyeVBvaW50KG9yZGVyZWRbaW5kZXhdWzFdLCBvcmRlcmVkW2luZGV4XVswXSwgdGhpcyk7XG5cdFx0fVxuXG5cdFx0Ly8gU3RvcmUgdGhlIGFjdHVhbCBzdGVwIHZhbHVlcy5cblx0XHQvLyB4U3RlcHMgaXMgc29ydGVkIGluIHRoZSBzYW1lIG9yZGVyIGFzIHhQY3QgYW5kIHhWYWwuXG5cdFx0dGhpcy54TnVtU3RlcHMgPSB0aGlzLnhTdGVwcy5zbGljZSgwKTtcblxuXHRcdC8vIENvbnZlcnQgYWxsIG51bWVyaWMgc3RlcHMgdG8gdGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIHN1YnJhbmdlIHRoZXkgcmVwcmVzZW50LlxuXHRcdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnhOdW1TdGVwcy5sZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRoYW5kbGVTdGVwUG9pbnQoaW5kZXgsIHRoaXMueE51bVN0ZXBzW2luZGV4XSwgdGhpcyk7XG5cdFx0fVxuXHR9XG5cblx0U3BlY3RydW0ucHJvdG90eXBlLmdldE1hcmdpbiA9IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHR2YXIgc3RlcCA9IHRoaXMueE51bVN0ZXBzWzBdO1xuXG5cdFx0aWYgKCBzdGVwICYmICgodmFsdWUgLyBzdGVwKSAlIDEpICE9PSAwICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnbGltaXQnLCAnbWFyZ2luJyBhbmQgJ3BhZGRpbmcnIG11c3QgYmUgZGl2aXNpYmxlIGJ5IHN0ZXAuXCIpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnhQY3QubGVuZ3RoID09PSAyID8gZnJvbVBlcmNlbnRhZ2UodGhpcy54VmFsLCB2YWx1ZSkgOiBmYWxzZTtcblx0fTtcblxuXHRTcGVjdHJ1bS5wcm90b3R5cGUudG9TdGVwcGluZyA9IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHR2YWx1ZSA9IHRvU3RlcHBpbmcoIHRoaXMueFZhbCwgdGhpcy54UGN0LCB2YWx1ZSApO1xuXG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9O1xuXG5cdFNwZWN0cnVtLnByb3RvdHlwZS5mcm9tU3RlcHBpbmcgPSBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0cmV0dXJuIGZyb21TdGVwcGluZyggdGhpcy54VmFsLCB0aGlzLnhQY3QsIHZhbHVlICk7XG5cdH07XG5cblx0U3BlY3RydW0ucHJvdG90eXBlLmdldFN0ZXAgPSBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0dmFsdWUgPSBnZXRTdGVwKHRoaXMueFBjdCwgdGhpcy54U3RlcHMsIHRoaXMuc25hcCwgdmFsdWUgKTtcblxuXHRcdHJldHVybiB2YWx1ZTtcblx0fTtcblxuXHRTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0TmVhcmJ5U3RlcHMgPSBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0dmFyIGogPSBnZXRKKHZhbHVlLCB0aGlzLnhQY3QpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN0ZXBCZWZvcmU6IHsgc3RhcnRWYWx1ZTogdGhpcy54VmFsW2otMl0sIHN0ZXA6IHRoaXMueE51bVN0ZXBzW2otMl0sIGhpZ2hlc3RTdGVwOiB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW2otMl0gfSxcblx0XHRcdHRoaXNTdGVwOiB7IHN0YXJ0VmFsdWU6IHRoaXMueFZhbFtqLTFdLCBzdGVwOiB0aGlzLnhOdW1TdGVwc1tqLTFdLCBoaWdoZXN0U3RlcDogdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcFtqLTFdIH0sXG5cdFx0XHRzdGVwQWZ0ZXI6IHsgc3RhcnRWYWx1ZTogdGhpcy54VmFsW2otMF0sIHN0ZXA6IHRoaXMueE51bVN0ZXBzW2otMF0sIGhpZ2hlc3RTdGVwOiB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW2otMF0gfVxuXHRcdH07XG5cdH07XG5cblx0U3BlY3RydW0ucHJvdG90eXBlLmNvdW50U3RlcERlY2ltYWxzID0gZnVuY3Rpb24gKCkge1xuXHRcdHZhciBzdGVwRGVjaW1hbHMgPSB0aGlzLnhOdW1TdGVwcy5tYXAoY291bnREZWNpbWFscyk7XG5cdFx0cmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIHN0ZXBEZWNpbWFscyk7XG4gXHR9O1xuXG5cdC8vIE91dHNpZGUgdGVzdGluZ1xuXHRTcGVjdHJ1bS5wcm90b3R5cGUuY29udmVydCA9IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0U3RlcCh0aGlzLnRvU3RlcHBpbmcodmFsdWUpKTtcblx0fTtcblxuLypcdEV2ZXJ5IGlucHV0IG9wdGlvbiBpcyB0ZXN0ZWQgYW5kIHBhcnNlZC4gVGhpcydsbCBwcmV2ZW50XG5cdGVuZGxlc3MgdmFsaWRhdGlvbiBpbiBpbnRlcm5hbCBtZXRob2RzLiBUaGVzZSB0ZXN0cyBhcmVcblx0c3RydWN0dXJlZCB3aXRoIGFuIGl0ZW0gZm9yIGV2ZXJ5IG9wdGlvbiBhdmFpbGFibGUuIEFuXG5cdG9wdGlvbiBjYW4gYmUgbWFya2VkIGFzIHJlcXVpcmVkIGJ5IHNldHRpbmcgdGhlICdyJyBmbGFnLlxuXHRUaGUgdGVzdGluZyBmdW5jdGlvbiBpcyBwcm92aWRlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcblx0XHQtIFRoZSBwcm92aWRlZCB2YWx1ZSBmb3IgdGhlIG9wdGlvbjtcblx0XHQtIEEgcmVmZXJlbmNlIHRvIHRoZSBvcHRpb25zIG9iamVjdDtcblx0XHQtIFRoZSBuYW1lIGZvciB0aGUgb3B0aW9uO1xuXG5cdFRoZSB0ZXN0aW5nIGZ1bmN0aW9uIHJldHVybnMgZmFsc2Ugd2hlbiBhbiBlcnJvciBpcyBkZXRlY3RlZCxcblx0b3IgdHJ1ZSB3aGVuIGV2ZXJ5dGhpbmcgaXMgT0suIEl0IGNhbiBhbHNvIG1vZGlmeSB0aGUgb3B0aW9uXG5cdG9iamVjdCwgdG8gbWFrZSBzdXJlIGFsbCB2YWx1ZXMgY2FuIGJlIGNvcnJlY3RseSBsb29wZWQgZWxzZXdoZXJlLiAqL1xuXG5cdHZhciBkZWZhdWx0Rm9ybWF0dGVyID0geyAndG8nOiBmdW5jdGlvbiggdmFsdWUgKXtcblx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZS50b0ZpeGVkKDIpO1xuXHR9LCAnZnJvbSc6IE51bWJlciB9O1xuXG5cdGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0ICggZW50cnkgKSB7XG5cblx0XHQvLyBBbnkgb2JqZWN0IHdpdGggYSB0byBhbmQgZnJvbSBtZXRob2QgaXMgc3VwcG9ydGVkLlxuXHRcdGlmICggaXNWYWxpZEZvcm1hdHRlcihlbnRyeSkgKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdmb3JtYXQnIHJlcXVpcmVzICd0bycgYW5kICdmcm9tJyBtZXRob2RzLlwiKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RTdGVwICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdGlmICggIWlzTnVtZXJpYyggZW50cnkgKSApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3N0ZXAnIGlzIG5vdCBudW1lcmljLlwiKTtcblx0XHR9XG5cblx0XHQvLyBUaGUgc3RlcCBvcHRpb24gY2FuIHN0aWxsIGJlIHVzZWQgdG8gc2V0IHN0ZXBwaW5nXG5cdFx0Ly8gZm9yIGxpbmVhciBzbGlkZXJzLiBPdmVyd3JpdHRlbiBpZiBzZXQgaW4gJ3JhbmdlJy5cblx0XHRwYXJzZWQuc2luZ2xlU3RlcCA9IGVudHJ5O1xuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdFJhbmdlICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdC8vIEZpbHRlciBpbmNvcnJlY3QgaW5wdXQuXG5cdFx0aWYgKCB0eXBlb2YgZW50cnkgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkoZW50cnkpICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncmFuZ2UnIGlzIG5vdCBhbiBvYmplY3QuXCIpO1xuXHRcdH1cblxuXHRcdC8vIENhdGNoIG1pc3Npbmcgc3RhcnQgb3IgZW5kLlxuXHRcdGlmICggZW50cnkubWluID09PSB1bmRlZmluZWQgfHwgZW50cnkubWF4ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6IE1pc3NpbmcgJ21pbicgb3IgJ21heCcgaW4gJ3JhbmdlJy5cIik7XG5cdFx0fVxuXG5cdFx0Ly8gQ2F0Y2ggZXF1YWwgc3RhcnQgb3IgZW5kLlxuXHRcdGlmICggZW50cnkubWluID09PSBlbnRyeS5tYXggKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdyYW5nZScgJ21pbicgYW5kICdtYXgnIGNhbm5vdCBiZSBlcXVhbC5cIik7XG5cdFx0fVxuXG5cdFx0cGFyc2VkLnNwZWN0cnVtID0gbmV3IFNwZWN0cnVtKGVudHJ5LCBwYXJzZWQuc25hcCwgcGFyc2VkLnNpbmdsZVN0ZXApO1xuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdFN0YXJ0ICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdGVudHJ5ID0gYXNBcnJheShlbnRyeSk7XG5cblx0XHQvLyBWYWxpZGF0ZSBpbnB1dC4gVmFsdWVzIGFyZW4ndCB0ZXN0ZWQsIGFzIHRoZSBwdWJsaWMgLnZhbCBtZXRob2Rcblx0XHQvLyB3aWxsIGFsd2F5cyBwcm92aWRlIGEgdmFsaWQgbG9jYXRpb24uXG5cdFx0aWYgKCAhQXJyYXkuaXNBcnJheSggZW50cnkgKSB8fCAhZW50cnkubGVuZ3RoICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnc3RhcnQnIG9wdGlvbiBpcyBpbmNvcnJlY3QuXCIpO1xuXHRcdH1cblxuXHRcdC8vIFN0b3JlIHRoZSBudW1iZXIgb2YgaGFuZGxlcy5cblx0XHRwYXJzZWQuaGFuZGxlcyA9IGVudHJ5Lmxlbmd0aDtcblxuXHRcdC8vIFdoZW4gdGhlIHNsaWRlciBpcyBpbml0aWFsaXplZCwgdGhlIC52YWwgbWV0aG9kIHdpbGxcblx0XHQvLyBiZSBjYWxsZWQgd2l0aCB0aGUgc3RhcnQgb3B0aW9ucy5cblx0XHRwYXJzZWQuc3RhcnQgPSBlbnRyeTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RTbmFwICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdC8vIEVuZm9yY2UgMTAwJSBzdGVwcGluZyB3aXRoaW4gc3VicmFuZ2VzLlxuXHRcdHBhcnNlZC5zbmFwID0gZW50cnk7XG5cblx0XHRpZiAoIHR5cGVvZiBlbnRyeSAhPT0gJ2Jvb2xlYW4nICl7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdzbmFwJyBvcHRpb24gbXVzdCBiZSBhIGJvb2xlYW4uXCIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RBbmltYXRlICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdC8vIEVuZm9yY2UgMTAwJSBzdGVwcGluZyB3aXRoaW4gc3VicmFuZ2VzLlxuXHRcdHBhcnNlZC5hbmltYXRlID0gZW50cnk7XG5cblx0XHRpZiAoIHR5cGVvZiBlbnRyeSAhPT0gJ2Jvb2xlYW4nICl7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdhbmltYXRlJyBvcHRpb24gbXVzdCBiZSBhIGJvb2xlYW4uXCIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RBbmltYXRpb25EdXJhdGlvbiAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHRwYXJzZWQuYW5pbWF0aW9uRHVyYXRpb24gPSBlbnRyeTtcblxuXHRcdGlmICggdHlwZW9mIGVudHJ5ICE9PSAnbnVtYmVyJyApe1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnYW5pbWF0aW9uRHVyYXRpb24nIG9wdGlvbiBtdXN0IGJlIGEgbnVtYmVyLlwiKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0Q29ubmVjdCAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHR2YXIgY29ubmVjdCA9IFtmYWxzZV07XG5cdFx0dmFyIGk7XG5cblx0XHQvLyBNYXAgbGVnYWN5IG9wdGlvbnNcblx0XHRpZiAoIGVudHJ5ID09PSAnbG93ZXInICkge1xuXHRcdFx0ZW50cnkgPSBbdHJ1ZSwgZmFsc2VdO1xuXHRcdH1cblxuXHRcdGVsc2UgaWYgKCBlbnRyeSA9PT0gJ3VwcGVyJyApIHtcblx0XHRcdGVudHJ5ID0gW2ZhbHNlLCB0cnVlXTtcblx0XHR9XG5cblx0XHQvLyBIYW5kbGUgYm9vbGVhbiBvcHRpb25zXG5cdFx0aWYgKCBlbnRyeSA9PT0gdHJ1ZSB8fCBlbnRyeSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdGZvciAoIGkgPSAxOyBpIDwgcGFyc2VkLmhhbmRsZXM7IGkrKyApIHtcblx0XHRcdFx0Y29ubmVjdC5wdXNoKGVudHJ5KTtcblx0XHRcdH1cblxuXHRcdFx0Y29ubmVjdC5wdXNoKGZhbHNlKTtcblx0XHR9XG5cblx0XHQvLyBSZWplY3QgaW52YWxpZCBpbnB1dFxuXHRcdGVsc2UgaWYgKCAhQXJyYXkuaXNBcnJheSggZW50cnkgKSB8fCAhZW50cnkubGVuZ3RoIHx8IGVudHJ5Lmxlbmd0aCAhPT0gcGFyc2VkLmhhbmRsZXMgKyAxICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnY29ubmVjdCcgb3B0aW9uIGRvZXNuJ3QgbWF0Y2ggaGFuZGxlIGNvdW50LlwiKTtcblx0XHR9XG5cblx0XHRlbHNlIHtcblx0XHRcdGNvbm5lY3QgPSBlbnRyeTtcblx0XHR9XG5cblx0XHRwYXJzZWQuY29ubmVjdCA9IGNvbm5lY3Q7XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0T3JpZW50YXRpb24gKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0Ly8gU2V0IG9yaWVudGF0aW9uIHRvIGFuIGEgbnVtZXJpY2FsIHZhbHVlIGZvciBlYXN5XG5cdFx0Ly8gYXJyYXkgc2VsZWN0aW9uLlxuXHRcdHN3aXRjaCAoIGVudHJ5ICl7XG5cdFx0ICBjYXNlICdob3Jpem9udGFsJzpcblx0XHRcdHBhcnNlZC5vcnQgPSAwO1xuXHRcdFx0YnJlYWs7XG5cdFx0ICBjYXNlICd2ZXJ0aWNhbCc6XG5cdFx0XHRwYXJzZWQub3J0ID0gMTtcblx0XHRcdGJyZWFrO1xuXHRcdCAgZGVmYXVsdDpcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ29yaWVudGF0aW9uJyBvcHRpb24gaXMgaW52YWxpZC5cIik7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdE1hcmdpbiAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHRpZiAoICFpc051bWVyaWMoZW50cnkpICl7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdtYXJnaW4nIG9wdGlvbiBtdXN0IGJlIG51bWVyaWMuXCIpO1xuXHRcdH1cblxuXHRcdC8vIElzc3VlICM1ODJcblx0XHRpZiAoIGVudHJ5ID09PSAwICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHBhcnNlZC5tYXJnaW4gPSBwYXJzZWQuc3BlY3RydW0uZ2V0TWFyZ2luKGVudHJ5KTtcblxuXHRcdGlmICggIXBhcnNlZC5tYXJnaW4gKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdtYXJnaW4nIG9wdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCBvbiBsaW5lYXIgc2xpZGVycy5cIik7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdExpbWl0ICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdGlmICggIWlzTnVtZXJpYyhlbnRyeSkgKXtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2xpbWl0JyBvcHRpb24gbXVzdCBiZSBudW1lcmljLlwiKTtcblx0XHR9XG5cblx0XHRwYXJzZWQubGltaXQgPSBwYXJzZWQuc3BlY3RydW0uZ2V0TWFyZ2luKGVudHJ5KTtcblxuXHRcdGlmICggIXBhcnNlZC5saW1pdCB8fCBwYXJzZWQuaGFuZGxlcyA8IDIgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdsaW1pdCcgb3B0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIG9uIGxpbmVhciBzbGlkZXJzIHdpdGggMiBvciBtb3JlIGhhbmRsZXMuXCIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RQYWRkaW5nICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdGlmICggIWlzTnVtZXJpYyhlbnRyeSkgKXtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IGJlIG51bWVyaWMuXCIpO1xuXHRcdH1cblxuXHRcdGlmICggZW50cnkgPT09IDAgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0cGFyc2VkLnBhZGRpbmcgPSBwYXJzZWQuc3BlY3RydW0uZ2V0TWFyZ2luKGVudHJ5KTtcblxuXHRcdGlmICggIXBhcnNlZC5wYWRkaW5nICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncGFkZGluZycgb3B0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIG9uIGxpbmVhciBzbGlkZXJzLlwiKTtcblx0XHR9XG5cblx0XHRpZiAoIHBhcnNlZC5wYWRkaW5nIDwgMCApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyLlwiKTtcblx0XHR9XG5cblx0XHRpZiAoIHBhcnNlZC5wYWRkaW5nID49IDUwICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncGFkZGluZycgb3B0aW9uIG11c3QgYmUgbGVzcyB0aGFuIGhhbGYgdGhlIHJhbmdlLlwiKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0RGlyZWN0aW9uICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdC8vIFNldCBkaXJlY3Rpb24gYXMgYSBudW1lcmljYWwgdmFsdWUgZm9yIGVhc3kgcGFyc2luZy5cblx0XHQvLyBJbnZlcnQgY29ubmVjdGlvbiBmb3IgUlRMIHNsaWRlcnMsIHNvIHRoYXQgdGhlIHByb3BlclxuXHRcdC8vIGhhbmRsZXMgZ2V0IHRoZSBjb25uZWN0L2JhY2tncm91bmQgY2xhc3Nlcy5cblx0XHRzd2l0Y2ggKCBlbnRyeSApIHtcblx0XHQgIGNhc2UgJ2x0cic6XG5cdFx0XHRwYXJzZWQuZGlyID0gMDtcblx0XHRcdGJyZWFrO1xuXHRcdCAgY2FzZSAncnRsJzpcblx0XHRcdHBhcnNlZC5kaXIgPSAxO1xuXHRcdFx0YnJlYWs7XG5cdFx0ICBkZWZhdWx0OlxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnZGlyZWN0aW9uJyBvcHRpb24gd2FzIG5vdCByZWNvZ25pemVkLlwiKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0QmVoYXZpb3VyICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGUgaW5wdXQgaXMgYSBzdHJpbmcuXG5cdFx0aWYgKCB0eXBlb2YgZW50cnkgIT09ICdzdHJpbmcnICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnYmVoYXZpb3VyJyBtdXN0IGJlIGEgc3RyaW5nIGNvbnRhaW5pbmcgb3B0aW9ucy5cIik7XG5cdFx0fVxuXG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIHN0cmluZyBjb250YWlucyBhbnkga2V5d29yZHMuXG5cdFx0Ly8gTm9uZSBhcmUgcmVxdWlyZWQuXG5cdFx0dmFyIHRhcCA9IGVudHJ5LmluZGV4T2YoJ3RhcCcpID49IDA7XG5cdFx0dmFyIGRyYWcgPSBlbnRyeS5pbmRleE9mKCdkcmFnJykgPj0gMDtcblx0XHR2YXIgZml4ZWQgPSBlbnRyeS5pbmRleE9mKCdmaXhlZCcpID49IDA7XG5cdFx0dmFyIHNuYXAgPSBlbnRyeS5pbmRleE9mKCdzbmFwJykgPj0gMDtcblx0XHR2YXIgaG92ZXIgPSBlbnRyeS5pbmRleE9mKCdob3ZlcicpID49IDA7XG5cblx0XHRpZiAoIGZpeGVkICkge1xuXG5cdFx0XHRpZiAoIHBhcnNlZC5oYW5kbGVzICE9PSAyICkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdmaXhlZCcgYmVoYXZpb3VyIG11c3QgYmUgdXNlZCB3aXRoIDIgaGFuZGxlc1wiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVXNlIG1hcmdpbiB0byBlbmZvcmNlIGZpeGVkIHN0YXRlXG5cdFx0XHR0ZXN0TWFyZ2luKHBhcnNlZCwgcGFyc2VkLnN0YXJ0WzFdIC0gcGFyc2VkLnN0YXJ0WzBdKTtcblx0XHR9XG5cblx0XHRwYXJzZWQuZXZlbnRzID0ge1xuXHRcdFx0dGFwOiB0YXAgfHwgc25hcCxcblx0XHRcdGRyYWc6IGRyYWcsXG5cdFx0XHRmaXhlZDogZml4ZWQsXG5cdFx0XHRzbmFwOiBzbmFwLFxuXHRcdFx0aG92ZXI6IGhvdmVyXG5cdFx0fTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RNdWx0aXRvdWNoICggcGFyc2VkLCBlbnRyeSApIHtcblx0XHRwYXJzZWQubXVsdGl0b3VjaCA9IGVudHJ5O1xuXG5cdFx0aWYgKCB0eXBlb2YgZW50cnkgIT09ICdib29sZWFuJyApe1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnbXVsdGl0b3VjaCcgb3B0aW9uIG11c3QgYmUgYSBib29sZWFuLlwiKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0VG9vbHRpcHMgKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0aWYgKCBlbnRyeSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0ZWxzZSBpZiAoIGVudHJ5ID09PSB0cnVlICkge1xuXG5cdFx0XHRwYXJzZWQudG9vbHRpcHMgPSBbXTtcblxuXHRcdFx0Zm9yICggdmFyIGkgPSAwOyBpIDwgcGFyc2VkLmhhbmRsZXM7IGkrKyApIHtcblx0XHRcdFx0cGFyc2VkLnRvb2x0aXBzLnB1c2godHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZWxzZSB7XG5cblx0XHRcdHBhcnNlZC50b29sdGlwcyA9IGFzQXJyYXkoZW50cnkpO1xuXG5cdFx0XHRpZiAoIHBhcnNlZC50b29sdGlwcy5sZW5ndGggIT09IHBhcnNlZC5oYW5kbGVzICkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6IG11c3QgcGFzcyBhIGZvcm1hdHRlciBmb3IgYWxsIGhhbmRsZXMuXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHRwYXJzZWQudG9vbHRpcHMuZm9yRWFjaChmdW5jdGlvbihmb3JtYXR0ZXIpe1xuXHRcdFx0XHRpZiAoIHR5cGVvZiBmb3JtYXR0ZXIgIT09ICdib29sZWFuJyAmJiAodHlwZW9mIGZvcm1hdHRlciAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIGZvcm1hdHRlci50byAhPT0gJ2Z1bmN0aW9uJykgKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAndG9vbHRpcHMnIG11c3QgYmUgcGFzc2VkIGEgZm9ybWF0dGVyIG9yICdmYWxzZScuXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0QXJpYUZvcm1hdCAoIHBhcnNlZCwgZW50cnkgKSB7XG5cdFx0cGFyc2VkLmFyaWFGb3JtYXQgPSBlbnRyeTtcblx0XHR2YWxpZGF0ZUZvcm1hdChlbnRyeSk7XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0Rm9ybWF0ICggcGFyc2VkLCBlbnRyeSApIHtcblx0XHRwYXJzZWQuZm9ybWF0ID0gZW50cnk7XG5cdFx0dmFsaWRhdGVGb3JtYXQoZW50cnkpO1xuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdENzc1ByZWZpeCAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHRpZiAoIGVudHJ5ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGVudHJ5ICE9PSAnc3RyaW5nJyAmJiBlbnRyeSAhPT0gZmFsc2UgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdjc3NQcmVmaXgnIG11c3QgYmUgYSBzdHJpbmcgb3IgYGZhbHNlYC5cIik7XG5cdFx0fVxuXG5cdFx0cGFyc2VkLmNzc1ByZWZpeCA9IGVudHJ5O1xuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdENzc0NsYXNzZXMgKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0aWYgKCBlbnRyeSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbnRyeSAhPT0gJ29iamVjdCcgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdjc3NDbGFzc2VzJyBtdXN0IGJlIGFuIG9iamVjdC5cIik7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlb2YgcGFyc2VkLmNzc1ByZWZpeCA9PT0gJ3N0cmluZycgKSB7XG5cdFx0XHRwYXJzZWQuY3NzQ2xhc3NlcyA9IHt9O1xuXG5cdFx0XHRmb3IgKCB2YXIga2V5IGluIGVudHJ5ICkge1xuXHRcdFx0XHRpZiAoICFlbnRyeS5oYXNPd25Qcm9wZXJ0eShrZXkpICkgeyBjb250aW51ZTsgfVxuXG5cdFx0XHRcdHBhcnNlZC5jc3NDbGFzc2VzW2tleV0gPSBwYXJzZWQuY3NzUHJlZml4ICsgZW50cnlba2V5XTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cGFyc2VkLmNzc0NsYXNzZXMgPSBlbnRyeTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0VXNlUmFmICggcGFyc2VkLCBlbnRyeSApIHtcblx0XHRpZiAoIGVudHJ5ID09PSB0cnVlIHx8IGVudHJ5ID09PSBmYWxzZSApIHtcblx0XHRcdHBhcnNlZC51c2VSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBlbnRyeTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAndXNlUmVxdWVzdEFuaW1hdGlvbkZyYW1lJyBvcHRpb24gc2hvdWxkIGJlIHRydWUgKGRlZmF1bHQpIG9yIGZhbHNlLlwiKTtcblx0XHR9XG5cdH1cblxuXHQvLyBUZXN0IGFsbCBkZXZlbG9wZXIgc2V0dGluZ3MgYW5kIHBhcnNlIHRvIGFzc3VtcHRpb24tc2FmZSB2YWx1ZXMuXG5cdGZ1bmN0aW9uIHRlc3RPcHRpb25zICggb3B0aW9ucyApIHtcblxuXHRcdC8vIFRvIHByb3ZlIGEgZml4IGZvciAjNTM3LCBmcmVlemUgb3B0aW9ucyBoZXJlLlxuXHRcdC8vIElmIHRoZSBvYmplY3QgaXMgbW9kaWZpZWQsIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duLlxuXHRcdC8vIE9iamVjdC5mcmVlemUob3B0aW9ucyk7XG5cblx0XHR2YXIgcGFyc2VkID0ge1xuXHRcdFx0bWFyZ2luOiAwLFxuXHRcdFx0bGltaXQ6IDAsXG5cdFx0XHRwYWRkaW5nOiAwLFxuXHRcdFx0YW5pbWF0ZTogdHJ1ZSxcblx0XHRcdGFuaW1hdGlvbkR1cmF0aW9uOiAzMDAsXG5cdFx0XHRhcmlhRm9ybWF0OiBkZWZhdWx0Rm9ybWF0dGVyLFxuXHRcdFx0Zm9ybWF0OiBkZWZhdWx0Rm9ybWF0dGVyXG5cdFx0fTtcblxuXHRcdC8vIFRlc3RzIGFyZSBleGVjdXRlZCBpbiB0aGUgb3JkZXIgdGhleSBhcmUgcHJlc2VudGVkIGhlcmUuXG5cdFx0dmFyIHRlc3RzID0ge1xuXHRcdFx0J3N0ZXAnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0U3RlcCB9LFxuXHRcdFx0J3N0YXJ0JzogeyByOiB0cnVlLCB0OiB0ZXN0U3RhcnQgfSxcblx0XHRcdCdjb25uZWN0JzogeyByOiB0cnVlLCB0OiB0ZXN0Q29ubmVjdCB9LFxuXHRcdFx0J2RpcmVjdGlvbic6IHsgcjogdHJ1ZSwgdDogdGVzdERpcmVjdGlvbiB9LFxuXHRcdFx0J3NuYXAnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0U25hcCB9LFxuXHRcdFx0J2FuaW1hdGUnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0QW5pbWF0ZSB9LFxuXHRcdFx0J2FuaW1hdGlvbkR1cmF0aW9uJzogeyByOiBmYWxzZSwgdDogdGVzdEFuaW1hdGlvbkR1cmF0aW9uIH0sXG5cdFx0XHQncmFuZ2UnOiB7IHI6IHRydWUsIHQ6IHRlc3RSYW5nZSB9LFxuXHRcdFx0J29yaWVudGF0aW9uJzogeyByOiBmYWxzZSwgdDogdGVzdE9yaWVudGF0aW9uIH0sXG5cdFx0XHQnbWFyZ2luJzogeyByOiBmYWxzZSwgdDogdGVzdE1hcmdpbiB9LFxuXHRcdFx0J2xpbWl0JzogeyByOiBmYWxzZSwgdDogdGVzdExpbWl0IH0sXG5cdFx0XHQncGFkZGluZyc6IHsgcjogZmFsc2UsIHQ6IHRlc3RQYWRkaW5nIH0sXG5cdFx0XHQnYmVoYXZpb3VyJzogeyByOiB0cnVlLCB0OiB0ZXN0QmVoYXZpb3VyIH0sXG5cdFx0XHQnbXVsdGl0b3VjaCc6IHsgcjogdHJ1ZSwgdDogdGVzdE11bHRpdG91Y2ggfSxcblx0XHRcdCdhcmlhRm9ybWF0JzogeyByOiBmYWxzZSwgdDogdGVzdEFyaWFGb3JtYXQgfSxcblx0XHRcdCdmb3JtYXQnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0Rm9ybWF0IH0sXG5cdFx0XHQndG9vbHRpcHMnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0VG9vbHRpcHMgfSxcblx0XHRcdCdjc3NQcmVmaXgnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0Q3NzUHJlZml4IH0sXG5cdFx0XHQnY3NzQ2xhc3Nlcyc6IHsgcjogZmFsc2UsIHQ6IHRlc3RDc3NDbGFzc2VzIH0sXG5cdFx0XHQndXNlUmVxdWVzdEFuaW1hdGlvbkZyYW1lJzogeyByOiBmYWxzZSwgdDogdGVzdFVzZVJhZiB9XG5cdFx0fTtcblxuXHRcdHZhciBkZWZhdWx0cyA9IHtcblx0XHRcdCdjb25uZWN0JzogZmFsc2UsXG5cdFx0XHQnZGlyZWN0aW9uJzogJ2x0cicsXG5cdFx0XHQnYmVoYXZpb3VyJzogJ3RhcCcsXG5cdFx0XHQnbXVsdGl0b3VjaCc6IGZhbHNlLFxuXHRcdFx0J29yaWVudGF0aW9uJzogJ2hvcml6b250YWwnLFxuXHRcdFx0J2Nzc1ByZWZpeCcgOiAnbm9VaS0nLFxuXHRcdFx0J2Nzc0NsYXNzZXMnOiB7XG5cdFx0XHRcdHRhcmdldDogJ3RhcmdldCcsXG5cdFx0XHRcdGJhc2U6ICdiYXNlJyxcblx0XHRcdFx0b3JpZ2luOiAnb3JpZ2luJyxcblx0XHRcdFx0aGFuZGxlOiAnaGFuZGxlJyxcblx0XHRcdFx0aGFuZGxlTG93ZXI6ICdoYW5kbGUtbG93ZXInLFxuXHRcdFx0XHRoYW5kbGVVcHBlcjogJ2hhbmRsZS11cHBlcicsXG5cdFx0XHRcdGhvcml6b250YWw6ICdob3Jpem9udGFsJyxcblx0XHRcdFx0dmVydGljYWw6ICd2ZXJ0aWNhbCcsXG5cdFx0XHRcdGJhY2tncm91bmQ6ICdiYWNrZ3JvdW5kJyxcblx0XHRcdFx0Y29ubmVjdDogJ2Nvbm5lY3QnLFxuXHRcdFx0XHRsdHI6ICdsdHInLFxuXHRcdFx0XHRydGw6ICdydGwnLFxuXHRcdFx0XHRkcmFnZ2FibGU6ICdkcmFnZ2FibGUnLFxuXHRcdFx0XHRkcmFnOiAnc3RhdGUtZHJhZycsXG5cdFx0XHRcdHRhcDogJ3N0YXRlLXRhcCcsXG5cdFx0XHRcdGFjdGl2ZTogJ2FjdGl2ZScsXG5cdFx0XHRcdHRvb2x0aXA6ICd0b29sdGlwJyxcblx0XHRcdFx0cGlwczogJ3BpcHMnLFxuXHRcdFx0XHRwaXBzSG9yaXpvbnRhbDogJ3BpcHMtaG9yaXpvbnRhbCcsXG5cdFx0XHRcdHBpcHNWZXJ0aWNhbDogJ3BpcHMtdmVydGljYWwnLFxuXHRcdFx0XHRtYXJrZXI6ICdtYXJrZXInLFxuXHRcdFx0XHRtYXJrZXJIb3Jpem9udGFsOiAnbWFya2VyLWhvcml6b250YWwnLFxuXHRcdFx0XHRtYXJrZXJWZXJ0aWNhbDogJ21hcmtlci12ZXJ0aWNhbCcsXG5cdFx0XHRcdG1hcmtlck5vcm1hbDogJ21hcmtlci1ub3JtYWwnLFxuXHRcdFx0XHRtYXJrZXJMYXJnZTogJ21hcmtlci1sYXJnZScsXG5cdFx0XHRcdG1hcmtlclN1YjogJ21hcmtlci1zdWInLFxuXHRcdFx0XHR2YWx1ZTogJ3ZhbHVlJyxcblx0XHRcdFx0dmFsdWVIb3Jpem9udGFsOiAndmFsdWUtaG9yaXpvbnRhbCcsXG5cdFx0XHRcdHZhbHVlVmVydGljYWw6ICd2YWx1ZS12ZXJ0aWNhbCcsXG5cdFx0XHRcdHZhbHVlTm9ybWFsOiAndmFsdWUtbm9ybWFsJyxcblx0XHRcdFx0dmFsdWVMYXJnZTogJ3ZhbHVlLWxhcmdlJyxcblx0XHRcdFx0dmFsdWVTdWI6ICd2YWx1ZS1zdWInXG5cdFx0XHR9LFxuXHRcdFx0J3VzZVJlcXVlc3RBbmltYXRpb25GcmFtZSc6IHRydWVcblx0XHR9O1xuXG5cdFx0Ly8gQXJpYUZvcm1hdCBkZWZhdWx0cyB0byByZWd1bGFyIGZvcm1hdCwgaWYgYW55LlxuXHRcdGlmICggb3B0aW9ucy5mb3JtYXQgJiYgIW9wdGlvbnMuYXJpYUZvcm1hdCApIHtcblx0XHRcdG9wdGlvbnMuYXJpYUZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0O1xuXHRcdH1cblxuXHRcdC8vIFJ1biBhbGwgb3B0aW9ucyB0aHJvdWdoIGEgdGVzdGluZyBtZWNoYW5pc20gdG8gZW5zdXJlIGNvcnJlY3Rcblx0XHQvLyBpbnB1dC4gSXQgc2hvdWxkIGJlIG5vdGVkIHRoYXQgb3B0aW9ucyBtaWdodCBnZXQgbW9kaWZpZWQgdG9cblx0XHQvLyBiZSBoYW5kbGVkIHByb3Blcmx5LiBFLmcuIHdyYXBwaW5nIGludGVnZXJzIGluIGFycmF5cy5cblx0XHRPYmplY3Qua2V5cyh0ZXN0cykuZm9yRWFjaChmdW5jdGlvbiggbmFtZSApe1xuXG5cdFx0XHQvLyBJZiB0aGUgb3B0aW9uIGlzbid0IHNldCwgYnV0IGl0IGlzIHJlcXVpcmVkLCB0aHJvdyBhbiBlcnJvci5cblx0XHRcdGlmICggb3B0aW9uc1tuYW1lXSA9PT0gdW5kZWZpbmVkICYmIGRlZmF1bHRzW25hbWVdID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0aWYgKCB0ZXN0c1tuYW1lXS5yICkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ1wiICsgbmFtZSArIFwiJyBpcyByZXF1aXJlZC5cIik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0dGVzdHNbbmFtZV0udCggcGFyc2VkLCBvcHRpb25zW25hbWVdID09PSB1bmRlZmluZWQgPyBkZWZhdWx0c1tuYW1lXSA6IG9wdGlvbnNbbmFtZV0gKTtcblx0XHR9KTtcblxuXHRcdC8vIEZvcndhcmQgcGlwcyBvcHRpb25zXG5cdFx0cGFyc2VkLnBpcHMgPSBvcHRpb25zLnBpcHM7XG5cblx0XHR2YXIgc3R5bGVzID0gW1snbGVmdCcsICd0b3AnXSwgWydyaWdodCcsICdib3R0b20nXV07XG5cblx0XHQvLyBQcmUtZGVmaW5lIHRoZSBzdHlsZXMuXG5cdFx0cGFyc2VkLnN0eWxlID0gc3R5bGVzW3BhcnNlZC5kaXJdW3BhcnNlZC5vcnRdO1xuXHRcdHBhcnNlZC5zdHlsZU9wb3NpdGUgPSBzdHlsZXNbcGFyc2VkLmRpcj8wOjFdW3BhcnNlZC5vcnRdO1xuXG5cdFx0cmV0dXJuIHBhcnNlZDtcblx0fVxuXG5cbmZ1bmN0aW9uIGNsb3N1cmUgKCB0YXJnZXQsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucyApe1xuXG5cdHZhciBhY3Rpb25zID0gZ2V0QWN0aW9ucygpO1xuXHR2YXIgc3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUgPSBnZXRTdXBwb3J0c1RvdWNoQWN0aW9uTm9uZSgpO1xuXHR2YXIgc3VwcG9ydHNQYXNzaXZlID0gc3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUgJiYgZ2V0U3VwcG9ydHNQYXNzaXZlKCk7XG5cblx0Ly8gQWxsIHZhcmlhYmxlcyBsb2NhbCB0byAnY2xvc3VyZScgYXJlIHByZWZpeGVkIHdpdGggJ3Njb3BlXydcblx0dmFyIHNjb3BlX1RhcmdldCA9IHRhcmdldDtcblx0dmFyIHNjb3BlX0xvY2F0aW9ucyA9IFtdO1xuXHR2YXIgc2NvcGVfQmFzZTtcblx0dmFyIHNjb3BlX0hhbmRsZXM7XG5cdHZhciBzY29wZV9IYW5kbGVOdW1iZXJzID0gW107XG5cdHZhciBzY29wZV9BY3RpdmVIYW5kbGVzQ291bnQgPSAwO1xuXHR2YXIgc2NvcGVfQ29ubmVjdHM7XG5cdHZhciBzY29wZV9TcGVjdHJ1bSA9IG9wdGlvbnMuc3BlY3RydW07XG5cdHZhciBzY29wZV9WYWx1ZXMgPSBbXTtcblx0dmFyIHNjb3BlX0V2ZW50cyA9IHt9O1xuXHR2YXIgc2NvcGVfU2VsZjtcblx0dmFyIHNjb3BlX1BpcHM7XG5cdHZhciBzY29wZV9Eb2N1bWVudCA9IHRhcmdldC5vd25lckRvY3VtZW50O1xuXHR2YXIgc2NvcGVfRG9jdW1lbnRFbGVtZW50ID0gc2NvcGVfRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXHR2YXIgc2NvcGVfQm9keSA9IHNjb3BlX0RvY3VtZW50LmJvZHk7XG5cblxuXHQvLyBDcmVhdGVzIGEgbm9kZSwgYWRkcyBpdCB0byB0YXJnZXQsIHJldHVybnMgdGhlIG5ldyBub2RlLlxuXHRmdW5jdGlvbiBhZGROb2RlVG8gKCB0YXJnZXQsIGNsYXNzTmFtZSApIHtcblxuXHRcdHZhciBkaXYgPSBzY29wZV9Eb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuXHRcdGlmICggY2xhc3NOYW1lICkge1xuXHRcdFx0YWRkQ2xhc3MoZGl2LCBjbGFzc05hbWUpO1xuXHRcdH1cblxuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChkaXYpO1xuXG5cdFx0cmV0dXJuIGRpdjtcblx0fVxuXG5cdC8vIEFwcGVuZCBhIG9yaWdpbiB0byB0aGUgYmFzZVxuXHRmdW5jdGlvbiBhZGRPcmlnaW4gKCBiYXNlLCBoYW5kbGVOdW1iZXIgKSB7XG5cblx0XHR2YXIgb3JpZ2luID0gYWRkTm9kZVRvKGJhc2UsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5vcmlnaW4pO1xuXHRcdHZhciBoYW5kbGUgPSBhZGROb2RlVG8ob3JpZ2luLCBvcHRpb25zLmNzc0NsYXNzZXMuaGFuZGxlKTtcblxuXHRcdGhhbmRsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaGFuZGxlJywgaGFuZGxlTnVtYmVyKTtcblxuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvR2xvYmFsX2F0dHJpYnV0ZXMvdGFiaW5kZXhcblx0XHQvLyAwID0gZm9jdXNhYmxlIGFuZCByZWFjaGFibGVcblx0XHRoYW5kbGUuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG5cdFx0aGFuZGxlLnNldEF0dHJpYnV0ZSgncm9sZScsICdzbGlkZXInKTtcblx0XHRoYW5kbGUuc2V0QXR0cmlidXRlKCdhcmlhLW9yaWVudGF0aW9uJywgb3B0aW9ucy5vcnQgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnKTtcblxuXHRcdGlmICggaGFuZGxlTnVtYmVyID09PSAwICkge1xuXHRcdFx0YWRkQ2xhc3MoaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMuaGFuZGxlTG93ZXIpO1xuXHRcdH1cblxuXHRcdGVsc2UgaWYgKCBoYW5kbGVOdW1iZXIgPT09IG9wdGlvbnMuaGFuZGxlcyAtIDEgKSB7XG5cdFx0XHRhZGRDbGFzcyhoYW5kbGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5oYW5kbGVVcHBlcik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9yaWdpbjtcblx0fVxuXG5cdC8vIEluc2VydCBub2RlcyBmb3IgY29ubmVjdCBlbGVtZW50c1xuXHRmdW5jdGlvbiBhZGRDb25uZWN0ICggYmFzZSwgYWRkICkge1xuXG5cdFx0aWYgKCAhYWRkICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiBhZGROb2RlVG8oYmFzZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmNvbm5lY3QpO1xuXHR9XG5cblx0Ly8gQWRkIGhhbmRsZXMgdG8gdGhlIHNsaWRlciBiYXNlLlxuXHRmdW5jdGlvbiBhZGRFbGVtZW50cyAoIGNvbm5lY3RPcHRpb25zLCBiYXNlICkge1xuXG5cdFx0c2NvcGVfSGFuZGxlcyA9IFtdO1xuXHRcdHNjb3BlX0Nvbm5lY3RzID0gW107XG5cblx0XHRzY29wZV9Db25uZWN0cy5wdXNoKGFkZENvbm5lY3QoYmFzZSwgY29ubmVjdE9wdGlvbnNbMF0pKTtcblxuXHRcdC8vIFs6Ojo6Tz09PT1PPT09PU89PT09XVxuXHRcdC8vIGNvbm5lY3RPcHRpb25zID0gWzAsIDEsIDEsIDFdXG5cblx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmhhbmRsZXM7IGkrKyApIHtcblx0XHRcdC8vIEtlZXAgYSBsaXN0IG9mIGFsbCBhZGRlZCBoYW5kbGVzLlxuXHRcdFx0c2NvcGVfSGFuZGxlcy5wdXNoKGFkZE9yaWdpbihiYXNlLCBpKSk7XG5cdFx0XHRzY29wZV9IYW5kbGVOdW1iZXJzW2ldID0gaTtcblx0XHRcdHNjb3BlX0Nvbm5lY3RzLnB1c2goYWRkQ29ubmVjdChiYXNlLCBjb25uZWN0T3B0aW9uc1tpICsgMV0pKTtcblx0XHR9XG5cdH1cblxuXHQvLyBJbml0aWFsaXplIGEgc2luZ2xlIHNsaWRlci5cblx0ZnVuY3Rpb24gYWRkU2xpZGVyICggdGFyZ2V0ICkge1xuXG5cdFx0Ly8gQXBwbHkgY2xhc3NlcyBhbmQgZGF0YSB0byB0aGUgdGFyZ2V0LlxuXHRcdGFkZENsYXNzKHRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRhcmdldCk7XG5cblx0XHRpZiAoIG9wdGlvbnMuZGlyID09PSAwICkge1xuXHRcdFx0YWRkQ2xhc3ModGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMubHRyKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YWRkQ2xhc3ModGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMucnRsKTtcblx0XHR9XG5cblx0XHRpZiAoIG9wdGlvbnMub3J0ID09PSAwICkge1xuXHRcdFx0YWRkQ2xhc3ModGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMuaG9yaXpvbnRhbCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFkZENsYXNzKHRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnZlcnRpY2FsKTtcblx0XHR9XG5cblx0XHRzY29wZV9CYXNlID0gYWRkTm9kZVRvKHRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmJhc2UpO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBhZGRUb29sdGlwICggaGFuZGxlLCBoYW5kbGVOdW1iZXIgKSB7XG5cblx0XHRpZiAoICFvcHRpb25zLnRvb2x0aXBzW2hhbmRsZU51bWJlcl0gKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFkZE5vZGVUbyhoYW5kbGUuZmlyc3RDaGlsZCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRvb2x0aXApO1xuXHR9XG5cblx0Ly8gVGhlIHRvb2x0aXBzIG9wdGlvbiBpcyBhIHNob3J0aGFuZCBmb3IgdXNpbmcgdGhlICd1cGRhdGUnIGV2ZW50LlxuXHRmdW5jdGlvbiB0b29sdGlwcyAoICkge1xuXG5cdFx0Ly8gVG9vbHRpcHMgYXJlIGFkZGVkIHdpdGggb3B0aW9ucy50b29sdGlwcyBpbiBvcmlnaW5hbCBvcmRlci5cblx0XHR2YXIgdGlwcyA9IHNjb3BlX0hhbmRsZXMubWFwKGFkZFRvb2x0aXApO1xuXG5cdFx0YmluZEV2ZW50KCd1cGRhdGUnLCBmdW5jdGlvbih2YWx1ZXMsIGhhbmRsZU51bWJlciwgdW5lbmNvZGVkKSB7XG5cblx0XHRcdGlmICggIXRpcHNbaGFuZGxlTnVtYmVyXSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZm9ybWF0dGVkVmFsdWUgPSB2YWx1ZXNbaGFuZGxlTnVtYmVyXTtcblxuXHRcdFx0aWYgKCBvcHRpb25zLnRvb2x0aXBzW2hhbmRsZU51bWJlcl0gIT09IHRydWUgKSB7XG5cdFx0XHRcdGZvcm1hdHRlZFZhbHVlID0gb3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdLnRvKHVuZW5jb2RlZFtoYW5kbGVOdW1iZXJdKTtcblx0XHRcdH1cblxuXHRcdFx0dGlwc1toYW5kbGVOdW1iZXJdLmlubmVySFRNTCA9IGZvcm1hdHRlZFZhbHVlO1xuXHRcdH0pO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBhcmlhICggKSB7XG5cblx0XHRiaW5kRXZlbnQoJ3VwZGF0ZScsIGZ1bmN0aW9uICggdmFsdWVzLCBoYW5kbGVOdW1iZXIsIHVuZW5jb2RlZCwgdGFwLCBwb3NpdGlvbnMgKSB7XG5cblx0XHRcdC8vIFVwZGF0ZSBBcmlhIFZhbHVlcyBmb3IgYWxsIGhhbmRsZXMsIGFzIGEgY2hhbmdlIGluIG9uZSBjaGFuZ2VzIG1pbiBhbmQgbWF4IHZhbHVlcyBmb3IgdGhlIG5leHQuXG5cdFx0XHRzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oIGhhbmRsZU51bWJlciApe1xuXG5cdFx0XHRcdHZhciBoYW5kbGUgPSBzY29wZV9IYW5kbGVzW2hhbmRsZU51bWJlcl07XG5cblx0XHRcdFx0dmFyIG1pbiA9IGNoZWNrSGFuZGxlUG9zaXRpb24oc2NvcGVfTG9jYXRpb25zLCBoYW5kbGVOdW1iZXIsIDAsIHRydWUsIHRydWUsIHRydWUpO1xuXHRcdFx0XHR2YXIgbWF4ID0gY2hlY2tIYW5kbGVQb3NpdGlvbihzY29wZV9Mb2NhdGlvbnMsIGhhbmRsZU51bWJlciwgMTAwLCB0cnVlLCB0cnVlLCB0cnVlKTtcblxuXHRcdFx0XHR2YXIgbm93ID0gcG9zaXRpb25zW2hhbmRsZU51bWJlcl07XG5cdFx0XHRcdHZhciB0ZXh0ID0gb3B0aW9ucy5hcmlhRm9ybWF0LnRvKHVuZW5jb2RlZFtoYW5kbGVOdW1iZXJdKTtcblxuXHRcdFx0XHRoYW5kbGUuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbWluJywgbWluLnRvRml4ZWQoMSkpO1xuXHRcdFx0XHRoYW5kbGUuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbWF4JywgbWF4LnRvRml4ZWQoMSkpO1xuXHRcdFx0XHRoYW5kbGUuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93Jywgbm93LnRvRml4ZWQoMSkpO1xuXHRcdFx0XHRoYW5kbGUuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVldGV4dCcsIHRleHQpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIGdldEdyb3VwICggbW9kZSwgdmFsdWVzLCBzdGVwcGVkICkge1xuXG5cdFx0Ly8gVXNlIHRoZSByYW5nZS5cblx0XHRpZiAoIG1vZGUgPT09ICdyYW5nZScgfHwgbW9kZSA9PT0gJ3N0ZXBzJyApIHtcblx0XHRcdHJldHVybiBzY29wZV9TcGVjdHJ1bS54VmFsO1xuXHRcdH1cblxuXHRcdGlmICggbW9kZSA9PT0gJ2NvdW50JyApIHtcblxuXHRcdFx0aWYgKCAhdmFsdWVzICkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICd2YWx1ZXMnIHJlcXVpcmVkIGZvciBtb2RlICdjb3VudCcuXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBEaXZpZGUgMCAtIDEwMCBpbiAnY291bnQnIHBhcnRzLlxuXHRcdFx0dmFyIHNwcmVhZCA9ICggMTAwIC8gKHZhbHVlcyAtIDEpICk7XG5cdFx0XHR2YXIgdjtcblx0XHRcdHZhciBpID0gMDtcblxuXHRcdFx0dmFsdWVzID0gW107XG5cblx0XHRcdC8vIExpc3QgdGhlc2UgcGFydHMgYW5kIGhhdmUgdGhlbSBoYW5kbGVkIGFzICdwb3NpdGlvbnMnLlxuXHRcdFx0d2hpbGUgKCAodiA9IGkrKyAqIHNwcmVhZCkgPD0gMTAwICkge1xuXHRcdFx0XHR2YWx1ZXMucHVzaCh2KTtcblx0XHRcdH1cblxuXHRcdFx0bW9kZSA9ICdwb3NpdGlvbnMnO1xuXHRcdH1cblxuXHRcdGlmICggbW9kZSA9PT0gJ3Bvc2l0aW9ucycgKSB7XG5cblx0XHRcdC8vIE1hcCBhbGwgcGVyY2VudGFnZXMgdG8gb24tcmFuZ2UgdmFsdWVzLlxuXHRcdFx0cmV0dXJuIHZhbHVlcy5tYXAoZnVuY3Rpb24oIHZhbHVlICl7XG5cdFx0XHRcdHJldHVybiBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcoIHN0ZXBwZWQgPyBzY29wZV9TcGVjdHJ1bS5nZXRTdGVwKCB2YWx1ZSApIDogdmFsdWUgKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmICggbW9kZSA9PT0gJ3ZhbHVlcycgKSB7XG5cblx0XHRcdC8vIElmIHRoZSB2YWx1ZSBtdXN0IGJlIHN0ZXBwZWQsIGl0IG5lZWRzIHRvIGJlIGNvbnZlcnRlZCB0byBhIHBlcmNlbnRhZ2UgZmlyc3QuXG5cdFx0XHRpZiAoIHN0ZXBwZWQgKSB7XG5cblx0XHRcdFx0cmV0dXJuIHZhbHVlcy5tYXAoZnVuY3Rpb24oIHZhbHVlICl7XG5cblx0XHRcdFx0XHQvLyBDb252ZXJ0IHRvIHBlcmNlbnRhZ2UsIGFwcGx5IHN0ZXAsIHJldHVybiB0byB2YWx1ZS5cblx0XHRcdFx0XHRyZXR1cm4gc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKCBzY29wZV9TcGVjdHJ1bS5nZXRTdGVwKCBzY29wZV9TcGVjdHJ1bS50b1N0ZXBwaW5nKCB2YWx1ZSApICkgKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdH1cblxuXHRcdFx0Ly8gT3RoZXJ3aXNlLCB3ZSBjYW4gc2ltcGx5IHVzZSB0aGUgdmFsdWVzLlxuXHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBnZW5lcmF0ZVNwcmVhZCAoIGRlbnNpdHksIG1vZGUsIGdyb3VwICkge1xuXG5cdFx0ZnVuY3Rpb24gc2FmZUluY3JlbWVudCh2YWx1ZSwgaW5jcmVtZW50KSB7XG5cdFx0XHQvLyBBdm9pZCBmbG9hdGluZyBwb2ludCB2YXJpYW5jZSBieSBkcm9wcGluZyB0aGUgc21hbGxlc3QgZGVjaW1hbCBwbGFjZXMuXG5cdFx0XHRyZXR1cm4gKHZhbHVlICsgaW5jcmVtZW50KS50b0ZpeGVkKDcpIC8gMTtcblx0XHR9XG5cblx0XHR2YXIgaW5kZXhlcyA9IHt9O1xuXHRcdHZhciBmaXJzdEluUmFuZ2UgPSBzY29wZV9TcGVjdHJ1bS54VmFsWzBdO1xuXHRcdHZhciBsYXN0SW5SYW5nZSA9IHNjb3BlX1NwZWN0cnVtLnhWYWxbc2NvcGVfU3BlY3RydW0ueFZhbC5sZW5ndGgtMV07XG5cdFx0dmFyIGlnbm9yZUZpcnN0ID0gZmFsc2U7XG5cdFx0dmFyIGlnbm9yZUxhc3QgPSBmYWxzZTtcblx0XHR2YXIgcHJldlBjdCA9IDA7XG5cblx0XHQvLyBDcmVhdGUgYSBjb3B5IG9mIHRoZSBncm91cCwgc29ydCBpdCBhbmQgZmlsdGVyIGF3YXkgYWxsIGR1cGxpY2F0ZXMuXG5cdFx0Z3JvdXAgPSB1bmlxdWUoZ3JvdXAuc2xpY2UoKS5zb3J0KGZ1bmN0aW9uKGEsIGIpeyByZXR1cm4gYSAtIGI7IH0pKTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGUgcmFuZ2Ugc3RhcnRzIHdpdGggdGhlIGZpcnN0IGVsZW1lbnQuXG5cdFx0aWYgKCBncm91cFswXSAhPT0gZmlyc3RJblJhbmdlICkge1xuXHRcdFx0Z3JvdXAudW5zaGlmdChmaXJzdEluUmFuZ2UpO1xuXHRcdFx0aWdub3JlRmlyc3QgPSB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIExpa2V3aXNlIGZvciB0aGUgbGFzdCBvbmUuXG5cdFx0aWYgKCBncm91cFtncm91cC5sZW5ndGggLSAxXSAhPT0gbGFzdEluUmFuZ2UgKSB7XG5cdFx0XHRncm91cC5wdXNoKGxhc3RJblJhbmdlKTtcblx0XHRcdGlnbm9yZUxhc3QgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGdyb3VwLmZvckVhY2goZnVuY3Rpb24gKCBjdXJyZW50LCBpbmRleCApIHtcblxuXHRcdFx0Ly8gR2V0IHRoZSBjdXJyZW50IHN0ZXAgYW5kIHRoZSBsb3dlciArIHVwcGVyIHBvc2l0aW9ucy5cblx0XHRcdHZhciBzdGVwO1xuXHRcdFx0dmFyIGk7XG5cdFx0XHR2YXIgcTtcblx0XHRcdHZhciBsb3cgPSBjdXJyZW50O1xuXHRcdFx0dmFyIGhpZ2ggPSBncm91cFtpbmRleCsxXTtcblx0XHRcdHZhciBuZXdQY3Q7XG5cdFx0XHR2YXIgcGN0RGlmZmVyZW5jZTtcblx0XHRcdHZhciBwY3RQb3M7XG5cdFx0XHR2YXIgdHlwZTtcblx0XHRcdHZhciBzdGVwcztcblx0XHRcdHZhciByZWFsU3RlcHM7XG5cdFx0XHR2YXIgc3RlcHNpemU7XG5cblx0XHRcdC8vIFdoZW4gdXNpbmcgJ3N0ZXBzJyBtb2RlLCB1c2UgdGhlIHByb3ZpZGVkIHN0ZXBzLlxuXHRcdFx0Ly8gT3RoZXJ3aXNlLCB3ZSdsbCBzdGVwIG9uIHRvIHRoZSBuZXh0IHN1YnJhbmdlLlxuXHRcdFx0aWYgKCBtb2RlID09PSAnc3RlcHMnICkge1xuXHRcdFx0XHRzdGVwID0gc2NvcGVfU3BlY3RydW0ueE51bVN0ZXBzWyBpbmRleCBdO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBEZWZhdWx0IHRvIGEgJ2Z1bGwnIHN0ZXAuXG5cdFx0XHRpZiAoICFzdGVwICkge1xuXHRcdFx0XHRzdGVwID0gaGlnaC1sb3c7XG5cdFx0XHR9XG5cblx0XHRcdC8vIExvdyBjYW4gYmUgMCwgc28gdGVzdCBmb3IgZmFsc2UuIElmIGhpZ2ggaXMgdW5kZWZpbmVkLFxuXHRcdFx0Ly8gd2UgYXJlIGF0IHRoZSBsYXN0IHN1YnJhbmdlLiBJbmRleCAwIGlzIGFscmVhZHkgaGFuZGxlZC5cblx0XHRcdGlmICggbG93ID09PSBmYWxzZSB8fCBoaWdoID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHN0ZXAgaXNuJ3QgMCwgd2hpY2ggd291bGQgY2F1c2UgYW4gaW5maW5pdGUgbG9vcCAoIzY1NClcblx0XHRcdHN0ZXAgPSBNYXRoLm1heChzdGVwLCAwLjAwMDAwMDEpO1xuXG5cdFx0XHQvLyBGaW5kIGFsbCBzdGVwcyBpbiB0aGUgc3VicmFuZ2UuXG5cdFx0XHRmb3IgKCBpID0gbG93OyBpIDw9IGhpZ2g7IGkgPSBzYWZlSW5jcmVtZW50KGksIHN0ZXApICkge1xuXG5cdFx0XHRcdC8vIEdldCB0aGUgcGVyY2VudGFnZSB2YWx1ZSBmb3IgdGhlIGN1cnJlbnQgc3RlcCxcblx0XHRcdFx0Ly8gY2FsY3VsYXRlIHRoZSBzaXplIGZvciB0aGUgc3VicmFuZ2UuXG5cdFx0XHRcdG5ld1BjdCA9IHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcoIGkgKTtcblx0XHRcdFx0cGN0RGlmZmVyZW5jZSA9IG5ld1BjdCAtIHByZXZQY3Q7XG5cblx0XHRcdFx0c3RlcHMgPSBwY3REaWZmZXJlbmNlIC8gZGVuc2l0eTtcblx0XHRcdFx0cmVhbFN0ZXBzID0gTWF0aC5yb3VuZChzdGVwcyk7XG5cblx0XHRcdFx0Ly8gVGhpcyByYXRpbyByZXByZXNlbnRzIHRoZSBhbW1vdW50IG9mIHBlcmNlbnRhZ2Utc3BhY2UgYSBwb2ludCBpbmRpY2F0ZXMuXG5cdFx0XHRcdC8vIEZvciBhIGRlbnNpdHkgMSB0aGUgcG9pbnRzL3BlcmNlbnRhZ2UgPSAxLiBGb3IgZGVuc2l0eSAyLCB0aGF0IHBlcmNlbnRhZ2UgbmVlZHMgdG8gYmUgcmUtZGV2aWRlZC5cblx0XHRcdFx0Ly8gUm91bmQgdGhlIHBlcmNlbnRhZ2Ugb2Zmc2V0IHRvIGFuIGV2ZW4gbnVtYmVyLCB0aGVuIGRpdmlkZSBieSB0d29cblx0XHRcdFx0Ly8gdG8gc3ByZWFkIHRoZSBvZmZzZXQgb24gYm90aCBzaWRlcyBvZiB0aGUgcmFuZ2UuXG5cdFx0XHRcdHN0ZXBzaXplID0gcGN0RGlmZmVyZW5jZS9yZWFsU3RlcHM7XG5cblx0XHRcdFx0Ly8gRGl2aWRlIGFsbCBwb2ludHMgZXZlbmx5LCBhZGRpbmcgdGhlIGNvcnJlY3QgbnVtYmVyIHRvIHRoaXMgc3VicmFuZ2UuXG5cdFx0XHRcdC8vIFJ1biB1cCB0byA8PSBzbyB0aGF0IDEwMCUgZ2V0cyBhIHBvaW50LCBldmVudCBpZiBpZ25vcmVMYXN0IGlzIHNldC5cblx0XHRcdFx0Zm9yICggcSA9IDE7IHEgPD0gcmVhbFN0ZXBzOyBxICs9IDEgKSB7XG5cblx0XHRcdFx0XHQvLyBUaGUgcmF0aW8gYmV0d2VlbiB0aGUgcm91bmRlZCB2YWx1ZSBhbmQgdGhlIGFjdHVhbCBzaXplIG1pZ2h0IGJlIH4xJSBvZmYuXG5cdFx0XHRcdFx0Ly8gQ29ycmVjdCB0aGUgcGVyY2VudGFnZSBvZmZzZXQgYnkgdGhlIG51bWJlciBvZiBwb2ludHNcblx0XHRcdFx0XHQvLyBwZXIgc3VicmFuZ2UuIGRlbnNpdHkgPSAxIHdpbGwgcmVzdWx0IGluIDEwMCBwb2ludHMgb24gdGhlXG5cdFx0XHRcdFx0Ly8gZnVsbCByYW5nZSwgMiBmb3IgNTAsIDQgZm9yIDI1LCBldGMuXG5cdFx0XHRcdFx0cGN0UG9zID0gcHJldlBjdCArICggcSAqIHN0ZXBzaXplICk7XG5cdFx0XHRcdFx0aW5kZXhlc1twY3RQb3MudG9GaXhlZCg1KV0gPSBbJ3gnLCAwXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIERldGVybWluZSB0aGUgcG9pbnQgdHlwZS5cblx0XHRcdFx0dHlwZSA9IChncm91cC5pbmRleE9mKGkpID4gLTEpID8gMSA6ICggbW9kZSA9PT0gJ3N0ZXBzJyA/IDIgOiAwICk7XG5cblx0XHRcdFx0Ly8gRW5mb3JjZSB0aGUgJ2lnbm9yZUZpcnN0JyBvcHRpb24gYnkgb3ZlcndyaXRpbmcgdGhlIHR5cGUgZm9yIDAuXG5cdFx0XHRcdGlmICggIWluZGV4ICYmIGlnbm9yZUZpcnN0ICkge1xuXHRcdFx0XHRcdHR5cGUgPSAwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCAhKGkgPT09IGhpZ2ggJiYgaWdub3JlTGFzdCkpIHtcblx0XHRcdFx0XHQvLyBNYXJrIHRoZSAndHlwZScgb2YgdGhpcyBwb2ludC4gMCA9IHBsYWluLCAxID0gcmVhbCB2YWx1ZSwgMiA9IHN0ZXAgdmFsdWUuXG5cdFx0XHRcdFx0aW5kZXhlc1tuZXdQY3QudG9GaXhlZCg1KV0gPSBbaSwgdHlwZV07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBVcGRhdGUgdGhlIHBlcmNlbnRhZ2UgY291bnQuXG5cdFx0XHRcdHByZXZQY3QgPSBuZXdQY3Q7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gaW5kZXhlcztcblx0fVxuXG5cdGZ1bmN0aW9uIGFkZE1hcmtpbmcgKCBzcHJlYWQsIGZpbHRlckZ1bmMsIGZvcm1hdHRlciApIHtcblxuXHRcdHZhciBlbGVtZW50ID0gc2NvcGVfRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cblx0XHR2YXIgdmFsdWVTaXplQ2xhc3NlcyA9IFtcblx0XHRcdG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZU5vcm1hbCxcblx0XHRcdG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZUxhcmdlLFxuXHRcdFx0b3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlU3ViXG5cdFx0XTtcblx0XHR2YXIgbWFya2VyU2l6ZUNsYXNzZXMgPSBbXG5cdFx0XHRvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyTm9ybWFsLFxuXHRcdFx0b3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlckxhcmdlLFxuXHRcdFx0b3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlclN1YlxuXHRcdF07XG5cdFx0dmFyIHZhbHVlT3JpZW50YXRpb25DbGFzc2VzID0gW1xuXHRcdFx0b3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlSG9yaXpvbnRhbCxcblx0XHRcdG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZVZlcnRpY2FsXG5cdFx0XTtcblx0XHR2YXIgbWFya2VyT3JpZW50YXRpb25DbGFzc2VzID0gW1xuXHRcdFx0b3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlckhvcml6b250YWwsXG5cdFx0XHRvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyVmVydGljYWxcblx0XHRdO1xuXG5cdFx0YWRkQ2xhc3MoZWxlbWVudCwgb3B0aW9ucy5jc3NDbGFzc2VzLnBpcHMpO1xuXHRcdGFkZENsYXNzKGVsZW1lbnQsIG9wdGlvbnMub3J0ID09PSAwID8gb3B0aW9ucy5jc3NDbGFzc2VzLnBpcHNIb3Jpem9udGFsIDogb3B0aW9ucy5jc3NDbGFzc2VzLnBpcHNWZXJ0aWNhbCk7XG5cblx0XHRmdW5jdGlvbiBnZXRDbGFzc2VzKCB0eXBlLCBzb3VyY2UgKXtcblx0XHRcdHZhciBhID0gc291cmNlID09PSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWU7XG5cdFx0XHR2YXIgb3JpZW50YXRpb25DbGFzc2VzID0gYSA/IHZhbHVlT3JpZW50YXRpb25DbGFzc2VzIDogbWFya2VyT3JpZW50YXRpb25DbGFzc2VzO1xuXHRcdFx0dmFyIHNpemVDbGFzc2VzID0gYSA/IHZhbHVlU2l6ZUNsYXNzZXMgOiBtYXJrZXJTaXplQ2xhc3NlcztcblxuXHRcdFx0cmV0dXJuIHNvdXJjZSArICcgJyArIG9yaWVudGF0aW9uQ2xhc3Nlc1tvcHRpb25zLm9ydF0gKyAnICcgKyBzaXplQ2xhc3Nlc1t0eXBlXTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBhZGRTcHJlYWQgKCBvZmZzZXQsIHZhbHVlcyApe1xuXG5cdFx0XHQvLyBBcHBseSB0aGUgZmlsdGVyIGZ1bmN0aW9uLCBpZiBpdCBpcyBzZXQuXG5cdFx0XHR2YWx1ZXNbMV0gPSAodmFsdWVzWzFdICYmIGZpbHRlckZ1bmMpID8gZmlsdGVyRnVuYyh2YWx1ZXNbMF0sIHZhbHVlc1sxXSkgOiB2YWx1ZXNbMV07XG5cblx0XHRcdC8vIEFkZCBhIG1hcmtlciBmb3IgZXZlcnkgcG9pbnRcblx0XHRcdHZhciBub2RlID0gYWRkTm9kZVRvKGVsZW1lbnQsIGZhbHNlKTtcblx0XHRcdFx0bm9kZS5jbGFzc05hbWUgPSBnZXRDbGFzc2VzKHZhbHVlc1sxXSwgb3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlcik7XG5cdFx0XHRcdG5vZGUuc3R5bGVbb3B0aW9ucy5zdHlsZV0gPSBvZmZzZXQgKyAnJSc7XG5cblx0XHRcdC8vIFZhbHVlcyBhcmUgb25seSBhcHBlbmRlZCBmb3IgcG9pbnRzIG1hcmtlZCAnMScgb3IgJzInLlxuXHRcdFx0aWYgKCB2YWx1ZXNbMV0gKSB7XG5cdFx0XHRcdG5vZGUgPSBhZGROb2RlVG8oZWxlbWVudCwgZmFsc2UpO1xuXHRcdFx0XHRub2RlLmNsYXNzTmFtZSA9IGdldENsYXNzZXModmFsdWVzWzFdLCBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWUpO1xuXHRcdFx0XHRub2RlLnN0eWxlW29wdGlvbnMuc3R5bGVdID0gb2Zmc2V0ICsgJyUnO1xuXHRcdFx0XHRub2RlLmlubmVyVGV4dCA9IGZvcm1hdHRlci50byh2YWx1ZXNbMF0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFwcGVuZCBhbGwgcG9pbnRzLlxuXHRcdE9iamVjdC5rZXlzKHNwcmVhZCkuZm9yRWFjaChmdW5jdGlvbihhKXtcblx0XHRcdGFkZFNwcmVhZChhLCBzcHJlYWRbYV0pO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGVsZW1lbnQ7XG5cdH1cblxuXHRmdW5jdGlvbiByZW1vdmVQaXBzICggKSB7XG5cdFx0aWYgKCBzY29wZV9QaXBzICkge1xuXHRcdFx0cmVtb3ZlRWxlbWVudChzY29wZV9QaXBzKTtcblx0XHRcdHNjb3BlX1BpcHMgPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHBpcHMgKCBncmlkICkge1xuXG5cdFx0Ly8gRml4ICM2Njlcblx0XHRyZW1vdmVQaXBzKCk7XG5cblx0XHR2YXIgbW9kZSA9IGdyaWQubW9kZTtcblx0XHR2YXIgZGVuc2l0eSA9IGdyaWQuZGVuc2l0eSB8fCAxO1xuXHRcdHZhciBmaWx0ZXIgPSBncmlkLmZpbHRlciB8fCBmYWxzZTtcblx0XHR2YXIgdmFsdWVzID0gZ3JpZC52YWx1ZXMgfHwgZmFsc2U7XG5cdFx0dmFyIHN0ZXBwZWQgPSBncmlkLnN0ZXBwZWQgfHwgZmFsc2U7XG5cdFx0dmFyIGdyb3VwID0gZ2V0R3JvdXAoIG1vZGUsIHZhbHVlcywgc3RlcHBlZCApO1xuXHRcdHZhciBzcHJlYWQgPSBnZW5lcmF0ZVNwcmVhZCggZGVuc2l0eSwgbW9kZSwgZ3JvdXAgKTtcblx0XHR2YXIgZm9ybWF0ID0gZ3JpZC5mb3JtYXQgfHwge1xuXHRcdFx0dG86IE1hdGgucm91bmRcblx0XHR9O1xuXG5cdFx0c2NvcGVfUGlwcyA9IHNjb3BlX1RhcmdldC5hcHBlbmRDaGlsZChhZGRNYXJraW5nKFxuXHRcdFx0c3ByZWFkLFxuXHRcdFx0ZmlsdGVyLFxuXHRcdFx0Zm9ybWF0XG5cdFx0KSk7XG5cblx0XHRyZXR1cm4gc2NvcGVfUGlwcztcblx0fVxuXG5cblx0Ly8gU2hvcnRoYW5kIGZvciBiYXNlIGRpbWVuc2lvbnMuXG5cdGZ1bmN0aW9uIGJhc2VTaXplICggKSB7XG5cdFx0dmFyIHJlY3QgPSBzY29wZV9CYXNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBhbHQgPSAnb2Zmc2V0JyArIFsnV2lkdGgnLCAnSGVpZ2h0J11bb3B0aW9ucy5vcnRdO1xuXHRcdHJldHVybiBvcHRpb25zLm9ydCA9PT0gMCA/IChyZWN0LndpZHRofHxzY29wZV9CYXNlW2FsdF0pIDogKHJlY3QuaGVpZ2h0fHxzY29wZV9CYXNlW2FsdF0pO1xuXHR9XG5cblx0Ly8gSGFuZGxlciBmb3IgYXR0YWNoaW5nIGV2ZW50cyB0cm91Z2ggYSBwcm94eS5cblx0ZnVuY3Rpb24gYXR0YWNoRXZlbnQgKCBldmVudHMsIGVsZW1lbnQsIGNhbGxiYWNrLCBkYXRhICkge1xuXG5cdFx0Ly8gVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byAnZmlsdGVyJyBldmVudHMgdG8gdGhlIHNsaWRlci5cblx0XHQvLyBlbGVtZW50IGlzIGEgbm9kZSwgbm90IGEgbm9kZUxpc3RcblxuXHRcdHZhciBtZXRob2QgPSBmdW5jdGlvbiAoIGUgKXtcblxuXHRcdFx0aWYgKCBzY29wZV9UYXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0b3AgaWYgYW4gYWN0aXZlICd0YXAnIHRyYW5zaXRpb24gaXMgdGFraW5nIHBsYWNlLlxuXHRcdFx0aWYgKCBoYXNDbGFzcyhzY29wZV9UYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50YXApICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGUgPSBmaXhFdmVudChlLCBkYXRhLnBhZ2VPZmZzZXQsIGRhdGEudGFyZ2V0IHx8IGVsZW1lbnQpO1xuXG5cdFx0XHQvLyBIYW5kbGUgcmVqZWN0IG9mIG11bHRpdG91Y2hcblx0XHRcdGlmICggIWUgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWdub3JlIHJpZ2h0IG9yIG1pZGRsZSBjbGlja3Mgb24gc3RhcnQgIzQ1NFxuXHRcdFx0aWYgKCBldmVudHMgPT09IGFjdGlvbnMuc3RhcnQgJiYgZS5idXR0b25zICE9PSB1bmRlZmluZWQgJiYgZS5idXR0b25zID4gMSApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZ25vcmUgcmlnaHQgb3IgbWlkZGxlIGNsaWNrcyBvbiBzdGFydCAjNDU0XG5cdFx0XHRpZiAoIGRhdGEuaG92ZXIgJiYgZS5idXR0b25zICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vICdzdXBwb3J0c1Bhc3NpdmUnIGlzIG9ubHkgdHJ1ZSBpZiBhIGJyb3dzZXIgYWxzbyBzdXBwb3J0cyB0b3VjaC1hY3Rpb246IG5vbmUgaW4gQ1NTLlxuXHRcdFx0Ly8gaU9TIHNhZmFyaSBkb2VzIG5vdCwgc28gaXQgZG9lc24ndCBnZXQgdG8gYmVuZWZpdCBmcm9tIHBhc3NpdmUgc2Nyb2xsaW5nLiBpT1MgZG9lcyBzdXBwb3J0XG5cdFx0XHQvLyB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbiwgYnV0IHRoYXQgYWxsb3dzIHBhbm5pbmcsIHdoaWNoIGJyZWFrc1xuXHRcdFx0Ly8gc2xpZGVycyBhZnRlciB6b29taW5nL29uIG5vbi1yZXNwb25zaXZlIHBhZ2VzLlxuXHRcdFx0Ly8gU2VlOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTMzMTEyXG5cdFx0XHRpZiAoICFzdXBwb3J0c1Bhc3NpdmUgKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblxuXHRcdFx0ZS5jYWxjUG9pbnQgPSBlLnBvaW50c1sgb3B0aW9ucy5vcnQgXTtcblxuXHRcdFx0Ly8gQ2FsbCB0aGUgZXZlbnQgaGFuZGxlciB3aXRoIHRoZSBldmVudCBbIGFuZCBhZGRpdGlvbmFsIGRhdGEgXS5cblx0XHRcdGNhbGxiYWNrICggZSwgZGF0YSApO1xuXHRcdH07XG5cblx0XHR2YXIgbWV0aG9kcyA9IFtdO1xuXG5cdFx0Ly8gQmluZCBhIGNsb3N1cmUgb24gdGhlIHRhcmdldCBmb3IgZXZlcnkgZXZlbnQgdHlwZS5cblx0XHRldmVudHMuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uKCBldmVudE5hbWUgKXtcblx0XHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIG1ldGhvZCwgc3VwcG9ydHNQYXNzaXZlID8geyBwYXNzaXZlOiB0cnVlIH0gOiBmYWxzZSk7XG5cdFx0XHRtZXRob2RzLnB1c2goW2V2ZW50TmFtZSwgbWV0aG9kXSk7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gbWV0aG9kcztcblx0fVxuXG5cdC8vIFByb3ZpZGUgYSBjbGVhbiBldmVudCB3aXRoIHN0YW5kYXJkaXplZCBvZmZzZXQgdmFsdWVzLlxuXHRmdW5jdGlvbiBmaXhFdmVudCAoIGUsIHBhZ2VPZmZzZXQsIHRhcmdldCApIHtcblxuXHRcdC8vIEZpbHRlciB0aGUgZXZlbnQgdG8gcmVnaXN0ZXIgdGhlIHR5cGUsIHdoaWNoIGNhbiBiZVxuXHRcdC8vIHRvdWNoLCBtb3VzZSBvciBwb2ludGVyLiBPZmZzZXQgY2hhbmdlcyBuZWVkIHRvIGJlXG5cdFx0Ly8gbWFkZSBvbiBhbiBldmVudCBzcGVjaWZpYyBiYXNpcy5cblx0XHR2YXIgdG91Y2ggPSBlLnR5cGUuaW5kZXhPZigndG91Y2gnKSA9PT0gMDtcblx0XHR2YXIgbW91c2UgPSBlLnR5cGUuaW5kZXhPZignbW91c2UnKSA9PT0gMDtcblx0XHR2YXIgcG9pbnRlciA9IGUudHlwZS5pbmRleE9mKCdwb2ludGVyJykgPT09IDA7XG5cblx0XHR2YXIgeDtcblx0XHR2YXIgeTtcblxuXHRcdC8vIElFMTAgaW1wbGVtZW50ZWQgcG9pbnRlciBldmVudHMgd2l0aCBhIHByZWZpeDtcblx0XHRpZiAoIGUudHlwZS5pbmRleE9mKCdNU1BvaW50ZXInKSA9PT0gMCApIHtcblx0XHRcdHBvaW50ZXIgPSB0cnVlO1xuXHRcdH1cblxuXG5cdFx0Ly8gSW4gdGhlIGV2ZW50IHRoYXQgbXVsdGl0b3VjaCBpcyBhY3RpdmF0ZWQsIHRoZSBvbmx5IHRoaW5nIG9uZSBoYW5kbGUgc2hvdWxkIGJlIGNvbmNlcm5lZFxuXHRcdC8vIGFib3V0IGlzIHRoZSB0b3VjaGVzIHRoYXQgb3JpZ2luYXRlZCBvbiB0b3Agb2YgaXQuXG5cdFx0aWYgKCB0b3VjaCAmJiBvcHRpb25zLm11bHRpdG91Y2ggKSB7XG5cdFx0XHQvLyBSZXR1cm5zIHRydWUgaWYgYSB0b3VjaCBvcmlnaW5hdGVkIG9uIHRoZSB0YXJnZXQuXG5cdFx0XHR2YXIgaXNUb3VjaE9uVGFyZ2V0ID0gZnVuY3Rpb24gKHRvdWNoKSB7XG5cdFx0XHRcdHJldHVybiB0b3VjaC50YXJnZXQgPT09IHRhcmdldCB8fCB0YXJnZXQuY29udGFpbnModG91Y2gudGFyZ2V0KTtcblx0XHRcdH07XG5cdFx0XHQvLyBJbiB0aGUgY2FzZSBvZiB0b3VjaHN0YXJ0IGV2ZW50cywgd2UgbmVlZCB0byBtYWtlIHN1cmUgdGhlcmUgaXMgc3RpbGwgbm8gbW9yZSB0aGFuIG9uZVxuXHRcdFx0Ly8gdG91Y2ggb24gdGhlIHRhcmdldCBzbyB3ZSBsb29rIGFtb25nc3QgYWxsIHRvdWNoZXMuXG5cdFx0XHRpZiAoZS50eXBlID09PSAndG91Y2hzdGFydCcpIHtcblx0XHRcdFx0dmFyIHRhcmdldFRvdWNoZXMgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZS50b3VjaGVzLCBpc1RvdWNoT25UYXJnZXQpO1xuXHRcdFx0XHQvLyBEbyBub3Qgc3VwcG9ydCBtb3JlIHRoYW4gb25lIHRvdWNoIHBlciBoYW5kbGUuXG5cdFx0XHRcdGlmICggdGFyZ2V0VG91Y2hlcy5sZW5ndGggPiAxICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHR4ID0gdGFyZ2V0VG91Y2hlc1swXS5wYWdlWDtcblx0XHRcdFx0eSA9IHRhcmdldFRvdWNoZXNbMF0ucGFnZVk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gSW4gdGhlIG90aGVyIGNhc2VzLCBmaW5kIG9uIGNoYW5nZWRUb3VjaGVzIGlzIGVub3VnaC5cblx0XHRcdFx0dmFyIHRhcmdldFRvdWNoID0gQXJyYXkucHJvdG90eXBlLmZpbmQuY2FsbChlLmNoYW5nZWRUb3VjaGVzLCBpc1RvdWNoT25UYXJnZXQpO1xuXHRcdFx0XHQvLyBDYW5jZWwgaWYgdGhlIHRhcmdldCB0b3VjaCBoYXMgbm90IG1vdmVkLlxuXHRcdFx0XHRpZiAoICF0YXJnZXRUb3VjaCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0eCA9IHRhcmdldFRvdWNoLnBhZ2VYO1xuXHRcdFx0XHR5ID0gdGFyZ2V0VG91Y2gucGFnZVk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICggdG91Y2ggKSB7XG5cdFx0XHQvLyBGaXggYnVnIHdoZW4gdXNlciB0b3VjaGVzIHdpdGggdHdvIG9yIG1vcmUgZmluZ2VycyBvbiBtb2JpbGUgZGV2aWNlcy5cblx0XHRcdC8vIEl0J3MgdXNlZnVsIHdoZW4geW91IGhhdmUgdHdvIG9yIG1vcmUgc2xpZGVycyBvbiBvbmUgcGFnZSxcblx0XHRcdC8vIHRoYXQgY2FuIGJlIHRvdWNoZWQgc2ltdWx0YW5lb3VzbHkuXG5cdFx0XHQvLyAjNjQ5LCAjNjYzLCAjNjY4XG5cdFx0XHRpZiAoIGUudG91Y2hlcy5sZW5ndGggPiAxICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIG5vVWlTbGlkZXIgc3VwcG9ydHMgb25lIG1vdmVtZW50IGF0IGEgdGltZSxcblx0XHRcdC8vIHNvIHdlIGNhbiBzZWxlY3QgdGhlIGZpcnN0ICdjaGFuZ2VkVG91Y2gnLlxuXHRcdFx0eCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVg7XG5cdFx0XHR5ID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTtcblx0XHR9XG5cblx0XHRwYWdlT2Zmc2V0ID0gcGFnZU9mZnNldCB8fCBnZXRQYWdlT2Zmc2V0KHNjb3BlX0RvY3VtZW50KTtcblxuXHRcdGlmICggbW91c2UgfHwgcG9pbnRlciApIHtcblx0XHRcdHggPSBlLmNsaWVudFggKyBwYWdlT2Zmc2V0Lng7XG5cdFx0XHR5ID0gZS5jbGllbnRZICsgcGFnZU9mZnNldC55O1xuXHRcdH1cblxuXHRcdGUucGFnZU9mZnNldCA9IHBhZ2VPZmZzZXQ7XG5cdFx0ZS5wb2ludHMgPSBbeCwgeV07XG5cdFx0ZS5jdXJzb3IgPSBtb3VzZSB8fCBwb2ludGVyOyAvLyBGaXggIzQzNVxuXG5cdFx0cmV0dXJuIGU7XG5cdH1cblxuXHQvLyBUcmFuc2xhdGUgYSBjb29yZGluYXRlIGluIHRoZSBkb2N1bWVudCB0byBhIHBlcmNlbnRhZ2Ugb24gdGhlIHNsaWRlclxuXHRmdW5jdGlvbiBjYWxjUG9pbnRUb1BlcmNlbnRhZ2UgKCBjYWxjUG9pbnQgKSB7XG5cdFx0dmFyIGxvY2F0aW9uID0gY2FsY1BvaW50IC0gb2Zmc2V0KHNjb3BlX0Jhc2UsIG9wdGlvbnMub3J0KTtcblx0XHR2YXIgcHJvcG9zYWwgPSAoIGxvY2F0aW9uICogMTAwICkgLyBiYXNlU2l6ZSgpO1xuXHRcdHJldHVybiBvcHRpb25zLmRpciA/IDEwMCAtIHByb3Bvc2FsIDogcHJvcG9zYWw7XG5cdH1cblxuXHQvLyBGaW5kIGhhbmRsZSBjbG9zZXN0IHRvIGEgY2VydGFpbiBwZXJjZW50YWdlIG9uIHRoZSBzbGlkZXJcblx0ZnVuY3Rpb24gZ2V0Q2xvc2VzdEhhbmRsZSAoIHByb3Bvc2FsICkge1xuXG5cdFx0dmFyIGNsb3Nlc3QgPSAxMDA7XG5cdFx0dmFyIGhhbmRsZU51bWJlciA9IGZhbHNlO1xuXG5cdFx0c2NvcGVfSGFuZGxlcy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZSwgaW5kZXgpe1xuXG5cdFx0XHQvLyBEaXNhYmxlZCBoYW5kbGVzIGFyZSBpZ25vcmVkXG5cdFx0XHRpZiAoIGhhbmRsZS5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHBvcyA9IE1hdGguYWJzKHNjb3BlX0xvY2F0aW9uc1tpbmRleF0gLSBwcm9wb3NhbCk7XG5cblx0XHRcdGlmICggcG9zIDwgY2xvc2VzdCApIHtcblx0XHRcdFx0aGFuZGxlTnVtYmVyID0gaW5kZXg7XG5cdFx0XHRcdGNsb3Nlc3QgPSBwb3M7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gaGFuZGxlTnVtYmVyO1xuXHR9XG5cblx0Ly8gTW92ZXMgaGFuZGxlKHMpIGJ5IGEgcGVyY2VudGFnZVxuXHQvLyAoYm9vbCwgJSB0byBtb3ZlLCBbJSB3aGVyZSBoYW5kbGUgc3RhcnRlZCwgLi4uXSwgW2luZGV4IGluIHNjb3BlX0hhbmRsZXMsIC4uLl0pXG5cdGZ1bmN0aW9uIG1vdmVIYW5kbGVzICggdXB3YXJkLCBwcm9wb3NhbCwgbG9jYXRpb25zLCBoYW5kbGVOdW1iZXJzICkge1xuXG5cdFx0dmFyIHByb3Bvc2FscyA9IGxvY2F0aW9ucy5zbGljZSgpO1xuXG5cdFx0dmFyIGIgPSBbIXVwd2FyZCwgdXB3YXJkXTtcblx0XHR2YXIgZiA9IFt1cHdhcmQsICF1cHdhcmRdO1xuXG5cdFx0Ly8gQ29weSBoYW5kbGVOdW1iZXJzIHNvIHdlIGRvbid0IGNoYW5nZSB0aGUgZGF0YXNldFxuXHRcdGhhbmRsZU51bWJlcnMgPSBoYW5kbGVOdW1iZXJzLnNsaWNlKCk7XG5cblx0XHQvLyBDaGVjayB0byBzZWUgd2hpY2ggaGFuZGxlIGlzICdsZWFkaW5nJy5cblx0XHQvLyBJZiB0aGF0IG9uZSBjYW4ndCBtb3ZlIHRoZSBzZWNvbmQgY2FuJ3QgZWl0aGVyLlxuXHRcdGlmICggdXB3YXJkICkge1xuXHRcdFx0aGFuZGxlTnVtYmVycy5yZXZlcnNlKCk7XG5cdFx0fVxuXG5cdFx0Ly8gU3RlcCAxOiBnZXQgdGhlIG1heGltdW0gcGVyY2VudGFnZSB0aGF0IGFueSBvZiB0aGUgaGFuZGxlcyBjYW4gbW92ZVxuXHRcdGlmICggaGFuZGxlTnVtYmVycy5sZW5ndGggPiAxICkge1xuXG5cdFx0XHRoYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyLCBvKSB7XG5cblx0XHRcdFx0dmFyIHRvID0gY2hlY2tIYW5kbGVQb3NpdGlvbihwcm9wb3NhbHMsIGhhbmRsZU51bWJlciwgcHJvcG9zYWxzW2hhbmRsZU51bWJlcl0gKyBwcm9wb3NhbCwgYltvXSwgZltvXSwgZmFsc2UpO1xuXG5cdFx0XHRcdC8vIFN0b3AgaWYgb25lIG9mIHRoZSBoYW5kbGVzIGNhbid0IG1vdmUuXG5cdFx0XHRcdGlmICggdG8gPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdHByb3Bvc2FsID0gMDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRwcm9wb3NhbCA9IHRvIC0gcHJvcG9zYWxzW2hhbmRsZU51bWJlcl07XG5cdFx0XHRcdFx0cHJvcG9zYWxzW2hhbmRsZU51bWJlcl0gPSB0bztcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdXNpbmcgb25lIGhhbmRsZSwgY2hlY2sgYmFja3dhcmQgQU5EIGZvcndhcmRcblx0XHRlbHNlIHtcblx0XHRcdGIgPSBmID0gW3RydWVdO1xuXHRcdH1cblxuXHRcdHZhciBzdGF0ZSA9IGZhbHNlO1xuXG5cdFx0Ly8gU3RlcCAyOiBUcnkgdG8gc2V0IHRoZSBoYW5kbGVzIHdpdGggdGhlIGZvdW5kIHBlcmNlbnRhZ2Vcblx0XHRoYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyLCBvKSB7XG5cdFx0XHRzdGF0ZSA9IHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIGxvY2F0aW9uc1toYW5kbGVOdW1iZXJdICsgcHJvcG9zYWwsIGJbb10sIGZbb10pIHx8IHN0YXRlO1xuXHRcdH0pO1xuXG5cdFx0Ly8gU3RlcCAzOiBJZiBhIGhhbmRsZSBtb3ZlZCwgZmlyZSBldmVudHNcblx0XHRpZiAoIHN0YXRlICkge1xuXHRcdFx0aGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcil7XG5cdFx0XHRcdGZpcmVFdmVudCgndXBkYXRlJywgaGFuZGxlTnVtYmVyKTtcblx0XHRcdFx0ZmlyZUV2ZW50KCdzbGlkZScsIGhhbmRsZU51bWJlcik7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvLyBFeHRlcm5hbCBldmVudCBoYW5kbGluZ1xuXHRmdW5jdGlvbiBmaXJlRXZlbnQgKCBldmVudE5hbWUsIGhhbmRsZU51bWJlciwgdGFwICkge1xuXG5cdFx0T2JqZWN0LmtleXMoc2NvcGVfRXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uKCB0YXJnZXRFdmVudCApIHtcblxuXHRcdFx0dmFyIGV2ZW50VHlwZSA9IHRhcmdldEV2ZW50LnNwbGl0KCcuJylbMF07XG5cblx0XHRcdGlmICggZXZlbnROYW1lID09PSBldmVudFR5cGUgKSB7XG5cdFx0XHRcdHNjb3BlX0V2ZW50c1t0YXJnZXRFdmVudF0uZm9yRWFjaChmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cblx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKFxuXHRcdFx0XHRcdFx0Ly8gVXNlIHRoZSBzbGlkZXIgcHVibGljIEFQSSBhcyB0aGUgc2NvcGUgKCd0aGlzJylcblx0XHRcdFx0XHRcdHNjb3BlX1NlbGYsXG5cdFx0XHRcdFx0XHQvLyBSZXR1cm4gdmFsdWVzIGFzIGFycmF5LCBzbyBhcmdfMVthcmdfMl0gaXMgYWx3YXlzIHZhbGlkLlxuXHRcdFx0XHRcdFx0c2NvcGVfVmFsdWVzLm1hcChvcHRpb25zLmZvcm1hdC50byksXG5cdFx0XHRcdFx0XHQvLyBIYW5kbGUgaW5kZXgsIDAgb3IgMVxuXHRcdFx0XHRcdFx0aGFuZGxlTnVtYmVyLFxuXHRcdFx0XHRcdFx0Ly8gVW5mb3JtYXR0ZWQgc2xpZGVyIHZhbHVlc1xuXHRcdFx0XHRcdFx0c2NvcGVfVmFsdWVzLnNsaWNlKCksXG5cdFx0XHRcdFx0XHQvLyBFdmVudCBpcyBmaXJlZCBieSB0YXAsIHRydWUgb3IgZmFsc2Vcblx0XHRcdFx0XHRcdHRhcCB8fCBmYWxzZSxcblx0XHRcdFx0XHRcdC8vIExlZnQgb2Zmc2V0IG9mIHRoZSBoYW5kbGUsIGluIHJlbGF0aW9uIHRvIHRoZSBzbGlkZXJcblx0XHRcdFx0XHRcdHNjb3BlX0xvY2F0aW9ucy5zbGljZSgpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXG5cdC8vIEZpcmUgJ2VuZCcgd2hlbiBhIG1vdXNlIG9yIHBlbiBsZWF2ZXMgdGhlIGRvY3VtZW50LlxuXHRmdW5jdGlvbiBkb2N1bWVudExlYXZlICggZXZlbnQsIGRhdGEgKSB7XG5cdFx0aWYgKCBldmVudC50eXBlID09PSBcIm1vdXNlb3V0XCIgJiYgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSBcIkhUTUxcIiAmJiBldmVudC5yZWxhdGVkVGFyZ2V0ID09PSBudWxsICl7XG5cdFx0XHRldmVudEVuZCAoZXZlbnQsIGRhdGEpO1xuXHRcdH1cblx0fVxuXG5cdC8vIEhhbmRsZSBtb3ZlbWVudCBvbiBkb2N1bWVudCBmb3IgaGFuZGxlIGFuZCByYW5nZSBkcmFnLlxuXHRmdW5jdGlvbiBldmVudE1vdmUgKCBldmVudCwgZGF0YSApIHtcblxuXHRcdC8vIEZpeCAjNDk4XG5cdFx0Ly8gQ2hlY2sgdmFsdWUgb2YgLmJ1dHRvbnMgaW4gJ3N0YXJ0JyB0byB3b3JrIGFyb3VuZCBhIGJ1ZyBpbiBJRTEwIG1vYmlsZSAoZGF0YS5idXR0b25zUHJvcGVydHkpLlxuXHRcdC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvOTI3MDA1L21vYmlsZS1pZTEwLXdpbmRvd3MtcGhvbmUtYnV0dG9ucy1wcm9wZXJ0eS1vZi1wb2ludGVybW92ZS1ldmVudC1hbHdheXMtemVyb1xuXHRcdC8vIElFOSBoYXMgLmJ1dHRvbnMgYW5kIC53aGljaCB6ZXJvIG9uIG1vdXNlbW92ZS5cblx0XHQvLyBGaXJlZm94IGJyZWFrcyB0aGUgc3BlYyBNRE4gZGVmaW5lcy5cblx0XHRpZiAoIG5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoXCJNU0lFIDlcIikgPT09IC0xICYmIGV2ZW50LmJ1dHRvbnMgPT09IDAgJiYgZGF0YS5idXR0b25zUHJvcGVydHkgIT09IDAgKSB7XG5cdFx0XHRyZXR1cm4gZXZlbnRFbmQoZXZlbnQsIGRhdGEpO1xuXHRcdH1cblxuXHRcdC8vIENoZWNrIGlmIHdlIGFyZSBtb3ZpbmcgdXAgb3IgZG93blxuXHRcdHZhciBtb3ZlbWVudCA9IChvcHRpb25zLmRpciA/IC0xIDogMSkgKiAoZXZlbnQuY2FsY1BvaW50IC0gZGF0YS5zdGFydENhbGNQb2ludCk7XG5cblx0XHQvLyBDb252ZXJ0IHRoZSBtb3ZlbWVudCBpbnRvIGEgcGVyY2VudGFnZSBvZiB0aGUgc2xpZGVyIHdpZHRoL2hlaWdodFxuXHRcdHZhciBwcm9wb3NhbCA9IChtb3ZlbWVudCAqIDEwMCkgLyBkYXRhLmJhc2VTaXplO1xuXG5cdFx0bW92ZUhhbmRsZXMobW92ZW1lbnQgPiAwLCBwcm9wb3NhbCwgZGF0YS5sb2NhdGlvbnMsIGRhdGEuaGFuZGxlTnVtYmVycyk7XG5cdH1cblxuXHQvLyBVbmJpbmQgbW92ZSBldmVudHMgb24gZG9jdW1lbnQsIGNhbGwgY2FsbGJhY2tzLlxuXHRmdW5jdGlvbiBldmVudEVuZCAoIGV2ZW50LCBkYXRhICkge1xuXG5cdFx0Ly8gVGhlIGhhbmRsZSBpcyBubyBsb25nZXIgYWN0aXZlLCBzbyByZW1vdmUgdGhlIGNsYXNzLlxuXHRcdGlmICggZGF0YS5oYW5kbGUgKSB7XG5cdFx0XHRyZW1vdmVDbGFzcyhkYXRhLmhhbmRsZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmFjdGl2ZSk7XG5cdFx0XHRzY29wZV9BY3RpdmVIYW5kbGVzQ291bnQgLT0gMTtcblx0XHR9XG5cblx0XHQvLyBVbmJpbmQgdGhlIG1vdmUgYW5kIGVuZCBldmVudHMsIHdoaWNoIGFyZSBhZGRlZCBvbiAnc3RhcnQnLlxuXHRcdGRhdGEubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oIGMgKSB7XG5cdFx0XHRzY29wZV9Eb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihjWzBdLCBjWzFdKTtcblx0XHR9KTtcblxuXHRcdGlmICggc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ID09PSAwICkge1xuXHRcdFx0Ly8gUmVtb3ZlIGRyYWdnaW5nIGNsYXNzLlxuXHRcdFx0cmVtb3ZlQ2xhc3Moc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMuZHJhZyk7XG5cdFx0XHRzZXRaaW5kZXgoKTtcblxuXHRcdFx0Ly8gUmVtb3ZlIGN1cnNvciBzdHlsZXMgYW5kIHRleHQtc2VsZWN0aW9uIGV2ZW50cyBib3VuZCB0byB0aGUgYm9keS5cblx0XHRcdGlmICggZXZlbnQuY3Vyc29yICkge1xuXHRcdFx0XHRzY29wZV9Cb2R5LnN0eWxlLmN1cnNvciA9ICcnO1xuXHRcdFx0XHRzY29wZV9Cb2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0JywgcHJldmVudERlZmF1bHQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGRhdGEuaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcil7XG5cdFx0XHRmaXJlRXZlbnQoJ2NoYW5nZScsIGhhbmRsZU51bWJlcik7XG5cdFx0XHRmaXJlRXZlbnQoJ3NldCcsIGhhbmRsZU51bWJlcik7XG5cdFx0XHRmaXJlRXZlbnQoJ2VuZCcsIGhhbmRsZU51bWJlcik7XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBCaW5kIG1vdmUgZXZlbnRzIG9uIGRvY3VtZW50LlxuXHRmdW5jdGlvbiBldmVudFN0YXJ0ICggZXZlbnQsIGRhdGEgKSB7XG5cblx0XHR2YXIgaGFuZGxlO1xuXHRcdGlmICggZGF0YS5oYW5kbGVOdW1iZXJzLmxlbmd0aCA9PT0gMSApIHtcblxuXHRcdFx0dmFyIGhhbmRsZU9yaWdpbiA9IHNjb3BlX0hhbmRsZXNbZGF0YS5oYW5kbGVOdW1iZXJzWzBdXTtcblxuXHRcdFx0Ly8gSWdub3JlICdkaXNhYmxlZCcgaGFuZGxlc1xuXHRcdFx0aWYgKCBoYW5kbGVPcmlnaW4uaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGhhbmRsZSA9IGhhbmRsZU9yaWdpbi5jaGlsZHJlblswXTtcblx0XHRcdHNjb3BlX0FjdGl2ZUhhbmRsZXNDb3VudCArPSAxO1xuXG5cdFx0XHQvLyBNYXJrIHRoZSBoYW5kbGUgYXMgJ2FjdGl2ZScgc28gaXQgY2FuIGJlIHN0eWxlZC5cblx0XHRcdGFkZENsYXNzKGhhbmRsZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmFjdGl2ZSk7XG5cdFx0fVxuXG5cdFx0Ly8gQSBkcmFnIHNob3VsZCBuZXZlciBwcm9wYWdhdGUgdXAgdG8gdGhlICd0YXAnIGV2ZW50LlxuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG5cdFx0Ly8gUmVjb3JkIHRoZSBldmVudCBsaXN0ZW5lcnMuXG5cdFx0dmFyIGxpc3RlbmVycyA9IFtdO1xuXG5cdFx0Ly8gQXR0YWNoIHRoZSBtb3ZlIGFuZCBlbmQgZXZlbnRzLlxuXHRcdHZhciBtb3ZlRXZlbnQgPSBhdHRhY2hFdmVudChhY3Rpb25zLm1vdmUsIHNjb3BlX0RvY3VtZW50RWxlbWVudCwgZXZlbnRNb3ZlLCB7XG5cdFx0XHQvLyBUaGUgZXZlbnQgdGFyZ2V0IGhhcyBjaGFuZ2VkIHNvIHdlIG5lZWQgdG8gcHJvcGFnYXRlIHRoZSBvcmlnaW5hbCBvbmUgc28gdGhhdCB3ZSBrZWVwXG5cdFx0XHQvLyByZWx5aW5nIG9uIGl0IHRvIGV4dHJhY3QgdGFyZ2V0IHRvdWNoZXMuXG5cdFx0XHR0YXJnZXQ6IGV2ZW50LnRhcmdldCxcblx0XHRcdGhhbmRsZTogaGFuZGxlLFxuXHRcdFx0bGlzdGVuZXJzOiBsaXN0ZW5lcnMsXG5cdFx0XHRzdGFydENhbGNQb2ludDogZXZlbnQuY2FsY1BvaW50LFxuXHRcdFx0YmFzZVNpemU6IGJhc2VTaXplKCksXG5cdFx0XHRwYWdlT2Zmc2V0OiBldmVudC5wYWdlT2Zmc2V0LFxuXHRcdFx0aGFuZGxlTnVtYmVyczogZGF0YS5oYW5kbGVOdW1iZXJzLFxuXHRcdFx0YnV0dG9uc1Byb3BlcnR5OiBldmVudC5idXR0b25zLFxuXHRcdFx0bG9jYXRpb25zOiBzY29wZV9Mb2NhdGlvbnMuc2xpY2UoKVxuXHRcdH0pO1xuXG5cdFx0dmFyIGVuZEV2ZW50ID0gYXR0YWNoRXZlbnQoYWN0aW9ucy5lbmQsIHNjb3BlX0RvY3VtZW50RWxlbWVudCwgZXZlbnRFbmQsIHtcblx0XHRcdHRhcmdldDogZXZlbnQudGFyZ2V0LFxuXHRcdFx0aGFuZGxlOiBoYW5kbGUsXG5cdFx0XHRsaXN0ZW5lcnM6IGxpc3RlbmVycyxcblx0XHRcdGhhbmRsZU51bWJlcnM6IGRhdGEuaGFuZGxlTnVtYmVyc1xuXHRcdH0pO1xuXG5cdFx0dmFyIG91dEV2ZW50ID0gYXR0YWNoRXZlbnQoXCJtb3VzZW91dFwiLCBzY29wZV9Eb2N1bWVudEVsZW1lbnQsIGRvY3VtZW50TGVhdmUsIHtcblx0XHRcdHRhcmdldDogZXZlbnQudGFyZ2V0LFxuXHRcdFx0aGFuZGxlOiBoYW5kbGUsXG5cdFx0XHRsaXN0ZW5lcnM6IGxpc3RlbmVycyxcblx0XHRcdGhhbmRsZU51bWJlcnM6IGRhdGEuaGFuZGxlTnVtYmVyc1xuXHRcdH0pO1xuXG5cdFx0Ly8gV2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgcHVzaGVkIHRoZSBsaXN0ZW5lcnMgaW4gdGhlIGxpc3RlbmVyIGxpc3QgcmF0aGVyIHRoYW4gY3JlYXRpbmdcblx0XHQvLyBhIG5ldyBvbmUgYXMgaXQgaGFzIGFscmVhZHkgYmVlbiBwYXNzZWQgdG8gdGhlIGV2ZW50IGhhbmRsZXJzLlxuXHRcdGxpc3RlbmVycy5wdXNoLmFwcGx5KGxpc3RlbmVycywgbW92ZUV2ZW50LmNvbmNhdChlbmRFdmVudCwgb3V0RXZlbnQpKTtcblxuXHRcdC8vIFRleHQgc2VsZWN0aW9uIGlzbid0IGFuIGlzc3VlIG9uIHRvdWNoIGRldmljZXMsXG5cdFx0Ly8gc28gYWRkaW5nIGN1cnNvciBzdHlsZXMgY2FuIGJlIHNraXBwZWQuXG5cdFx0aWYgKCBldmVudC5jdXJzb3IgKSB7XG5cblx0XHRcdC8vIFByZXZlbnQgdGhlICdJJyBjdXJzb3IgYW5kIGV4dGVuZCB0aGUgcmFuZ2UtZHJhZyBjdXJzb3IuXG5cdFx0XHRzY29wZV9Cb2R5LnN0eWxlLmN1cnNvciA9IGdldENvbXB1dGVkU3R5bGUoZXZlbnQudGFyZ2V0KS5jdXJzb3I7XG5cblx0XHRcdC8vIE1hcmsgdGhlIHRhcmdldCB3aXRoIGEgZHJhZ2dpbmcgc3RhdGUuXG5cdFx0XHRpZiAoIHNjb3BlX0hhbmRsZXMubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0YWRkQ2xhc3Moc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMuZHJhZyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFByZXZlbnQgdGV4dCBzZWxlY3Rpb24gd2hlbiBkcmFnZ2luZyB0aGUgaGFuZGxlcy5cblx0XHRcdC8vIEluIG5vVWlTbGlkZXIgPD0gOS4yLjAsIHRoaXMgd2FzIGhhbmRsZWQgYnkgY2FsbGluZyBwcmV2ZW50RGVmYXVsdCBvbiBtb3VzZS90b3VjaCBzdGFydC9tb3ZlLFxuXHRcdFx0Ly8gd2hpY2ggaXMgc2Nyb2xsIGJsb2NraW5nLiBUaGUgc2VsZWN0c3RhcnQgZXZlbnQgaXMgc3VwcG9ydGVkIGJ5IEZpcmVGb3ggc3RhcnRpbmcgZnJvbSB2ZXJzaW9uIDUyLFxuXHRcdFx0Ly8gbWVhbmluZyB0aGUgb25seSBob2xkb3V0IGlzIGlPUyBTYWZhcmkuIFRoaXMgZG9lc24ndCBtYXR0ZXI6IHRleHQgc2VsZWN0aW9uIGlzbid0IHRyaWdnZXJlZCB0aGVyZS5cblx0XHRcdC8vIFRoZSAnY3Vyc29yJyBmbGFnIGlzIGZhbHNlLlxuXHRcdFx0Ly8gU2VlOiBodHRwOi8vY2FuaXVzZS5jb20vI3NlYXJjaD1zZWxlY3RzdGFydFxuXHRcdFx0c2NvcGVfQm9keS5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIHByZXZlbnREZWZhdWx0LCBmYWxzZSk7XG5cdFx0fVxuXG5cdFx0ZGF0YS5oYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyKXtcblx0XHRcdGZpcmVFdmVudCgnc3RhcnQnLCBoYW5kbGVOdW1iZXIpO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gTW92ZSBjbG9zZXN0IGhhbmRsZSB0byB0YXBwZWQgbG9jYXRpb24uXG5cdGZ1bmN0aW9uIGV2ZW50VGFwICggZXZlbnQgKSB7XG5cblx0XHQvLyBUaGUgdGFwIGV2ZW50IHNob3VsZG4ndCBwcm9wYWdhdGUgdXBcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuXHRcdHZhciBwcm9wb3NhbCA9IGNhbGNQb2ludFRvUGVyY2VudGFnZShldmVudC5jYWxjUG9pbnQpO1xuXHRcdHZhciBoYW5kbGVOdW1iZXIgPSBnZXRDbG9zZXN0SGFuZGxlKHByb3Bvc2FsKTtcblxuXHRcdC8vIFRhY2tsZSB0aGUgY2FzZSB0aGF0IGFsbCBoYW5kbGVzIGFyZSAnZGlzYWJsZWQnLlxuXHRcdGlmICggaGFuZGxlTnVtYmVyID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBGbGFnIHRoZSBzbGlkZXIgYXMgaXQgaXMgbm93IGluIGEgdHJhbnNpdGlvbmFsIHN0YXRlLlxuXHRcdC8vIFRyYW5zaXRpb24gdGFrZXMgYSBjb25maWd1cmFibGUgYW1vdW50IG9mIG1zIChkZWZhdWx0IDMwMCkuIFJlLWVuYWJsZSB0aGUgc2xpZGVyIGFmdGVyIHRoYXQuXG5cdFx0aWYgKCAhb3B0aW9ucy5ldmVudHMuc25hcCApIHtcblx0XHRcdGFkZENsYXNzRm9yKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRhcCwgb3B0aW9ucy5hbmltYXRpb25EdXJhdGlvbik7XG5cdFx0fVxuXG5cdFx0c2V0SGFuZGxlKGhhbmRsZU51bWJlciwgcHJvcG9zYWwsIHRydWUsIHRydWUpO1xuXG5cdFx0c2V0WmluZGV4KCk7XG5cblx0XHRmaXJlRXZlbnQoJ3NsaWRlJywgaGFuZGxlTnVtYmVyLCB0cnVlKTtcblx0XHRmaXJlRXZlbnQoJ3VwZGF0ZScsIGhhbmRsZU51bWJlciwgdHJ1ZSk7XG5cdFx0ZmlyZUV2ZW50KCdjaGFuZ2UnLCBoYW5kbGVOdW1iZXIsIHRydWUpO1xuXHRcdGZpcmVFdmVudCgnc2V0JywgaGFuZGxlTnVtYmVyLCB0cnVlKTtcblxuXHRcdGlmICggb3B0aW9ucy5ldmVudHMuc25hcCApIHtcblx0XHRcdGV2ZW50U3RhcnQoZXZlbnQsIHsgaGFuZGxlTnVtYmVyczogW2hhbmRsZU51bWJlcl0gfSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gRmlyZXMgYSAnaG92ZXInIGV2ZW50IGZvciBhIGhvdmVyZWQgbW91c2UvcGVuIHBvc2l0aW9uLlxuXHRmdW5jdGlvbiBldmVudEhvdmVyICggZXZlbnQgKSB7XG5cblx0XHR2YXIgcHJvcG9zYWwgPSBjYWxjUG9pbnRUb1BlcmNlbnRhZ2UoZXZlbnQuY2FsY1BvaW50KTtcblxuXHRcdHZhciB0byA9IHNjb3BlX1NwZWN0cnVtLmdldFN0ZXAocHJvcG9zYWwpO1xuXHRcdHZhciB2YWx1ZSA9IHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyh0byk7XG5cblx0XHRPYmplY3Qua2V5cyhzY29wZV9FdmVudHMpLmZvckVhY2goZnVuY3Rpb24oIHRhcmdldEV2ZW50ICkge1xuXHRcdFx0aWYgKCAnaG92ZXInID09PSB0YXJnZXRFdmVudC5zcGxpdCgnLicpWzBdICkge1xuXHRcdFx0XHRzY29wZV9FdmVudHNbdGFyZ2V0RXZlbnRdLmZvckVhY2goZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwoIHNjb3BlX1NlbGYsIHZhbHVlICk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0Ly8gQXR0YWNoIGV2ZW50cyB0byBzZXZlcmFsIHNsaWRlciBwYXJ0cy5cblx0ZnVuY3Rpb24gYmluZFNsaWRlckV2ZW50cyAoIGJlaGF2aW91ciApIHtcblxuXHRcdC8vIEF0dGFjaCB0aGUgc3RhbmRhcmQgZHJhZyBldmVudCB0byB0aGUgaGFuZGxlcy5cblx0XHRpZiAoICFiZWhhdmlvdXIuZml4ZWQgKSB7XG5cblx0XHRcdHNjb3BlX0hhbmRsZXMuZm9yRWFjaChmdW5jdGlvbiggaGFuZGxlLCBpbmRleCApe1xuXG5cdFx0XHRcdC8vIFRoZXNlIGV2ZW50cyBhcmUgb25seSBib3VuZCB0byB0aGUgdmlzdWFsIGhhbmRsZVxuXHRcdFx0XHQvLyBlbGVtZW50LCBub3QgdGhlICdyZWFsJyBvcmlnaW4gZWxlbWVudC5cblx0XHRcdFx0YXR0YWNoRXZlbnQgKCBhY3Rpb25zLnN0YXJ0LCBoYW5kbGUuY2hpbGRyZW5bMF0sIGV2ZW50U3RhcnQsIHtcblx0XHRcdFx0XHRoYW5kbGVOdW1iZXJzOiBbaW5kZXhdXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Ly8gQXR0YWNoIHRoZSB0YXAgZXZlbnQgdG8gdGhlIHNsaWRlciBiYXNlLlxuXHRcdGlmICggYmVoYXZpb3VyLnRhcCApIHtcblx0XHRcdGF0dGFjaEV2ZW50IChhY3Rpb25zLnN0YXJ0LCBzY29wZV9CYXNlLCBldmVudFRhcCwge30pO1xuXHRcdH1cblxuXHRcdC8vIEZpcmUgaG92ZXIgZXZlbnRzXG5cdFx0aWYgKCBiZWhhdmlvdXIuaG92ZXIgKSB7XG5cdFx0XHRhdHRhY2hFdmVudCAoYWN0aW9ucy5tb3ZlLCBzY29wZV9CYXNlLCBldmVudEhvdmVyLCB7IGhvdmVyOiB0cnVlIH0pO1xuXHRcdH1cblxuXHRcdC8vIE1ha2UgdGhlIHJhbmdlIGRyYWdnYWJsZS5cblx0XHRpZiAoIGJlaGF2aW91ci5kcmFnICl7XG5cblx0XHRcdHNjb3BlX0Nvbm5lY3RzLmZvckVhY2goZnVuY3Rpb24oIGNvbm5lY3QsIGluZGV4ICl7XG5cblx0XHRcdFx0aWYgKCBjb25uZWN0ID09PSBmYWxzZSB8fCBpbmRleCA9PT0gMCB8fCBpbmRleCA9PT0gc2NvcGVfQ29ubmVjdHMubGVuZ3RoIC0gMSApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgaGFuZGxlQmVmb3JlID0gc2NvcGVfSGFuZGxlc1tpbmRleCAtIDFdO1xuXHRcdFx0XHR2YXIgaGFuZGxlQWZ0ZXIgPSBzY29wZV9IYW5kbGVzW2luZGV4XTtcblx0XHRcdFx0dmFyIGV2ZW50SG9sZGVycyA9IFtjb25uZWN0XTtcblxuXHRcdFx0XHRhZGRDbGFzcyhjb25uZWN0LCBvcHRpb25zLmNzc0NsYXNzZXMuZHJhZ2dhYmxlKTtcblxuXHRcdFx0XHQvLyBXaGVuIHRoZSByYW5nZSBpcyBmaXhlZCwgdGhlIGVudGlyZSByYW5nZSBjYW5cblx0XHRcdFx0Ly8gYmUgZHJhZ2dlZCBieSB0aGUgaGFuZGxlcy4gVGhlIGhhbmRsZSBpbiB0aGUgZmlyc3Rcblx0XHRcdFx0Ly8gb3JpZ2luIHdpbGwgcHJvcGFnYXRlIHRoZSBzdGFydCBldmVudCB1cHdhcmQsXG5cdFx0XHRcdC8vIGJ1dCBpdCBuZWVkcyB0byBiZSBib3VuZCBtYW51YWxseSBvbiB0aGUgb3RoZXIuXG5cdFx0XHRcdGlmICggYmVoYXZpb3VyLmZpeGVkICkge1xuXHRcdFx0XHRcdGV2ZW50SG9sZGVycy5wdXNoKGhhbmRsZUJlZm9yZS5jaGlsZHJlblswXSk7XG5cdFx0XHRcdFx0ZXZlbnRIb2xkZXJzLnB1c2goaGFuZGxlQWZ0ZXIuY2hpbGRyZW5bMF0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZXZlbnRIb2xkZXJzLmZvckVhY2goZnVuY3Rpb24oIGV2ZW50SG9sZGVyICkge1xuXHRcdFx0XHRcdGF0dGFjaEV2ZW50ICggYWN0aW9ucy5zdGFydCwgZXZlbnRIb2xkZXIsIGV2ZW50U3RhcnQsIHtcblx0XHRcdFx0XHRcdGhhbmRsZXM6IFtoYW5kbGVCZWZvcmUsIGhhbmRsZUFmdGVyXSxcblx0XHRcdFx0XHRcdGhhbmRsZU51bWJlcnM6IFtpbmRleCAtIDEsIGluZGV4XVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cblx0Ly8gU3BsaXQgb3V0IHRoZSBoYW5kbGUgcG9zaXRpb25pbmcgbG9naWMgc28gdGhlIE1vdmUgZXZlbnQgY2FuIHVzZSBpdCwgdG9vXG5cdGZ1bmN0aW9uIGNoZWNrSGFuZGxlUG9zaXRpb24gKCByZWZlcmVuY2UsIGhhbmRsZU51bWJlciwgdG8sIGxvb2tCYWNrd2FyZCwgbG9va0ZvcndhcmQsIGdldFZhbHVlICkge1xuXG5cdFx0Ly8gRm9yIHNsaWRlcnMgd2l0aCBtdWx0aXBsZSBoYW5kbGVzLCBsaW1pdCBtb3ZlbWVudCB0byB0aGUgb3RoZXIgaGFuZGxlLlxuXHRcdC8vIEFwcGx5IHRoZSBtYXJnaW4gb3B0aW9uIGJ5IGFkZGluZyBpdCB0byB0aGUgaGFuZGxlIHBvc2l0aW9ucy5cblx0XHRpZiAoIHNjb3BlX0hhbmRsZXMubGVuZ3RoID4gMSApIHtcblxuXHRcdFx0aWYgKCBsb29rQmFja3dhcmQgJiYgaGFuZGxlTnVtYmVyID4gMCApIHtcblx0XHRcdFx0dG8gPSBNYXRoLm1heCh0bywgcmVmZXJlbmNlW2hhbmRsZU51bWJlciAtIDFdICsgb3B0aW9ucy5tYXJnaW4pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGxvb2tGb3J3YXJkICYmIGhhbmRsZU51bWJlciA8IHNjb3BlX0hhbmRsZXMubGVuZ3RoIC0gMSApIHtcblx0XHRcdFx0dG8gPSBNYXRoLm1pbih0bywgcmVmZXJlbmNlW2hhbmRsZU51bWJlciArIDFdIC0gb3B0aW9ucy5tYXJnaW4pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFRoZSBsaW1pdCBvcHRpb24gaGFzIHRoZSBvcHBvc2l0ZSBlZmZlY3QsIGxpbWl0aW5nIGhhbmRsZXMgdG8gYVxuXHRcdC8vIG1heGltdW0gZGlzdGFuY2UgZnJvbSBhbm90aGVyLiBMaW1pdCBtdXN0IGJlID4gMCwgYXMgb3RoZXJ3aXNlXG5cdFx0Ly8gaGFuZGxlcyB3b3VsZCBiZSB1bm1vdmVhYmxlLlxuXHRcdGlmICggc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxICYmIG9wdGlvbnMubGltaXQgKSB7XG5cblx0XHRcdGlmICggbG9va0JhY2t3YXJkICYmIGhhbmRsZU51bWJlciA+IDAgKSB7XG5cdFx0XHRcdHRvID0gTWF0aC5taW4odG8sIHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgLSAxXSArIG9wdGlvbnMubGltaXQpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGxvb2tGb3J3YXJkICYmIGhhbmRsZU51bWJlciA8IHNjb3BlX0hhbmRsZXMubGVuZ3RoIC0gMSApIHtcblx0XHRcdFx0dG8gPSBNYXRoLm1heCh0bywgcmVmZXJlbmNlW2hhbmRsZU51bWJlciArIDFdIC0gb3B0aW9ucy5saW1pdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gVGhlIHBhZGRpbmcgb3B0aW9uIGtlZXBzIHRoZSBoYW5kbGVzIGEgY2VydGFpbiBkaXN0YW5jZSBmcm9tIHRoZVxuXHRcdC8vIGVkZ2VzIG9mIHRoZSBzbGlkZXIuIFBhZGRpbmcgbXVzdCBiZSA+IDAuXG5cdFx0aWYgKCBvcHRpb25zLnBhZGRpbmcgKSB7XG5cblx0XHRcdGlmICggaGFuZGxlTnVtYmVyID09PSAwICkge1xuXHRcdFx0XHR0byA9IE1hdGgubWF4KHRvLCBvcHRpb25zLnBhZGRpbmcpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGhhbmRsZU51bWJlciA9PT0gc2NvcGVfSGFuZGxlcy5sZW5ndGggLSAxICkge1xuXHRcdFx0XHR0byA9IE1hdGgubWluKHRvLCAxMDAgLSBvcHRpb25zLnBhZGRpbmcpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRvID0gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcCh0byk7XG5cblx0XHQvLyBMaW1pdCBwZXJjZW50YWdlIHRvIHRoZSAwIC0gMTAwIHJhbmdlXG5cdFx0dG8gPSBsaW1pdCh0byk7XG5cblx0XHQvLyBSZXR1cm4gZmFsc2UgaWYgaGFuZGxlIGNhbid0IG1vdmVcblx0XHRpZiAoIHRvID09PSByZWZlcmVuY2VbaGFuZGxlTnVtYmVyXSAmJiAhZ2V0VmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRvO1xuXHR9XG5cblx0ZnVuY3Rpb24gdG9QY3QgKCBwY3QgKSB7XG5cdFx0cmV0dXJuIHBjdCArICclJztcblx0fVxuXG5cdC8vIFVwZGF0ZXMgc2NvcGVfTG9jYXRpb25zIGFuZCBzY29wZV9WYWx1ZXMsIHVwZGF0ZXMgdmlzdWFsIHN0YXRlXG5cdGZ1bmN0aW9uIHVwZGF0ZUhhbmRsZVBvc2l0aW9uICggaGFuZGxlTnVtYmVyLCB0byApIHtcblxuXHRcdC8vIFVwZGF0ZSBsb2NhdGlvbnMuXG5cdFx0c2NvcGVfTG9jYXRpb25zW2hhbmRsZU51bWJlcl0gPSB0bztcblxuXHRcdC8vIENvbnZlcnQgdGhlIHZhbHVlIHRvIHRoZSBzbGlkZXIgc3RlcHBpbmcvcmFuZ2UuXG5cdFx0c2NvcGVfVmFsdWVzW2hhbmRsZU51bWJlcl0gPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcodG8pO1xuXG5cdFx0Ly8gQ2FsbGVkIHN5bmNocm9ub3VzbHkgb3Igb24gdGhlIG5leHQgYW5pbWF0aW9uRnJhbWVcblx0XHR2YXIgc3RhdGVVcGRhdGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdHNjb3BlX0hhbmRsZXNbaGFuZGxlTnVtYmVyXS5zdHlsZVtvcHRpb25zLnN0eWxlXSA9IHRvUGN0KHRvKTtcblx0XHRcdHVwZGF0ZUNvbm5lY3QoaGFuZGxlTnVtYmVyKTtcblx0XHRcdHVwZGF0ZUNvbm5lY3QoaGFuZGxlTnVtYmVyICsgMSk7XG5cdFx0fTtcblxuXHRcdC8vIFNldCB0aGUgaGFuZGxlIHRvIHRoZSBuZXcgcG9zaXRpb24uXG5cdFx0Ly8gVXNlIHJlcXVlc3RBbmltYXRpb25GcmFtZSBmb3IgZWZmaWNpZW50IHBhaW50aW5nLlxuXHRcdC8vIE5vIHNpZ25pZmljYW50IGVmZmVjdCBpbiBDaHJvbWUsIEVkZ2Ugc2VlcyBkcmFtYXRpYyBwZXJmb3JtYWNlIGltcHJvdmVtZW50cy5cblx0XHQvLyBPcHRpb24gdG8gZGlzYWJsZSBpcyB1c2VmdWwgZm9yIHVuaXQgdGVzdHMsIGFuZCBzaW5nbGUtc3RlcCBkZWJ1Z2dpbmcuXG5cdFx0aWYgKCB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lICYmIG9wdGlvbnMudXNlUmVxdWVzdEFuaW1hdGlvbkZyYW1lICkge1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzdGF0ZVVwZGF0ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0YXRlVXBkYXRlKCk7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gc2V0WmluZGV4ICggKSB7XG5cblx0XHRzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyKXtcblx0XHRcdC8vIEhhbmRsZXMgYmVmb3JlIHRoZSBzbGlkZXIgbWlkZGxlIGFyZSBzdGFja2VkIGxhdGVyID0gaGlnaGVyLFxuXHRcdFx0Ly8gSGFuZGxlcyBhZnRlciB0aGUgbWlkZGxlIGxhdGVyIGlzIGxvd2VyXG5cdFx0XHQvLyBbWzddIFs4XSAuLi4uLi4uLi4uIHwgLi4uLi4uLi4uLiBbNV0gWzRdXG5cdFx0XHR2YXIgZGlyID0gKHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdID4gNTAgPyAtMSA6IDEpO1xuXHRcdFx0dmFyIHpJbmRleCA9IDMgKyAoc2NvcGVfSGFuZGxlcy5sZW5ndGggKyAoZGlyICogaGFuZGxlTnVtYmVyKSk7XG5cdFx0XHRzY29wZV9IYW5kbGVzW2hhbmRsZU51bWJlcl0uY2hpbGROb2Rlc1swXS5zdHlsZS56SW5kZXggPSB6SW5kZXg7XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBUZXN0IHN1Z2dlc3RlZCB2YWx1ZXMgYW5kIGFwcGx5IG1hcmdpbiwgc3RlcC5cblx0ZnVuY3Rpb24gc2V0SGFuZGxlICggaGFuZGxlTnVtYmVyLCB0bywgbG9va0JhY2t3YXJkLCBsb29rRm9yd2FyZCApIHtcblxuXHRcdHRvID0gY2hlY2tIYW5kbGVQb3NpdGlvbihzY29wZV9Mb2NhdGlvbnMsIGhhbmRsZU51bWJlciwgdG8sIGxvb2tCYWNrd2FyZCwgbG9va0ZvcndhcmQsIGZhbHNlKTtcblxuXHRcdGlmICggdG8gPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHVwZGF0ZUhhbmRsZVBvc2l0aW9uKGhhbmRsZU51bWJlciwgdG8pO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBVcGRhdGVzIHN0eWxlIGF0dHJpYnV0ZSBmb3IgY29ubmVjdCBub2Rlc1xuXHRmdW5jdGlvbiB1cGRhdGVDb25uZWN0ICggaW5kZXggKSB7XG5cblx0XHQvLyBTa2lwIGNvbm5lY3RzIHNldCB0byBmYWxzZVxuXHRcdGlmICggIXNjb3BlX0Nvbm5lY3RzW2luZGV4XSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgbCA9IDA7XG5cdFx0dmFyIGggPSAxMDA7XG5cblx0XHRpZiAoIGluZGV4ICE9PSAwICkge1xuXHRcdFx0bCA9IHNjb3BlX0xvY2F0aW9uc1tpbmRleCAtIDFdO1xuXHRcdH1cblxuXHRcdGlmICggaW5kZXggIT09IHNjb3BlX0Nvbm5lY3RzLmxlbmd0aCAtIDEgKSB7XG5cdFx0XHRoID0gc2NvcGVfTG9jYXRpb25zW2luZGV4XTtcblx0XHR9XG5cblx0XHRzY29wZV9Db25uZWN0c1tpbmRleF0uc3R5bGVbb3B0aW9ucy5zdHlsZV0gPSB0b1BjdChsKTtcblx0XHRzY29wZV9Db25uZWN0c1tpbmRleF0uc3R5bGVbb3B0aW9ucy5zdHlsZU9wb3NpdGVdID0gdG9QY3QoMTAwIC0gaCk7XG5cdH1cblxuXHQvLyAuLi5cblx0ZnVuY3Rpb24gc2V0VmFsdWUgKCB0bywgaGFuZGxlTnVtYmVyICkge1xuXG5cdFx0Ly8gU2V0dGluZyB3aXRoIG51bGwgaW5kaWNhdGVzIGFuICdpZ25vcmUnLlxuXHRcdC8vIElucHV0dGluZyAnZmFsc2UnIGlzIGludmFsaWQuXG5cdFx0aWYgKCB0byA9PT0gbnVsbCB8fCB0byA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gSWYgYSBmb3JtYXR0ZWQgbnVtYmVyIHdhcyBwYXNzZWQsIGF0dGVtdCB0byBkZWNvZGUgaXQuXG5cdFx0aWYgKCB0eXBlb2YgdG8gPT09ICdudW1iZXInICkge1xuXHRcdFx0dG8gPSBTdHJpbmcodG8pO1xuXHRcdH1cblxuXHRcdHRvID0gb3B0aW9ucy5mb3JtYXQuZnJvbSh0byk7XG5cblx0XHQvLyBSZXF1ZXN0IGFuIHVwZGF0ZSBmb3IgYWxsIGxpbmtzIGlmIHRoZSB2YWx1ZSB3YXMgaW52YWxpZC5cblx0XHQvLyBEbyBzbyB0b28gaWYgc2V0dGluZyB0aGUgaGFuZGxlIGZhaWxzLlxuXHRcdGlmICggdG8gIT09IGZhbHNlICYmICFpc05hTih0bykgKSB7XG5cdFx0XHRzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCBzY29wZV9TcGVjdHJ1bS50b1N0ZXBwaW5nKHRvKSwgZmFsc2UsIGZhbHNlKTtcblx0XHR9XG5cdH1cblxuXHQvLyBTZXQgdGhlIHNsaWRlciB2YWx1ZS5cblx0ZnVuY3Rpb24gdmFsdWVTZXQgKCBpbnB1dCwgZmlyZVNldEV2ZW50ICkge1xuXG5cdFx0dmFyIHZhbHVlcyA9IGFzQXJyYXkoaW5wdXQpO1xuXHRcdHZhciBpc0luaXQgPSBzY29wZV9Mb2NhdGlvbnNbMF0gPT09IHVuZGVmaW5lZDtcblxuXHRcdC8vIEV2ZW50IGZpcmVzIGJ5IGRlZmF1bHRcblx0XHRmaXJlU2V0RXZlbnQgPSAoZmlyZVNldEV2ZW50ID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFmaXJlU2V0RXZlbnQpO1xuXG5cdFx0dmFsdWVzLmZvckVhY2goc2V0VmFsdWUpO1xuXG5cdFx0Ly8gQW5pbWF0aW9uIGlzIG9wdGlvbmFsLlxuXHRcdC8vIE1ha2Ugc3VyZSB0aGUgaW5pdGlhbCB2YWx1ZXMgd2VyZSBzZXQgYmVmb3JlIHVzaW5nIGFuaW1hdGVkIHBsYWNlbWVudC5cblx0XHRpZiAoIG9wdGlvbnMuYW5pbWF0ZSAmJiAhaXNJbml0ICkge1xuXHRcdFx0YWRkQ2xhc3NGb3Ioc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFwLCBvcHRpb25zLmFuaW1hdGlvbkR1cmF0aW9uKTtcblx0XHR9XG5cblx0XHQvLyBOb3cgdGhhdCBhbGwgYmFzZSB2YWx1ZXMgYXJlIHNldCwgYXBwbHkgY29uc3RyYWludHNcblx0XHRzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyKXtcblx0XHRcdHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdLCB0cnVlLCBmYWxzZSk7XG5cdFx0fSk7XG5cblx0XHRzZXRaaW5kZXgoKTtcblxuXHRcdHNjb3BlX0hhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVOdW1iZXIpe1xuXG5cdFx0XHRmaXJlRXZlbnQoJ3VwZGF0ZScsIGhhbmRsZU51bWJlcik7XG5cblx0XHRcdC8vIEZpcmUgdGhlIGV2ZW50IG9ubHkgZm9yIGhhbmRsZXMgdGhhdCByZWNlaXZlZCBhIG5ldyB2YWx1ZSwgYXMgcGVyICM1Nzlcblx0XHRcdGlmICggdmFsdWVzW2hhbmRsZU51bWJlcl0gIT09IG51bGwgJiYgZmlyZVNldEV2ZW50ICkge1xuXHRcdFx0XHRmaXJlRXZlbnQoJ3NldCcsIGhhbmRsZU51bWJlcik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBSZXNldCBzbGlkZXIgdG8gaW5pdGlhbCB2YWx1ZXNcblx0ZnVuY3Rpb24gdmFsdWVSZXNldCAoIGZpcmVTZXRFdmVudCApIHtcblx0XHR2YWx1ZVNldChvcHRpb25zLnN0YXJ0LCBmaXJlU2V0RXZlbnQpO1xuXHR9XG5cblx0Ly8gR2V0IHRoZSBzbGlkZXIgdmFsdWUuXG5cdGZ1bmN0aW9uIHZhbHVlR2V0ICggKSB7XG5cblx0XHR2YXIgdmFsdWVzID0gc2NvcGVfVmFsdWVzLm1hcChvcHRpb25zLmZvcm1hdC50byk7XG5cblx0XHQvLyBJZiBvbmx5IG9uZSBoYW5kbGUgaXMgdXNlZCwgcmV0dXJuIGEgc2luZ2xlIHZhbHVlLlxuXHRcdGlmICggdmFsdWVzLmxlbmd0aCA9PT0gMSApe1xuXHRcdFx0cmV0dXJuIHZhbHVlc1swXTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdmFsdWVzO1xuXHR9XG5cblx0Ly8gUmVtb3ZlcyBjbGFzc2VzIGZyb20gdGhlIHJvb3QgYW5kIGVtcHRpZXMgaXQuXG5cdGZ1bmN0aW9uIGRlc3Ryb3kgKCApIHtcblxuXHRcdGZvciAoIHZhciBrZXkgaW4gb3B0aW9ucy5jc3NDbGFzc2VzICkge1xuXHRcdFx0aWYgKCAhb3B0aW9ucy5jc3NDbGFzc2VzLmhhc093blByb3BlcnR5KGtleSkgKSB7IGNvbnRpbnVlOyB9XG5cdFx0XHRyZW1vdmVDbGFzcyhzY29wZV9UYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlc1trZXldKTtcblx0XHR9XG5cblx0XHR3aGlsZSAoc2NvcGVfVGFyZ2V0LmZpcnN0Q2hpbGQpIHtcblx0XHRcdHNjb3BlX1RhcmdldC5yZW1vdmVDaGlsZChzY29wZV9UYXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0ZGVsZXRlIHNjb3BlX1RhcmdldC5ub1VpU2xpZGVyO1xuXHR9XG5cblx0Ly8gR2V0IHRoZSBjdXJyZW50IHN0ZXAgc2l6ZSBmb3IgdGhlIHNsaWRlci5cblx0ZnVuY3Rpb24gZ2V0Q3VycmVudFN0ZXAgKCApIHtcblxuXHRcdC8vIENoZWNrIGFsbCBsb2NhdGlvbnMsIG1hcCB0aGVtIHRvIHRoZWlyIHN0ZXBwaW5nIHBvaW50LlxuXHRcdC8vIEdldCB0aGUgc3RlcCBwb2ludCwgdGhlbiBmaW5kIGl0IGluIHRoZSBpbnB1dCBsaXN0LlxuXHRcdHJldHVybiBzY29wZV9Mb2NhdGlvbnMubWFwKGZ1bmN0aW9uKCBsb2NhdGlvbiwgaW5kZXggKXtcblxuXHRcdFx0dmFyIG5lYXJieVN0ZXBzID0gc2NvcGVfU3BlY3RydW0uZ2V0TmVhcmJ5U3RlcHMoIGxvY2F0aW9uICk7XG5cdFx0XHR2YXIgdmFsdWUgPSBzY29wZV9WYWx1ZXNbaW5kZXhdO1xuXHRcdFx0dmFyIGluY3JlbWVudCA9IG5lYXJieVN0ZXBzLnRoaXNTdGVwLnN0ZXA7XG5cdFx0XHR2YXIgZGVjcmVtZW50ID0gbnVsbDtcblxuXHRcdFx0Ly8gSWYgdGhlIG5leHQgdmFsdWUgaW4gdGhpcyBzdGVwIG1vdmVzIGludG8gdGhlIG5leHQgc3RlcCxcblx0XHRcdC8vIHRoZSBpbmNyZW1lbnQgaXMgdGhlIHN0YXJ0IG9mIHRoZSBuZXh0IHN0ZXAgLSB0aGUgY3VycmVudCB2YWx1ZVxuXHRcdFx0aWYgKCBpbmNyZW1lbnQgIT09IGZhbHNlICkge1xuXHRcdFx0XHRpZiAoIHZhbHVlICsgaW5jcmVtZW50ID4gbmVhcmJ5U3RlcHMuc3RlcEFmdGVyLnN0YXJ0VmFsdWUgKSB7XG5cdFx0XHRcdFx0aW5jcmVtZW50ID0gbmVhcmJ5U3RlcHMuc3RlcEFmdGVyLnN0YXJ0VmFsdWUgLSB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cblx0XHRcdC8vIElmIHRoZSB2YWx1ZSBpcyBiZXlvbmQgdGhlIHN0YXJ0aW5nIHBvaW50XG5cdFx0XHRpZiAoIHZhbHVlID4gbmVhcmJ5U3RlcHMudGhpc1N0ZXAuc3RhcnRWYWx1ZSApIHtcblx0XHRcdFx0ZGVjcmVtZW50ID0gbmVhcmJ5U3RlcHMudGhpc1N0ZXAuc3RlcDtcblx0XHRcdH1cblxuXHRcdFx0ZWxzZSBpZiAoIG5lYXJieVN0ZXBzLnN0ZXBCZWZvcmUuc3RlcCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdGRlY3JlbWVudCA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIGhhbmRsZSBpcyBhdCB0aGUgc3RhcnQgb2YgYSBzdGVwLCBpdCBhbHdheXMgc3RlcHMgYmFjayBpbnRvIHRoZSBwcmV2aW91cyBzdGVwIGZpcnN0XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0ZGVjcmVtZW50ID0gdmFsdWUgLSBuZWFyYnlTdGVwcy5zdGVwQmVmb3JlLmhpZ2hlc3RTdGVwO1xuXHRcdFx0fVxuXG5cblx0XHRcdC8vIE5vdywgaWYgYXQgdGhlIHNsaWRlciBlZGdlcywgdGhlcmUgaXMgbm90IGluL2RlY3JlbWVudFxuXHRcdFx0aWYgKCBsb2NhdGlvbiA9PT0gMTAwICkge1xuXHRcdFx0XHRpbmNyZW1lbnQgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRlbHNlIGlmICggbG9jYXRpb24gPT09IDAgKSB7XG5cdFx0XHRcdGRlY3JlbWVudCA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFzIHBlciAjMzkxLCB0aGUgY29tcGFyaXNvbiBmb3IgdGhlIGRlY3JlbWVudCBzdGVwIGNhbiBoYXZlIHNvbWUgcm91bmRpbmcgaXNzdWVzLlxuXHRcdFx0dmFyIHN0ZXBEZWNpbWFscyA9IHNjb3BlX1NwZWN0cnVtLmNvdW50U3RlcERlY2ltYWxzKCk7XG5cblx0XHRcdC8vIFJvdW5kIHBlciAjMzkxXG5cdFx0XHRpZiAoIGluY3JlbWVudCAhPT0gbnVsbCAmJiBpbmNyZW1lbnQgIT09IGZhbHNlICkge1xuXHRcdFx0XHRpbmNyZW1lbnQgPSBOdW1iZXIoaW5jcmVtZW50LnRvRml4ZWQoc3RlcERlY2ltYWxzKSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggZGVjcmVtZW50ICE9PSBudWxsICYmIGRlY3JlbWVudCAhPT0gZmFsc2UgKSB7XG5cdFx0XHRcdGRlY3JlbWVudCA9IE51bWJlcihkZWNyZW1lbnQudG9GaXhlZChzdGVwRGVjaW1hbHMpKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIFtkZWNyZW1lbnQsIGluY3JlbWVudF07XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBBdHRhY2ggYW4gZXZlbnQgdG8gdGhpcyBzbGlkZXIsIHBvc3NpYmx5IGluY2x1ZGluZyBhIG5hbWVzcGFjZVxuXHRmdW5jdGlvbiBiaW5kRXZlbnQgKCBuYW1lc3BhY2VkRXZlbnQsIGNhbGxiYWNrICkge1xuXHRcdHNjb3BlX0V2ZW50c1tuYW1lc3BhY2VkRXZlbnRdID0gc2NvcGVfRXZlbnRzW25hbWVzcGFjZWRFdmVudF0gfHwgW107XG5cdFx0c2NvcGVfRXZlbnRzW25hbWVzcGFjZWRFdmVudF0ucHVzaChjYWxsYmFjayk7XG5cblx0XHQvLyBJZiB0aGUgZXZlbnQgYm91bmQgaXMgJ3VwZGF0ZSwnIGZpcmUgaXQgaW1tZWRpYXRlbHkgZm9yIGFsbCBoYW5kbGVzLlxuXHRcdGlmICggbmFtZXNwYWNlZEV2ZW50LnNwbGl0KCcuJylbMF0gPT09ICd1cGRhdGUnICkge1xuXHRcdFx0c2NvcGVfSGFuZGxlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsIGluZGV4KXtcblx0XHRcdFx0ZmlyZUV2ZW50KCd1cGRhdGUnLCBpbmRleCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvLyBVbmRvIGF0dGFjaG1lbnQgb2YgZXZlbnRcblx0ZnVuY3Rpb24gcmVtb3ZlRXZlbnQgKCBuYW1lc3BhY2VkRXZlbnQgKSB7XG5cblx0XHR2YXIgZXZlbnQgPSBuYW1lc3BhY2VkRXZlbnQgJiYgbmFtZXNwYWNlZEV2ZW50LnNwbGl0KCcuJylbMF07XG5cdFx0dmFyIG5hbWVzcGFjZSA9IGV2ZW50ICYmIG5hbWVzcGFjZWRFdmVudC5zdWJzdHJpbmcoZXZlbnQubGVuZ3RoKTtcblxuXHRcdE9iamVjdC5rZXlzKHNjb3BlX0V2ZW50cykuZm9yRWFjaChmdW5jdGlvbiggYmluZCApe1xuXG5cdFx0XHR2YXIgdEV2ZW50ID0gYmluZC5zcGxpdCgnLicpWzBdLFxuXHRcdFx0XHR0TmFtZXNwYWNlID0gYmluZC5zdWJzdHJpbmcodEV2ZW50Lmxlbmd0aCk7XG5cblx0XHRcdGlmICggKCFldmVudCB8fCBldmVudCA9PT0gdEV2ZW50KSAmJiAoIW5hbWVzcGFjZSB8fCBuYW1lc3BhY2UgPT09IHROYW1lc3BhY2UpICkge1xuXHRcdFx0XHRkZWxldGUgc2NvcGVfRXZlbnRzW2JpbmRdO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0Ly8gVXBkYXRlYWJsZTogbWFyZ2luLCBsaW1pdCwgcGFkZGluZywgc3RlcCwgcmFuZ2UsIGFuaW1hdGUsIHNuYXBcblx0ZnVuY3Rpb24gdXBkYXRlT3B0aW9ucyAoIG9wdGlvbnNUb1VwZGF0ZSwgZmlyZVNldEV2ZW50ICkge1xuXG5cdFx0Ly8gU3BlY3RydW0gaXMgY3JlYXRlZCB1c2luZyB0aGUgcmFuZ2UsIHNuYXAsIGRpcmVjdGlvbiBhbmQgc3RlcCBvcHRpb25zLlxuXHRcdC8vICdzbmFwJyBhbmQgJ3N0ZXAnIGNhbiBiZSB1cGRhdGVkLlxuXHRcdC8vIElmICdzbmFwJyBhbmQgJ3N0ZXAnIGFyZSBub3QgcGFzc2VkLCB0aGV5IHNob3VsZCByZW1haW4gdW5jaGFuZ2VkLlxuXHRcdHZhciB2ID0gdmFsdWVHZXQoKTtcblxuXHRcdHZhciB1cGRhdGVBYmxlID0gWydtYXJnaW4nLCAnbGltaXQnLCAncGFkZGluZycsICdyYW5nZScsICdhbmltYXRlJywgJ3NuYXAnLCAnc3RlcCcsICdmb3JtYXQnXTtcblxuXHRcdC8vIE9ubHkgY2hhbmdlIG9wdGlvbnMgdGhhdCB3ZSdyZSBhY3R1YWxseSBwYXNzZWQgdG8gdXBkYXRlLlxuXHRcdHVwZGF0ZUFibGUuZm9yRWFjaChmdW5jdGlvbihuYW1lKXtcblx0XHRcdGlmICggb3B0aW9uc1RvVXBkYXRlW25hbWVdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdG9yaWdpbmFsT3B0aW9uc1tuYW1lXSA9IG9wdGlvbnNUb1VwZGF0ZVtuYW1lXTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHZhciBuZXdPcHRpb25zID0gdGVzdE9wdGlvbnMob3JpZ2luYWxPcHRpb25zKTtcblxuXHRcdC8vIExvYWQgbmV3IG9wdGlvbnMgaW50byB0aGUgc2xpZGVyIHN0YXRlXG5cdFx0dXBkYXRlQWJsZS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpe1xuXHRcdFx0aWYgKCBvcHRpb25zVG9VcGRhdGVbbmFtZV0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0b3B0aW9uc1tuYW1lXSA9IG5ld09wdGlvbnNbbmFtZV07XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRzY29wZV9TcGVjdHJ1bSA9IG5ld09wdGlvbnMuc3BlY3RydW07XG5cblx0XHQvLyBMaW1pdCwgbWFyZ2luIGFuZCBwYWRkaW5nIGRlcGVuZCBvbiB0aGUgc3BlY3RydW0gYnV0IGFyZSBzdG9yZWQgb3V0c2lkZSBvZiBpdC4gKCM2NzcpXG5cdFx0b3B0aW9ucy5tYXJnaW4gPSBuZXdPcHRpb25zLm1hcmdpbjtcblx0XHRvcHRpb25zLmxpbWl0ID0gbmV3T3B0aW9ucy5saW1pdDtcblx0XHRvcHRpb25zLnBhZGRpbmcgPSBuZXdPcHRpb25zLnBhZGRpbmc7XG5cblx0XHQvLyBVcGRhdGUgcGlwcywgcmVtb3ZlcyBleGlzdGluZy5cblx0XHRpZiAoIG9wdGlvbnMucGlwcyApIHtcblx0XHRcdHBpcHMob3B0aW9ucy5waXBzKTtcblx0XHR9XG5cblx0XHQvLyBJbnZhbGlkYXRlIHRoZSBjdXJyZW50IHBvc2l0aW9uaW5nIHNvIHZhbHVlU2V0IGZvcmNlcyBhbiB1cGRhdGUuXG5cdFx0c2NvcGVfTG9jYXRpb25zID0gW107XG5cdFx0dmFsdWVTZXQob3B0aW9uc1RvVXBkYXRlLnN0YXJ0IHx8IHYsIGZpcmVTZXRFdmVudCk7XG5cdH1cblxuXHQvLyBUaHJvdyBhbiBlcnJvciBpZiB0aGUgc2xpZGVyIHdhcyBhbHJlYWR5IGluaXRpYWxpemVkLlxuXHRpZiAoIHNjb3BlX1RhcmdldC5ub1VpU2xpZGVyICkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogU2xpZGVyIHdhcyBhbHJlYWR5IGluaXRpYWxpemVkLlwiKTtcblx0fVxuXG5cdC8vIENyZWF0ZSB0aGUgYmFzZSBlbGVtZW50LCBpbml0aWFsaXNlIEhUTUwgYW5kIHNldCBjbGFzc2VzLlxuXHQvLyBBZGQgaGFuZGxlcyBhbmQgY29ubmVjdCBlbGVtZW50cy5cblx0YWRkU2xpZGVyKHNjb3BlX1RhcmdldCk7XG5cdGFkZEVsZW1lbnRzKG9wdGlvbnMuY29ubmVjdCwgc2NvcGVfQmFzZSk7XG5cblx0c2NvcGVfU2VsZiA9IHtcblx0XHRkZXN0cm95OiBkZXN0cm95LFxuXHRcdHN0ZXBzOiBnZXRDdXJyZW50U3RlcCxcblx0XHRvbjogYmluZEV2ZW50LFxuXHRcdG9mZjogcmVtb3ZlRXZlbnQsXG5cdFx0Z2V0OiB2YWx1ZUdldCxcblx0XHRzZXQ6IHZhbHVlU2V0LFxuXHRcdHJlc2V0OiB2YWx1ZVJlc2V0LFxuXHRcdC8vIEV4cG9zZWQgZm9yIHVuaXQgdGVzdGluZywgZG9uJ3QgdXNlIHRoaXMgaW4geW91ciBhcHBsaWNhdGlvbi5cblx0XHRfX21vdmVIYW5kbGVzOiBmdW5jdGlvbihhLCBiLCBjKSB7IG1vdmVIYW5kbGVzKGEsIGIsIHNjb3BlX0xvY2F0aW9ucywgYyk7IH0sXG5cdFx0b3B0aW9uczogb3JpZ2luYWxPcHRpb25zLCAvLyBJc3N1ZSAjNjAwLCAjNjc4XG5cdFx0dXBkYXRlT3B0aW9uczogdXBkYXRlT3B0aW9ucyxcblx0XHR0YXJnZXQ6IHNjb3BlX1RhcmdldCwgLy8gSXNzdWUgIzU5N1xuXHRcdHJlbW92ZVBpcHM6IHJlbW92ZVBpcHMsXG5cdFx0cGlwczogcGlwcyAvLyBJc3N1ZSAjNTk0XG5cdH07XG5cblx0Ly8gQXR0YWNoIHVzZXIgZXZlbnRzLlxuXHRiaW5kU2xpZGVyRXZlbnRzKG9wdGlvbnMuZXZlbnRzKTtcblxuXHQvLyBVc2UgdGhlIHB1YmxpYyB2YWx1ZSBtZXRob2QgdG8gc2V0IHRoZSBzdGFydCB2YWx1ZXMuXG5cdHZhbHVlU2V0KG9wdGlvbnMuc3RhcnQpO1xuXG5cdGlmICggb3B0aW9ucy5waXBzICkge1xuXHRcdHBpcHMob3B0aW9ucy5waXBzKTtcblx0fVxuXG5cdGlmICggb3B0aW9ucy50b29sdGlwcyApIHtcblx0XHR0b29sdGlwcygpO1xuXHR9XG5cblx0YXJpYSgpO1xuXG5cdHJldHVybiBzY29wZV9TZWxmO1xuXG59XG5cblxuXHQvLyBSdW4gdGhlIHN0YW5kYXJkIGluaXRpYWxpemVyXG5cdGZ1bmN0aW9uIGluaXRpYWxpemUgKCB0YXJnZXQsIG9yaWdpbmFsT3B0aW9ucyApIHtcblxuXHRcdGlmICggIXRhcmdldCB8fCAhdGFyZ2V0Lm5vZGVOYW1lICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiBjcmVhdGUgcmVxdWlyZXMgYSBzaW5nbGUgZWxlbWVudCwgZ290OiBcIiArIHRhcmdldCk7XG5cdFx0fVxuXG5cdFx0Ly8gVGVzdCB0aGUgb3B0aW9ucyBhbmQgY3JlYXRlIHRoZSBzbGlkZXIgZW52aXJvbm1lbnQ7XG5cdFx0dmFyIG9wdGlvbnMgPSB0ZXN0T3B0aW9ucyggb3JpZ2luYWxPcHRpb25zLCB0YXJnZXQgKTtcblx0XHR2YXIgYXBpID0gY2xvc3VyZSggdGFyZ2V0LCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMgKTtcblxuXHRcdHRhcmdldC5ub1VpU2xpZGVyID0gYXBpO1xuXG5cdFx0cmV0dXJuIGFwaTtcblx0fVxuXG5cdC8vIFVzZSBhbiBvYmplY3QgaW5zdGVhZCBvZiBhIGZ1bmN0aW9uIGZvciBmdXR1cmUgZXhwYW5zaWJpbGl0eTtcblx0cmV0dXJuIHtcblx0XHR2ZXJzaW9uOiBWRVJTSU9OLFxuXHRcdGNyZWF0ZTogaW5pdGlhbGl6ZVxuXHR9O1xuXG59KSk7IiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiAtIFVzaW5nIHRoZSAnUVJDb2RlIGZvciBKYXZhc2NyaXB0IGxpYnJhcnknXG4gKiAtIEZpeGVkIGRhdGFzZXQgb2YgJ1FSQ29kZSBmb3IgSmF2YXNjcmlwdCBsaWJyYXJ5JyBmb3Igc3VwcG9ydCBmdWxsLXNwZWMuXG4gKiAtIHRoaXMgbGlicmFyeSBoYXMgbm8gZGVwZW5kZW5jaWVzLlxuICogXG4gKiBAYXV0aG9yIGRhdmlkc2hpbWpzXG4gKiBAc2VlIDxhIGhyZWY9XCJodHRwOi8vd3d3LmQtcHJvamVjdC5jb20vXCIgdGFyZ2V0PVwiX2JsYW5rXCI+aHR0cDovL3d3dy5kLXByb2plY3QuY29tLzwvYT5cbiAqIEBzZWUgPGEgaHJlZj1cImh0dHA6Ly9qZXJvbWVldGllbm5lLmdpdGh1Yi5jb20vanF1ZXJ5LXFyY29kZS9cIiB0YXJnZXQ9XCJfYmxhbmtcIj5odHRwOi8vamVyb21lZXRpZW5uZS5naXRodWIuY29tL2pxdWVyeS1xcmNvZGUvPC9hPlxuICovXG52YXIgUVJDb2RlO1xuXG4oZnVuY3Rpb24gKCkge1xuXHQvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHQvLyBRUkNvZGUgZm9yIEphdmFTY3JpcHRcblx0Ly9cblx0Ly8gQ29weXJpZ2h0IChjKSAyMDA5IEthenVoaWtvIEFyYXNlXG5cdC8vXG5cdC8vIFVSTDogaHR0cDovL3d3dy5kLXByb2plY3QuY29tL1xuXHQvL1xuXHQvLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6XG5cdC8vICAgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0Ly9cblx0Ly8gVGhlIHdvcmQgXCJRUiBDb2RlXCIgaXMgcmVnaXN0ZXJlZCB0cmFkZW1hcmsgb2YgXG5cdC8vIERFTlNPIFdBVkUgSU5DT1JQT1JBVEVEXG5cdC8vICAgaHR0cDovL3d3dy5kZW5zby13YXZlLmNvbS9xcmNvZGUvZmFxcGF0ZW50LWUuaHRtbFxuXHQvL1xuXHQvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRmdW5jdGlvbiBRUjhiaXRCeXRlKGRhdGEpIHtcblx0XHR0aGlzLm1vZGUgPSBRUk1vZGUuTU9ERV84QklUX0JZVEU7XG5cdFx0dGhpcy5kYXRhID0gZGF0YTtcblx0XHR0aGlzLnBhcnNlZERhdGEgPSBbXTtcblxuXHRcdC8vIEFkZGVkIHRvIHN1cHBvcnQgVVRGLTggQ2hhcmFjdGVyc1xuXHRcdGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5kYXRhLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0dmFyIGJ5dGVBcnJheSA9IFtdO1xuXHRcdFx0dmFyIGNvZGUgPSB0aGlzLmRhdGEuY2hhckNvZGVBdChpKTtcblxuXHRcdFx0aWYgKGNvZGUgPiAweDEwMDAwKSB7XG5cdFx0XHRcdGJ5dGVBcnJheVswXSA9IDB4RjAgfCAoKGNvZGUgJiAweDFDMDAwMCkgPj4+IDE4KTtcblx0XHRcdFx0Ynl0ZUFycmF5WzFdID0gMHg4MCB8ICgoY29kZSAmIDB4M0YwMDApID4+PiAxMik7XG5cdFx0XHRcdGJ5dGVBcnJheVsyXSA9IDB4ODAgfCAoKGNvZGUgJiAweEZDMCkgPj4+IDYpO1xuXHRcdFx0XHRieXRlQXJyYXlbM10gPSAweDgwIHwgKGNvZGUgJiAweDNGKTtcblx0XHRcdH0gZWxzZSBpZiAoY29kZSA+IDB4ODAwKSB7XG5cdFx0XHRcdGJ5dGVBcnJheVswXSA9IDB4RTAgfCAoKGNvZGUgJiAweEYwMDApID4+PiAxMik7XG5cdFx0XHRcdGJ5dGVBcnJheVsxXSA9IDB4ODAgfCAoKGNvZGUgJiAweEZDMCkgPj4+IDYpO1xuXHRcdFx0XHRieXRlQXJyYXlbMl0gPSAweDgwIHwgKGNvZGUgJiAweDNGKTtcblx0XHRcdH0gZWxzZSBpZiAoY29kZSA+IDB4ODApIHtcblx0XHRcdFx0Ynl0ZUFycmF5WzBdID0gMHhDMCB8ICgoY29kZSAmIDB4N0MwKSA+Pj4gNik7XG5cdFx0XHRcdGJ5dGVBcnJheVsxXSA9IDB4ODAgfCAoY29kZSAmIDB4M0YpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ynl0ZUFycmF5WzBdID0gY29kZTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5wYXJzZWREYXRhLnB1c2goYnl0ZUFycmF5KTtcblx0XHR9XG5cblx0XHR0aGlzLnBhcnNlZERhdGEgPSBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLCB0aGlzLnBhcnNlZERhdGEpO1xuXG5cdFx0aWYgKHRoaXMucGFyc2VkRGF0YS5sZW5ndGggIT0gdGhpcy5kYXRhLmxlbmd0aCkge1xuXHRcdFx0dGhpcy5wYXJzZWREYXRhLnVuc2hpZnQoMTkxKTtcblx0XHRcdHRoaXMucGFyc2VkRGF0YS51bnNoaWZ0KDE4Nyk7XG5cdFx0XHR0aGlzLnBhcnNlZERhdGEudW5zaGlmdCgyMzkpO1xuXHRcdH1cblx0fVxuXG5cdFFSOGJpdEJ5dGUucHJvdG90eXBlID0ge1xuXHRcdGdldExlbmd0aDogZnVuY3Rpb24gKGJ1ZmZlcikge1xuXHRcdFx0cmV0dXJuIHRoaXMucGFyc2VkRGF0YS5sZW5ndGg7XG5cdFx0fSxcblx0XHR3cml0ZTogZnVuY3Rpb24gKGJ1ZmZlcikge1xuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLnBhcnNlZERhdGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRcdGJ1ZmZlci5wdXQodGhpcy5wYXJzZWREYXRhW2ldLCA4KTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0ZnVuY3Rpb24gUVJDb2RlTW9kZWwodHlwZU51bWJlciwgZXJyb3JDb3JyZWN0TGV2ZWwpIHtcblx0XHR0aGlzLnR5cGVOdW1iZXIgPSB0eXBlTnVtYmVyO1xuXHRcdHRoaXMuZXJyb3JDb3JyZWN0TGV2ZWwgPSBlcnJvckNvcnJlY3RMZXZlbDtcblx0XHR0aGlzLm1vZHVsZXMgPSBudWxsO1xuXHRcdHRoaXMubW9kdWxlQ291bnQgPSAwO1xuXHRcdHRoaXMuZGF0YUNhY2hlID0gbnVsbDtcblx0XHR0aGlzLmRhdGFMaXN0ID0gW107XG5cdH1cblxuXHRRUkNvZGVNb2RlbC5wcm90b3R5cGU9e2FkZERhdGE6ZnVuY3Rpb24oZGF0YSl7dmFyIG5ld0RhdGE9bmV3IFFSOGJpdEJ5dGUoZGF0YSk7dGhpcy5kYXRhTGlzdC5wdXNoKG5ld0RhdGEpO3RoaXMuZGF0YUNhY2hlPW51bGw7fSxpc0Rhcms6ZnVuY3Rpb24ocm93LGNvbCl7aWYocm93PDB8fHRoaXMubW9kdWxlQ291bnQ8PXJvd3x8Y29sPDB8fHRoaXMubW9kdWxlQ291bnQ8PWNvbCl7dGhyb3cgbmV3IEVycm9yKHJvdytcIixcIitjb2wpO31cblx0cmV0dXJuIHRoaXMubW9kdWxlc1tyb3ddW2NvbF07fSxnZXRNb2R1bGVDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZHVsZUNvdW50O30sbWFrZTpmdW5jdGlvbigpe3RoaXMubWFrZUltcGwoZmFsc2UsdGhpcy5nZXRCZXN0TWFza1BhdHRlcm4oKSk7fSxtYWtlSW1wbDpmdW5jdGlvbih0ZXN0LG1hc2tQYXR0ZXJuKXt0aGlzLm1vZHVsZUNvdW50PXRoaXMudHlwZU51bWJlcio0KzE3O3RoaXMubW9kdWxlcz1uZXcgQXJyYXkodGhpcy5tb2R1bGVDb3VudCk7Zm9yKHZhciByb3c9MDtyb3c8dGhpcy5tb2R1bGVDb3VudDtyb3crKyl7dGhpcy5tb2R1bGVzW3Jvd109bmV3IEFycmF5KHRoaXMubW9kdWxlQ291bnQpO2Zvcih2YXIgY29sPTA7Y29sPHRoaXMubW9kdWxlQ291bnQ7Y29sKyspe3RoaXMubW9kdWxlc1tyb3ddW2NvbF09bnVsbDt9fVxuXHR0aGlzLnNldHVwUG9zaXRpb25Qcm9iZVBhdHRlcm4oMCwwKTt0aGlzLnNldHVwUG9zaXRpb25Qcm9iZVBhdHRlcm4odGhpcy5tb2R1bGVDb3VudC03LDApO3RoaXMuc2V0dXBQb3NpdGlvblByb2JlUGF0dGVybigwLHRoaXMubW9kdWxlQ291bnQtNyk7dGhpcy5zZXR1cFBvc2l0aW9uQWRqdXN0UGF0dGVybigpO3RoaXMuc2V0dXBUaW1pbmdQYXR0ZXJuKCk7dGhpcy5zZXR1cFR5cGVJbmZvKHRlc3QsbWFza1BhdHRlcm4pO2lmKHRoaXMudHlwZU51bWJlcj49Nyl7dGhpcy5zZXR1cFR5cGVOdW1iZXIodGVzdCk7fVxuXHRpZih0aGlzLmRhdGFDYWNoZT09bnVsbCl7dGhpcy5kYXRhQ2FjaGU9UVJDb2RlTW9kZWwuY3JlYXRlRGF0YSh0aGlzLnR5cGVOdW1iZXIsdGhpcy5lcnJvckNvcnJlY3RMZXZlbCx0aGlzLmRhdGFMaXN0KTt9XG5cdHRoaXMubWFwRGF0YSh0aGlzLmRhdGFDYWNoZSxtYXNrUGF0dGVybik7fSxzZXR1cFBvc2l0aW9uUHJvYmVQYXR0ZXJuOmZ1bmN0aW9uKHJvdyxjb2wpe2Zvcih2YXIgcj0tMTtyPD03O3IrKyl7aWYocm93K3I8PS0xfHx0aGlzLm1vZHVsZUNvdW50PD1yb3crciljb250aW51ZTtmb3IodmFyIGM9LTE7Yzw9NztjKyspe2lmKGNvbCtjPD0tMXx8dGhpcy5tb2R1bGVDb3VudDw9Y29sK2MpY29udGludWU7aWYoKDA8PXImJnI8PTYmJihjPT0wfHxjPT02KSl8fCgwPD1jJiZjPD02JiYocj09MHx8cj09NikpfHwoMjw9ciYmcjw9NCYmMjw9YyYmYzw9NCkpe3RoaXMubW9kdWxlc1tyb3crcl1bY29sK2NdPXRydWU7fWVsc2V7dGhpcy5tb2R1bGVzW3JvdytyXVtjb2wrY109ZmFsc2U7fX19fSxnZXRCZXN0TWFza1BhdHRlcm46ZnVuY3Rpb24oKXt2YXIgbWluTG9zdFBvaW50PTA7dmFyIHBhdHRlcm49MDtmb3IodmFyIGk9MDtpPDg7aSsrKXt0aGlzLm1ha2VJbXBsKHRydWUsaSk7dmFyIGxvc3RQb2ludD1RUlV0aWwuZ2V0TG9zdFBvaW50KHRoaXMpO2lmKGk9PTB8fG1pbkxvc3RQb2ludD5sb3N0UG9pbnQpe21pbkxvc3RQb2ludD1sb3N0UG9pbnQ7cGF0dGVybj1pO319XG5cdHJldHVybiBwYXR0ZXJuO30sY3JlYXRlTW92aWVDbGlwOmZ1bmN0aW9uKHRhcmdldF9tYyxpbnN0YW5jZV9uYW1lLGRlcHRoKXt2YXIgcXJfbWM9dGFyZ2V0X21jLmNyZWF0ZUVtcHR5TW92aWVDbGlwKGluc3RhbmNlX25hbWUsZGVwdGgpO3ZhciBjcz0xO3RoaXMubWFrZSgpO2Zvcih2YXIgcm93PTA7cm93PHRoaXMubW9kdWxlcy5sZW5ndGg7cm93Kyspe3ZhciB5PXJvdypjcztmb3IodmFyIGNvbD0wO2NvbDx0aGlzLm1vZHVsZXNbcm93XS5sZW5ndGg7Y29sKyspe3ZhciB4PWNvbCpjczt2YXIgZGFyaz10aGlzLm1vZHVsZXNbcm93XVtjb2xdO2lmKGRhcmspe3FyX21jLmJlZ2luRmlsbCgwLDEwMCk7cXJfbWMubW92ZVRvKHgseSk7cXJfbWMubGluZVRvKHgrY3MseSk7cXJfbWMubGluZVRvKHgrY3MseStjcyk7cXJfbWMubGluZVRvKHgseStjcyk7cXJfbWMuZW5kRmlsbCgpO319fVxuXHRyZXR1cm4gcXJfbWM7fSxzZXR1cFRpbWluZ1BhdHRlcm46ZnVuY3Rpb24oKXtmb3IodmFyIHI9ODtyPHRoaXMubW9kdWxlQ291bnQtODtyKyspe2lmKHRoaXMubW9kdWxlc1tyXVs2XSE9bnVsbCl7Y29udGludWU7fVxuXHR0aGlzLm1vZHVsZXNbcl1bNl09KHIlMj09MCk7fVxuXHRmb3IodmFyIGM9ODtjPHRoaXMubW9kdWxlQ291bnQtODtjKyspe2lmKHRoaXMubW9kdWxlc1s2XVtjXSE9bnVsbCl7Y29udGludWU7fVxuXHR0aGlzLm1vZHVsZXNbNl1bY109KGMlMj09MCk7fX0sc2V0dXBQb3NpdGlvbkFkanVzdFBhdHRlcm46ZnVuY3Rpb24oKXt2YXIgcG9zPVFSVXRpbC5nZXRQYXR0ZXJuUG9zaXRpb24odGhpcy50eXBlTnVtYmVyKTtmb3IodmFyIGk9MDtpPHBvcy5sZW5ndGg7aSsrKXtmb3IodmFyIGo9MDtqPHBvcy5sZW5ndGg7aisrKXt2YXIgcm93PXBvc1tpXTt2YXIgY29sPXBvc1tqXTtpZih0aGlzLm1vZHVsZXNbcm93XVtjb2xdIT1udWxsKXtjb250aW51ZTt9XG5cdGZvcih2YXIgcj0tMjtyPD0yO3IrKyl7Zm9yKHZhciBjPS0yO2M8PTI7YysrKXtpZihyPT0tMnx8cj09Mnx8Yz09LTJ8fGM9PTJ8fChyPT0wJiZjPT0wKSl7dGhpcy5tb2R1bGVzW3JvdytyXVtjb2wrY109dHJ1ZTt9ZWxzZXt0aGlzLm1vZHVsZXNbcm93K3JdW2NvbCtjXT1mYWxzZTt9fX19fX0sc2V0dXBUeXBlTnVtYmVyOmZ1bmN0aW9uKHRlc3Qpe3ZhciBiaXRzPVFSVXRpbC5nZXRCQ0hUeXBlTnVtYmVyKHRoaXMudHlwZU51bWJlcik7Zm9yKHZhciBpPTA7aTwxODtpKyspe3ZhciBtb2Q9KCF0ZXN0JiYoKGJpdHM+PmkpJjEpPT0xKTt0aGlzLm1vZHVsZXNbTWF0aC5mbG9vcihpLzMpXVtpJTMrdGhpcy5tb2R1bGVDb3VudC04LTNdPW1vZDt9XG5cdGZvcih2YXIgaT0wO2k8MTg7aSsrKXt2YXIgbW9kPSghdGVzdCYmKChiaXRzPj5pKSYxKT09MSk7dGhpcy5tb2R1bGVzW2klMyt0aGlzLm1vZHVsZUNvdW50LTgtM11bTWF0aC5mbG9vcihpLzMpXT1tb2Q7fX0sc2V0dXBUeXBlSW5mbzpmdW5jdGlvbih0ZXN0LG1hc2tQYXR0ZXJuKXt2YXIgZGF0YT0odGhpcy5lcnJvckNvcnJlY3RMZXZlbDw8Myl8bWFza1BhdHRlcm47dmFyIGJpdHM9UVJVdGlsLmdldEJDSFR5cGVJbmZvKGRhdGEpO2Zvcih2YXIgaT0wO2k8MTU7aSsrKXt2YXIgbW9kPSghdGVzdCYmKChiaXRzPj5pKSYxKT09MSk7aWYoaTw2KXt0aGlzLm1vZHVsZXNbaV1bOF09bW9kO31lbHNlIGlmKGk8OCl7dGhpcy5tb2R1bGVzW2krMV1bOF09bW9kO31lbHNle3RoaXMubW9kdWxlc1t0aGlzLm1vZHVsZUNvdW50LTE1K2ldWzhdPW1vZDt9fVxuXHRmb3IodmFyIGk9MDtpPDE1O2krKyl7dmFyIG1vZD0oIXRlc3QmJigoYml0cz4+aSkmMSk9PTEpO2lmKGk8OCl7dGhpcy5tb2R1bGVzWzhdW3RoaXMubW9kdWxlQ291bnQtaS0xXT1tb2Q7fWVsc2UgaWYoaTw5KXt0aGlzLm1vZHVsZXNbOF1bMTUtaS0xKzFdPW1vZDt9ZWxzZXt0aGlzLm1vZHVsZXNbOF1bMTUtaS0xXT1tb2Q7fX1cblx0dGhpcy5tb2R1bGVzW3RoaXMubW9kdWxlQ291bnQtOF1bOF09KCF0ZXN0KTt9LG1hcERhdGE6ZnVuY3Rpb24oZGF0YSxtYXNrUGF0dGVybil7dmFyIGluYz0tMTt2YXIgcm93PXRoaXMubW9kdWxlQ291bnQtMTt2YXIgYml0SW5kZXg9Nzt2YXIgYnl0ZUluZGV4PTA7Zm9yKHZhciBjb2w9dGhpcy5tb2R1bGVDb3VudC0xO2NvbD4wO2NvbC09Mil7aWYoY29sPT02KWNvbC0tO3doaWxlKHRydWUpe2Zvcih2YXIgYz0wO2M8MjtjKyspe2lmKHRoaXMubW9kdWxlc1tyb3ddW2NvbC1jXT09bnVsbCl7dmFyIGRhcms9ZmFsc2U7aWYoYnl0ZUluZGV4PGRhdGEubGVuZ3RoKXtkYXJrPSgoKGRhdGFbYnl0ZUluZGV4XT4+PmJpdEluZGV4KSYxKT09MSk7fVxuXHR2YXIgbWFzaz1RUlV0aWwuZ2V0TWFzayhtYXNrUGF0dGVybixyb3csY29sLWMpO2lmKG1hc2spe2Rhcms9IWRhcms7fVxuXHR0aGlzLm1vZHVsZXNbcm93XVtjb2wtY109ZGFyaztiaXRJbmRleC0tO2lmKGJpdEluZGV4PT0tMSl7Ynl0ZUluZGV4Kys7Yml0SW5kZXg9Nzt9fX1cblx0cm93Kz1pbmM7aWYocm93PDB8fHRoaXMubW9kdWxlQ291bnQ8PXJvdyl7cm93LT1pbmM7aW5jPS1pbmM7YnJlYWs7fX19fX07UVJDb2RlTW9kZWwuUEFEMD0weEVDO1FSQ29kZU1vZGVsLlBBRDE9MHgxMTtRUkNvZGVNb2RlbC5jcmVhdGVEYXRhPWZ1bmN0aW9uKHR5cGVOdW1iZXIsZXJyb3JDb3JyZWN0TGV2ZWwsZGF0YUxpc3Qpe3ZhciByc0Jsb2Nrcz1RUlJTQmxvY2suZ2V0UlNCbG9ja3ModHlwZU51bWJlcixlcnJvckNvcnJlY3RMZXZlbCk7dmFyIGJ1ZmZlcj1uZXcgUVJCaXRCdWZmZXIoKTtmb3IodmFyIGk9MDtpPGRhdGFMaXN0Lmxlbmd0aDtpKyspe3ZhciBkYXRhPWRhdGFMaXN0W2ldO2J1ZmZlci5wdXQoZGF0YS5tb2RlLDQpO2J1ZmZlci5wdXQoZGF0YS5nZXRMZW5ndGgoKSxRUlV0aWwuZ2V0TGVuZ3RoSW5CaXRzKGRhdGEubW9kZSx0eXBlTnVtYmVyKSk7ZGF0YS53cml0ZShidWZmZXIpO31cblx0dmFyIHRvdGFsRGF0YUNvdW50PTA7Zm9yKHZhciBpPTA7aTxyc0Jsb2Nrcy5sZW5ndGg7aSsrKXt0b3RhbERhdGFDb3VudCs9cnNCbG9ja3NbaV0uZGF0YUNvdW50O31cblx0aWYoYnVmZmVyLmdldExlbmd0aEluQml0cygpPnRvdGFsRGF0YUNvdW50Kjgpe3Rocm93IG5ldyBFcnJvcihcImNvZGUgbGVuZ3RoIG92ZXJmbG93LiAoXCJcblx0K2J1ZmZlci5nZXRMZW5ndGhJbkJpdHMoKVxuXHQrXCI+XCJcblx0K3RvdGFsRGF0YUNvdW50Kjhcblx0K1wiKVwiKTt9XG5cdGlmKGJ1ZmZlci5nZXRMZW5ndGhJbkJpdHMoKSs0PD10b3RhbERhdGFDb3VudCo4KXtidWZmZXIucHV0KDAsNCk7fVxuXHR3aGlsZShidWZmZXIuZ2V0TGVuZ3RoSW5CaXRzKCklOCE9MCl7YnVmZmVyLnB1dEJpdChmYWxzZSk7fVxuXHR3aGlsZSh0cnVlKXtpZihidWZmZXIuZ2V0TGVuZ3RoSW5CaXRzKCk+PXRvdGFsRGF0YUNvdW50Kjgpe2JyZWFrO31cblx0YnVmZmVyLnB1dChRUkNvZGVNb2RlbC5QQUQwLDgpO2lmKGJ1ZmZlci5nZXRMZW5ndGhJbkJpdHMoKT49dG90YWxEYXRhQ291bnQqOCl7YnJlYWs7fVxuXHRidWZmZXIucHV0KFFSQ29kZU1vZGVsLlBBRDEsOCk7fVxuXHRyZXR1cm4gUVJDb2RlTW9kZWwuY3JlYXRlQnl0ZXMoYnVmZmVyLHJzQmxvY2tzKTt9O1FSQ29kZU1vZGVsLmNyZWF0ZUJ5dGVzPWZ1bmN0aW9uKGJ1ZmZlcixyc0Jsb2Nrcyl7dmFyIG9mZnNldD0wO3ZhciBtYXhEY0NvdW50PTA7dmFyIG1heEVjQ291bnQ9MDt2YXIgZGNkYXRhPW5ldyBBcnJheShyc0Jsb2Nrcy5sZW5ndGgpO3ZhciBlY2RhdGE9bmV3IEFycmF5KHJzQmxvY2tzLmxlbmd0aCk7Zm9yKHZhciByPTA7cjxyc0Jsb2Nrcy5sZW5ndGg7cisrKXt2YXIgZGNDb3VudD1yc0Jsb2Nrc1tyXS5kYXRhQ291bnQ7dmFyIGVjQ291bnQ9cnNCbG9ja3Nbcl0udG90YWxDb3VudC1kY0NvdW50O21heERjQ291bnQ9TWF0aC5tYXgobWF4RGNDb3VudCxkY0NvdW50KTttYXhFY0NvdW50PU1hdGgubWF4KG1heEVjQ291bnQsZWNDb3VudCk7ZGNkYXRhW3JdPW5ldyBBcnJheShkY0NvdW50KTtmb3IodmFyIGk9MDtpPGRjZGF0YVtyXS5sZW5ndGg7aSsrKXtkY2RhdGFbcl1baV09MHhmZiZidWZmZXIuYnVmZmVyW2krb2Zmc2V0XTt9XG5cdG9mZnNldCs9ZGNDb3VudDt2YXIgcnNQb2x5PVFSVXRpbC5nZXRFcnJvckNvcnJlY3RQb2x5bm9taWFsKGVjQ291bnQpO3ZhciByYXdQb2x5PW5ldyBRUlBvbHlub21pYWwoZGNkYXRhW3JdLHJzUG9seS5nZXRMZW5ndGgoKS0xKTt2YXIgbW9kUG9seT1yYXdQb2x5Lm1vZChyc1BvbHkpO2VjZGF0YVtyXT1uZXcgQXJyYXkocnNQb2x5LmdldExlbmd0aCgpLTEpO2Zvcih2YXIgaT0wO2k8ZWNkYXRhW3JdLmxlbmd0aDtpKyspe3ZhciBtb2RJbmRleD1pK21vZFBvbHkuZ2V0TGVuZ3RoKCktZWNkYXRhW3JdLmxlbmd0aDtlY2RhdGFbcl1baV09KG1vZEluZGV4Pj0wKT9tb2RQb2x5LmdldChtb2RJbmRleCk6MDt9fVxuXHR2YXIgdG90YWxDb2RlQ291bnQ9MDtmb3IodmFyIGk9MDtpPHJzQmxvY2tzLmxlbmd0aDtpKyspe3RvdGFsQ29kZUNvdW50Kz1yc0Jsb2Nrc1tpXS50b3RhbENvdW50O31cblx0dmFyIGRhdGE9bmV3IEFycmF5KHRvdGFsQ29kZUNvdW50KTt2YXIgaW5kZXg9MDtmb3IodmFyIGk9MDtpPG1heERjQ291bnQ7aSsrKXtmb3IodmFyIHI9MDtyPHJzQmxvY2tzLmxlbmd0aDtyKyspe2lmKGk8ZGNkYXRhW3JdLmxlbmd0aCl7ZGF0YVtpbmRleCsrXT1kY2RhdGFbcl1baV07fX19XG5cdGZvcih2YXIgaT0wO2k8bWF4RWNDb3VudDtpKyspe2Zvcih2YXIgcj0wO3I8cnNCbG9ja3MubGVuZ3RoO3IrKyl7aWYoaTxlY2RhdGFbcl0ubGVuZ3RoKXtkYXRhW2luZGV4KytdPWVjZGF0YVtyXVtpXTt9fX1cblx0cmV0dXJuIGRhdGE7fTt2YXIgUVJNb2RlPXtNT0RFX05VTUJFUjoxPDwwLE1PREVfQUxQSEFfTlVNOjE8PDEsTU9ERV84QklUX0JZVEU6MTw8MixNT0RFX0tBTkpJOjE8PDN9O3ZhciBRUkVycm9yQ29ycmVjdExldmVsPXtMOjEsTTowLFE6MyxIOjJ9O3ZhciBRUk1hc2tQYXR0ZXJuPXtQQVRURVJOMDAwOjAsUEFUVEVSTjAwMToxLFBBVFRFUk4wMTA6MixQQVRURVJOMDExOjMsUEFUVEVSTjEwMDo0LFBBVFRFUk4xMDE6NSxQQVRURVJOMTEwOjYsUEFUVEVSTjExMTo3fTt2YXIgUVJVdGlsPXtQQVRURVJOX1BPU0lUSU9OX1RBQkxFOltbXSxbNiwxOF0sWzYsMjJdLFs2LDI2XSxbNiwzMF0sWzYsMzRdLFs2LDIyLDM4XSxbNiwyNCw0Ml0sWzYsMjYsNDZdLFs2LDI4LDUwXSxbNiwzMCw1NF0sWzYsMzIsNThdLFs2LDM0LDYyXSxbNiwyNiw0Niw2Nl0sWzYsMjYsNDgsNzBdLFs2LDI2LDUwLDc0XSxbNiwzMCw1NCw3OF0sWzYsMzAsNTYsODJdLFs2LDMwLDU4LDg2XSxbNiwzNCw2Miw5MF0sWzYsMjgsNTAsNzIsOTRdLFs2LDI2LDUwLDc0LDk4XSxbNiwzMCw1NCw3OCwxMDJdLFs2LDI4LDU0LDgwLDEwNl0sWzYsMzIsNTgsODQsMTEwXSxbNiwzMCw1OCw4NiwxMTRdLFs2LDM0LDYyLDkwLDExOF0sWzYsMjYsNTAsNzQsOTgsMTIyXSxbNiwzMCw1NCw3OCwxMDIsMTI2XSxbNiwyNiw1Miw3OCwxMDQsMTMwXSxbNiwzMCw1Niw4MiwxMDgsMTM0XSxbNiwzNCw2MCw4NiwxMTIsMTM4XSxbNiwzMCw1OCw4NiwxMTQsMTQyXSxbNiwzNCw2Miw5MCwxMTgsMTQ2XSxbNiwzMCw1NCw3OCwxMDIsMTI2LDE1MF0sWzYsMjQsNTAsNzYsMTAyLDEyOCwxNTRdLFs2LDI4LDU0LDgwLDEwNiwxMzIsMTU4XSxbNiwzMiw1OCw4NCwxMTAsMTM2LDE2Ml0sWzYsMjYsNTQsODIsMTEwLDEzOCwxNjZdLFs2LDMwLDU4LDg2LDExNCwxNDIsMTcwXV0sRzE1OigxPDwxMCl8KDE8PDgpfCgxPDw1KXwoMTw8NCl8KDE8PDIpfCgxPDwxKXwoMTw8MCksRzE4OigxPDwxMil8KDE8PDExKXwoMTw8MTApfCgxPDw5KXwoMTw8OCl8KDE8PDUpfCgxPDwyKXwoMTw8MCksRzE1X01BU0s6KDE8PDE0KXwoMTw8MTIpfCgxPDwxMCl8KDE8PDQpfCgxPDwxKSxnZXRCQ0hUeXBlSW5mbzpmdW5jdGlvbihkYXRhKXt2YXIgZD1kYXRhPDwxMDt3aGlsZShRUlV0aWwuZ2V0QkNIRGlnaXQoZCktUVJVdGlsLmdldEJDSERpZ2l0KFFSVXRpbC5HMTUpPj0wKXtkXj0oUVJVdGlsLkcxNTw8KFFSVXRpbC5nZXRCQ0hEaWdpdChkKS1RUlV0aWwuZ2V0QkNIRGlnaXQoUVJVdGlsLkcxNSkpKTt9XG5cdHJldHVybigoZGF0YTw8MTApfGQpXlFSVXRpbC5HMTVfTUFTSzt9LGdldEJDSFR5cGVOdW1iZXI6ZnVuY3Rpb24oZGF0YSl7dmFyIGQ9ZGF0YTw8MTI7d2hpbGUoUVJVdGlsLmdldEJDSERpZ2l0KGQpLVFSVXRpbC5nZXRCQ0hEaWdpdChRUlV0aWwuRzE4KT49MCl7ZF49KFFSVXRpbC5HMTg8PChRUlV0aWwuZ2V0QkNIRGlnaXQoZCktUVJVdGlsLmdldEJDSERpZ2l0KFFSVXRpbC5HMTgpKSk7fVxuXHRyZXR1cm4oZGF0YTw8MTIpfGQ7fSxnZXRCQ0hEaWdpdDpmdW5jdGlvbihkYXRhKXt2YXIgZGlnaXQ9MDt3aGlsZShkYXRhIT0wKXtkaWdpdCsrO2RhdGE+Pj49MTt9XG5cdHJldHVybiBkaWdpdDt9LGdldFBhdHRlcm5Qb3NpdGlvbjpmdW5jdGlvbih0eXBlTnVtYmVyKXtyZXR1cm4gUVJVdGlsLlBBVFRFUk5fUE9TSVRJT05fVEFCTEVbdHlwZU51bWJlci0xXTt9LGdldE1hc2s6ZnVuY3Rpb24obWFza1BhdHRlcm4saSxqKXtzd2l0Y2gobWFza1BhdHRlcm4pe2Nhc2UgUVJNYXNrUGF0dGVybi5QQVRURVJOMDAwOnJldHVybihpK2opJTI9PTA7Y2FzZSBRUk1hc2tQYXR0ZXJuLlBBVFRFUk4wMDE6cmV0dXJuIGklMj09MDtjYXNlIFFSTWFza1BhdHRlcm4uUEFUVEVSTjAxMDpyZXR1cm4gaiUzPT0wO2Nhc2UgUVJNYXNrUGF0dGVybi5QQVRURVJOMDExOnJldHVybihpK2opJTM9PTA7Y2FzZSBRUk1hc2tQYXR0ZXJuLlBBVFRFUk4xMDA6cmV0dXJuKE1hdGguZmxvb3IoaS8yKStNYXRoLmZsb29yKGovMykpJTI9PTA7Y2FzZSBRUk1hc2tQYXR0ZXJuLlBBVFRFUk4xMDE6cmV0dXJuKGkqaiklMisoaSpqKSUzPT0wO2Nhc2UgUVJNYXNrUGF0dGVybi5QQVRURVJOMTEwOnJldHVybigoaSpqKSUyKyhpKmopJTMpJTI9PTA7Y2FzZSBRUk1hc2tQYXR0ZXJuLlBBVFRFUk4xMTE6cmV0dXJuKChpKmopJTMrKGkraiklMiklMj09MDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcImJhZCBtYXNrUGF0dGVybjpcIittYXNrUGF0dGVybik7fX0sZ2V0RXJyb3JDb3JyZWN0UG9seW5vbWlhbDpmdW5jdGlvbihlcnJvckNvcnJlY3RMZW5ndGgpe3ZhciBhPW5ldyBRUlBvbHlub21pYWwoWzFdLDApO2Zvcih2YXIgaT0wO2k8ZXJyb3JDb3JyZWN0TGVuZ3RoO2krKyl7YT1hLm11bHRpcGx5KG5ldyBRUlBvbHlub21pYWwoWzEsUVJNYXRoLmdleHAoaSldLDApKTt9XG5cdHJldHVybiBhO30sZ2V0TGVuZ3RoSW5CaXRzOmZ1bmN0aW9uKG1vZGUsdHlwZSl7aWYoMTw9dHlwZSYmdHlwZTwxMCl7c3dpdGNoKG1vZGUpe2Nhc2UgUVJNb2RlLk1PREVfTlVNQkVSOnJldHVybiAxMDtjYXNlIFFSTW9kZS5NT0RFX0FMUEhBX05VTTpyZXR1cm4gOTtjYXNlIFFSTW9kZS5NT0RFXzhCSVRfQllURTpyZXR1cm4gODtjYXNlIFFSTW9kZS5NT0RFX0tBTkpJOnJldHVybiA4O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwibW9kZTpcIittb2RlKTt9fWVsc2UgaWYodHlwZTwyNyl7c3dpdGNoKG1vZGUpe2Nhc2UgUVJNb2RlLk1PREVfTlVNQkVSOnJldHVybiAxMjtjYXNlIFFSTW9kZS5NT0RFX0FMUEhBX05VTTpyZXR1cm4gMTE7Y2FzZSBRUk1vZGUuTU9ERV84QklUX0JZVEU6cmV0dXJuIDE2O2Nhc2UgUVJNb2RlLk1PREVfS0FOSkk6cmV0dXJuIDEwO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwibW9kZTpcIittb2RlKTt9fWVsc2UgaWYodHlwZTw0MSl7c3dpdGNoKG1vZGUpe2Nhc2UgUVJNb2RlLk1PREVfTlVNQkVSOnJldHVybiAxNDtjYXNlIFFSTW9kZS5NT0RFX0FMUEhBX05VTTpyZXR1cm4gMTM7Y2FzZSBRUk1vZGUuTU9ERV84QklUX0JZVEU6cmV0dXJuIDE2O2Nhc2UgUVJNb2RlLk1PREVfS0FOSkk6cmV0dXJuIDEyO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwibW9kZTpcIittb2RlKTt9fWVsc2V7dGhyb3cgbmV3IEVycm9yKFwidHlwZTpcIit0eXBlKTt9fSxnZXRMb3N0UG9pbnQ6ZnVuY3Rpb24ocXJDb2RlKXt2YXIgbW9kdWxlQ291bnQ9cXJDb2RlLmdldE1vZHVsZUNvdW50KCk7dmFyIGxvc3RQb2ludD0wO2Zvcih2YXIgcm93PTA7cm93PG1vZHVsZUNvdW50O3JvdysrKXtmb3IodmFyIGNvbD0wO2NvbDxtb2R1bGVDb3VudDtjb2wrKyl7dmFyIHNhbWVDb3VudD0wO3ZhciBkYXJrPXFyQ29kZS5pc0Rhcmsocm93LGNvbCk7Zm9yKHZhciByPS0xO3I8PTE7cisrKXtpZihyb3crcjwwfHxtb2R1bGVDb3VudDw9cm93K3Ipe2NvbnRpbnVlO31cblx0Zm9yKHZhciBjPS0xO2M8PTE7YysrKXtpZihjb2wrYzwwfHxtb2R1bGVDb3VudDw9Y29sK2Mpe2NvbnRpbnVlO31cblx0aWYocj09MCYmYz09MCl7Y29udGludWU7fVxuXHRpZihkYXJrPT1xckNvZGUuaXNEYXJrKHJvdytyLGNvbCtjKSl7c2FtZUNvdW50Kys7fX19XG5cdGlmKHNhbWVDb3VudD41KXtsb3N0UG9pbnQrPSgzK3NhbWVDb3VudC01KTt9fX1cblx0Zm9yKHZhciByb3c9MDtyb3c8bW9kdWxlQ291bnQtMTtyb3crKyl7Zm9yKHZhciBjb2w9MDtjb2w8bW9kdWxlQ291bnQtMTtjb2wrKyl7dmFyIGNvdW50PTA7aWYocXJDb2RlLmlzRGFyayhyb3csY29sKSljb3VudCsrO2lmKHFyQ29kZS5pc0Rhcmsocm93KzEsY29sKSljb3VudCsrO2lmKHFyQ29kZS5pc0Rhcmsocm93LGNvbCsxKSljb3VudCsrO2lmKHFyQ29kZS5pc0Rhcmsocm93KzEsY29sKzEpKWNvdW50Kys7aWYoY291bnQ9PTB8fGNvdW50PT00KXtsb3N0UG9pbnQrPTM7fX19XG5cdGZvcih2YXIgcm93PTA7cm93PG1vZHVsZUNvdW50O3JvdysrKXtmb3IodmFyIGNvbD0wO2NvbDxtb2R1bGVDb3VudC02O2NvbCsrKXtpZihxckNvZGUuaXNEYXJrKHJvdyxjb2wpJiYhcXJDb2RlLmlzRGFyayhyb3csY29sKzEpJiZxckNvZGUuaXNEYXJrKHJvdyxjb2wrMikmJnFyQ29kZS5pc0Rhcmsocm93LGNvbCszKSYmcXJDb2RlLmlzRGFyayhyb3csY29sKzQpJiYhcXJDb2RlLmlzRGFyayhyb3csY29sKzUpJiZxckNvZGUuaXNEYXJrKHJvdyxjb2wrNikpe2xvc3RQb2ludCs9NDA7fX19XG5cdGZvcih2YXIgY29sPTA7Y29sPG1vZHVsZUNvdW50O2NvbCsrKXtmb3IodmFyIHJvdz0wO3Jvdzxtb2R1bGVDb3VudC02O3JvdysrKXtpZihxckNvZGUuaXNEYXJrKHJvdyxjb2wpJiYhcXJDb2RlLmlzRGFyayhyb3crMSxjb2wpJiZxckNvZGUuaXNEYXJrKHJvdysyLGNvbCkmJnFyQ29kZS5pc0Rhcmsocm93KzMsY29sKSYmcXJDb2RlLmlzRGFyayhyb3crNCxjb2wpJiYhcXJDb2RlLmlzRGFyayhyb3crNSxjb2wpJiZxckNvZGUuaXNEYXJrKHJvdys2LGNvbCkpe2xvc3RQb2ludCs9NDA7fX19XG5cdHZhciBkYXJrQ291bnQ9MDtmb3IodmFyIGNvbD0wO2NvbDxtb2R1bGVDb3VudDtjb2wrKyl7Zm9yKHZhciByb3c9MDtyb3c8bW9kdWxlQ291bnQ7cm93Kyspe2lmKHFyQ29kZS5pc0Rhcmsocm93LGNvbCkpe2RhcmtDb3VudCsrO319fVxuXHR2YXIgcmF0aW89TWF0aC5hYnMoMTAwKmRhcmtDb3VudC9tb2R1bGVDb3VudC9tb2R1bGVDb3VudC01MCkvNTtsb3N0UG9pbnQrPXJhdGlvKjEwO3JldHVybiBsb3N0UG9pbnQ7fX07dmFyIFFSTWF0aD17Z2xvZzpmdW5jdGlvbihuKXtpZihuPDEpe3Rocm93IG5ldyBFcnJvcihcImdsb2coXCIrbitcIilcIik7fVxuXHRyZXR1cm4gUVJNYXRoLkxPR19UQUJMRVtuXTt9LGdleHA6ZnVuY3Rpb24obil7d2hpbGUobjwwKXtuKz0yNTU7fVxuXHR3aGlsZShuPj0yNTYpe24tPTI1NTt9XG5cdHJldHVybiBRUk1hdGguRVhQX1RBQkxFW25dO30sRVhQX1RBQkxFOm5ldyBBcnJheSgyNTYpLExPR19UQUJMRTpuZXcgQXJyYXkoMjU2KX07Zm9yKHZhciBpPTA7aTw4O2krKyl7UVJNYXRoLkVYUF9UQUJMRVtpXT0xPDxpO31cblx0Zm9yKHZhciBpPTg7aTwyNTY7aSsrKXtRUk1hdGguRVhQX1RBQkxFW2ldPVFSTWF0aC5FWFBfVEFCTEVbaS00XV5RUk1hdGguRVhQX1RBQkxFW2ktNV1eUVJNYXRoLkVYUF9UQUJMRVtpLTZdXlFSTWF0aC5FWFBfVEFCTEVbaS04XTt9XG5cdGZvcih2YXIgaT0wO2k8MjU1O2krKyl7UVJNYXRoLkxPR19UQUJMRVtRUk1hdGguRVhQX1RBQkxFW2ldXT1pO31cblx0ZnVuY3Rpb24gUVJQb2x5bm9taWFsKG51bSxzaGlmdCl7aWYobnVtLmxlbmd0aD09dW5kZWZpbmVkKXt0aHJvdyBuZXcgRXJyb3IobnVtLmxlbmd0aCtcIi9cIitzaGlmdCk7fVxuXHR2YXIgb2Zmc2V0PTA7d2hpbGUob2Zmc2V0PG51bS5sZW5ndGgmJm51bVtvZmZzZXRdPT0wKXtvZmZzZXQrKzt9XG5cdHRoaXMubnVtPW5ldyBBcnJheShudW0ubGVuZ3RoLW9mZnNldCtzaGlmdCk7Zm9yKHZhciBpPTA7aTxudW0ubGVuZ3RoLW9mZnNldDtpKyspe3RoaXMubnVtW2ldPW51bVtpK29mZnNldF07fX1cblx0UVJQb2x5bm9taWFsLnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKGluZGV4KXtyZXR1cm4gdGhpcy5udW1baW5kZXhdO30sZ2V0TGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubnVtLmxlbmd0aDt9LG11bHRpcGx5OmZ1bmN0aW9uKGUpe3ZhciBudW09bmV3IEFycmF5KHRoaXMuZ2V0TGVuZ3RoKCkrZS5nZXRMZW5ndGgoKS0xKTtmb3IodmFyIGk9MDtpPHRoaXMuZ2V0TGVuZ3RoKCk7aSsrKXtmb3IodmFyIGo9MDtqPGUuZ2V0TGVuZ3RoKCk7aisrKXtudW1baStqXV49UVJNYXRoLmdleHAoUVJNYXRoLmdsb2codGhpcy5nZXQoaSkpK1FSTWF0aC5nbG9nKGUuZ2V0KGopKSk7fX1cblx0cmV0dXJuIG5ldyBRUlBvbHlub21pYWwobnVtLDApO30sbW9kOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZ2V0TGVuZ3RoKCktZS5nZXRMZW5ndGgoKTwwKXtyZXR1cm4gdGhpczt9XG5cdHZhciByYXRpbz1RUk1hdGguZ2xvZyh0aGlzLmdldCgwKSktUVJNYXRoLmdsb2coZS5nZXQoMCkpO3ZhciBudW09bmV3IEFycmF5KHRoaXMuZ2V0TGVuZ3RoKCkpO2Zvcih2YXIgaT0wO2k8dGhpcy5nZXRMZW5ndGgoKTtpKyspe251bVtpXT10aGlzLmdldChpKTt9XG5cdGZvcih2YXIgaT0wO2k8ZS5nZXRMZW5ndGgoKTtpKyspe251bVtpXV49UVJNYXRoLmdleHAoUVJNYXRoLmdsb2coZS5nZXQoaSkpK3JhdGlvKTt9XG5cdHJldHVybiBuZXcgUVJQb2x5bm9taWFsKG51bSwwKS5tb2QoZSk7fX07ZnVuY3Rpb24gUVJSU0Jsb2NrKHRvdGFsQ291bnQsZGF0YUNvdW50KXt0aGlzLnRvdGFsQ291bnQ9dG90YWxDb3VudDt0aGlzLmRhdGFDb3VudD1kYXRhQ291bnQ7fVxuXHRRUlJTQmxvY2suUlNfQkxPQ0tfVEFCTEU9W1sxLDI2LDE5XSxbMSwyNiwxNl0sWzEsMjYsMTNdLFsxLDI2LDldLFsxLDQ0LDM0XSxbMSw0NCwyOF0sWzEsNDQsMjJdLFsxLDQ0LDE2XSxbMSw3MCw1NV0sWzEsNzAsNDRdLFsyLDM1LDE3XSxbMiwzNSwxM10sWzEsMTAwLDgwXSxbMiw1MCwzMl0sWzIsNTAsMjRdLFs0LDI1LDldLFsxLDEzNCwxMDhdLFsyLDY3LDQzXSxbMiwzMywxNSwyLDM0LDE2XSxbMiwzMywxMSwyLDM0LDEyXSxbMiw4Niw2OF0sWzQsNDMsMjddLFs0LDQzLDE5XSxbNCw0MywxNV0sWzIsOTgsNzhdLFs0LDQ5LDMxXSxbMiwzMiwxNCw0LDMzLDE1XSxbNCwzOSwxMywxLDQwLDE0XSxbMiwxMjEsOTddLFsyLDYwLDM4LDIsNjEsMzldLFs0LDQwLDE4LDIsNDEsMTldLFs0LDQwLDE0LDIsNDEsMTVdLFsyLDE0NiwxMTZdLFszLDU4LDM2LDIsNTksMzddLFs0LDM2LDE2LDQsMzcsMTddLFs0LDM2LDEyLDQsMzcsMTNdLFsyLDg2LDY4LDIsODcsNjldLFs0LDY5LDQzLDEsNzAsNDRdLFs2LDQzLDE5LDIsNDQsMjBdLFs2LDQzLDE1LDIsNDQsMTZdLFs0LDEwMSw4MV0sWzEsODAsNTAsNCw4MSw1MV0sWzQsNTAsMjIsNCw1MSwyM10sWzMsMzYsMTIsOCwzNywxM10sWzIsMTE2LDkyLDIsMTE3LDkzXSxbNiw1OCwzNiwyLDU5LDM3XSxbNCw0NiwyMCw2LDQ3LDIxXSxbNyw0MiwxNCw0LDQzLDE1XSxbNCwxMzMsMTA3XSxbOCw1OSwzNywxLDYwLDM4XSxbOCw0NCwyMCw0LDQ1LDIxXSxbMTIsMzMsMTEsNCwzNCwxMl0sWzMsMTQ1LDExNSwxLDE0NiwxMTZdLFs0LDY0LDQwLDUsNjUsNDFdLFsxMSwzNiwxNiw1LDM3LDE3XSxbMTEsMzYsMTIsNSwzNywxM10sWzUsMTA5LDg3LDEsMTEwLDg4XSxbNSw2NSw0MSw1LDY2LDQyXSxbNSw1NCwyNCw3LDU1LDI1XSxbMTEsMzYsMTJdLFs1LDEyMiw5OCwxLDEyMyw5OV0sWzcsNzMsNDUsMyw3NCw0Nl0sWzE1LDQzLDE5LDIsNDQsMjBdLFszLDQ1LDE1LDEzLDQ2LDE2XSxbMSwxMzUsMTA3LDUsMTM2LDEwOF0sWzEwLDc0LDQ2LDEsNzUsNDddLFsxLDUwLDIyLDE1LDUxLDIzXSxbMiw0MiwxNCwxNyw0MywxNV0sWzUsMTUwLDEyMCwxLDE1MSwxMjFdLFs5LDY5LDQzLDQsNzAsNDRdLFsxNyw1MCwyMiwxLDUxLDIzXSxbMiw0MiwxNCwxOSw0MywxNV0sWzMsMTQxLDExMyw0LDE0MiwxMTRdLFszLDcwLDQ0LDExLDcxLDQ1XSxbMTcsNDcsMjEsNCw0OCwyMl0sWzksMzksMTMsMTYsNDAsMTRdLFszLDEzNSwxMDcsNSwxMzYsMTA4XSxbMyw2Nyw0MSwxMyw2OCw0Ml0sWzE1LDU0LDI0LDUsNTUsMjVdLFsxNSw0MywxNSwxMCw0NCwxNl0sWzQsMTQ0LDExNiw0LDE0NSwxMTddLFsxNyw2OCw0Ml0sWzE3LDUwLDIyLDYsNTEsMjNdLFsxOSw0NiwxNiw2LDQ3LDE3XSxbMiwxMzksMTExLDcsMTQwLDExMl0sWzE3LDc0LDQ2XSxbNyw1NCwyNCwxNiw1NSwyNV0sWzM0LDM3LDEzXSxbNCwxNTEsMTIxLDUsMTUyLDEyMl0sWzQsNzUsNDcsMTQsNzYsNDhdLFsxMSw1NCwyNCwxNCw1NSwyNV0sWzE2LDQ1LDE1LDE0LDQ2LDE2XSxbNiwxNDcsMTE3LDQsMTQ4LDExOF0sWzYsNzMsNDUsMTQsNzQsNDZdLFsxMSw1NCwyNCwxNiw1NSwyNV0sWzMwLDQ2LDE2LDIsNDcsMTddLFs4LDEzMiwxMDYsNCwxMzMsMTA3XSxbOCw3NSw0NywxMyw3Niw0OF0sWzcsNTQsMjQsMjIsNTUsMjVdLFsyMiw0NSwxNSwxMyw0NiwxNl0sWzEwLDE0MiwxMTQsMiwxNDMsMTE1XSxbMTksNzQsNDYsNCw3NSw0N10sWzI4LDUwLDIyLDYsNTEsMjNdLFszMyw0NiwxNiw0LDQ3LDE3XSxbOCwxNTIsMTIyLDQsMTUzLDEyM10sWzIyLDczLDQ1LDMsNzQsNDZdLFs4LDUzLDIzLDI2LDU0LDI0XSxbMTIsNDUsMTUsMjgsNDYsMTZdLFszLDE0NywxMTcsMTAsMTQ4LDExOF0sWzMsNzMsNDUsMjMsNzQsNDZdLFs0LDU0LDI0LDMxLDU1LDI1XSxbMTEsNDUsMTUsMzEsNDYsMTZdLFs3LDE0NiwxMTYsNywxNDcsMTE3XSxbMjEsNzMsNDUsNyw3NCw0Nl0sWzEsNTMsMjMsMzcsNTQsMjRdLFsxOSw0NSwxNSwyNiw0NiwxNl0sWzUsMTQ1LDExNSwxMCwxNDYsMTE2XSxbMTksNzUsNDcsMTAsNzYsNDhdLFsxNSw1NCwyNCwyNSw1NSwyNV0sWzIzLDQ1LDE1LDI1LDQ2LDE2XSxbMTMsMTQ1LDExNSwzLDE0NiwxMTZdLFsyLDc0LDQ2LDI5LDc1LDQ3XSxbNDIsNTQsMjQsMSw1NSwyNV0sWzIzLDQ1LDE1LDI4LDQ2LDE2XSxbMTcsMTQ1LDExNV0sWzEwLDc0LDQ2LDIzLDc1LDQ3XSxbMTAsNTQsMjQsMzUsNTUsMjVdLFsxOSw0NSwxNSwzNSw0NiwxNl0sWzE3LDE0NSwxMTUsMSwxNDYsMTE2XSxbMTQsNzQsNDYsMjEsNzUsNDddLFsyOSw1NCwyNCwxOSw1NSwyNV0sWzExLDQ1LDE1LDQ2LDQ2LDE2XSxbMTMsMTQ1LDExNSw2LDE0NiwxMTZdLFsxNCw3NCw0NiwyMyw3NSw0N10sWzQ0LDU0LDI0LDcsNTUsMjVdLFs1OSw0NiwxNiwxLDQ3LDE3XSxbMTIsMTUxLDEyMSw3LDE1MiwxMjJdLFsxMiw3NSw0NywyNiw3Niw0OF0sWzM5LDU0LDI0LDE0LDU1LDI1XSxbMjIsNDUsMTUsNDEsNDYsMTZdLFs2LDE1MSwxMjEsMTQsMTUyLDEyMl0sWzYsNzUsNDcsMzQsNzYsNDhdLFs0Niw1NCwyNCwxMCw1NSwyNV0sWzIsNDUsMTUsNjQsNDYsMTZdLFsxNywxNTIsMTIyLDQsMTUzLDEyM10sWzI5LDc0LDQ2LDE0LDc1LDQ3XSxbNDksNTQsMjQsMTAsNTUsMjVdLFsyNCw0NSwxNSw0Niw0NiwxNl0sWzQsMTUyLDEyMiwxOCwxNTMsMTIzXSxbMTMsNzQsNDYsMzIsNzUsNDddLFs0OCw1NCwyNCwxNCw1NSwyNV0sWzQyLDQ1LDE1LDMyLDQ2LDE2XSxbMjAsMTQ3LDExNyw0LDE0OCwxMThdLFs0MCw3NSw0Nyw3LDc2LDQ4XSxbNDMsNTQsMjQsMjIsNTUsMjVdLFsxMCw0NSwxNSw2Nyw0NiwxNl0sWzE5LDE0OCwxMTgsNiwxNDksMTE5XSxbMTgsNzUsNDcsMzEsNzYsNDhdLFszNCw1NCwyNCwzNCw1NSwyNV0sWzIwLDQ1LDE1LDYxLDQ2LDE2XV07UVJSU0Jsb2NrLmdldFJTQmxvY2tzPWZ1bmN0aW9uKHR5cGVOdW1iZXIsZXJyb3JDb3JyZWN0TGV2ZWwpe3ZhciByc0Jsb2NrPVFSUlNCbG9jay5nZXRSc0Jsb2NrVGFibGUodHlwZU51bWJlcixlcnJvckNvcnJlY3RMZXZlbCk7aWYocnNCbG9jaz09dW5kZWZpbmVkKXt0aHJvdyBuZXcgRXJyb3IoXCJiYWQgcnMgYmxvY2sgQCB0eXBlTnVtYmVyOlwiK3R5cGVOdW1iZXIrXCIvZXJyb3JDb3JyZWN0TGV2ZWw6XCIrZXJyb3JDb3JyZWN0TGV2ZWwpO31cblx0dmFyIGxlbmd0aD1yc0Jsb2NrLmxlbmd0aC8zO3ZhciBsaXN0PVtdO2Zvcih2YXIgaT0wO2k8bGVuZ3RoO2krKyl7dmFyIGNvdW50PXJzQmxvY2tbaSozKzBdO3ZhciB0b3RhbENvdW50PXJzQmxvY2tbaSozKzFdO3ZhciBkYXRhQ291bnQ9cnNCbG9ja1tpKjMrMl07Zm9yKHZhciBqPTA7ajxjb3VudDtqKyspe2xpc3QucHVzaChuZXcgUVJSU0Jsb2NrKHRvdGFsQ291bnQsZGF0YUNvdW50KSk7fX1cblx0cmV0dXJuIGxpc3Q7fTtRUlJTQmxvY2suZ2V0UnNCbG9ja1RhYmxlPWZ1bmN0aW9uKHR5cGVOdW1iZXIsZXJyb3JDb3JyZWN0TGV2ZWwpe3N3aXRjaChlcnJvckNvcnJlY3RMZXZlbCl7Y2FzZSBRUkVycm9yQ29ycmVjdExldmVsLkw6cmV0dXJuIFFSUlNCbG9jay5SU19CTE9DS19UQUJMRVsodHlwZU51bWJlci0xKSo0KzBdO2Nhc2UgUVJFcnJvckNvcnJlY3RMZXZlbC5NOnJldHVybiBRUlJTQmxvY2suUlNfQkxPQ0tfVEFCTEVbKHR5cGVOdW1iZXItMSkqNCsxXTtjYXNlIFFSRXJyb3JDb3JyZWN0TGV2ZWwuUTpyZXR1cm4gUVJSU0Jsb2NrLlJTX0JMT0NLX1RBQkxFWyh0eXBlTnVtYmVyLTEpKjQrMl07Y2FzZSBRUkVycm9yQ29ycmVjdExldmVsLkg6cmV0dXJuIFFSUlNCbG9jay5SU19CTE9DS19UQUJMRVsodHlwZU51bWJlci0xKSo0KzNdO2RlZmF1bHQ6cmV0dXJuIHVuZGVmaW5lZDt9fTtmdW5jdGlvbiBRUkJpdEJ1ZmZlcigpe3RoaXMuYnVmZmVyPVtdO3RoaXMubGVuZ3RoPTA7fVxuXHRRUkJpdEJ1ZmZlci5wcm90b3R5cGU9e2dldDpmdW5jdGlvbihpbmRleCl7dmFyIGJ1ZkluZGV4PU1hdGguZmxvb3IoaW5kZXgvOCk7cmV0dXJuKCh0aGlzLmJ1ZmZlcltidWZJbmRleF0+Pj4oNy1pbmRleCU4KSkmMSk9PTE7fSxwdXQ6ZnVuY3Rpb24obnVtLGxlbmd0aCl7Zm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXt0aGlzLnB1dEJpdCgoKG51bT4+PihsZW5ndGgtaS0xKSkmMSk9PTEpO319LGdldExlbmd0aEluQml0czpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aDt9LHB1dEJpdDpmdW5jdGlvbihiaXQpe3ZhciBidWZJbmRleD1NYXRoLmZsb29yKHRoaXMubGVuZ3RoLzgpO2lmKHRoaXMuYnVmZmVyLmxlbmd0aDw9YnVmSW5kZXgpe3RoaXMuYnVmZmVyLnB1c2goMCk7fVxuXHRpZihiaXQpe3RoaXMuYnVmZmVyW2J1ZkluZGV4XXw9KDB4ODA+Pj4odGhpcy5sZW5ndGglOCkpO31cblx0dGhpcy5sZW5ndGgrKzt9fTt2YXIgUVJDb2RlTGltaXRMZW5ndGg9W1sxNywxNCwxMSw3XSxbMzIsMjYsMjAsMTRdLFs1Myw0MiwzMiwyNF0sWzc4LDYyLDQ2LDM0XSxbMTA2LDg0LDYwLDQ0XSxbMTM0LDEwNiw3NCw1OF0sWzE1NCwxMjIsODYsNjRdLFsxOTIsMTUyLDEwOCw4NF0sWzIzMCwxODAsMTMwLDk4XSxbMjcxLDIxMywxNTEsMTE5XSxbMzIxLDI1MSwxNzcsMTM3XSxbMzY3LDI4NywyMDMsMTU1XSxbNDI1LDMzMSwyNDEsMTc3XSxbNDU4LDM2MiwyNTgsMTk0XSxbNTIwLDQxMiwyOTIsMjIwXSxbNTg2LDQ1MCwzMjIsMjUwXSxbNjQ0LDUwNCwzNjQsMjgwXSxbNzE4LDU2MCwzOTQsMzEwXSxbNzkyLDYyNCw0NDIsMzM4XSxbODU4LDY2Niw0ODIsMzgyXSxbOTI5LDcxMSw1MDksNDAzXSxbMTAwMyw3NzksNTY1LDQzOV0sWzEwOTEsODU3LDYxMSw0NjFdLFsxMTcxLDkxMSw2NjEsNTExXSxbMTI3Myw5OTcsNzE1LDUzNV0sWzEzNjcsMTA1OSw3NTEsNTkzXSxbMTQ2NSwxMTI1LDgwNSw2MjVdLFsxNTI4LDExOTAsODY4LDY1OF0sWzE2MjgsMTI2NCw5MDgsNjk4XSxbMTczMiwxMzcwLDk4Miw3NDJdLFsxODQwLDE0NTIsMTAzMCw3OTBdLFsxOTUyLDE1MzgsMTExMiw4NDJdLFsyMDY4LDE2MjgsMTE2OCw4OThdLFsyMTg4LDE3MjIsMTIyOCw5NThdLFsyMzAzLDE4MDksMTI4Myw5ODNdLFsyNDMxLDE5MTEsMTM1MSwxMDUxXSxbMjU2MywxOTg5LDE0MjMsMTA5M10sWzI2OTksMjA5OSwxNDk5LDExMzldLFsyODA5LDIyMTMsMTU3OSwxMjE5XSxbMjk1MywyMzMxLDE2NjMsMTI3M11dO1xuXHRcblx0ZnVuY3Rpb24gX2lzU3VwcG9ydENhbnZhcygpIHtcblx0XHRyZXR1cm4gdHlwZW9mIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCAhPSBcInVuZGVmaW5lZFwiO1xuXHR9XG5cdFxuXHQvLyBhbmRyb2lkIDIueCBkb2Vzbid0IHN1cHBvcnQgRGF0YS1VUkkgc3BlY1xuXHRmdW5jdGlvbiBfZ2V0QW5kcm9pZCgpIHtcblx0XHR2YXIgYW5kcm9pZCA9IGZhbHNlO1xuXHRcdHZhciBzQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuXHRcdFxuXHRcdGlmICgvYW5kcm9pZC9pLnRlc3Qoc0FnZW50KSkgeyAvLyBhbmRyb2lkXG5cdFx0XHRhbmRyb2lkID0gdHJ1ZTtcblx0XHRcdHZhciBhTWF0ID0gc0FnZW50LnRvU3RyaW5nKCkubWF0Y2goL2FuZHJvaWQgKFswLTldXFwuWzAtOV0pL2kpO1xuXHRcdFx0XG5cdFx0XHRpZiAoYU1hdCAmJiBhTWF0WzFdKSB7XG5cdFx0XHRcdGFuZHJvaWQgPSBwYXJzZUZsb2F0KGFNYXRbMV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRyZXR1cm4gYW5kcm9pZDtcblx0fVxuXHRcblx0dmFyIHN2Z0RyYXdlciA9IChmdW5jdGlvbigpIHtcblxuXHRcdHZhciBEcmF3aW5nID0gZnVuY3Rpb24gKGVsLCBodE9wdGlvbikge1xuXHRcdFx0dGhpcy5fZWwgPSBlbDtcblx0XHRcdHRoaXMuX2h0T3B0aW9uID0gaHRPcHRpb247XG5cdFx0fTtcblxuXHRcdERyYXdpbmcucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAob1FSQ29kZSkge1xuXHRcdFx0dmFyIF9odE9wdGlvbiA9IHRoaXMuX2h0T3B0aW9uO1xuXHRcdFx0dmFyIF9lbCA9IHRoaXMuX2VsO1xuXHRcdFx0dmFyIG5Db3VudCA9IG9RUkNvZGUuZ2V0TW9kdWxlQ291bnQoKTtcblx0XHRcdHZhciBuV2lkdGggPSBNYXRoLmZsb29yKF9odE9wdGlvbi53aWR0aCAvIG5Db3VudCk7XG5cdFx0XHR2YXIgbkhlaWdodCA9IE1hdGguZmxvb3IoX2h0T3B0aW9uLmhlaWdodCAvIG5Db3VudCk7XG5cblx0XHRcdHRoaXMuY2xlYXIoKTtcblxuXHRcdFx0ZnVuY3Rpb24gbWFrZVNWRyh0YWcsIGF0dHJzKSB7XG5cdFx0XHRcdHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCB0YWcpO1xuXHRcdFx0XHRmb3IgKHZhciBrIGluIGF0dHJzKVxuXHRcdFx0XHRcdGlmIChhdHRycy5oYXNPd25Qcm9wZXJ0eShrKSkgZWwuc2V0QXR0cmlidXRlKGssIGF0dHJzW2tdKTtcblx0XHRcdFx0cmV0dXJuIGVsO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgc3ZnID0gbWFrZVNWRyhcInN2Z1wiICwgeyd2aWV3Qm94JzogJzAgMCAnICsgU3RyaW5nKG5Db3VudCkgKyBcIiBcIiArIFN0cmluZyhuQ291bnQpLCAnd2lkdGgnOiAnMTAwJScsICdoZWlnaHQnOiAnMTAwJScsICdmaWxsJzogX2h0T3B0aW9uLmNvbG9yTGlnaHR9KTtcblx0XHRcdHN2Zy5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvXCIsIFwieG1sbnM6eGxpbmtcIiwgXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIpO1xuXHRcdFx0X2VsLmFwcGVuZENoaWxkKHN2Zyk7XG5cblx0XHRcdHN2Zy5hcHBlbmRDaGlsZChtYWtlU1ZHKFwicmVjdFwiLCB7XCJmaWxsXCI6IF9odE9wdGlvbi5jb2xvckxpZ2h0LCBcIndpZHRoXCI6IFwiMTAwJVwiLCBcImhlaWdodFwiOiBcIjEwMCVcIn0pKTtcblx0XHRcdHN2Zy5hcHBlbmRDaGlsZChtYWtlU1ZHKFwicmVjdFwiLCB7XCJmaWxsXCI6IF9odE9wdGlvbi5jb2xvckRhcmssIFwid2lkdGhcIjogXCIxXCIsIFwiaGVpZ2h0XCI6IFwiMVwiLCBcImlkXCI6IFwidGVtcGxhdGVcIn0pKTtcblxuXHRcdFx0Zm9yICh2YXIgcm93ID0gMDsgcm93IDwgbkNvdW50OyByb3crKykge1xuXHRcdFx0XHRmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBuQ291bnQ7IGNvbCsrKSB7XG5cdFx0XHRcdFx0aWYgKG9RUkNvZGUuaXNEYXJrKHJvdywgY29sKSkge1xuXHRcdFx0XHRcdFx0dmFyIGNoaWxkID0gbWFrZVNWRyhcInVzZVwiLCB7XCJ4XCI6IFN0cmluZyhjb2wpLCBcInlcIjogU3RyaW5nKHJvdyl9KTtcblx0XHRcdFx0XHRcdGNoaWxkLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLCBcImhyZWZcIiwgXCIjdGVtcGxhdGVcIilcblx0XHRcdFx0XHRcdHN2Zy5hcHBlbmRDaGlsZChjaGlsZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0XHREcmF3aW5nLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHdoaWxlICh0aGlzLl9lbC5oYXNDaGlsZE5vZGVzKCkpXG5cdFx0XHRcdHRoaXMuX2VsLnJlbW92ZUNoaWxkKHRoaXMuX2VsLmxhc3RDaGlsZCk7XG5cdFx0fTtcblx0XHRyZXR1cm4gRHJhd2luZztcblx0fSkoKTtcblxuXHR2YXIgdXNlU1ZHID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdmdcIjtcblxuXHQvLyBEcmF3aW5nIGluIERPTSBieSB1c2luZyBUYWJsZSB0YWdcblx0dmFyIERyYXdpbmcgPSB1c2VTVkcgPyBzdmdEcmF3ZXIgOiAhX2lzU3VwcG9ydENhbnZhcygpID8gKGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgRHJhd2luZyA9IGZ1bmN0aW9uIChlbCwgaHRPcHRpb24pIHtcblx0XHRcdHRoaXMuX2VsID0gZWw7XG5cdFx0XHR0aGlzLl9odE9wdGlvbiA9IGh0T3B0aW9uO1xuXHRcdH07XG5cdFx0XHRcblx0XHQvKipcblx0XHQgKiBEcmF3IHRoZSBRUkNvZGVcblx0XHQgKiBcblx0XHQgKiBAcGFyYW0ge1FSQ29kZX0gb1FSQ29kZVxuXHRcdCAqL1xuXHRcdERyYXdpbmcucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAob1FSQ29kZSkge1xuICAgICAgICAgICAgdmFyIF9odE9wdGlvbiA9IHRoaXMuX2h0T3B0aW9uO1xuICAgICAgICAgICAgdmFyIF9lbCA9IHRoaXMuX2VsO1xuXHRcdFx0dmFyIG5Db3VudCA9IG9RUkNvZGUuZ2V0TW9kdWxlQ291bnQoKTtcblx0XHRcdHZhciBuV2lkdGggPSBNYXRoLmZsb29yKF9odE9wdGlvbi53aWR0aCAvIG5Db3VudCk7XG5cdFx0XHR2YXIgbkhlaWdodCA9IE1hdGguZmxvb3IoX2h0T3B0aW9uLmhlaWdodCAvIG5Db3VudCk7XG5cdFx0XHR2YXIgYUhUTUwgPSBbJzx0YWJsZSBzdHlsZT1cImJvcmRlcjowO2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtcIj4nXTtcblx0XHRcdFxuXHRcdFx0Zm9yICh2YXIgcm93ID0gMDsgcm93IDwgbkNvdW50OyByb3crKykge1xuXHRcdFx0XHRhSFRNTC5wdXNoKCc8dHI+Jyk7XG5cdFx0XHRcdFxuXHRcdFx0XHRmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBuQ291bnQ7IGNvbCsrKSB7XG5cdFx0XHRcdFx0YUhUTUwucHVzaCgnPHRkIHN0eWxlPVwiYm9yZGVyOjA7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO3BhZGRpbmc6MDttYXJnaW46MDt3aWR0aDonICsgbldpZHRoICsgJ3B4O2hlaWdodDonICsgbkhlaWdodCArICdweDtiYWNrZ3JvdW5kLWNvbG9yOicgKyAob1FSQ29kZS5pc0Rhcmsocm93LCBjb2wpID8gX2h0T3B0aW9uLmNvbG9yRGFyayA6IF9odE9wdGlvbi5jb2xvckxpZ2h0KSArICc7XCI+PC90ZD4nKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0YUhUTUwucHVzaCgnPC90cj4nKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0YUhUTUwucHVzaCgnPC90YWJsZT4nKTtcblx0XHRcdF9lbC5pbm5lckhUTUwgPSBhSFRNTC5qb2luKCcnKTtcblx0XHRcdFxuXHRcdFx0Ly8gRml4IHRoZSBtYXJnaW4gdmFsdWVzIGFzIHJlYWwgc2l6ZS5cblx0XHRcdHZhciBlbFRhYmxlID0gX2VsLmNoaWxkTm9kZXNbMF07XG5cdFx0XHR2YXIgbkxlZnRNYXJnaW5UYWJsZSA9IChfaHRPcHRpb24ud2lkdGggLSBlbFRhYmxlLm9mZnNldFdpZHRoKSAvIDI7XG5cdFx0XHR2YXIgblRvcE1hcmdpblRhYmxlID0gKF9odE9wdGlvbi5oZWlnaHQgLSBlbFRhYmxlLm9mZnNldEhlaWdodCkgLyAyO1xuXHRcdFx0XG5cdFx0XHRpZiAobkxlZnRNYXJnaW5UYWJsZSA+IDAgJiYgblRvcE1hcmdpblRhYmxlID4gMCkge1xuXHRcdFx0XHRlbFRhYmxlLnN0eWxlLm1hcmdpbiA9IG5Ub3BNYXJnaW5UYWJsZSArIFwicHggXCIgKyBuTGVmdE1hcmdpblRhYmxlICsgXCJweFwiO1x0XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRcblx0XHQvKipcblx0XHQgKiBDbGVhciB0aGUgUVJDb2RlXG5cdFx0ICovXG5cdFx0RHJhd2luZy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGlzLl9lbC5pbm5lckhUTUwgPSAnJztcblx0XHR9O1xuXHRcdFxuXHRcdHJldHVybiBEcmF3aW5nO1xuXHR9KSgpIDogKGZ1bmN0aW9uICgpIHsgLy8gRHJhd2luZyBpbiBDYW52YXNcblx0XHRmdW5jdGlvbiBfb25NYWtlSW1hZ2UoKSB7XG5cdFx0XHR0aGlzLl9lbEltYWdlLnNyYyA9IHRoaXMuX2VsQ2FudmFzLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKTtcblx0XHRcdHRoaXMuX2VsSW1hZ2Uuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblx0XHRcdHRoaXMuX2VsQ2FudmFzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcdFx0XHRcblx0XHR9XG5cdFx0XG5cdFx0Ly8gQW5kcm9pZCAyLjEgYnVnIHdvcmthcm91bmRcblx0XHQvLyBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvYW5kcm9pZC9pc3N1ZXMvZGV0YWlsP2lkPTUxNDFcblx0XHRpZiAodGhpcy5fYW5kcm9pZCAmJiB0aGlzLl9hbmRyb2lkIDw9IDIuMSkge1xuXHQgICAgXHR2YXIgZmFjdG9yID0gMSAvIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuXHQgICAgICAgIHZhciBkcmF3SW1hZ2UgPSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQucHJvdG90eXBlLmRyYXdJbWFnZTsgXG5cdCAgICBcdENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUuZHJhd0ltYWdlID0gZnVuY3Rpb24gKGltYWdlLCBzeCwgc3ksIHN3LCBzaCwgZHgsIGR5LCBkdywgZGgpIHtcblx0ICAgIFx0XHRpZiAoKFwibm9kZU5hbWVcIiBpbiBpbWFnZSkgJiYgL2ltZy9pLnRlc3QoaW1hZ2Uubm9kZU5hbWUpKSB7XG5cdFx0ICAgICAgICBcdGZvciAodmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSA+PSAxOyBpLS0pIHtcblx0XHQgICAgICAgICAgICBcdGFyZ3VtZW50c1tpXSA9IGFyZ3VtZW50c1tpXSAqIGZhY3Rvcjtcblx0XHQgICAgICAgIFx0fVxuXHQgICAgXHRcdH0gZWxzZSBpZiAodHlwZW9mIGR3ID09IFwidW5kZWZpbmVkXCIpIHtcblx0ICAgIFx0XHRcdGFyZ3VtZW50c1sxXSAqPSBmYWN0b3I7XG5cdCAgICBcdFx0XHRhcmd1bWVudHNbMl0gKj0gZmFjdG9yO1xuXHQgICAgXHRcdFx0YXJndW1lbnRzWzNdICo9IGZhY3Rvcjtcblx0ICAgIFx0XHRcdGFyZ3VtZW50c1s0XSAqPSBmYWN0b3I7XG5cdCAgICBcdFx0fVxuXHQgICAgXHRcdFxuXHQgICAgICAgIFx0ZHJhd0ltYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IFxuXHQgICAgXHR9O1xuXHRcdH1cblx0XHRcblx0XHQvKipcblx0XHQgKiBDaGVjayB3aGV0aGVyIHRoZSB1c2VyJ3MgYnJvd3NlciBzdXBwb3J0cyBEYXRhIFVSSSBvciBub3Rcblx0XHQgKiBcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZTdWNjZXNzIE9jY3VycyBpZiBpdCBzdXBwb3J0cyBEYXRhIFVSSVxuXHRcdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZGYWlsIE9jY3VycyBpZiBpdCBkb2Vzbid0IHN1cHBvcnQgRGF0YSBVUklcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBfc2FmZVNldERhdGFVUkkoZlN1Y2Nlc3MsIGZGYWlsKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBzZWxmLl9mRmFpbCA9IGZGYWlsO1xuICAgICAgICAgICAgc2VsZi5fZlN1Y2Nlc3MgPSBmU3VjY2VzcztcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaXQganVzdCBvbmNlXG4gICAgICAgICAgICBpZiAoc2VsZi5fYlN1cHBvcnREYXRhVVJJID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgICAgICAgICB2YXIgZk9uRXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fYlN1cHBvcnREYXRhVVJJID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuX2ZGYWlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9mRmFpbC5jYWxsKHNlbGYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgZk9uU3VjY2VzcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9iU3VwcG9ydERhdGFVUkkgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLl9mU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fZlN1Y2Nlc3MuY2FsbChzZWxmKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBlbC5vbmFib3J0ID0gZk9uRXJyb3I7XG4gICAgICAgICAgICAgICAgZWwub25lcnJvciA9IGZPbkVycm9yO1xuICAgICAgICAgICAgICAgIGVsLm9ubG9hZCA9IGZPblN1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgZWwuc3JjID0gXCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFVQUFBQUZDQVlBQUFDTmJ5YmxBQUFBSEVsRVFWUUkxMlA0Ly84L3czOEdJQVhESUJLRTBESHhnbGpOQkFBTzlUWEwwWTRPSHdBQUFBQkpSVTVFcmtKZ2dnPT1cIjsgLy8gdGhlIEltYWdlIGNvbnRhaW5zIDFweCBkYXRhLlxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZi5fYlN1cHBvcnREYXRhVVJJID09PSB0cnVlICYmIHNlbGYuX2ZTdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fZlN1Y2Nlc3MuY2FsbChzZWxmKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZi5fYlN1cHBvcnREYXRhVVJJID09PSBmYWxzZSAmJiBzZWxmLl9mRmFpbCkge1xuICAgICAgICAgICAgICAgIHNlbGYuX2ZGYWlsLmNhbGwoc2VsZik7XG4gICAgICAgICAgICB9XG5cdFx0fTtcblx0XHRcblx0XHQvKipcblx0XHQgKiBEcmF3aW5nIFFSQ29kZSBieSB1c2luZyBjYW52YXNcblx0XHQgKiBcblx0XHQgKiBAY29uc3RydWN0b3Jcblx0XHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbFxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBodE9wdGlvbiBRUkNvZGUgT3B0aW9ucyBcblx0XHQgKi9cblx0XHR2YXIgRHJhd2luZyA9IGZ1bmN0aW9uIChlbCwgaHRPcHRpb24pIHtcbiAgICBcdFx0dGhpcy5fYklzUGFpbnRlZCA9IGZhbHNlO1xuICAgIFx0XHR0aGlzLl9hbmRyb2lkID0gX2dldEFuZHJvaWQoKTtcblx0XHRcblx0XHRcdHRoaXMuX2h0T3B0aW9uID0gaHRPcHRpb247XG5cdFx0XHR0aGlzLl9lbENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG5cdFx0XHR0aGlzLl9lbENhbnZhcy53aWR0aCA9IGh0T3B0aW9uLndpZHRoO1xuXHRcdFx0dGhpcy5fZWxDYW52YXMuaGVpZ2h0ID0gaHRPcHRpb24uaGVpZ2h0O1xuXHRcdFx0ZWwuYXBwZW5kQ2hpbGQodGhpcy5fZWxDYW52YXMpO1xuXHRcdFx0dGhpcy5fZWwgPSBlbDtcblx0XHRcdHRoaXMuX29Db250ZXh0ID0gdGhpcy5fZWxDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXHRcdFx0dGhpcy5fYklzUGFpbnRlZCA9IGZhbHNlO1xuXHRcdFx0dGhpcy5fZWxJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG5cdFx0XHR0aGlzLl9lbEltYWdlLmFsdCA9IFwiU2NhbiBtZSFcIjtcblx0XHRcdHRoaXMuX2VsSW1hZ2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXHRcdFx0dGhpcy5fZWwuYXBwZW5kQ2hpbGQodGhpcy5fZWxJbWFnZSk7XG5cdFx0XHR0aGlzLl9iU3VwcG9ydERhdGFVUkkgPSBudWxsO1xuXHRcdH07XG5cdFx0XHRcblx0XHQvKipcblx0XHQgKiBEcmF3IHRoZSBRUkNvZGVcblx0XHQgKiBcblx0XHQgKiBAcGFyYW0ge1FSQ29kZX0gb1FSQ29kZSBcblx0XHQgKi9cblx0XHREcmF3aW5nLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKG9RUkNvZGUpIHtcbiAgICAgICAgICAgIHZhciBfZWxJbWFnZSA9IHRoaXMuX2VsSW1hZ2U7XG4gICAgICAgICAgICB2YXIgX29Db250ZXh0ID0gdGhpcy5fb0NvbnRleHQ7XG4gICAgICAgICAgICB2YXIgX2h0T3B0aW9uID0gdGhpcy5faHRPcHRpb247XG4gICAgICAgICAgICBcblx0XHRcdHZhciBuQ291bnQgPSBvUVJDb2RlLmdldE1vZHVsZUNvdW50KCk7XG5cdFx0XHR2YXIgbldpZHRoID0gX2h0T3B0aW9uLndpZHRoIC8gbkNvdW50O1xuXHRcdFx0dmFyIG5IZWlnaHQgPSBfaHRPcHRpb24uaGVpZ2h0IC8gbkNvdW50O1xuXHRcdFx0dmFyIG5Sb3VuZGVkV2lkdGggPSBNYXRoLnJvdW5kKG5XaWR0aCk7XG5cdFx0XHR2YXIgblJvdW5kZWRIZWlnaHQgPSBNYXRoLnJvdW5kKG5IZWlnaHQpO1xuXG5cdFx0XHRfZWxJbWFnZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdFx0XHR0aGlzLmNsZWFyKCk7XG5cdFx0XHRcblx0XHRcdGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IG5Db3VudDsgcm93KyspIHtcblx0XHRcdFx0Zm9yICh2YXIgY29sID0gMDsgY29sIDwgbkNvdW50OyBjb2wrKykge1xuXHRcdFx0XHRcdHZhciBiSXNEYXJrID0gb1FSQ29kZS5pc0Rhcmsocm93LCBjb2wpO1xuXHRcdFx0XHRcdHZhciBuTGVmdCA9IGNvbCAqIG5XaWR0aDtcblx0XHRcdFx0XHR2YXIgblRvcCA9IHJvdyAqIG5IZWlnaHQ7XG5cdFx0XHRcdFx0X29Db250ZXh0LnN0cm9rZVN0eWxlID0gYklzRGFyayA/IF9odE9wdGlvbi5jb2xvckRhcmsgOiBfaHRPcHRpb24uY29sb3JMaWdodDtcblx0XHRcdFx0XHRfb0NvbnRleHQubGluZVdpZHRoID0gMTtcblx0XHRcdFx0XHRfb0NvbnRleHQuZmlsbFN0eWxlID0gYklzRGFyayA/IF9odE9wdGlvbi5jb2xvckRhcmsgOiBfaHRPcHRpb24uY29sb3JMaWdodDtcdFx0XHRcdFx0XG5cdFx0XHRcdFx0X29Db250ZXh0LmZpbGxSZWN0KG5MZWZ0LCBuVG9wLCBuV2lkdGgsIG5IZWlnaHQpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIOyViO2LsCDslajrpqzslrTsi7Eg67Cp7KeAIOyymOumrFxuXHRcdFx0XHRcdF9vQ29udGV4dC5zdHJva2VSZWN0KFxuXHRcdFx0XHRcdFx0TWF0aC5mbG9vcihuTGVmdCkgKyAwLjUsXG5cdFx0XHRcdFx0XHRNYXRoLmZsb29yKG5Ub3ApICsgMC41LFxuXHRcdFx0XHRcdFx0blJvdW5kZWRXaWR0aCxcblx0XHRcdFx0XHRcdG5Sb3VuZGVkSGVpZ2h0XG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRfb0NvbnRleHQuc3Ryb2tlUmVjdChcblx0XHRcdFx0XHRcdE1hdGguY2VpbChuTGVmdCkgLSAwLjUsXG5cdFx0XHRcdFx0XHRNYXRoLmNlaWwoblRvcCkgLSAwLjUsXG5cdFx0XHRcdFx0XHRuUm91bmRlZFdpZHRoLFxuXHRcdFx0XHRcdFx0blJvdW5kZWRIZWlnaHRcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHRoaXMuX2JJc1BhaW50ZWQgPSB0cnVlO1xuXHRcdH07XG5cdFx0XHRcblx0XHQvKipcblx0XHQgKiBNYWtlIHRoZSBpbWFnZSBmcm9tIENhbnZhcyBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBEYXRhIFVSSS5cblx0XHQgKi9cblx0XHREcmF3aW5nLnByb3RvdHlwZS5tYWtlSW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAodGhpcy5fYklzUGFpbnRlZCkge1xuXHRcdFx0XHRfc2FmZVNldERhdGFVUkkuY2FsbCh0aGlzLCBfb25NYWtlSW1hZ2UpO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0XHRcblx0XHQvKipcblx0XHQgKiBSZXR1cm4gd2hldGhlciB0aGUgUVJDb2RlIGlzIHBhaW50ZWQgb3Igbm90XG5cdFx0ICogXG5cdFx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0XHQgKi9cblx0XHREcmF3aW5nLnByb3RvdHlwZS5pc1BhaW50ZWQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fYklzUGFpbnRlZDtcblx0XHR9O1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIENsZWFyIHRoZSBRUkNvZGVcblx0XHQgKi9cblx0XHREcmF3aW5nLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoaXMuX29Db250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLl9lbENhbnZhcy53aWR0aCwgdGhpcy5fZWxDYW52YXMuaGVpZ2h0KTtcblx0XHRcdHRoaXMuX2JJc1BhaW50ZWQgPSBmYWxzZTtcblx0XHR9O1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IG5OdW1iZXJcblx0XHQgKi9cblx0XHREcmF3aW5nLnByb3RvdHlwZS5yb3VuZCA9IGZ1bmN0aW9uIChuTnVtYmVyKSB7XG5cdFx0XHRpZiAoIW5OdW1iZXIpIHtcblx0XHRcdFx0cmV0dXJuIG5OdW1iZXI7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHJldHVybiBNYXRoLmZsb29yKG5OdW1iZXIgKiAxMDAwKSAvIDEwMDA7XG5cdFx0fTtcblx0XHRcblx0XHRyZXR1cm4gRHJhd2luZztcblx0fSkoKTtcblx0XG5cdC8qKlxuXHQgKiBHZXQgdGhlIHR5cGUgYnkgc3RyaW5nIGxlbmd0aFxuXHQgKiBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHNUZXh0XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBuQ29ycmVjdExldmVsXG5cdCAqIEByZXR1cm4ge051bWJlcn0gdHlwZVxuXHQgKi9cblx0ZnVuY3Rpb24gX2dldFR5cGVOdW1iZXIoc1RleHQsIG5Db3JyZWN0TGV2ZWwpIHtcdFx0XHRcblx0XHR2YXIgblR5cGUgPSAxO1xuXHRcdHZhciBsZW5ndGggPSBfZ2V0VVRGOExlbmd0aChzVGV4dCk7XG5cdFx0XG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IFFSQ29kZUxpbWl0TGVuZ3RoLmxlbmd0aDsgaSA8PSBsZW47IGkrKykge1xuXHRcdFx0dmFyIG5MaW1pdCA9IDA7XG5cdFx0XHRcblx0XHRcdHN3aXRjaCAobkNvcnJlY3RMZXZlbCkge1xuXHRcdFx0XHRjYXNlIFFSRXJyb3JDb3JyZWN0TGV2ZWwuTCA6XG5cdFx0XHRcdFx0bkxpbWl0ID0gUVJDb2RlTGltaXRMZW5ndGhbaV1bMF07XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgUVJFcnJvckNvcnJlY3RMZXZlbC5NIDpcblx0XHRcdFx0XHRuTGltaXQgPSBRUkNvZGVMaW1pdExlbmd0aFtpXVsxXTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBRUkVycm9yQ29ycmVjdExldmVsLlEgOlxuXHRcdFx0XHRcdG5MaW1pdCA9IFFSQ29kZUxpbWl0TGVuZ3RoW2ldWzJdO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFFSRXJyb3JDb3JyZWN0TGV2ZWwuSCA6XG5cdFx0XHRcdFx0bkxpbWl0ID0gUVJDb2RlTGltaXRMZW5ndGhbaV1bM107XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmIChsZW5ndGggPD0gbkxpbWl0KSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0blR5cGUrKztcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0aWYgKG5UeXBlID4gUVJDb2RlTGltaXRMZW5ndGgubGVuZ3RoKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJUb28gbG9uZyBkYXRhXCIpO1xuXHRcdH1cblx0XHRcblx0XHRyZXR1cm4gblR5cGU7XG5cdH1cblxuXHRmdW5jdGlvbiBfZ2V0VVRGOExlbmd0aChzVGV4dCkge1xuXHRcdHZhciByZXBsYWNlZFRleHQgPSBlbmNvZGVVUkkoc1RleHQpLnRvU3RyaW5nKCkucmVwbGFjZSgvXFwlWzAtOWEtZkEtRl17Mn0vZywgJ2EnKTtcblx0XHRyZXR1cm4gcmVwbGFjZWRUZXh0Lmxlbmd0aCArIChyZXBsYWNlZFRleHQubGVuZ3RoICE9IHNUZXh0ID8gMyA6IDApO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQGNsYXNzIFFSQ29kZVxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4YW1wbGUgXG5cdCAqIG5ldyBRUkNvZGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZXN0XCIpLCBcImh0dHA6Ly9qaW5kby5kZXYubmF2ZXIuY29tL2NvbGxpZVwiKTtcblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogdmFyIG9RUkNvZGUgPSBuZXcgUVJDb2RlKFwidGVzdFwiLCB7XG5cdCAqICAgIHRleHQgOiBcImh0dHA6Ly9uYXZlci5jb21cIixcblx0ICogICAgd2lkdGggOiAxMjgsXG5cdCAqICAgIGhlaWdodCA6IDEyOFxuXHQgKiB9KTtcblx0ICogXG5cdCAqIG9RUkNvZGUuY2xlYXIoKTsgLy8gQ2xlYXIgdGhlIFFSQ29kZS5cblx0ICogb1FSQ29kZS5tYWtlQ29kZShcImh0dHA6Ly9tYXAubmF2ZXIuY29tXCIpOyAvLyBSZS1jcmVhdGUgdGhlIFFSQ29kZS5cblx0ICpcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudHxTdHJpbmd9IGVsIHRhcmdldCBlbGVtZW50IG9yICdpZCcgYXR0cmlidXRlIG9mIGVsZW1lbnQuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gdk9wdGlvblxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdk9wdGlvbi50ZXh0IFFSQ29kZSBsaW5rIGRhdGFcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFt2T3B0aW9uLndpZHRoPTI1Nl1cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFt2T3B0aW9uLmhlaWdodD0yNTZdXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbdk9wdGlvbi5jb2xvckRhcms9XCIjMDAwMDAwXCJdXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbdk9wdGlvbi5jb2xvckxpZ2h0PVwiI2ZmZmZmZlwiXVxuXHQgKiBAcGFyYW0ge1FSQ29kZS5Db3JyZWN0TGV2ZWx9IFt2T3B0aW9uLmNvcnJlY3RMZXZlbD1RUkNvZGUuQ29ycmVjdExldmVsLkhdIFtMfE18UXxIXSBcblx0ICovXG5cdFFSQ29kZSA9IGZ1bmN0aW9uIChlbCwgdk9wdGlvbikge1xuXHRcdHRoaXMuX2h0T3B0aW9uID0ge1xuXHRcdFx0d2lkdGggOiAyNTYsIFxuXHRcdFx0aGVpZ2h0IDogMjU2LFxuXHRcdFx0dHlwZU51bWJlciA6IDQsXG5cdFx0XHRjb2xvckRhcmsgOiBcIiMwMDAwMDBcIixcblx0XHRcdGNvbG9yTGlnaHQgOiBcIiNmZmZmZmZcIixcblx0XHRcdGNvcnJlY3RMZXZlbCA6IFFSRXJyb3JDb3JyZWN0TGV2ZWwuSFxuXHRcdH07XG5cdFx0XG5cdFx0aWYgKHR5cGVvZiB2T3B0aW9uID09PSAnc3RyaW5nJykge1xuXHRcdFx0dk9wdGlvblx0PSB7XG5cdFx0XHRcdHRleHQgOiB2T3B0aW9uXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRcblx0XHQvLyBPdmVyd3JpdGVzIG9wdGlvbnNcblx0XHRpZiAodk9wdGlvbikge1xuXHRcdFx0Zm9yICh2YXIgaSBpbiB2T3B0aW9uKSB7XG5cdFx0XHRcdHRoaXMuX2h0T3B0aW9uW2ldID0gdk9wdGlvbltpXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0aWYgKHR5cGVvZiBlbCA9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5faHRPcHRpb24udXNlU1ZHKSB7XG5cdFx0XHREcmF3aW5nID0gc3ZnRHJhd2VyO1xuXHRcdH1cblx0XHRcblx0XHR0aGlzLl9hbmRyb2lkID0gX2dldEFuZHJvaWQoKTtcblx0XHR0aGlzLl9lbCA9IGVsO1xuXHRcdHRoaXMuX29RUkNvZGUgPSBudWxsO1xuXHRcdHRoaXMuX29EcmF3aW5nID0gbmV3IERyYXdpbmcodGhpcy5fZWwsIHRoaXMuX2h0T3B0aW9uKTtcblx0XHRcblx0XHRpZiAodGhpcy5faHRPcHRpb24udGV4dCkge1xuXHRcdFx0dGhpcy5tYWtlQ29kZSh0aGlzLl9odE9wdGlvbi50ZXh0KTtcdFxuXHRcdH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBNYWtlIHRoZSBRUkNvZGVcblx0ICogXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzVGV4dCBsaW5rIGRhdGFcblx0ICovXG5cdFFSQ29kZS5wcm90b3R5cGUubWFrZUNvZGUgPSBmdW5jdGlvbiAoc1RleHQpIHtcblx0XHR0aGlzLl9vUVJDb2RlID0gbmV3IFFSQ29kZU1vZGVsKF9nZXRUeXBlTnVtYmVyKHNUZXh0LCB0aGlzLl9odE9wdGlvbi5jb3JyZWN0TGV2ZWwpLCB0aGlzLl9odE9wdGlvbi5jb3JyZWN0TGV2ZWwpO1xuXHRcdHRoaXMuX29RUkNvZGUuYWRkRGF0YShzVGV4dCk7XG5cdFx0dGhpcy5fb1FSQ29kZS5tYWtlKCk7XG5cdFx0dGhpcy5fZWwudGl0bGUgPSBzVGV4dDtcblx0XHR0aGlzLl9vRHJhd2luZy5kcmF3KHRoaXMuX29RUkNvZGUpO1x0XHRcdFxuXHRcdHRoaXMubWFrZUltYWdlKCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogTWFrZSB0aGUgSW1hZ2UgZnJvbSBDYW52YXMgZWxlbWVudFxuXHQgKiAtIEl0IG9jY3VycyBhdXRvbWF0aWNhbGx5XG5cdCAqIC0gQW5kcm9pZCBiZWxvdyAzIGRvZXNuJ3Qgc3VwcG9ydCBEYXRhLVVSSSBzcGVjLlxuXHQgKiBcblx0ICogQHByaXZhdGVcblx0ICovXG5cdFFSQ29kZS5wcm90b3R5cGUubWFrZUltYWdlID0gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgdGhpcy5fb0RyYXdpbmcubWFrZUltYWdlID09IFwiZnVuY3Rpb25cIiAmJiAoIXRoaXMuX2FuZHJvaWQgfHwgdGhpcy5fYW5kcm9pZCA+PSAzKSkge1xuXHRcdFx0dGhpcy5fb0RyYXdpbmcubWFrZUltYWdlKCk7XG5cdFx0fVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENsZWFyIHRoZSBRUkNvZGVcblx0ICovXG5cdFFSQ29kZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fb0RyYXdpbmcuY2xlYXIoKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBAbmFtZSBRUkNvZGUuQ29ycmVjdExldmVsXG5cdCAqL1xuXHRRUkNvZGUuQ29ycmVjdExldmVsID0gUVJFcnJvckNvcnJlY3RMZXZlbDtcbn0pKCk7IiwiLyoqXG4gKiBUaW55QW5pbWF0ZVxuICogIHZlcnNpb24gMC4zLjBcbiAqXG4gKiBTb3VyY2U6ICBodHRwczovL2dpdGh1Yi5jb20vYnJhbm5lbWFuL1RpbnlBbmltYXRlXG4gKiBBdXRob3I6ICBCcmFuIHZhbiBkZXIgTWVlciA8YnJhbm1vdmljQGdtYWlsLmNvbT4gKGh0dHA6Ly9icmFuLm5hbWUvKVxuICogTGljZW5zZTogTUlUXG4gKlxuICogRnVuY3Rpb25zOlxuICogIFRpbnlBbmltYXRlLmFuaW1hdGUoZnJvbSwgdG8sIGR1cmF0aW9uLCB1cGRhdGUsIGVhc2luZywgZG9uZSlcbiAqICBUaW55QW5pbWF0ZS5hbmltYXRlQ1NTKGVsZW1lbnQsIHByb3BlcnR5LCB1bml0LCBmcm9tLCB0bywgZHVyYXRpb24sIGVhc2luZywgZG9uZSlcbiAqICBUaW55QW5pbWF0ZS5jYW5jZWwoYW5pbWF0aW9uKVxuICpcbiAqIFBhcmFtZXRlcnM6XG4gKiAgZWxlbWVudCAgIEhUTUxFbGVtZW50ICAgICAgICBBIGRvbSBub2RlXG4gKiAgcHJvcGVydHkgIHN0cmluZyAgICAgICAgICAgICBQcm9wZXJ0eSBuYW1lLCBhcyBhdmFpbGFibGUgaW4gZWxlbWVudC5zdHlsZSwgaS5lLiAnYm9yZGVyUmFkaXVzJywgbm90ICdib3JkZXItcmFkaXVzJ1xuICogIHVuaXQgICAgICBzdHJpbmcgICAgICAgICAgICAgUHJvcGVydHkgdW5pdCwgbGlrZSAncHgnXG4gKiAgZnJvbSAgICAgIGludCAgICAgICAgICAgICAgICBQcm9wZXJ0eSB2YWx1ZSB0byBhbmltYXRlIGZyb21cbiAqICB0byAgICAgICAgaW50ICAgICAgICAgICAgICAgIFByb3BlcnR5IHZhbHVlIHRvIGFuaW1hdGUgdG9cbiAqICBkdXJhdGlvbiAgaW50ICAgICAgICAgICAgICAgIER1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xuICogIHVwZGF0ZSAgICBmdW5jdGlvbiAgICAgICAgICAgRnVuY3Rpb24gdG8gaW1wbGVtZW50IHVwZGF0aW5nIHRoZSBET00sIGdldCdzIGNhbGxlZCB3aXRoIGEgdmFsdWUgYmV0d2VlbiBgZnJvbWAgYW5kIGB0b2BcbiAqICBlYXNpbmcgICAgc3RyaW5nIHwgZnVuY3Rpb24gIE9wdGlvbmFsOiBBIHN0cmluZyB3aGVuIHRoZSBlYXNpbmcgZnVuY3Rpb24gaXMgYXZhaWxhYmxlIGluIFRpbnlBbmltYXRlLmVhc2luZ3MsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgYSBmdW5jdGlvbiB3aXRoIHRoZSBzaWduYXR1cmU6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHsuLi59XG4gKiAgZG9uZSAgICAgIGZ1bmN0aW9uICAgICAgICAgICBPcHRpb25hbDogVG8gYmUgZXhlY3V0ZWQgd2hlbiB0aGUgYW5pbWF0aW9uIGhhcyBjb21wbGV0ZWQuXG4gKlxuICogUmV0dXJuczpcbiAqICBhbmltYXRpb24gb2JqZWN0ICAgICAgICAgICAgIEFuaW1hdGlvbiBvYmplY3QgdGhhdCBjYW4gYmUgY2FuY2VsZWQuXG4gKi9cblxuLyoqXG4gKiBVbml2ZXJzYWwgTW9kdWxlIERhbmNlXG4gKiAgY29uZmlnOiBDb21tb25KUyBTdHJpY3QsIGV4cG9ydHMgR2xvYmFsLCBzdXBwb3J0cyBjaXJjdWxhciBkZXBlbmRlbmNpZXNcbiAqICBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL1xuICovXG4oZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFsnZXhwb3J0cyddLCBmdW5jdGlvbihleHBvcnRzKSB7XG4gICAgICAgICAgICBmYWN0b3J5KChyb290LlRpbnlBbmltYXRlID0gZXhwb3J0cykpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICBmYWN0b3J5KGV4cG9ydHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZhY3RvcnkoKHJvb3QuVGlueUFuaW1hdGUgPSB7fSkpO1xuICAgIH1cbn0odGhpcywgZnVuY3Rpb24oZXhwb3J0cykge1xuXG4gICAgLyoqXG4gICAgICogVGlueUFuaW1hdGUuYW5pbWF0ZSgpXG4gICAgICovXG4gICAgZXhwb3J0cy5hbmltYXRlID0gZnVuY3Rpb24oZnJvbSwgdG8sIGR1cmF0aW9uLCB1cGRhdGUsIGVhc2luZywgZG9uZSkge1xuXG4gICAgICAgIC8vIEVhcmx5IGJhaWwgb3V0IGlmIGNhbGxlZCBpbmNvcnJlY3RseVxuICAgICAgICBpZiAodHlwZW9mIGZyb20gIT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICB0eXBlb2YgdG8gIT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICB0eXBlb2YgZHVyYXRpb24gIT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICB0eXBlb2YgdXBkYXRlICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIC8vIERldGVybWluZSBlYXNpbmdcbiAgICAgICAgaWYgKHR5cGVvZiBlYXNpbmcgPT09ICdzdHJpbmcnICYmIGVhc2luZ3NbZWFzaW5nXSkge1xuICAgICAgICAgICAgZWFzaW5nID0gZWFzaW5nc1tlYXNpbmddO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZWFzaW5nICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBlYXNpbmcgPSBlYXNpbmdzLmxpbmVhcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSBtb2NrIGRvbmUoKSBmdW5jdGlvbiBpZiBuZWNlc3NhcnlcbiAgICAgICAgaWYgKHR5cGVvZiBkb25lICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBkb25lID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBpY2sgaW1wbGVtZW50YXRpb24gKHJlcXVlc3RBbmltYXRpb25GcmFtZSB8IHNldFRpbWVvdXQpXG4gICAgICAgIHZhciByQUYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBBbmltYXRpb24gbG9vcFxuICAgICAgICB2YXIgY2FuY2VsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNoYW5nZSA9IHRvIC0gZnJvbTtcbiAgICAgICAgZnVuY3Rpb24gbG9vcCh0aW1lc3RhbXApIHtcbiAgICAgICAgICAgIGlmIChjYW5jZWxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0aW1lID0gKHRpbWVzdGFtcCB8fCArbmV3IERhdGUoKSkgLSBzdGFydDtcbiAgICAgICAgICAgIGlmICh0aW1lID49IDApIHtcbiAgICAgICAgICAgICAgICB1cGRhdGUoZWFzaW5nKHRpbWUsIGZyb20sIGNoYW5nZSwgZHVyYXRpb24pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aW1lID49IDAgJiYgdGltZSA+PSBkdXJhdGlvbikge1xuICAgICAgICAgICAgICAgIHVwZGF0ZSh0byk7XG4gICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByQUYobG9vcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlKGZyb20pO1xuXG4gICAgICAgIC8vIFN0YXJ0IGFuaW1hdGlvbiBsb29wXG4gICAgICAgIHZhciBzdGFydCA9IHdpbmRvdy5wZXJmb3JtYW5jZSAmJiB3aW5kb3cucGVyZm9ybWFuY2Uubm93ID8gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpIDogK25ldyBEYXRlKCk7XG5cbiAgICAgICAgckFGKGxvb3ApO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNhbmNlbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGlueUFuaW1hdGUuYW5pbWF0ZUNTUygpXG4gICAgICogIFNob3J0Y3V0IG1ldGhvZCBmb3IgYW5pbWF0aW5nIGNzcyBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgZXhwb3J0cy5hbmltYXRlQ1NTID0gZnVuY3Rpb24oZWxlbWVudCwgcHJvcGVydHksIHVuaXQsIGZyb20sIHRvLCBkdXJhdGlvbiwgZWFzaW5nLCBkb25lKSB7XG5cbiAgICAgICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BlcnR5XSA9IHZhbHVlICsgdW5pdDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuYW5pbWF0ZShmcm9tLCB0bywgZHVyYXRpb24sIHVwZGF0ZSwgZWFzaW5nLCBkb25lKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGlueUFuaW1hdGUuY2FuY2VsKClcbiAgICAgKiAgTWV0aG9kIGZvciBjYW5jZWxpbmcgYW5pbWF0aW9uc1xuICAgICAqL1xuICAgIGV4cG9ydHMuY2FuY2VsID0gZnVuY3Rpb24oYW5pbWF0aW9uKSB7XG4gICAgICAgIGlmICghYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYW5pbWF0aW9uLmNhbmNlbCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaW55QW5pbWF0ZS5lYXNpbmdzXG4gICAgICogIEFkYXB0ZWQgZnJvbSBqUXVlcnkgRWFzaW5nXG4gICAgICovXG4gICAgdmFyIGVhc2luZ3MgPSBleHBvcnRzLmVhc2luZ3MgPSB7fTtcbiAgICBlYXNpbmdzLmxpbmVhciA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIGMgKiB0IC8gZCArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJblF1YWQgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZU91dFF1YWQgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiAtYyAqICh0IC89IGQpICogKHQgLSAyKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbk91dFF1YWQgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCArIGI7XG4gICAgICAgIHJldHVybiAtYyAvIDIgKiAoKC0tdCkgKiAodCAtIDIpIC0gMSkgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5DdWJpYyA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZU91dEN1YmljID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCArIDEpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluT3V0Q3ViaWMgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKyBiO1xuICAgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCArIDIpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluUXVhcnQgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlT3V0UXVhcnQgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiAtYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgLSAxKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbk91dFF1YXJ0ID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgICAgIHJldHVybiAtYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgLSAyKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJblF1aW50ID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VPdXRRdWludCA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0ICogdCArIDEpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluT3V0UXVpbnQgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAqIHQgKyAyKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJblNpbmUgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiAtYyAqIE1hdGguY29zKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBjICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZU91dFNpbmUgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiBjICogTWF0aC5zaW4odCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbk91dFNpbmUgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiAtYyAvIDIgKiAoTWF0aC5jb3MoTWF0aC5QSSAqIHQgLyBkKSAtIDEpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluRXhwbyA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuICh0ID09IDApID8gYiA6IGMgKiBNYXRoLnBvdygyLCAxMCAqICh0IC8gZCAtIDEpKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VPdXRFeHBvID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gKHQgPT0gZCkgPyBiICsgYyA6IGMgKiAoLU1hdGgucG93KDIsIC0xMCAqIHQgLyBkKSArIDEpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluT3V0RXhwbyA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgaWYgKHQgPT0gMCkgcmV0dXJuIGI7XG4gICAgICAgIGlmICh0ID09IGQpIHJldHVybiBiICsgYztcbiAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKyBiO1xuICAgICAgICByZXR1cm4gYyAvIDIgKiAoLU1hdGgucG93KDIsIC0xMCAqIC0tdCkgKyAyKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbkNpcmMgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiAtYyAqIChNYXRoLnNxcnQoMSAtICh0IC89IGQpICogdCkgLSAxKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VPdXRDaXJjID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gYyAqIE1hdGguc3FydCgxIC0gKHQgPSB0IC8gZCAtIDEpICogdCkgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5PdXRDaXJjID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIC1jIC8gMiAqIChNYXRoLnNxcnQoMSAtIHQgKiB0KSAtIDEpICsgYjtcbiAgICAgICAgcmV0dXJuIGMgLyAyICogKE1hdGguc3FydCgxIC0gKHQgLT0gMikgKiB0KSArIDEpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluRWxhc3RpYyA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgdmFyIHAgPSAwO1xuICAgICAgICB2YXIgYSA9IGM7XG4gICAgICAgIGlmICh0ID09IDApIHJldHVybiBiO1xuICAgICAgICBpZiAoKHQgLz0gZCkgPT0gMSkgcmV0dXJuIGIgKyBjO1xuICAgICAgICBpZiAoIXApIHAgPSBkICogLjM7XG4gICAgICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgICAgICAgIGEgPSBjO1xuICAgICAgICAgICAgdmFyIHMgPSBwIC8gNDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHZhciBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuICAgICAgICByZXR1cm4gLShhICogTWF0aC5wb3coMiwgMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSkgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlT3V0RWxhc3RpYyA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgdmFyIHAgPSAwO1xuICAgICAgICB2YXIgYSA9IGM7XG4gICAgICAgIGlmICh0ID09IDApIHJldHVybiBiO1xuICAgICAgICBpZiAoKHQgLz0gZCkgPT0gMSkgcmV0dXJuIGIgKyBjO1xuICAgICAgICBpZiAoIXApIHAgPSBkICogLjM7XG4gICAgICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgICAgICAgIGEgPSBjO1xuICAgICAgICAgICAgdmFyIHMgPSBwIC8gNDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHZhciBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuICAgICAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqIHQpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKyBjICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluT3V0RWxhc3RpYyA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgdmFyIHAgPSAwO1xuICAgICAgICB2YXIgYSA9IGM7XG4gICAgICAgIGlmICh0ID09IDApIHJldHVybiBiO1xuICAgICAgICBpZiAoKHQgLz0gZCAvIDIpID09IDIpIHJldHVybiBiICsgYztcbiAgICAgICAgaWYgKCFwKSBwID0gZCAqICguMyAqIDEuNSk7XG4gICAgICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgICAgICAgIGEgPSBjO1xuICAgICAgICAgICAgdmFyIHMgPSBwIC8gNDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHZhciBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuICAgICAgICBpZiAodCA8IDEpIHJldHVybiAtLjUgKiAoYSAqIE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkpICsgYjtcbiAgICAgICAgcmV0dXJuIGEgKiBNYXRoLnBvdygyLCAtMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSAqIC41ICsgYyArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbkJhY2sgPSBmdW5jdGlvbih0LCBiLCBjLCBkLCBzKSB7XG4gICAgICAgIGlmIChzID09IHVuZGVmaW5lZCkgcyA9IDEuNzAxNTg7XG4gICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogKChzICsgMSkgKiB0IC0gcykgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlT3V0QmFjayA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQsIHMpIHtcbiAgICAgICAgaWYgKHMgPT0gdW5kZWZpbmVkKSBzID0gMS43MDE1ODtcbiAgICAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqICgocyArIDEpICogdCArIHMpICsgMSkgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5PdXRCYWNrID0gZnVuY3Rpb24odCwgYiwgYywgZCwgcykge1xuICAgICAgICBpZiAocyA9PSB1bmRlZmluZWQpIHMgPSAxLjcwMTU4O1xuICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogKHQgKiB0ICogKCgocyAqPSAoMS41MjUpKSArIDEpICogdCAtIHMpKSArIGI7XG4gICAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiAoKChzICo9ICgxLjUyNSkpICsgMSkgKiB0ICsgcykgKyAyKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbkJvdW5jZSA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIGMgLSBlYXNpbmdzLmVhc2VPdXRCb3VuY2UoZCAtIHQsIDAsIGMsIGQpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZU91dEJvdW5jZSA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgaWYgKCh0IC89IGQpIDwgKDEgLyAyLjc1KSkge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogdCAqIHQpICsgYjtcbiAgICAgICAgfSBlbHNlIGlmICh0IDwgKDIgLyAyLjc1KSkge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDEuNSAvIDIuNzUpKSAqIHQgKyAuNzUpICsgYjtcbiAgICAgICAgfSBlbHNlIGlmICh0IDwgKDIuNSAvIDIuNzUpKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAoMi4yNSAvIDIuNzUpKSAqIHQgKyAuOTM3NSkgKyBiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDIuNjI1IC8gMi43NSkpICogdCArIC45ODQzNzUpICsgYjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5PdXRCb3VuY2UgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIGlmICh0IDwgZCAvIDIpIHJldHVybiBlYXNpbmdzLmVhc2VJbkJvdW5jZSh0ICogMiwgMCwgYywgZCkgKiAuNSArIGI7XG4gICAgICAgIHJldHVybiBlYXNpbmdzLmVhc2VPdXRCb3VuY2UodCAqIDIgLSBkLCAwLCBjLCBkKSAqIC41ICsgYyAqIC41ICsgYjtcbiAgICB9O1xuXG59KSk7XG4iLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFsnZXhwb3J0cycsICdtb2R1bGUnXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZmFjdG9yeShleHBvcnRzLCBtb2R1bGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtb2QgPSB7XG4gICAgICAgICAgICBleHBvcnRzOiB7fVxuICAgICAgICB9O1xuICAgICAgICBmYWN0b3J5KG1vZC5leHBvcnRzLCBtb2QpO1xuICAgICAgICBnbG9iYWwuSW1wZXR1cyA9IG1vZC5leHBvcnRzO1xuICAgIH1cbn0pKHRoaXMsIGZ1bmN0aW9uIChleHBvcnRzLCBtb2R1bGUpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxuICAgIHZhciBzdG9wVGhyZXNob2xkRGVmYXVsdCA9IDAuMztcbiAgICB2YXIgYm91bmNlRGVjZWxlcmF0aW9uID0gMC4wNDtcbiAgICB2YXIgYm91bmNlQWNjZWxlcmF0aW9uID0gMC4xMTtcblxuICAgIC8vIGZpeGVzIHdlaXJkIHNhZmFyaSAxMCBidWcgd2hlcmUgcHJldmVudERlZmF1bHQgaXMgcHJldmVudGVkXG4gICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWV0YWZpenp5L2ZsaWNraXR5L2lzc3Vlcy80NTcjaXNzdWVjb21tZW50LTI1NDUwMTM1NlxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoKSB7fSk7XG5cbiAgICB2YXIgSW1wZXR1cyA9IGZ1bmN0aW9uIEltcGV0dXMoX3JlZikge1xuICAgICAgICB2YXIgX3JlZiRzb3VyY2UgPSBfcmVmLnNvdXJjZTtcbiAgICAgICAgdmFyIHNvdXJjZUVsID0gX3JlZiRzb3VyY2UgPT09IHVuZGVmaW5lZCA/IGRvY3VtZW50IDogX3JlZiRzb3VyY2U7XG4gICAgICAgIHZhciB1cGRhdGVDYWxsYmFjayA9IF9yZWYudXBkYXRlO1xuICAgICAgICB2YXIgX3JlZiRtdWx0aXBsaWVyID0gX3JlZi5tdWx0aXBsaWVyO1xuICAgICAgICB2YXIgbXVsdGlwbGllciA9IF9yZWYkbXVsdGlwbGllciA9PT0gdW5kZWZpbmVkID8gMSA6IF9yZWYkbXVsdGlwbGllcjtcbiAgICAgICAgdmFyIF9yZWYkZnJpY3Rpb24gPSBfcmVmLmZyaWN0aW9uO1xuICAgICAgICB2YXIgZnJpY3Rpb24gPSBfcmVmJGZyaWN0aW9uID09PSB1bmRlZmluZWQgPyAwLjkyIDogX3JlZiRmcmljdGlvbjtcbiAgICAgICAgdmFyIGluaXRpYWxWYWx1ZXMgPSBfcmVmLmluaXRpYWxWYWx1ZXM7XG4gICAgICAgIHZhciBib3VuZFggPSBfcmVmLmJvdW5kWDtcbiAgICAgICAgdmFyIGJvdW5kWSA9IF9yZWYuYm91bmRZO1xuICAgICAgICB2YXIgX3JlZiRib3VuY2UgPSBfcmVmLmJvdW5jZTtcbiAgICAgICAgdmFyIGJvdW5jZSA9IF9yZWYkYm91bmNlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiRib3VuY2U7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEltcGV0dXMpO1xuXG4gICAgICAgIHZhciBib3VuZFhtaW4sIGJvdW5kWG1heCwgYm91bmRZbWluLCBib3VuZFltYXgsIHBvaW50ZXJMYXN0WCwgcG9pbnRlckxhc3RZLCBwb2ludGVyQ3VycmVudFgsIHBvaW50ZXJDdXJyZW50WSwgcG9pbnRlcklkLCBkZWNWZWxYLCBkZWNWZWxZO1xuICAgICAgICB2YXIgdGFyZ2V0WCA9IDA7XG4gICAgICAgIHZhciB0YXJnZXRZID0gMDtcbiAgICAgICAgdmFyIHN0b3BUaHJlc2hvbGQgPSBzdG9wVGhyZXNob2xkRGVmYXVsdCAqIG11bHRpcGxpZXI7XG4gICAgICAgIHZhciB0aWNraW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBwb2ludGVyQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHZhciBwYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRlY2VsZXJhdGluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgdHJhY2tpbmdQb2ludHMgPSBbXTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbml0aWFsaXplIGluc3RhbmNlXHJcbiAgICAgICAgICovXG4gICAgICAgIChmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICAgICAgc291cmNlRWwgPSB0eXBlb2Ygc291cmNlRWwgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihzb3VyY2VFbCkgOiBzb3VyY2VFbDtcbiAgICAgICAgICAgIGlmICghc291cmNlRWwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lNUEVUVVM6IHNvdXJjZSBub3QgZm91bmQuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdXBkYXRlQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lNUEVUVVM6IHVwZGF0ZSBmdW5jdGlvbiBub3QgZGVmaW5lZC4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGluaXRpYWxWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbFZhbHVlc1swXSkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRYID0gaW5pdGlhbFZhbHVlc1swXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxWYWx1ZXNbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WSA9IGluaXRpYWxWYWx1ZXNbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhbGxVcGRhdGVDYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIGJvdW5kIHZhbHVlc1xuICAgICAgICAgICAgaWYgKGJvdW5kWCkge1xuICAgICAgICAgICAgICAgIGJvdW5kWG1pbiA9IGJvdW5kWFswXTtcbiAgICAgICAgICAgICAgICBib3VuZFhtYXggPSBib3VuZFhbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYm91bmRZKSB7XG4gICAgICAgICAgICAgICAgYm91bmRZbWluID0gYm91bmRZWzBdO1xuICAgICAgICAgICAgICAgIGJvdW5kWW1heCA9IGJvdW5kWVsxXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc291cmNlRWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uRG93bik7XG4gICAgICAgICAgICBzb3VyY2VFbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbkRvd24pO1xuICAgICAgICB9KSgpO1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEluIGVkZ2UgY2FzZXMgd2hlcmUgeW91IG1heSBuZWVkIHRvXHJcbiAgICAgICAgICogcmVpbnN0YW5jaWF0ZSBJbXBldHVzIG9uIHRoZSBzYW1lIHNvdXJjZUVsXHJcbiAgICAgICAgICogdGhpcyB3aWxsIHJlbW92ZSB0aGUgcHJldmlvdXMgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNvdXJjZUVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvbkRvd24pO1xuICAgICAgICAgICAgc291cmNlRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Eb3duKTtcbiAgICAgICAgICAgIC8vIGhvd2V2ZXIgaXQgd29uJ3QgXCJkZXN0cm95XCIgYSByZWZlcmVuY2VcbiAgICAgICAgICAgIC8vIHRvIGluc3RhbmNlIGlmIHlvdSdkIGxpa2UgdG8gZG8gdGhhdFxuICAgICAgICAgICAgLy8gaXQgcmV0dXJucyBudWxsIGFzIGEgY29udmluaWVuY2UuXG4gICAgICAgICAgICAvLyBleDogYGluc3RhbmNlID0gaW5zdGFuY2UuZGVzdHJveSgpO2BcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERpc2FibGUgbW92ZW1lbnQgcHJvY2Vzc2luZ1xyXG4gICAgICAgICAqIEBwdWJsaWNcclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYXVzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBvaW50ZXJBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHBhdXNlZCA9IHRydWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRW5hYmxlIG1vdmVtZW50IHByb2Nlc3NpbmdcclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzdW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcGF1c2VkID0gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVXBkYXRlIHRoZSBjdXJyZW50IHggYW5kIHkgdmFsdWVzXHJcbiAgICAgICAgICogQHB1YmxpY1xyXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XHJcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHlcclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZXRWYWx1ZXMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHRhcmdldFggPSB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB5ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHRhcmdldFkgPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZSB0aGUgbXVsdGlwbGllciB2YWx1ZVxyXG4gICAgICAgICAqIEBwdWJsaWNcclxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsXHJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2V0TXVsdGlwbGllciA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIG11bHRpcGxpZXIgPSB2YWw7XG4gICAgICAgICAgICBzdG9wVGhyZXNob2xkID0gc3RvcFRocmVzaG9sZERlZmF1bHQgKiBtdWx0aXBsaWVyO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZSBib3VuZFggdmFsdWVcclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJbXX0gYm91bmRYXHJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2V0Qm91bmRYID0gZnVuY3Rpb24gKGJvdW5kWCkge1xuICAgICAgICAgICAgYm91bmRYbWluID0gYm91bmRYWzBdO1xuICAgICAgICAgICAgYm91bmRYbWF4ID0gYm91bmRYWzFdO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZSBib3VuZFkgdmFsdWVcclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJbXX0gYm91bmRZXHJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2V0Qm91bmRZID0gZnVuY3Rpb24gKGJvdW5kWSkge1xuICAgICAgICAgICAgYm91bmRZbWluID0gYm91bmRZWzBdO1xuICAgICAgICAgICAgYm91bmRZbWF4ID0gYm91bmRZWzFdO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEV4ZWN1dGVzIHRoZSB1cGRhdGUgZnVuY3Rpb25cclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gY2FsbFVwZGF0ZUNhbGxiYWNrKCkge1xuICAgICAgICAgICAgdXBkYXRlQ2FsbGJhY2suY2FsbChzb3VyY2VFbCwgdGFyZ2V0WCwgdGFyZ2V0WSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDcmVhdGVzIGEgY3VzdG9tIG5vcm1hbGl6ZWQgZXZlbnQgb2JqZWN0IGZyb20gdG91Y2ggYW5kIG1vdXNlIGV2ZW50c1xyXG4gICAgICAgICAqIEBwYXJhbSAge0V2ZW50fSBldlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IHdpdGggeCwgeSwgYW5kIGlkIHByb3BlcnRpZXNcclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gbm9ybWFsaXplRXZlbnQoZXYpIHtcbiAgICAgICAgICAgIGlmIChldi50eXBlID09PSAndG91Y2htb3ZlJyB8fCBldi50eXBlID09PSAndG91Y2hzdGFydCcgfHwgZXYudHlwZSA9PT0gJ3RvdWNoZW5kJykge1xuICAgICAgICAgICAgICAgIHZhciB0b3VjaCA9IGV2LnRhcmdldFRvdWNoZXNbMF0gfHwgZXYuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgeDogdG91Y2guY2xpZW50WCxcbiAgICAgICAgICAgICAgICAgICAgeTogdG91Y2guY2xpZW50WSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRvdWNoLmlkZW50aWZpZXJcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBtb3VzZSBldmVudHNcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB4OiBldi5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICB5OiBldi5jbGllbnRZLFxuICAgICAgICAgICAgICAgICAgICBpZDogbnVsbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbml0aWFsaXplcyBtb3ZlbWVudCB0cmFja2luZ1xyXG4gICAgICAgICAqIEBwYXJhbSAge09iamVjdH0gZXYgTm9ybWFsaXplZCBldmVudFxyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBvbkRvd24oZXYpIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IG5vcm1hbGl6ZUV2ZW50KGV2KTtcbiAgICAgICAgICAgIGlmICghcG9pbnRlckFjdGl2ZSAmJiAhcGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRlckFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgZGVjZWxlcmF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcG9pbnRlcklkID0gZXZlbnQuaWQ7XG5cbiAgICAgICAgICAgICAgICBwb2ludGVyTGFzdFggPSBwb2ludGVyQ3VycmVudFggPSBldmVudC54O1xuICAgICAgICAgICAgICAgIHBvaW50ZXJMYXN0WSA9IHBvaW50ZXJDdXJyZW50WSA9IGV2ZW50Lnk7XG4gICAgICAgICAgICAgICAgdHJhY2tpbmdQb2ludHMgPSBbXTtcbiAgICAgICAgICAgICAgICBhZGRUcmFja2luZ1BvaW50KHBvaW50ZXJMYXN0WCwgcG9pbnRlckxhc3RZKTtcblxuICAgICAgICAgICAgICAgIC8vIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vd2ViL3VwZGF0ZXMvMjAxNy8wMS9zY3JvbGxpbmctaW50ZXJ2ZW50aW9uXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgb25Nb3ZlLCBnZXRQYXNzaXZlU3VwcG9ydGVkKCkgPyB7IHBhc3NpdmU6IGZhbHNlIH0gOiBmYWxzZSk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblVwKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHN0b3BUcmFja2luZyk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3ZlLCBnZXRQYXNzaXZlU3VwcG9ydGVkKCkgPyB7IHBhc3NpdmU6IGZhbHNlIH0gOiBmYWxzZSk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uVXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGFuZGxlcyBtb3ZlIGV2ZW50c1xyXG4gICAgICAgICAqIEBwYXJhbSAge09iamVjdH0gZXYgTm9ybWFsaXplZCBldmVudFxyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBvbk1vdmUoZXYpIHtcbiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBub3JtYWxpemVFdmVudChldik7XG5cbiAgICAgICAgICAgIGlmIChwb2ludGVyQWN0aXZlICYmIGV2ZW50LmlkID09PSBwb2ludGVySWQpIHtcbiAgICAgICAgICAgICAgICBwb2ludGVyQ3VycmVudFggPSBldmVudC54O1xuICAgICAgICAgICAgICAgIHBvaW50ZXJDdXJyZW50WSA9IGV2ZW50Lnk7XG4gICAgICAgICAgICAgICAgYWRkVHJhY2tpbmdQb2ludChwb2ludGVyTGFzdFgsIHBvaW50ZXJMYXN0WSk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdFRpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhhbmRsZXMgdXAvZW5kIGV2ZW50c1xyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldiBOb3JtYWxpemVkIGV2ZW50XHJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG9uVXAoZXYpIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IG5vcm1hbGl6ZUV2ZW50KGV2KTtcblxuICAgICAgICAgICAgaWYgKHBvaW50ZXJBY3RpdmUgJiYgZXZlbnQuaWQgPT09IHBvaW50ZXJJZCkge1xuICAgICAgICAgICAgICAgIHN0b3BUcmFja2luZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU3RvcHMgbW92ZW1lbnQgdHJhY2tpbmcsIHN0YXJ0cyBhbmltYXRpb25cclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc3RvcFRyYWNraW5nKCkge1xuICAgICAgICAgICAgcG9pbnRlckFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgYWRkVHJhY2tpbmdQb2ludChwb2ludGVyTGFzdFgsIHBvaW50ZXJMYXN0WSk7XG4gICAgICAgICAgICBzdGFydERlY2VsQW5pbSgpO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvbk1vdmUpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblVwKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgc3RvcFRyYWNraW5nKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvblVwKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW92ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWNvcmRzIG1vdmVtZW50IGZvciB0aGUgbGFzdCAxMDBtc1xyXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XHJcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHkgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBhZGRUcmFja2luZ1BvaW50KHgsIHkpIHtcbiAgICAgICAgICAgIHZhciB0aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIHdoaWxlICh0cmFja2luZ1BvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRpbWUgLSB0cmFja2luZ1BvaW50c1swXS50aW1lIDw9IDEwMCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJhY2tpbmdQb2ludHMuc2hpZnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJhY2tpbmdQb2ludHMucHVzaCh7IHg6IHgsIHk6IHksIHRpbWU6IHRpbWUgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDYWxjdWxhdGUgbmV3IHZhbHVlcywgY2FsbCB1cGRhdGUgZnVuY3Rpb25cclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlQW5kUmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIHBvaW50ZXJDaGFuZ2VYID0gcG9pbnRlckN1cnJlbnRYIC0gcG9pbnRlckxhc3RYO1xuICAgICAgICAgICAgdmFyIHBvaW50ZXJDaGFuZ2VZID0gcG9pbnRlckN1cnJlbnRZIC0gcG9pbnRlckxhc3RZO1xuXG4gICAgICAgICAgICB0YXJnZXRYICs9IHBvaW50ZXJDaGFuZ2VYICogbXVsdGlwbGllcjtcbiAgICAgICAgICAgIHRhcmdldFkgKz0gcG9pbnRlckNoYW5nZVkgKiBtdWx0aXBsaWVyO1xuXG4gICAgICAgICAgICBpZiAoYm91bmNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpZmYgPSBjaGVja0JvdW5kcygpO1xuICAgICAgICAgICAgICAgIGlmIChkaWZmLnggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WCAtPSBwb2ludGVyQ2hhbmdlWCAqIGRyYWdPdXRPZkJvdW5kc011bHRpcGxpZXIoZGlmZi54KSAqIG11bHRpcGxpZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkaWZmLnkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WSAtPSBwb2ludGVyQ2hhbmdlWSAqIGRyYWdPdXRPZkJvdW5kc011bHRpcGxpZXIoZGlmZi55KSAqIG11bHRpcGxpZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGVja0JvdW5kcyh0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FsbFVwZGF0ZUNhbGxiYWNrKCk7XG5cbiAgICAgICAgICAgIHBvaW50ZXJMYXN0WCA9IHBvaW50ZXJDdXJyZW50WDtcbiAgICAgICAgICAgIHBvaW50ZXJMYXN0WSA9IHBvaW50ZXJDdXJyZW50WTtcbiAgICAgICAgICAgIHRpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJldHVybnMgYSB2YWx1ZSBmcm9tIGFyb3VuZCAwLjUgdG8gMSwgYmFzZWQgb24gZGlzdGFuY2VcclxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsXHJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGRyYWdPdXRPZkJvdW5kc011bHRpcGxpZXIodmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gMC4wMDAwMDUgKiBNYXRoLnBvdyh2YWwsIDIpICsgMC4wMDAxICogdmFsICsgMC41NTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIHByZXZlbnRzIGFuaW1hdGluZyBmYXN0ZXIgdGhhbiBjdXJyZW50IGZyYW1lcmF0ZVxyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiByZXF1ZXN0VGljaygpIHtcbiAgICAgICAgICAgIGlmICghdGlja2luZykge1xuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltRnJhbWUodXBkYXRlQW5kUmVuZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpY2tpbmcgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRGV0ZXJtaW5lIHBvc2l0aW9uIHJlbGF0aXZlIHRvIGJvdW5kc1xyXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcmVzdHJpY3QgV2hldGhlciB0byByZXN0cmljdCB0YXJnZXQgdG8gYm91bmRzXHJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrQm91bmRzKHJlc3RyaWN0KSB7XG4gICAgICAgICAgICB2YXIgeERpZmYgPSAwO1xuICAgICAgICAgICAgdmFyIHlEaWZmID0gMDtcblxuICAgICAgICAgICAgaWYgKGJvdW5kWG1pbiAhPT0gdW5kZWZpbmVkICYmIHRhcmdldFggPCBib3VuZFhtaW4pIHtcbiAgICAgICAgICAgICAgICB4RGlmZiA9IGJvdW5kWG1pbiAtIHRhcmdldFg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJvdW5kWG1heCAhPT0gdW5kZWZpbmVkICYmIHRhcmdldFggPiBib3VuZFhtYXgpIHtcbiAgICAgICAgICAgICAgICB4RGlmZiA9IGJvdW5kWG1heCAtIHRhcmdldFg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZFltaW4gIT09IHVuZGVmaW5lZCAmJiB0YXJnZXRZIDwgYm91bmRZbWluKSB7XG4gICAgICAgICAgICAgICAgeURpZmYgPSBib3VuZFltaW4gLSB0YXJnZXRZO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChib3VuZFltYXggIT09IHVuZGVmaW5lZCAmJiB0YXJnZXRZID4gYm91bmRZbWF4KSB7XG4gICAgICAgICAgICAgICAgeURpZmYgPSBib3VuZFltYXggLSB0YXJnZXRZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVzdHJpY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoeERpZmYgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WCA9IHhEaWZmID4gMCA/IGJvdW5kWG1pbiA6IGJvdW5kWG1heDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHlEaWZmICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFkgPSB5RGlmZiA+IDAgPyBib3VuZFltaW4gOiBib3VuZFltYXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHg6IHhEaWZmLFxuICAgICAgICAgICAgICAgIHk6IHlEaWZmLFxuICAgICAgICAgICAgICAgIGluQm91bmRzOiB4RGlmZiA9PT0gMCAmJiB5RGlmZiA9PT0gMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEluaXRpYWxpemUgYW5pbWF0aW9uIG9mIHZhbHVlcyBjb21pbmcgdG8gYSBzdG9wXHJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0RGVjZWxBbmltKCkge1xuICAgICAgICAgICAgdmFyIGZpcnN0UG9pbnQgPSB0cmFja2luZ1BvaW50c1swXTtcbiAgICAgICAgICAgIHZhciBsYXN0UG9pbnQgPSB0cmFja2luZ1BvaW50c1t0cmFja2luZ1BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgdmFyIHhPZmZzZXQgPSBsYXN0UG9pbnQueCAtIGZpcnN0UG9pbnQueDtcbiAgICAgICAgICAgIHZhciB5T2Zmc2V0ID0gbGFzdFBvaW50LnkgLSBmaXJzdFBvaW50Lnk7XG4gICAgICAgICAgICB2YXIgdGltZU9mZnNldCA9IGxhc3RQb2ludC50aW1lIC0gZmlyc3RQb2ludC50aW1lO1xuXG4gICAgICAgICAgICB2YXIgRCA9IHRpbWVPZmZzZXQgLyAxNSAvIG11bHRpcGxpZXI7XG5cbiAgICAgICAgICAgIGRlY1ZlbFggPSB4T2Zmc2V0IC8gRCB8fCAwOyAvLyBwcmV2ZW50IE5hTlxuICAgICAgICAgICAgZGVjVmVsWSA9IHlPZmZzZXQgLyBEIHx8IDA7XG5cbiAgICAgICAgICAgIHZhciBkaWZmID0gY2hlY2tCb3VuZHMoKTtcblxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRlY1ZlbFgpID4gMSB8fCBNYXRoLmFicyhkZWNWZWxZKSA+IDEgfHwgIWRpZmYuaW5Cb3VuZHMpIHtcbiAgICAgICAgICAgICAgICBkZWNlbGVyYXRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltRnJhbWUoc3RlcERlY2VsQW5pbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbmltYXRlcyB2YWx1ZXMgc2xvd2luZyBkb3duXHJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXBEZWNlbEFuaW0oKSB7XG4gICAgICAgICAgICBpZiAoIWRlY2VsZXJhdGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVjVmVsWCAqPSBmcmljdGlvbjtcbiAgICAgICAgICAgIGRlY1ZlbFkgKj0gZnJpY3Rpb247XG5cbiAgICAgICAgICAgIHRhcmdldFggKz0gZGVjVmVsWDtcbiAgICAgICAgICAgIHRhcmdldFkgKz0gZGVjVmVsWTtcblxuICAgICAgICAgICAgdmFyIGRpZmYgPSBjaGVja0JvdW5kcygpO1xuXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZGVjVmVsWCkgPiBzdG9wVGhyZXNob2xkIHx8IE1hdGguYWJzKGRlY1ZlbFkpID4gc3RvcFRocmVzaG9sZCB8fCAhZGlmZi5pbkJvdW5kcykge1xuXG4gICAgICAgICAgICAgICAgaWYgKGJvdW5jZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVib3VuZEFkanVzdCA9IDIuNTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZi54ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZi54ICogZGVjVmVsWCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjVmVsWCArPSBkaWZmLnggKiBib3VuY2VEZWNlbGVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGp1c3QgPSBkaWZmLnggPiAwID8gcmVib3VuZEFkanVzdCA6IC1yZWJvdW5kQWRqdXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY1ZlbFggPSAoZGlmZi54ICsgYWRqdXN0KSAqIGJvdW5jZUFjY2VsZXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZi55ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZi55ICogZGVjVmVsWSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjVmVsWSArPSBkaWZmLnkgKiBib3VuY2VEZWNlbGVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGp1c3QgPSBkaWZmLnkgPiAwID8gcmVib3VuZEFkanVzdCA6IC1yZWJvdW5kQWRqdXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY1ZlbFkgPSAoZGlmZi55ICsgYWRqdXN0KSAqIGJvdW5jZUFjY2VsZXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWZmLnggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWZmLnggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WCA9IGJvdW5kWG1pbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WCA9IGJvdW5kWG1heDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY1ZlbFggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWZmLnkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWZmLnkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WSA9IGJvdW5kWW1pbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WSA9IGJvdW5kWW1heDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY1ZlbFkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2FsbFVwZGF0ZUNhbGxiYWNrKCk7XG5cbiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbUZyYW1lKHN0ZXBEZWNlbEFuaW0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWNlbGVyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogQHNlZSBodHRwOi8vd3d3LnBhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cclxuICAgICAqL1xuICAgIDtcblxuICAgIG1vZHVsZS5leHBvcnRzID0gSW1wZXR1cztcbiAgICB2YXIgcmVxdWVzdEFuaW1GcmFtZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApO1xuICAgICAgICB9O1xuICAgIH0pKCk7XG5cbiAgICBmdW5jdGlvbiBnZXRQYXNzaXZlU3VwcG9ydGVkKCkge1xuICAgICAgICB2YXIgcGFzc2l2ZVN1cHBvcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgXCJwYXNzaXZlXCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFzc2l2ZVN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidGVzdFwiLCBudWxsLCBvcHRpb25zKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7fVxuXG4gICAgICAgIGdldFBhc3NpdmVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFzc2l2ZVN1cHBvcnRlZDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHBhc3NpdmVTdXBwb3J0ZWQ7XG4gICAgfVxufSk7XG4iLCIvKlxuICogY2xhc3NMaXN0LmpzOiBDcm9zcy1icm93c2VyIGZ1bGwgZWxlbWVudC5jbGFzc0xpc3QgaW1wbGVtZW50YXRpb24uXG4gKiAxLjEuMjAxNzA0MjdcbiAqXG4gKiBCeSBFbGkgR3JleSwgaHR0cDovL2VsaWdyZXkuY29tXG4gKiBMaWNlbnNlOiBEZWRpY2F0ZWQgdG8gdGhlIHB1YmxpYyBkb21haW4uXG4gKiAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9jbGFzc0xpc3QuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxuICovXG5cbi8qZ2xvYmFsIHNlbGYsIGRvY3VtZW50LCBET01FeGNlcHRpb24gKi9cblxuLyohIEBzb3VyY2UgaHR0cDovL3B1cmwuZWxpZ3JleS5jb20vZ2l0aHViL2NsYXNzTGlzdC5qcy9ibG9iL21hc3Rlci9jbGFzc0xpc3QuanMgKi9cblxuaWYgKFwiZG9jdW1lbnRcIiBpbiB3aW5kb3cuc2VsZikge1xuXG4vLyBGdWxsIHBvbHlmaWxsIGZvciBicm93c2VycyB3aXRoIG5vIGNsYXNzTGlzdCBzdXBwb3J0XG4vLyBJbmNsdWRpbmcgSUUgPCBFZGdlIG1pc3NpbmcgU1ZHRWxlbWVudC5jbGFzc0xpc3RcbmlmICghKFwiY2xhc3NMaXN0XCIgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIl9cIikpIFxuXHR8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgJiYgIShcImNsYXNzTGlzdFwiIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXCJnXCIpKSkge1xuXG4oZnVuY3Rpb24gKHZpZXcpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmlmICghKCdFbGVtZW50JyBpbiB2aWV3KSkgcmV0dXJuO1xuXG52YXJcblx0ICBjbGFzc0xpc3RQcm9wID0gXCJjbGFzc0xpc3RcIlxuXHQsIHByb3RvUHJvcCA9IFwicHJvdG90eXBlXCJcblx0LCBlbGVtQ3RyUHJvdG8gPSB2aWV3LkVsZW1lbnRbcHJvdG9Qcm9wXVxuXHQsIG9iakN0ciA9IE9iamVjdFxuXHQsIHN0clRyaW0gPSBTdHJpbmdbcHJvdG9Qcm9wXS50cmltIHx8IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCBcIlwiKTtcblx0fVxuXHQsIGFyckluZGV4T2YgPSBBcnJheVtwcm90b1Byb3BdLmluZGV4T2YgfHwgZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHR2YXJcblx0XHRcdCAgaSA9IDBcblx0XHRcdCwgbGVuID0gdGhpcy5sZW5ndGhcblx0XHQ7XG5cdFx0Zm9yICg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKGkgaW4gdGhpcyAmJiB0aGlzW2ldID09PSBpdGVtKSB7XG5cdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gLTE7XG5cdH1cblx0Ly8gVmVuZG9yczogcGxlYXNlIGFsbG93IGNvbnRlbnQgY29kZSB0byBpbnN0YW50aWF0ZSBET01FeGNlcHRpb25zXG5cdCwgRE9NRXggPSBmdW5jdGlvbiAodHlwZSwgbWVzc2FnZSkge1xuXHRcdHRoaXMubmFtZSA9IHR5cGU7XG5cdFx0dGhpcy5jb2RlID0gRE9NRXhjZXB0aW9uW3R5cGVdO1xuXHRcdHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdH1cblx0LCBjaGVja1Rva2VuQW5kR2V0SW5kZXggPSBmdW5jdGlvbiAoY2xhc3NMaXN0LCB0b2tlbikge1xuXHRcdGlmICh0b2tlbiA9PT0gXCJcIikge1xuXHRcdFx0dGhyb3cgbmV3IERPTUV4KFxuXHRcdFx0XHQgIFwiU1lOVEFYX0VSUlwiXG5cdFx0XHRcdCwgXCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWRcIlxuXHRcdFx0KTtcblx0XHR9XG5cdFx0aWYgKC9cXHMvLnRlc3QodG9rZW4pKSB7XG5cdFx0XHR0aHJvdyBuZXcgRE9NRXgoXG5cdFx0XHRcdCAgXCJJTlZBTElEX0NIQVJBQ1RFUl9FUlJcIlxuXHRcdFx0XHQsIFwiU3RyaW5nIGNvbnRhaW5zIGFuIGludmFsaWQgY2hhcmFjdGVyXCJcblx0XHRcdCk7XG5cdFx0fVxuXHRcdHJldHVybiBhcnJJbmRleE9mLmNhbGwoY2xhc3NMaXN0LCB0b2tlbik7XG5cdH1cblx0LCBDbGFzc0xpc3QgPSBmdW5jdGlvbiAoZWxlbSkge1xuXHRcdHZhclxuXHRcdFx0ICB0cmltbWVkQ2xhc3NlcyA9IHN0clRyaW0uY2FsbChlbGVtLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIpXG5cdFx0XHQsIGNsYXNzZXMgPSB0cmltbWVkQ2xhc3NlcyA/IHRyaW1tZWRDbGFzc2VzLnNwbGl0KC9cXHMrLykgOiBbXVxuXHRcdFx0LCBpID0gMFxuXHRcdFx0LCBsZW4gPSBjbGFzc2VzLmxlbmd0aFxuXHRcdDtcblx0XHRmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHR0aGlzLnB1c2goY2xhc3Nlc1tpXSk7XG5cdFx0fVxuXHRcdHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgdGhpcy50b1N0cmluZygpKTtcblx0XHR9O1xuXHR9XG5cdCwgY2xhc3NMaXN0UHJvdG8gPSBDbGFzc0xpc3RbcHJvdG9Qcm9wXSA9IFtdXG5cdCwgY2xhc3NMaXN0R2V0dGVyID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBuZXcgQ2xhc3NMaXN0KHRoaXMpO1xuXHR9XG47XG4vLyBNb3N0IERPTUV4Y2VwdGlvbiBpbXBsZW1lbnRhdGlvbnMgZG9uJ3QgYWxsb3cgY2FsbGluZyBET01FeGNlcHRpb24ncyB0b1N0cmluZygpXG4vLyBvbiBub24tRE9NRXhjZXB0aW9ucy4gRXJyb3IncyB0b1N0cmluZygpIGlzIHN1ZmZpY2llbnQgaGVyZS5cbkRPTUV4W3Byb3RvUHJvcF0gPSBFcnJvcltwcm90b1Byb3BdO1xuY2xhc3NMaXN0UHJvdG8uaXRlbSA9IGZ1bmN0aW9uIChpKSB7XG5cdHJldHVybiB0aGlzW2ldIHx8IG51bGw7XG59O1xuY2xhc3NMaXN0UHJvdG8uY29udGFpbnMgPSBmdW5jdGlvbiAodG9rZW4pIHtcblx0dG9rZW4gKz0gXCJcIjtcblx0cmV0dXJuIGNoZWNrVG9rZW5BbmRHZXRJbmRleCh0aGlzLCB0b2tlbikgIT09IC0xO1xufTtcbmNsYXNzTGlzdFByb3RvLmFkZCA9IGZ1bmN0aW9uICgpIHtcblx0dmFyXG5cdFx0ICB0b2tlbnMgPSBhcmd1bWVudHNcblx0XHQsIGkgPSAwXG5cdFx0LCBsID0gdG9rZW5zLmxlbmd0aFxuXHRcdCwgdG9rZW5cblx0XHQsIHVwZGF0ZWQgPSBmYWxzZVxuXHQ7XG5cdGRvIHtcblx0XHR0b2tlbiA9IHRva2Vuc1tpXSArIFwiXCI7XG5cdFx0aWYgKGNoZWNrVG9rZW5BbmRHZXRJbmRleCh0aGlzLCB0b2tlbikgPT09IC0xKSB7XG5cdFx0XHR0aGlzLnB1c2godG9rZW4pO1xuXHRcdFx0dXBkYXRlZCA9IHRydWU7XG5cdFx0fVxuXHR9XG5cdHdoaWxlICgrK2kgPCBsKTtcblxuXHRpZiAodXBkYXRlZCkge1xuXHRcdHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSgpO1xuXHR9XG59O1xuY2xhc3NMaXN0UHJvdG8ucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHR2YXJcblx0XHQgIHRva2VucyA9IGFyZ3VtZW50c1xuXHRcdCwgaSA9IDBcblx0XHQsIGwgPSB0b2tlbnMubGVuZ3RoXG5cdFx0LCB0b2tlblxuXHRcdCwgdXBkYXRlZCA9IGZhbHNlXG5cdFx0LCBpbmRleFxuXHQ7XG5cdGRvIHtcblx0XHR0b2tlbiA9IHRva2Vuc1tpXSArIFwiXCI7XG5cdFx0aW5kZXggPSBjaGVja1Rva2VuQW5kR2V0SW5kZXgodGhpcywgdG9rZW4pO1xuXHRcdHdoaWxlIChpbmRleCAhPT0gLTEpIHtcblx0XHRcdHRoaXMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdHVwZGF0ZWQgPSB0cnVlO1xuXHRcdFx0aW5kZXggPSBjaGVja1Rva2VuQW5kR2V0SW5kZXgodGhpcywgdG9rZW4pO1xuXHRcdH1cblx0fVxuXHR3aGlsZSAoKytpIDwgbCk7XG5cblx0aWYgKHVwZGF0ZWQpIHtcblx0XHR0aGlzLl91cGRhdGVDbGFzc05hbWUoKTtcblx0fVxufTtcbmNsYXNzTGlzdFByb3RvLnRvZ2dsZSA9IGZ1bmN0aW9uICh0b2tlbiwgZm9yY2UpIHtcblx0dG9rZW4gKz0gXCJcIjtcblxuXHR2YXJcblx0XHQgIHJlc3VsdCA9IHRoaXMuY29udGFpbnModG9rZW4pXG5cdFx0LCBtZXRob2QgPSByZXN1bHQgP1xuXHRcdFx0Zm9yY2UgIT09IHRydWUgJiYgXCJyZW1vdmVcIlxuXHRcdDpcblx0XHRcdGZvcmNlICE9PSBmYWxzZSAmJiBcImFkZFwiXG5cdDtcblxuXHRpZiAobWV0aG9kKSB7XG5cdFx0dGhpc1ttZXRob2RdKHRva2VuKTtcblx0fVxuXG5cdGlmIChmb3JjZSA9PT0gdHJ1ZSB8fCBmb3JjZSA9PT0gZmFsc2UpIHtcblx0XHRyZXR1cm4gZm9yY2U7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuICFyZXN1bHQ7XG5cdH1cbn07XG5jbGFzc0xpc3RQcm90by50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0cmV0dXJuIHRoaXMuam9pbihcIiBcIik7XG59O1xuXG5pZiAob2JqQ3RyLmRlZmluZVByb3BlcnR5KSB7XG5cdHZhciBjbGFzc0xpc3RQcm9wRGVzYyA9IHtcblx0XHQgIGdldDogY2xhc3NMaXN0R2V0dGVyXG5cdFx0LCBlbnVtZXJhYmxlOiB0cnVlXG5cdFx0LCBjb25maWd1cmFibGU6IHRydWVcblx0fTtcblx0dHJ5IHtcblx0XHRvYmpDdHIuZGVmaW5lUHJvcGVydHkoZWxlbUN0clByb3RvLCBjbGFzc0xpc3RQcm9wLCBjbGFzc0xpc3RQcm9wRGVzYyk7XG5cdH0gY2F0Y2ggKGV4KSB7IC8vIElFIDggZG9lc24ndCBzdXBwb3J0IGVudW1lcmFibGU6dHJ1ZVxuXHRcdC8vIGFkZGluZyB1bmRlZmluZWQgdG8gZmlnaHQgdGhpcyBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9jbGFzc0xpc3QuanMvaXNzdWVzLzM2XG5cdFx0Ly8gbW9kZXJuaWUgSUU4LU1TVzcgbWFjaGluZSBoYXMgSUU4IDguMC42MDAxLjE4NzAyIGFuZCBpcyBhZmZlY3RlZFxuXHRcdGlmIChleC5udW1iZXIgPT09IHVuZGVmaW5lZCB8fCBleC5udW1iZXIgPT09IC0weDdGRjVFQzU0KSB7XG5cdFx0XHRjbGFzc0xpc3RQcm9wRGVzYy5lbnVtZXJhYmxlID0gZmFsc2U7XG5cdFx0XHRvYmpDdHIuZGVmaW5lUHJvcGVydHkoZWxlbUN0clByb3RvLCBjbGFzc0xpc3RQcm9wLCBjbGFzc0xpc3RQcm9wRGVzYyk7XG5cdFx0fVxuXHR9XG59IGVsc2UgaWYgKG9iakN0cltwcm90b1Byb3BdLl9fZGVmaW5lR2V0dGVyX18pIHtcblx0ZWxlbUN0clByb3RvLl9fZGVmaW5lR2V0dGVyX18oY2xhc3NMaXN0UHJvcCwgY2xhc3NMaXN0R2V0dGVyKTtcbn1cblxufSh3aW5kb3cuc2VsZikpO1xuXG59XG5cbi8vIFRoZXJlIGlzIGZ1bGwgb3IgcGFydGlhbCBuYXRpdmUgY2xhc3NMaXN0IHN1cHBvcnQsIHNvIGp1c3QgY2hlY2sgaWYgd2UgbmVlZFxuLy8gdG8gbm9ybWFsaXplIHRoZSBhZGQvcmVtb3ZlIGFuZCB0b2dnbGUgQVBJcy5cblxuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIHRlc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIl9cIik7XG5cblx0dGVzdEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImMxXCIsIFwiYzJcIik7XG5cblx0Ly8gUG9seWZpbGwgZm9yIElFIDEwLzExIGFuZCBGaXJlZm94IDwyNiwgd2hlcmUgY2xhc3NMaXN0LmFkZCBhbmRcblx0Ly8gY2xhc3NMaXN0LnJlbW92ZSBleGlzdCBidXQgc3VwcG9ydCBvbmx5IG9uZSBhcmd1bWVudCBhdCBhIHRpbWUuXG5cdGlmICghdGVzdEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYzJcIikpIHtcblx0XHR2YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24obWV0aG9kKSB7XG5cdFx0XHR2YXIgb3JpZ2luYWwgPSBET01Ub2tlbkxpc3QucHJvdG90eXBlW21ldGhvZF07XG5cblx0XHRcdERPTVRva2VuTGlzdC5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHRva2VuKSB7XG5cdFx0XHRcdHZhciBpLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuXG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0XHRcdHRva2VuID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0XHRcdG9yaWdpbmFsLmNhbGwodGhpcywgdG9rZW4pO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH07XG5cdFx0Y3JlYXRlTWV0aG9kKCdhZGQnKTtcblx0XHRjcmVhdGVNZXRob2QoJ3JlbW92ZScpO1xuXHR9XG5cblx0dGVzdEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShcImMzXCIsIGZhbHNlKTtcblxuXHQvLyBQb2x5ZmlsbCBmb3IgSUUgMTAgYW5kIEZpcmVmb3ggPDI0LCB3aGVyZSBjbGFzc0xpc3QudG9nZ2xlIGRvZXMgbm90XG5cdC8vIHN1cHBvcnQgdGhlIHNlY29uZCBhcmd1bWVudC5cblx0aWYgKHRlc3RFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImMzXCIpKSB7XG5cdFx0dmFyIF90b2dnbGUgPSBET01Ub2tlbkxpc3QucHJvdG90eXBlLnRvZ2dsZTtcblxuXHRcdERPTVRva2VuTGlzdC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24odG9rZW4sIGZvcmNlKSB7XG5cdFx0XHRpZiAoMSBpbiBhcmd1bWVudHMgJiYgIXRoaXMuY29udGFpbnModG9rZW4pID09PSAhZm9yY2UpIHtcblx0XHRcdFx0cmV0dXJuIGZvcmNlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIF90b2dnbGUuY2FsbCh0aGlzLCB0b2tlbik7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHR9XG5cblx0dGVzdEVsZW1lbnQgPSBudWxsO1xufSgpKTtcblxufVxuIiwiLyohXG5Db3B5cmlnaHQgKEMpIDIwMTMtMjAxNSBieSBXZWJSZWZsZWN0aW9uXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblRIRSBTT0ZUV0FSRS5cblxuKi9cbihmdW5jdGlvbih3aW5kb3cpe1xuICAvKiEgKEMpIFdlYlJlZmxlY3Rpb24gTWl0IFN0eWxlIExpY2Vuc2UgKi9cbiAgaWYgKGRvY3VtZW50LmNyZWF0ZUV2ZW50KSByZXR1cm47XG4gIHZhclxuICAgIERVTk5PQUJPVVRET01MT0FERUQgPSB0cnVlLFxuICAgIFJFQURZRVZFTlRESVNQQVRDSEVEID0gZmFsc2UsXG4gICAgT05SRUFEWVNUQVRFQ0hBTkdFID0gJ29ucmVhZHlzdGF0ZWNoYW5nZScsXG4gICAgRE9NQ09OVEVOVExPQURFRCA9ICdET01Db250ZW50TG9hZGVkJyxcbiAgICBTRUNSRVQgPSAnX19JRThfXycgKyBNYXRoLnJhbmRvbSgpLFxuICAgIC8vIE9iamVjdCA9IHdpbmRvdy5PYmplY3QsXG4gICAgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgfHxcbiAgICAvLyBqdXN0IGluIGNhc2UgLi4uXG4gICAgZnVuY3Rpb24gKG9iamVjdCwgcHJvcGVydHksIGRlc2NyaXB0b3IpIHtcbiAgICAgIG9iamVjdFtwcm9wZXJ0eV0gPSBkZXNjcmlwdG9yLnZhbHVlO1xuICAgIH0sXG4gICAgZGVmaW5lUHJvcGVydGllcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIHx8XG4gICAgLy8gSUU4IGltcGxlbWVudGVkIGRlZmluZVByb3BlcnR5IGJ1dCBub3QgdGhlIHBsdXJhbC4uLlxuICAgIGZ1bmN0aW9uIChvYmplY3QsIGRlc2NyaXB0b3JzKSB7XG4gICAgICBmb3IodmFyIGtleSBpbiBkZXNjcmlwdG9ycykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChkZXNjcmlwdG9ycywga2V5KSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwgZGVzY3JpcHRvcnNba2V5XSk7XG4gICAgICAgICAgfSBjYXRjaChvX08pIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhrZXkgKyAnIGZhaWxlZCBvbiBvYmplY3Q6Jywgb2JqZWN0LCBvX08ubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAgIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcbiAgICAvLyBoZXJlIElFNyB3aWxsIGJyZWFrIGxpa2UgYSBjaGFybVxuICAgIEVsZW1lbnRQcm90b3R5cGUgPSB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGUsXG4gICAgVGV4dFByb3RvdHlwZSA9IHdpbmRvdy5UZXh0LnByb3RvdHlwZSxcbiAgICAvLyBub25lIG9mIGFib3ZlIG5hdGl2ZSBjb25zdHJ1Y3RvcnMgZXhpc3QvYXJlIGV4cG9zZWRcbiAgICBwb3NzaWJseU5hdGl2ZUV2ZW50ID0gL15bYS16XSskLyxcbiAgICAvLyBeIGFjdHVhbGx5IGNvdWxkIHByb2JhYmx5IGJlIGp1c3QgL15bYS16XSskL1xuICAgIHJlYWR5U3RhdGVPSyA9IC9sb2FkZWR8Y29tcGxldGUvLFxuICAgIHR5cGVzID0ge30sXG4gICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgaHRtbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcbiAgICByZW1vdmVBdHRyaWJ1dGUgPSBodG1sLnJlbW92ZUF0dHJpYnV0ZSxcbiAgICBzZXRBdHRyaWJ1dGUgPSBodG1sLnNldEF0dHJpYnV0ZSxcbiAgICB2YWx1ZURlc2MgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfTtcbiAgICB9XG4gIDtcblxuICBmdW5jdGlvbiBjb21tb25FdmVudExvb3AoY3VycmVudFRhcmdldCwgZSwgJGhhbmRsZXJzLCBzeW50aGV0aWMpIHtcbiAgICBmb3IodmFyXG4gICAgICBoYW5kbGVyLFxuICAgICAgY29udGludWVQcm9wYWdhdGlvbixcbiAgICAgIGhhbmRsZXJzID0gJGhhbmRsZXJzLnNsaWNlKCksXG4gICAgICBldnQgPSBlbnJpY2goZSwgY3VycmVudFRhcmdldCksXG4gICAgICBpID0gMCwgbGVuZ3RoID0gaGFuZGxlcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKytcbiAgICApIHtcbiAgICAgIGhhbmRsZXIgPSBoYW5kbGVyc1tpXTtcbiAgICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyLmhhbmRsZUV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgaGFuZGxlci5oYW5kbGVFdmVudChldnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoYW5kbGVyLmNhbGwoY3VycmVudFRhcmdldCwgZXZ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChldnQuc3RvcHBlZEltbWVkaWF0ZVByb3BhZ2F0aW9uKSBicmVhaztcbiAgICB9XG4gICAgY29udGludWVQcm9wYWdhdGlvbiA9ICFldnQuc3RvcHBlZFByb3BhZ2F0aW9uO1xuICAgIC8qXG4gICAgaWYgKGNvbnRpbnVlUHJvcGFnYXRpb24gJiYgIXN5bnRoZXRpYyAmJiAhbGl2ZShjdXJyZW50VGFyZ2V0KSkge1xuICAgICAgZXZ0LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgfVxuICAgICovXG4gICAgcmV0dXJuIChcbiAgICAgIHN5bnRoZXRpYyAmJlxuICAgICAgY29udGludWVQcm9wYWdhdGlvbiAmJlxuICAgICAgY3VycmVudFRhcmdldC5wYXJlbnROb2RlXG4gICAgKSA/XG4gICAgICBjdXJyZW50VGFyZ2V0LnBhcmVudE5vZGUuZGlzcGF0Y2hFdmVudChldnQpIDpcbiAgICAgICFldnQuZGVmYXVsdFByZXZlbnRlZFxuICAgIDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1vbkRlc2NyaXB0b3IoZ2V0LCBzZXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gaWYgeW91IHRyeSB3aXRoIGVudW1lcmFibGU6IHRydWVcbiAgICAgIC8vIElFOCB3aWxsIG1pc2VyYWJseSBmYWlsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGdldCxcbiAgICAgIHNldDogc2V0XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1vblRleHRDb250ZW50KHByb3RvRGVzdCwgcHJvdG9Tb3VyY2UsIHByb3BlcnR5KSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgICBwcm90b1NvdXJjZSB8fCBwcm90b0Rlc3QsIHByb3BlcnR5XG4gICAgKTtcbiAgICBkZWZpbmVQcm9wZXJ0eShcbiAgICAgIHByb3RvRGVzdCxcbiAgICAgICd0ZXh0Q29udGVudCcsXG4gICAgICBjb21tb25EZXNjcmlwdG9yKFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3IuZ2V0LmNhbGwodGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICh0ZXh0Q29udGVudCkge1xuICAgICAgICAgIGRlc2NyaXB0b3Iuc2V0LmNhbGwodGhpcywgdGV4dENvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVucmljaChlLCBjdXJyZW50VGFyZ2V0KSB7XG4gICAgZS5jdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldDtcbiAgICBlLmV2ZW50UGhhc2UgPSAoXG4gICAgICAvLyBBVF9UQVJHRVQgOiBCVUJCTElOR19QSEFTRVxuICAgICAgZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCA/IDIgOiAzXG4gICAgKTtcbiAgICByZXR1cm4gZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmQoYXJyYXksIHZhbHVlKSB7XG4gICAgdmFyIGkgPSBhcnJheS5sZW5ndGg7XG4gICAgd2hpbGUoaS0tICYmIGFycmF5W2ldICE9PSB2YWx1ZSk7XG4gICAgcmV0dXJuIGk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUZXh0Q29udGVudCgpIHtcbiAgICBpZiAodGhpcy50YWdOYW1lID09PSAnQlInKSByZXR1cm4gJ1xcbic7XG4gICAgdmFyXG4gICAgICB0ZXh0Tm9kZSA9IHRoaXMuZmlyc3RDaGlsZCxcbiAgICAgIGFycmF5Q29udGVudCA9IFtdXG4gICAgO1xuICAgIHdoaWxlKHRleHROb2RlKSB7XG4gICAgICBpZiAodGV4dE5vZGUubm9kZVR5cGUgIT09IDggJiYgdGV4dE5vZGUubm9kZVR5cGUgIT09IDcpIHtcbiAgICAgICAgYXJyYXlDb250ZW50LnB1c2godGV4dE5vZGUudGV4dENvbnRlbnQpO1xuICAgICAgfVxuICAgICAgdGV4dE5vZGUgPSB0ZXh0Tm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5Q29udGVudC5qb2luKCcnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpdmUoc2VsZikge1xuICAgIHJldHVybiBzZWxmLm5vZGVUeXBlICE9PSA5ICYmIGh0bWwuY29udGFpbnMoc2VsZik7XG4gIH1cblxuICBmdW5jdGlvbiBvbmtleXVwKGUpIHtcbiAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgZXZ0LmluaXRFdmVudCgnaW5wdXQnLCB0cnVlLCB0cnVlKTtcbiAgICAoZS5zcmNFbGVtZW50IHx8IGUuZnJvbUVsZW1lbnQgfHwgZG9jdW1lbnQpLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUmVhZHlTdGF0ZShlKSB7XG4gICAgaWYgKCFSRUFEWUVWRU5URElTUEFUQ0hFRCAmJiByZWFkeVN0YXRlT0sudGVzdChcbiAgICAgIGRvY3VtZW50LnJlYWR5U3RhdGVcbiAgICApKSB7XG4gICAgICBSRUFEWUVWRU5URElTUEFUQ0hFRCA9ICFSRUFEWUVWRU5URElTUEFUQ0hFRDtcbiAgICAgIGRvY3VtZW50LmRldGFjaEV2ZW50KE9OUkVBRFlTVEFURUNIQU5HRSwgb25SZWFkeVN0YXRlKTtcbiAgICAgIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICAgIGUuaW5pdEV2ZW50KERPTUNPTlRFTlRMT0FERUQsIHRydWUsIHRydWUpO1xuICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChlKTtcbiAgICB9XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIGdldHRlcihhdHRyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGh0bWxbYXR0cl0gfHwgKGRvY3VtZW50LmJvZHkgJiYgZG9jdW1lbnQuYm9keVthdHRyXSkgfHwgMDtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQodGV4dENvbnRlbnQpIHtcbiAgICB2YXIgbm9kZTtcbiAgICB3aGlsZSAoKG5vZGUgPSB0aGlzLmxhc3RDaGlsZCkpIHtcbiAgICAgIHRoaXMucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgfVxuICAgIC8qanNoaW50IGVxbnVsbDp0cnVlICovXG4gICAgaWYgKHRleHRDb250ZW50ICE9IG51bGwpIHtcbiAgICAgIHRoaXMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dENvbnRlbnQpKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB2ZXJpZnkoc2VsZiwgZSkge1xuICAgIGlmICghZSkge1xuICAgICAgZSA9IHdpbmRvdy5ldmVudDtcbiAgICB9XG4gICAgaWYgKCFlLnRhcmdldCkge1xuICAgICAgZS50YXJnZXQgPSBlLnNyY0VsZW1lbnQgfHwgZS5mcm9tRWxlbWVudCB8fCBkb2N1bWVudDtcbiAgICB9XG4gICAgaWYgKCFlLnRpbWVTdGFtcCkge1xuICAgICAgZS50aW1lU3RhbXAgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgIH1cbiAgICByZXR1cm4gZTtcbiAgfVxuXG4gIC8vIG5vcm1hbGl6ZWQgdGV4dENvbnRlbnQgZm9yOlxuICAvLyAgY29tbWVudCwgc2NyaXB0LCBzdHlsZSwgdGV4dCwgdGl0bGVcbiAgY29tbW9uVGV4dENvbnRlbnQoXG4gICAgd2luZG93LkhUTUxDb21tZW50RWxlbWVudC5wcm90b3R5cGUsXG4gICAgRWxlbWVudFByb3RvdHlwZSxcbiAgICAnbm9kZVZhbHVlJ1xuICApO1xuXG4gIGNvbW1vblRleHRDb250ZW50KFxuICAgIHdpbmRvdy5IVE1MU2NyaXB0RWxlbWVudC5wcm90b3R5cGUsXG4gICAgbnVsbCxcbiAgICAndGV4dCdcbiAgKTtcblxuICBjb21tb25UZXh0Q29udGVudChcbiAgICBUZXh0UHJvdG90eXBlLFxuICAgIG51bGwsXG4gICAgJ25vZGVWYWx1ZSdcbiAgKTtcblxuICBjb21tb25UZXh0Q29udGVudChcbiAgICB3aW5kb3cuSFRNTFRpdGxlRWxlbWVudC5wcm90b3R5cGUsXG4gICAgbnVsbCxcbiAgICAndGV4dCdcbiAgKTtcblxuICBkZWZpbmVQcm9wZXJ0eShcbiAgICB3aW5kb3cuSFRNTFN0eWxlRWxlbWVudC5wcm90b3R5cGUsXG4gICAgJ3RleHRDb250ZW50JyxcbiAgICAoZnVuY3Rpb24oZGVzY3JpcHRvcil7XG4gICAgICByZXR1cm4gY29tbW9uRGVzY3JpcHRvcihcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yLmdldC5jYWxsKHRoaXMuc3R5bGVTaGVldCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICh0ZXh0Q29udGVudCkge1xuICAgICAgICAgIGRlc2NyaXB0b3Iuc2V0LmNhbGwodGhpcy5zdHlsZVNoZWV0LCB0ZXh0Q29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfShnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iod2luZG93LkNTU1N0eWxlU2hlZXQucHJvdG90eXBlLCAnY3NzVGV4dCcpKSlcbiAgKTtcblxuICB2YXIgb3BhY2l0eXJlID0gL1xcYlxccyphbHBoYVxccypcXChcXHMqb3BhY2l0eVxccyo9XFxzKihcXGQrKVxccypcXCkvO1xuICBkZWZpbmVQcm9wZXJ0eShcbiAgICB3aW5kb3cuQ1NTU3R5bGVEZWNsYXJhdGlvbi5wcm90b3R5cGUsXG4gICAgJ29wYWNpdHknLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbSA9IHRoaXMuZmlsdGVyLm1hdGNoKG9wYWNpdHlyZSk7XG4gICAgICAgIHJldHVybiBtID8gKG1bMV0gLyAxMDApLnRvU3RyaW5nKCkgOiAnJztcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuem9vbSA9IDE7XG4gICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgICAgICBpZiAodmFsdWUgPCAxKSB7XG4gICAgICAgICAgdmFsdWUgPSAnIGFscGhhKG9wYWNpdHk9JyArIE1hdGgucm91bmQodmFsdWUgKiAxMDApICsgJyknO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maWx0ZXIgPSB0aGlzLmZpbHRlci5yZXBsYWNlKG9wYWNpdHlyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkgeyBmb3VuZCA9IHRydWU7IHJldHVybiB2YWx1ZTsgfSk7XG4gICAgICAgIGlmICghZm91bmQgJiYgdmFsdWUpIHtcbiAgICAgICAgICB0aGlzLmZpbHRlciArPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcblxuICBkZWZpbmVQcm9wZXJ0aWVzKFxuICAgIEVsZW1lbnRQcm90b3R5cGUsXG4gICAge1xuICAgICAgLy8gYm9udXNcbiAgICAgIHRleHRDb250ZW50OiB7XG4gICAgICAgIGdldDogZ2V0VGV4dENvbnRlbnQsXG4gICAgICAgIHNldDogc2V0VGV4dENvbnRlbnRcbiAgICAgIH0sXG4gICAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9FbGVtZW50VHJhdmVyc2FsLyNpbnRlcmZhY2UtZWxlbWVudFRyYXZlcnNhbFxuICAgICAgZmlyc3RFbGVtZW50Q2hpbGQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZm9yKHZhclxuICAgICAgICAgICAgY2hpbGROb2RlcyA9IHRoaXMuY2hpbGROb2RlcyB8fCBbXSxcbiAgICAgICAgICAgIGkgPSAwLCBsZW5ndGggPSBjaGlsZE5vZGVzLmxlbmd0aDtcbiAgICAgICAgICAgIGkgPCBsZW5ndGg7IGkrK1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgaWYgKGNoaWxkTm9kZXNbaV0ubm9kZVR5cGUgPT0gMSkgcmV0dXJuIGNoaWxkTm9kZXNbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbGFzdEVsZW1lbnRDaGlsZDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmb3IodmFyXG4gICAgICAgICAgICBjaGlsZE5vZGVzID0gdGhpcy5jaGlsZE5vZGVzIHx8IFtdLFxuICAgICAgICAgICAgaSA9IGNoaWxkTm9kZXMubGVuZ3RoO1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgaWYgKGNoaWxkTm9kZXNbaV0ubm9kZVR5cGUgPT0gMSkgcmV0dXJuIGNoaWxkTm9kZXNbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25pbnB1dDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fb25pbnB1dCB8fCBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChvbmlucHV0KSB7XG4gICAgICAgICAgaWYgKHRoaXMuX29uaW5wdXQpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl9vbmlucHV0KTtcbiAgICAgICAgICAgIHRoaXMuX29uaW5wdXQgPSBvbmlucHV0O1xuICAgICAgICAgICAgaWYgKG9uaW5wdXQpIHtcbiAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIG9uaW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByZXZpb3VzRWxlbWVudFNpYmxpbmc6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHByZXZpb3VzRWxlbWVudFNpYmxpbmcgPSB0aGlzLnByZXZpb3VzU2libGluZztcbiAgICAgICAgICB3aGlsZSAocHJldmlvdXNFbGVtZW50U2libGluZyAmJiBwcmV2aW91c0VsZW1lbnRTaWJsaW5nLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudFNpYmxpbmcgPSBwcmV2aW91c0VsZW1lbnRTaWJsaW5nLnByZXZpb3VzU2libGluZztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBuZXh0RWxlbWVudFNpYmxpbmc6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIG5leHRFbGVtZW50U2libGluZyA9IHRoaXMubmV4dFNpYmxpbmc7XG4gICAgICAgICAgd2hpbGUgKG5leHRFbGVtZW50U2libGluZyAmJiBuZXh0RWxlbWVudFNpYmxpbmcubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICAgICAgbmV4dEVsZW1lbnRTaWJsaW5nID0gbmV4dEVsZW1lbnRTaWJsaW5nLm5leHRTaWJsaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2hpbGRFbGVtZW50Q291bnQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZm9yKHZhclxuICAgICAgICAgICAgY291bnQgPSAwLFxuICAgICAgICAgICAgY2hpbGROb2RlcyA9IHRoaXMuY2hpbGROb2RlcyB8fCBbXSxcbiAgICAgICAgICAgIGkgPSBjaGlsZE5vZGVzLmxlbmd0aDsgaS0tOyBjb3VudCArPSBjaGlsZE5vZGVzW2ldLm5vZGVUeXBlID09IDFcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBjb3VudDtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8qXG4gICAgICAvLyBjaGlsZHJlbiB3b3VsZCBiZSBhbiBvdmVycmlkZVxuICAgICAgLy8gSUU4IGFscmVhZHkgc3VwcG9ydHMgdGhlbSBidXQgd2l0aCBjb21tZW50cyB0b29cbiAgICAgIC8vIG5vdCBqdXN0IG5vZGVUeXBlIDFcbiAgICAgIGNoaWxkcmVuOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZvcih2YXJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gW10sXG4gICAgICAgICAgICBjaGlsZE5vZGVzID0gdGhpcy5jaGlsZE5vZGVzIHx8IFtdLFxuICAgICAgICAgICAgaSA9IDAsIGxlbmd0aCA9IGNoaWxkTm9kZXMubGVuZ3RoO1xuICAgICAgICAgICAgaSA8IGxlbmd0aDsgaSsrXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGROb2Rlc1tpXS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGROb2Rlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgICovXG4gICAgICAvLyBET00gTGV2ZWwgMiBFdmVudFRhcmdldCBtZXRob2RzIGFuZCBldmVudHNcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IHZhbHVlRGVzYyhmdW5jdGlvbiAodHlwZSwgaGFuZGxlciwgY2FwdHVyZSkge1xuICAgICAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGhhbmRsZXIgIT09ICdvYmplY3QnKSByZXR1cm47XG4gICAgICAgIHZhclxuICAgICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICAgIG9udHlwZSA9ICdvbicgKyB0eXBlLFxuICAgICAgICAgIHRlbXBsZSA9ICBzZWxmW1NFQ1JFVF0gfHxcbiAgICAgICAgICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYsIFNFQ1JFVCwge3ZhbHVlOiB7fX1cbiAgICAgICAgICAgICAgICAgICAgICApW1NFQ1JFVF0sXG4gICAgICAgICAgY3VycmVudFR5cGUgPSB0ZW1wbGVbb250eXBlXSB8fCAodGVtcGxlW29udHlwZV0gPSB7fSksXG4gICAgICAgICAgaGFuZGxlcnMgID0gY3VycmVudFR5cGUuaCB8fCAoY3VycmVudFR5cGUuaCA9IFtdKSxcbiAgICAgICAgICBlLCBhdHRyXG4gICAgICAgIDtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGN1cnJlbnRUeXBlLCAndycpKSB7XG4gICAgICAgICAgY3VycmVudFR5cGUudyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAvLyBlW1NFQ1JFVF0gaXMgYSBzaWxlbnQgbm90aWZpY2F0aW9uIG5lZWRlZCB0byBhdm9pZFxuICAgICAgICAgICAgLy8gZmlyZWQgZXZlbnRzIGR1cmluZyBsaXZlIHRlc3RcbiAgICAgICAgICAgIHJldHVybiBlW1NFQ1JFVF0gfHwgY29tbW9uRXZlbnRMb29wKHNlbGYsIHZlcmlmeShzZWxmLCBlKSwgaGFuZGxlcnMsIGZhbHNlKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIC8vIGlmIG5vdCBkZXRlY3RlZCB5ZXRcbiAgICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwodHlwZXMsIG9udHlwZSkpIHtcbiAgICAgICAgICAgIC8vIGFuZCBwb3RlbnRpYWxseSBhIG5hdGl2ZSBldmVudFxuICAgICAgICAgICAgaWYocG9zc2libHlOYXRpdmVFdmVudC50ZXN0KHR5cGUpKSB7XG4gICAgICAgICAgICAgIC8vIGRvIHRoaXMgaGVhdnkgdGhpbmdcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiAgc2hvdWxkIEkgY29uc2lkZXIgdGFnTmFtZSB0b28gc28gdGhhdFxuICAgICAgICAgICAgICAgIC8vICAgICAgICBJTlBVVFtvbnR5cGVdIGNvdWxkIGJlIGRpZmZlcmVudCA/XG4gICAgICAgICAgICAgICAgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCk7XG4gICAgICAgICAgICAgICAgLy8gZG8gbm90IGNsb25lIGV2ZXIgYSBub2RlXG4gICAgICAgICAgICAgICAgLy8gc3BlY2lhbGx5IGEgZG9jdW1lbnQgb25lIC4uLlxuICAgICAgICAgICAgICAgIC8vIHVzZSB0aGUgc2VjcmV0IHRvIGlnbm9yZSB0aGVtIGFsbFxuICAgICAgICAgICAgICAgIGVbU0VDUkVUXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gZG9jdW1lbnQgYSBwYXJ0IGlmIGEgbm9kZSBoYXMgbmV2ZXIgYmVlblxuICAgICAgICAgICAgICAgIC8vIGFkZGVkIHRvIGFueSBvdGhlciBub2RlLCBmaXJlRXZlbnQgbWlnaHRcbiAgICAgICAgICAgICAgICAvLyBiZWhhdmUgdmVyeSB3ZWlyZGx5IChyZWFkOiB0cmlnZ2VyIHVuc3BlY2lmaWVkIGVycm9ycylcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5ub2RlVHlwZSAhPSA5KSB7XG4gICAgICAgICAgICAgICAgICAvKmpzaGludCBlcW51bGw6dHJ1ZSAqL1xuICAgICAgICAgICAgICAgICAgaWYgKHNlbGYucGFyZW50Tm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChzZWxmKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmICgoYXR0ciA9IHNlbGYuZ2V0QXR0cmlidXRlKG9udHlwZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUF0dHJpYnV0ZS5jYWxsKHNlbGYsIG9udHlwZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlbGYuZmlyZUV2ZW50KG9udHlwZSwgZSk7XG4gICAgICAgICAgICAgICAgdHlwZXNbb250eXBlXSA9IHRydWU7XG4gICAgICAgICAgICAgIH0gY2F0Y2gobWVoKSB7XG4gICAgICAgICAgICAgICAgdHlwZXNbb250eXBlXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHdoaWxlIChkaXYuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICAgICAgICBkaXYucmVtb3ZlQ2hpbGQoZGl2LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoYXR0ciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc2V0QXR0cmlidXRlLmNhbGwoc2VsZiwgb250eXBlLCBhdHRyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gbm8gbmVlZCB0byBib3RoZXIgc2luY2VcbiAgICAgICAgICAgICAgLy8gJ3gtZXZlbnQnIGFpbid0IG5hdGl2ZSBmb3Igc3VyZVxuICAgICAgICAgICAgICB0eXBlc1tvbnR5cGVdID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgoY3VycmVudFR5cGUubiA9IHR5cGVzW29udHlwZV0pKSB7XG4gICAgICAgICAgICBzZWxmLmF0dGFjaEV2ZW50KG9udHlwZSwgY3VycmVudFR5cGUudyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmaW5kKGhhbmRsZXJzLCBoYW5kbGVyKSA8IDApIHtcbiAgICAgICAgICBoYW5kbGVyc1tjYXB0dXJlID8gJ3Vuc2hpZnQnIDogJ3B1c2gnXShoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ2lucHV0Jykge1xuICAgICAgICAgIHNlbGYuYXR0YWNoRXZlbnQoJ29ua2V5dXAnLCBvbmtleXVwKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBkaXNwYXRjaEV2ZW50OiB2YWx1ZURlc2MoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgb250eXBlID0gJ29uJyArIGUudHlwZSxcbiAgICAgICAgICB0ZW1wbGUgPSAgc2VsZltTRUNSRVRdLFxuICAgICAgICAgIGN1cnJlbnRUeXBlID0gdGVtcGxlICYmIHRlbXBsZVtvbnR5cGVdLFxuICAgICAgICAgIHZhbGlkID0gISFjdXJyZW50VHlwZSxcbiAgICAgICAgICBwYXJlbnROb2RlXG4gICAgICAgIDtcbiAgICAgICAgaWYgKCFlLnRhcmdldCkgZS50YXJnZXQgPSBzZWxmO1xuICAgICAgICByZXR1cm4gKHZhbGlkID8gKFxuICAgICAgICAgIGN1cnJlbnRUeXBlLm4gLyogJiYgbGl2ZShzZWxmKSAqLyA/XG4gICAgICAgICAgICBzZWxmLmZpcmVFdmVudChvbnR5cGUsIGUpIDpcbiAgICAgICAgICAgIGNvbW1vbkV2ZW50TG9vcChcbiAgICAgICAgICAgICAgc2VsZixcbiAgICAgICAgICAgICAgZSxcbiAgICAgICAgICAgICAgY3VycmVudFR5cGUuaCxcbiAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgKVxuICAgICAgICApIDogKFxuICAgICAgICAgIChwYXJlbnROb2RlID0gc2VsZi5wYXJlbnROb2RlKSAvKiAmJiBsaXZlKHNlbGYpICovID9cbiAgICAgICAgICAgIHBhcmVudE5vZGUuZGlzcGF0Y2hFdmVudChlKSA6XG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICkpLCAhZS5kZWZhdWx0UHJldmVudGVkO1xuICAgICAgfSksXG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyOiB2YWx1ZURlc2MoZnVuY3Rpb24gKHR5cGUsIGhhbmRsZXIsIGNhcHR1cmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBoYW5kbGVyICE9PSAnb2JqZWN0JykgcmV0dXJuO1xuICAgICAgICB2YXJcbiAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICBvbnR5cGUgPSAnb24nICsgdHlwZSxcbiAgICAgICAgICB0ZW1wbGUgPSAgc2VsZltTRUNSRVRdLFxuICAgICAgICAgIGN1cnJlbnRUeXBlID0gdGVtcGxlICYmIHRlbXBsZVtvbnR5cGVdLFxuICAgICAgICAgIGhhbmRsZXJzID0gY3VycmVudFR5cGUgJiYgY3VycmVudFR5cGUuaCxcbiAgICAgICAgICBpID0gaGFuZGxlcnMgPyBmaW5kKGhhbmRsZXJzLCBoYW5kbGVyKSA6IC0xXG4gICAgICAgIDtcbiAgICAgICAgaWYgKC0xIDwgaSkgaGFuZGxlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgfSlcbiAgICB9XG4gICk7XG5cbiAgLyogdGhpcyBpcyBub3QgbmVlZGVkIGluIElFOFxuICBkZWZpbmVQcm9wZXJ0aWVzKHdpbmRvdy5IVE1MU2VsZWN0RWxlbWVudC5wcm90b3R5cGUsIHtcbiAgICB2YWx1ZToge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNbdGhpcy5zZWxlY3RlZEluZGV4XS52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICAvLyovXG5cbiAgLy8gRXZlbnRUYXJnZXQgbWV0aG9kcyBmb3IgVGV4dCBub2RlcyB0b29cbiAgZGVmaW5lUHJvcGVydGllcyhUZXh0UHJvdG90eXBlLCB7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcjogdmFsdWVEZXNjKEVsZW1lbnRQcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciksXG4gICAgZGlzcGF0Y2hFdmVudDogdmFsdWVEZXNjKEVsZW1lbnRQcm90b3R5cGUuZGlzcGF0Y2hFdmVudCksXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogdmFsdWVEZXNjKEVsZW1lbnRQcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcilcbiAgfSk7XG5cbiAgZGVmaW5lUHJvcGVydGllcyhcbiAgICB3aW5kb3cuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLFxuICAgIHtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IHZhbHVlRGVzYyhmdW5jdGlvbiAodHlwZSwgaGFuZGxlciwgY2FwdHVyZSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICBvbnR5cGUgPSAnb24nICsgdHlwZSxcbiAgICAgICAgICB0ZW1wbGUgPSAgc2VsZltTRUNSRVRdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLCBTRUNSRVQsIHt2YWx1ZToge319XG4gICAgICAgICAgICAgICAgICAgICAgKVtTRUNSRVRdLFxuICAgICAgICAgIGN1cnJlbnRUeXBlID0gdGVtcGxlW29udHlwZV0gfHwgKHRlbXBsZVtvbnR5cGVdID0ge30pLFxuICAgICAgICAgIGhhbmRsZXJzICA9IGN1cnJlbnRUeXBlLmggfHwgKGN1cnJlbnRUeXBlLmggPSBbXSlcbiAgICAgICAgO1xuICAgICAgICBpZiAoZmluZChoYW5kbGVycywgaGFuZGxlcikgPCAwKSB7XG4gICAgICAgICAgaWYgKCFzZWxmW29udHlwZV0pIHtcbiAgICAgICAgICAgIHNlbGZbb250eXBlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICAgICAgICAgICAgZS5pbml0RXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgIHNlbGYuZGlzcGF0Y2hFdmVudChlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhbmRsZXJzW2NhcHR1cmUgPyAndW5zaGlmdCcgOiAncHVzaCddKGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIGRpc3BhdGNoRXZlbnQ6IHZhbHVlRGVzYyhmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICBvbnR5cGUgPSAnb24nICsgZS50eXBlLFxuICAgICAgICAgIHRlbXBsZSA9ICBzZWxmW1NFQ1JFVF0sXG4gICAgICAgICAgY3VycmVudFR5cGUgPSB0ZW1wbGUgJiYgdGVtcGxlW29udHlwZV0sXG4gICAgICAgICAgdmFsaWQgPSAhIWN1cnJlbnRUeXBlXG4gICAgICAgIDtcbiAgICAgICAgcmV0dXJuIHZhbGlkICYmIChcbiAgICAgICAgICBjdXJyZW50VHlwZS5uIC8qICYmIGxpdmUoc2VsZikgKi8gP1xuICAgICAgICAgICAgc2VsZi5maXJlRXZlbnQob250eXBlLCBlKSA6XG4gICAgICAgICAgICBjb21tb25FdmVudExvb3AoXG4gICAgICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgICAgIGUsXG4gICAgICAgICAgICAgIGN1cnJlbnRUeXBlLmgsXG4gICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0pLFxuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogdmFsdWVEZXNjKEVsZW1lbnRQcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcilcbiAgICB9XG4gICk7XG5cbiAgdmFyIGJ1dHRvbkdldHRlciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihFdmVudC5wcm90b3R5cGUsICdidXR0b24nKS5nZXQ7XG4gIGRlZmluZVByb3BlcnRpZXMoXG4gICAgd2luZG93LkV2ZW50LnByb3RvdHlwZSxcbiAgICB7XG4gICAgICBidWJibGVzOiB2YWx1ZURlc2ModHJ1ZSksXG4gICAgICBjYW5jZWxhYmxlOiB2YWx1ZURlc2ModHJ1ZSksXG4gICAgICBwcmV2ZW50RGVmYXVsdDogdmFsdWVEZXNjKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuY2VsYWJsZSkge1xuICAgICAgICAgIHRoaXMucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBzdG9wUHJvcGFnYXRpb246IHZhbHVlRGVzYyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RvcHBlZFByb3BhZ2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgfSksXG4gICAgICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IHZhbHVlRGVzYyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RvcHBlZEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pLFxuICAgICAgaW5pdEV2ZW50OiB2YWx1ZURlc2MoZnVuY3Rpb24odHlwZSwgYnViYmxlcywgY2FuY2VsYWJsZSl7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuYnViYmxlcyA9ICEhYnViYmxlcztcbiAgICAgICAgdGhpcy5jYW5jZWxhYmxlID0gISFjYW5jZWxhYmxlO1xuICAgICAgICBpZiAoIXRoaXMuYnViYmxlcykge1xuICAgICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgcGFnZVg6IHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzLl9wYWdlWCB8fCAodGhpcy5fcGFnZVggPSB0aGlzLmNsaWVudFggKyB3aW5kb3cuc2Nyb2xsWCAtIChodG1sLmNsaWVudExlZnQgfHwgMCkpOyB9fSxcbiAgICAgIHBhZ2VZOiB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gdGhpcy5fcGFnZVkgfHwgKHRoaXMuX3BhZ2VZID0gdGhpcy5jbGllbnRZICsgd2luZG93LnNjcm9sbFkgLSAoaHRtbC5jbGllbnRUb3AgfHwgMCkpOyB9fSxcbiAgICAgIHdoaWNoOiB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gdGhpcy5rZXlDb2RlID8gdGhpcy5rZXlDb2RlIDogKGlzTmFOKHRoaXMuYnV0dG9uKSA/IHVuZGVmaW5lZCA6IHRoaXMuYnV0dG9uICsgMSk7IH19LFxuICAgICAgY2hhckNvZGU6IHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiAodGhpcy5rZXlDb2RlICYmIHRoaXMudHlwZSA9PSAna2V5cHJlc3MnKSA/IHRoaXMua2V5Q29kZSA6IDA7IH19LFxuICAgICAgYnV0dG9uczoge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIGJ1dHRvbkdldHRlci5jYWxsKHRoaXMpOyB9fSxcbiAgICAgIGJ1dHRvbjoge2dldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBidXR0b25zID0gdGhpcy5idXR0b25zO1xuICAgICAgICByZXR1cm4gKGJ1dHRvbnMgJiAxID8gMCA6IChidXR0b25zICYgMiA/IDIgOiAoYnV0dG9ucyAmIDQgPyAxIDogdW5kZWZpbmVkKSkpO1xuICAgICAgfX0sXG4gICAgICBkZWZhdWx0UHJldmVudGVkOiB7Z2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gaWYgcHJldmVudERlZmF1bHQoKSB3YXMgbmV2ZXIgY2FsbGVkLCBvciByZXR1cm5WYWx1ZSBub3QgZ2l2ZW4gYSB2YWx1ZVxuICAgICAgICAvLyB0aGVuIHJldHVyblZhbHVlIGlzIHVuZGVmaW5lZFxuICAgICAgICB2YXIgcmV0dXJuVmFsdWUgPSB0aGlzLnJldHVyblZhbHVlLCB1bmRlZjtcbiAgICAgICAgcmV0dXJuICEocmV0dXJuVmFsdWUgPT09IHVuZGVmIHx8IHJldHVyblZhbHVlKTtcbiAgICAgIH19LFxuICAgICAgcmVsYXRlZFRhcmdldDoge2dldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0eXBlID0gdGhpcy50eXBlO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ21vdXNlb3ZlcicpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tRWxlbWVudDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnbW91c2VvdXQnKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudG9FbGVtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9fVxuICAgIH1cbiAgKTtcblxuICBkZWZpbmVQcm9wZXJ0aWVzKFxuICAgIHdpbmRvdy5IVE1MRG9jdW1lbnQucHJvdG90eXBlLFxuICAgIHtcbiAgICAgIGRlZmF1bHRWaWV3OiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudFdpbmRvdztcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHRleHRDb250ZW50OiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLm5vZGVUeXBlID09PSAxMSA/IGdldFRleHRDb250ZW50LmNhbGwodGhpcykgOiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0ZXh0Q29udGVudCkge1xuICAgICAgICAgIGlmICh0aGlzLm5vZGVUeXBlID09PSAxMSkge1xuICAgICAgICAgICAgc2V0VGV4dENvbnRlbnQuY2FsbCh0aGlzLCB0ZXh0Q29udGVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogdmFsdWVEZXNjKGZ1bmN0aW9uKHR5cGUsIGhhbmRsZXIsIGNhcHR1cmUpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBFbGVtZW50UHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIuY2FsbChzZWxmLCB0eXBlLCBoYW5kbGVyLCBjYXB0dXJlKTtcbiAgICAgICAgLy8gTk9URTogIGl0IHdvbid0IGZpcmUgaWYgYWxyZWFkeSBsb2FkZWQsIHRoaXMgaXMgTk9UIGEgJC5yZWFkeSgpIHNoaW0hXG4gICAgICAgIC8vICAgICAgICB0aGlzIGJlaGF2ZXMganVzdCBsaWtlIHN0YW5kYXJkIGJyb3dzZXJzXG4gICAgICAgIGlmIChcbiAgICAgICAgICBEVU5OT0FCT1VURE9NTE9BREVEICYmXG4gICAgICAgICAgdHlwZSA9PT0gRE9NQ09OVEVOVExPQURFRCAmJlxuICAgICAgICAgICFyZWFkeVN0YXRlT0sudGVzdChcbiAgICAgICAgICAgIHNlbGYucmVhZHlTdGF0ZVxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgRFVOTk9BQk9VVERPTUxPQURFRCA9IGZhbHNlO1xuICAgICAgICAgIHNlbGYuYXR0YWNoRXZlbnQoT05SRUFEWVNUQVRFQ0hBTkdFLCBvblJlYWR5U3RhdGUpO1xuICAgICAgICAgIC8qIGdsb2JhbCB0b3AgKi9cbiAgICAgICAgICBpZiAod2luZG93ID09IHRvcCkge1xuICAgICAgICAgICAgKGZ1bmN0aW9uIGdvbm5hKGUpe3RyeXtcbiAgICAgICAgICAgICAgc2VsZi5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwoJ2xlZnQnKTtcbiAgICAgICAgICAgICAgb25SZWFkeVN0YXRlKCk7XG4gICAgICAgICAgICAgIH1jYXRjaChvX08pe1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGdvbm5hLCA1MCk7XG4gICAgICAgICAgICB9fSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgZGlzcGF0Y2hFdmVudDogdmFsdWVEZXNjKEVsZW1lbnRQcm90b3R5cGUuZGlzcGF0Y2hFdmVudCksXG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyOiB2YWx1ZURlc2MoRWxlbWVudFByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyKSxcbiAgICAgIGNyZWF0ZUV2ZW50OiB2YWx1ZURlc2MoZnVuY3Rpb24oQ2xhc3Mpe1xuICAgICAgICB2YXIgZTtcbiAgICAgICAgaWYgKENsYXNzICE9PSAnRXZlbnQnKSB0aHJvdyBuZXcgRXJyb3IoJ3Vuc3VwcG9ydGVkICcgKyBDbGFzcyk7XG4gICAgICAgIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpO1xuICAgICAgICBlLnRpbWVTdGFtcCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfSlcbiAgICB9XG4gICk7XG5cbiAgZGVmaW5lUHJvcGVydGllcyhcbiAgICB3aW5kb3cuV2luZG93LnByb3RvdHlwZSxcbiAgICB7XG4gICAgICBnZXRDb21wdXRlZFN0eWxlOiB2YWx1ZURlc2MoZnVuY3Rpb24oKXtcblxuICAgICAgICB2YXIgLy8gcGFydGlhbGx5IGdyYWJiZWQgZnJvbSBqUXVlcnkgYW5kIERlYW4ncyBoYWNrXG4gICAgICAgICAgbm90cGl4ZWwgPSAvXig/OlsrLV0/KD86XFxkKlxcLnwpXFxkKyg/OltlRV1bKy1dP1xcZCt8KSkoPyFweClbYS16JV0rJC8sXG4gICAgICAgICAgcG9zaXRpb24gPSAvXih0b3B8cmlnaHR8Ym90dG9tfGxlZnQpJC8sXG4gICAgICAgICAgcmUgPSAvXFwtKFthLXpdKS9nLFxuICAgICAgICAgIHBsYWNlID0gZnVuY3Rpb24gKG1hdGNoLCAkMSkge1xuICAgICAgICAgICAgcmV0dXJuICQxLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICA7XG5cbiAgICAgICAgZnVuY3Rpb24gQ29tcHV0ZWRTdHlsZShfKSB7XG4gICAgICAgICAgdGhpcy5fID0gXztcbiAgICAgICAgfVxuXG4gICAgICAgIENvbXB1dGVkU3R5bGUucHJvdG90eXBlLmdldFByb3BlcnR5VmFsdWUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgIHZhclxuICAgICAgICAgICAgZWwgPSB0aGlzLl8sXG4gICAgICAgICAgICBzdHlsZSA9IGVsLnN0eWxlLFxuICAgICAgICAgICAgY3VycmVudFN0eWxlID0gZWwuY3VycmVudFN0eWxlLFxuICAgICAgICAgICAgcnVudGltZVN0eWxlID0gZWwucnVudGltZVN0eWxlLFxuICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIHJ0TGVmdFxuICAgICAgICAgIDtcbiAgICAgICAgICBpZiAobmFtZSA9PSAnb3BhY2l0eScpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZS5vcGFjaXR5IHx8ICcxJztcbiAgICAgICAgICB9XG4gICAgICAgICAgbmFtZSA9IChuYW1lID09PSAnZmxvYXQnID8gJ3N0eWxlLWZsb2F0JyA6IG5hbWUpLnJlcGxhY2UocmUsIHBsYWNlKTtcbiAgICAgICAgICByZXN1bHQgPSBjdXJyZW50U3R5bGUgPyBjdXJyZW50U3R5bGVbbmFtZV0gOiBzdHlsZVtuYW1lXTtcbiAgICAgICAgICBpZiAobm90cGl4ZWwudGVzdChyZXN1bHQpICYmICFwb3NpdGlvbi50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgICBsZWZ0ID0gc3R5bGUubGVmdDtcbiAgICAgICAgICAgIHJ0TGVmdCA9IHJ1bnRpbWVTdHlsZSAmJiBydW50aW1lU3R5bGUubGVmdDtcbiAgICAgICAgICAgIGlmIChydExlZnQpIHtcbiAgICAgICAgICAgICAgcnVudGltZVN0eWxlLmxlZnQgPSBjdXJyZW50U3R5bGUubGVmdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0eWxlLmxlZnQgPSBuYW1lID09PSAnZm9udFNpemUnID8gJzFlbScgOiByZXN1bHQ7XG4gICAgICAgICAgICByZXN1bHQgPSBzdHlsZS5waXhlbExlZnQgKyAncHgnO1xuICAgICAgICAgICAgc3R5bGUubGVmdCA9IGxlZnQ7XG4gICAgICAgICAgICBpZiAocnRMZWZ0KSB7XG4gICAgICAgICAgICAgIHJ1bnRpbWVTdHlsZS5sZWZ0ID0gcnRMZWZ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvKmpzaGludCBlcW51bGw6dHJ1ZSAqL1xuICAgICAgICAgIHJldHVybiByZXN1bHQgPT0gbnVsbCA/XG4gICAgICAgICAgICByZXN1bHQgOiAoKHJlc3VsdCArICcnKSB8fCAnYXV0bycpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHVuc3VwcG9ydGVkXG4gICAgICAgIGZ1bmN0aW9uIFBzZXVkb0NvbXB1dGVkU3R5bGUoKSB7fVxuICAgICAgICBQc2V1ZG9Db21wdXRlZFN0eWxlLnByb3RvdHlwZS5nZXRQcm9wZXJ0eVZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWwsIHBzZXVkbykge1xuICAgICAgICAgIHJldHVybiBwc2V1ZG8gP1xuICAgICAgICAgICAgbmV3IFBzZXVkb0NvbXB1dGVkU3R5bGUoZWwpIDpcbiAgICAgICAgICAgIG5ldyBDb21wdXRlZFN0eWxlKGVsKTtcbiAgICAgICAgfTtcblxuICAgICAgfSgpKSxcblxuICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogdmFsdWVEZXNjKGZ1bmN0aW9uICh0eXBlLCBoYW5kbGVyLCBjYXB0dXJlKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgIHNlbGYgPSB3aW5kb3csXG4gICAgICAgICAgb250eXBlID0gJ29uJyArIHR5cGUsXG4gICAgICAgICAgaGFuZGxlcnNcbiAgICAgICAgO1xuICAgICAgICBpZiAoIXNlbGZbb250eXBlXSkge1xuICAgICAgICAgIHNlbGZbb250eXBlXSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21tb25FdmVudExvb3Aoc2VsZiwgdmVyaWZ5KHNlbGYsIGUpLCBoYW5kbGVycywgZmFsc2UpICYmIHVuZGVmaW5lZDtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZXJzID0gc2VsZltvbnR5cGVdW1NFQ1JFVF0gfHwgKFxuICAgICAgICAgIHNlbGZbb250eXBlXVtTRUNSRVRdID0gW11cbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGZpbmQoaGFuZGxlcnMsIGhhbmRsZXIpIDwgMCkge1xuICAgICAgICAgIGhhbmRsZXJzW2NhcHR1cmUgPyAndW5zaGlmdCcgOiAncHVzaCddKGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIGRpc3BhdGNoRXZlbnQ6IHZhbHVlRGVzYyhmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgbWV0aG9kID0gd2luZG93WydvbicgKyBlLnR5cGVdO1xuICAgICAgICByZXR1cm4gbWV0aG9kID8gbWV0aG9kLmNhbGwod2luZG93LCBlKSAhPT0gZmFsc2UgJiYgIWUuZGVmYXVsdFByZXZlbnRlZCA6IHRydWU7XG4gICAgICB9KSxcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IHZhbHVlRGVzYyhmdW5jdGlvbiAodHlwZSwgaGFuZGxlciwgY2FwdHVyZSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICBvbnR5cGUgPSAnb24nICsgdHlwZSxcbiAgICAgICAgICBoYW5kbGVycyA9ICh3aW5kb3dbb250eXBlXSB8fCBPYmplY3QpW1NFQ1JFVF0sXG4gICAgICAgICAgaSA9IGhhbmRsZXJzID8gZmluZChoYW5kbGVycywgaGFuZGxlcikgOiAtMVxuICAgICAgICAgO1xuICAgICAgICBpZiAoLTEgPCBpKSBoYW5kbGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICB9KSxcbiAgICAgIHBhZ2VYT2Zmc2V0OiB7Z2V0OiBnZXR0ZXIoJ3Njcm9sbExlZnQnKX0sXG4gICAgICBwYWdlWU9mZnNldDoge2dldDogZ2V0dGVyKCdzY3JvbGxUb3AnKX0sXG4gICAgICBzY3JvbGxYOiB7Z2V0OiBnZXR0ZXIoJ3Njcm9sbExlZnQnKX0sXG4gICAgICBzY3JvbGxZOiB7Z2V0OiBnZXR0ZXIoJ3Njcm9sbFRvcCcpfSxcbiAgICAgIGlubmVyV2lkdGg6IHtnZXQ6IGdldHRlcignY2xpZW50V2lkdGgnKX0sXG4gICAgICBpbm5lckhlaWdodDoge2dldDogZ2V0dGVyKCdjbGllbnRIZWlnaHQnKX1cbiAgICB9XG4gICk7XG5cbiAgd2luZG93LkhUTUxFbGVtZW50ID0gd2luZG93LkVsZW1lbnQ7XG5cbiAgKGZ1bmN0aW9uIChzdHlsZVNoZWV0cywgSFRNTDVFbGVtZW50LCBpKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IEhUTUw1RWxlbWVudC5sZW5ndGg7IGkrKykgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChIVE1MNUVsZW1lbnRbaV0pO1xuICAgIGlmICghc3R5bGVTaGVldHMubGVuZ3RoKSBkb2N1bWVudC5jcmVhdGVTdHlsZVNoZWV0KCcnKTtcbiAgICBzdHlsZVNoZWV0c1swXS5hZGRSdWxlKEhUTUw1RWxlbWVudC5qb2luKCcsJyksICdkaXNwbGF5OmJsb2NrOycpO1xuICB9KGRvY3VtZW50LnN0eWxlU2hlZXRzLCBbJ2hlYWRlcicsICduYXYnLCAnc2VjdGlvbicsICdhcnRpY2xlJywgJ2FzaWRlJywgJ2Zvb3RlciddKSk7XG59KHRoaXMud2luZG93IHx8IGdsb2JhbCkpOyIsIi8vXG4vLyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgcG9seWZpbGwgYnkgRXJpayBNw7ZsbGVyLlxuLy8gIFdpdGggZml4ZXMgZnJvbSBQYXVsIElyaXNoIGFuZCBUaW5vIFppamRlbFxuLy9cbi8vICBodHRwOi8vcGF1bGlyaXNoLmNvbS8yMDExL3JlcXVlc3RhbmltYXRpb25mcmFtZS1mb3Itc21hcnQtYW5pbWF0aW5nL1xuLy8gIGh0dHA6Ly9teS5vcGVyYS5jb20vZW1vbGxlci9ibG9nLzIwMTEvMTIvMjAvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1lci1hbmltYXRpbmdcbi8vXG4vLyAgTUlUIGxpY2Vuc2Vcbi8vXG4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxhc3RUaW1lID0gMDtcbiAgICB2YXIgdmVuZG9ycyA9IFsnd2Via2l0JywgJ21veiddO1xuICAgIGZvciAodmFyIHggPSAwOyB4IDwgdmVuZG9ycy5sZW5ndGggJiYgIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7ICsreCkge1xuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93W3ZlbmRvcnNbeF0gKyAnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9XG4gICAgICAgICAgICB3aW5kb3dbdmVuZG9yc1t4XSArICdDYW5jZWxBbmltYXRpb25GcmFtZSddIHx8IHdpbmRvd1t2ZW5kb3JzW3hdICsgJ0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICAgIH1cblxuICAgIGlmICghd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSlcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgY3VyclRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIHZhciB0aW1lVG9DYWxsID0gTWF0aC5tYXgoMCwgMTYgLSAoY3VyclRpbWUgLSBsYXN0VGltZSkpO1xuICAgICAgICAgICAgdmFyIGlkID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soY3VyclRpbWUgKyB0aW1lVG9DYWxsKTtcbiAgICAgICAgICAgIH0sIHRpbWVUb0NhbGwpO1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBjdXJyVGltZSArIHRpbWVUb0NhbGw7XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH07XG5cbiAgICBpZiAoIXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSlcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChpZCk7XG4gICAgICAgIH07XG59KCkpOyIsInZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBhcGk7XG4gICAgKGZ1bmN0aW9uIChhcGkpIHtcbiAgICAgICAgdmFyIGF1dGg7XG4gICAgICAgIChmdW5jdGlvbiAoYXV0aCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gdmFsaWRhdGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwaS5yZXF1ZXN0KFwiYXV0aC92YWxpZGF0ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF1dGgudmFsaWRhdGUgPSB2YWxpZGF0ZTtcbiAgICAgICAgfSkoYXV0aCA9IGFwaS5hdXRoIHx8IChhcGkuYXV0aCA9IHt9KSk7XG4gICAgfSkoYXBpID0gUmlkZVN0eWxlclNob3djYXNlLmFwaSB8fCAoUmlkZVN0eWxlclNob3djYXNlLmFwaSA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGFwaTtcbiAgICAoZnVuY3Rpb24gKGFwaSkge1xuICAgICAgICB2YXIgc2V0dGluZ3M7XG4gICAgICAgIChmdW5jdGlvbiAoc2V0dGluZ3NfMSkge1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRTZXR0aW5ncyA9IHtcbiAgICAgICAgICAgICAgICBFbmFibGVTaGFyaW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgIFN1c3BlbnNpb25SYW5nZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgRGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgTWluOiAtNCxcbiAgICAgICAgICAgICAgICAgICAgICAgIE1heDogMFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBUcnVjazRXRDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgTWluOiAtNCxcbiAgICAgICAgICAgICAgICAgICAgICAgIE1heDogNFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBWYW40V0Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1pbjogLTQsXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXg6IDRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVXNlUmF3VGlyZURlc2NyaXB0aW9uOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFNldHRpbmdzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKGFwaS5yZXF1ZXN0KFwib3JnYW5pemF0aW9uL2dldHNldHRpbmdzXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgS2V5czogWydFTkFCTEVfU0hBUklORycsICdTVVNQRU5TSU9OX1JBTkdFUycsICdSQVdUSVJFREVTQyddXG4gICAgICAgICAgICAgICAgfSksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2V0dGluZ3MgPSByZXNwb25zZS5TZXR0aW5ncztcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXR0aW5ncykgcmV0dXJuIGRlZmF1bHRTZXR0aW5ncztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEVuYWJsZVNoYXJpbmc6IHBhcnNlQm9vbGVhbihzZXR0aW5nc1tcIkVOQUJMRV9TSEFSSU5HXCJdIHx8IGRlZmF1bHRTZXR0aW5ncy5FbmFibGVTaGFyaW5nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFN1c3BlbnNpb25SYW5nZXM6IHBhcnNlU3VzcGVuc2lvblJhbmdlcyhzZXR0aW5nc1tcIlNVU1BFTlNJT05fUkFOR0VTXCJdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFVzZVJhd1RpcmVEZXNjcmlwdGlvbjogcGFyc2VCb29sZWFuKHNldHRpbmdzW1wiUkFXVElSRURFU0NcIl0gfHwgZGVmYXVsdFNldHRpbmdzLlVzZVJhd1RpcmVEZXNjcmlwdGlvbilcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldHRpbmdzXzEuZ2V0U2V0dGluZ3MgPSBnZXRTZXR0aW5ncztcbiAgICAgICAgICAgIGZ1bmN0aW9uIHBhcnNlQm9vbGVhbihib29sZWFuKSB7XG4gICAgICAgICAgICAgICAgLy8gTm90IGEgc3RyaW5nLCBvciBhbiBlbXB0eSBzdHJpbmcsIHJldHVybiB0cnVlIG9yIGZhbHNlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBib29sZWFuICE9PSAnc3RyaW5nJyB8fCAhYm9vbGVhbikgcmV0dXJuICEhYm9vbGVhbjtcbiAgICAgICAgICAgICAgICB2YXIgZmlyc3RDaGFyID0gYm9vbGVhblswXTtcbiAgICAgICAgICAgICAgICAvLyBUcnVlIGlzOiB0aGUgZmlyc3QgY2hhciBiZWluZyB1cHBlcmNhc2UvbG93ZXJjYXNlIFQgb3IgWVxuICAgICAgICAgICAgICAgIGlmIChmaXJzdENoYXIgPT09ICd5JyB8fCBmaXJzdENoYXIgPT09ICdZJyB8fCBmaXJzdENoYXIgPT09ICd0JyB8fCBmaXJzdENoYXIgPT09ICdUJykgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgLy8gRmFsc2UgaXMgZXZlcnl0aGluZyBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gcGFyc2VTdXNwZW5zaW9uUmFuZ2VzKHN1c3BlbnNpb25SYW5nZXNTZXR0aW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdXNwZW5zaW9uUmFuZ2VzU2V0dGluZykgcmV0dXJuIGRlZmF1bHRTZXR0aW5ncy5TdXNwZW5zaW9uUmFuZ2VzO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdXNwZW5zaW9uUmFuZ2VzID0gSlNPTi5wYXJzZShzdXNwZW5zaW9uUmFuZ2VzU2V0dGluZyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdXNwZW5zaW9uUmFuZ2VzO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRTZXR0aW5ncy5TdXNwZW5zaW9uUmFuZ2VzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoc2V0dGluZ3MgPSBhcGkuc2V0dGluZ3MgfHwgKGFwaS5zZXR0aW5ncyA9IHt9KSk7XG4gICAgfSkoYXBpID0gUmlkZVN0eWxlclNob3djYXNlLmFwaSB8fCAoUmlkZVN0eWxlclNob3djYXNlLmFwaSA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGFwaSA9IHZvaWQgMDtcbiAgICAoZnVuY3Rpb24gKGFwaSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5pdGlhbGl6ZSB0aGUgUmlkZVN0eWxlciBBUEkgYnkgcGFzc2luZyBpbiBhIHVzZXIvcGFzc3dvcmQgY29tYmluYXRpb24sIGEgdXNlciB0b2tlbiwgb3IgYSBrZXkuXG4gICAgICAgICAqIEBwYXJhbSBzZXR0aW5ncyBUaGUgQVBJIGluaXRpYWxpemF0aW9uIHNldHRpbmdzXG4gICAgICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIChvciByZWplY3RlZCkgd2hlbiB0aGUgQVBJIGlzIGF1dGhlbnRpY2F0ZWQgKG9yIGZhaWxzIGF1dGhlbnRpY2F0aW9uKVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZShzZXR0aW5ncykge1xuICAgICAgICAgICAgLy8gSWYgYXV0aGVudGljYXRpb24gaW5mb3JtYXRpb24gd2FzIHBhc3NlZCBpbiwgbGV0J3MgdXNlIHRoYXRcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncykge1xuICAgICAgICAgICAgICAgIGlmICgndXNlcm5hbWUnIGluIHNldHRpbmdzICYmICdwYXNzd29yZCcgaW4gc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9naW4gdXNpbmcgYSB1c2VybmFtZSBhbmQgcGFzc3dvcmRcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgICAgICAgICAgICAgcmlkZXN0eWxlci5hdXRoLnN0YXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2VybmFtZTogc2V0dGluZ3MudXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFzc3dvcmQ6IHNldHRpbmdzLnBhc3N3b3JkXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLlN1Y2Nlc3MpIGFwaS5hdXRoZW50aWNhdGVkLnJlc29sdmUoKTtlbHNlIGFwaS5hdXRoZW50aWNhdGVkLnJlamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCBjYWxsaW5nIHZhbGlkYXRlIGJlbG93XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCd0b2tlbicgaW4gc2V0dGluZ3MgfHwgJ2tleScgaW4gc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9naW4gdXNpbmcgYSBrZXkgb3IgdG9rZW5cbiAgICAgICAgICAgICAgICAgICAgcmlkZXN0eWxlci5hdXRoLnNldChzZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVmFsaWRhdGUgdGhlIHVzZXIncyBrZXkgb3IgdG9rZW5cbiAgICAgICAgICAgIGFwaS5hdXRoLnZhbGlkYXRlKCkuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IHJpZGVzdHlsZXIuYWpheC51cmwoJycsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgaWYgKC9cXC9hcGktYWxwaGFcXC4vaS50ZXN0KHVybCkpIGFwaS5lbnZpcm9ubWVudCA9IEVudmlyb25tZW50LkFscGhhO2Vsc2UgaWYgKC9cXC9hcGktYmV0YVxcLi9pLnRlc3QodXJsKSkgYXBpLmVudmlyb25tZW50ID0gRW52aXJvbm1lbnQuQmV0YTtlbHNlIGlmICgvXFwvYXBpXFwuL2kudGVzdCh1cmwpKSBhcGkuZW52aXJvbm1lbnQgPSBFbnZpcm9ubWVudC5MaXZlO2Vsc2UgYXBpLmVudmlyb25tZW50ID0gRW52aXJvbm1lbnQuT3RoZXI7XG4gICAgICAgICAgICAgICAgYXBpLmF1dGhlbnRpY2F0ZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwaS5hdXRoZW50aWNhdGVkLnJlamVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gYXBpLmF1dGhlbnRpY2F0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgYXBpLmluaXRpYWxpemUgPSBpbml0aWFsaXplO1xuICAgICAgICBhcGkuYXV0aGVudGljYXRlZCA9IHJpZGVzdHlsZXIucHJvbWlzZSgpO1xuICAgICAgICBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBpLmF1dGhlbnRpY2F0ZWQuc3RhdGUoKSA9PT0gMSAvKiBSZXNvbHZlZCAqLztcbiAgICAgICAgfVxuICAgICAgICBhcGkuaXNBdXRoZW50aWNhdGVkID0gaXNBdXRoZW50aWNhdGVkO1xuICAgICAgICBmdW5jdGlvbiBhZnRlckF1dGhlbnRpY2F0ZWQoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhlbnRpY2F0ZWQoKSkgY2FsbGJhY2soKTtlbHNlIGFwaS5hdXRoZW50aWNhdGVkLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYXBpLmFmdGVyQXV0aGVudGljYXRlZCA9IGFmdGVyQXV0aGVudGljYXRlZDtcbiAgICAgICAgZnVuY3Rpb24gcmVxdWVzdChhY3Rpb24sIGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gcmlkZXN0eWxlci5wcm9taXNlKCk7XG4gICAgICAgICAgICByaWRlc3R5bGVyLmFqYXguc2VuZCh7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2socmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLlN1Y2Nlc3MpIHByb21pc2UucmVzb2x2ZShyZXNwb25zZSk7ZWxzZSBwcm9taXNlLnJlamVjdChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBhcGkucmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgICAgIGZ1bmN0aW9uIGdldFVSTChhY3Rpb24sIGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiByaWRlc3R5bGVyLmFqYXgudXJsKGFjdGlvbiwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgYXBpLmdldFVSTCA9IGdldFVSTDtcbiAgICAgICAgdmFyIEVudmlyb25tZW50ID0gdm9pZCAwO1xuICAgICAgICAoZnVuY3Rpb24gKEVudmlyb25tZW50KSB7XG4gICAgICAgICAgICBFbnZpcm9ubWVudFtFbnZpcm9ubWVudFtcIkFscGhhXCJdID0gMF0gPSBcIkFscGhhXCI7XG4gICAgICAgICAgICBFbnZpcm9ubWVudFtFbnZpcm9ubWVudFtcIkJldGFcIl0gPSAxXSA9IFwiQmV0YVwiO1xuICAgICAgICAgICAgRW52aXJvbm1lbnRbRW52aXJvbm1lbnRbXCJMaXZlXCJdID0gMl0gPSBcIkxpdmVcIjtcbiAgICAgICAgICAgIEVudmlyb25tZW50W0Vudmlyb25tZW50W1wiT3RoZXJcIl0gPSAzXSA9IFwiT3RoZXJcIjtcbiAgICAgICAgfSkoRW52aXJvbm1lbnQgPSBhcGkuRW52aXJvbm1lbnQgfHwgKGFwaS5FbnZpcm9ubWVudCA9IHt9KSk7XG4gICAgfSkoYXBpID0gUmlkZVN0eWxlclNob3djYXNlLmFwaSB8fCAoUmlkZVN0eWxlclNob3djYXNlLmFwaSA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIEFycmF5SGVscGVyO1xuICAgIChmdW5jdGlvbiAoQXJyYXlIZWxwZXIpIHtcbiAgICAgICAgZnVuY3Rpb24gY29weShhcnJheSkge1xuICAgICAgICAgICAgdmFyIGNvcHkgPSBuZXcgQXJyYXkoYXJyYXkubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBhcnJheS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBjb3B5W2luZGV4XSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgICAgIH1yZXR1cm4gY29weTtcbiAgICAgICAgfVxuICAgICAgICBBcnJheUhlbHBlci5jb3B5ID0gY29weTtcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCBpdGVtTWF0Y2gpIHtcbiAgICAgICAgICAgIHZhciBuZXdBcnJheSA9IG5ldyBBcnJheShhcnJheS5sZW5ndGgpO1xuICAgICAgICAgICAgdmFyIG5ld0FycmF5SW5kZXggPSAtMTtcbiAgICAgICAgICAgIGZvciAodmFyIGFycmF5SW5kZXggPSAwOyBhcnJheUluZGV4IDwgYXJyYXkubGVuZ3RoOyBhcnJheUluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGFycmF5W2FycmF5SW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbU1hdGNoID09PSAnZnVuY3Rpb24nICYmIGl0ZW1NYXRjaChpdGVtKSB8fCBpdGVtID09PSBpdGVtTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCBpdGVtcyB0aGF0IG1hdGNoIHRoZSBpdGVtTWF0Y2ggZnVuY3Rpb24gb3IgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld0FycmF5WysrbmV3QXJyYXlJbmRleF0gPSBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2hvcnRlbiBhcnJheSB0byBleGNsdWRlIGxlbmd0aCBmcm9tIHJlbW92ZWQgaXRlbXNcbiAgICAgICAgICAgIG5ld0FycmF5Lmxlbmd0aCA9IG5ld0FycmF5SW5kZXggKyAxO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0FycmF5O1xuICAgICAgICB9XG4gICAgICAgIEFycmF5SGVscGVyLnJlbW92ZSA9IHJlbW92ZTtcbiAgICAgICAgZnVuY3Rpb24gZmlsdGVyKGFycmF5LCBpdGVtTWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiByZW1vdmUoYXJyYXksIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFpdGVtTWF0Y2goaXRlbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBBcnJheUhlbHBlci5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgICAgIGZ1bmN0aW9uIG1hcChhcnJheSwgbWFwRnVuY3Rpb24sIHRoaXNBcmcpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgQXJyYXkucHJvdG90eXBlLm1hcCA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGFycmF5Lm1hcChtYXBGdW5jdGlvbiwgdGhpc0FyZyk7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KGFycmF5Lmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhcnJheVtpXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXNBcmcgPT09ICd1bmRlZmluZWQnKSByZXN1bHRbaV0gPSBtYXBGdW5jdGlvbihhcnJheVtpXSwgaSwgYXJyYXkpO2Vsc2UgcmVzdWx0W2ldID0gbWFwRnVuY3Rpb24uY2FsbCh0aGlzQXJnLCBhcnJheVtpXSwgaSwgYXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBBcnJheUhlbHBlci5tYXAgPSBtYXA7XG4gICAgICAgIGZ1bmN0aW9uIHJlZHVjZShhcnJheSwgcmVkdWNlciwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UgPT09ICdmdW5jdGlvbicpIHJldHVybiBhcnJheS5yZWR1Y2UocmVkdWNlciwgaW5pdGlhbFZhbHVlKTtcbiAgICAgICAgICAgIHZhciBhY2N1bXVsYXRvciA9IGluaXRpYWxWYWx1ZTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBhY2N1bXVsYXRvciA9IGFjY3VtdWxhdG9yICE9PSB1bmRlZmluZWQgPyByZWR1Y2VyLmNhbGwodW5kZWZpbmVkLCBhY2N1bXVsYXRvciwgYXJyYXlbaV0sIGksIGFycmF5KSA6IGFycmF5W2ldO1xuICAgICAgICAgICAgfXJldHVybiBhY2N1bXVsYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBBcnJheUhlbHBlci5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgfSkoQXJyYXlIZWxwZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuQXJyYXlIZWxwZXIgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlciA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIEJveEhlbHBlcjtcbiAgICAoZnVuY3Rpb24gKEJveEhlbHBlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogQm91bmQgYSBib3ggdG8gYSBtaW5pbXVtIGFuZC9vciBtYXhpbXVtIGJvdW5kaW5nIGJveFxuICAgICAgICAgKiBAcGFyYW0gYm94IFRoZSBib3ggdG8gYm91bmRcbiAgICAgICAgICogQHBhcmFtIGJvdW5kc01pbiBUaGUgbWluaW11bSBib3VuZGluZyBib3hcbiAgICAgICAgICogQHBhcmFtIGJvdW5kc01heCBUaGUgbWF4aW11bSBib3VuZGluZyBib3hcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGJvdW5kKGJveCwgYm91bmRzTWluLCBib3VuZHNNYXgpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYm91bmRzTWluID09PSAnbnVtYmVyJykgYm91bmRzTWluID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBib3VuZHNNaW4sXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBib3VuZHNNaW5cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGJvdW5kc01heCA9PT0gJ251bWJlcicpIGJvdW5kc01heCA9IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogYm91bmRzTWF4LFxuICAgICAgICAgICAgICAgIGhlaWdodDogYm91bmRzTWF4XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gR2V0IHRoZSBzY2FsZSBjaGFuZ2UgdG8gc2NhbGUgYm94IGRvd24gdG8gbWF4aW11bSBib3VuZHNcbiAgICAgICAgICAgIHZhciBzY2FsZVRvTWF4ID0gYm91bmRzTWF4ID8gTWF0aC5taW4oYm91bmRzTWF4LndpZHRoIC8gYm94LndpZHRoLCBib3VuZHNNYXguaGVpZ2h0IC8gYm94LmhlaWdodCkgOiAxO1xuICAgICAgICAgICAgLy8gR2V0IHRoZSBzY2FsZSBjaGFuZ2UgdG8gc2NhbGUgYm94IHVwIHRvIG1pbmltdW0gYm91bmRzXG4gICAgICAgICAgICB2YXIgc2NhbGVUb01pbiA9IGJvdW5kc01pbiA/IE1hdGgubWF4KGJvdW5kc01pbi53aWR0aCAvIGJveC53aWR0aCwgYm91bmRzTWluLmhlaWdodCAvIGJveC5oZWlnaHQpIDogMTtcbiAgICAgICAgICAgIHZhciBzY2FsYXIgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAoc2NhbGVUb01heCA8IDEpIHNjYWxhciA9IHNjYWxlVG9NYXg7ZWxzZSBpZiAoc2NhbGVUb01pbiA+IDEpIHNjYWxhciA9IHNjYWxlVG9NaW47ZWxzZSByZXR1cm4gYm94O1xuICAgICAgICAgICAgcmV0dXJuIHNjYWxlKGJveCwgc2NhbGFyKTtcbiAgICAgICAgfVxuICAgICAgICBCb3hIZWxwZXIuYm91bmQgPSBib3VuZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYWxlIGEgYm94IGJ5IGEgc2NhbGFyXG4gICAgICAgICAqIEBwYXJhbSBib3ggVGhlIGJveFxuICAgICAgICAgKiBAcGFyYW0gc2NhbGFyIFRoZSBudW1iZXIgdG8gc2NhbGUgdGhlIGJveCBieVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc2NhbGUoYm94LCBzY2FsYXIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NhbGFyID09PSAnbnVtYmVyJykgc2NhbGFyID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBzY2FsYXIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBzY2FsYXJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBib3gud2lkdGggKiBzY2FsYXIud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBib3guaGVpZ2h0ICogc2NhbGFyLmhlaWdodFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBCb3hIZWxwZXIuc2NhbGUgPSBzY2FsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIGJveCwgd2l0aG91dCBkZWNpbWFsc1xuICAgICAgICAgKiBAcGFyYW0gYm94IFRoZSBib3hcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGZsb29yKGJveCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogfn5ib3gud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB+fmJveC5oZWlnaHRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgQm94SGVscGVyLmZsb29yID0gZmxvb3I7XG4gICAgfSkoQm94SGVscGVyID0gUmlkZVN0eWxlclNob3djYXNlLkJveEhlbHBlciB8fCAoUmlkZVN0eWxlclNob3djYXNlLkJveEhlbHBlciA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIEdVSURIZWxwZXIgPSB2b2lkIDA7XG4gICAgKGZ1bmN0aW9uIChHVUlESGVscGVyKSB7XG4gICAgICAgIC8vIE1hcHMgZm9yIG51bWJlciA8LT4gaGV4IHN0cmluZyBjb252ZXJzaW9uXG4gICAgICAgIHZhciBieXRlVG9IZXggPSBbXTtcbiAgICAgICAgdmFyIGhleFRvQnl0ZSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gICAgICAgICAgICBieXRlVG9IZXhbaV0gPSAoaSArIDB4MTAwKS50b1N0cmluZygxNikuc3Vic3RyKDEpO1xuICAgICAgICAgICAgaGV4VG9CeXRlW2J5dGVUb0hleFtpXV0gPSBpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXJzZSBhIEd1aWQgaW50byBhIGNvbW1vbiBmb3JtYXRcbiAgICAgICAgICogQHBhcmFtIGlkIFRoZSBJRCB0byBwYXJzZVxuICAgICAgICAgKiBAcGFyYW0gYnVmZmVyIEFuIGV4aXN0aW5nIEd1aWQvYXJyYXkgdG8gd3JpdGUgdG9cbiAgICAgICAgICogQHBhcmFtIG9mZnNldCBUaGUgb2Zmc2V0IHRvIGJlZ2luIHdyaXRpbmcgYXRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHBhcnNlKGlkLCBidWZmZXIsIG9mZnNldCkge1xuICAgICAgICAgICAgdmFyIGkgPSBidWZmZXIgJiYgb2Zmc2V0IHx8IDA7XG4gICAgICAgICAgICB2YXIgaiA9IDA7XG4gICAgICAgICAgICBidWZmZXIgPSBidWZmZXIgfHwgW107XG4gICAgICAgICAgICBpZC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1swLTlhLWZdezJ9L2csIGZ1bmN0aW9uIChvY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoaiA8IDE2KSBidWZmZXJbaSArIGorK10gPSBoZXhUb0J5dGVbb2N0XTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFplcm8gb3V0IHJlbWFpbmluZyBieXRlcyBpZiBzdHJpbmcgd2FzIHNob3J0XG4gICAgICAgICAgICB3aGlsZSAoaiA8IDE2KSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyW2kgKyBqKytdID0gMDtcbiAgICAgICAgICAgIH1yZXR1cm4gYnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIEdVSURIZWxwZXIucGFyc2UgPSBwYXJzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlcnQgYSBwYXJzZWQgR3VpZCBiYWNrIGludG8gYSBzdHJpbmdcbiAgICAgICAgICogQHBhcmFtIGlkIEEgcGFyc2VkIEd1aWQgdG8gdW5wYXJzZVxuICAgICAgICAgKiBAcGFyYW0gb2Zmc2V0IFN0YXJ0aW5nIGluZGV4IGluIHRoZSBpZCB0byBiZWdpbiByZWFkaW5nIGZyb21cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHVucGFyc2UoaWQsIG9mZnNldCkge1xuICAgICAgICAgICAgdmFyIGkgPSBvZmZzZXQgfHwgMDtcbiAgICAgICAgICAgIHZhciBidGggPSBieXRlVG9IZXg7XG4gICAgICAgICAgICByZXR1cm4gYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgJy0nICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgJy0nICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgJy0nICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgJy0nICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dO1xuICAgICAgICB9XG4gICAgICAgIEdVSURIZWxwZXIudW5wYXJzZSA9IHVucGFyc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21wYXJlIHR3byBHdWlkcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1YWxcbiAgICAgICAgICogQHBhcmFtIGlkQSBUaGUgZmlyc3QgSUQgdG8gcGFyc2UgKGlmIG5lZWRlZCkgYW5kIHRoZW4gY29tcGFyZVxuICAgICAgICAgKiBAcGFyYW0gaWRCIFRoZSBzZWNvbmQgSUQgdG8gcGFyc2UgKGlmIG5lZWRlZCkgYW5kIHRoZW4gY29tcGFyZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gYXJlRXF1YWwoaWRBLCBpZEIpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSB1bmRlZmluZWQvdW5zcGVjaWZpZWQgcGFyYW1ldGVyc1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghaWRBKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaWRCKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWlkQikgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGd1aWRBID0gdm9pZCAwO1xuICAgICAgICAgICAgdmFyIGd1aWRCID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpZEEgPT09ICdzdHJpbmcnKSBndWlkQSA9IHBhcnNlKGlkQSk7ZWxzZSBndWlkQSA9IGlkQTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaWRCID09PSAnc3RyaW5nJykgZ3VpZEIgPSBwYXJzZShpZEIpO2Vsc2UgZ3VpZEIgPSBpZEI7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZ3VpZEEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJ5dGVBID0gZ3VpZEFbX2ldO1xuICAgICAgICAgICAgICAgIHZhciBieXRlQiA9IGd1aWRCW19pXTtcbiAgICAgICAgICAgICAgICBpZiAoYnl0ZUEgIT09IGJ5dGVCKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBHVUlESGVscGVyLmFyZUVxdWFsID0gYXJlRXF1YWw7XG4gICAgfSkoR1VJREhlbHBlciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5HVUlESGVscGVyIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuR1VJREhlbHBlciA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgSFRNTEhlbHBlcjtcbiAgICAoZnVuY3Rpb24gKEhUTUxIZWxwZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgYSBuZXcgc2V0IG9mIGVsZW1lbnRzIG1hdGNoZWQgZnJvbSB0aGUgb3JpZ2luYWwgc2V0XG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50cyBUaGUgZWxlbWVudHMgdG8gbWF0Y2hcbiAgICAgICAgICogQHBhcmFtIG1hdGNoIFRoZSBtYXRjaGluZyBmdW5jdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZWxlbWVudHNNYXRjaGluZyhlbGVtZW50cywgbWF0Y2gpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGluZ0VsZW1lbnRzID0gbmV3IEFycmF5KGVsZW1lbnRzLmxlbmd0aCk7XG4gICAgICAgICAgICB2YXIgbWF0Y2hpbmdFbGVtZW50c0luZGV4ID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBlbGVtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBlbGVtZW50c1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoKGNoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGluZ0VsZW1lbnRzW21hdGNoaW5nRWxlbWVudHNJbmRleCsrXSA9IGNoaWxkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hdGNoaW5nRWxlbWVudHMubGVuZ3RoID0gbWF0Y2hpbmdFbGVtZW50c0luZGV4O1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoaW5nRWxlbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5lbGVtZW50c01hdGNoaW5nID0gZWxlbWVudHNNYXRjaGluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCB0byBtYXRjaCB0aGUgZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnRzIFRoZSBzZXQgb2YgZWxlbWVudHMgdG8gc2VhcmNoIGluXG4gICAgICAgICAqIEBwYXJhbSBtYXRjaCBUaGUgbWF0Y2hpbmcgZnVuY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGZpcnN0RWxlbWVudE1hdGNoaW5nKGVsZW1lbnRzLCBtYXRjaCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGVsZW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGVsZW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2goY2hpbGQpKSByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmZpcnN0RWxlbWVudE1hdGNoaW5nID0gZmlyc3RFbGVtZW50TWF0Y2hpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQgaW4gdGhlIHNldCB0byBtYXRjaCB0aGUgZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnRzIFRoZSBzZXQgb2YgZWxlbWVudHMgdG8gc2VhcmNoIGluXG4gICAgICAgICAqIEBwYXJhbSBtYXRjaCBUaGUgbWF0Y2hpbmcgZnVuY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGxhc3RFbGVtZW50TWF0Y2hpbmcoZWxlbWVudHMsIG1hdGNoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IGVsZW1lbnRzLmxlbmd0aCAtIDE7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBlbGVtZW50c1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoKGNoaWxkKSkgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5sYXN0RWxlbWVudE1hdGNoaW5nID0gbGFzdEVsZW1lbnRNYXRjaGluZztcbiAgICAgICAgZnVuY3Rpb24gY2hpbGRyZW5NYXRjaGluZyhlbGVtZW50LCBtYXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzTWF0Y2hpbmcoZWxlbWVudC5jaGlsZHJlbiwgbWF0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuY2hpbGRyZW5NYXRjaGluZyA9IGNoaWxkcmVuTWF0Y2hpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWFyY2ggYW4gZWxlbWVudCBmb3IgdGhlIGZpcnN0IGNoaWxkIG1hdGNoaW5nIHRoZSBtYXRjaCBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBzZWFyY2ggY2hpbGRyZW4gb2ZcbiAgICAgICAgICogQHBhcmFtIG1hdGNoIFRoZSBtYXRjaCBmdW5jdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZmlyc3RDaGlsZE1hdGNoaW5nKGVsZW1lbnQsIG1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3RFbGVtZW50TWF0Y2hpbmcoZWxlbWVudC5jaGlsZHJlbiwgbWF0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuZmlyc3RDaGlsZE1hdGNoaW5nID0gZmlyc3RDaGlsZE1hdGNoaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBlbGVtZW50J3MgY2hpbGRyZW4gbWF0Y2hpbmcgdGhlIHBhc3NlZCBpbiBzZXQgb2ZcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gc2VhcmNoIHRoZSBjaGlsZHJlbiBvZlxuICAgICAgICAgKiBAcGFyYW0gY2xhc3NlcyBUaGUgc2V0IG9mIGNsYXNzZXMgdG8gbWF0Y2ggY2hpbGRyZW4gd2l0aFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gY2hpbGRyZW5XaXRoQ2xhc3NlcyhlbGVtZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NlcyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2xhc3NlcyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5mbGF0dGVuQ2xhc3NMaXN0KGNsYXNzZXMpO1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuTWF0Y2hpbmcoZWxlbWVudCwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5oYXNDbGFzc2VzKGNoaWxkLCBjbGFzc2VzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuY2hpbGRyZW5XaXRoQ2xhc3NlcyA9IGNoaWxkcmVuV2l0aENsYXNzZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmVzIGNoaWxkcmVuIGZyb20gdGhlIGVsZW1lbnQgbWF0Y2hpbmcgYSBjbGFzcyBvciBzZXQgb2YgY2xhc3Nlc1xuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBzZWFyY2ggdGhlIGNoaWxkcmVuXG4gICAgICAgICAqIEBwYXJhbSBjbGFzc2VzIFRoZSBjbGFzc2VzIHRvIG1hdGNoIGNoaWxkcmVuIHRvIHJlbW92ZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW5XaXRoQ2xhc3NlcyhlbGVtZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzZXMgPSBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gY2hpbGRyZW5XaXRoQ2xhc3Nlcy5hcHBseSh1bmRlZmluZWQsIFtlbGVtZW50XS5jb25jYXQoY2xhc3NlcykpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIucmVtb3ZlQ2hpbGRyZW5XaXRoQ2xhc3NlcyA9IHJlbW92ZUNoaWxkcmVuV2l0aENsYXNzZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWFyY2ggYW4gZWxlbWVudCBmb3IgdGhlIGZpcnN0IGNoaWxkIHdpdGggdGhlIHNwZWNpZmllZCB0YWdcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gc2VhcmNoIGNoaWxkcmVuIG9mXG4gICAgICAgICAqIEBwYXJhbSB0YWdOYW1lIFRoZSB0YWcgdG8gbG9vayBmb3JcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGZpcnN0Q2hpbGRXaXRoVGFnKGVsZW1lbnQsIHRhZ05hbWUpIHtcbiAgICAgICAgICAgIHRhZ05hbWUgPSB0YWdOYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3RDaGlsZE1hdGNoaW5nKGVsZW1lbnQsIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZC50YWdOYW1lID09PSB0YWdOYW1lO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5maXJzdENoaWxkV2l0aFRhZyA9IGZpcnN0Q2hpbGRXaXRoVGFnO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VhcmNoIGFuIGVsZW1lbnQgZm9yIHRoZSBmaXJzdCBjaGlsZCB3aXRoIHRoZSBzcGVjaWZpZWQgY2xhc3MoZXMpIGluIGl0cyBjbGFzcyBsaXN0XG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHNlYXJjaCBjaGlsZHJlbiBvZlxuICAgICAgICAgKiBAcGFyYW0gY2xhc3NlcyBUaGUgY2xhc3NlcyB0byBsb29rIGZvclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZmlyc3RDaGlsZFdpdGhDbGFzcyhlbGVtZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzZXMgPSBBcnJheShfbGVuMyA+IDEgPyBfbGVuMyAtIDEgOiAwKSwgX2tleTMgPSAxOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlc1tfa2V5MyAtIDFdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZpcnN0Q2hpbGRNYXRjaGluZyhlbGVtZW50LCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLmhhc0NsYXNzZXMoY2hpbGQsIGNsYXNzZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5maXJzdENoaWxkV2l0aENsYXNzID0gZmlyc3RDaGlsZFdpdGhDbGFzcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGVjdHMgaWYgYW4gZWxlbWVudCBoYXMgYSBjaGlsZCB3aXRoIHRoZSBzcGVjaWZpZWQgY2xhc3MoZXMpXG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHNlYXJjaCB0aGUgY2hpbGRyZW4gb2ZcbiAgICAgICAgICogQHBhcmFtIGNsYXNzZXMgVGhlIGNsYXNzKGVzKSB0byBsb29rIGZvclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaGFzQ2hpbGRXaXRoQ2xhc3MoZWxlbWVudCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBjbGFzc2VzID0gQXJyYXkoX2xlbjQgPiAxID8gX2xlbjQgLSAxIDogMCksIF9rZXk0ID0gMTsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgICAgICAgICAgIGNsYXNzZXNbX2tleTQgLSAxXSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAhIWZpcnN0Q2hpbGRXaXRoQ2xhc3MuYXBwbHkodW5kZWZpbmVkLCBbZWxlbWVudF0uY29uY2F0KGNsYXNzZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmhhc0NoaWxkV2l0aENsYXNzID0gaGFzQ2hpbGRXaXRoQ2xhc3M7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlY3RzIGlmIGFuIGVsZW1lbnQgaGFzIGEgc2libGluZyB3aXRoIHRoZSBzcGVjaWZpZWQgY2xhc3MoZXMpXG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHNlYXJjaCB0aGUgc2libGluZ3Mgb2ZcbiAgICAgICAgICogQHBhcmFtIGNsYXNzZXMgVGhlIGNsYXNzKGVzKSB0byBsb29rIGZvclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaGFzU2libGluZ1dpdGhDbGFzcyhlbGVtZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuNSA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzZXMgPSBBcnJheShfbGVuNSA+IDEgPyBfbGVuNSAtIDEgOiAwKSwgX2tleTUgPSAxOyBfa2V5NSA8IF9sZW41OyBfa2V5NSsrKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlc1tfa2V5NSAtIDFdID0gYXJndW1lbnRzW19rZXk1XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGhhc0NoaWxkV2l0aENsYXNzLmFwcGx5KHVuZGVmaW5lZCwgW2VsZW1lbnQucGFyZW50RWxlbWVudF0uY29uY2F0KGNsYXNzZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmhhc1NpYmxpbmdXaXRoQ2xhc3MgPSBoYXNTaWJsaW5nV2l0aENsYXNzO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgbGFzdCBzaWJsaW5nIG9mIGFuIGVsZW1lbnQgbWF0Y2hpbmcgYSBzcGVjaWZpZWQgY2xhc3MgKG9yIHNwZWNpZmllZCBjbGFzc2VzKVxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBzZWFyY2ggc2libGluZ3NcbiAgICAgICAgICogQHBhcmFtIGNsYXNzZXMgVGhlIGNsYXNzZXMgdG8gbG9vayBmb3JcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGxhc3RTaWJsaW5nV2l0aENsYXNzKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9sZW42ID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NlcyA9IEFycmF5KF9sZW42ID4gMSA/IF9sZW42IC0gMSA6IDApLCBfa2V5NiA9IDE7IF9rZXk2IDwgX2xlbjY7IF9rZXk2KyspIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzW19rZXk2IC0gMV0gPSBhcmd1bWVudHNbX2tleTZdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbGFzdEVsZW1lbnRNYXRjaGluZyhlbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGRyZW4sIGZ1bmN0aW9uIChzaWJsaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpYmxpbmcgIT09IGVsZW1lbnQgJiYgUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLmhhc0NsYXNzZXMoc2libGluZywgY2xhc3Nlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmxhc3RTaWJsaW5nV2l0aENsYXNzID0gbGFzdFNpYmxpbmdXaXRoQ2xhc3M7XG4gICAgICAgIGZ1bmN0aW9uIGFwcGx5T3B0aW9ucyhlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgaHRtbEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgaWYgKCh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yob3B0aW9ucykpICE9PSAnb2JqZWN0JykgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNsYXNzTmFtZSA9PT0gJ3N0cmluZycpIGVsZW1lbnQuY2xhc3NOYW1lID0gb3B0aW9ucy5jbGFzc05hbWU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuaWQgPT09ICdzdHJpbmcnKSBlbGVtZW50LmlkID0gb3B0aW9ucy5pZDtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLndyYXApIG9wdGlvbnMud3JhcC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFwcGVuZFRvKSBvcHRpb25zLmFwcGVuZFRvLmFwcGVuZENoaWxkKG9wdGlvbnMud3JhcCB8fCBlbGVtZW50KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50ZXh0ID09PSAnc3RyaW5nJykgZWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShvcHRpb25zLnRleHQpKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFwcGVuZCkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmFwcGVuZCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IG9wdGlvbnMuYXBwZW5kW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkRWxlbWVudCA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbnMuYXBwZW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBvcHRpb25zLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIG9wdGlvbnMuYXR0cmlidXRlc1trZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnN0eWxlICYmIF90eXBlb2YoaHRtbEVsZW1lbnQuc3R5bGUpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9rZXk3IGluIG9wdGlvbnMuc3R5bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3R5bGUuaGFzT3duUHJvcGVydHkoX2tleTcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZVtfa2V5N10gPSBvcHRpb25zLnN0eWxlW19rZXk3XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfa2V5OCBpbiBvcHRpb25zLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShfa2V5OCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbX2tleThdID0gb3B0aW9ucy5wcm9wZXJ0aWVzW19rZXk4XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZ05hbWVPckRpdk9wdGlvbnMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciB0YWdOYW1lID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0YWdOYW1lT3JEaXZPcHRpb25zID09PSAnc3RyaW5nJykgdGFnTmFtZSA9IHRhZ05hbWVPckRpdk9wdGlvbnM7ZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFnTmFtZSA9ICdkaXYnO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB0YWdOYW1lT3JEaXZPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgICAgICAgICAgYXBwbHlPcHRpb25zKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50ID0gY3JlYXRlRWxlbWVudDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZXMgYW4gZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgdGV4dFxuICAgICAgICAgKiBAcGFyYW0gdGFnTmFtZSBUaGUgdGFnIG9mIHRoZSBlbGVtZW50IHRvIGNyZWF0ZVxuICAgICAgICAgKiBAcGFyYW0gdGV4dCBUaGUgdGV4dCB0byBhZGQgdG8gdGhlIGNyZWF0ZWQgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFdpdGhUZXh0KHRhZ05hbWUsIHRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KHRhZ05hbWUsIHsgdGV4dDogdGV4dCB9KTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoVGV4dCA9IGNyZWF0ZUVsZW1lbnRXaXRoVGV4dDtcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFdpdGhDbGFzcyh0YWdOYW1lT3JDbGFzc05hbWUsIGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgdmFyIHRhZ05hbWUgPSB0YWdOYW1lT3JDbGFzc05hbWU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNsYXNzTmFtZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB0YWdOYW1lID0gJ2Rpdic7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gdGFnTmFtZU9yQ2xhc3NOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQodGFnTmFtZSwgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MgPSBjcmVhdGVFbGVtZW50V2l0aENsYXNzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlcyBhbiBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBpZFxuICAgICAgICAgKiBAcGFyYW0gdGFnTmFtZSBUaGUgdGFnIG9mIHRoZSBlbGVtZW50IHRvIGNyZWF0ZVxuICAgICAgICAgKiBAcGFyYW0gaWQgVGhlIGlkIHRvIGFkZCB0byB0aGUgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFdpdGhJRCh0YWdOYW1lLCBpZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQodGFnTmFtZSwgeyBpZDogaWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50V2l0aElEID0gY3JlYXRlRWxlbWVudFdpdGhJRDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIG5ldyB0ZXh0IGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIHRleHQgVGhlIHRleHQgdG8gY3JlYXRlIHRoZSB0ZXh0IGVsZW1lbnQgd2l0aFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlVGV4dEVsZW1lbnQodGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuY3JlYXRlVGV4dEVsZW1lbnQgPSBjcmVhdGVUZXh0RWxlbWVudDtcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQnV0dG9uKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gY3JlYXRlRWxlbWVudCgnYnV0dG9uJywgb3B0aW9ucyk7XG4gICAgICAgICAgICB2YXIgYnV0dG9uQ2xhc3NOYW1lID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtYnV0dG9uJztcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChidXR0b25DbGFzc05hbWUpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGFyZ2UpIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChidXR0b25DbGFzc05hbWUgKyAnLWxhcmdlJyk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5kaXNhYmxlZCkgZWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5saW5rKSBlbGVtZW50LmNsYXNzTGlzdC5hZGQoYnV0dG9uQ2xhc3NOYW1lICsgJy1saW5rJyk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5za2lubnkpIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChidXR0b25DbGFzc05hbWUgKyAnLXNraW5ueScpO1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5jcmVhdGVCdXR0b24gPSBjcmVhdGVCdXR0b247XG4gICAgICAgIHZhciBpY29uQ2xhc3NQcmVmaXggPSAncmlkZXN0eWxlci1zaG93Y2FzZS1pY29uIHJpZGVzdHlsZXItc2hvd2Nhc2UtaWNvbi0nO1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVJY29uKGljb25Pck9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gdm9pZCAwO1xuICAgICAgICAgICAgLy8gU2V0dXAgb3B0aW9uc1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpY29uT3JPcHRpb25zID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGljb246IGljb25Pck9wdGlvbnNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gaWNvbk9yT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEJ1aWxkIGljb24gY2xhc3NOYW1lXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGljb25DbGFzcyA9IG9wdGlvbnMuaWNvbjtcbiAgICAgICAgICAgICAgICBpZiAoIWljb25DbGFzcy5zdGFydHNXaXRoKGljb25DbGFzc1ByZWZpeCkpIGljb25DbGFzcyA9IGljb25DbGFzc1ByZWZpeCArIGljb25DbGFzcztcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuY2xhc3NOYW1lID09PSAnc3RyaW5nJykgaWNvbkNsYXNzID0gb3B0aW9ucy5jbGFzc05hbWUgKyAnICcgKyBpY29uQ2xhc3M7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jbGFzc05hbWUgPSBpY29uQ2xhc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudCgnaScsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuY3JlYXRlSWNvbiA9IGNyZWF0ZUljb247XG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVNWR0VsZW1lbnQodGFnTmFtZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgdGFnTmFtZSk7XG4gICAgICAgICAgICBhcHBseU9wdGlvbnMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmNyZWF0ZVNWR0VsZW1lbnQgPSBjcmVhdGVTVkdFbGVtZW50O1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVEZXNjcmlwdGlvbkxpc3QodmFsdWVzKSB7XG4gICAgICAgICAgICB2YXIgZGVzY3JpcHRpb25MaXN0ID0gSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkbCcsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLWRlc2NyaXB0aW9uLWxpc3QnLFxuICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLnN1bW1hcnlFbGVtZW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh2YWx1ZXMpIGFwcGVuZERlc2NyaXB0aW9uTGlzdFZhbHVlcyhkZXNjcmlwdGlvbkxpc3QsIHZhbHVlcyk7XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb25MaXN0O1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuY3JlYXRlRGVzY3JpcHRpb25MaXN0ID0gY3JlYXRlRGVzY3JpcHRpb25MaXN0O1xuICAgICAgICBmdW5jdGlvbiBhcHBlbmREZXNjcmlwdGlvbkxpc3RWYWx1ZXMoZGVzY3JpcHRpb25MaXN0LCB2YWx1ZXMpIHtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSB2YWx1ZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gX3N0ZXAzLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIEhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZHQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB2YWx1ZS5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBkZXNjcmlwdGlvbkxpc3RcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIEhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB2YWx1ZS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBkZXNjcmlwdGlvbkxpc3RcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5hcHBlbmREZXNjcmlwdGlvbkxpc3RWYWx1ZXMgPSBhcHBlbmREZXNjcmlwdGlvbkxpc3RWYWx1ZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmVzIGFsbCBjaGlsZHJlbiBmcm9tIGFuIGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gZW1wdHlcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGVtcHR5KGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHZvaWQgMDtcbiAgICAgICAgICAgIHdoaWxlIChjaGlsZCA9IGVsZW1lbnQubGFzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5lbXB0eSA9IGVtcHR5O1xuICAgICAgICBmdW5jdGlvbiBvbmNlKGVsZW1lbnQsIHR5cGUsIGxpc3RlbmVyLCB1c2VDYXB0dXJlKSB7XG4gICAgICAgICAgICB2YXIgb25jZUxpc3RlbmVyID0gZnVuY3Rpb24gb25jZUxpc3RlbmVyKGV2dCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBvbmNlTGlzdGVuZXIsIHVzZUNhcHR1cmUpO1xuICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIGxpc3RlbmVyID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihsaXN0ZW5lcikpID09PSAnb2JqZWN0JykgbGlzdGVuZXIgPSBsaXN0ZW5lci5oYW5kbGVFdmVudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIuY2FsbCh0aGlzLCBldnQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBvbmNlTGlzdGVuZXIsIHVzZUNhcHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIub25jZSA9IG9uY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBkb2N1bWVudCB0aGF0IHRoZSBlbGVtZW50IGlzIGEgcGFydCBvZiAoaWYgdGhlcmUgaXMgb25lKVxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0RG9jdW1lbnQoZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmdldERvY3VtZW50ID0gZ2V0RG9jdW1lbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSB3aW5kb3cgdGhhdCB0aGUgZWxlbWVudCBpcyBhIHBhcnQgb2YgKGlmIHRoZXJlIGlzIG9uZSlcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldFdpbmRvdyhlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RG9jdW1lbnQoZWxlbWVudCkuZGVmYXVsdFZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5nZXRXaW5kb3cgPSBnZXRXaW5kb3c7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBjb250ZW50IG9mIGFuIGVsZW1lbnQgdG8gYSBzdHJpbmdcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIHRleHQgVGhlIHRleHRcbiAgICAgICAgICogQHJldHVybnMgVGhlIGVsZW1lbnQgdGhhdCB3YXMgcGFzc2VkIGluXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzZXRUZXh0KGVsZW1lbnQsIHRleHQpIHtcbiAgICAgICAgICAgIGVtcHR5KGVsZW1lbnQpO1xuICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSk7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLnNldFRleHQgPSBzZXRUZXh0O1xuICAgIH0pKEhUTUxIZWxwZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlciB8fCAoUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBOdW1iZXJIZWxwZXI7XG4gICAgKGZ1bmN0aW9uIChOdW1iZXJIZWxwZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIG51bWJlciBib3VuZGVkIHRvIGEgcmFuZ2VcbiAgICAgICAgICogQHBhcmFtIG51bWJlciBUaGUgbnVtYmVyIHRvIGJvdW5kXG4gICAgICAgICAqIEBwYXJhbSBtaW4gVGhlIG1pbmltdW0gYWxsb3dhYmxlIG51bWJlclxuICAgICAgICAgKiBAcGFyYW0gbWF4IFRoZSBtYXhpbXVtIGFsbG93YWJsZSBudW1iZXJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGJvdW5kKG51bWJlciwgbWluLCBtYXgpIHtcbiAgICAgICAgICAgIHJldHVybiBudW1iZXIgPCBtaW4gPyBtaW4gOiBudW1iZXIgPiBtYXggPyBtYXggOiBudW1iZXI7XG4gICAgICAgIH1cbiAgICAgICAgTnVtYmVySGVscGVyLmJvdW5kID0gYm91bmQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRlbmQgYSBudW1iZXIgcmFuZ2Ugd2l0aCBhIG51bWJlclxuICAgICAgICAgKiBAcGFyYW0gbnVtYmVyIFRoZSBudW1iZXIgdG8gZXh0ZW5kIHRoZSByYW5nZSB3aXRoXG4gICAgICAgICAqIEBwYXJhbSByYW5nZSBUaGUgcmFuZ2UgdG8gZXh0ZW5kXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIFRoZSByYW5nZSBvYmplY3QgdGhhdCB3YXMgcGFzc2VkIGluIGV4dGVuZGVkIGJ5IHRoZSBudW1iZXJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGV4dGVuZFJhbmdlKG51bWJlciwgcmFuZ2UpIHtcbiAgICAgICAgICAgIGlmICghcmFuZ2UpIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgIG1pbjogSW5maW5pdHksXG4gICAgICAgICAgICAgICAgbWF4OiAtSW5maW5pdHlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAobnVtYmVyIDwgcmFuZ2UubWluKSByYW5nZS5taW4gPSBudW1iZXI7XG4gICAgICAgICAgICBpZiAobnVtYmVyID4gcmFuZ2UubWF4KSByYW5nZS5tYXggPSBudW1iZXI7XG4gICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgIH1cbiAgICAgICAgTnVtYmVySGVscGVyLmV4dGVuZFJhbmdlID0gZXh0ZW5kUmFuZ2U7XG4gICAgfSkoTnVtYmVySGVscGVyID0gUmlkZVN0eWxlclNob3djYXNlLk51bWJlckhlbHBlciB8fCAoUmlkZVN0eWxlclNob3djYXNlLk51bWJlckhlbHBlciA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIE9iamVjdEhlbHBlciA9IHZvaWQgMDtcbiAgICAoZnVuY3Rpb24gKE9iamVjdEhlbHBlcikge1xuICAgICAgICBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0ID09IG51bGwpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3RcIik7XG4gICAgICAgICAgICB2YXIgdG8gPSBPYmplY3QodGFyZ2V0KTtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFzc2lnbk9iamVjdHMgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICAgICAgYXNzaWduT2JqZWN0c1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGFzc2lnbk9iamVjdHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNvdXJjZSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB0b1trZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdG87XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0SGVscGVyLmFzc2lnbiA9IGFzc2lnbjtcbiAgICAgICAgZnVuY3Rpb24gY29weSh0YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBhc3NpZ24oe30sIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0SGVscGVyLmNvcHkgPSBjb3B5O1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhbGwgb2YgdGhlIGtleXMgZm9yIG93biBwcm9wZXJ0aWVzIG9uIGFuIG9iamVjdFxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSBvYmplY3RcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldEtleXModGFyZ2V0KSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuaGFzT3duUHJvcGVydHkoa2V5KSkga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICB9cmV0dXJuIGtleXM7XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0SGVscGVyLmdldEtleXMgPSBnZXRLZXlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhbGwgb2YgdGhlIHZhbHVlcyBmb3Igb3duIHByb3BlcnRpZXMgb24gYW4gb2JqZWN0XG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0VmFsdWVzKHRhcmdldCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuaGFzT3duUHJvcGVydHkoa2V5KSkgdmFsdWVzLnB1c2godGFyZ2V0W2tleV0pO1xuICAgICAgICAgICAgfXJldHVybiB2YWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0SGVscGVyLmdldFZhbHVlcyA9IGdldFZhbHVlcztcbiAgICB9KShPYmplY3RIZWxwZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBQcm9taXNlSGVscGVyO1xuICAgIChmdW5jdGlvbiAoUHJvbWlzZUhlbHBlcikge1xuICAgICAgICBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICAgICAgICB2YXIgbWVyZ2VkID0gUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyLnJlZHVjZShwcm9taXNlcywgZnVuY3Rpb24gKGFjY3VtdWxhdG9yLCBjdXJyZW50UHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGVuKHRoZW4oYWNjdW11bGF0b3IsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRQcm9taXNlO1xuICAgICAgICAgICAgICAgIH0pLCBmdW5jdGlvbiAocikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cy5wdXNoKHIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgcmVzb2x2ZWQobnVsbCkpO1xuICAgICAgICAgICAgUHJvbWlzZS5hbGw7XG4gICAgICAgICAgICByZXR1cm4gdGhlbihtZXJnZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFByb21pc2VIZWxwZXIuYWxsID0gYWxsO1xuICAgICAgICAvKipcbiAgICAgICAgKiBBdHRhY2hlcyBjYWxsYmFja3MgZm9yIHRoZSByZXNvbHV0aW9uIGFuZC9vciByZWplY3Rpb24gb2YgdGhlIFByb21pc2UuXG4gICAgICAgICogQHBhcmFtIG9uZnVsZmlsbGVkIFRoZSBjYWxsYmFjayB0byBleGVjdXRlIHdoZW4gdGhlIFByb21pc2UgaXMgcmVzb2x2ZWQuXG4gICAgICAgICogQHBhcmFtIG9ucmVqZWN0ZWQgVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZC5cbiAgICAgICAgKiBAcmV0dXJucyBBIFByb21pc2UgZm9yIHRoZSBjb21wbGV0aW9uIG9mIHdoaWNoIGV2ZXIgY2FsbGJhY2sgaXMgZXhlY3V0ZWQuXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHRoZW4ocHJvbWlzZSwgb25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpIHtcbiAgICAgICAgICAgIHZhciByZXR1cm5Qcm9taXNlID0gcmlkZXN0eWxlci5wcm9taXNlKCk7XG4gICAgICAgICAgICBwcm9taXNlLmRvbmUoZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb25mdWxmaWxsZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbmZ1bGZpbGxlZFJlc3VsdCA9IG9uZnVsZmlsbGVkKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNQcm9taXNlKG9uZnVsZmlsbGVkUmVzdWx0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc29sdmUgdGhlIHByb21pc2Ugd2hlbiB0aGUgcmV0dXJuZWQgcHJvbWlzZSBpcyByZXNvbHZlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uZnVsZmlsbGVkUmVzdWx0LmRvbmUoZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5Qcm9taXNlLnJlamVjdChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNvbHZlIHRoZSBwcm9taXNlIHdpdGggdGhlIHJldHVybmVkIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuUHJvbWlzZS5yZXNvbHZlKG9uZnVsZmlsbGVkUmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5Qcm9taXNlLnJlamVjdChleGNlcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwcm9taXNlLmZhaWwoZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb25yZWplY3RlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9ucmVqZWN0ZWRSZXN1bHQgPSBvbnJlamVjdGVkKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNQcm9taXNlKG9ucmVqZWN0ZWRSZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzb2x2ZSB0aGUgcHJvbWlzZSB3aGVuIHRoZSByZXR1cm5lZCBwcm9taXNlIGlzIHJlc29sdmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25yZWplY3RlZFJlc3VsdC5kb25lKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuUHJvbWlzZS5yZWplY3QocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzb2x2ZSB0aGUgcHJvbWlzZSB3aXRoIHRoZSByZXR1cm5lZCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblByb21pc2UucmVzb2x2ZShvbnJlamVjdGVkUmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXhjZXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5Qcm9taXNlLnJlamVjdChleGNlcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuUHJvbWlzZS5yZWplY3QocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5Qcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIFByb21pc2VIZWxwZXIudGhlbiA9IHRoZW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIGEgbmV3IHJlc29sdmVkIHByb21pc2Ugd2l0aCBhbiBvcHRpb25hbCB2YWx1ZVxuICAgICAgICAgKiBAcGFyYW0gdmFsdWUgT3B0aW9uYWxseSwgYSB2YWx1ZSB0byByZXNvbHZlIHRoZSBwcm9taXNlIHdpdGhcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVkKHZhbHVlKSB7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHJpZGVzdHlsZXIucHJvbWlzZSgpO1xuICAgICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIFByb21pc2VIZWxwZXIucmVzb2x2ZWQgPSByZXNvbHZlZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRlc3RzIGFuIG9iamVjdCBmb3IgYSBSaWRlc3R5bGVyUHJvbWlzZS1saWtlIGludGVyZmFjZSwgdGVzdGluZyBmb3JcbiAgICAgICAgICogZG9uZSwgZmFpbCBhbmQgYWx3YXlzIGZ1bmN0aW9ucy5cbiAgICAgICAgICogQHBhcmFtIG8gVGhlIG9iamVjdCB0byB0ZXN0XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBpc1Byb21pc2Uobykge1xuICAgICAgICAgICAgcmV0dXJuICh0eXBlb2YgbyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YobykpID09PSAnb2JqZWN0JyAmJiB0eXBlb2Ygby5kb25lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvLmZhaWwgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG8uYWx3YXlzID09PSAnZnVuY3Rpb24nO1xuICAgICAgICB9XG4gICAgICAgIFByb21pc2VIZWxwZXIuaXNQcm9taXNlID0gaXNQcm9taXNlO1xuICAgIH0pKFByb21pc2VIZWxwZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlciB8fCAoUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBTY3JvbGxIZWxwZXI7XG4gICAgKGZ1bmN0aW9uIChTY3JvbGxIZWxwZXIpIHtcbiAgICAgICAgdmFyIHNjcm9sbEV2ZW50ID0gdm9pZCAwO1xuICAgICAgICB2YXIgbW91c2V3aGVlbEV2ZW50U2NhbGUgPSAtMSAvIDQwO1xuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdGVzdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHNjcm9sbEV2ZW50ID0gJ29ud2hlZWwnIGluIHRlc3RFbGVtZW50ID8gJ3doZWVsJyA6IC8vIE1vZGVybiBicm93ZXJzIHN1cHBvcnQgXCJ3aGVlbFwiXG4gICAgICAgICAgICBkb2N1bWVudC5vbm1vdXNld2hlZWwgIT09IHVuZGVmaW5lZCA/ICdtb3VzZXdoZWVsJyA6IC8vIFdlYmtpdCBhbmQgSUUgc3VwcG9ydCBhdCBsZWFzdCBcIm1vdXNld2hlZWxcIlxuICAgICAgICAgICAgJ01vek1vdXNlUGl4ZWxTY3JvbGwnOyAvLyBvbGRlciBGaXJlZm94XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gYXR0YWNoV2hlZWxMaXN0ZW5lcihlbGVtZW50LCBsaXN0ZW5lcikge1xuICAgICAgICAgICAgaWYgKHNjcm9sbEV2ZW50ID09PSAnd2hlZWwnKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd3aGVlbCcsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbm9ybWFsaXplZEV2ZW50ID0gUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24oZXZlbnQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIobm9ybWFsaXplZEV2ZW50KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoc2Nyb2xsRXZlbnQsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIGlmICghZXZlbnQpIGV2ZW50ID0gd2luZG93LmV2ZW50O1xuICAgICAgICAgICAgICAgIHZhciBub3JtYWxpemVkRXZlbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXZlbnQ6IGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGV2ZW50LnRhcmdldCB8fCBldmVudC5zcmNFbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnd2hlZWwnLFxuICAgICAgICAgICAgICAgICAgICBkZWx0YU1vZGU6IGV2ZW50LnR5cGUgPT09ICdNb3pNb3VzZVBpeGVsU2Nyb2xsJyA/IDAgOiAxLFxuICAgICAgICAgICAgICAgICAgICBkZWx0YVg6IDAsXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhWTogMCxcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFaOiAwLFxuICAgICAgICAgICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2ZW50LnByZXZlbnREZWZhdWx0ID09PSAnZnVuY3Rpb24nKSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO2Vsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxFdmVudCA9PT0gJ21vdXNld2hlZWwnKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudC5kZWx0YVkgPSBtb3VzZXdoZWVsRXZlbnRTY2FsZSAqIGV2ZW50LndoZWVsRGVsdGE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC53aGVlbERlbHRhWCkgbm9ybWFsaXplZEV2ZW50LmRlbHRhWCA9IG1vdXNld2hlZWxFdmVudFNjYWxlICogZXZlbnQud2hlZWxEZWx0YVg7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbm9ybWFsaXplZEV2ZW50LmRlbHRhWSA9IGV2ZW50LmRldGFpbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RlbmVyKG5vcm1hbGl6ZWRFdmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBTY3JvbGxIZWxwZXIuYXR0YWNoV2hlZWxMaXN0ZW5lciA9IGF0dGFjaFdoZWVsTGlzdGVuZXI7XG4gICAgfSkoU2Nyb2xsSGVscGVyID0gUmlkZVN0eWxlclNob3djYXNlLlNjcm9sbEhlbHBlciB8fCAoUmlkZVN0eWxlclNob3djYXNlLlNjcm9sbEhlbHBlciA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIFN0cmluZ0hlbHBlcjtcbiAgICAoZnVuY3Rpb24gKFN0cmluZ0hlbHBlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgZmlyc3Qgd29yZCBvZiB0aGUgc3BlY2lmaWVkIHN0cmluZ1xuICAgICAgICAgKiBAcGFyYW0gc3RyaW5nIFRoZSBzdHJpbmcgdG8gZ2V0IHRoZSBmaXJzdCB3b3JkIG9mXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRGaXJzdFdvcmQoc3RyaW5nKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHN0cmluZyAhPT0gJ3N0cmluZycpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nLnRyaW0oKS5zdWJzdHIoMCwgc3RyaW5nLmluZGV4T2YoJyAnKSk7XG4gICAgICAgIH1cbiAgICAgICAgU3RyaW5nSGVscGVyLmdldEZpcnN0V29yZCA9IGdldEZpcnN0V29yZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc2VxdWVuY2Ugb2YgZWxlbWVudHMgb2Ygc2VhcmNoU3RyaW5nIGNvbnZlcnRlZCB0byBhIFN0cmluZyBpcyB0aGVcbiAgICAgICAgICogc2FtZSBhcyB0aGUgY29ycmVzcG9uZGluZyBlbGVtZW50cyBvZiB0aGlzIG9iamVjdCAoY29udmVydGVkIHRvIGEgU3RyaW5nKSBzdGFydGluZyBhdFxuICAgICAgICAgKiBlbmRQb3NpdGlvbiDigJMgbGVuZ3RoKHRoaXMpLiBPdGhlcndpc2UgcmV0dXJucyBmYWxzZS5cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGVuZHNXaXRoKHN0cmluZywgZW5kaW5nLCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKCEoaW5kZXggPCB0aGlzLmxlbmd0aCkpIGluZGV4ID0gdGhpcy5sZW5ndGg7ZWxzZSBpbmRleCB8PSAwO1xuICAgICAgICAgICAgdmFyIGVuZGluZ0xlbmd0aCA9IGVuZGluZy5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nLnN1YnN0cihpbmRleCAtIGVuZGluZ0xlbmd0aCwgZW5kaW5nTGVuZ3RoKSA9PT0gZW5kaW5nO1xuICAgICAgICB9XG4gICAgICAgIFN0cmluZ0hlbHBlci5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuICAgICAgICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVzZWQgdG8gbWF0Y2ggYFJlZ0V4cGBcbiAgICAgICAgICAgICAqIFtzeW50YXggY2hhcmFjdGVyc10oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcGF0dGVybnMpLlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgcmVSZWdFeHBDaGFyID0gL1tcXFxcXiQuKis/KClbXFxde318XS9nO1xuICAgICAgICAgICAgdmFyIHJlSGFzUmVnRXhwQ2hhciA9IFJlZ0V4cChyZVJlZ0V4cENoYXIuc291cmNlKTtcbiAgICAgICAgICAgIHJldHVybiBzdHJpbmcgJiYgcmVIYXNSZWdFeHBDaGFyLnRlc3Qoc3RyaW5nKSA/IHN0cmluZy5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpIDogc3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIFN0cmluZ0hlbHBlci5lc2NhcGVSZWdFeHAgPSBlc2NhcGVSZWdFeHA7XG4gICAgfSkoU3RyaW5nSGVscGVyID0gUmlkZVN0eWxlclNob3djYXNlLlN0cmluZ0hlbHBlciB8fCAoUmlkZVN0eWxlclNob3djYXNlLlN0cmluZ0hlbHBlciA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIFN0eWxlSGVscGVyO1xuICAgIChmdW5jdGlvbiAoU3R5bGVIZWxwZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUsIHRoZSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSBpcyBhdmFpbGFibGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciBoYXNHZXRDb21wdXRlZFN0eWxlID0gJ2dldENvbXB1dGVkU3R5bGUnIGluIHdpbmRvdztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIHRydWUsIEhUTUxFbGVtZW50LmN1cnJlbnRTdHlsZSBpcyBhdmFpbGFibGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciBoYXNDdXJyZW50U3R5bGVTdXBwb3J0ID0gZmFsc2U7XG4gICAgICAgIC8vIFRlc3QgZm9yIHN1cHBvcnQgb24gZWxlbWVudCBwcm9wZXJ0aWVzXG4gICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGVzdEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGhhc0N1cnJlbnRTdHlsZVN1cHBvcnQgPSAnY3VycmVudFN0eWxlJyBpbiB0ZXN0RWxlbWVudDtcbiAgICAgICAgICAgIFN0eWxlSGVscGVyLnRyYW5zaXRpb25FbmRFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAvLyBUcmFuc2l0aW9uIGV2ZW50IG1hcHBpbmdcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNpdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgICd0cmFuc2l0aW9uJzogJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgICAgICAgICAgICAgICAnV2Via2l0VHJhbnNpdGlvbic6ICd3ZWJraXRUcmFuc2l0aW9uRW5kJyxcbiAgICAgICAgICAgICAgICAgICAgJ01velRyYW5zaXRpb24nOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgICAgICAgICAgICAgICAgICdPVHJhbnNpdGlvbic6ICdvVHJhbnNpdGlvbkVuZCdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGsgaW4gdHJhbnNpdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGsgaW4gdGVzdEVsZW1lbnQuc3R5bGUpIHJldHVybiB0cmFuc2l0aW9uc1trXTtcbiAgICAgICAgICAgICAgICB9cmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0oKTtcbiAgICAgICAgICAgIFN0eWxlSGVscGVyLnRyYW5zaXRpb25zU3VwcG9ydGVkID0gISFTdHlsZUhlbHBlci50cmFuc2l0aW9uRW5kRXZlbnQ7XG4gICAgICAgIH0pKCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBmYWxzZSwgdGhpcyBpcyBub3QgYSB0b3VjaCBkZXZpY2VcbiAgICAgICAgICovXG4gICAgICAgIFN0eWxlSGVscGVyLmlzVG91Y2hEZXZpY2UgPSAnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgfHwgbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGZhbHNlLCBTVkdzIGFyZSBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBicm93c2VyXG4gICAgICAgICAqL1xuICAgICAgICBTdHlsZUhlbHBlci5zdmdTdXBwb3J0ZWQgPSAhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyAmJiAhIWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnc3ZnJykuY3JlYXRlU1ZHUmVjdDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgY3VycmVudCBjb21wdXRlZCBzdHlsZSBvZiBhbiBlbGVtZW50XG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmIChoYXNHZXRDb21wdXRlZFN0eWxlKSByZXR1cm4gd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAoaGFzQ3VycmVudFN0eWxlU3VwcG9ydCAmJiBlbGVtZW50WydjdXJyZW50U3R5bGUnXSAhPT0gbnVsbCkgcmV0dXJuIGVsZW1lbnRbJ2N1cnJlbnRTdHlsZSddO1xuICAgICAgICAgICAgdGhyb3cgXCJVbmFibGUgdG8gZ2V0IGNvbXB1dGVkIHN0eWxlXCI7XG4gICAgICAgIH1cbiAgICAgICAgU3R5bGVIZWxwZXIuZ2V0Q29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGU7XG4gICAgICAgIHZhciBvZmZzZXRQb3NpdGlvbmluZ3MgPSBbJ2Fic29sdXRlJywgJ3JlbGF0aXZlJywgJ2ZpeGVkJ107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlY3RzIHdoZXRoZXIgb3Igbm90IGFic29sdXRlL3JlbGF0aXZlL2ZpeGVkIHBvc2l0aW9uaW5nIGlzIGVuYWJsZWQgb24gYW4gZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaXNPZmZzZXRQb3NpdGlvbmVkKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IGVsZW1lbnQuc3R5bGUucG9zaXRpb247XG4gICAgICAgICAgICBpZiAoIXBvc2l0aW9uKSBwb3NpdGlvbiA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCkucG9zaXRpb247XG4gICAgICAgICAgICAvLyBJZiB3ZSBzdGlsbCBkb24ndCBoYXZlIGEgcG9zaXRpb24gYXQgdGhpcyBwb2ludCBpdCdzIG5vdCBvZmZzZXQgcG9zaXRpb25lZFxuICAgICAgICAgICAgaWYgKCFwb3NpdGlvbikgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgLy8gVGhlIGVsZW1lbnQgaXMgb2Zmc2V0IHBvc2l0aW9uZWQgaWYgaXRzIG9uZSBvZiB0aGUgYWJvdmUgbGlzdFxuICAgICAgICAgICAgcG9zaXRpb24gPSBwb3NpdGlvbi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gb2Zmc2V0UG9zaXRpb25pbmdzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcG9zaXRpb25pbmcgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAocG9zaXRpb24gPT09IHBvc2l0aW9uaW5nKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgU3R5bGVIZWxwZXIuaXNPZmZzZXRQb3NpdGlvbmVkID0gaXNPZmZzZXRQb3NpdGlvbmVkO1xuICAgICAgICBmdW5jdGlvbiBmbGF0dGVuQ2xhc3NMaXN0KCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzZXMgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyLnJlZHVjZShjbGFzc2VzLCBmdW5jdGlvbiAoY2xhc3NMaXN0LCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3ViY2xhc3NMaXN0ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2xhc3NOYW1lID09PSAnc3RyaW5nJykgc3ViY2xhc3NMaXN0ID0gW2NsYXNzTmFtZV07ZWxzZSBzdWJjbGFzc0xpc3QgPSBjbGFzc05hbWU7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBzdWJjbGFzc0xpc3RbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc0xpc3QgPSBjbGFzc0xpc3QuY29uY2F0KGMuc3BsaXQoL1xccysvKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY2xhc3NMaXN0O1xuICAgICAgICAgICAgfSwgW10pO1xuICAgICAgICB9XG4gICAgICAgIFN0eWxlSGVscGVyLmZsYXR0ZW5DbGFzc0xpc3QgPSBmbGF0dGVuQ2xhc3NMaXN0O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2F1c2VzIHRoZSBicm93c2VyIHRvIHJlY2FsY3VsYXRlIHRoZSBzdHlsZXMgb2YgdGhlIHNwZWNpZmllZCBlbGVtZW50XG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiB0cmlnZ2VyUmVmbG93KGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIFN0eWxlSGVscGVyLnRyaWdnZXJSZWZsb3cgPSB0cmlnZ2VyUmVmbG93O1xuICAgICAgICAvKipcbiAgICAgICAgICogU2tpcCBhIHRyYW5zaXRpb24gb24gYW4gZWxlbWVudCBwcmVmb3JtZWQgYnkgYSBjYWxsYmFjayBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgQSBmdW5jdGlvbiB0byBydW4gY2F1c2luZyBhIHRyYW5zaXRpb24gdG8gYmUgZmlyZWQgb24gdGhlIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHNraXBUcmFuc2l0aW9uKGVsZW1lbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpZiAoIVN0eWxlSGVscGVyLnRyYW5zaXRpb25zU3VwcG9ydGVkKSByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgICAgICAgIHZhciBvbGRUcmFuc2l0aW9uID0gZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gJ25vbmUnO1xuICAgICAgICAgICAgY2FsbGJhY2suY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHRyaWdnZXJSZWZsb3coZWxlbWVudCk7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zaXRpb24gPSBvbGRUcmFuc2l0aW9uO1xuICAgICAgICB9XG4gICAgICAgIFN0eWxlSGVscGVyLnNraXBUcmFuc2l0aW9uID0gc2tpcFRyYW5zaXRpb247XG4gICAgICAgIGZ1bmN0aW9uIG9uTmV4dFRyYW5zaXRpb25FbmQoZWxlbWVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5vbmNlKGVsZW1lbnQsIFN0eWxlSGVscGVyLnRyYW5zaXRpb25FbmRFdmVudCwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICAgIFN0eWxlSGVscGVyLm9uTmV4dFRyYW5zaXRpb25FbmQgPSBvbk5leHRUcmFuc2l0aW9uRW5kO1xuICAgICAgICBmdW5jdGlvbiBoYXNDbGFzc2VzKGVsZW1lbnQsIGNsYXNzQXJyYXkpIHtcbiAgICAgICAgICAgIHZhciBjbGFzc2VzID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjbGFzc0FycmF5ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NMaXN0ID0gQXJyYXkoX2xlbjIgPiAyID8gX2xlbjIgLSAyIDogMCksIF9rZXkyID0gMjsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc0xpc3RbX2tleTIgLSAyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2xhc3NlcyA9IGNsYXNzTGlzdCB8fCBbXTtcbiAgICAgICAgICAgICAgICBjbGFzc2VzLnB1c2goY2xhc3NBcnJheSk7XG4gICAgICAgICAgICB9IGVsc2UgY2xhc3NlcyA9IGNsYXNzQXJyYXk7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gY2xhc3Nlc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMzsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IChfc3RlcDMgPSBfaXRlcmF0b3IzLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gX3N0ZXAzLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICghZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBTdHlsZUhlbHBlci5oYXNDbGFzc2VzID0gaGFzQ2xhc3NlcztcbiAgICAgICAgZnVuY3Rpb24gcGFyc2VQaXhlbHMocGl4ZWxzKSB7XG4gICAgICAgICAgICBpZiAoIVJpZGVTdHlsZXJTaG93Y2FzZS5TdHJpbmdIZWxwZXIuZW5kc1dpdGgocGl4ZWxzLCAncHgnKSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludChwaXhlbHMpO1xuICAgICAgICB9XG4gICAgICAgIFN0eWxlSGVscGVyLnBhcnNlUGl4ZWxzID0gcGFyc2VQaXhlbHM7XG4gICAgICAgIGZ1bmN0aW9uIGNhbGN1bGF0ZVBhZGRpbmcoZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIF9nZXRDb21wdXRlZFN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSxcbiAgICAgICAgICAgICAgICBwYWRkaW5nQm90dG9tID0gX2dldENvbXB1dGVkU3R5bGUucGFkZGluZ0JvdHRvbSxcbiAgICAgICAgICAgICAgICBwYWRkaW5nVG9wID0gX2dldENvbXB1dGVkU3R5bGUucGFkZGluZ1RvcCxcbiAgICAgICAgICAgICAgICBwYWRkaW5nTGVmdCA9IF9nZXRDb21wdXRlZFN0eWxlLnBhZGRpbmdMZWZ0LFxuICAgICAgICAgICAgICAgIHBhZGRpbmdSaWdodCA9IF9nZXRDb21wdXRlZFN0eWxlLnBhZGRpbmdSaWdodDtcblxuICAgICAgICAgICAgdmFyIHdpZHRoID0gcGFyc2VQaXhlbHMocGFkZGluZ0xlZnQpICsgcGFyc2VQaXhlbHMocGFkZGluZ1JpZ2h0KTtcbiAgICAgICAgICAgIHZhciBoZWlnaHQgPSBwYXJzZVBpeGVscyhwYWRkaW5nVG9wKSArIHBhcnNlUGl4ZWxzKHBhZGRpbmdCb3R0b20pO1xuICAgICAgICAgICAgaWYgKGlzTmFOKHdpZHRoKSkgd2lkdGggPSAwO1xuICAgICAgICAgICAgaWYgKGlzTmFOKGhlaWdodCkpIGhlaWdodCA9IDA7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGhlaWdodFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBTdHlsZUhlbHBlci5jYWxjdWxhdGVQYWRkaW5nID0gY2FsY3VsYXRlUGFkZGluZztcbiAgICB9KShTdHlsZUhlbHBlciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlciB8fCAoUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgVmlzaWJpbGl0eUhlbHBlcjtcbiAgICAoZnVuY3Rpb24gKFZpc2liaWxpdHlIZWxwZXIpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRUcmFuc2l0aW9uSW5DbGFzcyA9ICdpbic7XG4gICAgICAgIGZ1bmN0aW9uIHNob3coZWxlbWVudCkge1xuICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25DbGFzcyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZGVmYXVsdFRyYW5zaXRpb25JbkNsYXNzO1xuXG4gICAgICAgICAgICBzZXRWaXNpYmlsaXR5KGVsZW1lbnQsIHRydWUpO1xuICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLnRyaWdnZXJSZWZsb3coZWxlbWVudCk7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQodHJhbnNpdGlvbkNsYXNzKTtcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gcmlkZXN0eWxlci5wcm9taXNlKCk7XG4gICAgICAgICAgICBpZiAoIVJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci50cmFuc2l0aW9uc1N1cHBvcnRlZCkgcHJvbWlzZS5yZXNvbHZlKCk7ZWxzZSBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIub25OZXh0VHJhbnNpdGlvbkVuZChlbGVtZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBWaXNpYmlsaXR5SGVscGVyLnNob3cgPSBzaG93O1xuICAgICAgICBmdW5jdGlvbiBoaWRlKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uQ2xhc3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGRlZmF1bHRUcmFuc2l0aW9uSW5DbGFzcztcblxuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRyYW5zaXRpb25DbGFzcyk7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHJpZGVzdHlsZXIucHJvbWlzZSgpO1xuICAgICAgICAgICAgcHJvbWlzZS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0VmlzaWJpbGl0eShlbGVtZW50LCBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLnRyYW5zaXRpb25zU3VwcG9ydGVkKSBwcm9taXNlLnJlc29sdmUoKTtlbHNlIFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5vbk5leHRUcmFuc2l0aW9uRW5kKGVsZW1lbnQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIFZpc2liaWxpdHlIZWxwZXIuaGlkZSA9IGhpZGU7XG4gICAgICAgIGZ1bmN0aW9uIHNldFZpc2liaWxpdHkoZWxlbWVudCwgdmlzaWJsZSkge1xuICAgICAgICAgICAgaWYgKCF2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSAnJztcbiAgICAgICAgICAgICAgICBlbGVtZW50LnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBWaXNpYmlsaXR5SGVscGVyLnNldFZpc2liaWxpdHkgPSBzZXRWaXNpYmlsaXR5O1xuICAgIH0pKFZpc2liaWxpdHlIZWxwZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuVmlzaWJpbGl0eUhlbHBlciB8fCAoUmlkZVN0eWxlclNob3djYXNlLlZpc2liaWxpdHlIZWxwZXIgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBzdHJpbmdzO1xuICAgIChmdW5jdGlvbiAoc3RyaW5ncykge1xuICAgICAgICBzdHJpbmdzLnJlZ2lzdGVyTGFuZ3VhZ2UoUmlkZVN0eWxlclNob3djYXNlLkxhbmd1YWdlS2V5cy5Fbiwge1xuICAgICAgICAgICAgXCJ2ZWhpY2xlLXNlbGVjdC12aXN1YWxpemUtaW50cm9cIjogXCJWaXN1YWxpemUgd2hlZWxzLCB0aXJlcyBhbmQgc3VzcGVuc2lvbiBtb2RpZmljYXRpb25zIG9uIHlvdXIgdmVoaWNsZS5cIixcbiAgICAgICAgICAgIFwidmVoaWNsZS1zZWxlY3Qtc2hhcmUtaW50cm9cIjogXCJTaGFyZSB3aXRoIHlvdXIgZnJpZW5kcywgb3Igc2F2ZSBmb3IgaW5zcGlyYXRpb24uXCIsXG4gICAgICAgICAgICBcInNlbGVjdC15b3VyLXZlaGljbGVcIjogXCJTZWxlY3QgeW91ciBWZWhpY2xlXCIsXG4gICAgICAgICAgICBcInBhaW50XCI6IFwiUGFpbnRcIixcbiAgICAgICAgICAgIFwic3VzcGVuc2lvblwiOiBcIlN1c3BlbnNpb25cIixcbiAgICAgICAgICAgIFwid2hlZWxzXCI6IFwiV2hlZWxzXCIsXG4gICAgICAgICAgICBcInRpcmVzXCI6IFwiVGlyZXNcIixcbiAgICAgICAgICAgIFwiZnJvbnRcIjogXCJGcm9udFwiLFxuICAgICAgICAgICAgXCJyZWFyXCI6IFwiUmVhclwiLFxuICAgICAgICAgICAgXCJ2ZWhpY2xlLWRldGFpbHNcIjogXCJWZWhpY2xlIERldGFpbHNcIixcbiAgICAgICAgICAgIFwiY2hhbmdlLXZlaGljbGVcIjogXCJDaGFuZ2UgVmVoaWNsZVwiLFxuICAgICAgICAgICAgXCJ3aGVlbC1kZXRhaWxzXCI6IFwiV2hlZWwgRGV0YWlsc1wiLFxuICAgICAgICAgICAgXCJ0aXJlLWRldGFpbHNcIjogXCJUaXJlIERldGFpbHNcIixcbiAgICAgICAgICAgIFwic2VsZWN0LXBhaW50XCI6IFwiU2VsZWN0IFBhaW50XCIsXG4gICAgICAgICAgICBcInNlbGVjdC13aGVlbHNcIjogXCJTZWxlY3QgV2hlZWxzXCIsXG4gICAgICAgICAgICBcInNlbGVjdC10aXJlc1wiOiBcIlNlbGVjdCBUaXJlc1wiLFxuICAgICAgICAgICAgXCJhZGp1c3Qtc3VzcGVuc2lvblwiOiBcIkFkanVzdCBTdXNwZW5zaW9uXCIsXG4gICAgICAgICAgICBcImNoYW5nZS13aGVlbC1zaXplXCI6IFwiQ2hhbmdlIFdoZWVsIFNpemVcIixcbiAgICAgICAgICAgIFwibm8tcmVzdWx0c1wiOiBcIk5vIFJlc3VsdHMgRm91bmRcIixcbiAgICAgICAgICAgIFwid2hlZWwtZmVhdHVyZXMtc3BlY3NcIjogXCJXaGVlbCBGZWF0dXJlcyAmIFNwZWNzXCIsXG4gICAgICAgICAgICBcInNoYXJlLW15LXZlaGljbGVcIjogXCJTaGFyZSBNeSBWZWhpY2xlXCIsXG4gICAgICAgICAgICBcInNoYXJlLWluc3RydWN0aW9uc1wiOiBcIlVzZSB0aGUgYnV0dG9ucyB0byBzaGFyZSBvciBzYXZlIHlvdXIgdmVoaWNsZSBjb25maWd1cmF0aW9uLlwiLFxuICAgICAgICAgICAgXCJuby1kZXNjcmlwdGlvbi13aGVlbFwiOiBcIldlIGRvbid0IGhhdmUgYSBkZXNjcmlwdGlvbiBmb3IgdGhpcyB3aGVlbCB5ZXRcIixcbiAgICAgICAgICAgICdzaG93LXNwZWNzJzogXCJTaG93IFNwZWNzXCIsXG4gICAgICAgICAgICAnY2FsbCc6IFwiQ2FsbFwiLFxuICAgICAgICAgICAgJ3NpemUnOiBcIlNpemVcIixcbiAgICAgICAgICAgICdvZmZzZXQnOiBcIk9mZnNldFwiLFxuICAgICAgICAgICAgJ2JvbHQtcGF0dGVybic6IFwiQm9sdCBQYXR0ZXJuXCIsXG4gICAgICAgICAgICAnY2VudGVyYm9yZSc6IFwiQ2VudGVyYm9yZVwiLFxuICAgICAgICAgICAgJ3ByaWNlJzogXCJQcmljZVwiLFxuICAgICAgICAgICAgJ2l0ZW0tbnVtYmVyJzogXCJJdGVtICNcIixcbiAgICAgICAgICAgICdicmFuZHMnOiBcIkJyYW5kc1wiLFxuICAgICAgICAgICAgJ2ZpbmlzaGVzJzogXCJGaW5pc2hlc1wiLFxuICAgICAgICAgICAgJ3NpemVzJzogXCJTaXplc1wiLFxuICAgICAgICAgICAgJ2FsbCc6IFwiQWxsXCIsXG4gICAgICAgICAgICAnYWxsLWJyYW5kcyc6IFwiQWxsIEJyYW5kc1wiLFxuICAgICAgICAgICAgJ2FsbC1maW5pc2hlcyc6IFwiQWxsIEZpbmlzaGVzXCIsXG4gICAgICAgICAgICAnYWxsLXNpemVzJzogXCJBbGwgU2l6ZXNcIixcbiAgICAgICAgICAgICdmaWx0ZXItcmVzdWx0cyc6IFwiRmlsdGVyIFJlc3VsdHNcIixcbiAgICAgICAgICAgICdsb2FkaW5nLWVsbGlwc2lzJzogXCJMb2FkaW5nLi4uXCIsXG4gICAgICAgICAgICAnc2hvdy1jb3VudC1mb3JtYXQtdGlyZXMnOiBcIlNob3cge2NvdW50fSBUaXJlc1wiLFxuICAgICAgICAgICAgJ3Nob3ctY291bnQtZm9ybWF0LXdoZWVscyc6IFwiU2hvdyB7Y291bnR9IFdoZWVsc1wiLFxuICAgICAgICAgICAgJ3NwZWNpZmljYXRpb25zJzogXCJTcGVjaWZpY2F0aW9uc1wiLFxuICAgICAgICAgICAgJ3NwZWVkLXJhdGluZyc6IFwiU3BlZWQgUmF0aW5nXCIsXG4gICAgICAgICAgICAnYW55LXNwZWVkLXJhdGluZ3MnOiBcIkFueSBTcGVlZCBSYXRpbmdzXCIsXG4gICAgICAgICAgICAnZmVhdHVyZXMnOiBcIkZlYXR1cmVzXCIsXG4gICAgICAgICAgICAnYW55LWZlYXR1cmVzJzogXCJBbnkgRmVhdHVyZXNcIixcbiAgICAgICAgICAgICdmaW5pc2gnOiBcIkZpbmlzaFwiLFxuICAgICAgICAgICAgJ3N1bW1hcnknOiBcIlN1bW1hcnlcIixcbiAgICAgICAgICAgICdjaGVjay1vdXQtbXktdmVoaWNsZSc6IFwiQ2hlY2sgb3V0IG15IHZlaGljbGUhXCJcbiAgICAgICAgfSk7XG4gICAgfSkoc3RyaW5ncyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncyA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7Il19
