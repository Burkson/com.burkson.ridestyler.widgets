function RideStylerVehicleSelectionModal(e){function t(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e}function n(e,t){if(e){"string"==typeof e?e=document.querySelectorAll(e):e.tagName&&(e=[e]);for(var n=0;n<e.length;n++)""==e[n].className.trim()?e[n].className=t:(" "+e[n].className+" ").indexOf(" "+t+" ")<0&&(e[n].className+=" "+t)}}function i(e,t){if(e){"string"==typeof e?e=document.querySelectorAll(e):e.tagName&&(e=[e]);for(var n=new RegExp(" "+t+" ","g"),i=new RegExp("(^)"+t+"($| )","g"),r=new RegExp("(^| )"+t+"($)","g"),o=0;o<e.length;o++)e[o].className=e[o].className.replace(n," "),e[o].className=e[o].className.replace(i,""),e[o].className=e[o].className.replace(r,""),""==e[o].className.trim()&&e[o].removeAttribute("class")}}function r(){if(!document.getElementById("vsm-backdrop")){var e=document.createElement("div");e.id="vsm-backdrop",e.style.opacity=0,e.style.transition="opacity linear .3s",s().appendChild(e),function(){var e=document.getElementById("vsm-backdrop");e||r();setTimeout(function(){e.style.opacity=.55,e.onTransitionEndOnce(function(){})},0)}()}}function o(){var e=document.getElementById("vsm-backdrop");e&&(e.style.opacity=0,e.onTransitionEndOnce(function(){e.parentNode.removeChild(e)}))}function a(){var t=document.querySelectorAll(".vsm-modal:not(#vsm_modal_base)"),n=document.querySelectorAll(".vsm-modal.in")[0],r=f.slice(0),a=d.slice(0);f=[],d=[],m=!0,v.indexOf(n.getAttribute("id"))>-1?(n.style.opacity=0,n.onTransitionEndOnce(function(){[].forEach.call(t,function(e){var t=e.getAttribute("id");v.indexOf(t)>-1&&e.parentNode.removeChild(e)});for(var n={},i=0;i<r.length;i++){var o=r[i].split(":");2==o.length&&(n[o[0]]=o[1])}if(e.callback&&"function"==typeof e.callback){var s={FinalSelectionMade:!1,Vehicle:n,FullSelectionData:a};e.callback(s)}else console.warn("No callback function provided.")}),o(),i(document.body,"vsm-modal-open")):console.warn("This vsm instance is not shown yet.")}function s(){return"function"==typeof e.container?e.container():e.container?e.container:document.body}function l(n,i,r){var o=document.getElementById("vsm_modal_base");if(o){var l=o.cloneNode(!0);if(l.id="vsm_modal_"+_vsmModalIDCounter,v.push("vsm_modal_"+_vsmModalIDCounter),l.className+=" vsm_modal_"+_vsmModalIDCounter,s().appendChild(l),void 0!==r){i=t({backModal:r,thisModal:l},i);var u=l.querySelectorAll(".vsm-back-step");[].forEach.call(u,function(t){var n=function(t){t.target.removeEventListener(t.type,n);var r=i.backModal,o=i.thisModal;c(r,o,!0).done(function(){if(f.length&&f.pop(),d.length&&d.pop(),o.parentNode&&o.parentNode.removeChild(o),e.afterBackClicked&&"function"==typeof e.afterBackClicked){for(var t={},n=0;n<f.length;n++){var i=f[n].split(":");2==i.length&&(t[i[0]]=i[1])}var r={FullSelection:t,FullSelectionData:d};e.afterBackClicked(r)}})};t.addEventListener("click",n,!1)})}"function"==typeof n&&n(l,i);var h=l.querySelectorAll(".vsm-close");return[].forEach.call(h,function(e){e.onclick=function(){a()}}),_vsmModalIDCounter++,l}}function c(e,t,r){if(r=!!r,e&&t){var o=ridestyler.promise(),a=ridestyler.promise();if(!r){var s=parseInt(t.style.zIndex,10)||0,l=parseInt(e.style.zIndex,10)||0;l<=s&&(l=s+1),e.style.zIndex=l}y?r?(e.style.display="block",n(e,"in"),a.resolve(),setTimeout(function(){i(t,"in"),t.onTransitionEndOnce(function(){t.style.display="none",o.resolve()})},50)):(e.style.display="block",setTimeout(function(){n(e,"in"),e.onTransitionEndOnce(function(){t.style.display="none",i(t,"in"),a.resolve(),o.resolve()})},50)):(r?(e.style.display="block",n(e,"in"),i(t,"in"),t.style.display="none"):(e.style.display="block",n(e,"in"),t.style.display="none",i(t,"in")),a.resolve(),o.resolve());var c=ridestyler.promise(),u=function(){var e=a.state(),t=o.state();if(0!==e&&0!==t)return 2===e||2===t?c.reject():void c.resolve()};return a.always(u),o.always(u),c}}function u(t,n){var i={Selection:d};n&&n.bestConfiguration?p(t,n.bestConfiguration):ridestyler.ajax.send({action:"Vehicle/Select",data:i,callback:function(n){n.Success&&(n.BestConfiguration?e.IncludeOETireOption?ridestyler.ajax.send({action:"Vehicle/GetTireOptionDetails",data:{VehicleConfiguration:n.BestConfiguration.Value},bestConfiguration:n.BestConfiguration,callback:function(e){if(e.Success){var n=e.Details,i=this.bestConfiguration;if(1==n.length){a=function(e){var t=e.Front.Description,n=e.Rear.Description;return t==n?t:"F: "+t+" R: "+n}(n[0]);i.TireOptionBasic={TireOptionID:n[0].TireOptionID,TireOptionString:a},p(t,i)}else{for(var r={Groups:null,Description:"Select Your Tire Size",Title:"Tire Size",Key:"tireoption",Options:[]},o=0;o<n.length;o++){var a=function(e){var t=e.Front.Description,n=e.Rear.Description;return t==n?t:"F: "+t+" R: "+n}(n[o]);r.Options.push({Group:null,Label:a,Value:n[o].TireOptionID})}h(t,r,i)}}else p(t,i)}}):p(t,n.BestConfiguration):h(t,n.Menu))}})}function h(t,i,r){var o=t.querySelectorAll(".vsm-list-container")[0],a=t.querySelectorAll(".vsm-header")[0],s=t.querySelectorAll(".vsm-modal-body")[0],h=t.querySelectorAll(".vsm-line-step")[0],p=t.querySelectorAll(".vsm-final")[0],v=i.Options,y=i.Key,g=i.Title,b=i.Groups,C=function(n){var i=n.Label,o=n.Value;if(void 0!==i&&void 0!==o){var a=document.createElement("a"),s=document.createTextNode(i);return a.className="vsm-option-item vsm-btn vsm-btn-gray",a.href="javascript:void(0)",a.setAttribute("data-optionvalue",o),a.setAttribute("data-optionlabel",i),a.appendChild(s),a.onclick=function(){!function(n){var i=n.getAttribute("data-optionvalue"),o=n.getAttribute("data-optionkey"),a=n.getAttribute("data-optionlabel"),s=n.getAttribute("data-menutitle");if(d.push(o+":"+i),f.push(s+":"+a),e.afterOptionSelected&&"function"==typeof e.afterOptionSelected){for(var h={},p=0;p<f.length;p++){var v=f[p].split(":");2==v.length&&(h[v[0]]=v[1])}var y={CurrentSelection:{},FullSelection:h,FullSelectionData:d};y.CurrentSelection[s]=a,e.afterOptionSelected(y)}if(!m){var g={};"tireoption"==o&&r&&(r.TireOptionBasic={TireOptionID:i,TireOptionString:a},g.bestConfiguration=r),c(l(u,g,t),t)}}(this)},a}},w=function(e){var t=document.createElement("p"),n=document.createTextNode(e);return t.className="vsm-group-title",t.appendChild(n),t};p.parentNode.removeChild(p),n(h,"vsm-single-step");var A=document.createElement("div"),S=document.createElement("i"),E=document.createElement("span");if(A.className="vsm-column-2",S.className="dot-style dot-before active",E.className="dot-info dot-info-before active",A.appendChild(S),A.appendChild(E),d.length){n(s,"vsm-has-back");I=document.createElement("div");I.className="vsm-column-2 vsm-before";var k=f.map(function(e){return e&&2===e.split(":").length?e.split(":")[1]:""});E.innerHTML=k.join(" "),h.appendChild(I),h.appendChild(A)}else{var I;(I=document.createElement("div")).className="vsm-column-2 no-style",h.appendChild(I),h.appendChild(A)}for(a.innerHTML=i.Description;o.firstChild;)o.removeChild(o.firstChild);if(v.length){var T=document.createElement("div");if(T.className="vsm-group-wrap center-piece",o.appendChild(T),e.GroupOptions&&b){for(var O={},L=0;L<v.length;L++){var _=v[L],H=_.Group;H?O[H]?O[H].push(_):O[H]=[_]:O._ungrouped?O._ungrouped.push(_):O._ungrouped=[_]}for(var R=0;R<b.length;R++){var M=b[R];if(D=O[M]){var B=document.createElement("div"),x="vsm-one-container";"year"==i.Key&&v.length>10&&(2==e.YearScreenColumns&&(x="vsm-half-container"),e.YearScreenColumns>=3&&(x="vsm-third-container")),"make"==i.Key&&v.length>10&&e.MakeScreenColumns>=2&&(x="vsm-half-container"),B.className="vsm-group-list "+x,T.appendChild(w(M)),T.appendChild(B);for(L=0;L<D.length;L++){void 0!==(P=C(D[L]))&&(P.setAttribute("data-optionkey",y),P.setAttribute("data-menutitle",g),B.appendChild(P))}}}if(O._ungrouped){var B=document.createElement("div"),x="vsm-one-container";"year"==i.Key&&v.length>10&&(2==e.YearScreenColumns&&(x="vsm-half-container"),e.YearScreenColumns>=3&&(x="vsm-third-container")),"make"==i.Key&&v.length>10&&e.MakeScreenColumns>=2&&(x="vsm-half-container"),B.className="vsm-group-list "+x,T.appendChild(w("Ungrouped")),T.appendChild(B);for(var D=O._ungrouped,L=0;L<D.length;L++){void 0!==(P=C(D[L]))&&(P.setAttribute("data-optionkey",y),P.setAttribute("data-menutitle",g),B.appendChild(P))}}}else{var B=document.createElement("div"),x="vsm-one-container";"year"==i.Key&&v.length>10&&(2==e.YearScreenColumns&&(x="vsm-half-container"),e.YearScreenColumns>=3&&(x="vsm-third-container")),"make"==i.Key&&v.length>10&&e.MakeScreenColumns>=2&&(x="vsm-half-container"),B.className="vsm-group-list "+x,T.appendChild(B);for(L=0;L<v.length;L++){var P=C(v[L]);void 0!==P&&(P.setAttribute("data-optionkey",y),P.setAttribute("data-menutitle",g),B.appendChild(P))}}}}function p(i,r){var s=i.querySelectorAll(".vsm-vehicle-display")[0],l=i.querySelectorAll(".vsm-final .vsm-loaderIcon")[0],c=i.querySelectorAll(".vehicle-result-name")[0],u=(i.querySelectorAll(".vehicle-result-size")[0],i.querySelectorAll(".vsm-find")[0]),h=i.querySelectorAll(".vsm-modal-body")[0],p=i.querySelectorAll(".vsm-in-progress")[0];n(h,"vsm-has-back"),u.innerHTML=e.ConfirmButtonText;for(var v=[],m={},y=0;y<f.length;y++){var g=f[y].split(":");2==g.length&&"Tire Size"!=g[0]&&(v.push(g[1]),m[g[0]]=g[1])}for(var b=v[0],C=v.pop(),y=1;y<v.length&&!(y>=3);y++)b+=" "+v[y];var w=b+" "+C;c.innerHTML=w,n(i.querySelectorAll(".vsm-modal-body")[0],"vsm-final-screen"),p.parentNode.removeChild(p);var A={Width:260,Height:120,PositionX:1,PositionY:1};e.ImageSettings&&t(A,"function"==typeof e.ImageSettings?e.ImageSettings.call(this,e):e.ImageSettings),A.VehicleConfiguration=r.Value;var S=ridestyler.ajax.url("Vehicle/Render",A);s.src=S,s.style.display="inline-block",s.onload=function(){l.style.display="none"};var E=function(n){n.target.removeEventListener(n.type,E);var i=document.querySelectorAll(".vsm-modal:not(#vsm_modal_base)"),s=function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null}(this,".vsm-modal"),l=d.slice(0);f=[],d=[],s.style.opacity=0,s.onTransitionEndOnce(function(){[].forEach.call(i,function(e){e.parentNode.removeChild(e)});var n={ImageUrl:S,VehicleDescription:w,VehicleConfiguration:r.Value};if(t(n,m),r.TireOptionBasic&&t(n,r.TireOptionBasic),e.callback&&"function"==typeof e.callback){var o={FinalSelectionMade:!0,Vehicle:n,FullSelectionData:l};e.callback(o)}else a(),console.warn("No callback function provided.")}),o()};u.addEventListener("click",E,!1)}var f=[],d=[],v=[],m=!1;e=t({ConfirmButtonText:"Confirm Vehicle",GroupOptions:!1,IncludeOETireOption:!1,YearScreenColumns:3,MakeScreenColumns:2,container:document.body,afterBackClicked:null,afterOptionSelected:null,callback:null},e);var y=function(){var e=(document.body||document.documentElement).style;return void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.OTransition||void 0!==e.transition}();!function(){var e,t=document.createElement("div"),n={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},i="";for(e in n)if(n.hasOwnProperty(e)&&void 0!==t.style[e]){i=n[e];break}HTMLElement.prototype.onTransitionEndOnce=function(e){if(""===i)return e(),this;var t=function(n){e(),n.target.removeEventListener(n.type,t)};return this.addEventListener(i,t,!1),this}}(),this.Show=function(){!function(){if(!document.getElementById("vsm_modal_base")){var e=document.createElement("div");e.innerHTML=vsm_template,s().appendChild(e.firstChild)}}();if(document.querySelectorAll(".vsm-modal:not(#vsm_modal_base)").length)console.warn("There is currently another vsm instance running.");else{var e=l();r(),e.style.display="block",m=!1,setTimeout(function(){n(e,"in"),n(document.body,"vsm-modal-open"),e.onTransitionEndOnce(function(){u(e)})},50)}},this.Hide=a}function RideStylerViewport(e,t){function n(){o.style.opacity=.75}var i="data:image/gif;base64,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ODwvYj48YnIgLz4KPGJyIC8+CjxiPldhcm5pbmc8L2I+OiAgbXlzcWxfcXVlcnkoKSBbPGEgaHJlZj0nZnVuY3Rpb24ubXlzcWwtcXVlcnknPmZ1bmN0aW9uLm15c3FsLXF1ZXJ5PC9hPl06IENhbid0IGNvbm5lY3QgdG8gbG9jYWwgTXlTUUwgc2VydmVyIHRocm91Z2ggc29ja2V0ICcvdmFyL3J1bi9teXNxbGQvbXlzcWxkLnNvY2snICgyKSBpbiA8Yj4vaG9tZS9hamF4bG9hZC93d3cvbGlicmFpcmllcy9jbGFzcy5teXNxbC5waHA8L2I+IG9uIGxpbmUgPGI+Njg8L2I+PGJyIC8+CjxiciAvPgo8Yj5XYXJuaW5nPC9iPjogIG15c3FsX3F1ZXJ5KCkgWzxhIGhyZWY9J2Z1bmN0aW9uLm15c3FsLXF1ZXJ5Jz5mdW5jdGlvbi5teXNxbC1xdWVyeTwvYT5dOiBBIGxpbmsgdG8gdGhlIHNlcnZlciBjb3VsZCBub3QgYmUgZXN0YWJsaXNoZWQgaW4gPGI+L2hvbWUvYWpheGxvYWQvd3d3L2xpYnJhaXJpZXMvY2xhc3MubXlzcWwucGhwPC9iPiBvbiBsaW5lIDxiPjY4PC9iPjxiciAvPgo8YnIgLz4KPGI+V2FybmluZzwvYj46ICBteXNxbF9xdWVyeSgpIFs8YSBocmVmPSdmdW5jdGlvbi5teXNxbC1xdWVyeSc+ZnVuY3Rpb24ubXlzcWwtcXVlcnk8L2E+XTogQ2FuJ3QgY29ubmVjdCB0byBsb2NhbCBNeVNRTCBzZXJ2ZXIgdGhyb3VnaCBzb2NrZXQgJy92YXIvcnVuL215c3FsZC9teXNxbGQuc29jaycgKDIpIGluIDxiPi9ob21lL2FqYXhsb2FkL3d3dy9saWJyYWlyaWVzL2NsYXNzLm15c3FsLnBocDwvYj4gb24gbGluZSA8Yj42ODwvYj48YnIgLz4KPGJyIC8+CjxiPldhcm5pbmc8L2I+OiAgbXlzcWxfcXVlcnkoKSBbPGEgaHJlZj0nZnVuY3Rpb24ubXlzcWwtcXVlcnknPmZ1bmN0aW9uLm15c3FsLXF1ZXJ5PC9hPl06IEEgbGluayB0byB0aGUgc2VydmVyIGNvdWxkIG5vdCBiZSBlc3RhYmxpc2hlZCBpbiA8Yj4vaG9tZS9hamF4bG9hZC93d3cvbGlicmFpcmllcy9jbGFzcy5teXNxbC5waHA8L2I+IG9uIGxpbmUgPGI+Njg8L2I+PGJyIC8+Cg==",r=null,o=null,a=null,s=!1,l={};(t=t||{}).state&&(l=t.state),"string"==typeof e?"function"==typeof document.querySelector?r=document.querySelector(e):"."===e[0]?r=document.getElementsByClassName(e.substring(1)):"#"===e[0]&&(r=document.getElementById(e.substring(1))):"object"==typeof e&&e.tagName&&(r=e),r||console.error("Could not find element specified for: "+e);(function(){var e=function(e){return"fixed"===e||"absolute"===e||"relative"===e};if(e(r.style.position))return!0;var t="getComputedStyle"in window?getComputedStyle(r):r.runtimeStyle;return!!t&&e(t.position)})()||(r.style.position="relative"),(o=document.createElement("img")).src=i,o.style.padding="5px",o.style.borderRadius="21px",o.style.background="#fff",o.style.opacity=0,o.style.transition="opacity linear 300ms",o.style.position="absolute",o.style.left="50%",o.style.top="50%",o.style.zIndex="50",o.style.marginLeft="-21px",o.style.marginTop="-21px",r.appendChild(o),n(),a=new function(e){function t(t){var a=ridestyler.promise();n();var s=ridestyler.ajax.url("Vehicle/Render",t);null!=i&&(r.push(i),i=null);for(var l=r.length-1;l>=0;l--){var c=r[l];c.style.opacity>.5&&(c.style.opacity=.5)}var u=document.createElement("img");return u.style.position="absolute",u.style.left=0,u.style.top=0,u.style.opacity=0,u.style.transition="opacity linear 300ms",e.appendChild(i=u),u.onload=function(){if(u==i){o.style.opacity=0,u.style.opacity=1;for(var t=r.splice(0,r.length),n=0;n<t.length;n++)t[n].style.opacity=0;setTimeout(function(){for(var n=0;n<t.length;n++)e.removeChild(t[n]);a.resolve()},300)}},u.onerror=function(){a.reject()},u.src=s,a}var i=null,r=[];this.Render=function(e){return t(e)}}(r);var c=null;"number"==typeof t.containerAspectRatio&&(c=t.containerAspectRatio);var u=0,h=0;this.ResizeRenderArea=function(){if(r.clientWidth!=u){if(u=r.clientWidth,l.width=u,null!=c){var e=Math.round(u*c);r.style.height=e+"px",l.height=e}s&&(clearTimeout(h),h=setTimeout(function(){a.Render(l)},150))}},!1!==t.responsive&&(setInterval(this.ResizeRenderArea,100),this.ResizeRenderArea()),this.Update=function(e){s=!0,(e=function(e){var t={};if("string"==typeof e){var n=e.split("?");n=(1==n.length?n[0]:n[1]).split("&");for(var i=0;i<n.length;i++){var r=n[i].split("="),o=decodeURIComponent(r[0]).toLowerCase();"key"!=o&&"token"!=o&&(t[o]=decodeURIComponent(r[1]))}}else for(var a in e)t[a.toLowerCase()]=e[a];return t}(e)).width=r.clientWidth,e.height=r.clientHeight;var t=!1;for(var n in e){var i=l[n],o=e[n];i!=o&&(l[n]=o,t=!0)}if(0==t){var c=ridestyler.promise();return c.resolve(),c}return a.Render(l)}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.noUiSlider=e()}(function(){"use strict";function e(e){e.preventDefault()}function t(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function n(e,t,n){n>0&&(o(e,t),setTimeout(function(){a(e,t)},n))}function i(e){return Array.isArray(e)?e:[e]}function r(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function o(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function a(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function s(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:n?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:n?e.documentElement.scrollTop:e.body.scrollTop}}function l(e,t){return 100/(t-e)}function c(e,t){return 100*t/(e[1]-e[0])}function u(e,t){for(var n=1;e>=t[n];)n+=1;return n}function h(e,t,n){if(n>=e.slice(-1)[0])return 100;var i,r,o,a,s=u(n,e);return i=e[s-1],r=e[s],o=t[s-1],a=t[s],o+function(e,t){return c(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}([i,r],n)/l(o,a)}function p(e,t,n,i){if(100===i)return i;var r,o,a=u(i,e);return n?(r=e[a-1],o=e[a],i-r>(o-r)/2?o:r):t[a-1]?e[a-1]+function(e,t){return Math.round(e/t)*t}(i-e[a-1],t[a-1]):i}function f(e,n,i){var r;if("number"==typeof n&&(n=[n]),"[object Array]"!==Object.prototype.toString.call(n))throw new Error("noUiSlider ("+j+"): 'range' contains invalid value.");if(r="min"===e?0:"max"===e?100:parseFloat(e),!t(r)||!t(n[0]))throw new Error("noUiSlider ("+j+"): 'range' value isn't numeric.");i.xPct.push(r),i.xVal.push(n[0]),r?i.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(i.xSteps[0]=n[1]),i.xHighestCompleteStep.push(0)}function d(e,t,n){if(!t)return!0;n.xSteps[e]=c([n.xVal[e],n.xVal[e+1]],t)/l(n.xPct[e],n.xPct[e+1]);var i=(n.xVal[e+1]-n.xVal[e])/n.xNumSteps[e],r=Math.ceil(Number(i.toFixed(3))-1),o=n.xVal[e]+n.xNumSteps[e]*r;n.xHighestCompleteStep[e]=o}function v(e,t,n){this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=t;var i,r=[];for(i in e)e.hasOwnProperty(i)&&r.push([e[i],i]);for(r.length&&"object"==typeof r[0][0]?r.sort(function(e,t){return e[0][0]-t[0][0]}):r.sort(function(e,t){return e[0]-t[0]}),i=0;i<r.length;i++)f(r[i][1],r[i][0],this);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)d(i,this.xNumSteps[i],this)}function m(e){if(function(e){return"object"==typeof e&&"function"==typeof e.to&&"function"==typeof e.from}(e))return!0;throw new Error("noUiSlider ("+j+"): 'format' requires 'to' and 'from' methods.")}function y(e,n){if(!t(n))throw new Error("noUiSlider ("+j+"): 'step' is not numeric.");e.singleStep=n}function g(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider ("+j+"): 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider ("+j+"): Missing 'min' or 'max' in 'range'.");if(t.min===t.max)throw new Error("noUiSlider ("+j+"): 'range' 'min' and 'max' cannot be equal.");e.spectrum=new v(t,e.snap,e.singleStep)}function b(e,t){if(t=i(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider ("+j+"): 'start' option is incorrect.");e.handles=t.length,e.start=t}function C(e,t){if(e.snap=t,"boolean"!=typeof t)throw new Error("noUiSlider ("+j+"): 'snap' option must be a boolean.")}function w(e,t){if(e.animate=t,"boolean"!=typeof t)throw new Error("noUiSlider ("+j+"): 'animate' option must be a boolean.")}function A(e,t){if(e.animationDuration=t,"number"!=typeof t)throw new Error("noUiSlider ("+j+"): 'animationDuration' option must be a number.")}function S(e,t){var n,i=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(n=1;n<e.handles;n++)i.push(t);i.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider ("+j+"): 'connect' option doesn't match handle count.");i=t}e.connect=i}function E(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider ("+j+"): 'orientation' option is invalid.")}}function k(e,n){if(!t(n))throw new Error("noUiSlider ("+j+"): 'margin' option must be numeric.");if(0!==n&&(e.margin=e.spectrum.getMargin(n),!e.margin))throw new Error("noUiSlider ("+j+"): 'margin' option is only supported on linear sliders.")}function I(e,n){if(!t(n))throw new Error("noUiSlider ("+j+"): 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(n),!e.limit||e.handles<2)throw new Error("noUiSlider ("+j+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function T(e,n){if(!t(n))throw new Error("noUiSlider ("+j+"): 'padding' option must be numeric.");if(0!==n){if(e.padding=e.spectrum.getMargin(n),!e.padding)throw new Error("noUiSlider ("+j+"): 'padding' option is only supported on linear sliders.");if(e.padding<0)throw new Error("noUiSlider ("+j+"): 'padding' option must be a positive number.");if(e.padding>=50)throw new Error("noUiSlider ("+j+"): 'padding' option must be less than half the range.")}}function O(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider ("+j+"): 'direction' option was not recognized.")}}function L(e,t){if("string"!=typeof t)throw new Error("noUiSlider ("+j+"): 'behaviour' must be a string containing options.");var n=t.indexOf("tap")>=0,i=t.indexOf("drag")>=0,r=t.indexOf("fixed")>=0,o=t.indexOf("snap")>=0,a=t.indexOf("hover")>=0;if(r){if(2!==e.handles)throw new Error("noUiSlider ("+j+"): 'fixed' behaviour must be used with 2 handles");k(e,e.start[1]-e.start[0])}e.events={tap:n||o,drag:i,fixed:r,snap:o,hover:a}}function _(e,t){if(e.multitouch=t,"boolean"!=typeof t)throw new Error("noUiSlider ("+j+"): 'multitouch' option must be a boolean.")}function H(e,t){if(!1!==t)if(!0===t){e.tooltips=[];for(var n=0;n<e.handles;n++)e.tooltips.push(!0)}else{if(e.tooltips=i(t),e.tooltips.length!==e.handles)throw new Error("noUiSlider ("+j+"): must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider ("+j+"): 'tooltips' must be passed a formatter or 'false'.")})}}function R(e,t){e.ariaFormat=t,m(t)}function M(e,t){e.format=t,m(t)}function B(e,t){if(void 0!==t&&"string"!=typeof t&&!1!==t)throw new Error("noUiSlider ("+j+"): 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function x(e,t){if(void 0!==t&&"object"!=typeof t)throw new Error("noUiSlider ("+j+"): 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix){e.cssClasses={};for(var n in t)t.hasOwnProperty(n)&&(e.cssClasses[n]=e.cssPrefix+t[n])}else e.cssClasses=t}function D(e,t){if(!0!==t&&!1!==t)throw new Error("noUiSlider ("+j+"): 'useRequestAnimationFrame' option should be true (default) or false.");e.useRequestAnimationFrame=t}function P(e){var t={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:N,format:N},n={step:{r:!1,t:y},start:{r:!0,t:b},connect:{r:!0,t:S},direction:{r:!0,t:O},snap:{r:!1,t:C},animate:{r:!1,t:w},animationDuration:{r:!1,t:A},range:{r:!0,t:g},orientation:{r:!1,t:E},margin:{r:!1,t:k},limit:{r:!1,t:I},padding:{r:!1,t:T},behaviour:{r:!0,t:L},multitouch:{r:!0,t:_},ariaFormat:{r:!1,t:R},format:{r:!1,t:M},tooltips:{r:!1,t:H},cssPrefix:{r:!1,t:B},cssClasses:{r:!1,t:x},useRequestAnimationFrame:{r:!1,t:D}},i={connect:!1,direction:"ltr",behaviour:"tap",multitouch:!1,orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(n).forEach(function(r){if(void 0===e[r]&&void 0===i[r]){if(n[r].r)throw new Error("noUiSlider ("+j+"): '"+r+"' is required.");return!0}n[r].t(t,void 0===e[r]?i[r]:e[r])}),t.pips=e.pips;var r=[["left","top"],["right","bottom"]];return t.style=r[t.dir][t.ort],t.styleOposite=r[t.dir?0:1][t.ort],t}function F(t,r,l){function c(e,t){var n=Z.createElement("div");return t&&o(n,t),e.appendChild(n),n}function u(e,t){var n=c(e,r.cssClasses.origin),i=c(n,r.cssClasses.handle);return i.setAttribute("data-handle",t),i.setAttribute("tabindex","0"),i.setAttribute("role","slider"),i.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===t?o(i,r.cssClasses.handleLower):t===r.handles-1&&o(i,r.cssClasses.handleUpper),n}function h(e,t){return!!t&&c(e,r.cssClasses.connect)}function p(e,t){return!!r.tooltips[t]&&c(e.firstChild,r.cssClasses.tooltip)}function f(e,t,n){function i(e,t){var n=t===r.cssClasses.value,i=n?s:l;return t+" "+(n?u:h)[r.ort]+" "+i[e]}var a=Z.createElement("div"),s=[r.cssClasses.valueNormal,r.cssClasses.valueLarge,r.cssClasses.valueSub],l=[r.cssClasses.markerNormal,r.cssClasses.markerLarge,r.cssClasses.markerSub],u=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],h=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];return o(a,r.cssClasses.pips),o(a,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(e).forEach(function(o){!function(e,o){o[1]=o[1]&&t?t(o[0],o[1]):o[1];var s=c(a,!1);s.className=i(o[1],r.cssClasses.marker),s.style[r.style]=e+"%",o[1]&&((s=c(a,!1)).className=i(o[1],r.cssClasses.value),s.style[r.style]=e+"%",s.innerText=n.to(o[0]))}(o,e[o])}),a}function d(){V&&(!function(e){e.parentElement.removeChild(e)}(V),V=null)}function v(e){d();var t=e.mode,n=e.density||1,i=e.filter||!1,r=function(e,t,n){function i(e,t){return(e+t).toFixed(7)/1}var r={},o=J.xVal[0],a=J.xVal[J.xVal.length-1],s=!1,l=!1,c=0;return(n=n.slice().sort(function(e,t){return e-t}).filter(function(e){return!this[e]&&(this[e]=!0)},{}))[0]!==o&&(n.unshift(o),s=!0),n[n.length-1]!==a&&(n.push(a),l=!0),n.forEach(function(o,a){var u,h,p,f,d,v,m,y,g,b=o,C=n[a+1];if("steps"===t&&(u=J.xNumSteps[a]),u||(u=C-b),!1!==b&&void 0!==C)for(u=Math.max(u,1e-7),h=b;h<=C;h=i(h,u)){for(m=(d=(f=J.toStepping(h))-c)/e,g=d/(y=Math.round(m)),p=1;p<=y;p+=1)r[(c+p*g).toFixed(5)]=["x",0];v=n.indexOf(h)>-1?1:"steps"===t?2:0,!a&&s&&(v=0),h===C&&l||(r[f.toFixed(5)]=[h,v]),c=f}}),r}(n,t,function(e,t,n){if("range"===e||"steps"===e)return J.xVal;if("count"===e){if(!t)throw new Error("noUiSlider ("+j+"): 'values' required for mode 'count'.");var i,r=100/(t-1),o=0;for(t=[];(i=o++*r)<=100;)t.push(i);e="positions"}return"positions"===e?t.map(function(e){return J.fromStepping(n?J.getStep(e):e)}):"values"===e?n?t.map(function(e){return J.fromStepping(J.getStep(J.toStepping(e)))}):t:void 0}(t,e.values||!1,e.stepped||!1)),o=e.format||{to:Math.round};return V=K.appendChild(f(r,i,o))}function m(){var e=D.getBoundingClientRect(),t="offset"+["Width","Height"][r.ort];return 0===r.ort?e.width||D[t]:e.height||D[t]}function y(e,t,n,i){var o=function(o){return!K.hasAttribute("disabled")&&(!function(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}(K,r.cssClasses.tap)&&(!!(o=function(e,t,n){var i,o,a=0===e.type.indexOf("touch"),l=0===e.type.indexOf("mouse"),c=0===e.type.indexOf("pointer");0===e.type.indexOf("MSPointer")&&(c=!0);if(a&&r.multitouch){var u=function(e){return e.target===n||n.contains(e.target)};if("touchstart"===e.type){var h=Array.prototype.filter.call(e.touches,u);if(h.length>1)return!1;i=h[0].pageX,o=h[0].pageY}else{var p=Array.prototype.find.call(e.changedTouches,u);if(!p)return!1;i=p.pageX,o=p.pageY}}else if(a){if(e.touches.length>1)return!1;i=e.changedTouches[0].pageX,o=e.changedTouches[0].pageY}t=t||s(Z),(l||c)&&(i=e.clientX+t.x,o=e.clientY+t.y);return e.pageOffset=t,e.points=[i,o],e.cursor=l||c,e}(o,i.pageOffset,i.target||t))&&(!(e===U.start&&void 0!==o.buttons&&o.buttons>1)&&((!i.hover||!o.buttons)&&(W||o.preventDefault(),o.calcPoint=o.points[r.ort],void n(o,i))))))},a=[];return e.split(" ").forEach(function(e){t.addEventListener(e,o,!!W&&{passive:!0}),a.push([e,o])}),a}function g(e){var t=100*(e-function(e,t){var n=e.getBoundingClientRect(),i=e.ownerDocument,r=i.documentElement,o=s(i);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(o.x=0),t?n.top+o.y-r.clientTop:n.left+o.x-r.clientLeft}(D,r.ort))/m();return r.dir?100-t:t}function b(e,t,n,i){var r=n.slice(),o=[!e,e],a=[e,!e];i=i.slice(),e&&i.reverse(),i.length>1?i.forEach(function(e,n){var i=T(r,e,r[e]+t,o[n],a[n],!1);!1===i?t=0:(t=i-r[e],r[e]=i)}):o=a=[!0];var s=!1;i.forEach(function(e,i){s=_(e,n[e]+t,o[i],a[i])||s}),s&&i.forEach(function(e){C("update",e),C("slide",e)})}function C(e,t,n){Object.keys(X).forEach(function(i){var o=i.split(".")[0];e===o&&X[i].forEach(function(e){e.call(Q,q.map(r.format.to),t,q.slice(),n||!1,z.slice())})})}function w(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&S(e,t)}function A(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return S(e,t);var n=(r.dir?-1:1)*(e.calcPoint-t.startCalcPoint);b(n>0,100*n/t.baseSize,t.locations,t.handleNumbers)}function S(t,n){n.handle&&(a(n.handle,r.cssClasses.active),G-=1),n.listeners.forEach(function(e){$.removeEventListener(e[0],e[1])}),0===G&&(a(K,r.cssClasses.drag),L(),t.cursor&&(ee.style.cursor="",ee.removeEventListener("selectstart",e))),n.handleNumbers.forEach(function(e){C("change",e),C("set",e),C("end",e)})}function E(t,n){var i;if(1===n.handleNumbers.length){var a=F[n.handleNumbers[0]];if(a.hasAttribute("disabled"))return!1;i=a.children[0],G+=1,o(i,r.cssClasses.active)}t.stopPropagation();var s=[],l=y(U.move,$,A,{target:t.target,handle:i,listeners:s,startCalcPoint:t.calcPoint,baseSize:m(),pageOffset:t.pageOffset,handleNumbers:n.handleNumbers,buttonsProperty:t.buttons,locations:z.slice()}),c=y(U.end,$,S,{target:t.target,handle:i,listeners:s,handleNumbers:n.handleNumbers}),u=y("mouseout",$,w,{target:t.target,handle:i,listeners:s,handleNumbers:n.handleNumbers});s.push.apply(s,l.concat(c,u)),t.cursor&&(ee.style.cursor=getComputedStyle(t.target).cursor,F.length>1&&o(K,r.cssClasses.drag),ee.addEventListener("selectstart",e,!1)),n.handleNumbers.forEach(function(e){C("start",e)})}function k(e){e.stopPropagation();var t=g(e.calcPoint),i=function(e){var t=100,n=!1;return F.forEach(function(i,r){if(!i.hasAttribute("disabled")){var o=Math.abs(z[r]-e);o<t&&(n=r,t=o)}}),n}(t);if(!1===i)return!1;r.events.snap||n(K,r.cssClasses.tap,r.animationDuration),_(i,t,!0,!0),L(),C("slide",i,!0),C("update",i,!0),C("change",i,!0),C("set",i,!0),r.events.snap&&E(e,{handleNumbers:[i]})}function I(e){var t=g(e.calcPoint),n=J.getStep(t),i=J.fromStepping(n);Object.keys(X).forEach(function(e){"hover"===e.split(".")[0]&&X[e].forEach(function(e){e.call(Q,i)})})}function T(e,t,n,i,o,a){return F.length>1&&(i&&t>0&&(n=Math.max(n,e[t-1]+r.margin)),o&&t<F.length-1&&(n=Math.min(n,e[t+1]-r.margin))),F.length>1&&r.limit&&(i&&t>0&&(n=Math.min(n,e[t-1]+r.limit)),o&&t<F.length-1&&(n=Math.max(n,e[t+1]-r.limit))),r.padding&&(0===t&&(n=Math.max(n,r.padding)),t===F.length-1&&(n=Math.min(n,100-r.padding))),n=J.getStep(n),!((n=function(e){return Math.max(Math.min(e,100),0)}(n))===e[t]&&!a)&&n}function O(e){return e+"%"}function L(){Y.forEach(function(e){var t=z[e]>50?-1:1,n=3+(F.length+t*e);F[e].childNodes[0].style.zIndex=n})}function _(e,t,n,i){return!1!==(t=T(z,e,t,n,i,!1))&&(function(e,t){z[e]=t,q[e]=J.fromStepping(t);var n=function(){F[e].style[r.style]=O(t),H(e),H(e+1)};window.requestAnimationFrame&&r.useRequestAnimationFrame?window.requestAnimationFrame(n):n()}(e,t),!0)}function H(e){if(N[e]){var t=0,n=100;0!==e&&(t=z[e-1]),e!==N.length-1&&(n=z[e]),N[e].style[r.style]=O(t),N[e].style[r.styleOposite]=O(100-n)}}function R(e,t){null!==e&&!1!==e&&("number"==typeof e&&(e=String(e)),!1===(e=r.format.from(e))||isNaN(e)||_(t,J.toStepping(e),!1,!1))}function M(e,t){var o=i(e),a=void 0===z[0];t=void 0===t||!!t,o.forEach(R),r.animate&&!a&&n(K,r.cssClasses.tap,r.animationDuration),Y.forEach(function(e){_(e,z[e],!0,!1)}),L(),Y.forEach(function(e){C("update",e),null!==o[e]&&t&&C("set",e)})}function B(){var e=q.map(r.format.to);return 1===e.length?e[0]:e}function x(e,t){X[e]=X[e]||[],X[e].push(t),"update"===e.split(".")[0]&&F.forEach(function(e,t){C("update",t)})}var D,F,N,Q,V,U=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},W=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),K=t,z=[],Y=[],G=0,J=r.spectrum,q=[],X={},Z=t.ownerDocument,$=Z.documentElement,ee=Z.body;if(K.noUiSlider)throw new Error("noUiSlider ("+j+"): Slider was already initialized.");return function(e){o(e,r.cssClasses.target),0===r.dir?o(e,r.cssClasses.ltr):o(e,r.cssClasses.rtl),0===r.ort?o(e,r.cssClasses.horizontal):o(e,r.cssClasses.vertical),D=c(e,r.cssClasses.base)}(K),function(e,t){F=[],(N=[]).push(h(t,e[0]));for(var n=0;n<r.handles;n++)F.push(u(t,n)),Y[n]=n,N.push(h(t,e[n+1]))}(r.connect,D),Q={destroy:function(){for(var e in r.cssClasses)r.cssClasses.hasOwnProperty(e)&&a(K,r.cssClasses[e]);for(;K.firstChild;)K.removeChild(K.firstChild);delete K.noUiSlider},steps:function(){return z.map(function(e,t){var n=J.getNearbySteps(e),i=q[t],r=n.thisStep.step,o=null;!1!==r&&i+r>n.stepAfter.startValue&&(r=n.stepAfter.startValue-i),o=i>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&i-n.stepBefore.highestStep,100===e?r=null:0===e&&(o=null);var a=J.countStepDecimals();return null!==r&&!1!==r&&(r=Number(r.toFixed(a))),null!==o&&!1!==o&&(o=Number(o.toFixed(a))),[o,r]})},on:x,off:function(e){var t=e&&e.split(".")[0],n=t&&e.substring(t.length);Object.keys(X).forEach(function(e){var i=e.split(".")[0],r=e.substring(i.length);t&&t!==i||n&&n!==r||delete X[e]})},get:B,set:M,reset:function(e){M(r.start,e)},__moveHandles:function(e,t,n){b(e,t,z,n)},options:l,updateOptions:function(e,t){var n=B(),i=["margin","limit","padding","range","animate","snap","step","format"];i.forEach(function(t){void 0!==e[t]&&(l[t]=e[t])});var o=P(l);i.forEach(function(t){void 0!==e[t]&&(r[t]=o[t])}),J=o.spectrum,r.margin=o.margin,r.limit=o.limit,r.padding=o.padding,r.pips&&v(r.pips),z=[],M(e.start||n,t)},target:K,removePips:d,pips:v},function(e){e.fixed||F.forEach(function(e,t){y(U.start,e.children[0],E,{handleNumbers:[t]})}),e.tap&&y(U.start,D,k,{}),e.hover&&y(U.move,D,I,{hover:!0}),e.drag&&N.forEach(function(t,n){if(!1!==t&&0!==n&&n!==N.length-1){var i=F[n-1],a=F[n],s=[t];o(t,r.cssClasses.draggable),e.fixed&&(s.push(i.children[0]),s.push(a.children[0])),s.forEach(function(e){y(U.start,e,E,{handles:[i,a],handleNumbers:[n-1,n]})})}})}(r.events),M(r.start),r.pips&&v(r.pips),r.tooltips&&function(){var e=F.map(p);x("update",function(t,n,i){if(e[n]){var o=t[n];!0!==r.tooltips[n]&&(o=r.tooltips[n].to(i[n])),e[n].innerHTML=o}})}(),x("update",function(e,t,n,i,o){Y.forEach(function(e){var t=F[e],i=T(z,e,0,!0,!0,!0),a=T(z,e,100,!0,!0,!0),s=o[e],l=r.ariaFormat.to(n[e]);t.children[0].setAttribute("aria-valuemin",i.toFixed(1)),t.children[0].setAttribute("aria-valuemax",a.toFixed(1)),t.children[0].setAttribute("aria-valuenow",s.toFixed(1)),t.children[0].setAttribute("aria-valuetext",l)})}),Q}var j="10.1.0";v.prototype.getMargin=function(e){var t=this.xNumSteps[0];if(t&&e/t%1!=0)throw new Error("noUiSlider ("+j+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&c(this.xVal,e)},v.prototype.toStepping=function(e){return e=h(this.xVal,this.xPct,e)},v.prototype.fromStepping=function(e){return function(e,t,n){if(n>=100)return e.slice(-1)[0];var i,r,o,a,s=u(n,t);return i=e[s-1],r=e[s],o=t[s-1],a=t[s],function(e,t){return(n-o)*l(o,a)*(e[1]-e[0])/100+e[0]}([i,r])}(this.xVal,this.xPct,e)},v.prototype.getStep=function(e){return e=p(this.xPct,this.xSteps,this.snap,e)},v.prototype.getNearbySteps=function(e){var t=u(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t-0],step:this.xNumSteps[t-0],highestStep:this.xHighestCompleteStep[t-0]}}},v.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(r);return Math.max.apply(null,e)},v.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var N={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};return{version:j,create:function(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider ("+j+"): create requires a single element, got: "+e);var n=F(e,P(t),t);return e.noUiSlider=n,n}}});var QRCode;!function(){function e(e){this.mode=s.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,n=this.data.length;t<n;t++){var i=[],r=this.data.charCodeAt(t);r>65536?(i[0]=240|(1835008&r)>>>18,i[1]=128|(258048&r)>>>12,i[2]=128|(4032&r)>>>6,i[3]=128|63&r):r>2048?(i[0]=224|(61440&r)>>>12,i[1]=128|(4032&r)>>>6,i[2]=128|63&r):r>128?(i[0]=192|(1984&r)>>>6,i[1]=128|63&r):i[0]=r,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function n(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}function i(e,t){this.totalCount=e,this.dataCount=t}function r(){this.buffer=[],this.length=0}function o(){var e=!1,t=navigator.userAgent;if(/android/i.test(t)){e=!0;var n=t.toString().match(/android ([0-9]\.[0-9])/i);n&&n[1]&&(e=parseFloat(n[1]))}return e}function a(e,t){for(var n=1,i=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),r=0,o=C.length;r<=o;r++){var a=0;switch(t){case l.L:a=C[r][0];break;case l.M:a=C[r][1];break;case l.Q:a=C[r][2];break;case l.H:a=C[r][3]}if(i<=a)break;n++}if(n>C.length)throw new Error("Too long data");return n}e.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,n=this.parsedData.length;t<n;t++)e.put(this.parsedData[t],8)}},t.prototype={addData:function(t){var n=new e(t);this.dataList.push(n),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,n){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[i][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,n),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(this.modules[e+n][t+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=y.getLostPoint(this);(0==n||e>i)&&(e=i,t=n)}return t},createMovieClip:function(e,t,n){var i=e.createEmptyMovieClip(t,n);this.make();for(var r=0;r<this.modules.length;r++)for(var o=1*r,a=0;a<this.modules[r].length;a++){var s=1*a;this.modules[r][a]&&(i.beginFill(0,100),i.moveTo(s,o),i.lineTo(s+1,o),i.lineTo(s+1,o+1),i.lineTo(s,o+1),i.endFill())}return i},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=y.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t],r=e[n];if(null==this.modules[i][r])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)this.modules[i+o][r+a]=-2==o||2==o||-2==a||2==a||0==o&&0==a}},setupTypeNumber:function(e){for(var t=y.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){i=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++){var i=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,i=y.getBCHTypeInfo(n),r=0;r<15;r++){o=!e&&1==(i>>r&1);r<6?this.modules[r][8]=o:r<8?this.modules[r+1][8]=o:this.modules[this.moduleCount-15+r][8]=o}for(r=0;r<15;r++){var o=!e&&1==(i>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=o:r<9?this.modules[8][15-r-1+1]=o:this.modules[8][15-r-1]=o}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,i=this.moduleCount-1,r=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;s<2;s++)if(null==this.modules[i][a-s]){var l=!1;o<e.length&&(l=1==(e[o]>>>r&1));y.getMask(t,i,a-s)&&(l=!l),this.modules[i][a-s]=l,-1==--r&&(o++,r=7)}if((i+=n)<0||this.moduleCount<=i){i-=n,n=-n;break}}}},t.PAD0=236,t.PAD1=17,t.createData=function(e,n,o){for(var a=i.getRSBlocks(e,n),s=new r,l=0;l<o.length;l++){var c=o[l];s.put(c.mode,4),s.put(c.getLength(),y.getLengthInBits(c.mode,e)),c.write(s)}for(var u=0,l=0;l<a.length;l++)u+=a[l].dataCount;if(s.getLengthInBits()>8*u)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*u+")");for(s.getLengthInBits()+4<=8*u&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;;){if(s.getLengthInBits()>=8*u)break;if(s.put(t.PAD0,8),s.getLengthInBits()>=8*u)break;s.put(t.PAD1,8)}return t.createBytes(s,a)},t.createBytes=function(e,t){for(var i=0,r=0,o=0,a=new Array(t.length),s=new Array(t.length),l=0;l<t.length;l++){var c=t[l].dataCount,u=t[l].totalCount-c;r=Math.max(r,c),o=Math.max(o,u),a[l]=new Array(c);for(v=0;v<a[l].length;v++)a[l][v]=255&e.buffer[v+i];i+=c;var h=y.getErrorCorrectPolynomial(u),p=new n(a[l],h.getLength()-1).mod(h);s[l]=new Array(h.getLength()-1);for(v=0;v<s[l].length;v++){var f=v+p.getLength()-s[l].length;s[l][v]=f>=0?p.get(f):0}}for(var d=0,v=0;v<t.length;v++)d+=t[v].totalCount;for(var m=new Array(d),g=0,v=0;v<r;v++)for(l=0;l<t.length;l++)v<a[l].length&&(m[g++]=a[l][v]);for(v=0;v<o;v++)for(l=0;l<t.length;l++)v<s[l].length&&(m[g++]=s[l][v]);return m};for(var s={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l={L:1,M:0,Q:3,H:2},c=0,u=1,h=2,p=3,f=4,d=5,v=6,m=7,y={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;y.getBCHDigit(t)-y.getBCHDigit(y.G15)>=0;)t^=y.G15<<y.getBCHDigit(t)-y.getBCHDigit(y.G15);return(e<<10|t)^y.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;y.getBCHDigit(t)-y.getBCHDigit(y.G18)>=0;)t^=y.G18<<y.getBCHDigit(t)-y.getBCHDigit(y.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return y.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case c:return(t+n)%2==0;case u:return t%2==0;case h:return n%3==0;case p:return(t+n)%3==0;case f:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case d:return t*n%2+t*n%3==0;case v:return(t*n%2+t*n%3)%2==0;case m:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new n([1],0),i=0;i<e;i++)t=t.multiply(new n([1,g.gexp(i)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case s.MODE_NUMBER:return 10;case s.MODE_ALPHA_NUM:return 9;case s.MODE_8BIT_BYTE:case s.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case s.MODE_NUMBER:return 12;case s.MODE_ALPHA_NUM:return 11;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case s.MODE_NUMBER:return 14;case s.MODE_ALPHA_NUM:return 13;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i++)for(u=0;u<t;u++){for(var r=0,o=e.isDark(i,u),a=-1;a<=1;a++)if(!(i+a<0||t<=i+a))for(var s=-1;s<=1;s++)u+s<0||t<=u+s||0==a&&0==s||o==e.isDark(i+a,u+s)&&r++;r>5&&(n+=3+r-5)}for(i=0;i<t-1;i++)for(u=0;u<t-1;u++){var l=0;e.isDark(i,u)&&l++,e.isDark(i+1,u)&&l++,e.isDark(i,u+1)&&l++,e.isDark(i+1,u+1)&&l++,0!=l&&4!=l||(n+=3)}for(i=0;i<t;i++)for(u=0;u<t-6;u++)e.isDark(i,u)&&!e.isDark(i,u+1)&&e.isDark(i,u+2)&&e.isDark(i,u+3)&&e.isDark(i,u+4)&&!e.isDark(i,u+5)&&e.isDark(i,u+6)&&(n+=40);for(u=0;u<t;u++)for(i=0;i<t-6;i++)e.isDark(i,u)&&!e.isDark(i+1,u)&&e.isDark(i+2,u)&&e.isDark(i+3,u)&&e.isDark(i+4,u)&&!e.isDark(i+5,u)&&e.isDark(i+6,u)&&(n+=40);for(var c=0,u=0;u<t;u++)for(i=0;i<t;i++)e.isDark(i,u)&&c++;return n+=10*(Math.abs(100*c/t/t-50)/5)}},g={glog:function(e){if(e<1)throw new Error("glog("+e+")");return g.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return g.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},b=0;b<8;b++)g.EXP_TABLE[b]=1<<b;for(b=8;b<256;b++)g.EXP_TABLE[b]=g.EXP_TABLE[b-4]^g.EXP_TABLE[b-5]^g.EXP_TABLE[b-6]^g.EXP_TABLE[b-8];for(b=0;b<255;b++)g.LOG_TABLE[g.EXP_TABLE[b]]=b;n.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var r=0;r<e.getLength();r++)t[i+r]^=g.gexp(g.glog(this.get(i))+g.glog(e.get(r)));return new n(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=g.glog(this.get(0))-g.glog(e.get(0)),i=new Array(this.getLength()),r=0;r<this.getLength();r++)i[r]=this.get(r);for(r=0;r<e.getLength();r++)i[r]^=g.gexp(g.glog(e.get(r))+t);return new n(i,0).mod(e)}},i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],i.getRSBlocks=function(e,t){var n=i.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,o=[],a=0;a<r;a++)for(var s=n[3*a+0],l=n[3*a+1],c=n[3*a+2],u=0;u<s;u++)o.push(new i(l,c));return o},i.getRsBlockTable=function(e,t){switch(t){case l.L:return i.RS_BLOCK_TABLE[4*(e-1)+0];case l.M:return i.RS_BLOCK_TABLE[4*(e-1)+1];case l.Q:return i.RS_BLOCK_TABLE[4*(e-1)+2];case l.H:return i.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},r.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var C=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],w=function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){function t(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);for(var i in t)t.hasOwnProperty(i)&&n.setAttribute(i,t[i]);return n}var n=this._htOption,i=this._el,r=e.getModuleCount();Math.floor(n.width/r),Math.floor(n.height/r);this.clear();var o=t("svg",{viewBox:"0 0 "+String(r)+" "+String(r),width:"100%",height:"100%",fill:n.colorLight});o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),i.appendChild(o),o.appendChild(t("rect",{fill:n.colorLight,width:"100%",height:"100%"})),o.appendChild(t("rect",{fill:n.colorDark,width:"1",height:"1",id:"template"}));for(var a=0;a<r;a++)for(var s=0;s<r;s++)if(e.isDark(a,s)){var l=t("use",{x:String(s),y:String(a)});l.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),o.appendChild(l)}},e.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},e}(),A="svg"===document.documentElement.tagName.toLowerCase()?w:"undefined"==typeof CanvasRenderingContext2D?function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){for(var t=this._htOption,n=this._el,i=e.getModuleCount(),r=Math.floor(t.width/i),o=Math.floor(t.height/i),a=['<table style="border:0;border-collapse:collapse;">'],s=0;s<i;s++){a.push("<tr>");for(var l=0;l<i;l++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+r+"px;height:"+o+"px;background-color:"+(e.isDark(s,l)?t.colorDark:t.colorLight)+';"></td>');a.push("</tr>")}a.push("</table>"),n.innerHTML=a.join("");var c=n.childNodes[0],u=(t.width-c.offsetWidth)/2,h=(t.height-c.offsetHeight)/2;u>0&&h>0&&(c.style.margin=h+"px "+u+"px")},e.prototype.clear=function(){this._el.innerHTML=""},e}():function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var t=1/window.devicePixelRatio,n=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(e,i,r,o,a,s,l,c,u){if("nodeName"in e&&/img/i.test(e.nodeName))for(var h=arguments.length-1;h>=1;h--)arguments[h]=arguments[h]*t;else void 0===c&&(arguments[1]*=t,arguments[2]*=t,arguments[3]*=t,arguments[4]*=t);n.apply(this,arguments)}}var i=function(e,t){this._bIsPainted=!1,this._android=o(),this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return i.prototype.draw=function(e){var t=this._elImage,n=this._oContext,i=this._htOption,r=e.getModuleCount(),o=i.width/r,a=i.height/r,s=Math.round(o),l=Math.round(a);t.style.display="none",this.clear();for(var c=0;c<r;c++)for(var u=0;u<r;u++){var h=e.isDark(c,u),p=u*o,f=c*a;n.strokeStyle=h?i.colorDark:i.colorLight,n.lineWidth=1,n.fillStyle=h?i.colorDark:i.colorLight,n.fillRect(p,f,o,a),n.strokeRect(Math.floor(p)+.5,Math.floor(f)+.5,s,l),n.strokeRect(Math.ceil(p)-.5,Math.ceil(f)-.5,s,l)}this._bIsPainted=!0},i.prototype.makeImage=function(){this._bIsPainted&&function(e,t){var n=this;if(n._fFail=t,n._fSuccess=e,null===n._bSupportDataURI){var i=document.createElement("img"),r=function(){n._bSupportDataURI=!1,n._fFail&&n._fFail.call(n)};return i.onabort=r,i.onerror=r,i.onload=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)},void(i.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===n._bSupportDataURI&&n._fSuccess?n._fSuccess.call(n):!1===n._bSupportDataURI&&n._fFail&&n._fFail.call(n)}.call(this,e)},i.prototype.isPainted=function(){return this._bIsPainted},i.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},i.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e},i}();(QRCode=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:l.H},"string"==typeof t&&(t={text:t}),t)for(var n in t)this._htOption[n]=t[n];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(A=w),this._android=o(),this._el=e,this._oQRCode=null,this._oDrawing=new A(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(e){this._oQRCode=new t(a(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=l}(),function(e,t){"function"==typeof define&&define.amd?define(["exports"],function(n){t(e.TinyAnimate=n)}):t("object"==typeof exports?exports:e.TinyAnimate={})}(this,function(e){e.animate=function(e,n,i,r,o,a){function s(t){if(!c){var p=(t||+new Date)-h;p>=0&&r(o(p,e,u,i)),p>=0&&p>=i?(r(n),a()):l(s)}}if("number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"function"==typeof r){"string"==typeof o&&t[o]&&(o=t[o]),"function"!=typeof o&&(o=t.linear),"function"!=typeof a&&(a=function(){});var l=window.requestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},c=!1,u=n-e;r(e);var h=window.performance&&window.performance.now?window.performance.now():+new Date;return l(s),{cancel:function(){c=!0}}}},e.animateCSS=function(t,n,i,r,o,a,s,l){return e.animate(r,o,a,function(e){t.style[n]=e+i},s,l)},e.cancel=function(e){e&&e.cancel()};var t=e.easings={};t.linear=function(e,t,n,i){return n*e/i+t},t.easeInQuad=function(e,t,n,i){return n*(e/=i)*e+t},t.easeOutQuad=function(e,t,n,i){return-n*(e/=i)*(e-2)+t},t.easeInOutQuad=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},t.easeInCubic=function(e,t,n,i){return n*(e/=i)*e*e+t},t.easeOutCubic=function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t},t.easeInOutCubic=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},t.easeInQuart=function(e,t,n,i){return n*(e/=i)*e*e*e+t},t.easeOutQuart=function(e,t,n,i){return-n*((e=e/i-1)*e*e*e-1)+t},t.easeInOutQuart=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},t.easeInQuint=function(e,t,n,i){return n*(e/=i)*e*e*e*e+t},t.easeOutQuint=function(e,t,n,i){return n*((e=e/i-1)*e*e*e*e+1)+t},t.easeInOutQuint=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},t.easeInSine=function(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t},t.easeOutSine=function(e,t,n,i){return n*Math.sin(e/i*(Math.PI/2))+t},t.easeInOutSine=function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t},t.easeInExpo=function(e,t,n,i){return 0==e?t:n*Math.pow(2,10*(e/i-1))+t},t.easeOutExpo=function(e,t,n,i){return e==i?t+n:n*(1-Math.pow(2,-10*e/i))+t},t.easeInOutExpo=function(e,t,n,i){return 0==e?t:e==i?t+n:(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},t.easeInCirc=function(e,t,n,i){return-n*(Math.sqrt(1-(e/=i)*e)-1)+t},t.easeOutCirc=function(e,t,n,i){return n*Math.sqrt(1-(e=e/i-1)*e)+t},t.easeInOutCirc=function(e,t,n,i){return(e/=i/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},t.easeInElastic=function(e,t,n,i){var r=0,o=n;if(0==e)return t;if(1==(e/=i))return t+n;if(r||(r=.3*i),o<Math.abs(n)){o=n;a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return-o*Math.pow(2,10*(e-=1))*Math.sin((e*i-a)*(2*Math.PI)/r)+t},t.easeOutElastic=function(e,t,n,i){var r=0,o=n;if(0==e)return t;if(1==(e/=i))return t+n;if(r||(r=.3*i),o<Math.abs(n)){o=n;a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return o*Math.pow(2,-10*e)*Math.sin((e*i-a)*(2*Math.PI)/r)+n+t},t.easeInOutElastic=function(e,t,n,i){var r=0,o=n;if(0==e)return t;if(2==(e/=i/2))return t+n;if(r||(r=i*(.3*1.5)),o<Math.abs(n)){o=n;a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return e<1?o*Math.pow(2,10*(e-=1))*Math.sin((e*i-a)*(2*Math.PI)/r)*-.5+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*i-a)*(2*Math.PI)/r)*.5+n+t},t.easeInBack=function(e,t,n,i,r){return void 0==r&&(r=1.70158),n*(e/=i)*e*((r+1)*e-r)+t},t.easeOutBack=function(e,t,n,i,r){return void 0==r&&(r=1.70158),n*((e=e/i-1)*e*((r+1)*e+r)+1)+t},t.easeInOutBack=function(e,t,n,i,r){return void 0==r&&(r=1.70158),(e/=i/2)<1?n/2*(e*e*((1+(r*=1.525))*e-r))+t:n/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t},t.easeInBounce=function(e,n,i,r){return i-t.easeOutBounce(r-e,0,i,r)+n},t.easeOutBounce=function(e,t,n,i){return(e/=i)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},t.easeInOutBounce=function(e,n,i,r){return e<r/2?.5*t.easeInBounce(2*e,0,i,r)+n:.5*t.easeOutBounce(2*e-r,0,i,r)+.5*i+n}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var n={exports:{}};t(n.exports,n),e.Impetus=n.exports}}(this,function(e,t){"use strict";function n(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return n=function(){return e},e}var i=.04,r=.11;window.addEventListener("touchmove",function(){});t.exports=function e(t){function a(){b.call(g,N,Q)}function s(e){if("touchmove"===e.type||"touchstart"===e.type||"touchend"===e.type){var t=e.targetTouches[0]||e.changedTouches[0];return{x:t.clientX,y:t.clientY,id:t.identifier}}return{x:e.clientX,y:e.clientY,id:null}}function l(e){var t=s(e);W||K||(W=!0,z=!1,P=t.id,M=x=t.x,B=D=t.y,Y=[],p(M,B),document.addEventListener("touchmove",c,!!n()&&{passive:!1}),document.addEventListener("touchend",u),document.addEventListener("touchcancel",h),document.addEventListener("mousemove",c,!!n()&&{passive:!1}),document.addEventListener("mouseup",u))}function c(e){e.preventDefault();var t=s(e);W&&t.id===P&&(x=t.x,D=t.y,p(M,B),U||o(f),U=!0)}function u(e){var t=s(e);W&&t.id===P&&h()}function h(){W=!1,p(M,B),function(){var e=Y[0],t=Y[Y.length-1],n=t.x-e.x,i=t.y-e.y,r=(t.time-e.time)/15/w;F=n/r||0,j=i/r||0;var a=v();(Math.abs(F)>1||Math.abs(j)>1||!a.inBounds)&&(z=!0,o(m))}(),document.removeEventListener("touchmove",c),document.removeEventListener("touchend",u),document.removeEventListener("touchcancel",h),document.removeEventListener("mouseup",u),document.removeEventListener("mousemove",c)}function p(e,t){for(var n=Date.now();Y.length>0&&!(n-Y[0].time<=100);)Y.shift();Y.push({x:e,y:t,time:n})}function f(){var e=x-M,t=D-B;if(N+=e*w,Q+=t*w,O){var n=v();0!==n.x&&(N-=e*d(n.x)*w),0!==n.y&&(Q-=t*d(n.y)*w)}else v(!0);a(),M=x,B=D,U=!1}function d(e){return 5e-6*Math.pow(e,2)+1e-4*e+.55}function v(e){var t=0,n=0;return void 0!==L&&N<L?t=L-N:void 0!==_&&N>_&&(t=_-N),void 0!==H&&Q<H?n=H-Q:void 0!==R&&Q>R&&(n=R-Q),e&&(0!==t&&(N=t>0?L:_),0!==n&&(Q=n>0?H:R)),{x:t,y:n,inBounds:0===t&&0===n}}function m(){if(z){N+=F*=S,Q+=j*=S;var e=v();if(Math.abs(F)>V||Math.abs(j)>V||!e.inBounds){if(O){if(0!==e.x&&(e.x*F<=0?F+=e.x*i:(t=e.x>0?2.5:-2.5,F=(e.x+t)*r)),0!==e.y)if(e.y*j<=0)j+=e.y*i;else{var t=e.y>0?2.5:-2.5;j=(e.y+t)*r}}else 0!==e.x&&(N=e.x>0?L:_,F=0),0!==e.y&&(Q=e.y>0?H:R,j=0);a(),o(m)}else z=!1}}var y=t.source,g=void 0===y?document:y,b=t.update,C=t.multiplier,w=void 0===C?1:C,A=t.friction,S=void 0===A?.92:A,E=t.initialValues,k=t.boundX,I=t.boundY,T=t.bounce,O=void 0===T||T;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var L,_,H,R,M,B,x,D,P,F,j,N=0,Q=0,V=.3*w,U=!1,W=!1,K=!1,z=!1,Y=[];!function(){if(!(g="string"==typeof g?document.querySelector(g):g))throw new Error("IMPETUS: source not found.");if(!b)throw new Error("IMPETUS: update function not defined.");E&&(E[0]&&(N=E[0]),E[1]&&(Q=E[1]),a()),k&&(L=k[0],_=k[1]),I&&(H=I[0],R=I[1]),g.addEventListener("touchstart",l),g.addEventListener("mousedown",l)}(),this.destroy=function(){return g.removeEventListener("touchstart",l),g.removeEventListener("mousedown",l),null},this.pause=function(){W=!1,K=!0},this.resume=function(){K=!1},this.setValues=function(e,t){"number"==typeof e&&(N=e),"number"==typeof t&&(Q=t)},this.setMultiplier=function(e){V=.3*(w=e)},this.setBoundX=function(e){L=e[0],_=e[1]},this.setBoundY=function(e){H=e[0],R=e[1]}};var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}});var vsm_template='<div id="vsm_modal_base" class="vsm-modal vsm-hide vsm-fade" style="z-index: 9999;" tabindex="-1" role="dialog"> <div class="vsm-modal-dialog"> <div class="vsm-modal-content"> <div class="vsm-modal-header"> <button type="button" class="vsm-close"> </button> </div><div class="vsm-modal-body vsm-option-body vsm-list-body"> <a href="javascript:void(0);" class="vsm-back-link vsm-back-step"> <i class="vsm-back-arrow"></i> </a> <div class="vsm-in-progress"> <p class="vsm-header vsm-center"></p><div class="vsm-line-step center-piece vsm-columns"> </div><div class="vsm-list-container"> <i class="vsm-loaderIcon" alt="Loading options"></i> </div></div><div class="vsm-final"> <div class="center-piece vsm-line-step vsm-columns vehicle-result-wrap"> <div class="vsm-column-2 vsm-before"></div><div class="vsm-column-2 no-style"><i class="dot-style dot-before active"></i></div><p class="vehicle-result-name"></p><p class="vehicle-result-size"></p></div> <div class="center-piece vehicle-image-wrap"> <div style="position: relative; text-align: center; min-height: 120px;"> <i class="vsm-loaderIcon" alt="Loading an image of your vehicle"></i> <img src="" alt="" class="vsm-vehicle-display" style="display: none;"> </div><a href="javascript:void(0);" class="vsm-btn vsm-btn-gray vsm-full-width vsm-find"></a> </div></div></div></div></div></div>',_vsmModalIDCounter=0;"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(e){"use strict";if("Element"in e){var t="prototype",n=e.Element[t],i=Object,r=String[t].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[t].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},a=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},s=function(e,t){if(""===t)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},l=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,o=n.length;i<o;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},c=l[t]=[],u=function(){return new l(this)};if(a[t]=Error[t],c.item=function(e){return this[e]||null},c.contains=function(e){return e+="",-1!==s(this,e)},c.add=function(){var e,t=arguments,n=0,i=t.length,r=!1;do{e=t[n]+"",-1===s(this,e)&&(this.push(e),r=!0)}while(++n<i);r&&this._updateClassName()},c.remove=function(){var e,t,n=arguments,i=0,r=n.length,o=!1;do{for(e=n[i]+"",t=s(this,e);-1!==t;)this.splice(t,1),o=!0,t=s(this,e)}while(++i<r);o&&this._updateClassName()},c.toggle=function(e,t){e+="";var n=this.contains(e),i=n?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),!0===t||!1===t?t:!n},c.toString=function(){return this.join(" ")},i.defineProperty){var h={get:u,enumerable:!0,configurable:!0};try{i.defineProperty(n,"classList",h)}catch(e){void 0!==e.number&&-2146823252!==e.number||(h.enumerable=!1,i.defineProperty(n,"classList",h))}}else i[t].__defineGetter__&&n.__defineGetter__("classList",u)}}(window.self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,i=arguments.length;for(n=0;n<i;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}()),function(e){function t(e,t,n,i){for(var r,o,a=n.slice(),s=function(e,t){return e.currentTarget=t,e.eventPhase=e.target===e.currentTarget?2:3,e}(t,e),l=0,c=a.length;l<c&&("object"==typeof(r=a[l])?"function"==typeof r.handleEvent&&r.handleEvent(s):r.call(e,s),!s.stoppedImmediatePropagation);l++);return o=!s.stoppedPropagation,i&&o&&e.parentNode?e.parentNode.dispatchEvent(s):!s.defaultPrevented}function n(e,t){return{configurable:!0,get:e,set:t}}function i(e,t,i){var r=g(t||e,i);m(e,"textContent",n(function(){return r.get.call(this)},function(e){r.set.call(this,e)}))}function r(e,t){for(var n=e.length;n--&&e[n]!==t;);return n}function o(){if("BR"===this.tagName)return"\n";for(var e=this.firstChild,t=[];e;)8!==e.nodeType&&7!==e.nodeType&&t.push(e.textContent),e=e.nextSibling;return t.join("")}function a(e){var t=document.createEvent("Event");t.initEvent("input",!0,!0),(e.srcElement||e.fromElement||document).dispatchEvent(t)}function s(e){!p&&S.test(document.readyState)&&(p=!p,document.detachEvent(f,s),(e=document.createEvent("Event")).initEvent(d,!0,!0),document.dispatchEvent(e))}function l(e){return function(){return I[e]||document.body&&document.body[e]||0}}function c(e){for(var t;t=this.lastChild;)this.removeChild(t);null!=e&&this.appendChild(document.createTextNode(e))}function u(t,n){return n||(n=e.event),n.target||(n.target=n.srcElement||n.fromElement||document),n.timeStamp||(n.timeStamp=(new Date).getTime()),n}if(!document.createEvent){var h=!0,p=!1,f="onreadystatechange",d="DOMContentLoaded",v="__IE8__"+Math.random(),m=Object.defineProperty||function(e,t,n){e[t]=n.value},y=Object.defineProperties||function(t,n){for(var i in n)if(b.call(n,i))try{m(t,i,n[i])}catch(n){e.console&&console.log(i+" failed on object:",t,n.message)}},g=Object.getOwnPropertyDescriptor,b=Object.prototype.hasOwnProperty,C=e.Element.prototype,w=e.Text.prototype,A=/^[a-z]+$/,S=/loaded|complete/,E={},k=document.createElement("div"),I=document.documentElement,T=I.removeAttribute,O=I.setAttribute,L=function(e){return{enumerable:!0,writable:!0,configurable:!0,value:e}};i(e.HTMLCommentElement.prototype,C,"nodeValue"),i(e.HTMLScriptElement.prototype,null,"text"),i(w,null,"nodeValue"),i(e.HTMLTitleElement.prototype,null,"text"),m(e.HTMLStyleElement.prototype,"textContent",function(e){return n(function(){return e.get.call(this.styleSheet)},function(t){e.set.call(this.styleSheet,t)})}(g(e.CSSStyleSheet.prototype,"cssText")));var _=/\b\s*alpha\s*\(\s*opacity\s*=\s*(\d+)\s*\)/;m(e.CSSStyleDeclaration.prototype,"opacity",{get:function(){var e=this.filter.match(_);return e?(e[1]/100).toString():""},set:function(e){this.zoom=1;var t=!1;e=e<1?" alpha(opacity="+Math.round(100*e)+")":"",this.filter=this.filter.replace(_,function(){return t=!0,e}),!t&&e&&(this.filter+=e)}}),y(C,{textContent:{get:o,set:c},firstElementChild:{get:function(){for(var e=this.childNodes||[],t=0,n=e.length;t<n;t++)if(1==e[t].nodeType)return e[t]}},lastElementChild:{get:function(){for(var e=this.childNodes||[],t=e.length;t--;)if(1==e[t].nodeType)return e[t]}},oninput:{get:function(){return this._oninput||null},set:function(e){this._oninput&&(this.removeEventListener("input",this._oninput),this._oninput=e,e&&this.addEventListener("input",e))}},previousElementSibling:{get:function(){for(var e=this.previousSibling;e&&1!=e.nodeType;)e=e.previousSibling;return e}},nextElementSibling:{get:function(){for(var e=this.nextSibling;e&&1!=e.nodeType;)e=e.nextSibling;return e}},childElementCount:{get:function(){for(var e=0,t=this.childNodes||[],n=t.length;n--;e+=1==t[n].nodeType);return e}},addEventListener:L(function(e,n,i){if("function"==typeof n||"object"==typeof n){var o,s,l=this,c="on"+e,h=l[v]||m(l,v,{value:{}})[v],p=h[c]||(h[c]={}),f=p.h||(p.h=[]);if(!b.call(p,"w")){if(p.w=function(e){return e[v]||t(l,u(0,e),f,!1)},!b.call(E,c))if(A.test(e)){try{(o=document.createEventObject())[v]=!0,9!=l.nodeType&&(null==l.parentNode&&k.appendChild(l),(s=l.getAttribute(c))&&T.call(l,c)),l.fireEvent(c,o),E[c]=!0}catch(e){for(E[c]=!1;k.hasChildNodes();)k.removeChild(k.firstChild)}null!=s&&O.call(l,c,s)}else E[c]=!1;(p.n=E[c])&&l.attachEvent(c,p.w)}r(f,n)<0&&f[i?"unshift":"push"](n),"input"===e&&l.attachEvent("onkeyup",a)}}),dispatchEvent:L(function(e){var n,i="on"+e.type,r=this[v],o=r&&r[i],a=!!o;return e.target||(e.target=this),a?o.n?this.fireEvent(i,e):t(this,e,o.h,!0):!(n=this.parentNode)||n.dispatchEvent(e),!e.defaultPrevented}),removeEventListener:L(function(e,t,n){if("function"==typeof t||"object"==typeof t){var i="on"+e,o=this[v],a=o&&o[i],s=a&&a.h,l=s?r(s,t):-1;-1<l&&s.splice(l,1)}})}),y(w,{addEventListener:L(C.addEventListener),dispatchEvent:L(C.dispatchEvent),removeEventListener:L(C.removeEventListener)}),y(e.XMLHttpRequest.prototype,{addEventListener:L(function(e,t,n){var i=this,o="on"+e,a=i[v]||m(i,v,{value:{}})[v],s=a[o]||(a[o]={}),l=s.h||(s.h=[]);r(l,t)<0&&(i[o]||(i[o]=function(){var t=document.createEvent("Event");t.initEvent(e,!0,!0),i.dispatchEvent(t)}),l[n?"unshift":"push"](t))}),dispatchEvent:L(function(e){var n="on"+e.type,i=this[v],r=i&&i[n];return!!r&&(r.n?this.fireEvent(n,e):t(this,e,r.h,!0))}),removeEventListener:L(C.removeEventListener)});var H=g(Event.prototype,"button").get;y(e.Event.prototype,{bubbles:L(!0),cancelable:L(!0),preventDefault:L(function(){this.cancelable&&(this.returnValue=!1)}),stopPropagation:L(function(){this.stoppedPropagation=!0,this.cancelBubble=!0}),stopImmediatePropagation:L(function(){this.stoppedImmediatePropagation=!0,this.stopPropagation()}),initEvent:L(function(e,t,n){this.type=e,this.bubbles=!!t,this.cancelable=!!n,this.bubbles||this.stopPropagation()}),pageX:{get:function(){return this._pageX||(this._pageX=this.clientX+e.scrollX-(I.clientLeft||0))}},pageY:{get:function(){return this._pageY||(this._pageY=this.clientY+e.scrollY-(I.clientTop||0))}},which:{get:function(){return this.keyCode?this.keyCode:isNaN(this.button)?void 0:this.button+1}},charCode:{get:function(){return this.keyCode&&"keypress"==this.type?this.keyCode:0}},buttons:{get:function(){return H.call(this)}},button:{get:function(){var e=this.buttons;return 1&e?0:2&e?2:4&e?1:void 0}},defaultPrevented:{get:function(){var e=this.returnValue;return!(void 0===e||e)}},relatedTarget:{get:function(){var e=this.type;return"mouseover"===e?this.fromElement:"mouseout"===e?this.toElement:null}}}),y(e.HTMLDocument.prototype,{defaultView:{get:function(){return this.parentWindow}},textContent:{get:function(){return 11===this.nodeType?o.call(this):null},set:function(e){11===this.nodeType&&c.call(this,e)}},addEventListener:L(function(t,n,i){var r=this;C.addEventListener.call(r,t,n,i),h&&t===d&&!S.test(r.readyState)&&(h=!1,r.attachEvent(f,s),e==top&&function e(t){try{r.documentElement.doScroll("left"),s()}catch(t){setTimeout(e,50)}}())}),dispatchEvent:L(C.dispatchEvent),removeEventListener:L(C.removeEventListener),createEvent:L(function(e){var t;if("Event"!==e)throw new Error("unsupported "+e);return t=document.createEventObject(),t.timeStamp=(new Date).getTime(),t})}),y(e.Window.prototype,{getComputedStyle:L(function(){function e(e){this._=e}function t(){}var n=/^(?:[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/,i=/^(top|right|bottom|left)$/,r=/\-([a-z])/g,o=function(e,t){return t.toUpperCase()};return e.prototype.getPropertyValue=function(e){var t,a,s,l=this._,c=l.style,u=l.currentStyle,h=l.runtimeStyle;return"opacity"==e?c.opacity||"1":(e=("float"===e?"style-float":e).replace(r,o),t=u?u[e]:c[e],n.test(t)&&!i.test(e)&&(a=c.left,(s=h&&h.left)&&(h.left=u.left),c.left="fontSize"===e?"1em":t,t=c.pixelLeft+"px",c.left=a,s&&(h.left=s)),null==t?t:t+""||"auto")},t.prototype.getPropertyValue=function(){return null},function(n,i){return i?new t(n):new e(n)}}()),addEventListener:L(function(n,i,o){var a,s=e,l="on"+n;s[l]||(s[l]=function(e){return t(s,u(0,e),a,!1)&&void 0}),r(a=s[l][v]||(s[l][v]=[]),i)<0&&a[o?"unshift":"push"](i)}),dispatchEvent:L(function(t){var n=e["on"+t.type];return!n||!1!==n.call(e,t)&&!t.defaultPrevented}),removeEventListener:L(function(t,n,i){var o=(e["on"+t]||Object)[v],a=o?r(o,n):-1;-1<a&&o.splice(a,1)}),pageXOffset:{get:l("scrollLeft")},pageYOffset:{get:l("scrollTop")},scrollX:{get:l("scrollLeft")},scrollY:{get:l("scrollTop")},innerWidth:{get:l("clientWidth")},innerHeight:{get:l("clientHeight")}}),e.HTMLElement=e.Element,function(e,t,n){for(n=0;n<t.length;n++)document.createElement(t[n]);e.length||document.createStyleSheet(""),e[0].addRule(t.join(","),"display:block;")}(document.styleSheets,["header","nav","section","article","aside","footer"])}}(this.window||global),function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),r=window.setTimeout(function(){t(n+i)},i);return e=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();!function(e){!function(e){var t;!function(n){(t=e.auth||(e.auth={})).validate=function(){return e.request("auth/validate")}}()}(e.api||(e.api={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(t){var n;!function(i){function r(e){if("string"!=typeof e||!e)return!!e;var t=e[0];return"y"===t||"Y"===t||"t"===t||"T"===t}var o={EnableSharing:!0,SuspensionRanges:{Default:{Min:-4,Max:0},Truck4WD:{Min:-4,Max:4},Van4WD:{Min:-4,Max:4}},UseRawTireDescription:!1};(n=t.settings||(t.settings={})).getSettings=function(){return e.PromiseHelper.then(t.request("organization/getsettings",{Keys:["ENABLE_SHARING","SUSPENSION_RANGES","RAWTIREDESC"]}),function(e){var t=e.Settings;return t?{EnableSharing:r(t.ENABLE_SHARING||o.EnableSharing),SuspensionRanges:function(e){if(!e)return o.SuspensionRanges;try{return JSON.parse(e)}catch(e){return console.error(e),o.SuspensionRanges}}(t.SUSPENSION_RANGES),UseRawTireDescription:r(t.RAWTIREDESC||o.UseRawTireDescription)}:o})}}()}(e.api||(e.api={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(){return 1===e.authenticated.state()}e.initialize=function(t){if(t){if("username"in t&&"password"in t)return t=t,void ridestyler.auth.start({data:{Username:t.username,Password:t.password},callback:function(t){t.Success?e.authenticated.resolve():e.authenticated.reject()}});("token"in t||"key"in t)&&ridestyler.auth.set(t)}return e.auth.validate().done(function(){var t=ridestyler.ajax.url("",void 0);/\/api-alpha\./i.test(t)?e.environment=n.Alpha:/\/api-beta\./i.test(t)?e.environment=n.Beta:/\/api\./i.test(t)?e.environment=n.Live:e.environment=n.Other,e.authenticated.resolve()}).fail(function(){return e.authenticated.reject()}),e.authenticated},e.authenticated=ridestyler.promise(),e.isAuthenticated=t,e.afterAuthenticated=function(n){t()?n():e.authenticated.done(function(){return n()})},e.request=function(e,t){var n=ridestyler.promise();return ridestyler.ajax.send({action:e,data:t,callback:function(e){e.Success?n.resolve(e):n.reject(e)}}),n},e.getURL=function(e,t){return ridestyler.ajax.url(e,t)};var n=void 0;!function(e){e[e.Alpha=0]="Alpha",e[e.Beta=1]="Beta",e[e.Live=2]="Live",e[e.Other=3]="Other"}(n=e.Environment||(e.Environment={}))}(e.api||(e.api={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.eventHandlers={}}return _createClass(t,[{key:"on",value:function(e,t){e in this.eventHandlers==!1&&(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)}},{key:"off",value:function(t,n){t in this.eventHandlers!=!1&&(this.eventHandlers[t]=e.ArrayHelper.remove(this.eventHandlers[t],n))}},{key:"trigger",value:function(e,t){if("function"==typeof this.debugCallback&&this.debugCallback(e,t,this.eventHandlers[e]||[]),e in this.eventHandlers==!1)return!0;var n=!0,i=!1,r=void 0;try{for(var o,a=this.eventHandlers[e][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(!1===(0,o.value)(t))return!1}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return!0}}]),t}();t.EventHandler=n}(e.events||(e.events={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(t){var n=function(){function e(){_classCallCheck(this,e),this.globalFilters=new o,this.tireFilters=new a(this.globalFilters),this.wheelFilters=new s(this.globalFilters)}return _createClass(e,[{key:"setVehicle",value:function(e){this.clearFilters(!1),this.globalFilters.setVehicle(e)}},{key:"clearFilters",value:function(e){this.globalFilters.clear(e),this.tireFilters.clear(e),this.wheelFilters.clear(e)}}]),e}();t.FilterController=n;var i=function(){function t(e,n){_classCallCheck(this,t),this.type=e,this.currentFilters={},this.globalFilterProvider=n}return _createClass(t,[{key:"triggerFilterChange",value:function(){"function"==typeof this.onFiltersChanged&&this.onFiltersChanged(this.getFilters())}},{key:"previewFilters",value:function(t){var n=this.globalFilterProvider?this.globalFilterProvider.getFilters():{},i={},r=(this.baseFilters,!0),o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=c.key,h=c.value;this.setFilter(u,h,i)}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return e.ObjectHelper.assign({},this.baseFilters,n,i)}},{key:"getFilters",value:function(){var t=this.globalFilterProvider?this.globalFilterProvider.getFilters():{};return e.ObjectHelper.assign({},this.baseFilters,t,this.currentFilters)}},{key:"retrieveOptions",value:function(e){return e.retrieveOptions(this.globalFilterProvider.getFilters())}},{key:"setFilter",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentFilters,i=this.findFilterOption(e);i&&i.apply(n,t)}},{key:"findFilterOption",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.filterOptions[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.key===e)return a}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"setFilters",value:function(e,t,n){var i={},r=void 0;"string"==typeof e?r=[{key:e,value:t}]:(r=e,"boolean"==typeof t&&(n=t));var o=!0,a=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,h=u.key,p=u.value;this.setFilter(h,p,i)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}var f=!1;for(var h in i)if(i.hasOwnProperty(h)){var d=i[h];d!==this.currentFilters[h]&&(this.currentFilters[h]=d,f=!0)}return void 0===n&&(n=!0),f&&n&&this.triggerFilterChange(),f}},{key:"clear",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.currentFilters={},e&&this.triggerFilterChange()}}]),t}();t.FilterProvider=i;var r="vehicle-config",o=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"global",void 0));return e.baseFilters={HasFitments:!0},e.currentFilters={},e.filterOptions=[{key:r,visible:!1,apply:function(e,t){var n=t.vehicleConfigurationID,i=t.vehicleTireOptionID;n&&(e.VehicleConfiguration=n),i&&(e.VehicleTireOption=i)}}],e}return _inherits(t,i),_createClass(t,[{key:"setVehicle",value:function(e){this.setFilter(r,e)}},{key:"getCount",value:function(){throw"Cannot count GlobalFilterModel"}}]),t}();t.GlobalFilterProvider=o;var a=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"tire",t));return i.baseFilters={RequiredFitmentResourceTypes:[2]},i.filterOptions=[{label:e.strings.getString("brands"),unselectedOptionLabel:e.strings.getString("all-brands"),key:"tire-brand",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("tire/getbrands",t),function(t){return e.ArrayHelper.map(t.Brands,function(e){return{label:e.TireBrandName,value:e.TireBrandID}})})},getValueFromFilters:function(e){return e.TireBrand},apply:function(e,t){e.TireBrand=t}},{label:e.strings.getString("features"),unselectedOptionLabel:e.strings.getString("any-features"),key:"tire-model-attribute",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("tire/getmodelattributes",t),function(t){return e.ArrayHelper.map(t.Attributes,function(e){return{label:e.TireModelAttributeName,value:e.TireModelAttributeID}})})},getValueFromFilters:function(e){return e.RequiredTireModelAttribute},apply:function(e,t){e.RequiredTireModelAttribute=t}},{label:e.strings.getString("speed-rating"),unselectedOptionLabel:e.strings.getString("any-speed-ratings"),key:"tire-speed-rating",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("tire/getspeedratings",t),function(t){return e.ArrayHelper.map(t.SpeedRatings,function(e){return{label:e.TireSpeedRatingCode,value:e.TireSpeedRatingID}})})},getValueFromFilters:function(e){return e.SpeedRating},apply:function(e,t){e.SpeedRating=t}}],i}return _inherits(n,i),_createClass(n,[{key:"getCount",value:function(t){return e.PromiseHelper.then(e.api.request("tire/countmodels",t),function(e){return e.Count})}}]),n}();t.TireFilterProvider=a;var s=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"wheel",t));return i.baseFilters={FitmentResourceTypes:[2,3,1]},i.filterOptions=[{label:e.strings.getString("brands"),unselectedOptionLabel:e.strings.getString("all-brands"),key:"wheel-brand",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("wheel/getbrands",t),function(t){return e.ArrayHelper.map(t.Brands,function(e){return{label:e.WheelBrandName,value:e.WheelBrandID}})})},getValueFromFilters:function(e){return e.WheelBrand},apply:function(e,t){e.WheelBrand=t}},{label:e.strings.getString("finishes"),unselectedOptionLabel:e.strings.getString("all-finishes"),key:"wheel-finish",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("wheel/getfinishes",t),function(t){return e.ArrayHelper.map(t.Finishes,function(e){return{label:e.WheelFinishCategoryName,value:e.WheelFinishCategoryID}})})},getValueFromFilters:function(e){return e.WheelFinishCategory},apply:function(e,t){e.WheelFinishCategory=t}},{label:e.strings.getString("sizes"),unselectedOptionLabel:e.strings.getString("all-sizes"),key:"wheel-size",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("wheel/getdiameters",t),function(t){return e.ArrayHelper.map(t.Diameters,function(e){return{label:e.toString(),value:e}})})},getValueFromFilters:function(e){return function(e,t){var n=!0,i=!1,r=void 0;try{for(var o,a=(e.FitmentFilters||[])[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.GroupKey===l)return s[t]}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}(e,"Diameter")},apply:function(t,n){t.FitmentFilters||(t.FitmentFilters=[]),function(t,n){var i=t.FitmentFilters||[],r=void 0,o=!0,a=!1,s=void 0;try{for(var c,u=i[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;if(h.GroupKey===l){r=h;break}}}catch(e){a=!0,s=e}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}r?(e.ObjectHelper.assign(r,n),r.GroupKey=l):(n.GroupKey=l,i.push(n),t.FitmentFilters=i)}(t,{Diameter:n})}}],i}return _inherits(n,i),_createClass(n,[{key:"getCount",value:function(t){return e.PromiseHelper.then(e.api.request("wheel/countmodels",t),function(e){return e.Count})}}]),n}();t.WheelFilterProvider=s;var l="ridestyler-showcase-filters"}(e.filters||(e.filters={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(e){e[e.ChooseVehicle=0]="ChooseVehicle",e[e.Visualize=1]="Visualize"}(e.States||(e.States={}))}(RideStylerShowcase||(RideStylerShowcase={})),function(e){!function(e){var t=function(){function e(t){_classCallCheck(this,e),this.state=t,this.exitCallbacks=[],this.enterCallbacks=[]}return _createClass(e,[{key:"triggerExitCallbacks",value:function(e,t,n){var i=!0,r=!1,o=void 0;try{for(var a,s=this.exitCallbacks[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){if(!1===(0,a.value)(e,t,n))return!1}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return!0}},{key:"triggerEnterCallbacks",value:function(e,t,n){var i=!0,r=!1,o=void 0;try{for(var a,s=this.enterCallbacks[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){if(!1===(0,a.value)(e,t,n))return!1}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return!0}}]),e}(),n=function(){function e(t){_classCallCheck(this,e),this.currentData={currentVehicleConfigurationID:void 0,currentVehicleDescription:void 0,vehicleHasAngledImage:void 0,vehicleHasSideImage:void 0,currentVehicleTireOptionDescription:void 0,currentVehicleTireOptionID:void 0,currentPaintScheme:void 0,currentTire:void 0,currentWheel:void 0,currentWheelFitment:void 0,currentTireOption:void 0,currentVehicleDescriptionModel:void 0},this.callbacks={},this.changeCallbacks=[],this.dataChangedCallbacks=[],this.currentState=t}return _createClass(e,[{key:"getData",value:function(){return this.currentData}},{key:"setData",value:function(e){var t=[],n=[],i=!0,r=!1,o=void 0;try{for(var a,s=this.dataChangedCallbacks[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,c=l.callback;l.before?t.push(c):n.push(c)}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}var u=!0,h=!1,p=void 0;try{for(var f,d=t[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){(c=f.value)(e)}}catch(e){h=!0,p=e}finally{try{!u&&d.return&&d.return()}finally{if(h)throw p}}this.currentData=e;var v=!0,m=!1,y=void 0;try{for(var g,b=n[Symbol.iterator]();!(v=(g=b.next()).done);v=!0){(0,g.value)(this.currentData)}}catch(e){m=!0,y=e}finally{try{!v&&b.return&&b.return()}finally{if(m)throw y}}}},{key:"extendData",value:function(e){var t=!1,n={},i=this.currentData;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r],a=e[r];r in e&&o!==a?(t=!0,n[r]=a):n[r]=o}t&&this.setData(n)}},{key:"callbacksForState",value:function(e){return e in this.callbacks?this.callbacks[e]:this.callbacks[e]=new t(e)}},{key:"onExit",value:function(e,t){this.callbacksForState(e).exitCallbacks.push(t)}},{key:"onEnter",value:function(e,t){this.callbacksForState(e).enterCallbacks.push(t)}},{key:"onChange",value:function(e){this.changeCallbacks.push(e)}},{key:"beforeDataChange",value:function(e){this.dataChangedCallbacks.push({callback:e,before:!0})}},{key:"afterDataChange",value:function(e){this.dataChangedCallbacks.push({callback:e,before:!1})}},{key:"changeState",value:function(e,t){if(this.currentState!==e){var n=this.currentState;t&&this.setData(t);var i={oldState:n,newState:e,newData:this.currentData};"function"==typeof this.debugCallback&&this.debugCallback(i,!1);var r=!0,o=!1,a=void 0;try{for(var s,l=this.changeCallbacks[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){if(!(0,s.value)(i))return}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}!1!==this.callbacksForState(n).triggerExitCallbacks(n,e,this.currentData)&&!1!==this.callbacksForState(e).triggerEnterCallbacks(n,e,this.currentData)&&("function"==typeof this.debugCallback&&this.debugCallback(i,!0),this.currentState=e)}}}]),e}();e.RideStylerShowcaseState=n}(e.state||(e.state={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t={currency:function(e,t){return t+(+e.toFixed(2)).toLocaleString()}};!function(e){e[e.En=0]="En"}(e.LanguageKeys||(e.LanguageKeys={}));var n=function(){function e(t){_classCallCheck(this,e),this.language=t,this.format=t.format}return _createClass(e,[{key:"getString",value:function(e){return this.language[e]}}]),e}(),i=void 0,r={};!function(e){function o(e){return e in r?r[e]:i}e.registerLanguage=function(e,o,a){if(o.format)for(var s in t)t.hasOwnProperty(s)&&s in o.format==0&&(o.format[s]=t[s]);else o.format=t;var l=r[e]=new n(o);!a&&i||(i=l)},e.setDefaultLanguage=function(e){return e in r&&(i=r[e],!0)},e.languageIsRegistered=function(e){return e in r},e.getString=function(e,t){var n=void 0;return(n=o(t).getString(e))?n:e},e.format=function(e){return o(e).format}}(e.strings||(e.strings={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(t){var n=[["phone-portrait",319],["phone-landscape",420],["tablet",768],["desktop",992],["desktop-xl",1200],["tv",1600]],i=function(){function t(e){_classCallCheck(this,t),this.element=e,this.initialized=ridestyler.promise(),this.initializeBreakpoints(),this.watchSize(),this.initializeCSS(),this.resolveOnDOMLoad(),this.initializeStyleClasses()}return _createClass(t,[{key:"resolveOnDOMLoad",value:function(){var e=this;"complete"!==document.readyState?window.addEventListener("load",function(){return e.initialized.resolve()},!1):this.initialized.resolve()}},{key:"initializeCSS",value:function(){if(e.StyleHelper.isOffsetPositioned(this.element)||(this.element.style.position="relative"),"css"in e!=!1){var t=this.element.ownerDocument,n=t.getElementsByTagName("head").item(0);n||(n=document.createElement("head"),t.documentElement.insertBefore(n,t.firstChild));var i=document.createElement("style");i.appendChild(document.createTextNode(e.css)),n.insertBefore(i,e.HTMLHelper.firstChildWithTag(n,"STYLE")),delete e.css}}},{key:"initializeStyleClasses",value:function(){e.StyleHelper.isTouchDevice&&this.element.classList.add("is-touch")}},{key:"initializeBreakpoints",value:function(){var t=this;switch(n.sort(function(e,t){return e[1]-t[1]}),this.applyBreakpointClasses(),document.readyState){case"loading":e.HTMLHelper.getDocument(this.element).addEventListener("DOMContentLoaded",function(){return t.applyBreakpointClasses()});case"interactive":e.HTMLHelper.getWindow(this.element).addEventListener("load",function(){return t.applyBreakpointClasses()})}}},{key:"resize",value:function(){this.applyBreakpointClasses(),"function"==typeof this.onResize&&this.onResize()}},{key:"resized",value:function(){"function"==typeof this.onResized&&this.onResized()}},{key:"breakpointChanged",value:function(e){"function"==typeof this.onBreakpointChanged&&this.onBreakpointChanged(e)}},{key:"watchSize",value:function(){var t=this,n=this.element,i=void 0,r={width:n.clientWidth,height:n.clientHeight};e.HTMLHelper.getWindow(n).addEventListener("resize",function(){var e={width:n.clientWidth,height:n.clientHeight};e.width===r.width&&e.height===r.height||(r=e,t.resize(),clearTimeout(i),i=setTimeout(function(){t.resized()},200))},!1)}},{key:"getCurrentBreakpoint",value:function(){return this.currentBreakpoint}},{key:"applyBreakpointClasses",value:function(){var e=this.element,t=e.offsetHeight,i=e.offsetWidth;if(t&&i){var r=void 0,o=void 0;for(o=n.length-1;o>=0&&!(n[o][1]<=i);o--);if((r=o>=0?n[o]:void 0)!==this.currentBreakpoint){this.currentBreakpoint=r;var a=e.className,s=a;s=s.replace(/\bridestyler-showcase-breakpoint-.+?(?= |$)/gi,"").trim(),r&&(s+=" ridestyler-showcase-breakpoint-"+r[0]),s!==a&&(e.className=s,this.breakpointChanged(r))}}}}]),t}();t.StyleManager=i}(e.styles||(e.styles={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(){function t(n,i){_classCallCheck(this,t),this.activeLoadingSessionKeys=[],this.settings=i||{},this.settings.debug=this.settings.debug||{},this.events=new e.events.EventHandler,!0===this.settings.debug.events&&(this.events.debugCallback=function(e,t,n){"resize"!==e&&console.log("[RideStylerShowcase Event] Name:"+e+" Data:",t,n)}),n&&("string"==typeof n&&((n=document.getElementById(n))||console.error('The ID "'+n+'" could not be found in the DOM.')),this.initialize(n))}return _createClass(t,[{key:"registerComponents",value:function(){this.events;this.otherComponents=[new e.RideStylerShowcaseBackground(this)],this.stateComponentMapping={},this.stateComponentMapping[e.States.ChooseVehicle]=new e.RideStylerShowcaseVehicleSelection(this),this.stateComponentMapping[e.States.Visualize]=new e.RideStylerShowcaseVehicleVisualization(this),this.mainComponents=[];for(var t in this.stateComponentMapping)this.mainComponents.push(this.stateComponentMapping[t])}},{key:"initialize",value:function(t){var n=this;if(!t)throw"Cannot initialize showcase without a container to put it in.";this.container=e.ObjectHelper.assign(t,{ridestylerShowcase:this}),this.initializeState(),this.registerComponents(),e.api.initialize(this.settings),this.initializeStyle(),this.initializeFilters(),this.initializeComponents(),this.events.on("vehicle-selected",function(t){return n.state.changeState(e.States.Visualize,{currentVehicleConfigurationID:t.VehicleConfiguration,currentVehicleDescription:t.VehicleDescription,currentVehicleTireOptionID:t.TireOptionID,currentVehicleTireOptionDescription:t.TireOptionString,currentPaintScheme:void 0,vehicleHasAngledImage:void 0,vehicleHasSideImage:void 0,currentTire:void 0,currentWheel:void 0,currentWheelFitment:void 0,currentTireOption:void 0,currentVehicleDescriptionModel:void 0}),!0});var i=e.PromiseHelper.then(e.api.authenticated,function(){return e.api.settings.getSettings().done(function(e){n.settingsFromAPI=e})});e.PromiseHelper.all([this.style.initialized,i]).done(function(){n.events.trigger("initialized",void 0)}),this.onStateChanged({newState:this.state.currentState,oldState:void 0,newData:void 0})}},{key:"initializeState",value:function(){var t=this;this.state=new e.state.RideStylerShowcaseState(e.States.ChooseVehicle),!0===this.settings.debug.state&&(this.state.debugCallback=function(t,n){var i=n?"Finished":"Beginning",r="to "+e.States[t.newState];"number"==typeof t.oldState&&(r="from "+e.States[t.oldState]+" "+r),console.log("[RideStylerShowcase State] "+r+" "+i,t)}),this.state.onChange(function(e){return t.events.trigger("state-changed",e)&&t.onStateChanged(e)})}},{key:"initializeStyle",value:function(){var t=this;this.style=new e.styles.StyleManager(this.container),this.style.onResize=function(){return t.events.trigger("resize",void 0)},this.style.onResized=function(){return t.events.trigger("resized",void 0)},this.style.onBreakpointChanged=function(e){return t.events.trigger("breakpoint-changed",e)},this.container.classList.contains("ridestyler-showcase")||this.container.classList.add("ridestyler-showcase")}},{key:"initializeFilters",value:function(){var t=this;this.filters=new e.filters.FilterController,this.events.on("vehicle-selected",function(e){t.filters.setVehicle({vehicleConfigurationID:e.VehicleConfiguration,vehicleTireOptionID:e.TireOptionID})})}},{key:"initializeComponents",value:function(){var e=this.container,t=!0,n=!1,i=void 0;try{for(var r,o=this.otherComponents[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e.appendChild(a.component)}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}var s=!0,l=!1,c=void 0;try{for(var u,h=this.mainComponents[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var p=u.value;p.setVisible(!1),e.appendChild(p.component)}}catch(e){l=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}}},{key:"onStateChanged",value:function(e){return this.updateCurrentComponent(e),!0}},{key:"updateCurrentComponent",value:function(t){var n=this.stateComponentMapping[t.newState],i=void 0,r="ridestyler-showcase-state-";"number"==typeof t.oldState&&(i=this.stateComponentMapping[t.oldState],this.container.classList.remove(r+e.States[t.oldState].toLowerCase())),this.container.classList.add(r+e.States[t.newState].toLowerCase()),i&&i.isVisible()?i.hide(function(){n.show()}):n.show()}}]),t}();e.RideStylerShowcaseInstance=t,e.create=function(e,n){return new t(e,n)}}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(){function e(t){_classCallCheck(this,e),this.showcase=t,this.events=t.events,this.state=t.state,this.initializeComponent()}return _createClass(e,[{key:"initializeComponent",value:function(){}}]),e}();e.ComponentBase=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return i.component=document.createElement("div"),i.component.classList.add("ridestyler-showcase-main-component"),e.StyleHelper.transitionsSupported&&i.component.addEventListener(e.StyleHelper.transitionEndEvent,function(e){e.target===i.component&&i.onTransitionEnd()}),i.setVisible(!1),i.buildComponent(i.component),i.initializeMainComponent(),i}return _inherits(n,t),_createClass(n,[{key:"initializeComponent",value:function(){}},{key:"initializeMainComponent",value:function(){}},{key:"isVisible",value:function(){return this._visible}},{key:"setVisible",value:function(t){var n=this;this._visible!==t&&(this._visible=t,this.setVisibleStyling(t),e.StyleHelper.skipTransition(this.component,function(){return t?n.show():n.hide()}))}},{key:"setVisibleStyling",value:function(e){var t=this.component.style;e?(t.visibility="visible",t.top=""):(t.visibility="hidden",t.top="1000%")}},{key:"callWhenDoneAnimating",value:function(t){var n=this;this._animating?e.StyleHelper.onNextTransitionEnd(this.component,function(){return t.call(n)}):t.call(this)}},{key:"onShow",value:function(){}},{key:"onDisplay",value:function(){}},{key:"onShown",value:function(){}},{key:"onHide",value:function(){}},{key:"onHidden",value:function(){}},{key:"show",value:function(t){var n=this;if(this.component.classList.contains("in"))return this._visible=!0,void("function"==typeof t&&this.callWhenDoneAnimating(t));this._animating?e.StyleHelper.onNextTransitionEnd(this.component,function(){return n.show(t)}):(this._visible=!0,this._animating=e.StyleHelper.transitionsSupported,this.onShow(),this.setVisibleStyling(!0),e.StyleHelper.triggerReflow(this.component),this.onDisplay(),this.callWhenDoneAnimating(function(){this.onShown(),"function"==typeof t&&t.call(this)}),this.component.classList.add("in"))}},{key:"hide",value:function(t){var n=this;if(!this.component.classList.contains("in"))return this._visible=!1,void("function"==typeof t&&this.callWhenDoneAnimating(t));this._animating?e.StyleHelper.onNextTransitionEnd(this.component,function(){return n.hide(t)}):(this._visible=!1,this._animating=e.StyleHelper.transitionsSupported,this.onHide(),this.callWhenDoneAnimating(function(){this.onHidden(),"function"==typeof t&&t.call(this)}),this.component.classList.remove("in"),e.StyleHelper.transitionsSupported||this.setVisibleStyling(!1))}},{key:"onTransitionEnd",value:function(){this.component.classList.contains("in")||this.setVisibleStyling(!1),this._animating=!1}}]),n}(e.ComponentBase);e.MainComponentBase=t}(RideStylerShowcase||(RideStylerShowcase={}));var _slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t={width:200,height:200},n={width:50,height:50},i={width:800,height:800},r={PositionY:0,PositionX:0},o=function(){function o(t,n){var i=this;if(_classCallCheck(this,o),this.resizeCallback=function(){i.update()},this.container=t,this.action=n.action,this.image=document.createElement("img"),this.container.appendChild(this.image),this.events=[],n.transitionClass&&(this.image.classList.add(n.transitionClass),this.useTransitions=!0),this.transitionInClass=n.transitionInClass,void 0===n.padding?this.padding=e.StyleHelper.calculatePadding:!1===n.padding?this.padding={width:0,height:0}:this.padding=n.padding,this.imageLoadCallback=n.onLoad,this.imageErrorCallback=n.onError,this.image.addEventListener("error",function(e){return i.onImageError(e)}),this.image.addEventListener("load",function(e){return i.onImageLoad(e)}),"object"===_typeof(n.baseInstructions)&&(this.baseInstructions=n.baseInstructions),this.instructions&&!1!==n.loadInitially&&this.update(this.instructions),!1!==n.listenToWindowResize){var r=void 0,a=function(){clearTimeout(r),r=setTimeout(function(){i.update()},500)};window.addEventListener("resize",a,!1),this.events.push([window,"resize",a])}}return _createClass(o,[{key:"destroy",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.events[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value,a=_slicedToArray(o,3),s=a[0],l=a[1],c=a[2];s.removeEventListener(l,c)}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}}},{key:"onImageError",value:function(e){"function"==typeof this.imageErrorCallback&&this.imageErrorCallback(this.image,e)}},{key:"onImageLoad",value:function(e){"function"==typeof this.imageLoadCallback&&this.imageLoadCallback(this.image,e),this.visible||this.show()}},{key:"show",value:function(){var t=this;this.visible||(this.useTransitions&&e.VisibilityHelper.show(this.image,this.transitionInClass).done(function(){"function"==typeof t.imageDisplayCallback&&t.imageDisplayCallback(t.image)}),this.visible=!0)}},{key:"calculateRenderSize",value:function(){var r=this.container,o=r.clientWidth,a=r.clientHeight;if(!a||!o)return t;var s="function"==typeof this.padding?this.padding(this.container):this.padding,l={width:o-s.width,height:a-s.height},c=window.devicePixelRatio||1;return l.width*=c,l.height*=c,e.BoxHelper.floor(e.BoxHelper.bound(l,n,i))}},{key:"sizeIsDifferent",value:function(e){if(!this.currentSize)return!0;var t=this.currentSize,n=t.width,i=t.height,r=e.width,o=e.height;return n!==r||i!==o}},{key:"update",value:function(t){var n=!1;t&&this.instructions!==t&&(this.instructions=t,n=!0);var i=this.calculateRenderSize();if(this.sizeIsDifferent(i)&&(this.currentSize=i,n=!0),n){var o=this.currentSize,a=o.width,s=o.height;this.image.src=ridestyler.ajax.url(this.action,e.ObjectHelper.assign({Width:a,Height:s},r,this.baseInstructions,this.instructions))}}}]),o}();e.ResizeableResourceImage=o}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,t),_createClass(n,[{key:"initializeComponent",value:function(){var t=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-background"});e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-background-texture",appendTo:t});this.component=t}}]),n}(e.ComponentBase);e.RideStylerShowcaseBackground=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-button-picker",n=t+"-option",i=n+"-active",r=function(r){function o(n,i){_classCallCheck(this,o);var r=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,n));return r.component=e.HTMLHelper.createElement("div",{className:t}),e.HTMLHelper.createElement("div",{className:t+"-title",text:i.title,appendTo:r.component}).addEventListener("click",function(){r.optionContainer.style.display="none"==r.optionContainer.style.display?"":"none"}),r.optionContainer=e.HTMLHelper.createElement("div",{className:t+"-option-container",appendTo:r.component,style:{display:"none"}}),r.optionContainer.addEventListener("click",function(e){return r.onOptionClick(e)}),r}return _inherits(o,r),_createClass(o,[{key:"setOptions",value:function(t){e.HTMLHelper.empty(this.optionContainer);var r=document.createDocumentFragment(),o=!0,a=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,h=Object.assign(e.HTMLHelper.createElement("div",{className:n,text:u.label}),{value:u.value});u.active&&h.classList.add(i),r.appendChild(h)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}this.optionContainer.appendChild(r)}},{key:"onOptionClick",value:function(t){for(var r=t.target;r!==this.optionContainer;){if(r.classList.contains(n)){var o=!0,a=!1,s=void 0;try{for(var l,c=e.HTMLHelper.childrenWithClasses(this.optionContainer,i)[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){l.value.classList.remove(i)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}return r.classList.add(i),void("function"==typeof this.optionSelectedCallback&&this.optionSelectedCallback(r.value))}r=r.parentElement}}}]),o}(e.ComponentBase);e.RideStylerShowcaseButtonPicker=r}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,{title:e.strings.getString("change-wheel-size")}));return i.component.classList.add("ridestyler-showcase-change-wheel-size"),i}return _inherits(n,t),_createClass(n,[{key:"setFitmentOptions",value:function(t,n){var i={},r=[],o=!0,a=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,h=u.DiameterMin;h in i==!1&&(i[h]=!0,r.push([h,u]))}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}r.sort(function(e,t){return e[0]-t[0]}),1===r.length&&(this.component.style.display="none"),this.setOptions(e.ArrayHelper.map(r,function(e){return{label:e[0]+"″",value:e[1],active:e[1]===n}}))}}]),n}(e.RideStylerShowcaseButtonPicker);e.RideStylerShowcaseChangeWheelSize=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-modal",n=t+"-backdrop",i=function(i){function o(e,t){_classCallCheck(this,o);var n=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return n.options=t,n.createBackdropIfNeeded(),n.buildModal(),n.setVisibility(!1),n.parent=e.container,n.parent.appendChild(n.component),n}return _inherits(o,i),_createClass(o,[{key:"buildModal",value:function(){var n=this;this.component=Object.assign(e.HTMLHelper.createElement("div",{className:t}),{modal:this}),this.options.full&&this.component.classList.add(t+"-full"),e.HTMLHelper.createElement("button",{className:t+"-close",appendTo:this.component}).addEventListener("click",function(){n.hide()}),this.options.actions&&this.buildActions(this.options.actions)}},{key:"buildActions",value:function(n){var i=this,r=e.HTMLHelper.createElement("div",{className:t+"-actions",appendTo:this.component}),o=function(t){e.HTMLHelper.createButton(e.ObjectHelper.assign({appendTo:r},t)).addEventListener("click",function(){"function"==typeof t.action?t.action():"hide-modal"===t.action&&i.hide()})},a=!0,s=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){o(c.value)}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}}},{key:"onShow",value:function(){this.events.trigger("modal-show",{modal:this})}},{key:"onShown",value:function(){}},{key:"onHide",value:function(){this.events.trigger("modal-hide",{modal:this})}},{key:"onHidden",value:function(){this.options.removeOnHidden&&this.parent.removeChild(this.component)}},{key:"show",value:function(){var t=this,n=e.VisibilityHelper.show(this.component);return this.onShow(),n.done(function(){return t.onShown()}),n}},{key:"hide",value:function(){var t=this,n=e.VisibilityHelper.hide(this.component);return this.onHide(),n.done(function(){return t.onHidden()}),n}},{key:"setVisibility",value:function(t){e.VisibilityHelper.setVisibility(this.component,t)}},{key:"createBackdropIfNeeded",value:function(){e.HTMLHelper.hasChildWithClass(this.showcase.container,n)||new r(this.showcase)}}]),o}(e.ComponentBase);e.RideStylerShowcaseModal=i;var r=function(i){function r(e){_classCallCheck(this,r);var t=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.buildBackdrop(),t.setVisibility(!1),e.container.appendChild(t.component),t}return _inherits(r,i),_createClass(r,[{key:"buildBackdrop",value:function(){var i=this;this.component=e.HTMLHelper.createElementWithClass("div",n),this.component.addEventListener("click",function(){var n=e.HTMLHelper.lastSiblingWithClass(i.component,t,"in");n&&n.modal.hide()})}},{key:"initializeComponent",value:function(){var e=this;this.events.on("modal-show",function(t){e.update()}),this.events.on("modal-hide",function(t){e.update()})}},{key:"update",value:function(){this[e.HTMLHelper.hasSiblingWithClass(this.component,t,"in")?"show":"hide"]()}},{key:"show",value:function(){return e.VisibilityHelper.show(this.component)}},{key:"hide",value:function(){return e.VisibilityHelper.hide(this.component)}},{key:"setVisibility",value:function(t){e.VisibilityHelper.setVisibility(this.component,t)}}]),r}(e.ComponentBase);e.RideStylerShowcaseModalBackdrop=r,i=e.RideStylerShowcaseModal||(e.RideStylerShowcaseModal={})}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-option-menu",n=t+"-option",i=n+"-active",r=t+"-loading",o=function(){function o(n,i){var r=this;_classCallCheck(this,o),this.name=n,this.component=e.HTMLHelper.createElement({className:t}),this.component.addEventListener("click",function(e){return r.onClicked(e)}),i?this.setOptions(i):this.setLoading(!0)}return _createClass(o,[{key:"setLoading",value:function(e){this.component.classList.toggle(r,e)}},{key:"generateOptionElement",value:function(t){var i=e.HTMLHelper.createElement("div",{className:n,text:t.label});return i.value=t.value,i}},{key:"clearOptions",value:function(){e.HTMLHelper.empty(this.component)}},{key:"appendOptions",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.component.appendChild(this.generateOptionElement(a))}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"setOptions",value:function(e){this.clearOptions(),this.appendOptions(e),this.setLoading(!1)}},{key:"setValue",value:function(e){for(var t=0;t<this.component.children.length;t++){var n=this.component.children[t],r=n.value===e;n.classList.toggle(i,r),r&&(this.value=e)}}},{key:"onClicked",value:function(t){var r=t.target;if(r.classList.contains(n)&&!r.classList.contains(i)){var o=e.HTMLHelper.firstChildWithClass(this.component,i),a=r;o&&o.classList.remove(i),a.classList.add(i),this.value=a.value,"function"==typeof this.onChange&&this.onChange(a.value)}}}]),o}();e.RideStylerShowcaseOptionMenu=o}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-pagination-option",n=t+"-selected",i=t+"-loading",r=t+"-loader",o=function(o){function a(){_classCallCheck(this,a);var e=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments));return e.hasMoreResults=!0,e.isLoading=!1,e.isFirstLoad=!0,e.enableShowNoResults=!0,e}return _inherits(a,o),_createClass(a,[{key:"initializeComponent",value:function(){var t=this;this.component=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination"}),this.optionContainer=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-wrapper",appendTo:this.component}),this.prevButton=e.HTMLHelper.createElement("button",{className:"ridestyler-showcase-pagination-prev",appendTo:this.component,append:e.HTMLHelper.createIcon("chevron-left")}),this.nextButton=e.HTMLHelper.createElement("button",{className:"ridestyler-showcase-pagination-next",appendTo:this.component,append:e.HTMLHelper.createIcon("chevron-right")}),this.component.addEventListener("click",function(e){return t.onComponentClick(e)}),this.clearOptions(),setTimeout(function(){return t.loadMore()},0),e.ScrollHelper.attachWheelListener(this.component,function(e){var n=e.deltaX||e.deltaY,i=t.optionContainer,r=i.scrollLeft,o=i.scrollWidth,a=i.offsetWidth,s=Math.min(r+n,o-a);t.optionContainer.scrollLeft=s,t.touchScrollHandler.setValues(s,0),t.onScroll()}),this.touchScrollHandler=new Impetus({source:this.optionContainer,bounce:!1,multiplier:-1,update:function(e,n){console.log(e,n),t.optionContainer.scrollLeft=e,t.optionContainer.scrollTop=n,t.onScroll()},boundY:[0,0]})}},{key:"loadMore",value:function(){var e=this;return this._loadMore().always(function(){e.clearOptionLoader(),e.updateBounds()})}},{key:"updateBounds",value:function(){var e=this.optionContainer,t=e.scrollWidth,n=e.offsetWidth;this.touchScrollHandler.setBoundX([0,t-n])}},{key:"onScroll",value:function(){this.updatePaginationButtons();var e=this.optionContainer;e.scrollLeft>=e.scrollWidth-e.offsetWidth-10&&this.onEndVisible()}},{key:"onEndVisible",value:function(){!this.isLoading&&this.hasMoreResults&&(this.addOptionLoader(),this.updateBounds(),this.loadMore())}},{key:"onComponentClick",value:function(e){for(var n=e.target;n!==this.component;){if(n.classList.contains(t))return void this.onOptionClick(n);if(n===this.prevButton)return void this.previousPage();if(n===this.nextButton)return void this.nextPage();n=n.parentElement}}},{key:"updatePaginationButtons",value:function(){var e=this.optionContainer;this.prevButton.disabled=0===e.scrollLeft,this.nextButton.disabled=e.scrollLeft>=e.scrollWidth-e.clientWidth-1}},{key:"addOptionLoader",value:function(){this.optionContainer.appendChild(e.HTMLHelper.createElement("div",{className:t+" "+r}))}},{key:"clearOptionLoader",value:function(){e.HTMLHelper.removeChildrenWithClasses(this.optionContainer,r)}},{key:"addOptionElements",value:function(e){var t=!1;if(e instanceof DocumentFragment)t=0===e.children.length,this.optionContainer.appendChild(e);else if(e instanceof Node)this.optionContainer.appendChild(e);else if(e.length){var n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.optionContainer.appendChild(s)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}else t=!0;t&&this.showNoResults(),this.clearOptionLoader(),this.update(),this.isFirstLoad=!1}},{key:"showNoResults",value:function(){this.noResultsElement=e.HTMLHelper.createElement("div",{className:t+" ridestyler-showcase-pagination-option-no-results",text:e.strings.getString("no-results"),appendTo:this.optionContainer})}},{key:"clearOptions",value:function(){e.HTMLHelper.empty(this.optionContainer),this.addOptionLoader(),this.isFirstLoad=!0}},{key:"update",value:function(){this.updatePaginationButtons(),this.updateBounds()}},{key:"scrollTo",value:function(e){var t=this,n=this.optionContainer.scrollLeft,i=Math.abs(n-e)/2;TinyAnimate.animate(n,e,i,function(e){t.optionContainer.scrollLeft=e},"easeOutCubic",function(){return t.update()})}},{key:"previousPage",value:function(){this.scrollTo(this.optionContainer.scrollLeft-this.optionContainer.clientWidth)}},{key:"nextPage",value:function(){this.scrollTo(this.optionContainer.scrollLeft+this.optionContainer.clientWidth)}},{key:"selectOption",value:function(e){if(this.selectedOption!==e){var t=this.selectedOption;t&&t.classList.remove(n,i),e.classList.add(n),this.selectedOption=e}}},{key:"setOptionIsLoading",value:function(e){this.selectedOption&&this.selectedOption.classList[e?"add":"remove"](i)}},{key:"onOptionClick",value:function(e){this.selectOption(e)}}]),a}(e.ComponentBase);e.RideStylerShowcasePaginationComponent=o}(RideStylerShowcase||(RideStylerShowcase={}));var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)};!function(e){var t=function(t){function n(e){_classCallCheck(this,n);var t=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e)),i=e.state.getData().currentVehicleConfigurationID;return t.vehicleConfigurationID=i,t}return _inherits(n,t),_createClass(n,[{key:"_loadMore",value:function(){var t=this;return this.hasMoreResults=!1,this.isLoading=!0,e.api.request("vehicle/getpaintschemedescriptions",{VehicleConfiguration:this.vehicleConfigurationID}).done(function(e){return t.createOptions(e.Schemes)}).always(function(){return t.isLoading=!1})}},{key:"createOptions",value:function(t){var i=document.createDocumentFragment(),r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option ridestyler-showcase-paint-option",appendTo:i});u.paintScheme=c;var h=c.Colors[0];e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-display ridestyler-showcase-paint-swatch",style:{backgroundColor:h.Hex},appendTo:u}),e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label",text:c.SchemeName,appendTo:u}),e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label-secondary",text:n.createAttributeLabel(h.Attributes),appendTo:u})}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}e.HTMLHelper.empty(this.optionContainer),this.optionContainer.appendChild(i),this.update()}},{key:"onOptionClick",value:function(e){var t=e.paintScheme;t&&(_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"onOptionClick",this).call(this,e),this.state.extendData({currentPaintScheme:t}),"function"==typeof this.onPaintSchemeSelected&&this.onPaintSchemeSelected(t))}}],[{key:"createAttributeLabel",value:function(e){if(0===e)return"Glossy";var t=[];return e&&t.push("Matte"),e&&t.push("Metallic"),e&&t.push("Pearlescent"),0===t.length?"Glossy":t.join(", ")}}]),n}(e.RideStylerShowcasePaginationComponent);e.RideStylerShowcasePaintSelector=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-popover",n=function(){function n(){_classCallCheck(this,n),this.component=e.HTMLHelper.createElement({className:t})}return _createClass(n,[{key:"show",value:function(){this.setVisible(!0)}},{key:"hide",value:function(){this.setVisible(!1)}},{key:"setVisible",value:function(e){this.component.classList.toggle("in",e)}},{key:"isVisible",value:function(){return this.component.classList.contains("in")}},{key:"toggle",value:function(){this.setVisible(!this.isVisible())}}]),n}();e.RideStylerShowcasePopover=n}(RideStylerShowcase||(RideStylerShowcase={}));var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)};!function(e){var t="ridestyler-showcase-product-modal",n=t+"-title",i=function(i){function r(e){return _classCallCheck(this,r),_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,{removeOnHidden:!0}))}return _inherits(r,i),_createClass(r,[{key:"buildModal",value:function(){var i=this;_get(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"buildModal",this).call(this),this.component.classList.add(t),this.toggleButton=new e.RideStylerShowcaseToggleButton(this.showcase),this.toggleButton.onChanged=function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=i.pages[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(s.label===e)return void i.showPage(s)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}},this.component.appendChild(this.toggleButton.component),e.HTMLHelper.createElement("h1",{className:n,appendTo:this.component,append:[this.brandTitleElement=e.HTMLHelper.createElementWithClass("span",n+"-brand"),this.titleElement=e.HTMLHelper.createElement("span"),this.subtitleElement=e.HTMLHelper.createElementWithClass("span",n+"-subtitle")]}),this.summaryContainer=e.HTMLHelper.createElement({className:t+"-summary-container"}),this.imageContainer=e.HTMLHelper.createElement({className:t+"-image",appendTo:this.summaryContainer}),this.image=this.createImage(),this.summaryElement=e.HTMLHelper.createElement({className:t+"-summary",appendTo:this.summaryContainer}),this.addPage({label:e.strings.getString("summary"),container:this.summaryContainer},!0)}},{key:"addPage",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.pages||(this.pages=[]),this.pages.push(t),this.toggleButton.addOption({label:t.label,value:t.label}),n?this.showPage(t):e.VisibilityHelper.setVisibility(t.container,!1),t.container.classList.add("ridestyler-showcase-product-modal-page"),this.component.appendChild(t.container)}},{key:"showPage",value:function(t){var n=!0,i=!1,r=void 0;try{for(var o,a=this.pages[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.VisibilityHelper.setVisibility(s.container,s===t)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}this.toggleButton.setValue(t.label)}},{key:"onHidden",value:function(){this.image.destroy()}}]),r}(e.RideStylerShowcaseModal);e.RideStylerShowcaseProductModal=i}(RideStylerShowcase||(RideStylerShowcase={}));var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)};!function(e){var t=function(t){function n(){_classCallCheck(this,n);var e=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return e.resultsPerLoad=20,e.count=-1,e.index=0,e}return _inherits(n,t),_createClass(n,[{key:"_loadMore",value:function(){var t=this;this.isLoading=!0;var n=void 0;n=this.count>-1?e.PromiseHelper.resolved(this.count):this.countResults(this.currentFilters);var i=this.resultsPerLoad;return e.PromiseHelper.then(n,function(n){t.count=n;var r=e.ObjectHelper.assign({Start:t.index,Count:i},t.currentFilters);return t.getResults(r).done(function(e){t.index+=i,t.hasMoreResults=t.index+i<n,t.createOptions(e)})}).always(function(){return t.isLoading=!1})}},{key:"setFilters",value:function(e){this.clearOptions(),this.count=-1,this.index=0,this.currentFilters=e,this.loadMore()}},{key:"updateFilters",value:function(t){this.setFilters(e.ObjectHelper.assign(this.currentFilters,t))}},{key:"createOptions",value:function(t){var n=document.createDocumentFragment(),i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(this.productFilter(l)){var c=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option",appendTo:n});c.product=l;var u=this.productImageSource(l);u&&e.HTMLHelper.createElement("img",{className:"ridestyler-showcase-pagination-option-display",appendTo:c,properties:{src:u}});var h=this.productImageLabels(l);e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label",text:h.primary,appendTo:c}),h.secondary&&e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label-secondary",text:h.secondary,appendTo:c}),h.tertiary&&e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label-tertiary",text:h.tertiary,appendTo:c})}}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}this.addOptionElements(n)}},{key:"onOptionClick",value:function(e){var t=e.product;t&&(_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"onOptionClick",this).call(this,e),this.onProductClick(t))}},{key:"onProductClick",value:function(e){"function"==typeof this.productSelectedCallback&&this.productSelectedCallback(e)}}]),n}(e.RideStylerShowcasePaginationComponent);e.RideStylerShowcaseProductSelector=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-qr-display",n=function(){function n(i){_classCallCheck(this,n),this.component=e.HTMLHelper.createElement("div",{className:t}),this.qrCodeElement=e.HTMLHelper.createElement("a",{className:t+"-image",appendTo:this.component,properties:{target:"_blank"}}),this.qrCode=new QRCode(this.qrCodeElement),i&&this.displayURL(i)}return _createClass(n,[{key:"displayURL",value:function(e){this.qrCodeElement.href=e,this.qrCode.makeCode(e)}}]),n}();e.RideStylerShowcaseQRCodeComponent=n}(RideStylerShowcase||(RideStylerShowcase={}));var _get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(t){var n="ridestyler-showcase-share-button",i=function(){function t(i){var r=this;_classCallCheck(this,t),this.component=e.HTMLHelper.createButton({className:n}),i.className&&this.component.classList.add(i.className),i.title&&(this.component.title=i.title),this.component.addEventListener("click",function(){return r.onClick()})}return _createClass(t,[{key:"setURL",value:function(e){this.currentURL=e}},{key:"setTags",value:function(e){this.tags=e}},{key:"setMessage",value:function(e){this.message=e}},{key:"onClick",value:function(){this.currentURL&&this.share()}},{key:"share",value:function(){}},{key:"openNewWindow",value:function(e,t){var n=(t=t||{}).width||550,i=t.height||420,r=screen.height,o=screen.width,a=r>i?Math.round(r/2-i/2):0,s=Math.round(o/2-n/2),l=t.target||"share",c=[],u=function(e,t){return c.push(e+"="+t)},h=function(e,t,n){"boolean"!=typeof t&&(t=n),u(e,t?"yes":"no")};h("scrollbars",t.enableScrollbars,!0),h("resizable",t.enableResizeable,!0),h("toolbar",t.enableToolbar,!1),h("location",t.enableLocation,!0),u("width",n.toString()),u("height",i.toString()),u("top",a.toString()),u("left",s.toString()),window.open(e,l,"_blank"!==l?c.join(","):"")}},{key:"getShareRedirectURL",value:function(){var t="https://app.ridestyler.net";return e.api.environment===e.api.Environment.Alpha?t="http://app-alpha.ridestyler.net":e.api.environment===e.api.Environment.Beta&&(t="http://app-beta.ridestyler.net"),t+"/shared.html"}}]),t}();t.ShareButton=i;var r=function(t){function r(){return _classCallCheck(this,r),_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{className:n+"-twitter",title:"Twitter"}))}return _inherits(r,i),_createClass(r,[{key:"share",value:function(){var t="https://twitter.com/intent/tweet?",n=["url="+encodeURIComponent(this.currentURL)];this.message&&n.push("text="+encodeURIComponent(this.message)),this.tags&&this.tags.length&&n.push("hashtags="+e.ArrayHelper.map(this.tags,function(e){return encodeURIComponent(e)}).join(",")),t+=n.join("&"),this.openNewWindow(t)}}]),r}();t.TwitterShareButton=r;var o=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{className:n+"-facebook",title:"Facebook"}))}return _inherits(t,i),_createClass(t,[{key:"share",value:function(){var e="https://www.facebook.com/dialog/share?",t=["app_id=1576380412582845","display=popup","href="+encodeURIComponent(this.currentURL),"redirect_uri="+encodeURIComponent(this.getShareRedirectURL())];this.tags&&this.tags.length&&t.push("hashtag="+encodeURIComponent("#"+this.tags[0])),e+=t.join("&"),this.openNewWindow(e)}}]),t}();t.FacebookShareButton=o;var a=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{className:n+"-link"}))}return _inherits(t,i),_createClass(t,[{key:"share",value:function(){this.openNewWindow(this.currentURL,{target:"_blank"})}}]),t}();t.NewWindowShareButton=a;var s=function(t){function r(){_classCallCheck(this,r);var t=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{className:n+"-qr-code"}));return t.popover=new e.RideStylerShowcasePopover,t.component.appendChild(t.popover.component),t.qrCode=new e.RideStylerShowcaseQRCodeComponent,t.popover.component.appendChild(t.qrCode.component),t}return _inherits(r,i),_createClass(r,[{key:"setURL",value:function(e){_get(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"setURL",this).call(this,e),this.qrCode.displayURL(e)}},{key:"onClick",value:function(){this.popover.toggle()}}]),r}();t.QRShareButton=s}(e.share||(e.share={}))}(RideStylerShowcase||(RideStylerShowcase={}));var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)};!function(e){var t="ridestyler-showcase-share",n=function(n){function i(e,t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,{removeOnHidden:!0,full:!0}));return n.imageType=2,n.resizedCallback=function(){return n.updateViewport()},n.vehicleRenderInstructions=Object.assign({},t),n.onInstructionsChanged(),n}return _inherits(i,n),_createClass(i,[{key:"buildModal",value:function(){var n=this;_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"buildModal",this).call(this),this.component.classList.add(t);var r=new e.RideStylerShowcaseBackground(this.showcase);this.component.appendChild(r.component),e.HTMLHelper.createElement("h1",{appendTo:this.component,text:e.strings.getString("share-my-vehicle")}),e.HTMLHelper.createElement("p",{className:"ridestyler-showcase-share-instructions",text:e.strings.getString("share-instructions"),appendTo:this.component}),this.createShareButtons(),this.canSwitchAngle()&&(this.rotateElement=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-rotate-vehicle",appendTo:this.component}),this.rotateElement.addEventListener("click",function(){return n.switchAngle()}))}},{key:"createShareButtons",value:function(){this.shareButtons=[new e.share.FacebookShareButton,new e.share.TwitterShareButton,new e.share.QRShareButton,new e.share.NewWindowShareButton];var n=e.HTMLHelper.createElement({className:t+"-buttons",appendTo:this.component}),i=!0,r=!1,o=void 0;try{for(var a,s=this.shareButtons[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n.appendChild(l.component)}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}},{key:"onShow",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"onShow",this).call(this),this.setupViewport(),this.events.on("resized",this.resizedCallback)}},{key:"onHidden",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"onHidden",this).call(this),this.events.off("resized",this.resizedCallback)}},{key:"updateViewport",value:function(){this.vehicleViewport.Update(this.vehicleRenderInstructions)}},{key:"getShareURL",value:function(){var t="https://app.ridestyler.net";e.api.environment===e.api.Environment.Alpha?t="http://app-alpha.ridestyler.net":e.api.environment===e.api.Environment.Beta&&(t="http://app-beta.ridestyler.net");return t+"/share.cshtml?"+ridestyler.utils.toParamString(e.ObjectHelper.assign(ridestyler.auth.authenticateData(null),this.vehicleRenderInstructions))}},{key:"setupViewport",value:function(){var t=this,n=e.HTMLHelper.createElementWithClass("div","ridestyler-showcase-viewport");this.component.appendChild(n),n.addEventListener("click",function(){return t.switchAngle()}),this.vehicleViewport=new RideStylerViewport(n);var i=this.vehicleViewport.Update(this.vehicleRenderInstructions);this.rotateElement&&i.done(function(){t.rotateElement.classList.add("in")})}},{key:"canSwitchAngle",value:function(){var e=this.state.getData().currentVehicleDescriptionModel;return e.HasAngledImage&&e.HasSideImage}},{key:"onInstructionsChanged",value:function(){var t=this;this.getShareURL();this.setEnabled(!1),e.api.request("link/create",{URL:this.getShareURL()}).done(function(e){t.updateURL(e.ShortURL),t.setEnabled(!0)})}},{key:"setEnabled",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.shareButtons[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.component.disabled=!e}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"updateURL",value:function(t){var n=["vehicle"],i=e.strings.getString("check-out-my-vehicle");this.vehicleRenderInstructions.WheelFitment&&n.push("wheels");var r=!0,o=!1,a=void 0;try{for(var s,l=this.shareButtons[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;c.setURL(t),c.setTags(n),c.setMessage(i)}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}}},{key:"switchAngle",value:function(){this.canSwitchAngle()&&(2===this.imageType?this.imageType=1:this.imageType=2,this.vehicleRenderInstructions.Type=this.imageType,this.vehicleViewport.Update({Type:this.imageType}),this.onInstructionsChanged())}}]),i}(e.RideStylerShowcaseModal);e.RideStylerShowcaseShareModal=n}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-suspension-selector-element",n={Min:-4,Max:0},i=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"initializeComponent",value:function(){var t=this;this.component=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-suspension-selector"});var i=this.state.getData().currentVehicleDescriptionModel,r={min:n.Min,max:n.Max,start:0,step:1,decimalPlaces:1,unitAbbreviation:"″"},a=this.showcase.settingsFromAPI.SuspensionRanges,s=i.StyleType+i.DriveType;s in a==!1&&(s="Default");var l=a[s]||n;r.min=l.Min,r.max=l.Max,this.frontAndRear=new o(this.showcase,e.ObjectHelper.assign({label:e.strings.getString("suspension")},r)),this.frontAndRear.suspensionChangedCallback=function(){"function"==typeof t.suspensionChangeCallback&&t.suspensionChangeCallback({Suspension:t.frontAndRear.value})},this.component.appendChild(this.frontAndRear.component)}}]),i}(e.ComponentBase);e.RideStylerShowcaseSuspensionSelector=i;var r=function(e){function t(e,n){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.options=n,i.value=n.start,i}return _inherits(t,e),_createClass(t,[{key:"onSuspensionChanged",value:function(e){this.value=e,"function"==typeof this.suspensionChangedCallback&&this.suspensionChangedCallback(e)}}]),t}(e.ComponentBase),o=function(n){function i(n,r){_classCallCheck(this,i);var o=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n,r));o.component=e.HTMLHelper.createElement("div",{className:t,append:e.HTMLHelper.createElement("div",{className:t+"-label",text:r.label})});var a=e.HTMLHelper.createElement("div",{className:t+"-slider",appendTo:o.component});return noUiSlider.create(a,{start:r.start,range:{min:r.min,max:r.max},step:r.step,pips:{mode:"steps",format:function(){var t=r.unitAbbreviation,n=r.decimalPlaces;return{to:function(e){return e.toFixed(n)+t},from:function(n){return parseFloat(n.replace(new RegExp(e.StringHelper.escapeRegExp(t)+"$"),""))}}}()}}),o.sliderElement=a,o.slider=o.sliderElement.noUiSlider,o.slider.on("update",function(e,t,n){o.onSuspensionChanged(n[0])}),o}return _inherits(i,r),i}()}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-tab-bar",n=t+"-tab",i=n+"-background",r=n+"-active",o=t+"-",a=function(i){function a(){return _classCallCheck(this,a),_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return _inherits(a,i),_createClass(a,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElement("div",{className:t}),this.setMode("vertical"),this.component.addEventListener("click",function(e){return n.onClick(e)})}},{key:"setMode",value:function(e){var t=this;if(this.mode!==e){var n=function(e,n){return t.component.classList.toggle(e,n)};"string"==typeof this.mode&&n(o+this.mode,!1),this.mode=e,n(o+e,!0),this.updateTabDisplay()}}},{key:"updateTabDisplay",value:function(){if(this.tabs){var e=100/this.tabs.length+"%",t=this.mode,n=!0,i=!1,r=void 0;try{for(var o,a=this.tabs[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;"vertical"===t?(s.element.style.height=e,s.element.style.width=""):(s.element.style.height="",s.element.style.width=e),s.updateBackgroundPolygon(t)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}}},{key:"setTabs",value:function(t){var n=void 0;if(0===t.length)n=[];else if(t[0]instanceof a.Tab)n=t;else{n=new Array(t.length);for(var i=0;i<t.length;i++){var r=t[i];n[i]=new a.Tab(r)}}this.tabs=e.ArrayHelper.copy(n),e.HTMLHelper.empty(this.component);n.length;var o=!0,s=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;this.component.appendChild(h.element)}}catch(e){s=!0,l=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}this.updateTabDisplay(),this.currentTab=void 0,this.setActiveTab(n[0])}},{key:"clearActiveTab",value:function(){this.setActiveTab(void 0)}},{key:"setActiveTab",value:function(e){var t=this.currentTab;t!==e&&(this.currentTab=e,t&&t.element.classList.remove(r),e&&e.element.classList.add(r),e&&"function"==typeof this.tabSwitchedCallback&&this.tabSwitchedCallback({oldTab:t,newTab:e}))}},{key:"onClick",value:function(e){for(var t=e.target;t!==this.component;){if(t.classList.contains(n))return void this.onTabClick(this.tabForElement(t));t=t.parentElement}}},{key:"onTabClick",value:function(e){e&&this.setActiveTab(e)}},{key:"tabForLabel",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.tabs[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.label===e)return a}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"tabForElement",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.tabs[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.element===e)return a}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}}]),a}(e.ComponentBase);e.RideStylerShowcaseTabBar=a,function(t){var r=function(){function t(r){_classCallCheck(this,t),this.label=r.label,this.iconClass=r.icon,this.key=r.key,this.backgroundMode="horizontal",this.element=e.HTMLHelper.createElement("div",{className:n}),e.HTMLHelper.createIcon({icon:r.icon,appendTo:this.element,wrap:e.HTMLHelper.createElementWithClass("div",n+"-icon")});var o=e.HTMLHelper.createElement({className:i,appendTo:this.element});e.StyleHelper.svgSupported?e.HTMLHelper.createSVGElement("svg",{attributes:{width:"100%",height:"100%",preserveAspectRatio:"none",viewBox:"0 0 100 100"},append:this.backgroundPolygon=e.HTMLHelper.createSVGElement("polygon",{attributes:{fill:"black"}}),appendTo:o}):o.classList.add(i+"-nosvg"),this.element.title=r.label}return _createClass(t,[{key:"updateBackgroundPolygon",value:function(e){if(this.backgroundPolygon){var t="vertical"===e?30:15,n="vertical"===e?15:30;this.backgroundPolygon.setAttribute("points","vertical"===e?"0,0 100,0 100,"+(50-t/2)+" "+(100-n)+",50 100,"+(50+t/2)+" 100,100 0,100":"0,0 "+(50-t/2)+",0 50,"+t+" "+(50+t/2)+",0 100,0 100,100, 0,100")}}}]),t}();t.Tab=r}(a=e.RideStylerShowcaseTabBar||(e.RideStylerShowcaseTabBar={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-table",n=t+"-head",i=t+"-body",r=i+"-loading",o=function(o){function a(r,o){_classCallCheck(this,a),o=e.ObjectHelper.assign({},o);var s=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,r));s.options=o,s.columns=o.columns;var l=e.HTMLHelper.createElement("table",{appendTo:s.component,className:t}),c=e.HTMLHelper.createElement("thead",{appendTo:l,className:n});return s.tbody=e.HTMLHelper.createElement("tbody",{appendTo:l,className:i}),s.generateHeaders(c),s.component=l,o.rows?s.appendRows(o.rows):o.startLoading&&s.setLoading(!0),s}return _inherits(a,o),_createClass(a,[{key:"generateHeaderCell",value:function(t){var n=t.header;if("function"==typeof n){var i=n(t);return"string"==typeof i?e.HTMLHelper.createElement("th",{text:i}):i}return e.HTMLHelper.createElement("th",{text:n})}},{key:"generateHeaders",value:function(t){var n=e.HTMLHelper.createElement("tr"),i=!0,r=!1,o=void 0;try{for(var a,s=this.columns[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n.appendChild(this.generateHeaderCell(l))}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}t.appendChild(n)}},{key:"generateRowCell",value:function(t,n){var i=n.cell;if("function"==typeof i){var r=i(t,n);return"string"==typeof r?e.HTMLHelper.createElement("td",{text:r}):r}return e.HTMLHelper.createElement("td",{text:t[i].toString()})}},{key:"generateRow",value:function(t){var n=e.HTMLHelper.createElement("tr"),i=!0,r=!1,o=void 0;try{for(var a,s=this.columns[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n.appendChild(this.generateRowCell(t,l))}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}},{key:"appendRows",value:function(e){this.setLoading(!1);var t=document.createDocumentFragment(),n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.appendChild(this.generateRow(s))}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}this.tbody.appendChild(t)}},{key:"setLoading",value:function(e){this.tbody.classList.toggle(r,e)}}],[{key:"formatCell",value:function(t,n,i){var r=t[n].toString();return e.HTMLHelper.createElement("td",{text:r?i?r+i:r:a.emptyCellString})}}]),a}(e.ComponentBase);o.emptyCellString="-",e.RideStylerShowcaseTable=o}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t)),r=t.state.getData();return i.supportedVehicleImagery={angled:r.vehicleHasAngledImage,side:r.vehicleHasSideImage},i.vehicleTireOptionID=r.currentVehicleTireOptionID,i.defaultFilters={VehicleTireOption:i.vehicleTireOptionID,HasCatalogImage:!0},i.currentFilters=e.ObjectHelper.assign({},i.defaultFilters),i}return _inherits(n,t),_createClass(n,[{key:"countResults",value:function(t){return e.PromiseHelper.then(e.api.request("tire/countmodels",t),function(e){return e.Count})}},{key:"getResults",value:function(t){return e.PromiseHelper.then(e.api.request("tire/getmodeldescriptions",t),function(e){return e.Models})}},{key:"productFilter",value:function(e){return!0}},{key:"productImageSource",value:function(e){return ridestyler.tire.image({TireFitmentResourceType:2,TireModel:e.TireModelID,Width:100,Height:100,PositionX:1,PositionY:1,IncludeShadow:!0})}},{key:"productImageLabels",value:function(e){return{primary:e.TireBrandName,secondary:e.TireModelName,tertiary:e.Attributes&&e.Attributes.length?e.Attributes.join(", "):""}}}]),n}(e.RideStylerShowcaseProductSelector);e.RideStylerShowcaseTireSelector=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-toggle-button",n=t+"-option",i=n+"-active",r=function(r){function o(){return _classCallCheck(this,o),_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return _inherits(o,r),_createClass(o,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElement({className:t}),this.component.addEventListener("click",function(e){return n.onClicked(e)})}},{key:"onClicked",value:function(e){var t=e.target;t.classList.contains(n)&&(t.classList.contains(i)||this.selectOptionElement(t))}},{key:"selectOptionElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.value;if(this.value!==n){this.value=n;for(var r=0;r<this.component.children.length;r++){var o=this.component.children[r];o.classList.toggle(i,o===e)}"function"==typeof this.onChanged&&t&&this.onChanged(n)}}},{key:"setValue",value:function(e){if(this.value!==e)for(var t=0;t<this.component.children.length;t++){var n=this.component.children[t];if(n.value===e)return void this.selectOptionElement(n)}}},{key:"setOptions",value:function(t){e.HTMLHelper.empty(this.component),this.value=void 0;var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.addOption(s)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}},{key:"addOption",value:function(t){var i=e.ObjectHelper.assign(e.HTMLHelper.createElement("span",{className:n,text:t.label,appendTo:this.component}),{value:t.value});void 0===this.value&&this.selectOptionElement(i,!1)}}]),o}(e.ComponentBase);e.RideStylerShowcaseToggleButton=r}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,t),_createClass(n,[{key:"initializeMainComponent",value:function(){var t=this;this.modal=new RideStylerVehicleSelectionModal({container:function(){return t.component.parentElement},callback:function(e){e.FinalSelectionMade&&t.onVehicleSelected(e.Vehicle)},ImageSettings:function(e){return t.generateVehiclePreviewSettings()},IncludeOETireOption:!0}),e.api.afterAuthenticated(function(){return t.onAuthenticated()})}},{key:"buildComponent",value:function(t){var n=this;t.classList.add("ridestyler-showcase-vehicle-selection"),this.contentContainer=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-content ridestyler-showcase-vehicle-selection-content",appendTo:t}),this.buildCopy(),this.chooseVehicleButton=e.HTMLHelper.createButton({text:e.strings.getString("select-your-vehicle"),appendTo:this.contentContainer,disabled:!0,large:!0,id:"ridestyler-showcase-select-your-vehicle",wrap:e.HTMLHelper.createElementWithID("div","ridestyler-showcase-select-your-vehicle-wrapper")}),this.chooseVehicleButton.addEventListener("click",function(){n.modal.Show()})}},{key:"buildCopy",value:function(){function t(t){var n=e.StringHelper.getFirstWord(t),i=t.substr(n.length);return[e.HTMLHelper.createElementWithText("strong",n),e.HTMLHelper.createTextElement(i)]}e.HTMLHelper.createElement("h1",{append:t(e.strings.getString("vehicle-select-visualize-intro")),appendTo:this.contentContainer}),e.HTMLHelper.createElement("h1",{append:t(e.strings.getString("vehicle-select-share-intro")),appendTo:this.contentContainer})}},{key:"onAuthenticated",value:function(){var t=this;this.chooseVehicleButton.disabled=!1,e.api.request("wheel/getmodels",{Count:3,HasCatalogImage:!0}).done(function(e){return t.showWheels(e.Models)})}},{key:"onVehicleSelected",value:function(e){this.events.trigger("vehicle-selected",e)}},{key:"showWheels",value:function(t){var n=void 0;this.wheelContainer?(n=this.wheelContainer,e.HTMLHelper.empty(n)):n=this.wheelContainer=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-vehicle-selection-wheel-showcase",appendTo:this.component});var i=[],r=function(){var e=!0,t=!1,r=void 0;try{for(var o,a=i[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){if(!o.value.complete)return}}catch(e){t=!0,r=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw r}}n.style.opacity="1"},o=!0,a=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,h=ridestyler.wheel.image({WheelModel:u.WheelModelID,Width:400,Height:400,PositionX:1,PositionY:1,WheelFitmentResourceType:3,IncludeShadow:!0}),p=e.HTMLHelper.createElement("img");p.className="ridestyler-showcase-vehicle-selection-wheel-showcase-image",p.addEventListener("load",r),i.push(p),p.src=h,n.appendChild(p)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}}},{key:"generateVehiclePreviewSettings",value:function(){var e=Math.max(window.devicePixelRatio||0,1),t=.8*this.component.clientWidth;t||(t=500),(t*=e)>1920&&(t=1920);return{Width:~~t,Height:~~(.5*t)}}}]),n}(e.MainComponentBase);e.RideStylerShowcaseVehicleSelection=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-customizations",n=t+"-loading",i=function(i){function r(){_classCallCheck(this,r);var t=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.customizationComponentOrder=["paint","wheels","tires","suspension"],t.customizationComponentSettings={paint:{title:e.strings.getString("select-paint"),showFilterButton:!1,enabled:!0},wheels:{title:e.strings.getString("select-wheels"),showFilterButton:!0,enabled:!0},tires:{title:e.strings.getString("select-tires"),showFilterButton:!0,enabled:!0},suspension:{title:e.strings.getString("adjust-suspension"),showFilterButton:!1,enabled:!0}},t}return _inherits(r,i),_createClass(r,[{key:"buildComponent",value:function(n){var i=this;this.events.on("initialized",function(){i.setupViewport(n),i.updateTabLayout(),i.showcase.settingsFromAPI.EnableSharing||(u.style.display="none");var t=e.api.request("tire/countbrands",i.showcase.filters.tireFilters.getFilters()),r=e.api.request("wheel/countbrands",i.showcase.filters.wheelFilters.getFilters());e.PromiseHelper.all([t,r]).done(function(e){var t=e[0].Count,n=e[1].Count;t||(i.customizationComponentSettings.tires.enabled=!1),n||(i.customizationComponentSettings.wheels.enabled=!1),i.updateTabs()})}),this.setupTabs(),this.changeWheelSize=new e.RideStylerShowcaseChangeWheelSize(this.showcase),this.changeWheelSize.optionSelectedCallback=function(e){i.state.extendData({currentWheelFitment:e}),i.updateViewport({WheelFitment:e.WheelFitmentID})},this.components=[this.vehicleDetails=new e.VehicleDetails(this.showcase),new e.WheelDetails(this.showcase),new e.TireDetails(this.showcase),this.tabBar,this.changeWheelSize],this.customizationComponentContainer=e.HTMLHelper.createElement("div",{className:t,appendTo:this.component});var r=!0,o=!1,a=void 0;try{for(var s,l=this.components[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;this.component.appendChild(c.component)}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}this.rotateElement=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-rotate-vehicle",appendTo:this.component}),this.rotateElement.addEventListener("click",function(){i.switchAngle()}),e.HTMLHelper.createElement({className:"ridestyler-showcase-customization-component-title-container",appendTo:this.component,append:[this.titleElement=e.HTMLHelper.createElement({className:"ridestyler-showcase-customization-component-title",appendTo:this.component}),this.filterButton=e.HTMLHelper.createButton({text:e.strings.getString("filter-results"),skinny:!0})]}),this.filterButton.addEventListener("click",function(){i.showFilters()});var u=e.HTMLHelper.createButton({className:"ridestyler-share-my-vehicle-button",text:e.strings.getString("share-my-vehicle"),appendTo:this.component});u.addEventListener("click",function(){new e.RideStylerShowcaseShareModal(i.showcase,i.currentRenderInstructions).show()}),this.events.on("resized",function(){i.isVisible()&&i.updateViewport()}),this.events.on("breakpoint-changed",function(e){i.updateTabLayout()}),this.vehicleDetails.paintSwatchClickCallback=function(){i.setActiveCustomizationComponent(i.customizationComponents.paint)}}},{key:"setupViewport",value:function(t){var n=this,i=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-viewport",appendTo:t});i.addEventListener("click",function(){n.switchAngle()}),this.viewport=new RideStylerViewport(i)}},{key:"updateTabs",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var r,o=this.customizationComponentOrder[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.customizationComponentSettings[a].enabled&&e.push(this.tabs[a])}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}this.tabBar.setTabs(e),this.updateTabLayout()}},{key:"updateTabLayout",value:function(){var e=this.showcase.style.getCurrentBreakpoint(),t=e&&"phone-portrait"===e[0];this.tabBar.setMode(t?"horizontal":"vertical")}},{key:"setupTabs",value:function(){var t=this;this.tabBar=new e.RideStylerShowcaseTabBar(this.showcase),this.tabs={paint:new e.RideStylerShowcaseTabBar.Tab({icon:"paint",key:"paint",label:e.strings.getString("paint")}),wheels:new e.RideStylerShowcaseTabBar.Tab({icon:"wheel",key:"wheels",label:e.strings.getString("wheels")}),tires:new e.RideStylerShowcaseTabBar.Tab({icon:"tire",key:"tires",label:e.strings.getString("tires")}),suspension:new e.RideStylerShowcaseTabBar.Tab({icon:"suspension",key:"suspension",label:e.strings.getString("suspension")})},this.tabBar.tabSwitchedCallback=function(e){var n=e.newTab.key;t.customizationComponents&&n in t.customizationComponents&&t.setActiveCustomizationComponent(t.customizationComponents[n])}}},{key:"onDisplay",value:function(){var t=this.state.getData();t.currentVehicleConfigurationID&&t.currentVehicleTireOptionID||console.error("Trying to show the visualize screen without a vehicle configuration or tire option.");var n=!e.GUIDHelper.areEqual(t.currentVehicleConfigurationID,this.vehicleConfigurationID),i=!e.GUIDHelper.areEqual(t.currentVehicleTireOptionID,this.vehicleTireOptionID);(n||i)&&(this.vehicleConfigurationID=t.currentVehicleConfigurationID,this.vehicleDescription=t.currentVehicleDescription,this.vehicleTireOptionID=t.currentVehicleTireOptionID,this.vehicleTireOptionDescription=t.currentVehicleTireOptionDescription,this.onVehicleChanged())}},{key:"onVehicleChanged",value:function(){var t=this;e.HTMLHelper.empty(this.customizationComponentContainer),this.customizationComponentContainer.classList.add(n),this.updateTabs(),this.tabBar.clearActiveTab(),this.rotateElement.classList.remove("in");var i=e.api.request("vehicle/getdescriptions",{Count:1,VehicleConfiguration:this.vehicleConfigurationID}),r=e.api.request("vehicle/gettireoptiondetails",{VehicleConfiguration:this.vehicleConfigurationID});e.PromiseHelper.all([i,r]).done(function(n){var i=t.vehicleDescriptionModel=n[0].Descriptions[0],r=void 0,o=e.GUIDHelper.parse(t.vehicleTireOptionID),a=!0,s=!1,l=void 0;try{for(var c,u=n[1].Details[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;if(e.GUIDHelper.areEqual(h.TireOptionID,o)){r=h;break}}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}t.vehicleTireOption=r,t.state.extendData({vehicleHasAngledImage:i.HasAngledImage,vehicleHasSideImage:i.HasSideImage,currentTireOption:r,currentVehicleDescriptionModel:i}),t.initializeForNewVehicle()})}},{key:"initializeForNewVehicle",value:function(){var t=this;this.currentRenderInstructions={},this.tabBar.setActiveTab(this.tabs.paint),this.customizationComponents={paint:new e.RideStylerShowcasePaintSelector(this.showcase),wheels:new e.RideStylerShowcaseWheelSelector(this.showcase),tires:new e.RideStylerShowcaseTireSelector(this.showcase),suspension:new e.RideStylerShowcaseSuspensionSelector(this.showcase)},this.showcase.filters.wheelFilters.onFiltersChanged=function(e){t.customizationComponents.wheels.setFilters(e)},this.showcase.filters.tireFilters.onFiltersChanged=function(e){t.customizationComponents.tires.setFilters(e)},this.customizationComponents.paint.onPaintSchemeSelected=function(e){t.customizationComponents.paint.setOptionIsLoading(!0),t.updateViewport({PaintColor:e.Colors[0].Hex}).always(function(){t.customizationComponents.paint.setOptionIsLoading(!1)})},this.customizationComponents.wheels.productSelectedCallback=function(n){t.customizationComponents.wheels.setOptionIsLoading(!0);2===t.imageType&&n.HasAngleImage||1===t.imageType&&n.HasSideImage||t.switchAngle(),e.api.request("wheel/getfitmentdescriptions",{VehicleConfiguration:t.vehicleConfigurationID,WheelModel:n.WheelModelID}).done(function(e){var i=e.Fitments,r=void 0,o=t.vehicleTireOption.Front.InsideDiameter;i.sort(function(e,t){return Math.abs(e.DiameterMin-o)-Math.abs(t.DiameterMin-o)}),r=i[0],t.state.extendData({currentWheel:n,currentWheelFitment:r}),t.changeWheelSize.setFitmentOptions(i,r),t.changeWheelSize.component.style.display="",t.updateViewport({WheelFitment:r.WheelFitmentID}).always(function(){t.customizationComponents.wheels.setOptionIsLoading(!1)})}).fail(function(){return t.customizationComponents.wheels.setOptionIsLoading(!1)})},this.customizationComponents.tires.productSelectedCallback=function(e){t.state.extendData({currentTire:e})},this.customizationComponents.suspension.suspensionChangeCallback=function(e){t.updateViewport(e)},this.setActiveCustomizationComponent(this.customizationComponents.wheels);var i=!0,r=!1,o=void 0;try{for(var a,s=e.ObjectHelper.getValues(this.customizationComponents)[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l.component.classList.add("ridestyler-showcase-customization-component"),this.customizationComponentContainer.appendChild(l.component)}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}this.imageType=2,this.vehicleDescriptionModel.HasAngledImage||(this.imageType=1),this.rotateElement.style.display=this.canSwitchAngle()?"":"none",this.updateViewport({VehicleConfiguration:this.vehicleConfigurationID,VehicleTireOption:this.vehicleTireOptionID,PositionX:1,PositionY:2,Type:this.imageType}).done(function(){t.rotateElement.classList.add("in")}),this.customizationComponentContainer.classList.remove(n)}},{key:"setActiveCustomizationComponent",value:function(t){var n=this.state.getData(),i=this.getComponentKey(t),r=this.customizationComponentSettings[i],o=this.tabs[i];o&&this.tabBar.setActiveTab(o),this.activeCustomizationComponent&&this.activeCustomizationComponent.component.classList.remove("in"),t.component.classList.add("in"),this.activeCustomizationComponent=t,"function"==typeof t.update&&t.update(),this.changeWheelSize.component.style.display=t instanceof e.RideStylerShowcaseWheelSelector&&n.currentWheel?"":"none",this.filterButton.style.display=r.showFilterButton?"":"none",e.HTMLHelper.setText(this.titleElement,r.title)}},{key:"getComponentKey",value:function(e){for(var t in this.customizationComponents){if(this.customizationComponents[t]===e)return t}}},{key:"updateViewport",value:function(e){return Object.assign(this.currentRenderInstructions,e),this.viewport.Update(e)}},{key:"canSwitchAngle",value:function(){return this.vehicleDescriptionModel.HasAngledImage&&this.vehicleDescriptionModel.HasSideImage}},{key:"showFilters",value:function(){var t=this.activeCustomizationComponent,n=void 0;t===this.customizationComponents.tires?n=new e.RideStylerShowcaseFilterModal(this.showcase,{filterProvider:this.showcase.filters.tireFilters,showCountTextFormat:e.strings.getString("show-count-format-tires")}):t===this.customizationComponents.wheels&&(n=new e.RideStylerShowcaseFilterModal(this.showcase,{filterProvider:this.showcase.filters.wheelFilters,showCountTextFormat:e.strings.getString("show-count-format-wheels")})),n&&n.show()}},{key:"switchAngle",value:function(){this.canSwitchAngle()&&(2===this.imageType?this.imageType=1:this.imageType=2,this.updateViewport({Type:this.imageType}))}}]),r}(e.MainComponentBase);e.RideStylerShowcaseVehicleVisualization=i}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(t,i){_classCallCheck(this,n);var r=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.image.update({WheelFitmentResourceType:3,WheelModel:i.WheelModelID}),e.HTMLHelper.setText(r.brandTitleElement,i.WheelBrandName),e.HTMLHelper.setText(r.titleElement,i.WheelModelName),e.HTMLHelper.setText(r.subtitleElement,i.WheelModelFinishDescription),r.summaryTable=new e.RideStylerShowcaseTable(r.showcase,{columns:[{header:e.strings.getString("size"),cell:"size"},{header:e.strings.getString("price"),cell:"price"}],startLoading:!0}),r.summaryElement.appendChild(r.summaryTable.component),r.buildSpecsPage(),e.api.request("wheel/getfitmentdescriptions",{WheelModel:i.WheelModelID,IncludePromotions:!0,IncludePricing:!0}).done(function(e){r.summaryTable.appendRows(r.buildSummaryTable(e.Fitments)),r.specsTable.appendRows(e.Fitments)}),r}return _inherits(n,t),_createClass(n,[{key:"buildSummaryTable",value:function(t){var i=[],r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=n.getFitmentRetailPriceDataObject(c),h=u?u.WheelPricingAmount:void 0;i.push({diameter:c.DiameterMin,width:c.WidthMin,price:h}),i.push({diameter:c.DiameterMin,width:c.WidthMax,price:h}),i.push({diameter:c.DiameterMax,width:c.WidthMin,price:h}),i.push({diameter:c.DiameterMax,width:c.WidthMax,price:h})}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}var p={},f=!0,d=!1,v=void 0;try{for(var m,y=i[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){var g=m.value,b=g.diameter,C=g.price,w=void 0;w=(E=b+"″ x "+g.width)in p==!1?p[E]={min:1/0,max:-1/0}:p[E],C&&e.NumberHelper.extendRange(C,w)}}catch(e){d=!0,v=e}finally{try{!f&&y.return&&y.return()}finally{if(d)throw v}}var A=[],S=function(e){return"number"!=typeof e||isNaN(e)||e===1/0||e===-1/0};for(var E in p)if(p.hasOwnProperty(E)){var k=void 0;k=S((w=p[E]).min)||S(w.max)?e.strings.getString("call"):w.min===w.max?e.strings.format().currency(w.min,"$"):e.strings.format().currency(w.min,"$")+" - "+e.strings.format().currency(w.max,"$"),A.push({size:E,price:k})}return A}},{key:"buildSpecsPage",value:function(){this.specsTable=new e.RideStylerShowcaseTable(this.showcase,{columns:[{header:e.strings.getString("size"),cell:n.getFitmentSizeDescription},{header:e.strings.getString("offset"),cell:function(t){return e.RideStylerShowcaseTable.formatCell(t,"OffsetMin","mm")}},{header:e.strings.getString("bolt-pattern"),cell:"BoltPatternDescription"},{header:e.strings.getString("centerbore"),cell:function(t){return e.RideStylerShowcaseTable.formatCell(t,"CenterboreMM","mm")}},{header:"Price",cell:n.getFitmentPrice},{header:e.strings.getString("item-number"),cell:n.getFitmentItemNumber}]});var t=e.HTMLHelper.createElement({className:"scrollable",append:this.specsTable.component});this.addPage({container:t,label:e.strings.getString("specifications")})}},{key:"createImage",value:function(){return new e.ResizeableResourceImage(this.imageContainer,{action:"wheel/image",baseInstructions:{PositionX:1,PositionY:2,IncludeShadow:!0}})}}],[{key:"getFitmentRetailPriceDataObject",value:function(e){return e.Pricing&&e.Pricing.Retail||void 0}},{key:"getFitmentSizeDescription",value:function(t){var n=t.DiameterMin,i=t.WidthMin;return n&&i?n+"″ x "+i:e.RideStylerShowcaseTable.emptyCellString}},{key:"getFitmentPrice",value:function(t){var i=e.strings.getString("call"),r=n.getFitmentRetailPriceDataObject(t);if(!r)return i;var o=r.WheelPricingAmount;return o?e.strings.format().currency(o,"$"):i}},{key:"getFitmentItemNumber",value:function(t){var i=n.getFitmentRetailPriceDataObject(t),r=void 0;return i&&(r=i.WheelPricingItemNumber),r||(r=t.PartNumber),r||e.RideStylerShowcaseTable.emptyCellString}}]),n}(e.RideStylerShowcaseProductModal);e.RideStylerShowcaseWheelModal=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-pagination-option",n=function(n){function i(t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t)),r=t.state.getData();return n.supportedVehicleImagery={angled:r.vehicleHasAngledImage,side:r.vehicleHasSideImage},n.vehicleConfigurationID=r.currentVehicleConfigurationID,n.defaultFilters={VehicleConfiguration:r.currentVehicleConfigurationID,HasCatalogImage:!0,HasFitments:!0},n.currentFilters=e.ObjectHelper.assign({},n.defaultFilters),n}return _inherits(i,n),_createClass(i,[{key:"showNoResults",value:function(){var n=this;this.noResultsElement=e.HTMLHelper.createElement("div",{className:t+" ridestyler-showcase-pagination-option-no-results",text:e.strings.getString("no-wheel-results")+" ",appendTo:this.optionContainer}),e.HTMLHelper.createButton({appendTo:this.noResultsElement,text:e.strings.getString("change-vehicle"),link:!0}).addEventListener("click",function(){n.state.changeState(e.States.ChooseVehicle)})}},{key:"countResults",value:function(t){return e.PromiseHelper.then(e.api.request("wheel/countmodels",t),function(e){return e.Count})}},{key:"getResults",value:function(t){return e.PromiseHelper.then(e.api.request("wheel/getmodeldescriptions",e.ObjectHelper.assign({IncludeMetaKeys:["Description","Highlights"],HasFitments:!0},t)),function(e){return e.Models})}},{key:"productFilter",value:function(e){return!0}},{key:"productImageSource",value:function(e){return ridestyler.wheel.image({WheelFitmentResourceType:3,WheelModel:e.WheelModelID,Width:100,Height:100,PositionX:1,PositionY:1,IncludeShadow:!0})}},{key:"productImageLabels",value:function(e){return{primary:e.WheelBrandName,secondary:e.WheelModelName,tertiary:e.WheelModelFinishDescription}}}]),i}(e.RideStylerShowcaseProductSelector);e.RideStylerShowcaseWheelSelector=n}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-tire-details",n=function(n){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,n),_createClass(i,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElementWithClass("div",t+" ridestyler-showcase-details"),e.HTMLHelper.createElement("div",{className:t+"-title ridestyler-showcase-details-title",text:e.strings.getString("tire-details"),appendTo:this.component}),this.tireNameElement=e.HTMLHelper.createElement("div",{className:t+"-name",appendTo:this.component}),this.tireDescriptionElement=e.HTMLHelper.createElement("div",{className:t+"-description ridestyler-showcase-details-secondary",appendTo:this.component}),this.state.afterDataChange(function(e){return n.onDataChange(e)})}},{key:"onDataChange",value:function(t){var n=t.currentTire;this.component.style.display=n?"":"none",n&&(e.HTMLHelper.setText(this.tireNameElement,n.TireBrandName+" "+n.TireModelName),e.HTMLHelper.setText(this.tireDescriptionElement,n.Attributes&&n.Attributes.length?n.Attributes.join(", "):""))}}]),i}(e.ComponentBase);e.TireDetails=n}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-vehicle-details",n=function(n){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,n),_createClass(i,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElementWithClass("div",t+" ridestyler-showcase-details"),e.HTMLHelper.createElement("div",{className:t+"-title ridestyler-showcase-details-title",text:e.strings.getString("vehicle-details"),appendTo:this.component}),e.HTMLHelper.createElement("div",{className:t+"-vehicle",append:[this.vehiclePaintSwatchElement=e.HTMLHelper.createElement("div",{className:t+"-vehicle-swatch ridestyler-showcase-paint-swatch",style:{backgroundColor:"#999"}}),this.vehicleDescriptionElement=e.HTMLHelper.createElement("div",{className:t+"-vehicle-details"})],appendTo:this.component}),this.tireSizeElement=e.HTMLHelper.createElement("div",{className:t+"-tire-size ridestyler-showcase-details-secondary",appendTo:this.component}),e.HTMLHelper.createButton({className:t+"-change-vehicle",appendTo:this.component,text:e.strings.getString("change-vehicle"),link:!0}).addEventListener("click",function(){n.state.changeState(e.States.ChooseVehicle)}),this.state.afterDataChange(function(e){return n.onDataChange(e)}),this.vehiclePaintSwatchElement.addEventListener("click",function(){"function"==typeof n.paintSwatchClickCallback&&n.paintSwatchClickCallback()})}},{key:"onDataChange",value:function(t){e.HTMLHelper.setText(this.vehicleDescriptionElement,t.currentVehicleDescription),this.vehiclePaintSwatchElement.style.backgroundColor=t.currentPaintScheme?t.currentPaintScheme.Colors[0].Hex:"#999",e.HTMLHelper.setText(this.tireSizeElement,t.currentVehicleTireOptionDescription)}}]),i}(e.ComponentBase);e.VehicleDetails=n}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-wheel-details",n=function(n){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,n),_createClass(i,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElementWithClass("div",t+" ridestyler-showcase-details"),e.HTMLHelper.createElement("div",{className:t+"-title ridestyler-showcase-details-title",text:e.strings.getString("wheel-details"),appendTo:this.component}),this.wheelNameElement=e.HTMLHelper.createElement("div",{className:t+"-name",appendTo:this.component}),this.wheelDescriptionElement=e.HTMLHelper.createElement("div",{className:t+"-description ridestyler-showcase-details-secondary",appendTo:this.component}),e.HTMLHelper.createButton({className:t+"-features-specs",appendTo:this.component,text:e.strings.getString("wheel-features-specs"),link:!0}).addEventListener("click",function(){n.showWheelModal()}),this.state.afterDataChange(function(e){return n.onDataChange(e)})}},{key:"showWheelModal",value:function(){var t=this.state.getData();new e.RideStylerShowcaseWheelModal(this.showcase,t.currentWheel).show()}},{key:"onDataChange",value:function(t){var n=t.currentWheel,i=t.currentWheelFitment;if(this.component.style.display=n?"":"none",n)if(e.HTMLHelper.setText(this.wheelNameElement,n.WheelBrandName+" "+n.WheelModelName),i){var r=i.DiameterMin.toString()+"″";i.DiameterMin!==i.DiameterMax&&(r="("+i.DiameterMin+"-"+i.DiameterMax+")″"),e.HTMLHelper.setText(this.wheelDescriptionElement,r+" "+n.WheelModelFinishDescription)}else e.HTMLHelper.setText(this.wheelDescriptionElement,n.WheelModelFinishDescription)}}]),i}(e.ComponentBase);e.WheelDetails=n}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-filter-modal",n=t+"-menu-title",i=function(i){function r(e,n){_classCallCheck(this,r);var i=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,{removeOnHidden:!0}));return i.filterProvider=n.filterProvider,i.showCountTextFormat=n.showCountTextFormat,i.component.classList.add(t),i.buildShowButton(),i.buildFilterMenus().done(function(){i.updateCount()}),i.component.appendChild(i.showButton),i}return _inherits(r,i),_createClass(r,[{key:"buildFilterMenus",value:function(){var i=this,r=e.HTMLHelper.createElement({className:t+"-menus",appendTo:this.component}),o=this.filterProvider,a=[],s=o.getFilters();this.menus=[];var l=function(l){if(!1===l.visible||!l.label)return"continue";var c=new e.RideStylerShowcaseOptionMenu(l.key),u=(e.HTMLHelper.createElement({className:t+"-menu-container",appendTo:r,append:[e.HTMLHelper.createElement({className:n,text:l.label}),c.component]}),o.retrieveOptions(l).done(function(t){t.unshift({label:l.unselectedOptionLabel||e.strings.getString("all"),value:void 0}),c.setOptions(t),"function"==typeof l.getValueFromFilters?c.setValue(l.getValueFromFilters(s)):c.setValue(void 0)}));c.onChange=function(){i.updateCount()},a.push(u),i.menus.push(c)},c=!0,u=!1,h=void 0;try{for(var p,f=o.filterOptions[Symbol.iterator]();!(c=(p=f.next()).done);c=!0)l(p.value)}catch(e){u=!0,h=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw h}}return e.PromiseHelper.all(a)}},{key:"buildShowButton",value:function(){var t=this;this.showButton=e.HTMLHelper.createButton({large:!0,disabled:!0,text:e.strings.getString("loading-ellipsis")}),this.showButton.addEventListener("click",function(){t.filterProvider.setFilters(t.getValues()),t.hide()})}},{key:"getValues",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var r,o=this.menus[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e.push({key:a.name,value:a.value})}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}return e}},{key:"getFilters",value:function(){return this.filterProvider.previewFilters(this.getValues())}},{key:"updateCount",value:function(){var e=this;this.setCountText(!1),this.filterProvider.getCount(this.getFilters()).done(function(t){e.setCountText(t)})}},{key:"setCountText",value:function(t){!1===t?(e.HTMLHelper.setText(this.showButton,e.strings.getString("loading-ellipsis")),this.showButton.disabled=!0):(e.HTMLHelper.setText(this.showButton,this.showCountTextFormat.replace("{count}",t.toString())),this.showButton.disabled=0===t)}}]),r}(e.RideStylerShowcaseModal);e.RideStylerShowcaseFilterModal=i}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(e,t){for(var n=new Array(e.length),i=-1,r=0;r<e.length;r++){var o=e[r];"function"==typeof t&&t(o)||o===t||(n[++i]=o)}return n.length=i+1,n}e.copy=function(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t},e.remove=t,e.filter=function(e,n){return t(e,function(e){return!n(e)})},e.map=function(e,t,n){if("function"==typeof Array.prototype.map)return e.map(t,n);for(var i=new Array(e.length),r=0;r<e.length;r++)e[r],i[r]=void 0===n?t(e[r],r,e):t.call(n,e[r],r,e);return i},e.reduce=function(e,t,n){if("function"==typeof Array.prototype.reduce)return e.reduce(t,n);for(var i=n,r=0;r<e.length;r++)i=void 0!==i?t.call(void 0,i,e[r],r,e):e[r];return i}}(e.ArrayHelper||(e.ArrayHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(e,t){return"number"==typeof t&&(t={width:t,height:t}),{width:e.width*t.width,height:e.height*t.height}}e.bound=function(e,n,i){"number"==typeof n&&(n={width:n,height:n}),"number"==typeof i&&(i={width:i,height:i});var r=i?Math.min(i.width/e.width,i.height/e.height):1,o=n?Math.max(n.width/e.width,n.height/e.height):1,a=void 0;if(r<1)a=r;else{if(!(o>1))return e;a=o}return t(e,a)},e.scale=t,e.floor=function(e){return{width:~~e.width,height:~~e.height}}}(e.BoxHelper||(e.BoxHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(e,t,n){var r=t&&n||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){return o<16&&(t[r+o++]=i[e]),""});o<16;)t[r+o++]=0;return t}for(var n=[],i={},r=0;r<256;r++)n[r]=(r+256).toString(16).substr(1),i[n[r]]=r;e.parse=t,e.unparse=function(e,t){var i=t||0,r=n;return r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]},e.areEqual=function(e,n){if(!e)return!n;if(!n)return!1;var i=void 0,r=void 0;i="string"==typeof e?t(e):e,r="string"==typeof n?t(n):n;for(var o=0;o<i.length;o++)if(i[o]!==r[o])return!1;return!0}}(e.GUIDHelper||(e.GUIDHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){!function(t){function n(e,t){for(var n=new Array(e.length),i=0,r=0;r<e.length;r++){var o=e[r];t(o)&&(n[i++]=o)}return n.length=i,n}function i(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(t(i))return i}return null}function r(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];if(t(i))return i}return null}function o(e,t){return n(e.children,t)}function a(e,t){return i(e.children,t)}function s(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i=e.StyleHelper.flattenClassList(i),o(t,function(t){return e.StyleHelper.hasClasses(t,i)})}function l(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return a(t,function(t){return e.StyleHelper.hasClasses(t,i)})}function c(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return!!l.apply(void 0,[e].concat(n))}function u(e,t){var n=e;if("object"===(void 0===t?"undefined":_typeof(t))){if("string"==typeof t.className&&(e.className=t.className),"string"==typeof t.id&&(e.id=t.id),t.wrap&&t.wrap.appendChild(e),t.appendTo&&t.appendTo.appendChild(t.wrap||e),"string"==typeof t.text&&e.appendChild(document.createTextNode(t.text)),t.append){if(t.append instanceof Array){var i=!0,r=!1,o=void 0;try{for(var a,s=t.append[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;e.appendChild(l)}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}else e.appendChild(t.append);document.createElementNS}if(t.attributes)for(var c in t.attributes)t.attributes.hasOwnProperty(c)&&e.setAttribute(c,t.attributes[c]);if(t.style&&"object"===_typeof(n.style))for(var u in t.style)t.style.hasOwnProperty(u)&&(n.style[u]=t.style[u]);if(t.properties)for(var h in t.properties)t.properties.hasOwnProperty(h)&&(e[h]=t.properties[h])}}function h(e,t){var n=void 0;"string"==typeof e?n=e:(n="div",t=e);var i=document.createElement(n);return u(i,t),i}function p(e,n){var i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;t.createElement("dt",{text:l.label,appendTo:e}),t.createElement("dd",{text:l.description,appendTo:e})}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}function f(e){for(var t=void 0;t=e.lastChild;)e.removeChild(t)}function d(e){return e.ownerDocument}t.elementsMatching=n,t.firstElementMatching=i,t.lastElementMatching=r,t.childrenMatching=o,t.firstChildMatching=a,t.childrenWithClasses=s,t.removeChildrenWithClasses=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=!0,o=!1,a=void 0;try{for(var l,c=s.apply(void 0,[e].concat(n))[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value;e.removeChild(u)}}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}},t.firstChildWithTag=function(e,t){return t=t.toUpperCase(),a(e,function(e){return e.tagName===t})},t.firstChildWithClass=l,t.hasChildWithClass=c,t.hasSiblingWithClass=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return c.apply(void 0,[e.parentElement].concat(n))},t.lastSiblingWithClass=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return r(t.parentElement.children,function(n){return n!==t&&e.StyleHelper.hasClasses(n,i)})},t.createElement=h,t.createElementWithText=function(e,t){return h(e,{text:t})},t.createElementWithClass=function(e,t){var n=e;return void 0===t&&(n="div",t=e),h(n,{className:t})},t.createElementWithID=function(e,t){return h(e,{id:t})},t.createTextElement=function(e){return document.createTextNode(e)},t.createButton=function(e){var t=h("button",e),n="ridestyler-showcase-button";return t.classList.add(n),e.large&&t.classList.add(n+"-large"),e.disabled&&(t.disabled=!0),e.link&&t.classList.add(n+"-link"),e.skinny&&t.classList.add(n+"-skinny"),t};var v="ridestyler-showcase-icon ridestyler-showcase-icon-";t.createIcon=function(e){var t=void 0,n=(t="string"==typeof e?{icon:e}:e).icon;return n.startsWith(v)||(n=v+n),"string"==typeof t.className&&(n=t.className+" "+n),t.className=n,h("i",t)},t.createSVGElement=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);return u(n,t),n},t.createDescriptionList=function(e){var n=t.createElement("dl",{className:"ridestyler-showcase-description-list",appendTo:this.summaryElement});return e&&p(n,e),n},t.appendDescriptionListValues=p,t.empty=f,t.once=function(e,t,n,i){e.addEventListener(t,function r(o){return e.removeEventListener(t,r,i),"object"===(void 0===n?"undefined":_typeof(n))&&(n=n.handleEvent),n.call(this,o)},i)},t.getDocument=d,t.getWindow=function(e){return d(e).defaultView},t.setText=function(e,t){return f(e),e.appendChild(document.createTextNode(t)),e}}(e.HTMLHelper||(e.HTMLHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){e.bound=function(e,t,n){return e<t?t:e>n?n:e},e.extendRange=function(e,t){return t||(t={min:1/0,max:-1/0}),e<t.min&&(t.min=e),e>t.max&&(t.max=e),t}}(e.NumberHelper||(e.NumberHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=!0,a=!1,s=void 0;try{for(var l,c=i[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if(u)for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(t[h]=u[h])}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}return t}e.assign=t,e.copy=function(e){return t({},e)},e.getKeys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},e.getValues=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}}(e.ObjectHelper||(e.ObjectHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){!function(t){function n(e,t,n){var i=ridestyler.promise();return e.done(function(e){if("function"==typeof t)try{var n=t(e);r(n)?n.done(function(e){return i.resolve(e)}).fail(function(e){return i.reject(e)}):i.resolve(n)}catch(e){i.reject(e)}else i.resolve(e)}),e.fail(function(e){if("function"==typeof n)try{var t=n(e);r(t)?t.done(function(e){return i.resolve(e)}).fail(function(e){return i.reject(e)}):i.resolve(t)}catch(e){i.reject(e)}else i.reject(e)}),i}function i(e){var t=ridestyler.promise();return t.resolve(e),t}function r(e){return"object"===(void 0===e?"undefined":_typeof(e))&&"function"==typeof e.done&&"function"==typeof e.fail&&"function"==typeof e.always}t.all=function(t){var r=[],o=e.ArrayHelper.reduce(t,function(e,t){return n(n(e,function(){return t}),function(e){return r.push(e)})},i(null));return Promise.all,n(o,function(){return r})},t.then=n,t.resolved=i,t.isPromise=r}(e.PromiseHelper||(e.PromiseHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(t){var n=void 0,i=-.025,r=document.createElement("div");n="onwheel"in r?"wheel":void 0!==document.onmousewheel?"mousewheel":"MozMousePixelScroll",t.attachWheelListener=function(t,r){"wheel"!==n?t.addEventListener(n,function(e){e||(e=window.event);var t={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"===e.type?0:1,deltaX:0,deltaY:0,deltaZ:0,preventDefault:function(){"function"==typeof e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"===n?(t.deltaY=i*e.wheelDelta,e.wheelDeltaX&&(t.deltaX=i*e.wheelDeltaX)):t.deltaY=e.detail,r(t)}):t.addEventListener("wheel",function(t){var n=e.ObjectHelper.assign(t,{originalEvent:t});return r(n)})}}(e.ScrollHelper||(e.ScrollHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){e.getFirstWord=function(e){if("string"==typeof e)return e.trim().substr(0,e.indexOf(" "))},e.endsWith=function(e,t,n){n<this.length?n|=0:n=this.length;var i=t.length;return e.substr(n-i,i)===t},e.escapeRegExp=function(e){var t=/[\\^$.*+?()[\]{}|]/g,n=RegExp(t.source);return e&&n.test(e)?e.replace(t,"\\$&"):e}}(e.StringHelper||(e.StringHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(t){function n(e){if(o)return window.getComputedStyle(e);if(a&&null!==e.currentStyle)return e.currentStyle;throw"Unable to get computed style"}function i(e){e.offsetHeight}function r(t){if(e.StringHelper.endsWith(t,"px"))return parseInt(t)}var o="getComputedStyle"in window,a=!1;!function(){var e=document.createElement("div");a="currentStyle"in e,t.transitionEndEvent=function(){var t={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd"};for(var n in t)if(n in e.style)return t[n]}(),t.transitionsSupported=!!t.transitionEndEvent}(),t.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0,t.svgSupported=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,t.getComputedStyle=n;var s=["absolute","relative","fixed"];t.isOffsetPositioned=function(e){var t=e.style.position;if(t||(t=n(e).position),!t)return!1;t=t.toLowerCase();var i=!0,r=!1,o=void 0;try{for(var a,l=s[Symbol.iterator]();!(i=(a=l.next()).done);i=!0)if(t===a.value)return!0}catch(e){r=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}return!1},t.flattenClassList=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.ArrayHelper.reduce(n,function(e,t){var n=void 0;n="string"==typeof t?[t]:t;var i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;e=e.concat(l.split(/\s+/))}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return e},[])},t.triggerReflow=i,t.skipTransition=function(e,n){if(!t.transitionsSupported)return n();var r=e.style.transition;e.style.transition="none",n.call(this),i(e),e.style.transition=r},t.onNextTransitionEnd=function(n,i){return e.HTMLHelper.once(n,t.transitionEndEvent,i)},t.hasClasses=function(e,t){var n=void 0;if("string"==typeof t){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];(n=r||[]).push(t)}else n=t;var a=!0,s=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;if(!e.classList.contains(h))return!1}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}return!0},t.parsePixels=r,t.calculatePadding=function(e){var t=n(e),i=t.paddingBottom,o=t.paddingTop,a=t.paddingLeft,s=t.paddingRight,l=r(a)+r(s),c=r(o)+r(i);return isNaN(l)&&(l=0),isNaN(c)&&(c=0),{width:l,height:c}}}(e.StyleHelper||(e.StyleHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(t){function n(e,t){t?(e.style.visibility="",e.style.pointerEvents=""):(e.style.visibility="hidden",e.style.pointerEvents="none")}var i="in";t.show=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;n(t,!0),e.StyleHelper.triggerReflow(t),t.classList.add(r);var o=ridestyler.promise();return e.StyleHelper.transitionsSupported?e.StyleHelper.onNextTransitionEnd(t,function(){return o.resolve()}):o.resolve(),o},t.hide=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;t.classList.remove(r);var o=ridestyler.promise();return o.done(function(){return n(t,!1)}),e.StyleHelper.transitionsSupported?e.StyleHelper.onNextTransitionEnd(t,function(){return o.resolve()}):o.resolve(),o},t.setVisibility=n}(e.VisibilityHelper||(e.VisibilityHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));var RideStylerShowcase;!function(e){(e.strings||(e.strings={})).registerLanguage(e.LanguageKeys.En,{"vehicle-select-visualize-intro":"Visualize wheels, tires and suspension modifications on your vehicle.","vehicle-select-share-intro":"Share with your friends, or save for inspiration.","select-your-vehicle":"Select your Vehicle",paint:"Paint",suspension:"Suspension",wheels:"Wheels",tires:"Tires",front:"Front",rear:"Rear","vehicle-details":"Vehicle Details","change-vehicle":"Change Vehicle","wheel-details":"Wheel Details","tire-details":"Tire Details","select-paint":"Select Paint","select-wheels":"Select Wheels","select-tires":"Select Tires","adjust-suspension":"Adjust Suspension","change-wheel-size":"Change Wheel Size","no-results":"No Results Found","no-wheel-results":"No wheels found for this vehicle.","wheel-features-specs":"Wheel Features & Specs","share-my-vehicle":"Share My Vehicle","share-instructions":"Use the buttons to share or save your vehicle configuration.","no-description-wheel":"We don't have a description for this wheel yet","show-specs":"Show Specs",call:"Call",size:"Size",offset:"Offset","bolt-pattern":"Bolt Pattern",centerbore:"Centerbore",price:"Price","item-number":"Item #",brands:"Brands",finishes:"Finishes",sizes:"Sizes",all:"All","all-brands":"All Brands","all-finishes":"All Finishes","all-sizes":"All Sizes","filter-results":"Filter Results","loading-ellipsis":"Loading...","show-count-format-tires":"Show {count} Tires","show-count-format-wheels":"Show {count} Wheels",specifications:"Specifications","speed-rating":"Speed Rating","any-speed-ratings":"Any Speed Ratings",features:"Features","any-features":"Any Features",finish:"Finish",summary:"Summary","check-out-my-vehicle":"Check out my vehicle!"})}(RideStylerShowcase||(RideStylerShowcase={}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJzdnNtLmpzIiwicnN2ci5qcyIsInNjcmlwdHMvUmlkZVN0eWxlclNob3djYXNlLmV2ZW50cy5qcyIsInNjcmlwdHMvUmlkZVN0eWxlclNob3djYXNlLmZpbHRlcnMuanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5zdGF0ZS5qcyIsInNjcmlwdHMvUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5zdHlsZXMuanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9Db21wb25lbnRCYXNlLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL01haW5Db21wb25lbnRCYXNlLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1Jlc2l6ZWFibGVSZXNvdXJjZUltYWdlLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZS5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbC5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51LmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3Rvci5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VQb3BvdmVyLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbC5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0U2VsZWN0b3IuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlUVJDb2RlQ29tcG9uZW50LmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVNoYXJlQnV0dG9uLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlU3VzcGVuc2lvblNlbGVjdG9yLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVRhYkJhci5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZS5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VUaXJlU2VsZWN0b3IuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlVG9nZ2xlQnV0dG9uLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb24uanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb24uanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbC5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1RpcmVEZXRhaWxzLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1ZlaGljbGVEZXRhaWxzLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1doZWVsRGV0YWlscy5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9tb2RhbHMvUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwuanMiLCJub3Vpc2xpZGVyLmpzIiwicXJjb2RlLmpzIiwiVGlueUFuaW1hdGUuanMiLCJpbXBldHVzLmpzIiwiaW5kZXguanMiLCJpZTgubWF4LmpzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzIiwic2NyaXB0cy9SaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLmF1dGguanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5hcGkuc2V0dGluZ3MuanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5hcGkuanMiLCJzY3JpcHRzL2hlbHBlcnMvQXJyYXlIZWxwZXIuanMiLCJzY3JpcHRzL2hlbHBlcnMvQm94SGVscGVyLmpzIiwic2NyaXB0cy9oZWxwZXJzL0dVSURIZWxwZXIuanMiLCJzY3JpcHRzL2hlbHBlcnMvSFRNTEhlbHBlci5qcyIsInNjcmlwdHMvaGVscGVycy9OdW1iZXJIZWxwZXIuanMiLCJzY3JpcHRzL2hlbHBlcnMvT2JqZWN0SGVscGVyLmpzIiwic2NyaXB0cy9oZWxwZXJzL1Byb21pc2VIZWxwZXIuanMiLCJzY3JpcHRzL2hlbHBlcnMvU2Nyb2xsSGVscGVyLmpzIiwic2NyaXB0cy9oZWxwZXJzL1N0cmluZ0hlbHBlci5qcyIsInNjcmlwdHMvaGVscGVycy9TdHlsZUhlbHBlci5qcyIsInNjcmlwdHMvaGVscGVycy9WaXNpYmlsaXR5SGVscGVyLmpzIiwic2NyaXB0cy9zdHJpbmdzL1JpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmVuLmpzIl0sIm5hbWVzIjpbIlJpZGVTdHlsZXJWZWhpY2xlU2VsZWN0aW9uTW9kYWwiLCJvcHRpb25zIiwiZXh0ZW5kIiwib3V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsImtleSIsImhhc093blByb3BlcnR5IiwiYWRkQ2xhc3MiLCJlbGVtZW50cyIsIm15Q2xhc3MiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0YWdOYW1lIiwiY2xhc3NOYW1lIiwidHJpbSIsImluZGV4T2YiLCJyZW1vdmVDbGFzcyIsInJlZzEiLCJSZWdFeHAiLCJyZWcyIiwicmVnMyIsInJlcGxhY2UiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjcmVhdGVCYWNrZHJvcCIsImdldEVsZW1lbnRCeUlkIiwiYmFja0Ryb3AiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJzdHlsZSIsIm9wYWNpdHkiLCJ0cmFuc2l0aW9uIiwiZ2V0TW9kYWxDb250YWluZXIiLCJhcHBlbmRDaGlsZCIsImV4aXN0aW5nQmFja2Ryb3AiLCJzZXRUaW1lb3V0Iiwib25UcmFuc2l0aW9uRW5kT25jZSIsInNob3dCYWNrZHJvcCIsImhpZGVCYWNrZHJvcCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImhpZGVNb2RhbHMiLCJhbGxNb2RhbHMiLCJjdXJyZW50QmFzZSIsImNvcHlPZkFycmF5IiwiaW5mb0FycmF5Iiwic2xpY2UiLCJjb3B5T2ZEYXRhQXJyYXkiLCJkYXRhQXJyYXkiLCJkaXNDb3VudGludWVkIiwibW9kYWxBcnJheSIsImdldEF0dHJpYnV0ZSIsImZvckVhY2giLCJjYWxsIiwidGhpc01vZGFsIiwidGhpc0lEIiwiaW5mb0Jhc2VPYmoiLCJzcGxpdHRlZEFycmF5Iiwic3BsaXQiLCJjYWxsYmFjayIsIm91dE9iaiIsIkZpbmFsU2VsZWN0aW9uTWFkZSIsIlZlaGljbGUiLCJGdWxsU2VsZWN0aW9uRGF0YSIsImNvbnNvbGUiLCJ3YXJuIiwiYm9keSIsImNvbnRhaW5lciIsImJhc2UiLCJwcmVwYXJlRnVuY3Rpb24iLCJwcmVwYXJlRnVuY3Rpb25PcHRpb25zIiwidHJhbnNpdGlvbk1vZGFsIiwibW9kYWxCYXNlIiwibW9kYWxCYXNlQ29weSIsImNsb25lTm9kZSIsIl92c21Nb2RhbElEQ291bnRlciIsInB1c2giLCJiYWNrTW9kYWwiLCJiYWNrTGlua3MiLCJiYWNrTGluayIsImJhY2tIYW5kbGVyIiwiZSIsInRhcmdldCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0eXBlIiwiYm0iLCJiYyIsInRyYW5zaXRpb25Ub01vZGFsIiwiZG9uZSIsInBvcCIsImFmdGVyQmFja0NsaWNrZWQiLCJvdXRJbmZvT2JqIiwiRnVsbFNlbGVjdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbG9zZUJ1dHRvbnMiLCJjbG9zZUJ1dHRvbiIsIm9uY2xpY2siLCJ0b01vZGFsIiwiZnJvbU1vZGFsIiwiYmFja3dhcmRzIiwiZnJvbUFuaW1hdGVQcm9taXNlIiwicmlkZXN0eWxlciIsInByb21pc2UiLCJ0b0FuaW1hdGVQcm9taXNlIiwiZnJvbVoiLCJwYXJzZUludCIsInpJbmRleCIsInRvWiIsInRyYW5zaXRpb25TdXBwb3J0IiwiZGlzcGxheSIsInJlc29sdmUiLCJhbGxQcm9taXNlIiwib25Qcm9taXNlQ2hhbmdlIiwidG9TdGF0ZSIsInN0YXRlIiwiZnJvbVN0YXRlIiwicmVqZWN0IiwiYWx3YXlzIiwicmVxdWVzdFN0ZXAiLCJtb2RhbCIsInN0ZXBPcHRpb25zIiwicmVxdWVzdCIsIlNlbGVjdGlvbiIsImJlc3RDb25maWd1cmF0aW9uIiwic2hvd1NlbGVjdGlvbiIsImFqYXgiLCJzZW5kIiwiYWN0aW9uIiwiZGF0YSIsInJlc3BvbnNlIiwiU3VjY2VzcyIsIkJlc3RDb25maWd1cmF0aW9uIiwiSW5jbHVkZU9FVGlyZU9wdGlvbiIsIlZlaGljbGVDb25maWd1cmF0aW9uIiwiVmFsdWUiLCJkZXRhaWxSZXNwb25zZSIsImRldGFpbHMiLCJEZXRhaWxzIiwidGhpcyIsImRldGFpbFN0cmluZyIsImRldGFpbCIsImYiLCJGcm9udCIsInIiLCJSZWFyIiwiVGlyZU9wdGlvbkJhc2ljIiwiVGlyZU9wdGlvbklEIiwiVGlyZU9wdGlvblN0cmluZyIsIm9wdGlvbk1lbnUiLCJHcm91cHMiLCJEZXNjcmlwdGlvbiIsIlRpdGxlIiwiS2V5IiwiT3B0aW9ucyIsIkdyb3VwIiwiTGFiZWwiLCJ1cGRhdGVNb2RhbCIsIk1lbnUiLCJtZW51IiwiaXRlbUxpc3RDb250YWluZXIiLCJoZWFkZXJFbGVtZW50IiwiYm9keUVsZW1lbnQiLCJ2c21MaW5rU3R5bGUiLCJmaW5hbFNjcmVlbiIsIm1lbnVPcHRpb25zIiwibWVudUtleSIsIm1lbnVUaXRsZSIsIm1lbnVHcm91cHMiLCJidWlsZExpc3RJdGVtIiwib3B0T2JqIiwib3B0aW9uTGFiZWwiLCJvcHRpb25WYWx1ZSIsIm9wdGlvbkJ0biIsIm9wdGlvblRleHQiLCJjcmVhdGVUZXh0Tm9kZSIsImhyZWYiLCJzZXRBdHRyaWJ1dGUiLCJvIiwib3B0aW9uS2V5Iiwib3B0aW9uVGl0bGUiLCJhZnRlck9wdGlvblNlbGVjdGVkIiwiQ3VycmVudFNlbGVjdGlvbiIsInRyYW5zaXRpb25PcHRpb24iLCJvbkxpc3RJdGVtU2VsZWN0ZWQiLCJidWlsZExpc3RIZWFkZXIiLCJoZWFkZXJUZXh0IiwibWVudVN1YkhlYWRlciIsIm1lbnVTdWJIZWFkZXJUZXh0IiwiZGl2RUxlIiwiZG90RWxlIiwic3BhbkVsZSIsIm5vdFN0eWxlRGl2IiwiaW5mb0Jhc2VBcnJheSIsIm1hcCIsImVsZSIsImlubmVySFRNTCIsImpvaW4iLCJmaXJzdENoaWxkIiwiZ3JvdXBXcmFwIiwiR3JvdXBPcHRpb25zIiwibWVudUdyb3VwZWRPcHRpb25zIiwidGhpc01lbnVPcHRpb24iLCJ0aGlzTWVudU9wdGlvbkdyb3VwIiwiaiIsIm1lbnVHcm91cCIsInN1Ykdyb3VwIiwiZ3JvdXBMaXN0IiwiY29sdW1uQ2xhc3MiLCJZZWFyU2NyZWVuQ29sdW1ucyIsIk1ha2VTY3JlZW5Db2x1bW5zIiwibGlzdEl0ZW0iLCJ2ZWhpY2xlSW1hZ2UiLCJ2ZWhpY2xlTG9hZGVyIiwibmFtZUVsZW1lbnQiLCJjb25maXJtQnV0dG9uIiwiaW5Qcm9ncmVzc1NjcmVlbiIsIkNvbmZpcm1CdXR0b25UZXh0IiwibWFpblBhcnRTdHJpbmciLCJsYXN0SXRlbSIsInZlaGljbGVEZXNjIiwiaW1hZ2VTZXR0aW5ncyIsIldpZHRoIiwiSGVpZ2h0IiwiUG9zaXRpb25YIiwiUG9zaXRpb25ZIiwiSW1hZ2VTZXR0aW5ncyIsImltYWdlVXJsIiwidXJsIiwic3JjIiwib25sb2FkIiwiY29uZmlybUhhbmRsZXIiLCJwYXJlbnRCYXNlIiwiZWxlbWVudCIsInNlbGVjdG9yIiwiRWxlbWVudCIsInByb3RvdHlwZSIsIm1hdGNoZXMiLCJtYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJzIiwib3duZXJEb2N1bWVudCIsIml0ZW0iLCJnZXRDbG9zZXN0IiwidmVoaWNsZUluZm8iLCJJbWFnZVVybCIsIlZlaGljbGVEZXNjcmlwdGlvbiIsInRoaXNTdHlsZSIsImRvY3VtZW50RWxlbWVudCIsInVuZGVmaW5lZCIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJlbCIsInRyYW5zaXRpb25zIiwidHJhbnNpdGlvbkVuZCIsIkhUTUxFbGVtZW50IiwidHJhbnNpdGlvbkVuZFdyYXAiLCJTaG93IiwiZGl2RWxlIiwidnNtX3RlbXBsYXRlIiwibG9hZEJhc2UiLCJIaWRlIiwiUmlkZVN0eWxlclZpZXdwb3J0IiwiZWxlbSIsInNob3dMb2FkZXJFbGVtZW50IiwibG9hZGVyIiwibG9hZGVyRGF0YSIsInJlbmRlcmVyIiwiYWN0aXZlIiwicXVlcnlTZWxlY3RvciIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJzdWJzdHJpbmciLCJlcnJvciIsImlzT2Zmc2V0UG9zaXRpb25WYWx1ZSIsInZhbHVlIiwicG9zaXRpb24iLCJjYWxjdWxhdGVkU3R5bGUiLCJ3aW5kb3ciLCJnZXRDb21wdXRlZFN0eWxlIiwicnVudGltZVN0eWxlIiwicGFkZGluZyIsImJvcmRlclJhZGl1cyIsImJhY2tncm91bmQiLCJsZWZ0IiwidG9wIiwibWFyZ2luTGVmdCIsIm1hcmdpblRvcCIsImNyZWF0ZU5ld0xheWVyIiwiaW5zdHJ1Y3Rpb25zIiwiYWN0aXZlSW1hZ2UiLCJyZXRpcmVkSW1hZ2VzIiwib2ltZyIsImltZyIsInJlbW92ZWRJbWFnZXMiLCJzcGxpY2UiLCJvbmVycm9yIiwiUmVuZGVyIiwiZGVzaXJlZEFzcGVjdEhlaWdodCIsImNvbnRhaW5lckFzcGVjdFJhdGlvIiwibGFzdENsaWVudFdpZHRoIiwicmVmcmVzaFRpbWVvdXQiLCJSZXNpemVSZW5kZXJBcmVhIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJNYXRoIiwicm91bmQiLCJjbGVhclRpbWVvdXQiLCJyZXNwb25zaXZlIiwic2V0SW50ZXJ2YWwiLCJVcGRhdGUiLCJhcmdzIiwidmFsdWVzIiwidG9rZW5zIiwia3YiLCJkZWNvZGVVUklDb21wb25lbnQiLCJ0b0xvd2VyQ2FzZSIsImsiLCJwcmVwYXJlQXJndW1lbnRzIiwiY2xpZW50SGVpZ2h0IiwiaGFzQ2hhbmdlcyIsIngiLCJ2MSIsInYyIiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsImZhY3RvcnkiLCJkZWZpbmUiLCJhbWQiLCJleHBvcnRzIiwibW9kdWxlIiwibm9VaVNsaWRlciIsInByZXZlbnREZWZhdWx0IiwiaXNOdW1lcmljIiwiYSIsImlzTmFOIiwiaXNGaW5pdGUiLCJhZGRDbGFzc0ZvciIsImR1cmF0aW9uIiwiYXNBcnJheSIsIkFycmF5IiwiaXNBcnJheSIsImNvdW50RGVjaW1hbHMiLCJudW1TdHIiLCJwaWVjZXMiLCJTdHJpbmciLCJjbGFzc0xpc3QiLCJhZGQiLCJyZW1vdmUiLCJnZXRQYWdlT2Zmc2V0IiwiZG9jIiwic3VwcG9ydFBhZ2VPZmZzZXQiLCJwYWdlWE9mZnNldCIsImlzQ1NTMUNvbXBhdCIsImNvbXBhdE1vZGUiLCJzY3JvbGxMZWZ0IiwieSIsInBhZ2VZT2Zmc2V0Iiwic2Nyb2xsVG9wIiwic3ViUmFuZ2VSYXRpbyIsInBhIiwicGIiLCJmcm9tUGVyY2VudGFnZSIsInJhbmdlIiwiZ2V0SiIsImFyciIsInRvU3RlcHBpbmciLCJ4VmFsIiwieFBjdCIsInZhIiwidmIiLCJhYnMiLCJ0b1BlcmNlbnRhZ2UiLCJnZXRTdGVwIiwieFN0ZXBzIiwic25hcCIsImIiLCJ0byIsImNsb3Nlc3QiLCJoYW5kbGVFbnRyeVBvaW50IiwiaW5kZXgiLCJ0aGF0IiwicGVyY2VudGFnZSIsInRvU3RyaW5nIiwiRXJyb3IiLCJWRVJTSU9OIiwicGFyc2VGbG9hdCIsInhIaWdoZXN0Q29tcGxldGVTdGVwIiwiaGFuZGxlU3RlcFBvaW50IiwibiIsInRvdGFsU3RlcHMiLCJ4TnVtU3RlcHMiLCJoaWdoZXN0U3RlcCIsImNlaWwiLCJOdW1iZXIiLCJ0b0ZpeGVkIiwic3RlcCIsIlNwZWN0cnVtIiwiZW50cnkiLCJzaW5nbGVTdGVwIiwib3JkZXJlZCIsInNvcnQiLCJ2YWxpZGF0ZUZvcm1hdCIsImZyb20iLCJpc1ZhbGlkRm9ybWF0dGVyIiwidGVzdFN0ZXAiLCJwYXJzZWQiLCJ0ZXN0UmFuZ2UiLCJtaW4iLCJtYXgiLCJzcGVjdHJ1bSIsInRlc3RTdGFydCIsImhhbmRsZXMiLCJzdGFydCIsInRlc3RTbmFwIiwidGVzdEFuaW1hdGUiLCJhbmltYXRlIiwidGVzdEFuaW1hdGlvbkR1cmF0aW9uIiwiYW5pbWF0aW9uRHVyYXRpb24iLCJ0ZXN0Q29ubmVjdCIsImNvbm5lY3QiLCJ0ZXN0T3JpZW50YXRpb24iLCJvcnQiLCJ0ZXN0TWFyZ2luIiwibWFyZ2luIiwiZ2V0TWFyZ2luIiwidGVzdExpbWl0IiwibGltaXQiLCJ0ZXN0UGFkZGluZyIsInRlc3REaXJlY3Rpb24iLCJkaXIiLCJ0ZXN0QmVoYXZpb3VyIiwidGFwIiwiZHJhZyIsImZpeGVkIiwiaG92ZXIiLCJldmVudHMiLCJ0ZXN0TXVsdGl0b3VjaCIsIm11bHRpdG91Y2giLCJ0ZXN0VG9vbHRpcHMiLCJ0b29sdGlwcyIsImZvcm1hdHRlciIsInRlc3RBcmlhRm9ybWF0IiwiYXJpYUZvcm1hdCIsInRlc3RGb3JtYXQiLCJmb3JtYXQiLCJ0ZXN0Q3NzUHJlZml4IiwiY3NzUHJlZml4IiwidGVzdENzc0NsYXNzZXMiLCJjc3NDbGFzc2VzIiwidGVzdFVzZVJhZiIsInVzZVJlcXVlc3RBbmltYXRpb25GcmFtZSIsInRlc3RPcHRpb25zIiwiZGVmYXVsdEZvcm1hdHRlciIsInRlc3RzIiwidCIsImRpcmVjdGlvbiIsIm9yaWVudGF0aW9uIiwiYmVoYXZpb3VyIiwiZGVmYXVsdHMiLCJvcmlnaW4iLCJoYW5kbGUiLCJoYW5kbGVMb3dlciIsImhhbmRsZVVwcGVyIiwiaG9yaXpvbnRhbCIsInZlcnRpY2FsIiwibHRyIiwicnRsIiwiZHJhZ2dhYmxlIiwidG9vbHRpcCIsInBpcHMiLCJwaXBzSG9yaXpvbnRhbCIsInBpcHNWZXJ0aWNhbCIsIm1hcmtlciIsIm1hcmtlckhvcml6b250YWwiLCJtYXJrZXJWZXJ0aWNhbCIsIm1hcmtlck5vcm1hbCIsIm1hcmtlckxhcmdlIiwibWFya2VyU3ViIiwidmFsdWVIb3Jpem9udGFsIiwidmFsdWVWZXJ0aWNhbCIsInZhbHVlTm9ybWFsIiwidmFsdWVMYXJnZSIsInZhbHVlU3ViIiwia2V5cyIsIm5hbWUiLCJzdHlsZXMiLCJzdHlsZU9wb3NpdGUiLCJjbG9zdXJlIiwib3JpZ2luYWxPcHRpb25zIiwiYWRkTm9kZVRvIiwiZGl2Iiwic2NvcGVfRG9jdW1lbnQiLCJhZGRPcmlnaW4iLCJoYW5kbGVOdW1iZXIiLCJhZGRDb25uZWN0IiwiYWRkVG9vbHRpcCIsImFkZE1hcmtpbmciLCJzcHJlYWQiLCJmaWx0ZXJGdW5jIiwiZ2V0Q2xhc3NlcyIsInNvdXJjZSIsInNpemVDbGFzc2VzIiwidmFsdWVTaXplQ2xhc3NlcyIsIm1hcmtlclNpemVDbGFzc2VzIiwidmFsdWVPcmllbnRhdGlvbkNsYXNzZXMiLCJtYXJrZXJPcmllbnRhdGlvbkNsYXNzZXMiLCJvZmZzZXQiLCJub2RlIiwiaW5uZXJUZXh0IiwiYWRkU3ByZWFkIiwicmVtb3ZlUGlwcyIsInNjb3BlX1BpcHMiLCJwYXJlbnRFbGVtZW50IiwicmVtb3ZlRWxlbWVudCIsImdyaWQiLCJtb2RlIiwiZGVuc2l0eSIsImZpbHRlciIsImdyb3VwIiwic2FmZUluY3JlbWVudCIsImluY3JlbWVudCIsImluZGV4ZXMiLCJmaXJzdEluUmFuZ2UiLCJzY29wZV9TcGVjdHJ1bSIsImxhc3RJblJhbmdlIiwiaWdub3JlRmlyc3QiLCJpZ25vcmVMYXN0IiwicHJldlBjdCIsInVuc2hpZnQiLCJjdXJyZW50IiwicSIsIm5ld1BjdCIsInBjdERpZmZlcmVuY2UiLCJzdGVwcyIsInJlYWxTdGVwcyIsInN0ZXBzaXplIiwibG93IiwiaGlnaCIsImdlbmVyYXRlU3ByZWFkIiwic3RlcHBlZCIsInYiLCJmcm9tU3RlcHBpbmciLCJnZXRHcm91cCIsInNjb3BlX1RhcmdldCIsImJhc2VTaXplIiwicmVjdCIsInNjb3BlX0Jhc2UiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJhbHQiLCJ3aWR0aCIsImF0dGFjaEV2ZW50IiwibWV0aG9kIiwiaGFzQXR0cmlidXRlIiwiY29udGFpbnMiLCJ0ZXN0IiwiaGFzQ2xhc3MiLCJwYWdlT2Zmc2V0IiwidG91Y2giLCJtb3VzZSIsInBvaW50ZXIiLCJpc1RvdWNoT25UYXJnZXQiLCJ0YXJnZXRUb3VjaGVzIiwidG91Y2hlcyIsInBhZ2VYIiwicGFnZVkiLCJ0YXJnZXRUb3VjaCIsImZpbmQiLCJjaGFuZ2VkVG91Y2hlcyIsImNsaWVudFgiLCJjbGllbnRZIiwicG9pbnRzIiwiY3Vyc29yIiwiZml4RXZlbnQiLCJhY3Rpb25zIiwiYnV0dG9ucyIsInN1cHBvcnRzUGFzc2l2ZSIsImNhbGNQb2ludCIsIm1ldGhvZHMiLCJldmVudE5hbWUiLCJwYXNzaXZlIiwiY2FsY1BvaW50VG9QZXJjZW50YWdlIiwicHJvcG9zYWwiLCJkb2NFbGVtIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwiY2xpZW50VG9wIiwiY2xpZW50TGVmdCIsIm1vdmVIYW5kbGVzIiwidXB3YXJkIiwibG9jYXRpb25zIiwiaGFuZGxlTnVtYmVycyIsInByb3Bvc2FscyIsInJldmVyc2UiLCJjaGVja0hhbmRsZVBvc2l0aW9uIiwic2V0SGFuZGxlIiwiZmlyZUV2ZW50Iiwic2NvcGVfRXZlbnRzIiwidGFyZ2V0RXZlbnQiLCJldmVudFR5cGUiLCJzY29wZV9TZWxmIiwic2NvcGVfVmFsdWVzIiwic2NvcGVfTG9jYXRpb25zIiwiZG9jdW1lbnRMZWF2ZSIsImV2ZW50Iiwibm9kZU5hbWUiLCJyZWxhdGVkVGFyZ2V0IiwiZXZlbnRFbmQiLCJldmVudE1vdmUiLCJhcHBWZXJzaW9uIiwiYnV0dG9uc1Byb3BlcnR5IiwibW92ZW1lbnQiLCJzdGFydENhbGNQb2ludCIsInNjb3BlX0FjdGl2ZUhhbmRsZXNDb3VudCIsImxpc3RlbmVycyIsImMiLCJzY29wZV9Eb2N1bWVudEVsZW1lbnQiLCJzZXRaaW5kZXgiLCJzY29wZV9Cb2R5IiwiZXZlbnRTdGFydCIsImhhbmRsZU9yaWdpbiIsInNjb3BlX0hhbmRsZXMiLCJjaGlsZHJlbiIsInN0b3BQcm9wYWdhdGlvbiIsIm1vdmVFdmVudCIsIm1vdmUiLCJlbmRFdmVudCIsImVuZCIsIm91dEV2ZW50IiwiYXBwbHkiLCJjb25jYXQiLCJldmVudFRhcCIsInBvcyIsImdldENsb3Nlc3RIYW5kbGUiLCJldmVudEhvdmVyIiwicmVmZXJlbmNlIiwibG9va0JhY2t3YXJkIiwibG9va0ZvcndhcmQiLCJnZXRWYWx1ZSIsInRvUGN0IiwicGN0Iiwic2NvcGVfSGFuZGxlTnVtYmVycyIsImNoaWxkTm9kZXMiLCJzdGF0ZVVwZGF0ZSIsInVwZGF0ZUNvbm5lY3QiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ1cGRhdGVIYW5kbGVQb3NpdGlvbiIsInNjb3BlX0Nvbm5lY3RzIiwibCIsImgiLCJzZXRWYWx1ZSIsInZhbHVlU2V0IiwiaW5wdXQiLCJmaXJlU2V0RXZlbnQiLCJpc0luaXQiLCJ2YWx1ZUdldCIsImJpbmRFdmVudCIsIm5hbWVzcGFjZWRFdmVudCIsInBvaW50ZXJFbmFibGVkIiwibXNQb2ludGVyRW5hYmxlZCIsIkNTUyIsInN1cHBvcnRzIiwib3B0cyIsImRlZmluZVByb3BlcnR5IiwiZ2V0IiwiZ2V0U3VwcG9ydHNQYXNzaXZlIiwiYWRkU2xpZGVyIiwiY29ubmVjdE9wdGlvbnMiLCJhZGRFbGVtZW50cyIsImRlc3Ryb3kiLCJsb2NhdGlvbiIsIm5lYXJieVN0ZXBzIiwiZ2V0TmVhcmJ5U3RlcHMiLCJ0aGlzU3RlcCIsImRlY3JlbWVudCIsInN0ZXBBZnRlciIsInN0YXJ0VmFsdWUiLCJzdGVwQmVmb3JlIiwic3RlcERlY2ltYWxzIiwiY291bnRTdGVwRGVjaW1hbHMiLCJvbiIsIm9mZiIsIm5hbWVzcGFjZSIsImJpbmQiLCJ0RXZlbnQiLCJ0TmFtZXNwYWNlIiwic2V0IiwicmVzZXQiLCJfX21vdmVIYW5kbGVzIiwidXBkYXRlT3B0aW9ucyIsIm9wdGlvbnNUb1VwZGF0ZSIsInVwZGF0ZUFibGUiLCJuZXdPcHRpb25zIiwiaGFuZGxlQmVmb3JlIiwiaGFuZGxlQWZ0ZXIiLCJldmVudEhvbGRlcnMiLCJldmVudEhvbGRlciIsImJpbmRTbGlkZXJFdmVudHMiLCJ0aXBzIiwidW5lbmNvZGVkIiwiZm9ybWF0dGVkVmFsdWUiLCJwb3NpdGlvbnMiLCJub3ciLCJ0ZXh0IiwiaXNQZXJjZW50YWdlIiwiY29udmVydCIsInZlcnNpb24iLCJhcGkiLCJRUkNvZGUiLCJRUjhiaXRCeXRlIiwiUVJNb2RlIiwiTU9ERV84QklUX0JZVEUiLCJwYXJzZWREYXRhIiwiYnl0ZUFycmF5IiwiY29kZSIsImNoYXJDb2RlQXQiLCJRUkNvZGVNb2RlbCIsInR5cGVOdW1iZXIiLCJlcnJvckNvcnJlY3RMZXZlbCIsIm1vZHVsZXMiLCJtb2R1bGVDb3VudCIsImRhdGFDYWNoZSIsImRhdGFMaXN0IiwiUVJQb2x5bm9taWFsIiwibnVtIiwic2hpZnQiLCJRUlJTQmxvY2siLCJ0b3RhbENvdW50IiwiZGF0YUNvdW50IiwiUVJCaXRCdWZmZXIiLCJidWZmZXIiLCJfZ2V0QW5kcm9pZCIsImFuZHJvaWQiLCJzQWdlbnQiLCJhTWF0IiwibWF0Y2giLCJfZ2V0VHlwZU51bWJlciIsInNUZXh0IiwibkNvcnJlY3RMZXZlbCIsIm5UeXBlIiwicmVwbGFjZWRUZXh0IiwiZW5jb2RlVVJJIiwiX2dldFVURjhMZW5ndGgiLCJsZW4iLCJRUkNvZGVMaW1pdExlbmd0aCIsIm5MaW1pdCIsIlFSRXJyb3JDb3JyZWN0TGV2ZWwiLCJMIiwiTSIsIlEiLCJIIiwiZ2V0TGVuZ3RoIiwid3JpdGUiLCJwdXQiLCJhZGREYXRhIiwibmV3RGF0YSIsImlzRGFyayIsInJvdyIsImNvbCIsImdldE1vZHVsZUNvdW50IiwibWFrZSIsIm1ha2VJbXBsIiwiZ2V0QmVzdE1hc2tQYXR0ZXJuIiwibWFza1BhdHRlcm4iLCJzZXR1cFBvc2l0aW9uUHJvYmVQYXR0ZXJuIiwic2V0dXBQb3NpdGlvbkFkanVzdFBhdHRlcm4iLCJzZXR1cFRpbWluZ1BhdHRlcm4iLCJzZXR1cFR5cGVJbmZvIiwic2V0dXBUeXBlTnVtYmVyIiwiY3JlYXRlRGF0YSIsIm1hcERhdGEiLCJtaW5Mb3N0UG9pbnQiLCJwYXR0ZXJuIiwibG9zdFBvaW50IiwiUVJVdGlsIiwiZ2V0TG9zdFBvaW50IiwiY3JlYXRlTW92aWVDbGlwIiwidGFyZ2V0X21jIiwiaW5zdGFuY2VfbmFtZSIsImRlcHRoIiwicXJfbWMiLCJjcmVhdGVFbXB0eU1vdmllQ2xpcCIsImJlZ2luRmlsbCIsIm1vdmVUbyIsImxpbmVUbyIsImVuZEZpbGwiLCJnZXRQYXR0ZXJuUG9zaXRpb24iLCJiaXRzIiwiZ2V0QkNIVHlwZU51bWJlciIsIm1vZCIsImZsb29yIiwiZ2V0QkNIVHlwZUluZm8iLCJpbmMiLCJiaXRJbmRleCIsImJ5dGVJbmRleCIsImRhcmsiLCJnZXRNYXNrIiwiUEFEMCIsIlBBRDEiLCJyc0Jsb2NrcyIsImdldFJTQmxvY2tzIiwiZ2V0TGVuZ3RoSW5CaXRzIiwidG90YWxEYXRhQ291bnQiLCJwdXRCaXQiLCJjcmVhdGVCeXRlcyIsIm1heERjQ291bnQiLCJtYXhFY0NvdW50IiwiZGNkYXRhIiwiZWNkYXRhIiwiZGNDb3VudCIsImVjQ291bnQiLCJyc1BvbHkiLCJnZXRFcnJvckNvcnJlY3RQb2x5bm9taWFsIiwibW9kUG9seSIsIm1vZEluZGV4IiwidG90YWxDb2RlQ291bnQiLCJNT0RFX05VTUJFUiIsIk1PREVfQUxQSEFfTlVNIiwiTU9ERV9LQU5KSSIsIlFSTWFza1BhdHRlcm4iLCJQQVRURVJOX1BPU0lUSU9OX1RBQkxFIiwiRzE1IiwiRzE4IiwiRzE1X01BU0siLCJkIiwiZ2V0QkNIRGlnaXQiLCJkaWdpdCIsImVycm9yQ29ycmVjdExlbmd0aCIsIm11bHRpcGx5IiwiUVJNYXRoIiwiZ2V4cCIsInFyQ29kZSIsInNhbWVDb3VudCIsImNvdW50IiwiZGFya0NvdW50IiwiZ2xvZyIsIkxPR19UQUJMRSIsIkVYUF9UQUJMRSIsInJhdGlvIiwiUlNfQkxPQ0tfVEFCTEUiLCJyc0Jsb2NrIiwiZ2V0UnNCbG9ja1RhYmxlIiwibGlzdCIsImJ1ZkluZGV4IiwiYml0Iiwic3ZnRHJhd2VyIiwiRHJhd2luZyIsImh0T3B0aW9uIiwiX2VsIiwiX2h0T3B0aW9uIiwiZHJhdyIsIm9RUkNvZGUiLCJtYWtlU1ZHIiwidGFnIiwiYXR0cnMiLCJjcmVhdGVFbGVtZW50TlMiLCJuQ291bnQiLCJjbGVhciIsInN2ZyIsInZpZXdCb3giLCJmaWxsIiwiY29sb3JMaWdodCIsInNldEF0dHJpYnV0ZU5TIiwiY29sb3JEYXJrIiwiY2hpbGQiLCJoYXNDaGlsZE5vZGVzIiwibGFzdENoaWxkIiwiQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIiwibldpZHRoIiwibkhlaWdodCIsImFIVE1MIiwiZWxUYWJsZSIsIm5MZWZ0TWFyZ2luVGFibGUiLCJvZmZzZXRXaWR0aCIsIm5Ub3BNYXJnaW5UYWJsZSIsIm9mZnNldEhlaWdodCIsIl9vbk1ha2VJbWFnZSIsIl9lbEltYWdlIiwiX2VsQ2FudmFzIiwidG9EYXRhVVJMIiwiX2FuZHJvaWQiLCJmYWN0b3IiLCJkZXZpY2VQaXhlbFJhdGlvIiwiZHJhd0ltYWdlIiwiaW1hZ2UiLCJzeCIsInN5Iiwic3ciLCJzaCIsImR4IiwiZHkiLCJkdyIsImRoIiwiX2JJc1BhaW50ZWQiLCJfb0NvbnRleHQiLCJnZXRDb250ZXh0IiwiX2JTdXBwb3J0RGF0YVVSSSIsIm5Sb3VuZGVkV2lkdGgiLCJuUm91bmRlZEhlaWdodCIsImJJc0RhcmsiLCJuTGVmdCIsIm5Ub3AiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsImZpbGxTdHlsZSIsImZpbGxSZWN0Iiwic3Ryb2tlUmVjdCIsIm1ha2VJbWFnZSIsImZTdWNjZXNzIiwiZkZhaWwiLCJfZkZhaWwiLCJfZlN1Y2Nlc3MiLCJmT25FcnJvciIsIm9uYWJvcnQiLCJpc1BhaW50ZWQiLCJjbGVhclJlY3QiLCJuTnVtYmVyIiwidk9wdGlvbiIsImNvcnJlY3RMZXZlbCIsInVzZVNWRyIsIl9vUVJDb2RlIiwiX29EcmF3aW5nIiwibWFrZUNvZGUiLCJ0aXRsZSIsIkNvcnJlY3RMZXZlbCIsInJvb3QiLCJUaW55QW5pbWF0ZSIsInVwZGF0ZSIsImVhc2luZyIsImxvb3AiLCJ0aW1lc3RhbXAiLCJjYW5jZWxlZCIsInRpbWUiLCJEYXRlIiwiY2hhbmdlIiwickFGIiwiZWFzaW5ncyIsImxpbmVhciIsInBlcmZvcm1hbmNlIiwiY2FuY2VsIiwiYW5pbWF0ZUNTUyIsInByb3BlcnR5IiwidW5pdCIsImFuaW1hdGlvbiIsImVhc2VJblF1YWQiLCJlYXNlT3V0UXVhZCIsImVhc2VJbk91dFF1YWQiLCJlYXNlSW5DdWJpYyIsImVhc2VPdXRDdWJpYyIsImVhc2VJbk91dEN1YmljIiwiZWFzZUluUXVhcnQiLCJlYXNlT3V0UXVhcnQiLCJlYXNlSW5PdXRRdWFydCIsImVhc2VJblF1aW50IiwiZWFzZU91dFF1aW50IiwiZWFzZUluT3V0UXVpbnQiLCJlYXNlSW5TaW5lIiwiY29zIiwiUEkiLCJlYXNlT3V0U2luZSIsInNpbiIsImVhc2VJbk91dFNpbmUiLCJlYXNlSW5FeHBvIiwicG93IiwiZWFzZU91dEV4cG8iLCJlYXNlSW5PdXRFeHBvIiwiZWFzZUluQ2lyYyIsInNxcnQiLCJlYXNlT3V0Q2lyYyIsImVhc2VJbk91dENpcmMiLCJlYXNlSW5FbGFzdGljIiwicCIsImFzaW4iLCJlYXNlT3V0RWxhc3RpYyIsImVhc2VJbk91dEVsYXN0aWMiLCJlYXNlSW5CYWNrIiwiZWFzZU91dEJhY2siLCJlYXNlSW5PdXRCYWNrIiwiZWFzZUluQm91bmNlIiwiZWFzZU91dEJvdW5jZSIsImVhc2VJbk91dEJvdW5jZSIsImdsb2JhbCIsIkltcGV0dXMiLCJnZXRQYXNzaXZlU3VwcG9ydGVkIiwicGFzc2l2ZVN1cHBvcnRlZCIsImVyciIsImJvdW5jZURlY2VsZXJhdGlvbiIsImJvdW5jZUFjY2VsZXJhdGlvbiIsIl9yZWYiLCJjYWxsVXBkYXRlQ2FsbGJhY2siLCJ1cGRhdGVDYWxsYmFjayIsInNvdXJjZUVsIiwidGFyZ2V0WCIsInRhcmdldFkiLCJub3JtYWxpemVFdmVudCIsImV2IiwiaWRlbnRpZmllciIsIm9uRG93biIsInBvaW50ZXJBY3RpdmUiLCJwYXVzZWQiLCJkZWNlbGVyYXRpbmciLCJwb2ludGVySWQiLCJwb2ludGVyTGFzdFgiLCJwb2ludGVyQ3VycmVudFgiLCJwb2ludGVyTGFzdFkiLCJwb2ludGVyQ3VycmVudFkiLCJ0cmFja2luZ1BvaW50cyIsImFkZFRyYWNraW5nUG9pbnQiLCJvbk1vdmUiLCJvblVwIiwic3RvcFRyYWNraW5nIiwidGlja2luZyIsInJlcXVlc3RBbmltRnJhbWUiLCJ1cGRhdGVBbmRSZW5kZXIiLCJmaXJzdFBvaW50IiwibGFzdFBvaW50IiwieE9mZnNldCIsInlPZmZzZXQiLCJEIiwibXVsdGlwbGllciIsImRlY1ZlbFgiLCJkZWNWZWxZIiwiZGlmZiIsImNoZWNrQm91bmRzIiwiaW5Cb3VuZHMiLCJzdGVwRGVjZWxBbmltIiwic3RhcnREZWNlbEFuaW0iLCJwb2ludGVyQ2hhbmdlWCIsInBvaW50ZXJDaGFuZ2VZIiwiYm91bmNlIiwiZHJhZ091dE9mQm91bmRzTXVsdGlwbGllciIsInZhbCIsInJlc3RyaWN0IiwieERpZmYiLCJ5RGlmZiIsImJvdW5kWG1pbiIsImJvdW5kWG1heCIsImJvdW5kWW1pbiIsImJvdW5kWW1heCIsImZyaWN0aW9uIiwic3RvcFRocmVzaG9sZCIsImFkanVzdCIsIl9yZWYkc291cmNlIiwiX3JlZiRtdWx0aXBsaWVyIiwiX3JlZiRmcmljdGlvbiIsImluaXRpYWxWYWx1ZXMiLCJib3VuZFgiLCJib3VuZFkiLCJfcmVmJGJvdW5jZSIsInBhdXNlIiwicmVzdW1lIiwic2V0VmFsdWVzIiwic2V0TXVsdGlwbGllciIsInNldEJvdW5kWCIsInNldEJvdW5kWSIsIndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZSIsIm1velJlcXVlc3RBbmltYXRpb25GcmFtZSIsInZpZXciLCJwcm90b1Byb3AiLCJlbGVtQ3RyUHJvdG8iLCJvYmpDdHIiLCJzdHJUcmltIiwiYXJySW5kZXhPZiIsIkRPTUV4IiwibWVzc2FnZSIsIkRPTUV4Y2VwdGlvbiIsImNoZWNrVG9rZW5BbmRHZXRJbmRleCIsInRva2VuIiwiQ2xhc3NMaXN0IiwidHJpbW1lZENsYXNzZXMiLCJjbGFzc2VzIiwiX3VwZGF0ZUNsYXNzTmFtZSIsImNsYXNzTGlzdFByb3RvIiwiY2xhc3NMaXN0R2V0dGVyIiwidXBkYXRlZCIsInRvZ2dsZSIsImZvcmNlIiwicmVzdWx0IiwiY2xhc3NMaXN0UHJvcERlc2MiLCJleCIsIm51bWJlciIsIl9fZGVmaW5lR2V0dGVyX18iLCJ0ZXN0RWxlbWVudCIsImNyZWF0ZU1ldGhvZCIsIm9yaWdpbmFsIiwiRE9NVG9rZW5MaXN0IiwiX3RvZ2dsZSIsImNvbW1vbkV2ZW50TG9vcCIsImN1cnJlbnRUYXJnZXQiLCIkaGFuZGxlcnMiLCJzeW50aGV0aWMiLCJoYW5kbGVyIiwiY29udGludWVQcm9wYWdhdGlvbiIsImhhbmRsZXJzIiwiZXZ0IiwiZXZlbnRQaGFzZSIsImVucmljaCIsImhhbmRsZUV2ZW50Iiwic3RvcHBlZEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwic3RvcHBlZFByb3BhZ2F0aW9uIiwiZGlzcGF0Y2hFdmVudCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJjb21tb25EZXNjcmlwdG9yIiwiY29tbW9uVGV4dENvbnRlbnQiLCJwcm90b0Rlc3QiLCJwcm90b1NvdXJjZSIsImRlc2NyaXB0b3IiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJ0ZXh0Q29udGVudCIsImFycmF5IiwiZ2V0VGV4dENvbnRlbnQiLCJ0ZXh0Tm9kZSIsImFycmF5Q29udGVudCIsIm5vZGVUeXBlIiwibmV4dFNpYmxpbmciLCJvbmtleXVwIiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJzcmNFbGVtZW50IiwiZnJvbUVsZW1lbnQiLCJvblJlYWR5U3RhdGUiLCJSRUFEWUVWRU5URElTUEFUQ0hFRCIsInJlYWR5U3RhdGVPSyIsInJlYWR5U3RhdGUiLCJkZXRhY2hFdmVudCIsIk9OUkVBRFlTVEFURUNIQU5HRSIsIkRPTUNPTlRFTlRMT0FERUQiLCJnZXR0ZXIiLCJhdHRyIiwiaHRtbCIsInNldFRleHRDb250ZW50IiwidmVyaWZ5IiwidGltZVN0YW1wIiwiZ2V0VGltZSIsIkRVTk5PQUJPVVRET01MT0FERUQiLCJTRUNSRVQiLCJyYW5kb20iLCJvYmplY3QiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZGVzY3JpcHRvcnMiLCJvX08iLCJsb2ciLCJFbGVtZW50UHJvdG90eXBlIiwiVGV4dFByb3RvdHlwZSIsIlRleHQiLCJwb3NzaWJseU5hdGl2ZUV2ZW50IiwidHlwZXMiLCJ2YWx1ZURlc2MiLCJIVE1MQ29tbWVudEVsZW1lbnQiLCJIVE1MU2NyaXB0RWxlbWVudCIsIkhUTUxUaXRsZUVsZW1lbnQiLCJIVE1MU3R5bGVFbGVtZW50Iiwic3R5bGVTaGVldCIsIkNTU1N0eWxlU2hlZXQiLCJvcGFjaXR5cmUiLCJDU1NTdHlsZURlY2xhcmF0aW9uIiwibSIsInpvb20iLCJmb3VuZCIsImZpcnN0RWxlbWVudENoaWxkIiwibGFzdEVsZW1lbnRDaGlsZCIsIm9uaW5wdXQiLCJfb25pbnB1dCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJwcmV2aW91c1NpYmxpbmciLCJuZXh0RWxlbWVudFNpYmxpbmciLCJjaGlsZEVsZW1lbnRDb3VudCIsImNhcHR1cmUiLCJvbnR5cGUiLCJ0ZW1wbGUiLCJjdXJyZW50VHlwZSIsInciLCJjcmVhdGVFdmVudE9iamVjdCIsIm1laCIsInZhbGlkIiwiWE1MSHR0cFJlcXVlc3QiLCJidXR0b25HZXR0ZXIiLCJFdmVudCIsImJ1YmJsZXMiLCJjYW5jZWxhYmxlIiwicmV0dXJuVmFsdWUiLCJjYW5jZWxCdWJibGUiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJfcGFnZVgiLCJzY3JvbGxYIiwiX3BhZ2VZIiwic2Nyb2xsWSIsIndoaWNoIiwia2V5Q29kZSIsImJ1dHRvbiIsImNoYXJDb2RlIiwidW5kZWYiLCJ0b0VsZW1lbnQiLCJIVE1MRG9jdW1lbnQiLCJkZWZhdWx0VmlldyIsInBhcmVudFdpbmRvdyIsImdvbm5hIiwiZG9TY3JvbGwiLCJDbGFzcyIsIldpbmRvdyIsIkNvbXB1dGVkU3R5bGUiLCJfIiwiUHNldWRvQ29tcHV0ZWRTdHlsZSIsIm5vdHBpeGVsIiwicmUiLCJwbGFjZSIsIiQxIiwidG9VcHBlckNhc2UiLCJnZXRQcm9wZXJ0eVZhbHVlIiwicnRMZWZ0IiwiY3VycmVudFN0eWxlIiwicGl4ZWxMZWZ0IiwicHNldWRvIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0Iiwic3R5bGVTaGVldHMiLCJIVE1MNUVsZW1lbnQiLCJjcmVhdGVTdHlsZVNoZWV0IiwiYWRkUnVsZSIsImxhc3RUaW1lIiwidmVuZG9ycyIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY3VyclRpbWUiLCJ0aW1lVG9DYWxsIiwiUmlkZVN0eWxlclNob3djYXNlIiwiYXV0aCIsInZhbGlkYXRlIiwic2V0dGluZ3MiLCJzZXR0aW5nc18xIiwicGFyc2VCb29sZWFuIiwiYm9vbGVhbiIsImZpcnN0Q2hhciIsImRlZmF1bHRTZXR0aW5ncyIsIkVuYWJsZVNoYXJpbmciLCJTdXNwZW5zaW9uUmFuZ2VzIiwiRGVmYXVsdCIsIk1pbiIsIk1heCIsIlRydWNrNFdEIiwiVmFuNFdEIiwiVXNlUmF3VGlyZURlc2NyaXB0aW9uIiwiZ2V0U2V0dGluZ3MiLCJQcm9taXNlSGVscGVyIiwidGhlbiIsIktleXMiLCJTZXR0aW5ncyIsInN1c3BlbnNpb25SYW5nZXNTZXR0aW5nIiwiSlNPTiIsInBhcnNlIiwicGFyc2VTdXNwZW5zaW9uUmFuZ2VzIiwiaXNBdXRoZW50aWNhdGVkIiwiYXV0aGVudGljYXRlZCIsImluaXRpYWxpemUiLCJVc2VybmFtZSIsInVzZXJuYW1lIiwiUGFzc3dvcmQiLCJwYXNzd29yZCIsImVudmlyb25tZW50IiwiRW52aXJvbm1lbnQiLCJBbHBoYSIsIkJldGEiLCJMaXZlIiwiT3RoZXIiLCJmYWlsIiwiYWZ0ZXJBdXRoZW50aWNhdGVkIiwiZ2V0VVJMIiwiX2NyZWF0ZUNsYXNzIiwicHJvcHMiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJFdmVudEhhbmRsZXIiLCJldmVudEhhbmRsZXJzIiwiQXJyYXlIZWxwZXIiLCJkZWJ1Z0NhbGxiYWNrIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiIsIl9kaWRJdGVyYXRvckVycm9yIiwiX2l0ZXJhdG9yRXJyb3IiLCJfc3RlcCIsIl9pdGVyYXRvciIsIlN5bWJvbCIsIml0ZXJhdG9yIiwibmV4dCIsImV2ZW50SGFuZGxlciIsInJldHVybiIsImZpbHRlcnNfMSIsIkZpbHRlckNvbnRyb2xsZXIiLCJnbG9iYWxGaWx0ZXJzIiwiR2xvYmFsRmlsdGVyUHJvdmlkZXIiLCJ0aXJlRmlsdGVycyIsIlRpcmVGaWx0ZXJQcm92aWRlciIsIndoZWVsRmlsdGVycyIsIldoZWVsRmlsdGVyUHJvdmlkZXIiLCJ2ZWhpY2xlIiwiY2xlYXJGaWx0ZXJzIiwic2V0VmVoaWNsZSIsInRyaWdnZXJDaGFuZ2UiLCJGaWx0ZXJQcm92aWRlciIsImdsb2JhbEZpbHRlclByb3ZpZGVyIiwiY3VycmVudEZpbHRlcnMiLCJvbkZpbHRlcnNDaGFuZ2VkIiwiZ2V0RmlsdGVycyIsImZpbHRlclZhbHVlcyIsImZpbHRlcnMiLCJiYXNlRmlsdGVycyIsImZpbHRlclZhbHVlIiwic2V0RmlsdGVyIiwiT2JqZWN0SGVscGVyIiwiYXNzaWduIiwicmV0cmlldmVPcHRpb25zIiwiZmlsdGVyT3B0aW9uIiwiZmluZEZpbHRlck9wdGlvbiIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yIiwiX2RpZEl0ZXJhdG9yRXJyb3IyIiwiX2l0ZXJhdG9yRXJyb3IyIiwiX3N0ZXAyIiwiX2l0ZXJhdG9yMiIsImZpbHRlck9wdGlvbnMiLCJzZWxlY3RlZEZpbHRlcnNPcktleSIsIm5ld0ZpbHRlcnMiLCJzZWxlY3RlZEZpbHRlcnMiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyIsIl9kaWRJdGVyYXRvckVycm9yMyIsIl9pdGVyYXRvckVycm9yMyIsIl9zdGVwMyIsIl9pdGVyYXRvcjMiLCJzZWxlY3RlZEZpbHRlciIsIl92YWx1ZSIsImhhc0NoYW5nZWQiLCJuZXdGaWx0ZXJWYWx1ZSIsInRyaWdnZXJGaWx0ZXJDaGFuZ2UiLCJ2ZWhpY2xlQ29uZmlnRmlsdGVyS2V5IiwiX0ZpbHRlclByb3ZpZGVyIiwiX3RoaXMiLCJnZXRQcm90b3R5cGVPZiIsIkhhc0ZpdG1lbnRzIiwidmlzaWJsZSIsInZlaGljbGVDb25maWd1cmF0aW9uSUQiLCJ2ZWhpY2xlVGlyZU9wdGlvbklEIiwiVmVoaWNsZVRpcmVPcHRpb24iLCJfRmlsdGVyUHJvdmlkZXIyIiwiX3RoaXMyIiwiUmVxdWlyZWRGaXRtZW50UmVzb3VyY2VUeXBlcyIsImxhYmVsIiwic3RyaW5ncyIsImdldFN0cmluZyIsInVuc2VsZWN0ZWRPcHRpb25MYWJlbCIsIkJyYW5kcyIsImJyYW5kIiwiVGlyZUJyYW5kTmFtZSIsIlRpcmVCcmFuZElEIiwiZ2V0VmFsdWVGcm9tRmlsdGVycyIsIlRpcmVCcmFuZCIsInRpcmVCcmFuZElEIiwiQXR0cmlidXRlcyIsImF0dHJpYnV0ZSIsIlRpcmVNb2RlbEF0dHJpYnV0ZU5hbWUiLCJUaXJlTW9kZWxBdHRyaWJ1dGVJRCIsIlJlcXVpcmVkVGlyZU1vZGVsQXR0cmlidXRlIiwiYXR0cmlidXRlSUQiLCJTcGVlZFJhdGluZ3MiLCJUaXJlU3BlZWRSYXRpbmdDb2RlIiwiVGlyZVNwZWVkUmF0aW5nSUQiLCJTcGVlZFJhdGluZyIsInNwZWVkUmF0aW5nSUQiLCJDb3VudCIsIl9GaWx0ZXJQcm92aWRlcjMiLCJfdGhpczMiLCJGaXRtZW50UmVzb3VyY2VUeXBlcyIsIldoZWVsQnJhbmROYW1lIiwiV2hlZWxCcmFuZElEIiwiV2hlZWxCcmFuZCIsIndoZWVsQnJhbmRJRCIsIkZpbmlzaGVzIiwiZmluaXNoQ2F0ZWdvcnkiLCJXaGVlbEZpbmlzaENhdGVnb3J5TmFtZSIsIldoZWVsRmluaXNoQ2F0ZWdvcnlJRCIsIldoZWVsRmluaXNoQ2F0ZWdvcnkiLCJ3aGVlbEZpbmlzaENhdGVnb3J5SUQiLCJEaWFtZXRlcnMiLCJkaWFtZXRlciIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240IiwiX2RpZEl0ZXJhdG9yRXJyb3I0IiwiX2l0ZXJhdG9yRXJyb3I0IiwiX3N0ZXA0IiwiX2l0ZXJhdG9yNCIsIkZpdG1lbnRGaWx0ZXJzIiwiZml0bWVudEZpbHRlciIsIkdyb3VwS2V5IiwiZml0bWVudEZpbHRlckdyb3VwS2V5IiwiZ2V0Rml0bWVudEZpbHRlclZhbHVlIiwiZml0bWVudEZpbHRlcnMiLCJleGlzdGluZ0ZpdG1lbnRGaWx0ZXJHcm91cCIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241IiwiX2RpZEl0ZXJhdG9yRXJyb3I1IiwiX2l0ZXJhdG9yRXJyb3I1IiwiX3N0ZXA1IiwiX2l0ZXJhdG9yNSIsImFwcGxpZWRGaXRtZW50RmlsdGVyIiwiYXBwbHlGaXRtZW50RmlsdGVyIiwiRGlhbWV0ZXIiLCJTdGF0ZXMiLCJzdGF0ZV8xIiwiU3RhdGVDYWxsYmFja1JlZ2lzdGVyIiwiZXhpdENhbGxiYWNrcyIsImVudGVyQ2FsbGJhY2tzIiwiY3VycmVudFN0YXRlIiwibmV3U3RhdGUiLCJleGl0Q2FsbGJhY2siLCJvbGRTdGF0ZSIsImVudGVyQ2FsbGJhY2siLCJSaWRlU3R5bGVyU2hvd2Nhc2VTdGF0ZSIsImluaXRpYWxTdGF0ZSIsImN1cnJlbnREYXRhIiwiY3VycmVudFZlaGljbGVDb25maWd1cmF0aW9uSUQiLCJjdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uIiwidmVoaWNsZUhhc0FuZ2xlZEltYWdlIiwidmVoaWNsZUhhc1NpZGVJbWFnZSIsImN1cnJlbnRWZWhpY2xlVGlyZU9wdGlvbkRlc2NyaXB0aW9uIiwiY3VycmVudFZlaGljbGVUaXJlT3B0aW9uSUQiLCJjdXJyZW50UGFpbnRTY2hlbWUiLCJjdXJyZW50VGlyZSIsImN1cnJlbnRXaGVlbCIsImN1cnJlbnRXaGVlbEZpdG1lbnQiLCJjdXJyZW50VGlyZU9wdGlvbiIsImN1cnJlbnRWZWhpY2xlRGVzY3JpcHRpb25Nb2RlbCIsImNhbGxiYWNrcyIsImNoYW5nZUNhbGxiYWNrcyIsImRhdGFDaGFuZ2VkQ2FsbGJhY2tzIiwiYmVmb3JlQ2FsbGJhY2tzIiwiYWZ0ZXJDYWxsYmFja3MiLCJkYXRhQ2hhbmdlZENhbGxiYWNrIiwiYmVmb3JlIiwiX2NhbGxiYWNrIiwiZGF0YUV4dGVuc2lvbiIsImN1cnJlbnRWYWx1ZSIsIm5ld1ZhbHVlIiwic2V0RGF0YSIsImNhbGxiYWNrc0ZvclN0YXRlIiwicHJldmlvdXNTdGF0ZSIsInN0YXRlQ2hhbmdlZEV2ZW50IiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYiLCJfZGlkSXRlcmF0b3JFcnJvcjYiLCJfaXRlcmF0b3JFcnJvcjYiLCJfc3RlcDYiLCJfaXRlcmF0b3I2IiwidHJpZ2dlckV4aXRDYWxsYmFja3MiLCJ0cmlnZ2VyRW50ZXJDYWxsYmFja3MiLCJkZWZhdWx0TGFuZ3VhZ2VGb3JtYXRQcm92aWRlciIsImN1cnJlbmN5Iiwic3ltYm9sIiwidG9Mb2NhbGVTdHJpbmciLCJMYW5ndWFnZUtleXMiLCJMYW5ndWFnZVJlZ2lzdGVyIiwibGFuZ3VhZ2UiLCJkZWZhdWx0TGFuZ3VhZ2UiLCJsYW5ndWFnZVJlZ2lzdGVycyIsImdldExhbmd1YWdlIiwibGFuZ3VhZ2VLZXkiLCJyZWdpc3Rlckxhbmd1YWdlIiwic2V0QXNEZWZhdWx0IiwibGFuZ3VhZ2VSZWdpc3RlciIsInNldERlZmF1bHRMYW5ndWFnZSIsImxhbmd1YWdlSXNSZWdpc3RlcmVkIiwic3RyaW5nIiwid2lkdGhCcmVha3BvaW50cyIsIlN0eWxlTWFuYWdlciIsImluaXRpYWxpemVkIiwiaW5pdGlhbGl6ZUJyZWFrcG9pbnRzIiwid2F0Y2hTaXplIiwiaW5pdGlhbGl6ZUNTUyIsInJlc29sdmVPbkRPTUxvYWQiLCJpbml0aWFsaXplU3R5bGVDbGFzc2VzIiwiU3R5bGVIZWxwZXIiLCJpc09mZnNldFBvc2l0aW9uZWQiLCJjb250YWluZXJEb2N1bWVudCIsImhlYWQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImluc2VydEJlZm9yZSIsInN0eWxlc2hlZXQiLCJjc3MiLCJIVE1MSGVscGVyIiwiZmlyc3RDaGlsZFdpdGhUYWciLCJpc1RvdWNoRGV2aWNlIiwiYXBwbHlCcmVha3BvaW50Q2xhc3NlcyIsImdldERvY3VtZW50IiwiZ2V0V2luZG93Iiwib25SZXNpemUiLCJvblJlc2l6ZWQiLCJuZXdCcmVha3BvaW50Iiwib25CcmVha3BvaW50Q2hhbmdlZCIsInRpbWVyIiwiZWxlbWVudFNpemUiLCJuZXdFbGVtZW50U2l6ZSIsInJlc2l6ZSIsInJlc2l6ZWQiLCJjdXJyZW50QnJlYWtwb2ludCIsIm9yaWdpbmFsQ2xhc3NOYW1lIiwiYnJlYWtwb2ludENoYW5nZWQiLCJSaWRlU3R5bGVyU2hvd2Nhc2VJbnN0YW5jZSIsImFjdGl2ZUxvYWRpbmdTZXNzaW9uS2V5cyIsImRlYnVnIiwib3RoZXJDb21wb25lbnRzIiwiUmlkZVN0eWxlclNob3djYXNlQmFja2dyb3VuZCIsInN0YXRlQ29tcG9uZW50TWFwcGluZyIsIkNob29zZVZlaGljbGUiLCJSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlU2VsZWN0aW9uIiwiVmlzdWFsaXplIiwiUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb24iLCJtYWluQ29tcG9uZW50cyIsInJpZGVzdHlsZXJTaG93Y2FzZSIsImluaXRpYWxpemVTdGF0ZSIsInJlZ2lzdGVyQ29tcG9uZW50cyIsImluaXRpYWxpemVTdHlsZSIsImluaXRpYWxpemVGaWx0ZXJzIiwiaW5pdGlhbGl6ZUNvbXBvbmVudHMiLCJzZWxlY3Rpb24iLCJjaGFuZ2VTdGF0ZSIsInNldHRpbmdzUmV0cmlldmVkIiwic2V0dGluZ3NGcm9tQVBJIiwiYWxsIiwidHJpZ2dlciIsIm9uU3RhdGVDaGFuZ2VkIiwiZmluaXNoZWQiLCJmaW5pc2hlZFN0cmluZyIsInN0YXRlQ2hhbmdlIiwib25DaGFuZ2UiLCJfdGhpczQiLCJjb21wb25lbnQiLCJfY29tcG9uZW50Iiwic2V0VmlzaWJsZSIsInVwZGF0ZUN1cnJlbnRDb21wb25lbnQiLCJuZXdDb21wb25lbnQiLCJvbGRDb21wb25lbnQiLCJzdGF0ZUNsYXNzUHJlZml4IiwiaXNWaXNpYmxlIiwiaGlkZSIsInNob3ciLCJDb21wb25lbnRCYXNlIiwic2hvd2Nhc2VJbnN0YW5jZSIsInNob3djYXNlIiwiaW5pdGlhbGl6ZUNvbXBvbmVudCIsIk1haW5Db21wb25lbnRCYXNlIiwiX1JpZGVTdHlsZXJTaG93Y2FzZSRDIiwidHJhbnNpdGlvbnNTdXBwb3J0ZWQiLCJ0cmFuc2l0aW9uRW5kRXZlbnQiLCJvblRyYW5zaXRpb25FbmQiLCJidWlsZENvbXBvbmVudCIsImluaXRpYWxpemVNYWluQ29tcG9uZW50IiwiX3Zpc2libGUiLCJzZXRWaXNpYmxlU3R5bGluZyIsInNraXBUcmFuc2l0aW9uIiwidmlzaWJpbGl0eSIsIl9hbmltYXRpbmciLCJvbk5leHRUcmFuc2l0aW9uRW5kIiwiY2FsbFdoZW5Eb25lQW5pbWF0aW5nIiwib25TaG93IiwidHJpZ2dlclJlZmxvdyIsIm9uRGlzcGxheSIsIm9uU2hvd24iLCJfdGhpczUiLCJvbkhpZGUiLCJvbkhpZGRlbiIsIl9zbGljZWRUb0FycmF5IiwiX2FyciIsIl9uIiwiX2QiLCJfZSIsIl9zIiwiX2kiLCJzbGljZUl0ZXJhdG9yIiwiX3R5cGVvZiIsIm9iaiIsImRlZmF1bHRTaXplIiwibWluaW11bVNpemUiLCJtYXhpbXVtU2l6ZSIsImRlZmF1bHRQb3NpdGlvbiIsIlJlc2l6ZWFibGVSZXNvdXJjZUltYWdlIiwicmVzaXplQ2FsbGJhY2siLCJ0cmFuc2l0aW9uQ2xhc3MiLCJ1c2VUcmFuc2l0aW9ucyIsInRyYW5zaXRpb25JbkNsYXNzIiwiY2FsY3VsYXRlUGFkZGluZyIsImltYWdlTG9hZENhbGxiYWNrIiwib25Mb2FkIiwiaW1hZ2VFcnJvckNhbGxiYWNrIiwib25FcnJvciIsIm9uSW1hZ2VFcnJvciIsIm9uSW1hZ2VMb2FkIiwiYmFzZUluc3RydWN0aW9ucyIsImxvYWRJbml0aWFsbHkiLCJsaXN0ZW5Ub1dpbmRvd1Jlc2l6ZSIsInRpbWVvdXQiLCJyZWdpc3RlcmVkRXZlbnQiLCJfcmVnaXN0ZXJlZEV2ZW50IiwibGlzdGVuZXIiLCJlcnJvckV2ZW50IiwiVmlzaWJpbGl0eUhlbHBlciIsImltYWdlRGlzcGxheUNhbGxiYWNrIiwiX2NvbnRhaW5lciIsImRldGVjdGVkU2l6ZSIsInBpeGVsUmF0aW8iLCJCb3hIZWxwZXIiLCJib3VuZCIsImJveCIsImN1cnJlbnRTaXplIiwiX2N1cnJlbnRTaXplIiwidGhpc1dpZHRoIiwidGhpc0hlaWdodCIsImJveFdpZHRoIiwiYm94SGVpZ2h0IiwibmVlZHNVcGRhdGUiLCJyZW5kZXJTaXplIiwiY2FsY3VsYXRlUmVuZGVyU2l6ZSIsInNpemVJc0RpZmZlcmVudCIsIl9jdXJyZW50U2l6ZTIiLCJiYWNrZ3JvdW5kRWxlbWVudCIsImFwcGVuZFRvIiwib3B0aW9uQ2xhc3MiLCJhY3RpdmVDbGFzcyIsIlJpZGVTdHlsZXJTaG93Y2FzZUJ1dHRvblBpY2tlciIsIm9wdGlvbkNvbnRhaW5lciIsIm9uT3B0aW9uQ2xpY2siLCJlbXB0eSIsImZyYWdtZW50IiwiY3JlYXRlRG9jdW1lbnRGcmFnbWVudCIsIm9wdGlvbiIsIm9wdGlvbkVsZW1lbnQiLCJjaGlsZHJlbldpdGhDbGFzc2VzIiwib3B0aW9uU2VsZWN0ZWRDYWxsYmFjayIsIlJpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZSIsIl9SaWRlU3R5bGVyU2hvd2Nhc2UkUiIsImZpdG1lbnRzIiwiYWN0aXZlRml0bWVudCIsInNlZW5EaWFtZXRlcnMiLCJkaWFtZXRlckZpdG1lbnRzIiwiZml0bWVudCIsIkRpYW1ldGVyTWluIiwic2V0T3B0aW9ucyIsImRpYW1ldGVyRml0bWVudCIsIm1vZGFsQ2xhc3MiLCJiYWNrZHJvcENsYXNzIiwiUmlkZVN0eWxlclNob3djYXNlTW9kYWwiLCJjcmVhdGVCYWNrZHJvcElmTmVlZGVkIiwiYnVpbGRNb2RhbCIsInNldFZpc2liaWxpdHkiLCJwYXJlbnQiLCJmdWxsIiwiYnVpbGRBY3Rpb25zIiwiYWN0aW9uQ29udGFpbmVyIiwiX2xvb3AiLCJjcmVhdGVCdXR0b24iLCJyZW1vdmVPbkhpZGRlbiIsImhhc0NoaWxkV2l0aENsYXNzIiwiUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcCIsIl9SaWRlU3R5bGVyU2hvd2Nhc2UkQzIiLCJfdGhpczYiLCJidWlsZEJhY2tkcm9wIiwiX3RoaXM3IiwiY3JlYXRlRWxlbWVudFdpdGhDbGFzcyIsInRvcFZpc2libGVNb2RhbCIsImxhc3RTaWJsaW5nV2l0aENsYXNzIiwiX3RoaXM4IiwiaGFzU2libGluZ1dpdGhDbGFzcyIsIm9wdGlvbk1lbnVDbGFzcyIsIm9wdGlvbk1lbnVPcHRpb25DbGFzcyIsIm9wdGlvbk1lbnVPcHRpb25BY3RpdmVDbGFzcyIsIm9wdGlvbk1lbnVMb2FkaW5nQ2xhc3MiLCJSaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51IiwiY2xpY2tFdmVudCIsIm9uQ2xpY2tlZCIsInNldExvYWRpbmciLCJsb2FkaW5nIiwiZ2VuZXJhdGVPcHRpb25FbGVtZW50IiwiY2xlYXJPcHRpb25zIiwiYXBwZW5kT3B0aW9ucyIsInByZXZpb3VzbHlTZWxlY3RlZE9wdGlvbiIsImZpcnN0Q2hpbGRXaXRoQ2xhc3MiLCJuZXdTZWxlY3RlZE9wdGlvbiIsIm9wdGlvblNlbGVjdGVkQ2xhc3MiLCJvcHRpb25Mb2FkaW5nQ2xhc3MiLCJvcHRpb25Mb2FkZXJDbGFzcyIsIlJpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQiLCJoYXNNb3JlUmVzdWx0cyIsImlzTG9hZGluZyIsImlzRmlyc3RMb2FkIiwiZW5hYmxlU2hvd05vUmVzdWx0cyIsInByZXZCdXR0b24iLCJhcHBlbmQiLCJjcmVhdGVJY29uIiwibmV4dEJ1dHRvbiIsIm9uQ29tcG9uZW50Q2xpY2siLCJsb2FkTW9yZSIsIlNjcm9sbEhlbHBlciIsImF0dGFjaFdoZWVsTGlzdGVuZXIiLCJkZWx0YSIsImRlbHRhWCIsImRlbHRhWSIsIl9vcHRpb25Db250YWluZXIiLCJzY3JvbGxXaWR0aCIsInRvdWNoU2Nyb2xsSGFuZGxlciIsIm9uU2Nyb2xsIiwiX2xvYWRNb3JlIiwiY2xlYXJPcHRpb25Mb2FkZXIiLCJ1cGRhdGVCb3VuZHMiLCJfb3B0aW9uQ29udGFpbmVyMiIsInVwZGF0ZVBhZ2luYXRpb25CdXR0b25zIiwib25FbmRWaXNpYmxlIiwiYWRkT3B0aW9uTG9hZGVyIiwicHJldmlvdXNQYWdlIiwibmV4dFBhZ2UiLCJkaXNhYmxlZCIsInJlbW92ZUNoaWxkcmVuV2l0aENsYXNzZXMiLCJoYXNOb1Jlc3VsdHMiLCJEb2N1bWVudEZyYWdtZW50IiwiTm9kZSIsInNob3dOb1Jlc3VsdHMiLCJub1Jlc3VsdHNFbGVtZW50IiwibmV3TGVmdCIsInN0YXJ0TGVmdCIsImN1cnJlbnRMZWZ0Iiwic2Nyb2xsVG8iLCJzZWxlY3RlZE9wdGlvbiIsIm9sZE9wdGlvbkVsZW1lbnQiLCJzZWxlY3RPcHRpb24iLCJfZ2V0IiwicmVjZWl2ZXIiLCJGdW5jdGlvbiIsImRlc2MiLCJSaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yIiwiZ2V0RGF0YSIsImNyZWF0ZU9wdGlvbnMiLCJTY2hlbWVzIiwic2NoZW1lcyIsInNjaGVtZSIsInBhaW50U2NoZW1lIiwiY29sb3IiLCJDb2xvcnMiLCJiYWNrZ3JvdW5kQ29sb3IiLCJIZXgiLCJTY2hlbWVOYW1lIiwiY3JlYXRlQXR0cmlidXRlTGFiZWwiLCJleHRlbmREYXRhIiwib25QYWludFNjaGVtZVNlbGVjdGVkIiwiYXR0cmlidXRlcyIsInN0cmluZ0F0dHJpYnV0ZXMiLCJwb3BvdmVyQ2xhc3MiLCJSaWRlU3R5bGVyU2hvd2Nhc2VQb3BvdmVyIiwicHJvZHVjdE1vZGFsQ2xhc3MiLCJ0aXRsZUNsYXNzIiwiUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsIiwidG9nZ2xlQnV0dG9uIiwiUmlkZVN0eWxlclNob3djYXNlVG9nZ2xlQnV0dG9uIiwib25DaGFuZ2VkIiwicGFnZXMiLCJwYWdlIiwic2hvd1BhZ2UiLCJicmFuZFRpdGxlRWxlbWVudCIsInRpdGxlRWxlbWVudCIsInN1YnRpdGxlRWxlbWVudCIsInN1bW1hcnlDb250YWluZXIiLCJpbWFnZUNvbnRhaW5lciIsImNyZWF0ZUltYWdlIiwic3VtbWFyeUVsZW1lbnQiLCJhZGRQYWdlIiwiYWRkT3B0aW9uIiwibmV3UGFnZSIsIlJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3RvciIsInJlc3VsdHNQZXJMb2FkIiwiY291bnRQcm9taXNlIiwicmVzb2x2ZWQiLCJjb3VudFJlc3VsdHMiLCJwcm9kdWN0Q291bnQiLCJTdGFydCIsImdldFJlc3VsdHMiLCJwcm9kdWN0cyIsImZpbHRlclVwZGF0ZXMiLCJzZXRGaWx0ZXJzIiwicHJvZHVjdCIsInByb2R1Y3RGaWx0ZXIiLCJpbWFnZVNvdXJjZSIsInByb2R1Y3RJbWFnZVNvdXJjZSIsInByb3BlcnRpZXMiLCJwcm9kdWN0SW1hZ2VMYWJlbHMiLCJwcmltYXJ5Iiwic2Vjb25kYXJ5IiwidGVydGlhcnkiLCJhZGRPcHRpb25FbGVtZW50cyIsIm9uUHJvZHVjdENsaWNrIiwicHJvZHVjdFNlbGVjdGVkQ2FsbGJhY2siLCJSaWRlU3R5bGVyU2hvd2Nhc2VRUkNvZGVDb21wb25lbnQiLCJsaW5rIiwicXJDb2RlRWxlbWVudCIsImRpc3BsYXlVUkwiLCJzaGFyZSIsImJ1dHRvbkNsYXNzIiwiU2hhcmVCdXR0b24iLCJvbkNsaWNrIiwiY3VycmVudFVSTCIsInRhZ3MiLCJzY3JlZW5IZWlnaHQiLCJzY3JlZW4iLCJzY3JlZW5XaWR0aCIsIndpbmRvd1NldHRpbmdzIiwiYWRkU2V0dGluZyIsImFkZEJvb2xlYW5TZXR0aW5nIiwiZW5hYmxlZCIsImVuYWJsZWRCeURlZmF1bHQiLCJlbmFibGVTY3JvbGxiYXJzIiwiZW5hYmxlUmVzaXplYWJsZSIsImVuYWJsZVRvb2xiYXIiLCJlbmFibGVMb2NhdGlvbiIsIm9wZW4iLCJhcHBVUkwiLCJUd2l0dGVyU2hhcmVCdXR0b24iLCJfU2hhcmVCdXR0b24iLCJ0d2l0dGVySW50ZW50UGFyYW1ldGVycyIsImVuY29kZVVSSUNvbXBvbmVudCIsIm9wZW5OZXdXaW5kb3ciLCJGYWNlYm9va1NoYXJlQnV0dG9uIiwiX1NoYXJlQnV0dG9uMiIsImZhY2Vib29rRGlhbG9nUGFyYW1ldGVycyIsImdldFNoYXJlUmVkaXJlY3RVUkwiLCJOZXdXaW5kb3dTaGFyZUJ1dHRvbiIsIl9TaGFyZUJ1dHRvbjMiLCJRUlNoYXJlQnV0dG9uIiwiX1NoYXJlQnV0dG9uNCIsInBvcG92ZXIiLCJzaGFyZU1vZGFsQ2xhc3MiLCJSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsIiwidmVoaWNsZVJlbmRlckluc3RydWN0aW9ucyIsImltYWdlVHlwZSIsInJlc2l6ZWRDYWxsYmFjayIsInVwZGF0ZVZpZXdwb3J0Iiwib25JbnN0cnVjdGlvbnNDaGFuZ2VkIiwiY3JlYXRlU2hhcmVCdXR0b25zIiwiY2FuU3dpdGNoQW5nbGUiLCJyb3RhdGVFbGVtZW50Iiwic3dpdGNoQW5nbGUiLCJzaGFyZUJ1dHRvbnMiLCJzaGFyZUJ1dHRvbkNvbnRhaW5lciIsInNoYXJlQnV0dG9uIiwic2V0dXBWaWV3cG9ydCIsInZlaGljbGVWaWV3cG9ydCIsInV0aWxzIiwidG9QYXJhbVN0cmluZyIsImF1dGhlbnRpY2F0ZURhdGEiLCJ2aWV3cG9ydEVsZW1lbnQiLCJ2aWV3cG9ydFVwZGF0ZWQiLCJIYXNBbmdsZWRJbWFnZSIsIkhhc1NpZGVJbWFnZSIsImdldFNoYXJlVVJMIiwic2V0RW5hYmxlZCIsIlVSTCIsInVwZGF0ZVVSTCIsIlNob3J0VVJMIiwic2hhcmVVUkwiLCJzaGFyZVRhZ3MiLCJzaGFyZU1lc3NhZ2UiLCJXaGVlbEZpdG1lbnQiLCJzZXRVUkwiLCJzZXRUYWdzIiwic2V0TWVzc2FnZSIsIlR5cGUiLCJlbGVtZW50Q2xhc3NOYW1lIiwiZGVmYXVsdFN1c3BlbnNpb25SYW5nZSIsIlJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3RvciIsInZlaGljbGVEZXNjcmlwdGlvbiIsInN1c3BlbnNpb25PcHRpb25zIiwiZGVjaW1hbFBsYWNlcyIsInVuaXRBYmJyZXZpYXRpb24iLCJzdXNwZW5zaW9uUmFuZ2VzIiwic3VzcGVuc2lvblJhbmdlS2V5IiwiU3R5bGVUeXBlIiwiRHJpdmVUeXBlIiwic3VzcGVuc2lvblJhbmdlIiwiZnJvbnRBbmRSZWFyIiwiTm9VSVN1c3BlbnNpb25FbGVtZW50Iiwic3VzcGVuc2lvbkNoYW5nZWRDYWxsYmFjayIsInN1c3BlbnNpb25DaGFuZ2VDYWxsYmFjayIsIlN1c3BlbnNpb24iLCJTdXNwZW5zaW9uVUlFbGVtZW50IiwiX1N1c3BlbnNpb25VSUVsZW1lbnQiLCJzbGlkZXJFbGVtZW50IiwicG9zdGZpeCIsIlN0cmluZ0hlbHBlciIsImVzY2FwZVJlZ0V4cCIsInNsaWRlciIsImZvcm1hdHRlZFZhbHVlcyIsIm9uU3VzcGVuc2lvbkNoYW5nZWQiLCJiYXJDbGFzcyIsInRhYkNsYXNzIiwidGFiQmFja2dyb3VuZENsYXNzIiwiYWN0aXZlVGFiQ2xhc3MiLCJtb2RlQ2xhc3MiLCJSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIiLCJzZXRNb2RlIiwidXBkYXRlVGFiRGlzcGxheSIsInRhYnMiLCJ0YWJQZXJjZW50IiwidGFiIiwidXBkYXRlQmFja2dyb3VuZFBvbHlnb24iLCJ0YWJzT3JUYWJDcmVhdGVPcHRpb25zIiwiVGFiIiwiY29weSIsImN1cnJlbnRUYWIiLCJzZXRBY3RpdmVUYWIiLCJuZXdUYWIiLCJvbGRUYWIiLCJ0YWJTd2l0Y2hlZENhbGxiYWNrIiwiY3VycmVudEVsZW1lbnQiLCJvblRhYkNsaWNrIiwidGFiRm9yRWxlbWVudCIsImljb25DbGFzcyIsImljb24iLCJiYWNrZ3JvdW5kTW9kZSIsIndyYXAiLCJzdmdTdXBwb3J0ZWQiLCJjcmVhdGVTVkdFbGVtZW50IiwicHJlc2VydmVBc3BlY3RSYXRpbyIsImJhY2tncm91bmRQb2x5Z29uIiwidHJpYW5nbGVIZWlnaHQiLCJ0cmlhbmdsZVdpZHRoIiwidGFibGVDbGFzcyIsImhlYWRDbGFzcyIsImJvZHlDbGFzcyIsImJvZHlMb2FkaW5nQ2xhc3MiLCJSaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZSIsImNvbHVtbnMiLCJ0YWJsZSIsInRoZWFkIiwidGJvZHkiLCJnZW5lcmF0ZUhlYWRlcnMiLCJyb3dzIiwiYXBwZW5kUm93cyIsInN0YXJ0TG9hZGluZyIsImNvbHVtbiIsImhlYWRlciIsImdlbmVyYXRlZEhlYWRlciIsImhlYWRlclJvdyIsImdlbmVyYXRlSGVhZGVyQ2VsbCIsImNlbGwiLCJnZW5lcmF0ZWRDZWxsIiwidHIiLCJnZW5lcmF0ZVJvd0NlbGwiLCJyb3dzRnJhZ21lbnQiLCJnZW5lcmF0ZVJvdyIsImVtcHR5Q2VsbFN0cmluZyIsIlJpZGVTdHlsZXJTaG93Y2FzZVRpcmVTZWxlY3RvciIsInN0YXRlRGF0YSIsInN1cHBvcnRlZFZlaGljbGVJbWFnZXJ5IiwiYW5nbGVkIiwic2lkZSIsImRlZmF1bHRGaWx0ZXJzIiwiSGFzQ2F0YWxvZ0ltYWdlIiwiTW9kZWxzIiwidGlyZSIsIlRpcmVGaXRtZW50UmVzb3VyY2VUeXBlIiwiVGlyZU1vZGVsIiwiVGlyZU1vZGVsSUQiLCJJbmNsdWRlU2hhZG93IiwiVGlyZU1vZGVsTmFtZSIsInRvZ2dsZUJ1dHRvbkNsYXNzIiwib3B0aW9uQWN0aXZlQ2xhc3MiLCJzZWxlY3RPcHRpb25FbGVtZW50IiwiY2hpbGRJbmRleCIsImNoaWxkT3B0aW9uRWxlbWVudCIsIl9SaWRlU3R5bGVyU2hvd2Nhc2UkTSIsIm9uVmVoaWNsZVNlbGVjdGVkIiwiZ2VuZXJhdGVWZWhpY2xlUHJldmlld1NldHRpbmdzIiwib25BdXRoZW50aWNhdGVkIiwiY29udGVudENvbnRhaW5lciIsImJ1aWxkQ29weSIsImNob29zZVZlaGljbGVCdXR0b24iLCJsYXJnZSIsImNyZWF0ZUVsZW1lbnRXaXRoSUQiLCJlbWJvbGRlbkZpcnN0V29yZCIsImZpcnN0V29yZCIsImdldEZpcnN0V29yZCIsInJlbWFpbmluZ1N0cmluZyIsInN1YnN0ciIsImNyZWF0ZUVsZW1lbnRXaXRoVGV4dCIsImNyZWF0ZVRleHRFbGVtZW50Iiwic2hvd1doZWVscyIsIm1vZGVscyIsIndoZWVsQ29udGFpbmVyIiwibW9kZWxJbWFnZXMiLCJvbk1vZGVsSW1hZ2VMb2FkIiwiY29tcGxldGUiLCJtb2RlbCIsIm1vZGVsSW1hZ2VTb3VyY2UiLCJ3aGVlbCIsIldoZWVsTW9kZWwiLCJXaGVlbE1vZGVsSUQiLCJXaGVlbEZpdG1lbnRSZXNvdXJjZVR5cGUiLCJtb2RlbEltYWdlIiwic2NhbGUiLCJjdXN0b21pemF0aW9uc0NsYXNzIiwibG9hZGluZ0NsYXNzIiwiY3VzdG9taXphdGlvbkNvbXBvbmVudE9yZGVyIiwiY3VzdG9taXphdGlvbkNvbXBvbmVudFNldHRpbmdzIiwicGFpbnQiLCJzaG93RmlsdGVyQnV0dG9uIiwid2hlZWxzIiwidGlyZXMiLCJzdXNwZW5zaW9uIiwidXBkYXRlVGFiTGF5b3V0IiwiY291bnRUaXJlQnJhbmRzIiwiY291bnRXaGVlbEJyYW5kcyIsInJlc3VsdHMiLCJ0aXJlQnJhbmRDb3VudCIsIndoZWVsQnJhbmRDb3VudCIsInVwZGF0ZVRhYnMiLCJzZXR1cFRhYnMiLCJjaGFuZ2VXaGVlbFNpemUiLCJuZXdPcHRpb24iLCJXaGVlbEZpdG1lbnRJRCIsImNvbXBvbmVudHMiLCJ2ZWhpY2xlRGV0YWlscyIsIlZlaGljbGVEZXRhaWxzIiwiV2hlZWxEZXRhaWxzIiwiVGlyZURldGFpbHMiLCJ0YWJCYXIiLCJjdXN0b21pemF0aW9uQ29tcG9uZW50Q29udGFpbmVyIiwiZmlsdGVyQnV0dG9uIiwic2tpbm55Iiwic2hvd0ZpbHRlcnMiLCJjdXJyZW50UmVuZGVySW5zdHJ1Y3Rpb25zIiwicGFpbnRTd2F0Y2hDbGlja0NhbGxiYWNrIiwic2V0QWN0aXZlQ3VzdG9taXphdGlvbkNvbXBvbmVudCIsImN1c3RvbWl6YXRpb25Db21wb25lbnRzIiwidmlld3BvcnQiLCJzZXRUYWJzIiwiZ2V0Q3VycmVudEJyZWFrcG9pbnQiLCJ2ZWhpY2xlQ2hhbmdlZCIsIkdVSURIZWxwZXIiLCJhcmVFcXVhbCIsInRpcmVPcHRpb25DaGFuZ2VkIiwidmVoaWNsZVRpcmVPcHRpb25EZXNjcmlwdGlvbiIsIm9uVmVoaWNsZUNoYW5nZWQiLCJjbGVhckFjdGl2ZVRhYiIsImdldFZlaGljbGVEZXNjcmlwdGlvbiIsImdldFZlaGljbGVUaXJlT3B0aW9uIiwicmVzcG9uc2VzIiwidmVoaWNsZURlc2NyaXB0aW9uTW9kZWwiLCJEZXNjcmlwdGlvbnMiLCJ2ZWhpY2xlVGlyZU9wdGlvbiIsInNlbGVjdGVkVGlyZU9wdGlvbklEIiwidGlyZU9wdGlvbiIsImluaXRpYWxpemVGb3JOZXdWZWhpY2xlIiwiUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3RvciIsInNldE9wdGlvbklzTG9hZGluZyIsIlBhaW50Q29sb3IiLCJIYXNBbmdsZUltYWdlIiwiRml0bWVudHMiLCJiZXN0Rml0bWVudCIsInRhcmdldERpYW1ldGVyIiwiSW5zaWRlRGlhbWV0ZXIiLCJzZXRGaXRtZW50T3B0aW9ucyIsInJlbmRlclVwZGF0ZSIsImdldFZhbHVlcyIsImN1c3RvbWl6YXRpb25Db21wb25lbnQiLCJjb21wb25lbnRLZXkiLCJnZXRDb21wb25lbnRLZXkiLCJhY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50Iiwic2V0VGV4dCIsImZpbHRlck1vZGFsIiwiUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwiLCJmaWx0ZXJQcm92aWRlciIsInNob3dDb3VudFRleHRGb3JtYXQiLCJSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsIiwid2hlZWxNb2RlbCIsIldoZWVsTW9kZWxOYW1lIiwiV2hlZWxNb2RlbEZpbmlzaERlc2NyaXB0aW9uIiwic3VtbWFyeVRhYmxlIiwiYnVpbGRTcGVjc1BhZ2UiLCJJbmNsdWRlUHJvbW90aW9ucyIsIkluY2x1ZGVQcmljaW5nIiwiYnVpbGRTdW1tYXJ5VGFibGUiLCJzcGVjc1RhYmxlIiwiYWxsU2l6ZVByaWNlQ29tYmluYXRpb25zIiwiZml0bWVudFByaWNlIiwiZ2V0Rml0bWVudFJldGFpbFByaWNlRGF0YU9iamVjdCIsImZpdG1lbnRQcmljZUFtb3VudCIsIldoZWVsUHJpY2luZ0Ftb3VudCIsIldpZHRoTWluIiwicHJpY2UiLCJXaWR0aE1heCIsIkRpYW1ldGVyTWF4Iiwic2l6ZVByaWNlUmFuZ2VzIiwic2l6ZVByaWNlQ29tYm8iLCJwcmljZVJhbmdlIiwic2l6ZSIsIkluZmluaXR5IiwiTnVtYmVySGVscGVyIiwiZXh0ZW5kUmFuZ2UiLCJzdW1tYXJ5VGFibGVSb3dzIiwicHJpY2VJc1Vuc3BlY2lmaWVkIiwicHJpY2VTdHJpbmciLCJnZXRGaXRtZW50U2l6ZURlc2NyaXB0aW9uIiwiZm9ybWF0Q2VsbCIsImdldEZpdG1lbnRQcmljZSIsImdldEZpdG1lbnRJdGVtTnVtYmVyIiwic3BlY3NDb250YWluZXIiLCJQcmljaW5nIiwibm9QcmljZVN0cmluZyIsInJldGFpbFByaWNlRGF0YU9iamVjdCIsIml0ZW1OdW1iZXIiLCJXaGVlbFByaWNpbmdJdGVtTnVtYmVyIiwiUGFydE51bWJlciIsIkluY2x1ZGVNZXRhS2V5cyIsInRpcmVOYW1lRWxlbWVudCIsInRpcmVEZXNjcmlwdGlvbkVsZW1lbnQiLCJhZnRlckRhdGFDaGFuZ2UiLCJvbkRhdGFDaGFuZ2UiLCJ2ZWhpY2xlUGFpbnRTd2F0Y2hFbGVtZW50IiwidmVoaWNsZURlc2NyaXB0aW9uRWxlbWVudCIsInRpcmVTaXplRWxlbWVudCIsIndoZWVsTmFtZUVsZW1lbnQiLCJ3aGVlbERlc2NyaXB0aW9uRWxlbWVudCIsInNob3dXaGVlbE1vZGFsIiwiZmlsdGVyTW9kYWxDbGFzcyIsImZpbHRlck1vZGFsTWVudVRpdGxlQ2xhc3MiLCJidWlsZFNob3dCdXR0b24iLCJidWlsZEZpbHRlck1lbnVzIiwidXBkYXRlQ291bnQiLCJzaG93QnV0dG9uIiwibWVudXNDb250YWluZXIiLCJtZW51TG9hZGVkUHJvbWlzZXMiLCJtZW51cyIsIm1lbnVMb2FkZWRQcm9taXNlIiwiX21lbnUiLCJwcmV2aWV3RmlsdGVycyIsInNldENvdW50VGV4dCIsImdldENvdW50IiwiaXRlbU1hdGNoIiwibmV3QXJyYXkiLCJuZXdBcnJheUluZGV4IiwiYXJyYXlJbmRleCIsIm1hcEZ1bmN0aW9uIiwidGhpc0FyZyIsInJlZHVjZSIsInJlZHVjZXIiLCJpbml0aWFsVmFsdWUiLCJhY2N1bXVsYXRvciIsInNjYWxhciIsImJvdW5kc01pbiIsImJvdW5kc01heCIsInNjYWxlVG9NYXgiLCJzY2FsZVRvTWluIiwib2N0IiwiaGV4VG9CeXRlIiwiYnl0ZVRvSGV4IiwidW5wYXJzZSIsImJ0aCIsImlkQSIsImlkQiIsImd1aWRBIiwiZ3VpZEIiLCJlbGVtZW50c01hdGNoaW5nIiwibWF0Y2hpbmdFbGVtZW50cyIsIm1hdGNoaW5nRWxlbWVudHNJbmRleCIsImZpcnN0RWxlbWVudE1hdGNoaW5nIiwibGFzdEVsZW1lbnRNYXRjaGluZyIsImNoaWxkcmVuTWF0Y2hpbmciLCJmaXJzdENoaWxkTWF0Y2hpbmciLCJfbGVuIiwiX2tleSIsImZsYXR0ZW5DbGFzc0xpc3QiLCJoYXNDbGFzc2VzIiwiX2xlbjMiLCJfa2V5MyIsIl9sZW40IiwiX2tleTQiLCJhcHBseU9wdGlvbnMiLCJodG1sRWxlbWVudCIsImNoaWxkRWxlbWVudCIsIl9rZXk3IiwiX2tleTgiLCJ0YWdOYW1lT3JEaXZPcHRpb25zIiwiYXBwZW5kRGVzY3JpcHRpb25MaXN0VmFsdWVzIiwiZGVzY3JpcHRpb25MaXN0IiwiZGVzY3JpcHRpb24iLCJfbGVuMiIsIl9rZXkyIiwiX2xlbjUiLCJfa2V5NSIsIl9sZW42IiwiX2tleTYiLCJzaWJsaW5nIiwidGFnTmFtZU9yQ2xhc3NOYW1lIiwiYnV0dG9uQ2xhc3NOYW1lIiwiaWNvbkNsYXNzUHJlZml4IiwiaWNvbk9yT3B0aW9ucyIsInN0YXJ0c1dpdGgiLCJjcmVhdGVEZXNjcmlwdGlvbkxpc3QiLCJvbmNlIiwidXNlQ2FwdHVyZSIsIm9uY2VMaXN0ZW5lciIsImFzc2lnbk9iamVjdHMiLCJnZXRLZXlzIiwib25mdWxmaWxsZWQiLCJvbnJlamVjdGVkIiwicmV0dXJuUHJvbWlzZSIsIm9uZnVsZmlsbGVkUmVzdWx0IiwiaXNQcm9taXNlIiwiZXhjZXB0aW9uIiwib25yZWplY3RlZFJlc3VsdCIsInByb21pc2VzIiwibWVyZ2VkIiwiY3VycmVudFByb21pc2UiLCJQcm9taXNlIiwic2Nyb2xsRXZlbnQiLCJtb3VzZXdoZWVsRXZlbnRTY2FsZSIsIm9ubW91c2V3aGVlbCIsIm5vcm1hbGl6ZWRFdmVudCIsIm9yaWdpbmFsRXZlbnQiLCJkZWx0YU1vZGUiLCJkZWx0YVoiLCJ3aGVlbERlbHRhIiwid2hlZWxEZWx0YVgiLCJlbmRzV2l0aCIsImVuZGluZyIsImVuZGluZ0xlbmd0aCIsInJlUmVnRXhwQ2hhciIsInJlSGFzUmVnRXhwQ2hhciIsImhhc0dldENvbXB1dGVkU3R5bGUiLCJoYXNDdXJyZW50U3R5bGVTdXBwb3J0IiwicGFyc2VQaXhlbHMiLCJwaXhlbHMiLCJtYXhUb3VjaFBvaW50cyIsImNyZWF0ZVNWR1JlY3QiLCJvZmZzZXRQb3NpdGlvbmluZ3MiLCJzdWJjbGFzc0xpc3QiLCJvbGRUcmFuc2l0aW9uIiwiY2xhc3NBcnJheSIsIl9nZXRDb21wdXRlZFN0eWxlIiwicGFkZGluZ0JvdHRvbSIsInBhZGRpbmdUb3AiLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsInBvaW50ZXJFdmVudHMiLCJkZWZhdWx0VHJhbnNpdGlvbkluQ2xhc3MiLCJFbiIsInZlaGljbGUtc2VsZWN0LXZpc3VhbGl6ZS1pbnRybyIsInZlaGljbGUtc2VsZWN0LXNoYXJlLWludHJvIiwic2VsZWN0LXlvdXItdmVoaWNsZSIsImZyb250IiwicmVhciIsInZlaGljbGUtZGV0YWlscyIsImNoYW5nZS12ZWhpY2xlIiwid2hlZWwtZGV0YWlscyIsInRpcmUtZGV0YWlscyIsInNlbGVjdC1wYWludCIsInNlbGVjdC13aGVlbHMiLCJzZWxlY3QtdGlyZXMiLCJhZGp1c3Qtc3VzcGVuc2lvbiIsImNoYW5nZS13aGVlbC1zaXplIiwibm8tcmVzdWx0cyIsIm5vLXdoZWVsLXJlc3VsdHMiLCJ3aGVlbC1mZWF0dXJlcy1zcGVjcyIsInNoYXJlLW15LXZlaGljbGUiLCJzaGFyZS1pbnN0cnVjdGlvbnMiLCJuby1kZXNjcmlwdGlvbi13aGVlbCIsInNob3ctc3BlY3MiLCJib2x0LXBhdHRlcm4iLCJjZW50ZXJib3JlIiwiaXRlbS1udW1iZXIiLCJicmFuZHMiLCJmaW5pc2hlcyIsInNpemVzIiwiYWxsLWJyYW5kcyIsImFsbC1maW5pc2hlcyIsImFsbC1zaXplcyIsImZpbHRlci1yZXN1bHRzIiwibG9hZGluZy1lbGxpcHNpcyIsInNob3ctY291bnQtZm9ybWF0LXRpcmVzIiwic2hvdy1jb3VudC1mb3JtYXQtd2hlZWxzIiwic3BlY2lmaWNhdGlvbnMiLCJzcGVlZC1yYXRpbmciLCJhbnktc3BlZWQtcmF0aW5ncyIsImZlYXR1cmVzIiwiYW55LWZlYXR1cmVzIiwiZmluaXNoIiwic3VtbWFyeSIsImNoZWNrLW91dC1teS12ZWhpY2xlIl0sIm1hcHBpbmdzIjoiQUFJQSxTQUFBQSxnQ0FBQUMsR0FPQSxTQUFBQyxFQUFBQyxHQUNBQSxFQUFBQSxNQUVBLElBQUEsSUFBQUMsRUFBQSxFQUFBQSxFQUFBQyxVQUFBQyxPQUFBRixJQUNBLEdBQUFDLFVBQUFELEdBR0EsSUFBQSxJQUFBRyxLQUFBRixVQUFBRCxHQUNBQyxVQUFBRCxHQUFBSSxlQUFBRCxLQUNBSixFQUFBSSxHQUFBRixVQUFBRCxHQUFBRyxJQUlBLE9BQUFKLEVBbUVBLFNBQUFNLEVBQUFDLEVBQUFDLEdBQ0EsR0FBQUQsRUFBQSxDQUNBLGlCQUFBLEVBQUFBLEVBQUFFLFNBQUFDLGlCQUFBSCxHQUNBQSxFQUFBSSxVQUFBSixHQUFBQSxJQUVBLElBQUEsSUFBQU4sRUFBQSxFQUFBQSxFQUFBTSxFQUFBSixPQUFBRixJQUNBLElBQUFNLEVBQUFOLEdBQUFXLFVBQUFDLE9BQUFOLEVBQUFOLEdBQUFXLFVBQUFKLEdBQ0EsSUFBQUQsRUFBQU4sR0FBQVcsVUFBQSxLQUFBRSxRQUFBLElBQUFOLEVBQUEsS0FBQSxJQUVBRCxFQUFBTixHQUFBVyxXQUFBLElBQUFKLElBWUEsU0FBQU8sRUFBQVIsRUFBQUMsR0FDQSxHQUFBRCxFQUFBLENBQ0EsaUJBQUEsRUFBQUEsRUFBQUUsU0FBQUMsaUJBQUFILEdBQ0FBLEVBQUFJLFVBQUFKLEdBQUFBLElBS0EsSUFBQSxJQUpBUyxFQUFBLElBQUFDLE9BQUEsSUFBQVQsRUFBQSxJQUFBLEtBQ0FVLEVBQUEsSUFBQUQsT0FBQSxNQUFBVCxFQUFBLFFBQUEsS0FDQVcsRUFBQSxJQUFBRixPQUFBLFFBQUFULEVBQUEsTUFBQSxLQUVBUCxFQUFBLEVBQUFBLEVBQUFNLEVBQUFKLE9BQUFGLElBQ0FNLEVBQUFOLEdBQUFXLFVBQUFMLEVBQUFOLEdBQUFXLFVBQUFRLFFBQUFKLEVBQUEsS0FDQVQsRUFBQU4sR0FBQVcsVUFBQUwsRUFBQU4sR0FBQVcsVUFBQVEsUUFBQUYsRUFBQSxJQUNBWCxFQUFBTixHQUFBVyxVQUFBTCxFQUFBTixHQUFBVyxVQUFBUSxRQUFBRCxFQUFBLElBRUEsSUFBQVosRUFBQU4sR0FBQVcsVUFBQUMsUUFBQU4sRUFBQU4sR0FBQW9CLGdCQUFBLFVBb0NBLFNBQUFDLElBRUEsSUFEQWIsU0FBQWMsZUFBQSxnQkFDQSxDQUNBLElBQUFDLEVBQUFmLFNBQUFnQixjQUFBLE9BQ0FELEVBQUFFLEdBQUEsZUFDQUYsRUFBQUcsTUFBQUMsUUFBQSxFQUNBSixFQUFBRyxNQUFBRSxXQUFBLHFCQUNBQyxJQUFBQyxZQUFBUCxHQU1BLFdBQ0EsSUFBQVEsRUFBQXZCLFNBQUFjLGVBQUEsZ0JBQ0FTLEdBQ0FWLElBRUFXLFdBQUEsV0FDQUQsRUFBQUwsTUFBQUMsUUFBQSxJQUNBSSxFQUFBRSxvQkFBQSxlQUNBLEdBWkFDLElBZUEsU0FBQUMsSUFDQSxJQUFBSixFQUFBdkIsU0FBQWMsZUFBQSxnQkFDQVMsSUFDQUEsRUFBQUwsTUFBQUMsUUFBQSxFQUNBSSxFQUFBRSxvQkFBQSxXQUNBRixFQUFBSyxXQUFBQyxZQUFBTixNQUtBLFNBQUFPLElBQ0EsSUFBQUMsRUFBQS9CLFNBQUFDLGlCQUFBLG1DQUNBK0IsRUFBQWhDLFNBQUFDLGlCQUFBLGlCQUFBLEdBRUFnQyxFQUFBQyxFQUFBQyxNQUFBLEdBQUFDLEVBQUFDLEVBQUFGLE1BQUEsR0FFQUQsS0FDQUcsS0FDQUMsR0FBQSxFQUVBQyxFQUFBbEMsUUFBQTJCLEVBQUFRLGFBQUEsUUFBQSxHQUNBUixFQUFBZCxNQUFBQyxRQUFBLEVBQ0FhLEVBQUFQLG9CQUFBLGNBQ0FnQixRQUFBQyxLQUFBWCxFQUFBLFNBQUFZLEdBQ0EsSUFBQUMsRUFBQUQsRUFBQUgsYUFBQSxNQUNBRCxFQUFBbEMsUUFBQXVDLElBQUEsR0FDQUQsRUFBQWYsV0FBQUMsWUFBQWMsS0FNQSxJQUFBLElBRkFFLEtBRUFyRCxFQUFBLEVBQUFBLEVBQUF5QyxFQUFBdkMsT0FBQUYsSUFBQSxDQUNBLElBQUFzRCxFQUFBYixFQUFBekMsR0FBQXVELE1BQUEsS0FDQSxHQUFBRCxFQUFBcEQsU0FDQW1ELEVBQUFDLEVBQUEsSUFBQUEsRUFBQSxJQUlBLEdBQUF6RCxFQUFBMkQsVUFBQSxtQkFBQTNELEVBQUEyRCxTQUFBLENBQ0EsSUFBQUMsR0FDQUMsb0JBQUEsRUFDQUMsUUFBQU4sRUFDQU8sa0JBQUFoQixHQUVBL0MsRUFBQTJELFNBQUFDLFFBR0FJLFFBQUFDLEtBQUEsb0NBR0EzQixJQUNBckIsRUFBQU4sU0FBQXVELEtBQUEsbUJBR0FGLFFBQUFDLEtBQUEsdUNBT0EsU0FBQWpDLElBQ0EsTUFBQSxtQkFBQWhDLEVBQUFtRSxVQUFBbkUsRUFBQW1FLFlBRUFuRSxFQUFBbUUsVUFBQW5FLEVBQUFtRSxVQUVBeEQsU0FBQXVELEtBcUJBLFNBQUFFLEVBQUFDLEVBQUFDLEVBQUFDLEdBQ0EsSUFBQUMsRUFBQTdELFNBQUFjLGVBQUEsa0JBQ0EsR0FBQStDLEVBQUEsQ0FFQSxJQUFBQyxFQUFBRCxFQUFBRSxXQUFBLEdBU0EsR0FOQUQsRUFBQTdDLEdBQUEsYUFBQStDLG1CQUNBekIsRUFBQTBCLEtBQUEsYUFBQUQsb0JBQ0FGLEVBQUEzRCxXQUFBLGNBQUE2RCxtQkFDQTNDLElBQUFDLFlBQUF3QyxRQUdBLElBQUEsRUFBQSxDQUNBSCxFQUFBckUsR0FDQTRFLFVBQUFOLEVBQ0FqQixVQUFBbUIsR0FDQUgsR0FFQSxJQUFBUSxFQUFBTCxFQUFBN0QsaUJBQUEscUJBQ0F3QyxRQUFBQyxLQUFBeUIsRUFBQSxTQUFBQyxHQUNBLElBQUFDLEVBQUEsU0FBQUMsR0FDQUEsRUFBQUMsT0FBQUMsb0JBQUFGLEVBQUFHLEtBQUFKLEdBQ0EsSUFBQUssRUFBQWYsRUFBQU8sVUFDQVMsRUFBQWhCLEVBQUFoQixVQUNBaUMsRUFBQUYsRUFBQUMsR0FBQSxHQUNBRSxLQUNBLFdBS0EsR0FKQTNDLEVBQUF4QyxRQUFBd0MsRUFBQTRDLE1BQ0F6QyxFQUFBM0MsUUFBQTJDLEVBQUF5QyxNQUNBSCxFQUFBL0MsWUFBQStDLEVBQUEvQyxXQUFBQyxZQUFBOEMsR0FFQXRGLEVBQUEwRixrQkFBQSxtQkFBQTFGLEVBQUEwRixpQkFBQSxDQUdBLElBQUEsSUFGQWxDLEtBRUFyRCxFQUFBLEVBQUFBLEVBQUEwQyxFQUFBeEMsT0FBQUYsSUFBQSxDQUNBLElBQUFzRCxFQUFBWixFQUFBMUMsR0FBQXVELE1BQUEsS0FDQSxHQUFBRCxFQUFBcEQsU0FDQW1ELEVBQUFDLEVBQUEsSUFBQUEsRUFBQSxJQUlBLElBQUFrQyxHQUNBQyxjQUFBcEMsRUFDQU8sa0JBQUFmLEdBR0FoRCxFQUFBMEYsaUJBQUFDLE9BS0FaLEVBQUFjLGlCQUFBLFFBQUFiLEdBQUEsS0FLQSxtQkFBQVgsR0FBQUEsRUFBQUksRUFBQUgsR0FHQSxJQUFBd0IsRUFBQXJCLEVBQUE3RCxpQkFBQSxjQVNBLFNBUkF3QyxRQUFBQyxLQUFBeUMsRUFBQSxTQUFBQyxHQUNBQSxFQUFBQyxRQUFBLFdBQ0F2RCxPQUlBa0MscUJBRUFGLEdBV0EsU0FBQWMsRUFBQVUsRUFBQUMsRUFBQUMsR0FHQSxHQUZBQSxJQUFBQSxFQUVBRixHQUFBQyxFQUFBLENBSUEsSUFBQUUsRUFBQUMsV0FBQUMsVUFDQUMsRUFBQUYsV0FBQUMsVUFFQSxJQUFBSCxFQUFBLENBQ0EsSUFBQUssRUFBQUMsU0FBQVAsRUFBQXJFLE1BQUE2RSxPQUFBLEtBQUEsRUFDQUMsRUFBQUYsU0FBQVIsRUFBQXBFLE1BQUE2RSxPQUFBLEtBQUEsRUFDQUMsR0FBQUgsSUFBQUcsRUFBQUgsRUFBQSxHQUNBUCxFQUFBcEUsTUFBQTZFLE9BQUFDLEVBR0FDLEVBQ0FULEdBQ0FGLEVBQUFwRSxNQUFBZ0YsUUFBQSxRQUNBckcsRUFBQXlGLEVBQUEsTUFFQU0sRUFBQU8sVUFFQTNFLFdBQUEsV0FDQWxCLEVBQUFpRixFQUFBLE1BQ0FBLEVBQUE5RCxvQkFBQSxXQUNBOEQsRUFBQXJFLE1BQUFnRixRQUFBLE9BQ0FULEVBQUFVLGFBRUEsTUFHQWIsRUFBQXBFLE1BQUFnRixRQUFBLFFBRUExRSxXQUFBLFdBQ0EzQixFQUFBeUYsRUFBQSxNQUNBQSxFQUFBN0Qsb0JBQUEsV0FDQThELEVBQUFyRSxNQUFBZ0YsUUFBQSxPQUNBNUYsRUFBQWlGLEVBQUEsTUFFQUssRUFBQU8sVUFDQVYsRUFBQVUsYUFFQSxNQUlBWCxHQUNBRixFQUFBcEUsTUFBQWdGLFFBQUEsUUFDQXJHLEVBQUF5RixFQUFBLE1BRUFoRixFQUFBaUYsRUFBQSxNQUNBQSxFQUFBckUsTUFBQWdGLFFBQUEsU0FHQVosRUFBQXBFLE1BQUFnRixRQUFBLFFBQ0FyRyxFQUFBeUYsRUFBQSxNQUVBQyxFQUFBckUsTUFBQWdGLFFBQUEsT0FDQTVGLEVBQUFpRixFQUFBLE9BR0FLLEVBQUFPLFVBQ0FWLEVBQUFVLFdBR0EsSUFBQUMsRUFBQVYsV0FBQUMsVUFDQVUsRUFBQSxXQUNBLElBQUFDLEVBQUFWLEVBQUFXLFFBQ0FDLEVBQUFmLEVBQUFjLFFBR0EsR0FBQSxJQUFBRCxHQUFBLElBQUFFLEVBR0EsT0FBQSxJQUFBRixHQUFBLElBQUFFLEVBQUFKLEVBQUFLLGNBR0FMLEVBQUFELFdBTUEsT0FIQVAsRUFBQWMsT0FBQUwsR0FDQVosRUFBQWlCLE9BQUFMLEdBRUFELEdBU0EsU0FBQU8sRUFBQUMsRUFBQUMsR0FDQSxJQUFBQyxHQUNBQyxVQUFBMUUsR0FHQXdFLEdBQUFBLEVBQUFHLGtCQUNBQyxFQUFBTCxFQUFBQyxFQUFBRyxtQkFHQXRCLFdBQUF3QixLQUFBQyxNQUNBQyxPQUFBLGlCQUNBQyxLQUFBUCxFQUNBOUQsU0FBQSxTQUFBc0UsR0FDQUEsRUFBQUMsVUFDQUQsRUFBQUUsa0JBQ0FuSSxFQUFBb0ksb0JBQ0EvQixXQUFBd0IsS0FBQUMsTUFDQUMsT0FBQSwrQkFDQUMsTUFBQUsscUJBQUFKLEVBQUFFLGtCQUFBRyxPQUNBWCxrQkFBQU0sRUFBQUUsa0JBQ0F4RSxTQUFBLFNBQUE0RSxHQUNBLEdBQUFBLEVBQUFMLFFBQUEsQ0FDQSxJQUFBTSxFQUFBRCxFQUFBRSxRQUNBZCxFQUFBZSxLQUFBZixrQkFDQSxHQUFBLEdBQUFhLEVBQUFuSSxPQUFBLENBQ0FzSSxFQUFBLFNBQUFDLEdBQ0EsSUFBQUMsRUFBQUQsRUFBQUUsTUFBQSxZQUFBQyxFQUFBSCxFQUFBSSxLQUFBLFlBQ0EsT0FBQUgsR0FBQUUsRUFBQUYsRUFDQSxNQUFBQSxFQUFBLE9BQUFFLEVBSEEsQ0FJQVAsRUFBQSxJQUNBYixFQUFBc0IsaUJBQUFDLGFBQUFWLEVBQUEsR0FBQSxhQUFBVyxpQkFBQVIsR0FDQWYsRUFBQUwsRUFBQUksT0FFQSxDQVFBLElBQUEsSUFQQXlCLEdBQ0FDLE9BQUEsS0FDQUMsWUFBQSx3QkFDQUMsTUFBQSxZQUNBQyxJQUFBLGFBQ0FDLFlBRUF0SixFQUFBLEVBQUFBLEVBQUFxSSxFQUFBbkksT0FBQUYsSUFBQSxDQUNBLElBQUF3SSxFQUFBLFNBQUFDLEdBQ0EsSUFBQUMsRUFBQUQsRUFBQUUsTUFBQSxZQUFBQyxFQUFBSCxFQUFBSSxLQUFBLFlBQ0EsT0FBQUgsR0FBQUUsRUFBQUYsRUFDQSxNQUFBQSxFQUFBLE9BQUFFLEVBSEEsQ0FJQVAsRUFBQXJJLElBQ0FpSixFQUFBSyxRQUFBN0UsTUFBQThFLE1BQUEsS0FBQUMsTUFBQWhCLEVBQUFMLE1BQUFFLEVBQUFySSxHQUFBLGVBRUF5SixFQUFBckMsRUFBQTZCLEVBQUF6QixTQUdBQyxFQUFBTCxFQUFBSSxNQUtBQyxFQUFBTCxFQUFBVSxFQUFBRSxtQkFHQXlCLEVBQUFyQyxFQUFBVSxFQUFBNEIsVUFjQSxTQUFBRCxFQUFBckMsRUFBQXVDLEVBQUFuQyxHQUNBLElBQUFvQyxFQUFBeEMsRUFBQTNHLGlCQUFBLHVCQUFBLEdBQ0FvSixFQUFBekMsRUFBQTNHLGlCQUFBLGVBQUEsR0FDQXFKLEVBQUExQyxFQUFBM0csaUJBQUEsbUJBQUEsR0FDQXNKLEVBQUEzQyxFQUFBM0csaUJBQUEsa0JBQUEsR0FDQXVKLEVBQUE1QyxFQUFBM0csaUJBQUEsY0FBQSxHQUVBd0osRUFBQU4sRUFBQUwsUUFDQVksRUFBQVAsRUFBQU4sSUFDQWMsRUFBQVIsRUFBQVAsTUFDQWdCLEVBQUFULEVBQUFULE9BaURBbUIsRUFBQSxTQUFBQyxHQUNBLElBQUFDLEVBQUFELEVBQUFkLE1BQ0FnQixFQUFBRixFQUFBbkMsTUFDQSxRQUFBLElBQUFvQyxRQUFBLElBQUFDLEVBQUEsQ0FJQSxJQUFBQyxFQUFBakssU0FBQWdCLGNBQUEsS0FDQWtKLEVBQUFsSyxTQUFBbUssZUFBQUosR0FVQSxPQVRBRSxFQUFBOUosVUFBQSx1Q0FDQThKLEVBQUFHLEtBQUEscUJBQ0FILEVBQUFJLGFBQUEsbUJBQUFMLEdBQ0FDLEVBQUFJLGFBQUEsbUJBQUFOLEdBQ0FFLEVBQUEzSSxZQUFBNEksR0FFQUQsRUFBQTVFLFFBQUEsWUE5REEsU0FBQWlGLEdBQ0EsSUFBQU4sRUFBQU0sRUFBQTlILGFBQUEsb0JBQ0ErSCxFQUFBRCxFQUFBOUgsYUFBQSxrQkFDQXVILEVBQUFPLEVBQUE5SCxhQUFBLG9CQUNBZ0ksRUFBQUYsRUFBQTlILGFBQUEsa0JBSUEsR0FIQUgsRUFBQTRCLEtBQUFzRyxFQUFBLElBQUFQLEdBQ0E5SCxFQUFBK0IsS0FBQXVHLEVBQUEsSUFBQVQsR0FFQTFLLEVBQUFvTCxxQkFBQSxtQkFBQXBMLEVBQUFvTCxvQkFBQSxDQUdBLElBQUEsSUFGQTVILEtBRUFyRCxFQUFBLEVBQUFBLEVBQUEwQyxFQUFBeEMsT0FBQUYsSUFBQSxDQUNBLElBQUFzRCxFQUFBWixFQUFBMUMsR0FBQXVELE1BQUEsS0FDQSxHQUFBRCxFQUFBcEQsU0FDQW1ELEVBQUFDLEVBQUEsSUFBQUEsRUFBQSxJQUlBLElBQUFrQyxHQUNBMEYsb0JBQ0F6RixjQUFBcEMsRUFDQU8sa0JBQUFmLEdBR0EyQyxFQUFBMEYsaUJBQUFGLEdBQUFULEVBRUExSyxFQUFBb0wsb0JBQUF6RixHQUdBLElBQUExQyxFQUFBLENBQ0EsSUFBQXFJLEtBQ0EsY0FBQUosR0FBQXZELElBQ0FBLEVBQUFzQixpQkFDQUMsYUFBQXlCLEVBQ0F4QixpQkFBQXVCLEdBRUFZLEVBQUEzRCxrQkFBQUEsR0FFQXBDLEVBQ0FuQixFQUFBa0QsRUFBQWdFLEVBQUEvRCxHQUNBQSxJQXVCQWdFLENBQUE3QyxPQUVBa0MsSUFFQVksRUFBQSxTQUFBQyxHQUNBLElBQUFDLEVBQUEvSyxTQUFBZ0IsY0FBQSxLQUNBZ0ssRUFBQWhMLFNBQUFtSyxlQUFBVyxHQUlBLE9BSEFDLEVBQUE1SyxVQUFBLGtCQUNBNEssRUFBQXpKLFlBQUEwSixHQUVBRCxHQUlBdkIsRUFBQTVILFdBQUFDLFlBQUEySCxHQUNBM0osRUFBQTBKLEVBQUEsbUJBR0EsSUFBQTBCLEVBQUFqTCxTQUFBZ0IsY0FBQSxPQUNBa0ssRUFBQWxMLFNBQUFnQixjQUFBLEtBQ0FtSyxFQUFBbkwsU0FBQWdCLGNBQUEsUUFTQSxHQVJBaUssRUFBQTlLLFVBQUEsZUFDQStLLEVBQUEvSyxVQUFBLDhCQUNBZ0wsRUFBQWhMLFVBQUEsa0NBRUE4SyxFQUFBM0osWUFBQTRKLEdBQ0FELEVBQUEzSixZQUFBNkosR0FHQTlJLEVBQUEzQyxPQU1BLENBQ0FHLEVBQUF5SixFQUFBLGdCQUNBOEIsRUFBQXBMLFNBQUFnQixjQUFBLE9BR0FvSyxFQUFBakwsVUFBQSwwQkFLQSxJQUFBa0wsRUFBQW5KLEVBQUFvSixJQUFBLFNBQUFDLEdBQ0EsT0FBQUEsR0FBQSxJQUFBQSxFQUFBeEksTUFBQSxLQUFBckQsT0FBQTZMLEVBQUF4SSxNQUFBLEtBQUEsR0FBQSxLQUdBb0ksRUFBQUssVUFBQUgsRUFBQUksS0FBQSxLQUNBbEMsRUFBQWpJLFlBQUE4SixHQUNBN0IsRUFBQWpJLFlBQUEySixPQXRCQSxDQUNBLElBQUFHLEdBQUFBLEVBQUFwTCxTQUFBZ0IsY0FBQSxRQUNBYixVQUFBLHdCQUNBb0osRUFBQWpJLFlBQUE4SixHQUNBN0IsRUFBQWpJLFlBQUEySixHQXdCQSxJQUhBNUIsRUFBQW1DLFVBQUFyQyxFQUFBUixZQUdBUyxFQUFBc0MsWUFDQXRDLEVBQUF2SCxZQUFBdUgsRUFBQXNDLFlBR0EsR0FBQWpDLEVBQUEvSixPQUFBLENBQ0EsSUFBQWlNLEVBQUEzTCxTQUFBZ0IsY0FBQSxPQUlBLEdBSEEySyxFQUFBeEwsVUFBQSw4QkFDQWlKLEVBQUE5SCxZQUFBcUssR0FFQXRNLEVBQUF1TSxjQUFBaEMsRUFBQSxDQUVBLElBQUEsSUFEQWlDLEtBQ0FyTSxFQUFBLEVBQUFBLEVBQUFpSyxFQUFBL0osT0FBQUYsSUFBQSxDQUNBLElBQUFzTSxFQUFBckMsRUFBQWpLLEdBQ0F1TSxFQUFBRCxFQUFBL0MsTUFDQWdELEVBRUFGLEVBQUFFLEdBSUFGLEVBQUFFLEdBQUE5SCxLQUFBNkgsR0FIQUQsRUFBQUUsSUFBQUQsR0FTQUQsRUFBQSxXQUlBQSxFQUFBLFdBQUE1SCxLQUFBNkgsR0FIQUQsRUFBQSxZQUFBQyxHQVFBLElBQUEsSUFBQUUsRUFBQSxFQUFBQSxFQUFBcEMsRUFBQWxLLE9BQUFzTSxJQUFBLENBQ0EsSUFBQUMsRUFBQXJDLEVBQUFvQyxHQUVBLEdBREFFLEVBQUFMLEVBQUFJLEdBQ0EsQ0FDQSxJQUFBRSxFQUFBbk0sU0FBQWdCLGNBQUEsT0FDQW9MLEVBQUEsb0JBQ0EsUUFBQWpELEVBQUFOLEtBQUFZLEVBQUEvSixPQUFBLEtBQ0EsR0FBQUwsRUFBQWdOLG9CQUFBRCxFQUFBLHNCQUNBL00sRUFBQWdOLG1CQUFBLElBQUFELEVBQUEsd0JBRUEsUUFBQWpELEVBQUFOLEtBQUFZLEVBQUEvSixPQUFBLElBQ0FMLEVBQUFpTixtQkFBQSxJQUFBRixFQUFBLHNCQUVBRCxFQUFBaE0sVUFBQSxrQkFBQWlNLEVBQ0FULEVBQUFySyxZQUFBdUosRUFBQW9CLElBQ0FOLEVBQUFySyxZQUFBNkssR0FFQSxJQUFBM00sRUFBQSxFQUFBQSxFQUFBME0sRUFBQXhNLE9BQUFGLElBQUEsTUFFQSxLQURBK00sRUFBQTFDLEVBQUFxQyxFQUFBMU0sT0FFQStNLEVBQUFsQyxhQUFBLGlCQUFBWCxHQUNBNkMsRUFBQWxDLGFBQUEsaUJBQUFWLEdBQ0F3QyxFQUFBN0ssWUFBQWlMLE1BTUEsR0FBQVYsRUFBQSxXQUFBLENBQ0EsSUFBQU0sRUFBQW5NLFNBQUFnQixjQUFBLE9BQ0FvTCxFQUFBLG9CQUNBLFFBQUFqRCxFQUFBTixLQUFBWSxFQUFBL0osT0FBQSxLQUNBLEdBQUFMLEVBQUFnTixvQkFBQUQsRUFBQSxzQkFDQS9NLEVBQUFnTixtQkFBQSxJQUFBRCxFQUFBLHdCQUVBLFFBQUFqRCxFQUFBTixLQUFBWSxFQUFBL0osT0FBQSxJQUNBTCxFQUFBaU4sbUJBQUEsSUFBQUYsRUFBQSxzQkFFQUQsRUFBQWhNLFVBQUEsa0JBQUFpTSxFQUNBVCxFQUFBckssWUFBQXVKLEVBQUEsY0FDQWMsRUFBQXJLLFlBQUE2SyxHQUdBLElBQUEsSUFEQUQsRUFBQUwsRUFBQSxXQUNBck0sRUFBQSxFQUFBQSxFQUFBME0sRUFBQXhNLE9BQUFGLElBQUEsTUFFQSxLQURBK00sRUFBQTFDLEVBQUFxQyxFQUFBMU0sT0FFQStNLEVBQUFsQyxhQUFBLGlCQUFBWCxHQUNBNkMsRUFBQWxDLGFBQUEsaUJBQUFWLEdBQ0F3QyxFQUFBN0ssWUFBQWlMLFVBS0EsQ0FDQSxJQUFBSixFQUFBbk0sU0FBQWdCLGNBQUEsT0FDQW9MLEVBQUEsb0JBQ0EsUUFBQWpELEVBQUFOLEtBQUFZLEVBQUEvSixPQUFBLEtBQ0EsR0FBQUwsRUFBQWdOLG9CQUFBRCxFQUFBLHNCQUNBL00sRUFBQWdOLG1CQUFBLElBQUFELEVBQUEsd0JBRUEsUUFBQWpELEVBQUFOLEtBQUFZLEVBQUEvSixPQUFBLElBQ0FMLEVBQUFpTixtQkFBQSxJQUFBRixFQUFBLHNCQUVBRCxFQUFBaE0sVUFBQSxrQkFBQWlNLEVBQ0FULEVBQUFySyxZQUFBNkssR0FFQSxJQUFBM00sRUFBQSxFQUFBQSxFQUFBaUssRUFBQS9KLE9BQUFGLElBQUEsQ0FDQSxJQUFBK00sRUFBQTFDLEVBQUFKLEVBQUFqSyxTQUNBLElBQUErTSxJQUNBQSxFQUFBbEMsYUFBQSxpQkFBQVgsR0FDQTZDLEVBQUFsQyxhQUFBLGlCQUFBVixHQUNBd0MsRUFBQTdLLFlBQUFpTCxPQWNBLFNBQUF0RixFQUFBTCxFQUFBSSxHQUNBLElBQUF3RixFQUFBNUYsRUFBQTNHLGlCQUFBLHdCQUFBLEdBQ0F3TSxFQUFBN0YsRUFBQTNHLGlCQUFBLDhCQUFBLEdBQ0F5TSxFQUFBOUYsRUFBQTNHLGlCQUFBLHdCQUFBLEdBRUEwTSxHQURBL0YsRUFBQTNHLGlCQUFBLHdCQUFBLEdBQ0EyRyxFQUFBM0csaUJBQUEsYUFBQSxJQUNBcUosRUFBQTFDLEVBQUEzRyxpQkFBQSxtQkFBQSxHQUNBMk0sRUFBQWhHLEVBQUEzRyxpQkFBQSxvQkFBQSxHQUVBSixFQUFBeUosRUFBQSxnQkFDQXFELEVBQUFuQixVQUFBbk0sRUFBQXdOLGtCQUlBLElBQUEsSUFGQXhCLEtBQUF4SSxLQUVBckQsRUFBQSxFQUFBQSxFQUFBMEMsRUFBQXhDLE9BQUFGLElBQUEsQ0FDQSxJQUFBc0QsRUFBQVosRUFBQTFDLEdBQUF1RCxNQUFBLEtBQ0EsR0FBQUQsRUFBQXBELFFBQUEsYUFBQW9ELEVBQUEsS0FDQXVJLEVBQUFwSCxLQUFBbkIsRUFBQSxJQUNBRCxFQUFBQyxFQUFBLElBQUFBLEVBQUEsSUFPQSxJQUFBLElBSEFnSyxFQUFBekIsRUFBQSxHQUNBMEIsRUFBQTFCLEVBQUF2RyxNQUVBdEYsRUFBQSxFQUFBQSxFQUFBNkwsRUFBQTNMLFVBQ0FGLEdBQUEsR0FEQUEsSUFFQXNOLEdBQUEsSUFBQXpCLEVBQUE3TCxHQUdBLElBQUF3TixFQUFBRixFQUFBLElBQUFDLEVBRUFMLEVBQUFsQixVQUFBd0IsRUFFQW5OLEVBQUErRyxFQUFBM0csaUJBQUEsbUJBQUEsR0FBQSxvQkFDQTJNLEVBQUFoTCxXQUFBQyxZQUFBK0ssR0FFQSxJQUFBSyxHQUNBQyxNQUFBLElBQ0FDLE9BQUEsSUFDQUMsVUFBQSxFQUNBQyxVQUFBLEdBR0FoTyxFQUFBaU8sZUFDQWhPLEVBQUEyTixFQUNBLG1CQUFBNU4sRUFBQWlPLGNBQ0FqTyxFQUFBaU8sY0FBQTVLLEtBQUFxRixLQUFBMUksR0FDQUEsRUFBQWlPLGVBR0FMLEVBQUF2RixxQkFBQVYsRUFBQVcsTUFFQSxJQUFBNEYsRUFBQTdILFdBQUF3QixLQUFBc0csSUFBQSxpQkFBQVAsR0FFQVQsRUFBQWlCLElBQUFGLEVBQ0FmLEVBQUF0TCxNQUFBZ0YsUUFBQSxlQUNBc0csRUFBQWtCLE9BQUEsV0FDQWpCLEVBQUF2TCxNQUFBZ0YsUUFBQSxRQUdBLElBQUF5SCxFQUFBLFNBQUFySixHQUNBQSxFQUFBQyxPQUFBQyxvQkFBQUYsRUFBQUcsS0FBQWtKLEdBRUEsSUFBQTVMLEVBQUEvQixTQUFBQyxpQkFBQSxtQ0FDQTJOLEVBOXJCQSxTQUFBQyxFQUFBQyxHQWtCQSxJQWhCQUMsUUFBQUMsVUFBQUMsVUFDQUYsUUFBQUMsVUFBQUMsUUFDQUYsUUFBQUMsVUFBQUUsaUJBQ0FILFFBQUFDLFVBQUFHLG9CQUNBSixRQUFBQyxVQUFBSSxtQkFDQUwsUUFBQUMsVUFBQUssa0JBQ0FOLFFBQUFDLFVBQUFNLHVCQUNBLFNBQUFDLEdBR0EsSUFGQSxJQUFBTixHQUFBbEcsS0FBQS9ILFVBQUErSCxLQUFBeUcsZUFBQXZPLGlCQUFBc08sR0FDQS9PLEVBQUF5TyxFQUFBdk8sU0FDQUYsR0FBQSxHQUFBeU8sRUFBQVEsS0FBQWpQLEtBQUF1SSxPQUNBLE9BQUF2SSxHQUFBLElBS0FxTyxHQUFBQSxJQUFBN04sU0FBQTZOLEVBQUFBLEVBQUFqTSxXQUNBLEdBQUFpTSxFQUFBSSxRQUFBSCxHQUFBLE9BQUFELEVBR0EsT0FBQSxLQXdxQkFhLENBQUEzRyxLQUFBLGNBRUEzRixFQUFBQyxFQUFBRixNQUFBLEdBRUFELEtBQ0FHLEtBRUF1TCxFQUFBMU0sTUFBQUMsUUFBQSxFQUNBeU0sRUFBQW5NLG9CQUFBLGNBQ0FnQixRQUFBQyxLQUFBWCxFQUFBLFNBQUFZLEdBQUFBLEVBQUFmLFdBQUFDLFlBQUFjLEtBRUEsSUFBQWdNLEdBQ0FDLFNBQUFyQixFQUNBc0IsbUJBQUE3QixFQUNBdEYscUJBQUFWLEVBQUFXLE9BS0EsR0FGQXJJLEVBQUFxUCxFQUFBOUwsR0FDQW1FLEVBQUFzQixpQkFBQWhKLEVBQUFxUCxFQUFBM0gsRUFBQXNCLGlCQUNBakosRUFBQTJELFVBQUEsbUJBQUEzRCxFQUFBMkQsU0FBQSxDQUNBLElBQUFDLEdBQ0FDLG9CQUFBLEVBQ0FDLFFBQUF3TCxFQUNBdkwsa0JBQUFoQixHQUVBL0MsRUFBQTJELFNBQUFDLFFBR0FuQixJQUNBdUIsUUFBQUMsS0FBQSxvQ0FHQTNCLEtBR0FnTCxFQUFBekgsaUJBQUEsUUFBQXlJLEdBQUEsR0FwMkJBLElBQUF6TCxLQUNBRyxLQUNBRSxLQUNBRCxHQUFBLEVBb0JBakQsRUFBQUMsR0FDQXVOLGtCQUFBLGtCQUNBakIsY0FBQSxFQUNBbkUscUJBQUEsRUFDQTRFLGtCQUFBLEVBQ0FDLGtCQUFBLEVBRUE5SSxVQUFBeEQsU0FBQXVELEtBRUF3QixpQkFBQSxLQUNBMEYsb0JBQUEsS0FDQXpILFNBQUEsTUFDQTNELEdBR0EsSUFBQTRHLEVBQUEsV0FDQSxJQUNBNkksR0FEQTlPLFNBQUF1RCxNQUFBdkQsU0FBQStPLGlCQUNBN04sTUFHQSxZQUZBOE4sSUFBQUYsRUFBQUcsdUJBQUFELElBQUFGLEVBQUFJLG9CQUFBRixJQUFBRixFQUFBSyxrQkFBQUgsSUFBQUYsRUFBQTFOLFdBSEEsSUFTQSxXQUNBLElBQUE1QixFQUNBNFAsRUFBQXBQLFNBQUFnQixjQUFBLE9BQ0FxTyxHQUNBak8sV0FBQSxnQkFDQStOLFlBQUEsaUJBQ0FELGNBQUEsZ0JBQ0FELGlCQUFBLHVCQUdBSyxFQUFBLEdBQ0EsSUFBQTlQLEtBQUE2UCxFQUNBLEdBQUFBLEVBQUF6UCxlQUFBSixTQUFBd1AsSUFBQUksRUFBQWxPLE1BQUExQixHQUFBLENBQ0E4UCxFQUFBRCxFQUFBN1AsR0FDQSxNQUlBK1AsWUFBQXZCLFVBQUF2TSxvQkFBQSxTQUFBdUIsR0FDQSxHQUFBLEtBQUFzTSxFQUVBLE9BREF0TSxJQUNBK0UsS0FFQSxJQUFBeUgsRUFBQSxTQUFBbEwsR0FDQXRCLElBQ0FzQixFQUFBQyxPQUFBQyxvQkFBQUYsRUFBQUcsS0FBQStLLElBR0EsT0FEQXpILEtBQUE3QyxpQkFBQW9LLEVBQUFFLEdBQUEsR0FDQXpILE1BNUJBLEdBd3pCQUEsS0FBQTBILEtBQUEsWUE1bUJBLFdBRUEsSUFEQXpQLFNBQUFjLGVBQUEsa0JBQ0EsQ0FDQSxJQUFBNE8sRUFBQTFQLFNBQUFnQixjQUFBLE9BQ0EwTyxFQUFBbEUsVUFBQW1FLGFBQ0F0TyxJQUFBQyxZQUFBb08sRUFBQWhFLGFBd21CQWtFLEdBR0EsR0FEQTVQLFNBQUFDLGlCQUFBLG1DQUNBUCxPQUNBMkQsUUFBQUMsS0FBQSx3REFEQSxDQUlBLElBQUFzRCxFQUFBbkQsSUFDQTVDLElBQ0ErRixFQUFBMUYsTUFBQWdGLFFBQUEsUUFDQTVELEdBQUEsRUFDQWQsV0FBQSxXQUNBM0IsRUFBQStHLEVBQUEsTUFDQS9HLEVBQUFHLFNBQUF1RCxLQUFBLGtCQUNBcUQsRUFBQW5GLG9CQUFBLFdBQ0FrRixFQUFBQyxNQUVBLE1BR0FtQixLQUFBOEgsS0FBQS9OLEVDaDRCQSxTQUFBZ08sbUJBQUFDLEVBQUExUSxHQThSQSxTQUFBMlEsSUFDQUMsRUFBQS9PLE1BQUFDLFFBQUEsSUE1UkEsSUFBQStPLEVBQUEseXNjQUlBMU0sRUFBQSxLQUNBeU0sRUFBQSxLQUNBRSxFQUFBLEtBR0FDLEdBQUEsRUFDQTdKLE1BR0FsSCxFQUFBQSxPQUVBa0gsUUFDQUEsRUFBQWxILEVBQUFrSCxPQUlBLGlCQUFBd0osRUFDQSxtQkFBQS9QLFNBQUFxUSxjQUNBN00sRUFBQXhELFNBQUFxUSxjQUFBTixHQUNBLE1BQUFBLEVBQUEsR0FDQXZNLEVBQUF4RCxTQUFBc1EsdUJBQUFQLEVBQUFRLFVBQUEsSUFDQSxNQUFBUixFQUFBLEtBQ0F2TSxFQUFBeEQsU0FBQWMsZUFBQWlQLEVBQUFRLFVBQUEsS0FFQSxpQkFBQVIsR0FFQUEsRUFBQTdQLFVBQ0FzRCxFQUFBdU0sR0FLQXZNLEdBQUFILFFBQUFtTixNQUFBLHlDQUFBVCxJQUdBLFdBQ0EsSUFDQVUsRUFBQSxTQUFBQyxHQUNBLE1BQUEsVUFBQUEsR0FBQSxhQUFBQSxHQUFBLGFBQUFBLEdBR0EsR0FBQUQsRUFMQWpOLEVBQUF0QyxNQUFBeVAsVUFLQSxPQUFBLEVBR0EsSUFBQUMsRUFBQSxxQkFBQUMsT0FBQUMsaUJBQUF0TixHQUFBQSxFQUFBdU4sYUFFQSxRQUFBSCxHQUVBSCxFQUFBRyxFQUFBRCxXQWJBLEtBa0JBbk4sRUFBQXRDLE1BQUF5UCxTQUFBLGFBd01BVixFQUFBalEsU0FBQWdCLGNBQUEsUUFHQXlNLElBQUF5QyxFQUdBRCxFQUFBL08sTUFBQThQLFFBQUEsTUFDQWYsRUFBQS9PLE1BQUErUCxhQUFBLE9BQ0FoQixFQUFBL08sTUFBQWdRLFdBQUEsT0FDQWpCLEVBQUEvTyxNQUFBQyxRQUFBLEVBQ0E4TyxFQUFBL08sTUFBQUUsV0FBQSx1QkFHQTZPLEVBQUEvTyxNQUFBeVAsU0FBQSxXQUNBVixFQUFBL08sTUFBQWlRLEtBQUEsTUFDQWxCLEVBQUEvTyxNQUFBa1EsSUFBQSxNQUNBbkIsRUFBQS9PLE1BQUE2RSxPQUFBLEtBR0FrSyxFQUFBL08sTUFBQW1RLFdBQUEsUUFDQXBCLEVBQUEvTyxNQUFBb1EsVUFBQSxRQUVBOU4sRUFBQWxDLFlBQUEyTyxHQUNBRCxJQWhOQUcsRUFBQSxJQXNHQSxTQUFBM00sR0FjQSxTQUFBK04sRUFBQUMsR0FDQSxJQUFBN0wsRUFBQUQsV0FBQUMsVUFHQXFLLElBRUEsSUFBQXpDLEVBQUE3SCxXQUFBd0IsS0FBQXNHLElBQUEsaUJBQUFnRSxHQUdBLE1BQUFDLElBQ0FDLEVBQUF6TixLQUFBd04sR0FDQUEsRUFBQSxNQUlBLElBQUEsSUFBQWpTLEVBQUFrUyxFQUFBaFMsT0FBQSxFQUFBRixHQUFBLEVBQUFBLElBQUEsQ0FDQSxJQUFBbVMsRUFBQUQsRUFBQWxTLEdBR0FtUyxFQUFBelEsTUFBQUMsUUFBQSxLQUFBd1EsRUFBQXpRLE1BQUFDLFFBQUEsSUFJQSxJQUFBeVEsRUFBQTVSLFNBQUFnQixjQUFBLE9BeUNBLE9BeENBNFEsRUFBQTFRLE1BQUF5UCxTQUFBLFdBQ0FpQixFQUFBMVEsTUFBQWlRLEtBQUEsRUFDQVMsRUFBQTFRLE1BQUFrUSxJQUFBLEVBQ0FRLEVBQUExUSxNQUFBQyxRQUFBLEVBQ0F5USxFQUFBMVEsTUFBQUUsV0FBQSx1QkFHQW9DLEVBQUFsQyxZQUFBbVEsRUFBQUcsR0FHQUEsRUFBQWxFLE9BQUEsV0FFQSxHQUFBa0UsR0FBQUgsRUFBQSxDQWdFQXhCLEVBQUEvTyxNQUFBQyxRQUFBLEVBOURBeVEsRUFBQTFRLE1BQUFDLFFBQUEsRUFJQSxJQUFBLElBRkEwUSxFQUFBSCxFQUFBSSxPQUFBLEVBQUFKLEVBQUFoUyxRQUVBRixFQUFBLEVBQUFBLEVBQUFxUyxFQUFBblMsT0FBQUYsSUFDQXFTLEVBQUFyUyxHQUFBMEIsTUFBQUMsUUFBQSxFQUlBSyxXQUFBLFdBQ0EsSUFBQSxJQUFBaEMsRUFBQSxFQUFBQSxFQUFBcVMsRUFBQW5TLE9BQUFGLElBQ0FnRSxFQUFBM0IsWUFBQWdRLEVBQUFyUyxJQUdBbUcsRUFBQVEsV0FDQSxPQUlBeUwsRUFBQUcsUUFBQSxXQUNBcE0sRUFBQWMsVUFJQW1MLEVBQUFuRSxJQUFBRixFQUVBNUgsRUE3RUEsSUFBQThMLEVBQUEsS0FDQUMsS0FLQTNKLEtBQUFpSyxPQUFBLFNBQUFSLEdBQ0EsT0FBQUQsRUFBQUMsSUE5R0EsQ0FBQWhPLEdBRUEsSUFBQXlPLEVBQUEsS0FDQSxpQkFBQTVTLEVBQUE2Uyx1QkFDQUQsRUFBQTVTLEVBQUE2UyxzQkFHQSxJQUFBQyxFQUFBLEVBQ0FDLEVBQUEsRUFDQXJLLEtBQUFzSyxpQkFBQSxXQUNBLEdBQUE3TyxFQUFBOE8sYUFBQUgsRUFBQSxDQUtBLEdBSkFBLEVBQUEzTyxFQUFBOE8sWUFDQS9MLEVBQUEsTUFBQTRMLEVBR0EsTUFBQUYsRUFBQSxDQUNBLElBQUFNLEVBQUFDLEtBQUFDLE1BQUFOLEVBQUFGLEdBQ0F6TyxFQUFBdEMsTUFBQXFSLE9BQUFBLEVBQUEsS0FDQWhNLEVBQUEsT0FBQWdNLEVBSUFuQyxJQUNBc0MsYUFBQU4sR0FDQUEsRUFBQTVRLFdBQUEsV0FFQTJPLEVBQUE2QixPQUFBekwsSUFDQSxTQU1BLElBQUFsSCxFQUFBc1QsYUFDQUMsWUFBQTdLLEtBQUFzSyxpQkFBQSxLQUNBdEssS0FBQXNLLG9CQUdBdEssS0FBQThLLE9BQUEsU0FBQXJCLEdBRUFwQixHQUFBLEdBR0FvQixFQTZCQSxTQUFBc0IsR0FDQSxJQUFBQyxLQUVBLEdBQUEsaUJBQUFELEVBQUEsQ0FDQSxJQUFBRSxFQUFBRixFQUFBL1AsTUFBQSxLQUNBaVEsR0FBQSxHQUFBQSxFQUFBdFQsT0FBQXNULEVBQUEsR0FBQUEsRUFBQSxJQUFBalEsTUFBQSxLQUNBLElBQUEsSUFBQXZELEVBQUEsRUFBQUEsRUFBQXdULEVBQUF0VCxPQUFBRixJQUFBLENBQ0EsSUFBQXlULEVBQUFELEVBQUF4VCxHQUFBdUQsTUFBQSxLQUNBcEQsRUFBQXVULG1CQUFBRCxFQUFBLElBQUFFLGNBR0EsT0FBQXhULEdBQUEsU0FBQUEsSUFFQW9ULEVBQUFwVCxHQUFBdVQsbUJBQUFELEVBQUEsV0FJQSxJQUFBLElBQUFHLEtBQUFOLEVBQ0FDLEVBQUFLLEVBQUFELGVBQUFMLEVBQUFNLEdBSUEsT0FBQUwsRUFuREFNLENBQUE3QixJQUdBLE1BQUFoTyxFQUFBOE8sWUFDQWQsRUFBQSxPQUFBaE8sRUFBQThQLGFBR0EsSUFBQUMsR0FBQSxFQUNBLElBQUEsSUFBQUMsS0FBQWhDLEVBQUEsQ0FDQSxJQUFBaUMsRUFBQWxOLEVBQUFpTixHQUNBRSxFQUFBbEMsRUFBQWdDLEdBQ0FDLEdBQUFDLElBQ0FuTixFQUFBaU4sR0FBQUUsRUFDQUgsR0FBQSxHQUtBLEdBQUEsR0FBQUEsRUFBQSxDQUNBLElBQUE1TixFQUFBRCxXQUFBQyxVQUlBLE9BRkFBLEVBQUFRLFVBRUFSLEVBR0EsT0FBQXdLLEVBQUE2QixPQUFBekwsSUMvSUEsU0FBQW9OLGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQ0FBLFNBQUFDLDJCQUFBQyxFQUFBdFIsR0FBQSxJQUFBc1IsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQXZSLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUFzUixFQUFBdFIsRUFFQSxTQUFBd1IsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBbkcsVUFBQXFHLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUFwRyxXQUFBdUcsYUFBQTdELE1BQUF5RCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQUVBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQ0pBLFNBQUFILGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQ0FBLFNBQUFILGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQ0FBLFNBQUFILGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQ0FBLFNBQUFILGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQ0FBLFNBQUFILGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQ0FBLFNBQUFILGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBdFIsR0FBQSxJQUFBc1IsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQXZSLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUFzUixFQUFBdFIsRUFFQSxTQUFBd1IsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBbkcsVUFBQXFHLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUFwRyxXQUFBdUcsYUFBQTdELE1BQUF5RCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0FBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQ0pBLFNBQUFILGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBdFIsR0FBQSxJQUFBc1IsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQXZSLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUFzUixFQUFBdFIsRUFFQSxTQUFBd1IsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBbkcsVUFBQXFHLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUFwRyxXQUFBdUcsYUFBQTdELE1BQUF5RCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBdFIsR0FBQSxJQUFBc1IsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQXZSLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUFzUixFQUFBdFIsRUFFQSxTQUFBd1IsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBbkcsVUFBQXFHLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUFwRyxXQUFBdUcsYUFBQTdELE1BQUF5RCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBdFIsR0FBQSxJQUFBc1IsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQXZSLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUFzUixFQUFBdFIsRUFFQSxTQUFBd1IsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBbkcsVUFBQXFHLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUFwRyxXQUFBdUcsYUFBQTdELE1BQUF5RCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBdFIsR0FBQSxJQUFBc1IsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQXZSLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUFzUixFQUFBdFIsRUFFQSxTQUFBd1IsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBbkcsVUFBQXFHLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUFwRyxXQUFBdUcsYUFBQTdELE1BQUF5RCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0pBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQ0FBLFNBQUFILGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBdFIsR0FBQSxJQUFBc1IsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQXZSLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUFzUixFQUFBdFIsRUFFQSxTQUFBd1IsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBbkcsVUFBQXFHLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUFwRyxXQUFBdUcsYUFBQTdELE1BQUF5RCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ0ZBLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBdFIsR0FBQSxJQUFBc1IsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQXZSLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUFzUixFQUFBdFIsRUFFQSxTQUFBd1IsVUFBQUMsRUFBQUMsR0FBQSxHQUFBLG1CQUFBQSxHQUFBLE9BQUFBLEVBQUEsTUFBQSxJQUFBTixVQUFBLGtFQUFBTSxHQUFBRCxFQUFBbkcsVUFBQXFHLE9BQUFDLE9BQUFGLEdBQUFBLEVBQUFwRyxXQUFBdUcsYUFBQTdELE1BQUF5RCxFQUFBSyxZQUFBLEVBQUFDLFVBQUEsRUFBQUMsY0FBQSxLQUFBTixJQUFBQyxPQUFBTSxlQUFBTixPQUFBTSxlQUFBUixFQUFBQyxHQUFBRCxFQUFBUyxVQUFBUixHQ05BLFNBQUFULGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQ0VBLFNBQUFILGdCQUFBQyxFQUFBQyxHQUFBLEtBQUFELGFBQUFDLEdBQUEsTUFBQSxJQUFBQyxVQUFBLHFDQUVBLFNBQUFDLDJCQUFBQyxFQUFBdFIsR0FBQSxJQUFBc1IsRUFBQSxNQUFBLElBQUFDLGVBQUEsNkRBQUEsT0FBQXZSLEdBQUEsaUJBQUFBLEdBQUEsbUJBQUFBLEVBQUFzUixFQUFBdFIsRUFFQSxTQUFBd1IsVUFBQUMsRUFBQUMsR0FBQSxHQUFB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QUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsR0FBQSxFQUFBLElBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxHQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLElBQUEsSUFBQSxHQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsSUFBQSxFQUFBLElBQUEsTUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLEdBQUEsR0FBQSxFQUFBLEdBQUEsS0FBQSxHQUFBLElBQUEsSUFBQSxFQUFBLElB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LElBQUFwdEIsS0FBQWttQixPQUFBaUgsSUFBQSxNQUFBbnRCLEtBQUFySSxPQUFBLEdBQ0FxSSxLQUFBckksV0FBQSxJQUFBcXZCLElBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsS0FBQSxJQUFBLEdBQUEsR0FBQSxLQUFBLElBQUEsSUFBQSxHQUFBLEtBQUEsSUFBQSxJQUFBLEdBQUEsS0FBQSxJQUFBLElBQUEsSUFBQSxLQUFBLElBQUEsSUFBQSxJQUFBLEtBQUEsSUFBQSxJQUFBLElBQUEsTUFBQSxJQUFBLElBQUEsSUFBQSxNQUFBLElBQUEsSUFBQSxJQUFBLE1BQUEsSUFBQSxJQUFBLElBQUEsTUFBQSxJQUFBLElBQUEsSUFBQSxNQUFBLElBQUEsSUFBQSxJQUFBLE1BQUEsSUFBQSxJQUFBLElBQUEsTUFBQSxJQUFBLElBQUEsSUFBQSxNQUFBLElBQUEsSUFBQSxJQUFBLE1BQUEsSUFBQSxJQUFBLElBQUEsTUFBQSxJQUFBLElBQUEsSUFBQSxNQUFBLElBQUEsSUFBQSxJQUFBLE1BQUEsS0FBQSxJQUFBLElBQUEsTUFBQSxLQUFBLElBQUEsSUFBQSxNQUFBLEtBQUEsSUFBQSxJQUFBLE1BQUEsS0FBQSxJQUFBLElBQUEsTUFBQSxLQUFBLEtBQUEsSUFBQSxNQUFBLEtBQUEsS0FBQSxJQUFBLE1BQUEsS0FBQSxLQUFBLElBQUEsTUFBQSxLQUFBLEtBQUEsSUFBQSxNQUFBLEtBQUEsS0FBQSxJQUFBLE1BQUEsS0FBQSxLQUFBLEtBQUEsTUFBQSxLQUFBLEtBQUEsS0FBQSxNQUFBLEtBQUEsS0FBQSxLQUFBLE1BQUEsS0FBQSxLQUFBLEtBQUEsTUFBQSxLQUFBLEtBQUEsS0FBQSxNQUFBLEtBQUEsS0FBQSxLQUFBLE9BQUEsS0FBQSxLQUFBLEtBQUEsT0FBQSxLQUFBLEtBQUEsS0FBQSxPQUFBLEtBQUEsS0FBQSxLQUFBLE9BQUEsS0FBQSxLQUFBLEtBQUEsT0F1QkFxRyxFQUFBLFdBRUEsSUFBQUMs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LGlCQUNBQyxlQUFBLGVBQ0FDLG9CQUFBLG9CQUNBQyxTQUFBLFdBQ0FDLGVBQUEsZUFDQUMsT0FBQSxTQUNBQyxRQUFBLFVBQ0FDLHVCQUFBLDBCQXREQSxDQXlEQXBpQyxxQkFBQUEiLCJmaWxlIjoicmlkZXN0eWxlci5zaG93Y2FzZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vVGVtcGxhdGUgSFRNTFxudmFyIHZzbV90ZW1wbGF0ZSA9ICc8ZGl2IGlkPVwidnNtX21vZGFsX2Jhc2VcIiBjbGFzcz1cInZzbS1tb2RhbCB2c20taGlkZSB2c20tZmFkZVwiIHN0eWxlPVwiei1pbmRleDogOTk5OTtcIiB0YWJpbmRleD1cIi0xXCIgcm9sZT1cImRpYWxvZ1wiPiA8ZGl2IGNsYXNzPVwidnNtLW1vZGFsLWRpYWxvZ1wiPiA8ZGl2IGNsYXNzPVwidnNtLW1vZGFsLWNvbnRlbnRcIj4gPGRpdiBjbGFzcz1cInZzbS1tb2RhbC1oZWFkZXJcIj4gPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJ2c20tY2xvc2VcIj4gPC9idXR0b24+IDwvZGl2PjxkaXYgY2xhc3M9XCJ2c20tbW9kYWwtYm9keSB2c20tb3B0aW9uLWJvZHkgdnNtLWxpc3QtYm9keVwiPiA8YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiIGNsYXNzPVwidnNtLWJhY2stbGluayB2c20tYmFjay1zdGVwXCI+IDxpIGNsYXNzPVwidnNtLWJhY2stYXJyb3dcIj48L2k+IDwvYT4gPGRpdiBjbGFzcz1cInZzbS1pbi1wcm9ncmVzc1wiPiA8cCBjbGFzcz1cInZzbS1oZWFkZXIgdnNtLWNlbnRlclwiPjwvcD48ZGl2IGNsYXNzPVwidnNtLWxpbmUtc3RlcCBjZW50ZXItcGllY2UgdnNtLWNvbHVtbnNcIj4gPC9kaXY+PGRpdiBjbGFzcz1cInZzbS1saXN0LWNvbnRhaW5lclwiPiA8aSBjbGFzcz1cInZzbS1sb2FkZXJJY29uXCIgYWx0PVwiTG9hZGluZyBvcHRpb25zXCI+PC9pPiA8L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPVwidnNtLWZpbmFsXCI+IDxkaXYgY2xhc3M9XCJjZW50ZXItcGllY2UgdnNtLWxpbmUtc3RlcCB2c20tY29sdW1ucyB2ZWhpY2xlLXJlc3VsdC13cmFwXCI+IDxkaXYgY2xhc3M9XCJ2c20tY29sdW1uLTIgdnNtLWJlZm9yZVwiPjwvZGl2PjxkaXYgY2xhc3M9XCJ2c20tY29sdW1uLTIgbm8tc3R5bGVcIj48aSBjbGFzcz1cImRvdC1zdHlsZSBkb3QtYmVmb3JlIGFjdGl2ZVwiPjwvaT48L2Rpdj48cCBjbGFzcz1cInZlaGljbGUtcmVzdWx0LW5hbWVcIj48L3A+PHAgY2xhc3M9XCJ2ZWhpY2xlLXJlc3VsdC1zaXplXCI+PC9wPjwvZGl2PiA8ZGl2IGNsYXNzPVwiY2VudGVyLXBpZWNlIHZlaGljbGUtaW1hZ2Utd3JhcFwiPiA8ZGl2IHN0eWxlPVwicG9zaXRpb246IHJlbGF0aXZlOyB0ZXh0LWFsaWduOiBjZW50ZXI7IG1pbi1oZWlnaHQ6IDEyMHB4O1wiPiA8aSBjbGFzcz1cInZzbS1sb2FkZXJJY29uXCIgYWx0PVwiTG9hZGluZyBhbiBpbWFnZSBvZiB5b3VyIHZlaGljbGVcIj48L2k+IDxpbWcgc3JjPVwiXCIgYWx0PVwiXCIgY2xhc3M9XCJ2c20tdmVoaWNsZS1kaXNwbGF5XCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPiA8L2Rpdj48YSBocmVmPVwiamF2YXNjcmlwdDp2b2lkKDApO1wiIGNsYXNzPVwidnNtLWJ0biB2c20tYnRuLWdyYXkgdnNtLWZ1bGwtd2lkdGggdnNtLWZpbmRcIj48L2E+IDwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2PjwvZGl2Pic7XG5cbnZhciBfdnNtTW9kYWxJRENvdW50ZXIgPSAwO1xuZnVuY3Rpb24gUmlkZVN0eWxlclZlaGljbGVTZWxlY3Rpb25Nb2RhbChvcHRpb25zKSB7XG4gICAgdmFyIGluZm9BcnJheSA9IFtdLCAvL0tlZXAgdHJhY2sgb2Ygc2VsZWN0ZWQgb3B0aW9ucyBpbmZvXG4gICAgZGF0YUFycmF5ID0gW10sIC8vS2VlcCB0cmFjayBvZiBzZWxlY3RlZCBvcHRpb25zIGRhdGEgKGRhdGEgc2VudCB0byBWZWhpY2xlL1NlbGVjdCBlbmRwb2ludClcbiAgICBtb2RhbEFycmF5ID0gW10sIC8vS2VlcCB0cmFjayBvZiBtb2RhbCBzY3JlZW4gZ2VuZXJhdGVkIGJ5IHRoaXMgaW5zdGFuY2VcbiAgICBkaXNDb3VudGludWVkID0gZmFsc2U7IC8vRGVjaWRlIHdoZXRoZXIgb3Igbm90IGNvbnRpbnVlIHRvIG5leHQgbW9kYWwgc2NyZWVuXG5cbiAgICAvL1NpbWlsYXIgdG8gJC5leHRlbmRcbiAgICBmdW5jdGlvbiBleHRlbmQob3V0KSB7XG4gICAgICAgIG91dCA9IG91dCB8fCB7fTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFhcmd1bWVudHNbaV0pXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBhcmd1bWVudHNbaV0pIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzW2ldLmhhc093blByb3BlcnR5KGtleSkpXG4gICAgICAgICAgICAgICAgb3V0W2tleV0gPSBhcmd1bWVudHNbaV1ba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcblxuICAgIC8vIEV4dGVuZCBkZWZhdWx0IHNldHRpbmdzXG4gICAgb3B0aW9ucyA9IGV4dGVuZCh7XG4gICAgICAgIENvbmZpcm1CdXR0b25UZXh0OiAnQ29uZmlybSBWZWhpY2xlJyxcbiAgICAgICAgR3JvdXBPcHRpb25zOiBmYWxzZSxcbiAgICAgICAgSW5jbHVkZU9FVGlyZU9wdGlvbjogZmFsc2UsXG4gICAgICAgIFllYXJTY3JlZW5Db2x1bW5zOiAzLFxuICAgICAgICBNYWtlU2NyZWVuQ29sdW1uczogMixcblxuICAgICAgICBjb250YWluZXI6IGRvY3VtZW50LmJvZHksXG5cbiAgICAgICAgYWZ0ZXJCYWNrQ2xpY2tlZDogbnVsbCxcbiAgICAgICAgYWZ0ZXJPcHRpb25TZWxlY3RlZDogbnVsbCxcbiAgICAgICAgY2FsbGJhY2s6IG51bGxcbiAgICB9LCBvcHRpb25zKTtcblxuICAgIC8vQ2hlY2sgaWYgdHJhbnNpdGlvbiBpcyBzdXBwb3J0ZWQsIEJvb2xlYW5cbiAgICB2YXIgdHJhbnNpdGlvblN1cHBvcnQgPSAoZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHRoaXNCb2R5ID0gZG9jdW1lbnQuYm9keSB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG4gICAgICAgIHRoaXNTdHlsZSA9IHRoaXNCb2R5LnN0eWxlLFxuICAgICAgICBzdXBwb3J0ID0gdGhpc1N0eWxlLldlYmtpdFRyYW5zaXRpb24gIT09IHVuZGVmaW5lZCB8fCB0aGlzU3R5bGUuTW96VHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkIHx8IHRoaXNTdHlsZS5PVHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkIHx8IHRoaXNTdHlsZS50cmFuc2l0aW9uICE9PSB1bmRlZmluZWQ7XG5cbiAgICAgICAgcmV0dXJuIHN1cHBvcnQ7XG4gICAgfSkoKTtcblxuICAgIC8vIGFkZCBvblRyYW5zaXRpb25FbmRPbmNlIHRvIEhUTUxFbGVtZW50XG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgaSxcbiAgICAgICAgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgdHJhbnNpdGlvbnMgPSB7XG4gICAgICAgICAgICAndHJhbnNpdGlvbic6J3RyYW5zaXRpb25lbmQnLFxuICAgICAgICAgICAgJ09UcmFuc2l0aW9uJzonb3RyYW5zaXRpb25lbmQnLFxuICAgICAgICAgICAgJ01velRyYW5zaXRpb24nOid0cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgICAgICdXZWJraXRUcmFuc2l0aW9uJzond2Via2l0VHJhbnNpdGlvbkVuZCdcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgdHJhbnNpdGlvbkVuZCA9ICcnO1xuICAgICAgICBmb3IgKGkgaW4gdHJhbnNpdGlvbnMpIHtcbiAgICAgICAgICAgIGlmICh0cmFuc2l0aW9ucy5oYXNPd25Qcm9wZXJ0eShpKSAmJiBlbC5zdHlsZVtpXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNpdGlvbkVuZCA9IHRyYW5zaXRpb25zW2ldO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgSFRNTEVsZW1lbnQucHJvdG90eXBlLm9uVHJhbnNpdGlvbkVuZE9uY2UgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25FbmQgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uRW5kV3JhcCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZS50eXBlLCB0cmFuc2l0aW9uRW5kV3JhcCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKHRyYW5zaXRpb25FbmQsIHRyYW5zaXRpb25FbmRXcmFwLCBmYWxzZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogQWRkIGNlcnRhaW4gY2xhc3MgdG8gZWxlbWVudHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge0VsZW1lbnR8W0VsZW1lbnRdfSBlbGVtZW50cyAtIEVsZW1lbnQocykgdG8gc2VhcmNoXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgbXlDbGFzcyAtIENsYXNzIG5hbWUgdG8gYWRkXG4gICAgICogQHJldHVybiB2b2lkXG4gICAgICovXG4gICAgZnVuY3Rpb24gYWRkQ2xhc3MoZWxlbWVudHMsIG15Q2xhc3MpIHtcbiAgICAgICAgaWYgKCFlbGVtZW50cykgeyByZXR1cm47IH1cbiAgICAgICAgaWYgKHR5cGVvZihlbGVtZW50cykgPT09ICdzdHJpbmcnKSBlbGVtZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoZWxlbWVudHMpO1xuICAgICAgICBlbHNlIGlmIChlbGVtZW50cy50YWdOYW1lKSBlbGVtZW50cz1bZWxlbWVudHNdO1xuICAgICAgICAvLyBhZGQgY2xhc3MgdG8gYWxsIGNob3NlbiBlbGVtZW50c1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8ZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlbGVtZW50c1tpXS5jbGFzc05hbWUudHJpbSgpID09ICcnKSBlbGVtZW50c1tpXS5jbGFzc05hbWUgPSBteUNsYXNzO1xuICAgICAgICAgICAgZWxzZSBpZiAoKCcgJytlbGVtZW50c1tpXS5jbGFzc05hbWUrJyAnKS5pbmRleE9mKCcgJytteUNsYXNzKycgJykgPCAwKSB7XG4gICAgICAgICAgICAgICAgLy8gYWRkIGNsYXNzXG4gICAgICAgICAgICAgICAgZWxlbWVudHNbaV0uY2xhc3NOYW1lICs9ICcgJyArIG15Q2xhc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgY2VydGFpbiBjbGFzcyBmcm9tIGVsZW1lbnRzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtFbGVtZW50fFtFbGVtZW50XX0gZWxlbWVudHMgLSBFbGVtZW50KHMpIHRvIHNlYXJjaFxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIG15Q2xhc3MgLSBDbGFzcyBuYW1lIHRvIG1hdGNoIGFnYWluc3RcbiAgICAgKiBAcmV0dXJuIHZvaWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50cywgbXlDbGFzcykge1xuICAgICAgICBpZiAoIWVsZW1lbnRzKSB7IHJldHVybjsgfVxuICAgICAgICBpZiAodHlwZW9mKGVsZW1lbnRzKSA9PT0gJ3N0cmluZycpIGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbGVtZW50cyk7XG4gICAgICAgIGVsc2UgaWYgKGVsZW1lbnRzLnRhZ05hbWUpIGVsZW1lbnRzPVtlbGVtZW50c107XG4gICAgICAgIHZhciByZWcxID0gbmV3IFJlZ0V4cCgnICcrbXlDbGFzcysnICcsJ2cnKTtcbiAgICAgICAgdmFyIHJlZzIgPSBuZXcgUmVnRXhwKCcoXiknK215Q2xhc3MrJygkfCApJywnZycpO1xuICAgICAgICB2YXIgcmVnMyA9IG5ldyBSZWdFeHAoJyhefCApJytteUNsYXNzKycoJCknLCdnJyk7XG4gICAgICAgIC8vIHJlbW92ZSBjbGFzcyBmcm9tIGFsbCBjaG9zZW4gZWxlbWVudHNcbiAgICAgICAgZm9yICh2YXIgaT0wOyBpPGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBlbGVtZW50c1tpXS5jbGFzc05hbWUgPSBlbGVtZW50c1tpXS5jbGFzc05hbWUucmVwbGFjZShyZWcxLCcgJyk7XG4gICAgICAgICAgICBlbGVtZW50c1tpXS5jbGFzc05hbWUgPSBlbGVtZW50c1tpXS5jbGFzc05hbWUucmVwbGFjZShyZWcyLCcnKTtcbiAgICAgICAgICAgIGVsZW1lbnRzW2ldLmNsYXNzTmFtZSA9IGVsZW1lbnRzW2ldLmNsYXNzTmFtZS5yZXBsYWNlKHJlZzMsJycpO1xuXG4gICAgICAgICAgICBpZiAoZWxlbWVudHNbaV0uY2xhc3NOYW1lLnRyaW0oKSA9PSAnJykgZWxlbWVudHNbaV0ucmVtb3ZlQXR0cmlidXRlKCdjbGFzcycpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjbG9zZXN0IG1hdGNoaW5nIGVsZW1lbnQgdXAgdGhlIERPTSB0cmVlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7RWxlbWVudH0gZWxlbWVudCAtIFN0YXJ0aW5nIGVsZW1lbnRcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBzZWxlY3RvciBTZWxlY3RvciB0byBtYXRjaCBhZ2FpbnN0XG4gICAgICogQHJldHVybiB7Qm9vbGVhbnxFbGVtZW50fSAgUmV0dXJucyBudWxsIGlmIG5vIG1hdGNoIGZvdW5kXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0Q2xvc2VzdChlbGVtZW50LCBzZWxlY3Rvcikge1xuICAgICAgICAvLyBFbGVtZW50Lm1hdGNoZXMoKSBwb2x5ZmlsbFxuICAgICAgICBpZiAoIUVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMpIHtcbiAgICAgICAgICAgIEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgPVxuICAgICAgICAgICAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICBFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgIEVsZW1lbnQucHJvdG90eXBlLm1zTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICBFbGVtZW50LnByb3RvdHlwZS5vTWF0Y2hlc1NlbGVjdG9yIHx8XG4gICAgICAgICAgICBFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uKHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlcyA9ICh0aGlzLmRvY3VtZW50IHx8IHRoaXMub3duZXJEb2N1bWVudCkucXVlcnlTZWxlY3RvckFsbChzKSxcbiAgICAgICAgICAgICAgICAgICAgaSA9IG1hdGNoZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHdoaWxlICgtLWkgPj0gMCAmJiBtYXRjaGVzLml0ZW0oaSkgIT09IHRoaXMpIHt9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGkgPiAtMTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBHZXQgY2xvc2VzdCBtYXRjaFxuICAgICAgICBmb3IgKCA7IGVsZW1lbnQgJiYgZWxlbWVudCAhPT0gZG9jdW1lbnQ7IGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUgKSB7XG4gICAgICAgICAgICBpZiAoIGVsZW1lbnQubWF0Y2hlcyggc2VsZWN0b3IgKSApIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhY2tkcm9wKCkge1xuICAgICAgICB2YXIgZXhpc3RpbmdCYWNrZHJvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2c20tYmFja2Ryb3AnKTtcbiAgICAgICAgaWYgKCFleGlzdGluZ0JhY2tkcm9wKSB7XG4gICAgICAgICAgICB2YXIgYmFja0Ryb3AgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGJhY2tEcm9wLmlkID0gJ3ZzbS1iYWNrZHJvcCc7XG4gICAgICAgICAgICBiYWNrRHJvcC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIGJhY2tEcm9wLnN0eWxlLnRyYW5zaXRpb24gPSAnb3BhY2l0eSBsaW5lYXIgLjNzJztcbiAgICAgICAgICAgIGdldE1vZGFsQ29udGFpbmVyKCkuYXBwZW5kQ2hpbGQoYmFja0Ryb3ApO1xuXG4gICAgICAgICAgICBzaG93QmFja2Ryb3AoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNob3dCYWNrZHJvcCgpIHtcbiAgICAgICAgdmFyIGV4aXN0aW5nQmFja2Ryb3AgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndnNtLWJhY2tkcm9wJyk7XG4gICAgICAgIGlmICghZXhpc3RpbmdCYWNrZHJvcCkge1xuICAgICAgICAgICAgY3JlYXRlQmFja2Ryb3AoKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBleGlzdGluZ0JhY2tkcm9wLnN0eWxlLm9wYWNpdHkgPSAwLjU1XG4gICAgICAgICAgICBleGlzdGluZ0JhY2tkcm9wLm9uVHJhbnNpdGlvbkVuZE9uY2UoZnVuY3Rpb24oKXt9KTtcbiAgICAgICAgfSwgMCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGlkZUJhY2tkcm9wKCkge1xuICAgICAgICB2YXIgZXhpc3RpbmdCYWNrZHJvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2c20tYmFja2Ryb3AnKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nQmFja2Ryb3ApIHtcbiAgICAgICAgICAgIGV4aXN0aW5nQmFja2Ryb3Auc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICBleGlzdGluZ0JhY2tkcm9wLm9uVHJhbnNpdGlvbkVuZE9uY2UoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBleGlzdGluZ0JhY2tkcm9wLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZXhpc3RpbmdCYWNrZHJvcCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhpZGVNb2RhbHMoKSB7XG4gICAgICAgIHZhciBhbGxNb2RhbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLW1vZGFsOm5vdCgjdnNtX21vZGFsX2Jhc2UpJyksXG4gICAgICAgIGN1cnJlbnRCYXNlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1tb2RhbC5pbicpWzBdO1xuXG4gICAgICAgIHZhciBjb3B5T2ZBcnJheSA9IGluZm9BcnJheS5zbGljZSgwKSwgY29weU9mRGF0YUFycmF5ID0gZGF0YUFycmF5LnNsaWNlKDApO1xuXG4gICAgICAgIGluZm9BcnJheSA9IFtdO1xuICAgICAgICBkYXRhQXJyYXkgPSBbXTtcbiAgICAgICAgZGlzQ291bnRpbnVlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKG1vZGFsQXJyYXkuaW5kZXhPZihjdXJyZW50QmFzZS5nZXRBdHRyaWJ1dGUoJ2lkJykpID4gLTEpIHtcbiAgICAgICAgICAgIGN1cnJlbnRCYXNlLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICAgICAgY3VycmVudEJhc2Uub25UcmFuc2l0aW9uRW5kT25jZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChhbGxNb2RhbHMsIGZ1bmN0aW9uICh0aGlzTW9kYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNJRCA9IHRoaXNNb2RhbC5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RhbEFycmF5LmluZGV4T2YodGhpc0lEKSA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzTW9kYWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzTW9kYWwpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgaW5mb0Jhc2VPYmogPSB7fTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29weU9mQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgIHZhciBzcGxpdHRlZEFycmF5ID0gY29weU9mQXJyYXlbaV0uc3BsaXQoJzonKTtcbiAgICAgICAgICAgICAgICAgIGlmIChzcGxpdHRlZEFycmF5Lmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaW5mb0Jhc2VPYmpbc3BsaXR0ZWRBcnJheVswXV0gPSBzcGxpdHRlZEFycmF5WzFdO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmNhbGxiYWNrICYmIHR5cGVvZiBvcHRpb25zLmNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG91dE9iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEZpbmFsU2VsZWN0aW9uTWFkZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBWZWhpY2xlOiBpbmZvQmFzZU9iaixcbiAgICAgICAgICAgICAgICAgICAgICAgIEZ1bGxTZWxlY3Rpb25EYXRhOiBjb3B5T2ZEYXRhQXJyYXlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmNhbGxiYWNrKG91dE9iaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ05vIGNhbGxiYWNrIGZ1bmN0aW9uIHByb3ZpZGVkLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaGlkZUJhY2tkcm9wKCk7XG4gICAgICAgICAgICByZW1vdmVDbGFzcyhkb2N1bWVudC5ib2R5LCAndnNtLW1vZGFsLW9wZW4nKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignVGhpcyB2c20gaW5zdGFuY2UgaXMgbm90IHNob3duIHlldC4nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiB0aGUgY29udGFpbmVyIHRoYXQgbW9kYWxzIHNob3VsZCBiZSBhcHBlbmRlZCB0b1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1vZGFsQ29udGFpbmVyKCkge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuY29udGFpbmVyID09PSAnZnVuY3Rpb24nKSByZXR1cm4gb3B0aW9ucy5jb250YWluZXIoKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5jb250YWluZXIpIHJldHVybiBvcHRpb25zLmNvbnRhaW5lcjtcblxuICAgICAgICByZXR1cm4gZG9jdW1lbnQuYm9keTtcbiAgICB9XG5cbiAgICAvKkxvYWQgSFRNTCBjb2RlIGFuZCBhcHBlbmQgdG8gYm9keSovXG4gICAgZnVuY3Rpb24gbG9hZEJhc2UoKSB7XG4gICAgICAgIHZhciBleGlzdGluZ01vZGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZzbV9tb2RhbF9iYXNlJyk7XG4gICAgICAgIGlmICghZXhpc3RpbmdNb2RhbCkge1xuICAgICAgICAgICAgdmFyIGRpdkVsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZGl2RWxlLmlubmVySFRNTCA9IHZzbV90ZW1wbGF0ZTtcbiAgICAgICAgICAgIGdldE1vZGFsQ29udGFpbmVyKCkuYXBwZW5kQ2hpbGQoZGl2RWxlLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGUgYW5kIHByZXBhcmUgbW9kYWwgc2NyZWVuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtGdW5jdGlvbn0gcHJlcGFyZUZ1bmN0aW9uIC0gVGhlIGZ1bmN0aW9uIHRvIHByZXBhcmUgdGhlIG1vZGFsXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSBwcmVwYXJlRnVuY3Rpb25PcHRpb25zIC0gT3B0aW9ucyB0byBwYXNzIGluXG4gICAgICogQHBhcmFtICB7T2JqZWN0fSB0cmFuc2l0aW9uTW9kYWwgLSBUaGUgbW9kYWwgc2NyZWVuIHRvIHRyYW5zaXRpb24gdG9cbiAgICAgKiBAcmV0dXJuIHtFbGVtZW50fSAgUmV0dXJucyB0aGUgcHJlcGFyZWQgbW9kYWxcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlKHByZXBhcmVGdW5jdGlvbiwgcHJlcGFyZUZ1bmN0aW9uT3B0aW9ucywgdHJhbnNpdGlvbk1vZGFsKSB7XG4gICAgICAgIHZhciBtb2RhbEJhc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndnNtX21vZGFsX2Jhc2UnKTtcbiAgICAgICAgaWYgKCFtb2RhbEJhc2UpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIC8vTWFrZSBhIGNvcHkgb2YgI3ZzbV9tb2RhbF9iYXNlXG4gICAgICAgIHZhciBtb2RhbEJhc2VDb3B5ID0gbW9kYWxCYXNlLmNsb25lTm9kZSh0cnVlKTtcblxuICAgICAgICAvL092ZXJyaWRlIGlkIG9mIG1vZGFsQmFzZUNvcHkgYW5kIGFwcGVuZCB0byBib2R5XG4gICAgICAgIG1vZGFsQmFzZUNvcHkuaWQgPSAndnNtX21vZGFsXycgKyBfdnNtTW9kYWxJRENvdW50ZXI7XG4gICAgICAgIG1vZGFsQXJyYXkucHVzaCgndnNtX21vZGFsXycgKyBfdnNtTW9kYWxJRENvdW50ZXIpO1xuICAgICAgICBtb2RhbEJhc2VDb3B5LmNsYXNzTmFtZSArPSAnIHZzbV9tb2RhbF8nICsgX3ZzbU1vZGFsSURDb3VudGVyO1xuICAgICAgICBnZXRNb2RhbENvbnRhaW5lcigpLmFwcGVuZENoaWxkKG1vZGFsQmFzZUNvcHkpO1xuXG4gICAgICAgIC8vU2V0dXAgdHJhbnNpdGlvblxuICAgICAgICBpZiAodHlwZW9mKHRyYW5zaXRpb25Nb2RhbCkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBwcmVwYXJlRnVuY3Rpb25PcHRpb25zID0gZXh0ZW5kKHtcbiAgICAgICAgICAgICAgICBiYWNrTW9kYWw6IHRyYW5zaXRpb25Nb2RhbCxcbiAgICAgICAgICAgICAgICB0aGlzTW9kYWw6IG1vZGFsQmFzZUNvcHlcbiAgICAgICAgICAgIH0sIHByZXBhcmVGdW5jdGlvbk9wdGlvbnMpO1xuXG4gICAgICAgICAgICB2YXIgYmFja0xpbmtzID0gbW9kYWxCYXNlQ29weS5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLWJhY2stc3RlcCcpO1xuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGJhY2tMaW5rcywgZnVuY3Rpb24gKGJhY2tMaW5rKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJhY2tIYW5kbGVyID0gZnVuY3Rpb24oZSl7XG4gICAgICAgICAgICAgICAgICAgIGUudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZS50eXBlLCBiYWNrSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgIHZhciBibSA9IHByZXBhcmVGdW5jdGlvbk9wdGlvbnMuYmFja01vZGFsLFxuICAgICAgICAgICAgICAgICAgICBiYyA9IHByZXBhcmVGdW5jdGlvbk9wdGlvbnMudGhpc01vZGFsO1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uVG9Nb2RhbChibSwgYmMsIHRydWUpXG4gICAgICAgICAgICAgICAgICAgIC5kb25lKFxuICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5mb0FycmF5Lmxlbmd0aCkgaW5mb0FycmF5LnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhQXJyYXkubGVuZ3RoKSBkYXRhQXJyYXkucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJjLnBhcmVudE5vZGUpIGJjLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoYmMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYWZ0ZXJCYWNrQ2xpY2tlZCAmJiB0eXBlb2Ygb3B0aW9ucy5hZnRlckJhY2tDbGlja2VkID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZm9CYXNlT2JqID0ge307XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmZvQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3BsaXR0ZWRBcnJheSA9IGluZm9BcnJheVtpXS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGxpdHRlZEFycmF5Lmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm9CYXNlT2JqW3NwbGl0dGVkQXJyYXlbMF1dID0gc3BsaXR0ZWRBcnJheVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3V0SW5mb09iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEZ1bGxTZWxlY3Rpb246IGluZm9CYXNlT2JqLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRnVsbFNlbGVjdGlvbkRhdGE6IGRhdGFBcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5hZnRlckJhY2tDbGlja2VkKG91dEluZm9PYmopO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBiYWNrTGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGJhY2tIYW5kbGVyLCBmYWxzZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vQ2FsbCB0aGUgcHJlcGFyZSBmdW5jdGlvbiB0byBpbml0aWFsaXplIHRoZSBuZXcgbW9kYWxcbiAgICAgICAgaWYgKHR5cGVvZiBwcmVwYXJlRnVuY3Rpb24gPT09IFwiZnVuY3Rpb25cIikgcHJlcGFyZUZ1bmN0aW9uKG1vZGFsQmFzZUNvcHksIHByZXBhcmVGdW5jdGlvbk9wdGlvbnMpO1xuXG4gICAgICAgIC8vYmluZCBjbGljayBldmVudCB0byBjbG9zZSB0aGUgbW9kYWxcbiAgICAgICAgdmFyIGNsb3NlQnV0dG9ucyA9IG1vZGFsQmFzZUNvcHkucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1jbG9zZScpO1xuICAgICAgICBbXS5mb3JFYWNoLmNhbGwoY2xvc2VCdXR0b25zLCBmdW5jdGlvbiAoY2xvc2VCdXR0b24pIHtcbiAgICAgICAgICAgIGNsb3NlQnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGhpZGVNb2RhbHMoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuXG4gICAgICAgIF92c21Nb2RhbElEQ291bnRlcisrO1xuXG4gICAgICAgIHJldHVybiBtb2RhbEJhc2VDb3B5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zaXRpb24gYmV0d2VlbiBtb2RhbFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7RWxlbWVudH0gdG9Nb2RhbCAtIFRoZSBtb2RhbCB0byB0cmFuc2l0aW9uIHRvXG4gICAgICogQHBhcmFtICB7RWxlbWVudH0gZnJvbU1vZGFsIC0gVGhlIGN1cnJlbnQgbW9kYWwgdG8gdHJhbnNpdGlvbiBmcm9tXG4gICAgICogQHBhcmFtICB7Qm9vbGVhbn0gYmFja3dhcmRzIC0gc2V0IHRvIHRydWUsIGlmIHRyYW5zaXRpb24gZnJvbSBoaWdoZXIgaW5kZXggdG8gbG93ZXIgaW5kZXhcbiAgICAgKiBAcmV0dXJuIHtSaWRlU3R5bGVyUHJvbWlzZX0gLSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdpbGwgcmVzb2x2ZSB3aGVuIHRoZSB0cmFuc2l0aW9uIGlzIGNvbXBsZXRlXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJhbnNpdGlvblRvTW9kYWwodG9Nb2RhbCwgZnJvbU1vZGFsLCBiYWNrd2FyZHMpIHtcbiAgICAgICAgYmFja3dhcmRzID0gISEgYmFja3dhcmRzO1xuXG4gICAgICAgIGlmICghdG9Nb2RhbCB8fCAhZnJvbU1vZGFsKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIC8qKiBAdHlwZSB7UmlkZVN0eWxlclByb21pc2V9ICovXG4gICAgICAgIHZhciBmcm9tQW5pbWF0ZVByb21pc2UgPSByaWRlc3R5bGVyLnByb21pc2UoKSxcbiAgICAgICAgICAgIHRvQW5pbWF0ZVByb21pc2UgPSByaWRlc3R5bGVyLnByb21pc2UoKTtcblxuICAgICAgICBpZiAoIWJhY2t3YXJkcykge1xuICAgICAgICAgICAgdmFyIGZyb21aID0gcGFyc2VJbnQoZnJvbU1vZGFsLnN0eWxlLnpJbmRleCwgMTApIHx8IDAsXG4gICAgICAgICAgICAgICAgdG9aID0gcGFyc2VJbnQodG9Nb2RhbC5zdHlsZS56SW5kZXgsIDEwKSB8fCAwO1xuICAgICAgICAgICAgaWYgKHRvWiA8PSBmcm9tWikgdG9aID0gZnJvbVogKyAxO1xuICAgICAgICAgICAgdG9Nb2RhbC5zdHlsZS56SW5kZXggPSB0b1o7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodHJhbnNpdGlvblN1cHBvcnQpIHtcbiAgICAgICAgICAgIGlmIChiYWNrd2FyZHMpIHtcbiAgICAgICAgICAgICAgICB0b01vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKHRvTW9kYWwsICdpbicpO1xuXG4gICAgICAgICAgICAgICAgdG9BbmltYXRlUHJvbWlzZS5yZXNvbHZlKCk7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhmcm9tTW9kYWwsICdpbicpO1xuICAgICAgICAgICAgICAgICAgICBmcm9tTW9kYWwub25UcmFuc2l0aW9uRW5kT25jZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbU1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tQW5pbWF0ZVByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRvTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBhZGRDbGFzcyh0b01vZGFsLCAnaW4nKTtcbiAgICAgICAgICAgICAgICAgICAgdG9Nb2RhbC5vblRyYW5zaXRpb25FbmRPbmNlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGZyb21Nb2RhbCwgJ2luJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRvQW5pbWF0ZVByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbUFuaW1hdGVQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9LCA1MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoYmFja3dhcmRzKSB7XG4gICAgICAgICAgICAgICAgdG9Nb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgICAgICAgICBhZGRDbGFzcyh0b01vZGFsLCAnaW4nKTtcblxuICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGZyb21Nb2RhbCwgJ2luJyk7XG4gICAgICAgICAgICAgICAgZnJvbU1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0b01vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKHRvTW9kYWwsICdpbicpO1xuXG4gICAgICAgICAgICAgICAgZnJvbU1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoZnJvbU1vZGFsLCAnaW4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdG9BbmltYXRlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICBmcm9tQW5pbWF0ZVByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFsbFByb21pc2UgPSByaWRlc3R5bGVyLnByb21pc2UoKTtcbiAgICAgICAgdmFyIG9uUHJvbWlzZUNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB0b1N0YXRlID0gdG9BbmltYXRlUHJvbWlzZS5zdGF0ZSgpLFxuICAgICAgICAgICAgICAgIGZyb21TdGF0ZSA9IGZyb21BbmltYXRlUHJvbWlzZS5zdGF0ZSgpO1xuXG4gICAgICAgICAgICAvLyBTdGlsbCB3YWl0aW5nIGZvciByZXNvbHV0aW9uXG4gICAgICAgICAgICBpZiAodG9TdGF0ZSA9PT0gMCB8fCBmcm9tU3RhdGUgPT09IDApIHJldHVybjtcblxuICAgICAgICAgICAgLy8gT25lIHByb21pc2UgaGFzIGJlZW4gcmVqZWN0ZWQgYnV0IHRoZSBvdGhlciBpcyByZXNvbHZlZFxuICAgICAgICAgICAgaWYgKHRvU3RhdGUgPT09IDIgfHwgZnJvbVN0YXRlID09PSAyKSByZXR1cm4gYWxsUHJvbWlzZS5yZWplY3QoKTtcblxuICAgICAgICAgICAgLy8gQm90aCBwcm9taXNlcyBhcmUgcmVzb2x2ZWRcbiAgICAgICAgICAgIGFsbFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRvQW5pbWF0ZVByb21pc2UuYWx3YXlzKG9uUHJvbWlzZUNoYW5nZSk7XG4gICAgICAgIGZyb21BbmltYXRlUHJvbWlzZS5hbHdheXMob25Qcm9taXNlQ2hhbmdlKTtcblxuICAgICAgICByZXR1cm4gYWxsUHJvbWlzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb2RhbCBwcmVwYXJhdGlvbjogUHJvY2VzcyB0aGUgdmVoaWNsZSBzZWxlY3QgcmVxdWVzdFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7RWxlbWVudH0gbW9kYWwgLSBUaGUgbW9kYWwgdG8gcHJlcGFyZVxuICAgICAqIEByZXR1cm4gdm9pZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcXVlc3RTdGVwKG1vZGFsLCBzdGVwT3B0aW9ucykge1xuICAgICAgICB2YXIgcmVxdWVzdCA9IHtcbiAgICAgICAgICAgIFNlbGVjdGlvbjogZGF0YUFycmF5XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHN0ZXBPcHRpb25zICYmIHN0ZXBPcHRpb25zLmJlc3RDb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICBzaG93U2VsZWN0aW9uKG1vZGFsLCBzdGVwT3B0aW9ucy5iZXN0Q29uZmlndXJhdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmlkZXN0eWxlci5hamF4LnNlbmQoe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogJ1ZlaGljbGUvU2VsZWN0JyxcbiAgICAgICAgICAgICAgICBkYXRhOiByZXF1ZXN0LFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLlN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5CZXN0Q29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLkluY2x1ZGVPRVRpcmVPcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlkZXN0eWxlci5hamF4LnNlbmQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnVmVoaWNsZS9HZXRUaXJlT3B0aW9uRGV0YWlscycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7J1ZlaGljbGVDb25maWd1cmF0aW9uJzogcmVzcG9uc2UuQmVzdENvbmZpZ3VyYXRpb24uVmFsdWV9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVzdENvbmZpZ3VyYXRpb246IHJlc3BvbnNlLkJlc3RDb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChkZXRhaWxSZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXRhaWxSZXNwb25zZS5TdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZXRhaWxzID0gZGV0YWlsUmVzcG9uc2UuRGV0YWlscyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVzdENvbmZpZ3VyYXRpb24gPSB0aGlzLmJlc3RDb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGV0YWlscy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRldGFpbFN0cmluZyA9IChmdW5jdGlvbiAoZGV0YWlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSBkZXRhaWwuRnJvbnRbJ0Rlc2NyaXB0aW9uJ10sIHIgPSBkZXRhaWwuUmVhclsnRGVzY3JpcHRpb24nXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZj09cikgcmV0dXJuIGY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSByZXR1cm4gXCJGOiBcIiArIGYgKyBcIiBSOiBcIiArIHI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KShkZXRhaWxzWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RDb25maWd1cmF0aW9uLlRpcmVPcHRpb25CYXNpYyA9IHtUaXJlT3B0aW9uSUQ6IGRldGFpbHNbMF1bJ1RpcmVPcHRpb25JRCddLCBUaXJlT3B0aW9uU3RyaW5nOiBkZXRhaWxTdHJpbmd9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1NlbGVjdGlvbihtb2RhbCwgYmVzdENvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbk1lbnUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgR3JvdXBzOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlc2NyaXB0aW9uOiAnU2VsZWN0IFlvdXIgVGlyZSBTaXplJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaXRsZTogJ1RpcmUgU2l6ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgS2V5OiAndGlyZW9wdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgT3B0aW9uczogW11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGV0YWlscy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZXRhaWxTdHJpbmcgPSAoZnVuY3Rpb24gKGRldGFpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZiA9IGRldGFpbC5Gcm9udFsnRGVzY3JpcHRpb24nXSwgciA9IGRldGFpbC5SZWFyWydEZXNjcmlwdGlvbiddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZj09cikgcmV0dXJuIGY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgcmV0dXJuIFwiRjogXCIgKyBmICsgXCIgUjogXCIgKyByO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKGRldGFpbHNbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbk1lbnUuT3B0aW9ucy5wdXNoKHtHcm91cDogbnVsbCwgTGFiZWw6IGRldGFpbFN0cmluZywgVmFsdWU6IGRldGFpbHNbaV1bJ1RpcmVPcHRpb25JRCddfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVNb2RhbChtb2RhbCwgb3B0aW9uTWVudSwgYmVzdENvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Ugc2hvd1NlbGVjdGlvbihtb2RhbCwgYmVzdENvbmZpZ3VyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2VsZWN0aW9uKG1vZGFsLCByZXNwb25zZS5CZXN0Q29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVNb2RhbChtb2RhbCwgcmVzcG9uc2UuTWVudSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb2RhbCBwcmVwYXJhdGlvbjogVXBkYXRlIG1vZGFsIGNvbnRlbnRcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge0VsZW1lbnR9IG1vZGFsIC0gVGhlIG1vZGFsIHRvIHByZXBhcmVcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IG1lbnUgLSBNZW51IG9iamVjdCB0byBwYXNzIGluIGZvciBtb2RhbCBjb250ZW50IHVwZGF0ZVxuICAgICAqIEByZXR1cm4gdm9pZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZU1vZGFsKG1vZGFsLCBtZW51LCBiZXN0Q29uZmlndXJhdGlvbikge1xuICAgICAgICB2YXIgaXRlbUxpc3RDb250YWluZXIgPSBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLWxpc3QtY29udGFpbmVyJylbMF0sXG4gICAgICAgIGhlYWRlckVsZW1lbnQgPSBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLWhlYWRlcicpWzBdLFxuICAgICAgICBib2R5RWxlbWVudCA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tbW9kYWwtYm9keScpWzBdLFxuICAgICAgICB2c21MaW5rU3R5bGUgPSBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLWxpbmUtc3RlcCcpWzBdLFxuICAgICAgICBmaW5hbFNjcmVlbiA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tZmluYWwnKVswXTtcblxuICAgICAgICB2YXIgbWVudU9wdGlvbnMgPSBtZW51Lk9wdGlvbnMsXG4gICAgICAgIG1lbnVLZXkgPSBtZW51LktleSxcbiAgICAgICAgbWVudVRpdGxlID0gbWVudS5UaXRsZSxcbiAgICAgICAgbWVudUdyb3VwcyA9IG1lbnUuR3JvdXBzO1xuXG4gICAgICAgIHZhciBvbkxpc3RJdGVtU2VsZWN0ZWQgPSBmdW5jdGlvbihvKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9uVmFsdWUgPSBvLmdldEF0dHJpYnV0ZSgnZGF0YS1vcHRpb252YWx1ZScpO1xuICAgICAgICAgICAgdmFyIG9wdGlvbktleSA9IG8uZ2V0QXR0cmlidXRlKCdkYXRhLW9wdGlvbmtleScpO1xuICAgICAgICAgICAgdmFyIG9wdGlvbkxhYmVsID0gby5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3B0aW9ubGFiZWwnKTtcbiAgICAgICAgICAgIHZhciBvcHRpb25UaXRsZSA9IG8uZ2V0QXR0cmlidXRlKCdkYXRhLW1lbnV0aXRsZScpO1xuICAgICAgICAgICAgZGF0YUFycmF5LnB1c2gob3B0aW9uS2V5ICsgJzonICsgb3B0aW9uVmFsdWUpO1xuICAgICAgICAgICAgaW5mb0FycmF5LnB1c2gob3B0aW9uVGl0bGUgKyAnOicgKyBvcHRpb25MYWJlbCk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFmdGVyT3B0aW9uU2VsZWN0ZWQgJiYgdHlwZW9mIG9wdGlvbnMuYWZ0ZXJPcHRpb25TZWxlY3RlZCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdmFyIGluZm9CYXNlT2JqID0ge307XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZm9BcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3BsaXR0ZWRBcnJheSA9IGluZm9BcnJheVtpXS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3BsaXR0ZWRBcnJheS5sZW5ndGggPT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5mb0Jhc2VPYmpbc3BsaXR0ZWRBcnJheVswXV0gPSBzcGxpdHRlZEFycmF5WzFdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIG91dEluZm9PYmogPSB7XG4gICAgICAgICAgICAgICAgICAgIEN1cnJlbnRTZWxlY3Rpb246IHt9LFxuICAgICAgICAgICAgICAgICAgICBGdWxsU2VsZWN0aW9uOiBpbmZvQmFzZU9iaixcbiAgICAgICAgICAgICAgICAgICAgRnVsbFNlbGVjdGlvbkRhdGE6IGRhdGFBcnJheVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG91dEluZm9PYmouQ3VycmVudFNlbGVjdGlvbltvcHRpb25UaXRsZV0gPSBvcHRpb25MYWJlbDtcblxuICAgICAgICAgICAgICAgIG9wdGlvbnMuYWZ0ZXJPcHRpb25TZWxlY3RlZChvdXRJbmZvT2JqKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFkaXNDb3VudGludWVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25PcHRpb24gPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uS2V5ID09ICd0aXJlb3B0aW9uJyAmJiBiZXN0Q29uZmlndXJhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBiZXN0Q29uZmlndXJhdGlvbi5UaXJlT3B0aW9uQmFzaWMgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBUaXJlT3B0aW9uSUQ6IG9wdGlvblZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgVGlyZU9wdGlvblN0cmluZzogb3B0aW9uTGFiZWxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbk9wdGlvbi5iZXN0Q29uZmlndXJhdGlvbiA9IGJlc3RDb25maWd1cmF0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uVG9Nb2RhbChcbiAgICAgICAgICAgICAgICAgICAgYmFzZShyZXF1ZXN0U3RlcCwgdHJhbnNpdGlvbk9wdGlvbiwgbW9kYWwpLFxuICAgICAgICAgICAgICAgICAgICBtb2RhbFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGJ1aWxkTGlzdEl0ZW0gPSBmdW5jdGlvbihvcHRPYmopIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25MYWJlbCA9IG9wdE9iai5MYWJlbCxcbiAgICAgICAgICAgIG9wdGlvblZhbHVlID0gb3B0T2JqLlZhbHVlO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25MYWJlbCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIG9wdGlvblZhbHVlID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBvcHRpb25CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyksXG4gICAgICAgICAgICBvcHRpb25UZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUob3B0aW9uTGFiZWwpO1xuICAgICAgICAgICAgb3B0aW9uQnRuLmNsYXNzTmFtZSA9ICd2c20tb3B0aW9uLWl0ZW0gdnNtLWJ0biB2c20tYnRuLWdyYXknO1xuICAgICAgICAgICAgb3B0aW9uQnRuLmhyZWYgPSAnamF2YXNjcmlwdDp2b2lkKDApJztcbiAgICAgICAgICAgIG9wdGlvbkJ0bi5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3B0aW9udmFsdWUnLCBvcHRpb25WYWx1ZSk7XG4gICAgICAgICAgICBvcHRpb25CdG4uc2V0QXR0cmlidXRlKCdkYXRhLW9wdGlvbmxhYmVsJywgb3B0aW9uTGFiZWwpO1xuICAgICAgICAgICAgb3B0aW9uQnRuLmFwcGVuZENoaWxkKG9wdGlvblRleHQpO1xuXG4gICAgICAgICAgICBvcHRpb25CdG4ub25jbGljayA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgb25MaXN0SXRlbVNlbGVjdGVkKHRoaXMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25CdG47XG4gICAgICAgIH0sXG4gICAgICAgIGJ1aWxkTGlzdEhlYWRlciA9IGZ1bmN0aW9uKGhlYWRlclRleHQpIHtcbiAgICAgICAgICAgIHZhciBtZW51U3ViSGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpLFxuICAgICAgICAgICAgbWVudVN1YkhlYWRlclRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShoZWFkZXJUZXh0KTtcbiAgICAgICAgICAgIG1lbnVTdWJIZWFkZXIuY2xhc3NOYW1lID0gJ3ZzbS1ncm91cC10aXRsZSc7XG4gICAgICAgICAgICBtZW51U3ViSGVhZGVyLmFwcGVuZENoaWxkKG1lbnVTdWJIZWFkZXJUZXh0KTtcblxuICAgICAgICAgICAgcmV0dXJuIG1lbnVTdWJIZWFkZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy9JbiBwcm9ncmVzcywgcmVtb3ZpbmcgdGhlIGZpbmFsIHNjcmVlbiBlbGVtZW50IGZyb20gbG9hZGVkIG1vZGFsXG4gICAgICAgIGZpbmFsU2NyZWVuLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZmluYWxTY3JlZW4pO1xuICAgICAgICBhZGRDbGFzcyh2c21MaW5rU3R5bGUsICd2c20tc2luZ2xlLXN0ZXAnKTtcblxuICAgICAgICAvL0NyZWF0ZSByaWdodC1zaWRlIHByb2dyZXNzIGJhclxuICAgICAgICB2YXIgZGl2RUxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgIGRvdEVsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2knKSxcbiAgICAgICAgc3BhbkVsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgZGl2RUxlLmNsYXNzTmFtZSA9ICd2c20tY29sdW1uLTInO1xuICAgICAgICBkb3RFbGUuY2xhc3NOYW1lID0gJ2RvdC1zdHlsZSBkb3QtYmVmb3JlIGFjdGl2ZSc7XG4gICAgICAgIHNwYW5FbGUuY2xhc3NOYW1lID0gJ2RvdC1pbmZvIGRvdC1pbmZvLWJlZm9yZSBhY3RpdmUnO1xuICAgICAgICAvL3NwYW5FbGUuaW5uZXJIVE1MID0gbWVudVRpdGxlO1xuICAgICAgICBkaXZFTGUuYXBwZW5kQ2hpbGQoZG90RWxlKTtcbiAgICAgICAgZGl2RUxlLmFwcGVuZENoaWxkKHNwYW5FbGUpO1xuXG4gICAgICAgIC8vQ3JlYXRlIGxlZnQtc2lkZSBwcm9ncmVzcyBpbmZvXG4gICAgICAgIGlmICghZGF0YUFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIG5vdFN0eWxlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBub3RTdHlsZURpdi5jbGFzc05hbWUgPSAndnNtLWNvbHVtbi0yIG5vLXN0eWxlJztcbiAgICAgICAgICAgIHZzbUxpbmtTdHlsZS5hcHBlbmRDaGlsZChub3RTdHlsZURpdik7XG4gICAgICAgICAgICB2c21MaW5rU3R5bGUuYXBwZW5kQ2hpbGQoZGl2RUxlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFkZENsYXNzKGJvZHlFbGVtZW50LCAndnNtLWhhcy1iYWNrJyk7XG4gICAgICAgICAgICB2YXIgbm90U3R5bGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIC8qY2VsbEVsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSwqL1xuICAgICAgICAgICAgLyppbmZvRWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpOyovXG4gICAgICAgICAgICBub3RTdHlsZURpdi5jbGFzc05hbWUgPSAndnNtLWNvbHVtbi0yIHZzbS1iZWZvcmUnO1xuICAgICAgICAgICAgLypjZWxsRWxlLmNsYXNzTmFtZSA9ICd2c20tdGFibGUtY2VsbCc7XG4gICAgICAgICAgICBpbmZvRWxlLmNsYXNzTmFtZSA9ICd2c20tc2VsZWN0ZWQtaW5mbyc7XG4gICAgICAgICAgICBjZWxsRWxlLmFwcGVuZENoaWxkKGluZm9FbGUpO1xuICAgICAgICAgICAgbm90U3R5bGVEaXYuYXBwZW5kQ2hpbGQoY2VsbEVsZSk7Ki9cbiAgICAgICAgICAgIHZhciBpbmZvQmFzZUFycmF5ID0gaW5mb0FycmF5Lm1hcChmdW5jdGlvbiAoZWxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZSAmJiBlbGUuc3BsaXQoJzonKS5sZW5ndGggPT09IDIgPyBlbGUuc3BsaXQoJzonKVsxXSA6ICcnO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvKmluZm9FbGUuaW5uZXJIVE1MID0gaW5mb0Jhc2VBcnJheS5qb2luKCcgJyk7Ki9cbiAgICAgICAgICAgIHNwYW5FbGUuaW5uZXJIVE1MID0gaW5mb0Jhc2VBcnJheS5qb2luKCcgJyk7XG4gICAgICAgICAgICB2c21MaW5rU3R5bGUuYXBwZW5kQ2hpbGQobm90U3R5bGVEaXYpO1xuICAgICAgICAgICAgdnNtTGlua1N0eWxlLmFwcGVuZENoaWxkKGRpdkVMZSk7XG5cbiAgICAgICAgfVxuICAgICAgICBoZWFkZXJFbGVtZW50LmlubmVySFRNTCA9IG1lbnUuRGVzY3JpcHRpb247XG5cbiAgICAgICAgLy9DbGVhciB0aGUgY29udGFpbmVyXG4gICAgICAgIHdoaWxlIChpdGVtTGlzdENvbnRhaW5lci5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICBpdGVtTGlzdENvbnRhaW5lci5yZW1vdmVDaGlsZChpdGVtTGlzdENvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtZW51T3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHZhciBncm91cFdyYXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGdyb3VwV3JhcC5jbGFzc05hbWUgPSAndnNtLWdyb3VwLXdyYXAgY2VudGVyLXBpZWNlJztcbiAgICAgICAgICAgIGl0ZW1MaXN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGdyb3VwV3JhcCk7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLkdyb3VwT3B0aW9ucyAmJiBtZW51R3JvdXBzKSB7XG4gICAgICAgICAgICAgICAgdmFyIG1lbnVHcm91cGVkT3B0aW9ucyA9IHt9O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVudU9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoaXNNZW51T3B0aW9uID0gbWVudU9wdGlvbnNbaV0sXG4gICAgICAgICAgICAgICAgICAgIHRoaXNNZW51T3B0aW9uR3JvdXAgPSB0aGlzTWVudU9wdGlvbi5Hcm91cDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXNNZW51T3B0aW9uR3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vSWYgR3JvdXAgdmFsdWUgb2YgdGhpcyBvcHRpb24gaXMgbm90IG51bGwgb3IgdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1lbnVHcm91cGVkT3B0aW9uc1t0aGlzTWVudU9wdGlvbkdyb3VwXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVHcm91cGVkT3B0aW9uc1t0aGlzTWVudU9wdGlvbkdyb3VwXSA9IFt0aGlzTWVudU9wdGlvbl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW51R3JvdXBlZE9wdGlvbnNbdGhpc01lbnVPcHRpb25Hcm91cF0ucHVzaCh0aGlzTWVudU9wdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvL0lmIEdyb3VwIHZhbHVlIG9mIHRoaXMgb3B0aW9uIGlzIG51bGwgb3IgdW5kZWZpbmVkLCBwdXQgdGhlbSBpbiBVbmdyb3VwZWQgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vTWF5IG5ldmVyIGhhcHBlbiwgbW9yZSBsaWtlIGFuIGVycm9yIGhhbmRsaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1lbnVHcm91cGVkT3B0aW9uc1snX3VuZ3JvdXBlZCddKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudUdyb3VwZWRPcHRpb25zWydfdW5ncm91cGVkJ10gPSBbdGhpc01lbnVPcHRpb25dO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudUdyb3VwZWRPcHRpb25zWydfdW5ncm91cGVkJ10ucHVzaCh0aGlzTWVudU9wdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9HbyB0aHJvdWdoIGtub3duIEdyb3VwcyBiZWZvcmUgY2hlY2tpbmcgdW5ncm91cGVkIG9wdGlvbnNcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1lbnVHcm91cHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lbnVHcm91cCA9IG1lbnVHcm91cHNbal07XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdWJHcm91cCA9IG1lbnVHcm91cGVkT3B0aW9uc1ttZW51R3JvdXBdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3ViR3JvdXApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBncm91cExpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbkNsYXNzID0gJ3ZzbS1vbmUtY29udGFpbmVyJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZW51LktleSA9PSAneWVhcicgJiYgbWVudU9wdGlvbnMubGVuZ3RoID4gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5ZZWFyU2NyZWVuQ29sdW1ucyA9PSAyKSBjb2x1bW5DbGFzcyA9ICd2c20taGFsZi1jb250YWluZXInO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLlllYXJTY3JlZW5Db2x1bW5zID49IDMpIGNvbHVtbkNsYXNzID0gJ3ZzbS10aGlyZC1jb250YWluZXInO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lbnUuS2V5ID09ICdtYWtlJyAmJiBtZW51T3B0aW9ucy5sZW5ndGggPiAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLk1ha2VTY3JlZW5Db2x1bW5zID49IDIpIGNvbHVtbkNsYXNzID0gJ3ZzbS1oYWxmLWNvbnRhaW5lcic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cExpc3QuY2xhc3NOYW1lID0gJ3ZzbS1ncm91cC1saXN0ICcgKyBjb2x1bW5DbGFzcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwV3JhcC5hcHBlbmRDaGlsZChidWlsZExpc3RIZWFkZXIobWVudUdyb3VwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cFdyYXAuYXBwZW5kQ2hpbGQoZ3JvdXBMaXN0KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdWJHcm91cC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IGJ1aWxkTGlzdEl0ZW0oc3ViR3JvdXBbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGlzdEl0ZW0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1vcHRpb25rZXknLCBtZW51S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLW1lbnV0aXRsZScsIG1lbnVUaXRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwTGlzdC5hcHBlbmRDaGlsZChsaXN0SXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vQ2hlY2sgaWYgVW5ncm91cGVkIG9wdGlvbnMgZXhpc3RcbiAgICAgICAgICAgICAgICBpZiAobWVudUdyb3VwZWRPcHRpb25zWydfdW5ncm91cGVkJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdyb3VwTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICAgICAgICAgICAgICBjb2x1bW5DbGFzcyA9ICd2c20tb25lLWNvbnRhaW5lcic7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZW51LktleSA9PSAneWVhcicgJiYgbWVudU9wdGlvbnMubGVuZ3RoID4gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLlllYXJTY3JlZW5Db2x1bW5zID09IDIpIGNvbHVtbkNsYXNzID0gJ3ZzbS1oYWxmLWNvbnRhaW5lcic7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5ZZWFyU2NyZWVuQ29sdW1ucyA+PSAzKSBjb2x1bW5DbGFzcyA9ICd2c20tdGhpcmQtY29udGFpbmVyJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAobWVudS5LZXkgPT0gJ21ha2UnICYmIG1lbnVPcHRpb25zLmxlbmd0aCA+IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5NYWtlU2NyZWVuQ29sdW1ucyA+PSAyKSBjb2x1bW5DbGFzcyA9ICd2c20taGFsZi1jb250YWluZXInO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwTGlzdC5jbGFzc05hbWUgPSAndnNtLWdyb3VwLWxpc3QgJyArIGNvbHVtbkNsYXNzO1xuICAgICAgICAgICAgICAgICAgICBncm91cFdyYXAuYXBwZW5kQ2hpbGQoYnVpbGRMaXN0SGVhZGVyKCdVbmdyb3VwZWQnKSk7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwV3JhcC5hcHBlbmRDaGlsZChncm91cExpc3QpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBzdWJHcm91cCA9IG1lbnVHcm91cGVkT3B0aW9uc1snX3VuZ3JvdXBlZCddO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN1Ykdyb3VwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSBidWlsZExpc3RJdGVtKHN1Ykdyb3VwW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGlzdEl0ZW0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLW9wdGlvbmtleScsIG1lbnVLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RJdGVtLnNldEF0dHJpYnV0ZSgnZGF0YS1tZW51dGl0bGUnLCBtZW51VGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwTGlzdC5hcHBlbmRDaGlsZChsaXN0SXRlbSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YXIgZ3JvdXBMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgICAgICAgY29sdW1uQ2xhc3MgPSAndnNtLW9uZS1jb250YWluZXInO1xuICAgICAgICAgICAgICAgIGlmIChtZW51LktleSA9PSAneWVhcicgJiYgbWVudU9wdGlvbnMubGVuZ3RoID4gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuWWVhclNjcmVlbkNvbHVtbnMgPT0gMikgY29sdW1uQ2xhc3MgPSAndnNtLWhhbGYtY29udGFpbmVyJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuWWVhclNjcmVlbkNvbHVtbnMgPj0gMykgY29sdW1uQ2xhc3MgPSAndnNtLXRoaXJkLWNvbnRhaW5lcic7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtZW51LktleSA9PSAnbWFrZScgJiYgbWVudU9wdGlvbnMubGVuZ3RoID4gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuTWFrZVNjcmVlbkNvbHVtbnMgPj0gMikgY29sdW1uQ2xhc3MgPSAndnNtLWhhbGYtY29udGFpbmVyJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZ3JvdXBMaXN0LmNsYXNzTmFtZSA9ICd2c20tZ3JvdXAtbGlzdCAnICsgY29sdW1uQ2xhc3M7XG4gICAgICAgICAgICAgICAgZ3JvdXBXcmFwLmFwcGVuZENoaWxkKGdyb3VwTGlzdCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1lbnVPcHRpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IGJ1aWxkTGlzdEl0ZW0obWVudU9wdGlvbnNbaV0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGxpc3RJdGVtICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLW9wdGlvbmtleScsIG1lbnVLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLW1lbnV0aXRsZScsIG1lbnVUaXRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cExpc3QuYXBwZW5kQ2hpbGQobGlzdEl0ZW0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTW9kYWwgcHJlcGFyYXRpb246IFNob3cgZmluYWwgdmVoaWNsZSBzZWxlY3Rpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge0VsZW1lbnR9IG1vZGFsIC0gVGhlIG1vZGFsIHRvIHByZXBhcmVcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGJlc3RDb25maWd1cmF0aW9uIC0gYmVzdENvbmZpZ3VyYXRpb24gb2JqZWN0IHRvIHBhc3MgaW4gZm9yIG1vZGFsIGNvbnRlbnQgdXBkYXRlXG4gICAgICogQHJldHVybiB2b2lkXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2hvd1NlbGVjdGlvbihtb2RhbCwgYmVzdENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgdmFyIHZlaGljbGVJbWFnZSA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tdmVoaWNsZS1kaXNwbGF5JylbMF0sXG4gICAgICAgIHZlaGljbGVMb2FkZXIgPSBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLWZpbmFsIC52c20tbG9hZGVySWNvbicpWzBdLFxuICAgICAgICBuYW1lRWxlbWVudCA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52ZWhpY2xlLXJlc3VsdC1uYW1lJylbMF0sXG4gICAgICAgIHNpemVFbGVtZW50ID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnZlaGljbGUtcmVzdWx0LXNpemUnKVswXSxcbiAgICAgICAgY29uZmlybUJ1dHRvbiA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tZmluZCcpWzBdLFxuICAgICAgICBib2R5RWxlbWVudCA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tbW9kYWwtYm9keScpWzBdLFxuICAgICAgICBpblByb2dyZXNzU2NyZWVuID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1pbi1wcm9ncmVzcycpWzBdO1xuXG4gICAgICAgIGFkZENsYXNzKGJvZHlFbGVtZW50LCAndnNtLWhhcy1iYWNrJyk7XG4gICAgICAgIGNvbmZpcm1CdXR0b24uaW5uZXJIVE1MID0gb3B0aW9ucy5Db25maXJtQnV0dG9uVGV4dDtcblxuICAgICAgICB2YXIgaW5mb0Jhc2VBcnJheSA9IFtdLCBpbmZvQmFzZU9iaiA9IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5mb0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHNwbGl0dGVkQXJyYXkgPSBpbmZvQXJyYXlbaV0uc3BsaXQoJzonKTtcbiAgICAgICAgICBpZiAoc3BsaXR0ZWRBcnJheS5sZW5ndGggPT0gMiAmJiBzcGxpdHRlZEFycmF5WzBdICE9ICdUaXJlIFNpemUnKSB7XG4gICAgICAgICAgICAgIGluZm9CYXNlQXJyYXkucHVzaChzcGxpdHRlZEFycmF5WzFdKTtcbiAgICAgICAgICAgICAgaW5mb0Jhc2VPYmpbc3BsaXR0ZWRBcnJheVswXV0gPSBzcGxpdHRlZEFycmF5WzFdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtYWluUGFydFN0cmluZyA9IGluZm9CYXNlQXJyYXlbMF0sXG4gICAgICAgIGxhc3RJdGVtID0gaW5mb0Jhc2VBcnJheS5wb3AoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGluZm9CYXNlQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChpID49IDMpIGJyZWFrO1xuICAgICAgICAgICAgbWFpblBhcnRTdHJpbmcgKz0gJyAnICsgaW5mb0Jhc2VBcnJheVtpXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2ZWhpY2xlRGVzYyA9IG1haW5QYXJ0U3RyaW5nICsgJyAnICsgbGFzdEl0ZW07XG5cbiAgICAgICAgbmFtZUVsZW1lbnQuaW5uZXJIVE1MID0gdmVoaWNsZURlc2M7XG5cbiAgICAgICAgYWRkQ2xhc3MobW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1tb2RhbC1ib2R5JylbMF0sICd2c20tZmluYWwtc2NyZWVuJyk7XG4gICAgICAgIGluUHJvZ3Jlc3NTY3JlZW4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChpblByb2dyZXNzU2NyZWVuKTtcblxuICAgICAgICB2YXIgaW1hZ2VTZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIFdpZHRoOiAyNjAsXG4gICAgICAgICAgICBIZWlnaHQ6IDEyMCxcbiAgICAgICAgICAgIFBvc2l0aW9uWDogMSxcbiAgICAgICAgICAgIFBvc2l0aW9uWTogMVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChvcHRpb25zLkltYWdlU2V0dGluZ3MpIHtcbiAgICAgICAgICAgIGV4dGVuZChpbWFnZVNldHRpbmdzLCBcbiAgICAgICAgICAgICAgICAgICB0eXBlb2Ygb3B0aW9ucy5JbWFnZVNldHRpbmdzID09PSBcImZ1bmN0aW9uXCIgP1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5JbWFnZVNldHRpbmdzLmNhbGwodGhpcywgb3B0aW9ucykgOlxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5JbWFnZVNldHRpbmdzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGltYWdlU2V0dGluZ3MuVmVoaWNsZUNvbmZpZ3VyYXRpb24gPSBiZXN0Q29uZmlndXJhdGlvbi5WYWx1ZTtcblxuICAgICAgICB2YXIgaW1hZ2VVcmwgPSByaWRlc3R5bGVyLmFqYXgudXJsKFwiVmVoaWNsZS9SZW5kZXJcIiwgaW1hZ2VTZXR0aW5ncyk7XG5cbiAgICAgICAgdmVoaWNsZUltYWdlLnNyYyA9IGltYWdlVXJsO1xuICAgICAgICB2ZWhpY2xlSW1hZ2Uuc3R5bGUuZGlzcGxheSA9ICdpbmxpbmUtYmxvY2snO1xuICAgICAgICB2ZWhpY2xlSW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZlaGljbGVMb2FkZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb25maXJtSGFuZGxlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBlLnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGUudHlwZSwgY29uZmlybUhhbmRsZXIpO1xuICAgICAgICAgICAgLy9IaWRlIG1vZGFsXG4gICAgICAgICAgICB2YXIgYWxsTW9kYWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1tb2RhbDpub3QoI3ZzbV9tb2RhbF9iYXNlKScpLFxuICAgICAgICAgICAgcGFyZW50QmFzZSA9IGdldENsb3Nlc3QodGhpcywgJy52c20tbW9kYWwnKTtcblxuICAgICAgICAgICAgdmFyIGNvcHlPZkRhdGFBcnJheSA9IGRhdGFBcnJheS5zbGljZSgwKTtcblxuICAgICAgICAgICAgaW5mb0FycmF5ID0gW107XG4gICAgICAgICAgICBkYXRhQXJyYXkgPSBbXTtcblxuICAgICAgICAgICAgcGFyZW50QmFzZS5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIHBhcmVudEJhc2Uub25UcmFuc2l0aW9uRW5kT25jZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChhbGxNb2RhbHMsIGZ1bmN0aW9uICh0aGlzTW9kYWwpIHt0aGlzTW9kYWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzTW9kYWwpO30pO1xuXG4gICAgICAgICAgICAgICAgdmFyIHZlaGljbGVJbmZvID0ge1xuICAgICAgICAgICAgICAgICAgICBJbWFnZVVybDogaW1hZ2VVcmwsXG4gICAgICAgICAgICAgICAgICAgIFZlaGljbGVEZXNjcmlwdGlvbjogdmVoaWNsZURlc2MsXG4gICAgICAgICAgICAgICAgICAgIFZlaGljbGVDb25maWd1cmF0aW9uOiBiZXN0Q29uZmlndXJhdGlvbi5WYWx1ZVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBleHRlbmQodmVoaWNsZUluZm8sIGluZm9CYXNlT2JqKTtcbiAgICAgICAgICAgICAgICBpZiAoYmVzdENvbmZpZ3VyYXRpb24uVGlyZU9wdGlvbkJhc2ljKSBleHRlbmQodmVoaWNsZUluZm8sIGJlc3RDb25maWd1cmF0aW9uLlRpcmVPcHRpb25CYXNpYyk7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2FsbGJhY2sgJiYgdHlwZW9mIG9wdGlvbnMuY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3V0T2JqID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgRmluYWxTZWxlY3Rpb25NYWRlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgVmVoaWNsZTogdmVoaWNsZUluZm8sXG4gICAgICAgICAgICAgICAgICAgICAgICBGdWxsU2VsZWN0aW9uRGF0YTogY29weU9mRGF0YUFycmF5XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5jYWxsYmFjayhvdXRPYmopO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaGlkZU1vZGFscygpO1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ05vIGNhbGxiYWNrIGZ1bmN0aW9uIHByb3ZpZGVkLicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaGlkZUJhY2tkcm9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY29uZmlybUhhbmRsZXIsIGZhbHNlKTtcbiAgICB9XG5cbiAgICB0aGlzLlNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvYWRCYXNlKCk7XG4gICAgICAgIC8vQ2hlY2sgZm9yIGFueSBleGlzdGluZyBtb2RhbHNcbiAgICAgICAgdmFyIGFsbE1vZGFscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tbW9kYWw6bm90KCN2c21fbW9kYWxfYmFzZSknKTtcbiAgICAgICAgaWYgKGFsbE1vZGFscy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignVGhlcmUgaXMgY3VycmVudGx5IGFub3RoZXIgdnNtIGluc3RhbmNlIHJ1bm5pbmcuJyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1vZGFsID0gYmFzZSgpO1xuICAgICAgICBjcmVhdGVCYWNrZHJvcCgpO1xuICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgZGlzQ291bnRpbnVlZCA9IGZhbHNlO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBhZGRDbGFzcyhtb2RhbCwgJ2luJyk7XG4gICAgICAgICAgICBhZGRDbGFzcyhkb2N1bWVudC5ib2R5LCAndnNtLW1vZGFsLW9wZW4nKTtcbiAgICAgICAgICAgIG1vZGFsLm9uVHJhbnNpdGlvbkVuZE9uY2UoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICByZXF1ZXN0U3RlcChtb2RhbCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICB9LCA1MCk7XG4gICAgfVxuXG4gICAgdGhpcy5IaWRlID0gaGlkZU1vZGFscztcbn0iLCIvKiBleHBvcnRlZCBSaWRlU3R5bGVyVmlld3BvcnQgKi9cbmZ1bmN0aW9uIFJpZGVTdHlsZXJWaWV3cG9ydChlbGVtLCBvcHRpb25zKSB7XG5cbiAgICAvLyBVSSByZXNvdXJjZXNcbiAgICB2YXIgbG9hZGVyRGF0YSA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhJQUFnQVBZQUFQLy8vd0FBQVByNit0YlcxdHJhMnZ6OC9McTZ1b0NBZ0lxS2lzREF3UGIyOXVqbzZJaUlpSDUrZnFDZ29PYm01bkJ3Y0ZKU1VvS0NndVRrNVBMeThueDhmS0tpb3E2dXJqWTJOam82T2tCQVFHcHFhdHpjM1BUMDlIcDZlcWFtcHZqNCtNakl5RHc4UEd4c2JPcnE2cDZlbm5oNGVMNit2dExTMGpRME5EZzRPS3lzck1iR3hzek16Tzd1N3RUVTFEQXdNTFMwdEx5OHZLaW9xUER3OEc1dWJwS1NrdGpZMk9MaTRvYUdoaElTRWhBUUVDUWtKQTRPRGk0dUxwcWFtdURnNE43ZTN1enM3TEN3c0p5Y25KYVdsbUppWW82T2pwU1VsRVpHUmt4TVRGQlFVRVJFUkVwS1NwQ1FrTTdPemtoSVNFSkNRdERRME1MQ3drNU9UcGlZbUJvYUdpZ29LREl5TWhZV0ZoUVVGTGk0dUZwYVdsUlVWS1NrcEhKeWNsaFlXRjVlWG1Sa1pGeGNYRlpXVmlJaUlpQWdJQjRlSGlvcUtzckt5c1RFeEdob2FMYTJ0bVptWml3c0xLcXFxaGdZR0dCZ1lCd2NISFIwZEhaMmRyS3lzaVltSm9TRWhENCtQb3lNakF3TURBQUFBQUFBQUFBQUFBQUFBQUFBQUNIK0drTnlaV0YwWldRZ2QybDBhQ0JoYW1GNGJHOWhaQzVwYm1adkFDSDVCQUFGQUFBQUlmOExUa1ZVVTBOQlVFVXlMakFEQVFBQUFDd0FBQUFBSUFBZ0FBQUgvNEFBZ29PRWhZYUhpSW1LaTR5TmpvK1FrWktFQ3prMk5KT0NEeGNoZ3dVMU9qc1NtUW9RR0NJV2doUWlPejAxbnBBTEVSa1lHUTRBRkJxdFA0SUxOMEFDamdJU0doa3BHRElBTmp3K0tBQkNLTkV1anhNYkdpb3dvd0FFSElJVDBTZ1VrQndqR2lJemhrSXZLRGlTSkNzeHdZWWRtSThLRkIwRmpmcUxBZ1lNRWlTVUVKZW9BSkFCQkFnaUduQ2dRUVVQSmxnb0lnR3VXeUlDQ0Job1JOQkNFYlJvRmhFVlNPREF3b2NUSUJRVndFRWdpTUpFQ2hTa3pOVFBSUWRFRkY0NktzQUJ4WXRwaFVpc0F4THBXN1FKZ2tETXhBRk81eUlDMFY1Z0Vqcmc1a2NVUUIwOThFbENFRlFVUkFINENpTHZFUVVGZzI1RUN3S0xwaUNtS0JDNnVpMGtZSUxjdVhqejZ0M0xkMUlnQUNINUJBQUZBQUVBTEFBQUFBQWdBQ0FBQUFmL2dBQ0NnNFNGaG9lSWlZcUxqSTJPaHc4VGo0NFhLbGhiazRzS0VWWlpYQVdaZ3dzeExZTWRUSjFSQ3FFQUlBMUpTak9DRktoYVVTQ0NvSThrUmtwTVVMSUtWRlphWGFBTE4wQzZqQVZIUzAxUlRGTUFWVmM4WGdCQ0tOc3Vqd3NtUzFBYUNJSlNwUUFUMnlnVWswQWVTMG9YaGtJdktEaWhRakV5eTRRZE5KTWdPcXhxeEM5UkN5SkZrS3dZaUtnQWtBRUUyQ1dpNENDaERTZFNGSkZReDBFUmlDRVdRbHE0b1VqYnRvNktnQ1F3SU9PSkFFVUZjQkFJSW5HUmdJS3NHcnJvZ0loQ3pVY0ZncUI0MGEwUWlYcEFNajFRSjZrVkxnQTQxUDFreEdIYmkzOUhCL0EwaWFLb282TXZTQWdpc0MwcEFHUkJYazRTT09qR3RpQ0RGWENHU29kQ1NNNkdDN3plM2N1M3I5Ky9nQWNGQWdBaCtRUUFCUUFDQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam9Za1RqOFVqNDBTUEdVTWxZc2RTenhtU2lDYmcwSXlLSU0wVFR4blRBcWpBQ0FJWUdORGdoMVVxMUNpQUIyVkxsOWhaR0FYc0dTclhBVUtFak5BQlk0RlJHSmpYVjBzQUQ4K2FCOEFObUl0S0M2UEpBeGlYQkZJQUFJaElZSlZVeWdvbEk4VENOSXhoa0F2S0RpakxpZFR6Z3gxb0xFSnhDNUdBUmVSa0xGaXhaU0Rod29BR1VCQVhpSVdReTZzbU1GQkVRbDRLRG9xZW5LaTVBbCtpWVNBRkptSXdnQVVMNW9wS29DRFFCQ0xNMTg5YzlIckVBV2N6NExBREZlSWhENGdteGFBbkNESW9DQWNJSUV1RWdxVG9ORUJ2VlRDSStySXhZQVhKQVFSZ0ljVXdJSWJRUVFVUEhpRDdLQ0VPaE1CVElBbkpHN0VCVnp0NnQzTHQ2L2Z2WUVBQUNINUJBQUZBQU1BTEFBQUFBQWdBQ0FBQUFmL2dBQ0NnNFNGaG9lSWlZcUxqSTJPaGlSVkRoU1BqUWhZUGtlVml3cGpXRzVkSUp1REJUZEJneFJrV0doS0NxT0NLMThRVzRJZFhLc1JvZ0FQSFk4Rk5sOGJHMndBSUVhclJnVUtEVzRST0k4WEhsOXJiUzBBRGhrWWJ3QklXajF3VTQ4dVB4NFFZZzRBQlMxcGdtMDlaVWMwbFF0RTVTZUdSMWhFejVzVUlXa0ZEQWtBSXE5U0FRR09BaklDOFlMRkZCUUlFeFVBTW9BQUpVVTQxb1ZRczBBUkNSUWdPU3lhQUJLa0MwVkNTb3BVSkFESGpSc1RGaFhBUVNESVJabXZFcnJvZFlqQ1RWOUJVTHc0V1lqRUN4UkFObjBFR2JOWVJCd2xmeklpS1ZTZTBSdTlVcHFzUkdIQUFCS0NDSUJNQ21DQnFZaVBCS0M5TVpaVVRrSlVFSVc4UFZSZ0FkRzVlUFBxM2N0WGJ5QUFJZmtFQUFVQUJBQXNBQUFBQUNBQUlBQUFCLytBQUlLRGhJV0doNGlKaW91TWpZNkdRaFpESFkrTlNGRWlSWldMQ210UkdYRWdtNFFnQ29NZFlob1pZS2FqQUE5RVRtcUNuUm9xWTZJQUN5NlZDUWdIRFFrQUlCQWFHQ01BQ2hJcFNoeVBUellNRFI0b0FETlFVVU1BVlhKWk9qK1BIUmRPT1I0ckFBVlNUNElqM2pvWGxTN2pPU3lHTm5BN1lSU2JIU2d2aHlBTXZCSGlxbEVCZ3hOdTNNQ3hxQUNRQVFUMktYS0JvaUlLR29wSVdIUTIwZUpGUlVJMk5zU2hjTUpJQWtFa05peG8wQVdsUXhSVVBpb1F4Qit2UWlSZW9BQ3lTV05GazhNRUNNSmhVU2FqQ1JWZllNeDVnMUxJaWpjZEtTQXdnSVFnQWhWNTZyb0JSR2lsQWdjRjNjZzZLQ3hMQUVoUkVEeGJxQUNKcUd3STQ4cWRTN2Z1cUVBQUlma0VBQVVBQlFBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2R0xpdHNDbytOSlJGVU01V0xJQ1lSVFNNQ200a2RjNTlpSUlJZ0x3K1ZUMndvZ2dwMEVWQnJvZ3RmYmxGU2poTmVQMGhwQUFJTkVVbDBBQXBmWldkeVRyNHJGa1ZPQkFCMVlCRnNBRDkyemxaMWppQlRidzQyV3dBRkw3RUNSbVp5Y0VZVWp4UnFieVc5aFVmd1JpU2JJRUdDSEtMd3hvS1FVWTFBVUNqUWlBUUJBaE1XRldqUmdrQ0hSUlJRYUVSQlF4R0pqUnd3YnVTb1NBaElSZzl1M0lpb3FBQU9Ba0F1TW1LSXNGRUJGeklOVVppM3FVQVFGQzljR0NLeERzaW1qeHBaZ2hBRkFNZEdubzRlYUh6UmtlaU5peVkxQ24wRWdzQUFmd0FJYURRS1lNRU5JRXdyMFFSd1kreWd0VFVVQVV6UWVEQ3VvUUlrdHRyZHk3ZXYzNzk5QXdFQUlma0VBQVVBQmdBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2R0JRTURqNDVzSTIweWxJc2dERzFqQndXYWlRcDNubDhnZ2lBeVF4U1BKQ2dQcVoxY2RBSUFKQjRwYmtlT0Ntb3hGNU1DUjIxY0VnQUtGVEJvZG1PMmpCMGhxek00QURJalJwa09LY3c4UDQ4Y0xBWXJJUUFGTjVNRkkyNTJaUnV0amlBRUxGc2Noa1ZYWldza21nVWtDNGNvWFBqZ1FsUWpFRGo0TVNKQmdNQ0VSUlBBMk1sZ1lKR0NGeWd5MGxDRTVNd1ZIMjFRamNLb1VSRUJOZ2xZM0dDMDRNYU5oNG9LNENBQVJJSEJtNGdLdU9pQWlBSThTZ1dDb0hoUnNCQUpqRUEwdmNvSUU4UXpIQmxSL0d6MElPT0xqVWR2OEJRU3RXZzhBamNVRXNpWUZFQkxJTStBRHJwQmRsQW9uSUlSSm1RVUFoY1NDYTkxOCtyZHk3ZXZxRUFBSWZrRUFBVUFCd0FzQUFBQUFDQUFJQUFBQi8rQUFJS0RoSVdHaDRpSmlvdU1qWTZISUFLUGprRkZQMENUakI4Vlh4K1ppZ0kvRlJBTWtnQUNDV3dkandWQ05JSUNSS01Ia2tKM1VSbElqMEZQSVRnQUJRNFZOVWNGSURsNEtpbGlwb3NDTHlndFV5UUFJWGQwTFFBenVDbFlEbzlBS0ZJaE40SVRtQVYwR1Nrd1g2dU9JQnppQzRaRUtUNFFRcG10cjRZZGRTdGNmR29FWW9JK1JrSUlFSml3YUVJWU54cGtMQUlCRFFXS2Zvank2TmlZUklFaWloWXZLanJTbzJRVEVJc1czTGpCVU5FREQxU29oQmdJcWxtakFpN2VHYUpBNFZPQklDaGVDQ3hFQWhxbVNTUkN0b3drQ0VmSW5vOGVXSHp4cXVpTlZVSkNEb1ZINEFZMUFBUXNIbFVKcElEUFFUZkVEakpMYzlBRWl3Y1AyeFlxUUdLcjNMdDQ4K3JkaXpjUUFDSDVCQUFGQUFnQUxBQUFBQUFnQUNBQUFBZi9nQUNDZzRTRmhvZUlpWXFMakkyT2o1Q0hDbWtoQ3BHTFUwZ01NcGVKQlVPYVB3V0NBaXd5SFpBZGxnQUNGMGc1TmdJQUxrY1JUU1dQRXk4RFFnQUZkVWgzdUNCT1ZGQk1FTEtNQlRjb0tDOFVBQzgvQ0M4QVExMU5UQm96ajBET0tBK0NKT0lGRXRwNEZhaU9JQnpQTG9aZVRIZ2U4SkFGTHRHR0hWdDFOSjJNUUV6b3hVZ0lBUUlURmoxb2c0RUptMFVDQm9EN2w4aUdIQ3RXbElCUUZIR2lJaHRaUW1wY1pQQkdRa1VQeEloWThoRGdvUUlVbERuQ3Q4NFFCWDMzZ3J3elJPSUZDaUNSU0lBN0NVSVpEbkE0R3oxdzl1SmZ6eHVvaElDeng0N0FEUktDQ0RnRENtREJEUnlqSW9VRjBPem5vTEV1SnpnajZMSlFBUkpVQ3R2S25VdTNydDI1Z1FBQUlma0VBQVVBQ1FBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2UGtJZ2tDNUdNSEVNek41V0tMQmNPUTRNQ0wyb0trQ0FnZ2dXZEpSOEZBRFJFYldNZmp5UXZBMEtDYVJkRUZ3QUNKVVpjWFEydWpSd29LQzhVQUVCMUZod0FCckpkUzc2T09Na29ENEkwSklKT1kxMVVPYVdPSU1ndk5JWVhaT1Rya0FVdXpJWUtKMXZ3bTRvQ0QwRkN4b21FRUNBd1lSR1FHaHBVSlBtU3o1Q0FBZG9hR3JwanB5S1BLeklTRllDWVRHSWhCR1pDbXJGalFKRUxBamNLS25xd0lRb1RKazRFNkROVW9JUE5SL0k2SUdJeFJHZThJTXBjR0NLUjRFc2JvYlcwcVFRaEUwQTJLUTVRUUhxUVRCMEFXemQwQ3RHVzZ4RUlsTjhBRUVnR1JOQ0NHemdBNGh4MGcrd2d0Zm9USmlUck9yTlFBUkpJNityZHk3ZXZYNzZCQUFBaCtRUUFCUUFLQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam8rUWlDQUNrWXhDVHl3a2xZb0VhVElzZ3dVY1FKRWdCWU0zYVFZeWdoMXZIaVl0ajBJdk4wS0NuVnRUQUFVckpoQnJEbzhjS0NndkZBQkNMUVlUQUdvVndHSmJqempGS0ErQ0NqU0NEbDlyUmtnS2p5REVMOXVGV3h0eE51ZVBCUzdJaGlBc0ovR2JpZ0lMUUVEMmlFSUVCSm9wNGpDSFNoSW1ZbEFrRWpEQVdydERPVktrd0VJUndpbEVCQndxdXVPbVkwY0lpbHdRdUNFd0VRNElTcFJRbVVQZ25xRUNIV0plWlBTdXd5RVFRNGJZaEZRZ2lERVhoaHhvMFRJRzZDTVMxZ1JPRXBRR2loNGRNU0E5S0dZT0FJbGFOb1VZd0tPSENDUVFJelVCeUlpQ0ZJQUZNaXFVZEllcW1GbGVMaFFIVFNoMksyNmhBaVNNMnQzTHQ2L2Z2NXNDQVFBaCtRUUFCUUFMQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam8rUWlBV1JqUlEzQkFxVWlod29LQnlFSUpPUUJhSUFCSjB2Z2dvSlJCZVpqalEzTjBLQ3AxSURBQVV5UnprSEtJOUJxQlFBUWdNb0xnQlNOZ3dORForT09KMG9DNElncjNYTUpsNmxqQ0NjTDhPRmFnZDBEaDJSQlM3aGhTQlBJZWVhaXdJa09EanJpQzRFQkJPTFFBZGpaTHBBd0pYb1ZDY2FpbzR3aWNKUWd3ZEZCbEVnVEpRbmcwV0xEeE5SSUhDRG42SUpIc2lBQVZQaFdUeENCVHAwZU5Vb0hieENBbUxFZU9tb1FMQVh5QW94c0NMSFNFNUhKS1I1QkNGQVVKZ2RXcXl3Z2ZRQUZVSVNMMjZjUTZJRHFRTklJRGlTcU5VSkNBQUZEZHlJOFRocTBJMnVneDRVUFFsZ1FpZGFiQTRMRlNEeE02N2R1M2p6NnFVVUNBQWgrUVFBQlFBTUFDd0FBQUFBSUFBZ0FBQUgvNEFBZ29PRWhZYUhpSW1LaTR5TmpvK1FrWktFQ2tCQUFwT0pRQ2dvRDVtREJRV0RCSndjZ2dVRFV3U1FIVGMzUW9La0tFR0NUek1PRGpTUE9Kd3ZIUUJDQXdNVUFFRXJEa1ZWTG84VG5DZ0xnZ0lnZ2l3V1JVZDFrQ0FjS0MvRWhWSlZlUmNLa1FVdTM0VUNOd1BsbjRrRlFnOFB2NG9VQkFRVGl4TjVOVzFpRFZZbGtvVkNWNklmWkxwMGlSQWhoeUtDQmhFVmFVS1I0aDE3Qkc3b1UvVGdqcGlQT1dpOW82VEFYYU56OWRSdDJaTFNVWUVnM1pZVnlzUGp5b2FJalVnNDJ3Z0NFd0FqVnM3WU1RRHBRUzlkSkY3YytGWEVTbEF2MmpLU2lNVUpDQUFGRXJCd01XVnUwSTJxZ3haTWU5Y01CYXlSaEFxUWtJbTJyZHUzY0FUak5nb0VBQ0g1QkFBRkFBMEFMQUFBQUFBZ0FDQUFBQWYvZ0FDQ2c0U0Zob2VJaVlxTGpJMk9qNUNSa29RS1FEZ0NrNGs0S0NnUG1ZTUZCWU1FbkJ5REpCd1VrQjAzTjBLQ3BDaEJna0FzQmlHUUU1d3ZIUUJDQXdPcUpDRXlkV3lZamcrY0tBdUNBaUNDSE1VenVJOENIQ2d2cW9VNGRSOEowSkFGTHR1R09FSGhuNGdGTkNRa3lJa1VCQVFUaXd0RUJ4NG1TRUNLc1NnMEZIM1lzS2FOUVNUK2xnVk01R0RNbURBT2JTaVNkNk9lSWhKSHZueVpZd09IdWtJS0ZLUmpOSzZYSVFwdkxwaDhWQ0JJTmhlR2pyakJNdWZWSXhMTExJSUlLSUFMRHpRKzZDaDRwQ3hiUUJJdnZyQUJnSVFIanl0WVRqd0NRZUFHQ1Znb1BKQXBvT0JMbWFkZUlva1NkQU1Ga2EwQWFIakFvbVRBSjEwWEZJaUE0bkQxVXdFU0MwWiszTXUzcjkrL2tBSUJBQ0g1QkFBRkFBNEFMQUFBQUFBZ0FDQUFBQWYvZ0FDQ2c0U0Zob2VJaVlxTGpJMk9qNUNSa29RQ0V3c0ZrNGs0S0NnTG1ZT1lnd1NjSElNVUxwRWRCRGRDZ3FNb1FZSVRMeWc0a0JPY0x4MEFRZ01ERkx5Y0xTK1FDNXlkZ2dJZ3NpZ3Rha0NRQlJ3b0w4Q0ZRaTFUS0tHUEJTN1doa0tYbjR1bkhkeUlGQVFFRTR0Q0swVk9OaCt0aWE4b05Jb3hCdzBWRlI1YkZOM0xsK2pDbDRNSFl5aFNkNk9kSWlGRUpOeTU0d0FWT1VJZ01uWnpzY3VRaXhWc09uWUxRczBpSVJzWk5EUXcyWWpFTVlkUFNpbmdna1VGbmdNaUdUM0lsUStJQ2pRQnEvakFnZ0dQbDBjZ1ZwRVE5RUxGampFRlFIZ1lpbUdFZ0dpRFd2allRUWFURUFnK1V2ejQ5T0tLamlLbTJJVDhST0ZJbFp3WENPUEtuVXUzTHFSQUFDSDVCQUFGQUE4QUxBQUFBQUFnQUNBQUFBZi9nQUNDZzRTRmhvZUlpWXFMakkyT2o1Q1Jrb1FGSkNTVGlqZ29LQXVZaUFTYkhJTWRIWkVLSEFSQ2dxQW9RWUlUTHkrWGp3K2JMNlZDQXdNVUFFS2JyWkFMdjUwQUFpQ3Z2NnFQQlJ3b0w3eUZ2aWc0a2dVdTBJWVVOSjZNQ2hUSGl4UUVCQk9MSFZNckh5dFNpNndvMjRrc1ZVVklTRC93bjcvNGgxTU0vZ3cyWENnU2Q2UGN3RGRJYkJCaHg2MlFBQVVDbHJrb1pZaEdEQmtLSWhVSTRreGdvUjlOSWlEWXg0akVyM0lDV3JnQ0lVWURGQ3A1S0RhcTVXeGJEamxZREFCd0lFSkRFaW9ySG9FZ2NPTVNCUlU2NEJncEFFSkN6eVFtQ2tDU0NvQUVqS1JocExyd0lDS0tCVTl0a3Y0WVJNRUFSazhUanZ5UTJiQ3QyN2R3Qk9OR0NnUUFJZmtFQUFVQUVBQXNBQUFBQUNBQUlBQUFCLytBQUlLRGhJV0doNGlKaW91TWpZNlBrSkdTaEFVa0pKT0tFeWdvQzVpSUJKc2NneUFna1FvY0JFS0NvQ2hCZ2c4dkF6U1FENXN2SFFCQ0F6Y1V1WnNvT0pBTHY1MEFBZ0tDbXB1cWp3VWNLQys5aFVLYndaRUZMdEtHRkxPZWl3SWdCWXdVQkFRVDN5OXFDU3pNaWF3bzNZZzNkVU1YRnllTDcvR0hVaGIrRmdZV1VlQnc0NXlpRGdabXZJbHh5VnNoQWVLYXVjQmxpSVlNTmFVZ0ZRZ0N6WVVoTDJQYVZOSFdpTVN2Y3dLZUFBRUE0a3NFTG5HcUtIaFVDOW9zQkR4RTRQdEFKUUtZT0RFZWdTQnc0eElGUEZiS2JDZ0FJbzhTbnpraU9vb29CRVBTTnVKbzNLSFM1WTJuRVZaNGxCalVJYzJVbVpnbTJIQ0ExcUhidDNBRjQ4cVZGQWdBSWZrRUFBVUFFUUFzQUFBQUFDQUFJQUFBQi8rQUFJS0RoSVdHaDRpSmlvdU1qWTZQa0pHU2hBVWtRcE9LRHlnb0M1aUlCSnNjZ3lBRmtRb2NCSmNBb0NoQmdnOHZOeDJRbWlndnMwSUROeFFBUXBzb0Q1QUx2NTBBQWdLQ0U3K3FqZ1VjdHJ5RlFpOG9PSklGTHRHR0hUU2VqQVdsakJRRUJCT0xCVUFEQTBESWlxd28zWWtQVHkxcGFkYnV2L0dJUVRMK01xNFVVZUJ3dzV3aUVDMU9uSkFDd3BzaGNKQ3d6ZHJHNGtuRGlFRlFTQWxoNkFJRUR4OG1Pbkt4NmNnY1l5RlFHRHZRcGdhZER4Y2JhWHFEeFFzQUp6N3dHQUF3SkU2YkVYTVNQQUx4UWd3REFSU1MySUZod2xpVk1EOS9RQkpRREFjV096N2FJS1BneEVpYkdKZ1dxTUNxVlpDQ2pURWpVVkJpeDgwZGg0VVFMdUNoa2dadW9RY2s3T3JkeTVkUUlBQWgrUVFBQlFBU0FDd0FBQUFBSUFBZ0FBQUgvNEFBZ29PRWhZYUhpSW1LaTR5TmpvK1FrWktFQlNRdWs0b1BLQ2drbUlnRW14eURBZ1dSQ2h3RVFvS2dLRUdDRHdNRUlKQ2FLQzhkQUVJRE54UzVteWdMa0F1L3dRQ2tnaE8vcW84RkhMYTloVUl2S0RpU0JTN1FoaDAwbm95bGpSUUVCQk9MQlVDNzFZdXNLTnlKdzcvWm43L3RpTytiOFljVUhEZmtpZ1ZCTHdhazYwYndXaEFCaGtDZ3VJRVFVck1pV0g0WWtzSEF4aFlGa0lRZ01MTURnckUwTDR3NXFYRG5DSnVHaldaWTZRRm5Cb0FpR1pRa0FHQmdEc2s4TFI2bHllQW1qNEFPUzFMZ3VXUE15eHdQRXRoQUl2RkFFQWttS1VSOEtkWEJnb2s3VWpBOWpWcmptNEFicmpDNWFKSWlnd21DaFR4RWZZT1cwSUlTYndnd3RwMUx0NjZnUUFBaCtRUUFCUUFUQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam8rUWtaS0VCVUl1azRvUEtDZ2ttSWdFbXh5REJaSUtIQVJDZ3FBb1FZSVBBeHdDa0pvb0x4MEFRZ00zRkxpYktLbVBDNzRMZ2dLa0FCTyt2SThGSExYTGhFSXZLRGlTQlM3UWhSMDBub3pIakJRRUJCT0xCVUM2eEl1cktOeUp3cHUyNnI3dGlFSys4WW9VSERma2lnVTRCRGdBNjBZUVNBa1pzZ29KQ0lMam02TUpTWHJJS1dFb2hJTVZhUkk2cXJKREI1dzVBQVE4dVNGb2hvMFNIMXBBTXFFalM1a1ZBSWcwR2NNQ2dCb0VOb2g4ZVBDb2hZWVVUZ1IwR0JObGlSTUFCZXJnSkFJRWtwQjBRcFpFb1hLQUZJZ3RQd3lBd0JRMWlwSUszMjU1b2tIRzZ4MkNoZTU0cllPV0VJa1BkUWkydHAxTHQ2NmdRQUFoK1FRQUJRQVVBQ3dBQUFBQUlBQWdBQUFILzRBQWdvT0VoWWFIaUltS2k0eU5qbytRa1pLRUJVSXVrNG9QS0Nna21JZ0VteHlEQlpJS0hBUkNncUFvUVlJTE4wRUNrSm9vTHgwQVFnTTNGTGliS0ttUEM3NExnZ0trQUJPK3ZJOEZITFhMaEVJdktEaVNCUzdRaFIwMG5vekhqQlFFQkJPTEJVQzZuWXVyS055Sndwc0Rzb3JyN1loQ3Z2R0xGQnczNUlvRk9BaHdxTmV0R3c0SEorUVZJbkVwMGdRbFdYaFlNSFJEQm9zZzN4b2RnU09uVEFVQUJWNjBBbkJpeFpZcEl4MTVrR1BHelJBQVhyalVlQUpBaW9VVmJOU0FlUFFFQ3A0aUFoU3M2V0trQk1ncFhsYWMyUGxJQ0RFQUxzSjBpWE9FbElBWENhcGhjaEduUzVnOEdidlJFT1BWUnNGQ1I3d2FPQnZ0Z2dHbWJBYmp5cDBMSUJBQUlma0VBQVVBRlFBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2UGtKR1NoQVZDTHBPS0R5Z29KSmlJQkpzY2d3V1NDaHdFUW9LZ0tFR0NDemRBcEkrYUtDOGRBRUlETnhTNG15aThqd3UrQzRJQ3NoTyt3STRGSExYS2cwSXZLRGlTQlM3UGhCMDBub3l5akJRRUJCT0xCVUM2cVl1cktOdUpKTDQzM29nRGFna3huWWxDNy9HSExXRk5KcmNTRmNCQklBaTdSUjJFN09OR0NBZVJJU0FPdWJnVUtVZ1hNMjRjR0tJVjZ4R0pNR1d1K0pBQW9BQUJhZ0JRaEpDQzRzRWpCeUhkcUZnQjRFSU5DUU1BQkRteGtzQWpDWGJjcE1nalFJR0pOU1pvcHVRcHlwR1VDRkdLM0tKUll3MGRqU1dCQUZFQXljVTRRVFFnckpsRGhDRWhDblBXZkxGZ2xwQUR0V29OMmc2aUlJT0ZBTGw0OCtZTkJBQWgrUVFBQlFBV0FDd0FBQUFBSUFBZ0FBQUgvNEFBZ29PRWhZYUhpSW1LaTR5TmpvK1FrWktFQlVJdWs0b1BLQ2drbUlnRW14eURCWklLSEFSQ2dxQW9RWUlMTjBDa2o1b29MeDBBUWdNM0ZMaWJLTHlQQzc0TGdnS3lFNzdBamdVY3RjcURRaThvT0pJRkxzK0VIVFNlakxLTXVUY1Rpd1ZBdXBlS1FtQktOUkkzaWlTK0JJc2tLVDA5T3gvbzhZd1hUQ2sxMkFvVndFRWdTTUJESFZ4NDQyWm9nb1VZSUE2NU9BY0p5QmdmS3ZJVmdvY2kxaU1oYlh5a0VKRUhBRGxpQUlBTWUrUUV4a2dvZFFCc2tWQ2xGVWNVb2hxQjRKSWlReFFIQlVBd2FPRGtoS0FKMGg0OFlwQkJnNU9JRkNRMHlCTlRFQVdLalNqSU9LSEE2cDBHQ0lZd0pBUWlEOWd0WXdrWk9PQWtaMXFUSEFlb3ZaMUxsMjRnQUNINUJBQUZBQmNBTEFBQUFBQWdBQ0FBQUFmL2dBQ0NnNFNGaG9lSWlZcUxqSTJPajVDUmtvUUZRaTZUaWc4b0tDU1lpQVNiSEo0QUNrRUVRb0tnS0VHQ0pBUkFCWkNhS0M4ZEFFSUROeFMzbXlpN2p3dTlDNElDc1FBVHZiK09CUnkweW9OQ0x5ZzRrZ1V1ejRRZE5KRkNxSTNHakNzWU1HdWRpUVZBdWR1S1FoZzc3MitLSkwwRWl5UVpXVmx3TSt5OW9vdERtb2lZZzYxUUFSd0VnaFE4cE1BRnVGR0dIc3d3QU9JUWhZV0xjTFFSQWVXQ0lSTFNZRDBTQWdFUEV5cFZXbDBDQUVUWW95b21sWEF4QUVETmp5SERoUFFDNGdoRUd5Wk51c3dvSUlCSWtSbFNCRDE0OGNKYkl5ZE5JaENwU01OR2tROHNCblZRQUtuREZEVmNBWFFvVXNTTEdvaUVCSHdvWWdFRldrSTREUzRrV1BkVzBNTzZlUFBXRFFRQUlma0VBQVVBR0FBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2UGtKR1NoQVZDTHBPS0R5Z29KSmlJQkpzY25nQUtRUVJDZ3FBb1FZSWtCRUFGa0pvb0x4MEFRZ00zRkxlYktMdVBDNzBMZ2dLeEFCTzl2NDRGSExUS2cwSXZLRGlTQlM3UGhCMDBrUzZvamNhTVF5SVlJNTJKQlVBREJOaUdRbmhXY0hBWGlpUzlvb3BDVVdabVpXLzQ5b3hpZEVuaWdSMGxIQVNDR0RTa2dBYTRVWVlXWEVnZzRCQ0ZoWW9tekZIQ2hZMGhFdEtBUUhKUmdRcVpPRjRFMFZBZ0NFZ3ZiNDBjTENFVFpvUWFBRkppcE5rbHBOY0VSeURtMEZ3VG80Q0FJVVBVVUFQdzRNVUFqSWFJaEduenBtS0hHVU9tM0NNRkFsS0hFQzJNZ2Jnd0pNRldpSUpZRERreERPMGdCVGNLZnJxZFM3ZXVYVU9CQUFBaCtRUUFCUUFaQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam8rUWtaS0VCVUl1azRvUEtDZ2ttSWdFbXh5ZUFBcEJCRUtDb0NoQmdpUUVRQVdRTWkwb0x4MEFRZ00zRkxpYktMeVBPUkMwQzRJQ3NRQVR2c0NPUUZCZlQ4eURRaThvT0pJNERzV0hIVFNQQlM0a1FnS055SW9rWHhvWklodW9pUVZBQXdTM2lWNTJkanc4WlE3bnZxS0pNOXdJRk9oRmtSQmZyQktSb05NRXlwSUdsOTdoZUtWZ1VTVVNFVWNoSXNFbUJEbERGS1E1V25BZ1RvMEVoa2hVQXdLSkJvSTRHK2pVRWFRQWhDQWd2dHcxZW1Oa3d4d0pUd0FFZVRMZzFzRk4yeGdKa0xEaFM0VVRBQXF3b01VU3dBTjVGUjNOY01xR25BQTF0UDRCT0FaSmdaUVh5QXFrb2FxeEVKQW5MdzFFdHFXUXRhM2R1M2p6S2dvRUFDSDVCQUFGQUJvQUxBQUFBQUFnQUNBQUFBZi9nQUNDZzRTRmhvZUlpWXFMakkyT2o1Q1Jrb1FGUWk2VGlnOG9LQ1NZZ3gwRmd3U2JISjRBYVUwL1FvS2pLRUdDSkFSQW9ZOXpQU2tHSFFCQ0F6Y1V1NXNvdjQ4U096MUdENElDdEJQQnc0NDRTVHRsVDRaQ0x5ZzRramcvYkxTRkhUU1BCVFNXQW8zZmlTd2JUVXhKWDUySkJVQURCTHFJSUVaWSt6QXdTSW9rZ3IzQ3R5R0RRWU1PRkFrSkJrUlJpdzFreUl4aEVBOVJBUnl5UUN3Q0lVU0lPRk9KWENSNGttNFFoV2VQU0RpWmM2ZUZJUkxZR2o2aVVJWE9nVHdKQklIUUNBQkhzSStOMkpnNGdPREhEUUF3QitoYXVHbkJJeUlIR0NCeENhQ1Z6QVgxZURaU2s2ZUltbEFGYm13YUNLQkFTVVlUa29uYXBBMGtJVjRFRFJTNExXUjJydDI3ZVBNZUNnUUFJZmtFQUFVQUd3QXNBQUFBQUNBQUlBQUFCLytBQUlLRGhJV0doNGlKaW91TWpZNlBrSkdTaEFWQ0xwT0tEeWdvSkppREZFS0RCSnNjbmdBdFRTbEZncU1vUVlJa0JFQUZrQjVaT2xZR0FFSUROeFM3bXlpL2p3eHdXanNTZ2dLMEFCUEJ3NDQ0VkhCbkY0WkNMeWc0a2hNbFc4eUZIVFNQQlRSQ05PQ0s2WWhwYzJSTEVSNmhpUVZBQXdRZGlTQTFVVkVhR25pSUtDSVI3QlVpQVhTYUtGUTRRNUdRWUVBVVNUSFJwczBJRy9NUUZjQWhDOFFpRUM1Y1FETjFpRWFhRytzRVVSanB5SVdGUEQ5dUdDS1JMZUlqRUcrT1ZQbUFRaEFJandCd0JCdm5DSVdUS2w1aVBBQkFjMEMraDVzNkZhMWk0Y0lBVnB0c0xyZ0h0SkdDRTJ4a0FpaHdZNVBCc1NrWkNTREVZZE1Da29VT0tIRGcwQld1M2J0NDgrcGRGQWdBSWZrRUFBVUFIQUFzQUFBQUFDQUFJQUFBQi8rQUFJS0RoSVdHaDRpSmlvdU1qWTZQa0pHU2hBVkNMcE9LRHlnb0pKaURORUtEQkpzY25nQXRVQmxWZ3FNb1FZSWtCRUFGa0FkbVZtVXlBRUlETnhTN215aS9qMGM4WjFZNWdnSzBBQlBCdzQ0VFpEeDJkWVpDTHlnNGtoTmVNc3lGSFRTUEJSUXVOT0NLNlloU0IySmhjVG5qaVFWQUF3UUtpUUlWWFYwUlMwc3VLQ0lSRElpK08yTVNKaHlpU0VoQlJRTVltRERSd01FOFJBVnd5QUt4U0FBRkdoMU1LZXJ3d3VBaEN0QWVVWWpoaGMwRFF5U3ltWHgwNGtPZEtkc0FnT0FJQU1lelJ5UlcxRG54WkZ6TUFTRWRicnJreUFVYkdXbGVBbWhsY3NHTklBSWcyZXNFb01DTlRhOEVyWnNVWk5NQ2tZVVVCSmt3RnEzYnQzQUY0OHBGRkFnQUlma0VBQVVBSFFBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2UGtKR1NoQThYTHBPRUN4T0VYMDFTSkpnQVUwbDRKWUlVS2twU0hLRVZibGR1UkFBVUdXUW9RWUlrQkVBRmowNHdiblpvQmdCT2JUY1VBRUlvek1tT0QyRXdhRHdWZ2hPOUFCUE1LTTZPTjlFK0ZvWkNMeWc0a2c4ZkZ3S0hIVFNRN2hUWWkvT0pMMGR6RUJCTzc0a0ZRQU1JS0Vna0lNK2FObTNFR0dHamlNUTJJUDZRZkprNGtWaWlaY3dnSnVKUUJRRUNKeGU2SFNxQVl4ZUlSUUk2VUJnWVNwRUNIRUlRVVJEcENFU0lCRTh1RlNKUlR1T2pGMU9lb05nRUFNUkpBRGkyMFhRWlF1aUxkendIZEZDMlRXZWpBZ05RdkFBRmdFQkdRUXR1NEtqSFNNRUNxemVZNFJKRWRoSVFaZ3NQV2hvU01PR2EzTHQ0OCtyZGl5a1FBQ0g1QkFBRkFCNEFMQUFBQUFBZ0FDQUFBQWYvZ0FDQ2c0U0Zob2VJaVlxTGpJMk9qNUNSa29RTFJUTUtrNEpDRnlHRWREczZSNWtDQnhnaUZvSVVlRHM5SnBrMFhCa3BLZzRBRkJxc1JJSWtCRUFGand3YUdWZ1lNZ0EyUEZnb0FFSW96aFNQRXhzYUtqQVNnZ1FQZ2hQT0tOQ1BIQ01hSWpPR1FpOG9PSklrS3pFQ2h4MDBrQW9VSGIrTTk0cENGamtTRWlYZkVCVUFNb0FBcGtSREdsVHc0TUZFQWtVa3VnRlJGSU9CUllzczlFbFU1SUtOQXdjZlRuUlFWQUJITHhDTUZDaEFtV21SQUJjakQxRUkrS2dBQnhRdlhCZ2lnVzRpSkc3T0pnZ0N3UkpITjVxTUNEaDdJWS9uZ0pITm5rRUNncE1FTm1jK0Y5eFFCNm1BaTRNQWJqZ0xNaWhmUzZNb3JMWTBKT0NCMnJWd0IrUEtuVXRYYmlBQU93QUFBQUFBQUFBQUFEeGljaUF2UGdvOFlqNVhZWEp1YVc1blBDOWlQam9nSUcxNWMzRnNYM0YxWlhKNUtDa2dXenhoSUdoeVpXWTlKMloxYm1OMGFXOXVMbTE1YzNGc0xYRjFaWEo1Sno1bWRXNWpkR2x2Ymk1dGVYTnhiQzF4ZFdWeWVUd3ZZVDVkT2lCRFlXNG5kQ0JqYjI1dVpXTjBJSFJ2SUd4dlkyRnNJRTE1VTFGTUlITmxjblpsY2lCMGFISnZkV2RvSUhOdlkydGxkQ0FuTDNaaGNpOXlkVzR2YlhsemNXeGtMMjE1YzNGc1pDNXpiMk5ySnlBb01pa2dhVzRnUEdJK0wyaHZiV1V2WVdwaGVHeHZZV1F2ZDNkM0wyeHBZbkpoYVhKcFpYTXZZMnhoYzNNdWJYbHpjV3d1Y0dod1BDOWlQaUJ2YmlCc2FXNWxJRHhpUGpZNFBDOWlQanhpY2lBdlBnbzhZbklnTHo0S1BHSStWMkZ5Ym1sdVp6d3ZZajQ2SUNCdGVYTnhiRjl4ZFdWeWVTZ3BJRnM4WVNCb2NtVm1QU2RtZFc1amRHbHZiaTV0ZVhOeGJDMXhkV1Z5ZVNjK1puVnVZM1JwYjI0dWJYbHpjV3d0Y1hWbGNuazhMMkUrWFRvZ1FTQnNhVzVySUhSdklIUm9aU0J6WlhKMlpYSWdZMjkxYkdRZ2JtOTBJR0psSUdWemRHRmliR2x6YUdWa0lHbHVJRHhpUGk5b2IyMWxMMkZxWVhoc2IyRmtMM2QzZHk5c2FXSnlZV2x5YVdWekwyTnNZWE56TG0xNWMzRnNMbkJvY0R3dllqNGdiMjRnYkdsdVpTQThZajQyT0R3dllqNDhZbklnTHo0S1BHSnlJQzgrQ2p4aVBsZGhjbTVwYm1jOEwySStPaUFnYlhsemNXeGZjWFZsY25rb0tTQmJQR0VnYUhKbFpqMG5ablZ1WTNScGIyNHViWGx6Y1d3dGNYVmxjbmtuUG1aMWJtTjBhVzl1TG0xNWMzRnNMWEYxWlhKNVBDOWhQbDA2SUVOaGJpZDBJR052Ym01bFkzUWdkRzhnYkc5allXd2dUWGxUVVV3Z2MyVnlkbVZ5SUhSb2NtOTFaMmdnYzI5amEyVjBJQ2N2ZG1GeUwzSjFiaTl0ZVhOeGJHUXZiWGx6Y1d4a0xuTnZZMnNuSUNneUtTQnBiaUE4WWo0dmFHOXRaUzloYW1GNGJHOWhaQzkzZDNjdmJHbGljbUZwY21sbGN5OWpiR0Z6Y3k1dGVYTnhiQzV3YUhBOEwySStJRzl1SUd4cGJtVWdQR0krTmpnOEwySStQR0p5SUM4K0NqeGljaUF2UGdvOFlqNVhZWEp1YVc1blBDOWlQam9nSUcxNWMzRnNYM0YxWlhKNUtDa2dXenhoSUdoeVpXWTlKMloxYm1OMGFXOXVMbTE1YzNGc0xYRjFaWEo1Sno1bWRXNWpkR2x2Ymk1dGVYTnhiQzF4ZFdWeWVUd3ZZVDVkT2lCQklHeHBibXNnZEc4Z2RHaGxJSE5sY25abGNpQmpiM1ZzWkNCdWIzUWdZbVVnWlhOMFlXSnNhWE5vWldRZ2FXNGdQR0krTDJodmJXVXZZV3BoZUd4dllXUXZkM2QzTDJ4cFluSmhhWEpwWlhNdlkyeGhjM011YlhsemNXd3VjR2h3UEM5aVBpQnZiaUJzYVc1bElEeGlQalk0UEM5aVBqeGljaUF2UGdvOFluSWdMejRLUEdJK1YyRnlibWx1Wnp3dllqNDZJQ0J0ZVhOeGJGOXhkV1Z5ZVNncElGczhZU0JvY21WbVBTZG1kVzVqZEdsdmJpNXRlWE54YkMxeGRXVnllU2MrWm5WdVkzUnBiMjR1YlhsemNXd3RjWFZsY25rOEwyRStYVG9nUTJGdUozUWdZMjl1Ym1WamRDQjBieUJzYjJOaGJDQk5lVk5SVENCelpYSjJaWElnZEdoeWIzVm5hQ0J6YjJOclpYUWdKeTkyWVhJdmNuVnVMMjE1YzNGc1pDOXRlWE54YkdRdWMyOWpheWNnS0RJcElHbHVJRHhpUGk5b2IyMWxMMkZxWVhoc2IyRmtMM2QzZHk5c2FXSnlZV2x5YVdWekwyTnNZWE56TG0xNWMzRnNMbkJvY0R3dllqNGdiMjRnYkdsdVpTQThZajQyT0R3dllqNDhZbklnTHo0S1BHSnlJQzgrQ2p4aVBsZGhjbTVwYm1jOEwySStPaUFnYlhsemNXeGZjWFZsY25rb0tTQmJQR0VnYUhKbFpqMG5ablZ1WTNScGIyNHViWGx6Y1d3dGNYVmxjbmtuUG1aMWJtTjBhVzl1TG0xNWMzRnNMWEYxWlhKNVBDOWhQbDA2SUVFZ2JHbHVheUIwYnlCMGFHVWdjMlZ5ZG1WeUlHTnZkV3hrSUc1dmRDQmlaU0JsYzNSaFlteHBjMmhsWkNCcGJpQThZajR2YUc5dFpTOWhhbUY0Ykc5aFpDOTNkM2N2YkdsaWNtRnBjbWxsY3k5amJHRnpjeTV0ZVhOeGJDNXdhSEE4TDJJK0lHOXVJR3hwYm1VZ1BHSStOamc4TDJJK1BHSnlJQzgrQ2c9PSc7XG5cbiAgICAvLyBWaWV3cG9ydCBlbGVtZW50c1xuICAgIC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovXG4gICAgdmFyIGNvbnRhaW5lciAgPSBudWxsO1xuICAgIHZhciBsb2FkZXIgPSBudWxsO1xuICAgIHZhciByZW5kZXJlciA9IG51bGw7XG5cbiAgICAvLyBTdG9yZXMgdGhlIGN1cnJlbnQgdmVoaWNsZSBzdGF0ZSBmb3IgdGhlIHZlaGljbGVcbiAgICB2YXIgYWN0aXZlID0gZmFsc2U7XG4gICAgdmFyIHN0YXRlID0geyB9O1xuXG4gICAgLy8gTWFrZSBzdXJlIG91ciBvcHRpb25zIG9iamVjdCBpcyBpbml0aWFsaXplZFxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgaWYgKG9wdGlvbnMuc3RhdGUpIHtcbiAgICAgICAgc3RhdGUgPSBvcHRpb25zLnN0YXRlO1xuICAgIH1cblxuICAgIC8vIEF0dGVtcHQgdG8gZmluZCBvdXIgY29udGFpbmVyIGJhc2VkIG9uIHRoZSBzZWxlY3Rpb24gc3RyaW5nIGlmIHdlIGNhblxuICAgIGlmICh0eXBlb2YgZWxlbSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW0pO1xuICAgICAgICB9IGVsc2UgaWYgKGVsZW1bMF0gPT09ICcuJykge1xuICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlbGVtLnN1YnN0cmluZygxKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbVswXSA9PT0gJyMnKSB7XG4gICAgICAgICAgICBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtLnN1YnN0cmluZygxKSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbGVtID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBJcyB0aGlzIGEgRE9NIGVsZW1lbnRcbiAgICAgICAgaWYgKGVsZW0udGFnTmFtZSkge1xuICAgICAgICAgICAgY29udGFpbmVyID0gZWxlbTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIE1ha2Ugc3VyZSB3ZSBjYW4gZmluZCBvdXIgZWxlbWVudCB0aGF0IHdlIGFyZSB0cnlpbmcgdG8gdXNlIGZvciB0aGlzIHZpZXdlclxuICAgIGlmICghY29udGFpbmVyKSBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgZmluZCBlbGVtZW50IHNwZWNpZmllZCBmb3I6ICcgKyBlbGVtKTtcblxuICAgIC8vIFByZXBhcmUgdGhlIGNvbnRhaW5lciBzbyBpdCBjYW4gcHJvcGVybHkgd3JhcCB0aGUgY29udGVudHNcbiAgICB2YXIgaXNPZmZzZXRQb3NpdGlvbmVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcG9zaXRpb24gPSBjb250YWluZXIuc3R5bGUucG9zaXRpb247XG4gICAgICAgIHZhciBpc09mZnNldFBvc2l0aW9uVmFsdWUgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gJ2ZpeGVkJyB8fCB2YWx1ZSA9PT0gJ2Fic29sdXRlJyB8fCB2YWx1ZSA9PT0gJ3JlbGF0aXZlJztcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoaXNPZmZzZXRQb3NpdGlvblZhbHVlKHBvc2l0aW9uKSkgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgLyoqIEB0eXBlIHtDU1NTdHlsZURlY2xhcmF0aW9ufSAqL1xuICAgICAgICB2YXIgY2FsY3VsYXRlZFN0eWxlID0gJ2dldENvbXB1dGVkU3R5bGUnIGluIHdpbmRvdyA/IGdldENvbXB1dGVkU3R5bGUoY29udGFpbmVyKSA6IGNvbnRhaW5lci5ydW50aW1lU3R5bGU7XG5cbiAgICAgICAgaWYgKCFjYWxjdWxhdGVkU3R5bGUpIHJldHVybiBmYWxzZTtcblxuICAgICAgICByZXR1cm4gaXNPZmZzZXRQb3NpdGlvblZhbHVlKGNhbGN1bGF0ZWRTdHlsZS5wb3NpdGlvbik7XG4gICAgfSgpO1xuXG4gICAgLy8gSWYgd2UncmUgbm90IHBvc2l0aW9uZWQgdXNpbmcgb2Zmc2V0IHBvc2l0aW9uaW5nLCBzZXQgcmVsYXRpdmUgcG9zaXRpb25pbmcgb24gdGhlIGNvbnRhaW5lclxuICAgIGlmICghaXNPZmZzZXRQb3NpdGlvbmVkKVxuICAgICAgICBjb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuXG4gICAgLy8gQ3JlYXRlIG91ciBvdGhlciByZXF1aXJlZCBlbGVtZW50c1xuICAgIGNyZWF0ZUxvYWRlckVsZW1lbnQoKTtcblxuICAgIC8vIEZpZ3VyZSBvdXQgd2hpY2ggdmVyc2lvbiBvZiBvdXIgdmlld2VyIHdlIHdhbnQgdG8gdXNlXG4gICAgLypcbiAgICBpZiAoaXNDYW52YXNTdXBwb3J0ZWQoKSA9PSBmYWxzZSkgeyAvLyBUT0RPOiBORUVEIFRPIFJFTU9WRSBUSEUgRkFMU0UgUkVRVUlSRU1FTlQgLSBXRSBBUkUgRkxJUFBJTkcgRk9SIERFQlVHXG5cbiAgICB9IGVsc2Uge1xuICAgICAgICByZW5kZXJlciA9IG5ldyBSaWRlU3R5bGVySW1hZ2VSZW5kZXJlcihjb250YWluZXIpO1xuICAgIH1cbiAgICAqL1xuXG4gICAgLy8gV2UgYXJlIGFsd2F5cyB1c2luZyB0aGUgaW1hZ2UgcmVuZGVyZXIgc2luY2UgdGhhdCBpcyBhbGwgdGhhdCBpcyBzdXBwb3J0ZWQgY3VycmVudGx5XG4gICAgcmVuZGVyZXIgPSBuZXcgUmlkZVN0eWxlckltYWdlUmVuZGVyZXIoY29udGFpbmVyKTtcblxuICAgIHZhciBkZXNpcmVkQXNwZWN0SGVpZ2h0ID0gbnVsbDtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuY29udGFpbmVyQXNwZWN0UmF0aW8gPT09ICdudW1iZXInKSB7XG4gICAgICAgIGRlc2lyZWRBc3BlY3RIZWlnaHQgPSBvcHRpb25zLmNvbnRhaW5lckFzcGVjdFJhdGlvO1xuICAgIH1cblxuICAgIHZhciBsYXN0Q2xpZW50V2lkdGggPSAwO1xuICAgIHZhciByZWZyZXNoVGltZW91dCA9IDA7XG4gICAgdGhpcy5SZXNpemVSZW5kZXJBcmVhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChjb250YWluZXIuY2xpZW50V2lkdGggIT0gbGFzdENsaWVudFdpZHRoKSB7XG4gICAgICAgICAgICBsYXN0Q2xpZW50V2lkdGggPSBjb250YWluZXIuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICBzdGF0ZVsnd2lkdGgnXSA9IGxhc3RDbGllbnRXaWR0aDtcblxuICAgICAgICAgICAgLy8gSWYgd2UgYXJlIG1haW50YWluaW5nIHRoZSBhc3BlY3QgcmF0aW8gd2UgbmVlZCB0byB1cGRhdGUgdGhhdFxuICAgICAgICAgICAgaWYgKGRlc2lyZWRBc3BlY3RIZWlnaHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSBNYXRoLnJvdW5kKGxhc3RDbGllbnRXaWR0aCAqIGRlc2lyZWRBc3BlY3RIZWlnaHQpO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xuICAgICAgICAgICAgICAgIHN0YXRlWydoZWlnaHQnXSA9IGhlaWdodDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIG91ciByZW5kZXJlciBpcyBhY3RpdmUgYmVmb3JlIGF0dGVtcHQgdG8gcmVkcmF3XG4gICAgICAgICAgICBpZiAoYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHJlZnJlc2hUaW1lb3V0KTtcbiAgICAgICAgICAgICAgICByZWZyZXNoVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgYSByZWZyZXNoIG9uIHRoZSByZW5kZXJlclxuICAgICAgICAgICAgICAgICAgICByZW5kZXJlci5SZW5kZXIoc3RhdGUpO1xuICAgICAgICAgICAgICAgIH0sIDE1MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQ2hlY2sgdG8gc2VlIGlmIHdlIHNob3VsZCBiZSBjb250cm9sbGluZyB0aGUgY29udGFpbmVyIGFzcGVjdCByYXRpb1xuICAgIGlmIChvcHRpb25zLnJlc3BvbnNpdmUgIT09IGZhbHNlKSB7XG4gICAgICAgIHNldEludGVydmFsKHRoaXMuUmVzaXplUmVuZGVyQXJlYSwgMTAwKTtcbiAgICAgICAgdGhpcy5SZXNpemVSZW5kZXJBcmVhKCk7XG4gICAgfVxuXG4gICAgdGhpcy5VcGRhdGUgPSBmdW5jdGlvbihpbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgLy8gTGV0IG91ciBzeXN0ZW0ga25vdyB0aGF0IHdlIGFyZSByZWFkeSB0byByb2NrXG4gICAgICAgIGFjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIG91ciBpbnN0cnVjdGlvbnMgYXJlIGluIGFuIG9iamVjdCBmb3JtYXRcbiAgICAgICAgaW5zdHJ1Y3Rpb25zID0gcHJlcGFyZUFyZ3VtZW50cyhpbnN0cnVjdGlvbnMpO1xuXG4gICAgICAgIC8vIEluamVjdCBvdXIgdmFyaWFibGVzIGJhc2VkIG9uIGdsb2JhbCBwYXJhbXNcbiAgICAgICAgaW5zdHJ1Y3Rpb25zWyd3aWR0aCddID0gY29udGFpbmVyLmNsaWVudFdpZHRoO1xuICAgICAgICBpbnN0cnVjdGlvbnNbJ2hlaWdodCddID0gY29udGFpbmVyLmNsaWVudEhlaWdodDtcblxuICAgICAgICAvLyBVcGRhdGUgb3VyIGludGVybmFsIHN0YXRlIGFuZCB3YXRjaCBmb3IgY2hhbmdlc1xuICAgICAgICB2YXIgaGFzQ2hhbmdlcyA9IGZhbHNlO1xuICAgICAgICBmb3IodmFyIHggaW4gaW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgICAgICB2YXIgdjEgPSBzdGF0ZVt4XTtcbiAgICAgICAgICAgIHZhciB2MiA9IGluc3RydWN0aW9uc1t4XTtcbiAgICAgICAgICAgIGlmICh2MSAhPSB2Mikge1xuICAgICAgICAgICAgICAgIHN0YXRlW3hdID0gdjI7XG4gICAgICAgICAgICAgICAgaGFzQ2hhbmdlcyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB3ZSBkaWRuJ3QgbWFrZSBhbnkgY2hhbmdlcyB0byBvdXIgaW50ZXJuYWwgc3RhdGUgd2UgZG9uJ3QgbmVlZCB0byBwZXJmb3JtIGFuIHVwZGF0ZVxuICAgICAgICBpZiAoaGFzQ2hhbmdlcyA9PSBmYWxzZSkge1xuICAgICAgICAgICAgdmFyIHByb21pc2UgPSByaWRlc3R5bGVyLnByb21pc2UoKTtcblxuICAgICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKCk7XG5cbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcmVyLlJlbmRlcihzdGF0ZSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHByZXBhcmVBcmd1bWVudHMoYXJncykge1xuICAgICAgICB2YXIgdmFsdWVzID0ge307XG5cbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFyIHRva2VucyA9IGFyZ3Muc3BsaXQoJz8nKTtcbiAgICAgICAgICAgIHRva2VucyA9ICh0b2tlbnMubGVuZ3RoID09IDEgPyB0b2tlbnNbMF0gOiB0b2tlbnNbMV0pLnNwbGl0KCcmJyk7XG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgdG9rZW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGt2ID0gdG9rZW5zW2ldLnNwbGl0KCc9Jyk7XG4gICAgICAgICAgICAgICAgdmFyIGtleSA9IGRlY29kZVVSSUNvbXBvbmVudChrdlswXSkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIFNraXAgb3ZlciB2YXJpYWJsZXMgdGhhdCBhcmUgbm90IHVzZWQgZm9yIHJlbmRlcmluZ1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT0gJ2tleScgfHwga2V5ID09ICd0b2tlbicpIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgdmFsdWVzW2tleV0gPSBkZWNvZGVVUklDb21wb25lbnQoa3ZbMV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIGFsbCBrZXlzIGFyZSBpbiBsb3dlciBjYXNlXG4gICAgICAgICAgICBmb3IodmFyIGsgaW4gYXJncykge1xuICAgICAgICAgICAgICAgIHZhbHVlc1trLnRvTG93ZXJDYXNlKCldID0gYXJnc1trXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaXNDYW52YXNTdXBwb3J0ZWQoKSB7XG4gICAgICAgIHZhciBlbGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIHJldHVybiAhIShlbGVtLmdldENvbnRleHQgJiYgZWxlbS5nZXRDb250ZXh0KCcyZCcpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBSaWRlU3R5bGVySW1hZ2VSZW5kZXJlcihjb250YWluZXIpIHtcbiAgICAgICAgdmFyIGFjdGl2ZUltYWdlID0gbnVsbDtcbiAgICAgICAgdmFyIHJldGlyZWRJbWFnZXMgPSBbXTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybiB7UmlkZVN0eWxlclByb21pc2V9XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLlJlbmRlciA9IGZ1bmN0aW9uKGluc3RydWN0aW9ucykge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU5ld0xheWVyKGluc3RydWN0aW9ucyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm4ge1JpZGVTdHlsZXJQcm9taXNlfVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlTmV3TGF5ZXIoaW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHJpZGVzdHlsZXIucHJvbWlzZSgpO1xuXG4gICAgICAgICAgICAvLyBTaG93IG91ciBsb2FkZXIgc2luY2Ugd2UgYXJlIGNyZWF0aW5nIGEgbmV3IGxheWVyXG4gICAgICAgICAgICBzaG93TG9hZGVyRWxlbWVudCgpO1xuXG4gICAgICAgICAgICB2YXIgaW1hZ2VVcmwgPSByaWRlc3R5bGVyLmFqYXgudXJsKCdWZWhpY2xlL1JlbmRlcicsIGluc3RydWN0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vIFJldGlyZSBvdXIgYWN0aXZlIGltYWdlIGlmIGl0IGlzIGF2YWlsYWJsZVxuICAgICAgICAgICAgaWYgKGFjdGl2ZUltYWdlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXRpcmVkSW1hZ2VzLnB1c2goYWN0aXZlSW1hZ2UpO1xuICAgICAgICAgICAgICAgIGFjdGl2ZUltYWdlID0gbnVsbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gRmluZCBhbGwgb2Ygb3VyIG9sZCBpbWFnZXMgYW5kIGZhZGUgdGhlbSB0byBoYWxmIHRyYW5zcGFyZW50IChpZiB0aGV5IGFyZSB2aXNpYmxlKVxuICAgICAgICAgICAgZm9yKHZhciBpID0gcmV0aXJlZEltYWdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgIHZhciBvaW1nID0gcmV0aXJlZEltYWdlc1tpXTtcblxuICAgICAgICAgICAgICAgIC8vIFBhcnRpYWxseSBmYWRlIG91dCBvdXIgcmV0aXJlZCBpbWFnZXNcbiAgICAgICAgICAgICAgICBpZiAob2ltZy5zdHlsZS5vcGFjaXR5ID4gMC41KSBvaW1nLnN0eWxlLm9wYWNpdHkgPSAwLjU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBpbWFnZSBlbGVtZW50IGZvciB0aGUgY3VycmVudCByZW5kZXIgcmVzdWx0XG4gICAgICAgICAgICB2YXIgaW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICBpbWcuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgaW1nLnN0eWxlLmxlZnQgPSAwO1xuICAgICAgICAgICAgaW1nLnN0eWxlLnRvcCA9IDA7XG4gICAgICAgICAgICBpbWcuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICBpbWcuc3R5bGUudHJhbnNpdGlvbiA9ICdvcGFjaXR5IGxpbmVhciAzMDBtcyc7XG5cbiAgICAgICAgICAgIC8vIEFkZCBvdXIgbmV3IGltYWdlIGxheWVyIHRvIHRoZSBET01cbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChhY3RpdmVJbWFnZSA9IGltZyk7XG5cbiAgICAgICAgICAgIC8vIExpc3RlbiBmb3Igb3VyIG5ldyBsYXllciB0byBiZWNvbWUgcmVhZHkgYW5kIGRpc3BsYXkgaXQgdG8gdGhlIHVzZXIuIEFsc28sIGNsZWFudXAgYW55IGxlZ2FjeSBsYXllcnMuXG4gICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSBmYWRlIGluIHRoaXMgSU1HIGlmIGl0IGhhc24ndCBhbHJlYWR5IGJlZW4gcmVwbGFjZWQuXG4gICAgICAgICAgICAgICAgaWYgKGltZyA9PSBhY3RpdmVJbWFnZSkge1xuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGVyRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgICAgICBpbWcuc3R5bGUub3BhY2l0eSA9IDE7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbW92ZWRJbWFnZXMgPSByZXRpcmVkSW1hZ2VzLnNwbGljZSgwLCByZXRpcmVkSW1hZ2VzLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZhZGUgYWxsIG9mIG91ciBvbGQgaW1hZ2VzIG91dCBvZiB2aWV3XG4gICAgICAgICAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCByZW1vdmVkSW1hZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVkSW1hZ2VzW2ldLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBlbGVtZW50cyBhZnRlciB0aGV5IGhhdmUgaGFkIGEgY2hhbmNlIHRvIGZhZGUgb3V0XG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgcmVtb3ZlZEltYWdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChyZW1vdmVkSW1hZ2VzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIDMwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZS5yZWplY3QoKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8vIFN0YXJ0IGxvYWRpbmcgb3VyIGltYWdlXG4gICAgICAgICAgICBpbWcuc3JjID0gaW1hZ2VVcmw7XG5cbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlTG9hZGVyRWxlbWVudCgpIHtcbiAgICAgICAgbG9hZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG5cbiAgICAgICAgLy8gU2V0IG91ciBpbWFnZVxuICAgICAgICBsb2FkZXIuc3JjID0gbG9hZGVyRGF0YTtcblxuICAgICAgICAvLyBTZXR1cCBzdHlsZSBvZiB0aGUgZWxlbWVudFxuICAgICAgICBsb2FkZXIuc3R5bGUucGFkZGluZyA9ICc1cHgnO1xuICAgICAgICBsb2FkZXIuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzIxcHgnO1xuICAgICAgICBsb2FkZXIuc3R5bGUuYmFja2dyb3VuZCA9ICcjZmZmJztcbiAgICAgICAgbG9hZGVyLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICBsb2FkZXIuc3R5bGUudHJhbnNpdGlvbiA9ICdvcGFjaXR5IGxpbmVhciAzMDBtcyc7XG5cbiAgICAgICAgLy8gUG9zaXRpb24gaW4gb3VyIGNvbnRhaW5lclxuICAgICAgICBsb2FkZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICBsb2FkZXIuc3R5bGUubGVmdCA9ICc1MCUnO1xuICAgICAgICBsb2FkZXIuc3R5bGUudG9wID0gJzUwJSc7XG4gICAgICAgIGxvYWRlci5zdHlsZS56SW5kZXggPSAnNTAnO1xuXG4gICAgICAgIC8vIE9mZnNldCBmb3Igc2l6ZVxuICAgICAgICBsb2FkZXIuc3R5bGUubWFyZ2luTGVmdCA9ICctMjFweCc7XG4gICAgICAgIGxvYWRlci5zdHlsZS5tYXJnaW5Ub3AgPSAnLTIxcHgnO1xuXG4gICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChsb2FkZXIpO1xuICAgICAgICBzaG93TG9hZGVyRWxlbWVudCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNob3dMb2FkZXJFbGVtZW50KCkge1xuICAgICAgICBsb2FkZXIuc3R5bGUub3BhY2l0eSA9IDAuNzU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGlkZUxvYWRlckVsZW1lbnQoKSB7XG4gICAgICAgIGxvYWRlci5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICB9XG59XG5cbiIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBldmVudHM7XG4gICAgKGZ1bmN0aW9uIChldmVudHMpIHtcbiAgICAgICAgO1xuXG4gICAgICAgIHZhciBFdmVudEhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBFdmVudEhhbmRsZXIoKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEV2ZW50SGFuZGxlcik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogTGlzdGVuIGZvciBhbiBldmVudFxuICAgICAgICAgICAgICogQHBhcmFtIGV2ZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gbGlzdGVuIGZvclxuICAgICAgICAgICAgICogQHBhcmFtIGNhbGxiYWNrICBUaGUgY2FsbGJhY2sgdG8gcnVuIHdoZW4gdGhlIGV2ZW50IGlzIHRyaWdnZXJlZFxuICAgICAgICAgICAgICovXG5cblxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKEV2ZW50SGFuZGxlciwgW3tcbiAgICAgICAgICAgICAgICBrZXk6ICdvbicsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSBpbiB0aGlzLmV2ZW50SGFuZGxlcnMgPT09IGZhbHNlKSB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU3RvcCBsaXN0ZW5pbmcgZm9yIGFuIGV2ZW50XG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGV2ZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gc3RvcCBsaXN0ZW5pbmcgdG9cbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRoYXQgd2FzIG9yaWdpbmFsbHkgcmVnaXN0ZXJlZFxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnb2ZmJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb2ZmKGV2ZW50TmFtZSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50TmFtZSBpbiB0aGlzLmV2ZW50SGFuZGxlcnMgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdID0gUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyLnJlbW92ZSh0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXSwgY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBUcmlnZ2VyIGFuIGV2ZW50XG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGV2ZW50TmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnQgdG8gdHJpZ2dlclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBldiAgICAgICAgVGhlIGRhdGEgdG8gc2VuZCB0byB0aGUgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgICAgICAgICAgKiBAcmV0dXJucyAgICAgICAgIGZhbHNlLCBpZiB0aGUgZXZlbnQgaGFzIGJlZW4gY2FuY2VsbGVkIGJ5IGEgaGFuZGxlciwgb3RoZXJ3aXNlIHRydWVcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ3RyaWdnZXInLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0cmlnZ2VyKGV2ZW50TmFtZSwgZXYpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmRlYnVnQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHRoaXMuZGVidWdDYWxsYmFjayhldmVudE5hbWUsIGV2LCB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXSB8fCBbXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudE5hbWUgaW4gdGhpcy5ldmVudEhhbmRsZXJzID09PSBmYWxzZSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV1bU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGV2ZW50SGFuZGxlciA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGV2ZW50SGFuZGxlcihldikgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBFdmVudEhhbmRsZXI7XG4gICAgICAgIH0oKTtcblxuICAgICAgICBldmVudHMuRXZlbnRIYW5kbGVyID0gRXZlbnRIYW5kbGVyO1xuICAgIH0pKGV2ZW50cyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5ldmVudHMgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5ldmVudHMgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGZpbHRlcnM7XG4gICAgKGZ1bmN0aW9uIChmaWx0ZXJzXzEpIHtcbiAgICAgICAgdmFyIEZpbHRlckNvbnRyb2xsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBGaWx0ZXJDb250cm9sbGVyKCkge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaWx0ZXJDb250cm9sbGVyKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRmlsdGVycyA9IG5ldyBHbG9iYWxGaWx0ZXJQcm92aWRlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMudGlyZUZpbHRlcnMgPSBuZXcgVGlyZUZpbHRlclByb3ZpZGVyKHRoaXMuZ2xvYmFsRmlsdGVycyk7XG4gICAgICAgICAgICAgICAgdGhpcy53aGVlbEZpbHRlcnMgPSBuZXcgV2hlZWxGaWx0ZXJQcm92aWRlcih0aGlzLmdsb2JhbEZpbHRlcnMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoRmlsdGVyQ29udHJvbGxlciwgW3tcbiAgICAgICAgICAgICAgICBrZXk6ICdzZXRWZWhpY2xlJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmVoaWNsZSh2ZWhpY2xlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJGaWx0ZXJzKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxGaWx0ZXJzLnNldFZlaGljbGUodmVoaWNsZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ2NsZWFyRmlsdGVycycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyRmlsdGVycyh0cmlnZ2VyQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRmlsdGVycy5jbGVhcih0cmlnZ2VyQ2hhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50aXJlRmlsdGVycy5jbGVhcih0cmlnZ2VyQ2hhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy53aGVlbEZpbHRlcnMuY2xlYXIodHJpZ2dlckNoYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gRmlsdGVyQ29udHJvbGxlcjtcbiAgICAgICAgfSgpO1xuXG4gICAgICAgIGZpbHRlcnNfMS5GaWx0ZXJDb250cm9sbGVyID0gRmlsdGVyQ29udHJvbGxlcjtcblxuICAgICAgICB2YXIgRmlsdGVyUHJvdmlkZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBGaWx0ZXJQcm92aWRlcih0eXBlLCBnbG9iYWxGaWx0ZXJQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaWx0ZXJQcm92aWRlcik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEZpbHRlcnMgPSB7fTtcbiAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbEZpbHRlclByb3ZpZGVyID0gZ2xvYmFsRmlsdGVyUHJvdmlkZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRyaWdnZXIgdGhlIGZpbHRlciBjaGFuZ2VkIGNhbGxiYWNrXG4gICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoRmlsdGVyUHJvdmlkZXIsIFt7XG4gICAgICAgICAgICAgICAga2V5OiAndHJpZ2dlckZpbHRlckNoYW5nZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRyaWdnZXJGaWx0ZXJDaGFuZ2UoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vbkZpbHRlcnNDaGFuZ2VkID09PSAnZnVuY3Rpb24nKSB0aGlzLm9uRmlsdGVyc0NoYW5nZWQodGhpcy5nZXRGaWx0ZXJzKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZXR1cm5zIGEgZmlsdGVyIG1vZGVsIHdpdGggdGhlIHNwZWNpZmllZCBmaWx0ZXIgdmFsdWVzIHNldCxcbiAgICAgICAgICAgICAgICAgKiB3aXRob3V0IGFjdHVhbGx5IHNldHRpbmcgdGhlbVxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAncHJldmlld0ZpbHRlcnMnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBwcmV2aWV3RmlsdGVycyhmaWx0ZXJWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdsb2JhbEZpbHRlcnMgPSB0aGlzLmdsb2JhbEZpbHRlclByb3ZpZGVyID8gdGhpcy5nbG9iYWxGaWx0ZXJQcm92aWRlci5nZXRGaWx0ZXJzKCkgOiB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlcnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJhc2VGaWx0ZXJzID0gdGhpcy5iYXNlRmlsdGVycztcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBmaWx0ZXJWYWx1ZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlclZhbHVlID0gX3N0ZXAudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IGZpbHRlclZhbHVlLmtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBmaWx0ZXJWYWx1ZS52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RmlsdGVyKGtleSwgdmFsdWUsIGZpbHRlcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHt9LCB0aGlzLmJhc2VGaWx0ZXJzLCBnbG9iYWxGaWx0ZXJzLCBmaWx0ZXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmV0dXJucyB0aGUgY3VycmVudGx5IGFwcGxpZWQgZmlsdGVyc1xuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnZ2V0RmlsdGVycycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZpbHRlcnMoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnbG9iYWxGaWx0ZXJzID0gdGhpcy5nbG9iYWxGaWx0ZXJQcm92aWRlciA/IHRoaXMuZ2xvYmFsRmlsdGVyUHJvdmlkZXIuZ2V0RmlsdGVycygpIDoge307XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbih7fSwgdGhpcy5iYXNlRmlsdGVycywgZ2xvYmFsRmlsdGVycywgdGhpcy5jdXJyZW50RmlsdGVycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJldHJpZXZlIHRoZSBvcHRpb25zIGZvciBhIGZpbHRlclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBmaWx0ZXIgVGhlIGZpbHRlclxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAncmV0cmlldmVPcHRpb25zJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmV0cmlldmVPcHRpb25zKGZpbHRlcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyLnJldHJpZXZlT3B0aW9ucyh0aGlzLmdsb2JhbEZpbHRlclByb3ZpZGVyLmdldEZpbHRlcnMoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFNldCBhIGZpbHRlciBvcHRpb24sIG9uIGEgc3BlY2lmaWMgZmlsdGVyIG1vZGVsXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGtleSBUaGUgZmlsdGVyIGtleSB0byBhcHBseVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXBwbHkgdG8gdGhlIGZpbHRlclxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBmaWx0ZXJzIFRoZSBmaWx0ZXJzIHRvIGFwcGx5IHRoZW0gdG9cbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ3NldEZpbHRlcicsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZpbHRlcihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJzID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB0aGlzLmN1cnJlbnRGaWx0ZXJzO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJPcHRpb24gPSB0aGlzLmZpbmRGaWx0ZXJPcHRpb24oa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlck9wdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uLmFwcGx5KGZpbHRlcnMsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZXR1cm5zIHRoZSBmaWx0ZXIgb3B0aW9uIGZvciB0aGUgc3BlY2lmaWVkIGtleVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBrZXkgVGhlIGZpbHRlciBrZXlcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ2ZpbmRGaWx0ZXJPcHRpb24nLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5kRmlsdGVyT3B0aW9uKGtleSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSB0aGlzLmZpbHRlck9wdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVyID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlci5rZXkgPT09IGtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdzZXRGaWx0ZXJzJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RmlsdGVycyhzZWxlY3RlZEZpbHRlcnNPcktleSwgdmFsdWUsIHRyaWdnZXJDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0ZpbHRlcnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkRmlsdGVycyA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzZWxlY3RlZEZpbHRlcnNPcktleSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRmlsdGVycyA9IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBzZWxlY3RlZEZpbHRlcnNPcktleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWx0ZXJzID0gc2VsZWN0ZWRGaWx0ZXJzT3JLZXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHRyaWdnZXJDaGFuZ2UgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSBzZWxlY3RlZEZpbHRlcnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRGaWx0ZXIgPSBfc3RlcDMudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IHNlbGVjdGVkRmlsdGVyLmtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3ZhbHVlID0gc2VsZWN0ZWRGaWx0ZXIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEZpbHRlcihrZXksIF92YWx1ZSwgbmV3RmlsdGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIG5ld0ZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdGaWx0ZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3RmlsdGVyVmFsdWUgPSBuZXdGaWx0ZXJzW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRGaWx0ZXJWYWx1ZSA9IHRoaXMuY3VycmVudEZpbHRlcnNba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3RmlsdGVyVmFsdWUgIT09IGN1cnJlbnRGaWx0ZXJWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRGaWx0ZXJzW2tleV0gPSBuZXdGaWx0ZXJWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdHJpZ2dlckNoYW5nZSA9PT0gJ3VuZGVmaW5lZCcpIHRyaWdnZXJDaGFuZ2UgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQ2hhbmdlZCAmJiB0cmlnZ2VyQ2hhbmdlKSB0aGlzLnRyaWdnZXJGaWx0ZXJDaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhhc0NoYW5nZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ2NsZWFyJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXIoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0cmlnZ2VyQ2hhbmdlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEZpbHRlcnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXJDaGFuZ2UpIHRoaXMudHJpZ2dlckZpbHRlckNoYW5nZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgcmV0dXJuIEZpbHRlclByb3ZpZGVyO1xuICAgICAgICB9KCk7XG5cbiAgICAgICAgZmlsdGVyc18xLkZpbHRlclByb3ZpZGVyID0gRmlsdGVyUHJvdmlkZXI7XG4gICAgICAgIHZhciB2ZWhpY2xlQ29uZmlnRmlsdGVyS2V5ID0gJ3ZlaGljbGUtY29uZmlnJztcblxuICAgICAgICB2YXIgR2xvYmFsRmlsdGVyUHJvdmlkZXIgPSBmdW5jdGlvbiAoX0ZpbHRlclByb3ZpZGVyKSB7XG4gICAgICAgICAgICBfaW5oZXJpdHMoR2xvYmFsRmlsdGVyUHJvdmlkZXIsIF9GaWx0ZXJQcm92aWRlcik7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIEdsb2JhbEZpbHRlclByb3ZpZGVyKCkge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBHbG9iYWxGaWx0ZXJQcm92aWRlcik7XG5cbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoR2xvYmFsRmlsdGVyUHJvdmlkZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihHbG9iYWxGaWx0ZXJQcm92aWRlcikpLmNhbGwodGhpcywgJ2dsb2JhbCcsIHVuZGVmaW5lZCkpO1xuXG4gICAgICAgICAgICAgICAgX3RoaXMuYmFzZUZpbHRlcnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIEhhc0ZpdG1lbnRzOiB0cnVlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfdGhpcy5jdXJyZW50RmlsdGVycyA9IHt9O1xuICAgICAgICAgICAgICAgIF90aGlzLmZpbHRlck9wdGlvbnMgPSBbXG4gICAgICAgICAgICAgICAgLy8gVmVoaWNsZUNvbmZpZ3VyYXRpb24gJiBWZWhpY2xlVGlyZU9wdGlvblxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiB2ZWhpY2xlQ29uZmlnRmlsdGVyS2V5LFxuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KGZpbHRlcnMsIHZlaGljbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2ZWhpY2xlQ29uZmlndXJhdGlvbklEID0gdmVoaWNsZS52ZWhpY2xlQ29uZmlndXJhdGlvbklELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZlaGljbGVUaXJlT3B0aW9uSUQgPSB2ZWhpY2xlLnZlaGljbGVUaXJlT3B0aW9uSUQ7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ZWhpY2xlQ29uZmlndXJhdGlvbklEKSBmaWx0ZXJzLlZlaGljbGVDb25maWd1cmF0aW9uID0gdmVoaWNsZUNvbmZpZ3VyYXRpb25JRDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ZWhpY2xlVGlyZU9wdGlvbklEKSBmaWx0ZXJzLlZlaGljbGVUaXJlT3B0aW9uID0gdmVoaWNsZVRpcmVPcHRpb25JRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1dO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQXBwbGllcyBhIHZlaGljbGUgc2VsZWN0aW9uIHRvIGFsbFxuICAgICAgICAgICAgICogQHBhcmFtIHZlaGljbGUgVGhlIHZlaGljbGUgdG8gYXBwbHkgdG8gZmlsdGVyIHF1ZXJpZXNcbiAgICAgICAgICAgICAqL1xuXG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhHbG9iYWxGaWx0ZXJQcm92aWRlciwgW3tcbiAgICAgICAgICAgICAgICBrZXk6ICdzZXRWZWhpY2xlJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmVoaWNsZSh2ZWhpY2xlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0RmlsdGVyKHZlaGljbGVDb25maWdGaWx0ZXJLZXksIHZlaGljbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdnZXRDb3VudCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvdW50KCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSdsbCBuZXZlciBjYWxsIGdldENvdW50IG9uIHRoZSBHbG9iYWxGaWx0ZXJNb2RlbFxuICAgICAgICAgICAgICAgICAgICB0aHJvdyAnQ2Fubm90IGNvdW50IEdsb2JhbEZpbHRlck1vZGVsJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBHbG9iYWxGaWx0ZXJQcm92aWRlcjtcbiAgICAgICAgfShGaWx0ZXJQcm92aWRlcik7XG5cbiAgICAgICAgZmlsdGVyc18xLkdsb2JhbEZpbHRlclByb3ZpZGVyID0gR2xvYmFsRmlsdGVyUHJvdmlkZXI7XG5cbiAgICAgICAgdmFyIFRpcmVGaWx0ZXJQcm92aWRlciA9IGZ1bmN0aW9uIChfRmlsdGVyUHJvdmlkZXIyKSB7XG4gICAgICAgICAgICBfaW5oZXJpdHMoVGlyZUZpbHRlclByb3ZpZGVyLCBfRmlsdGVyUHJvdmlkZXIyKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gVGlyZUZpbHRlclByb3ZpZGVyKGdsb2JhbEZpbHRlclByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpcmVGaWx0ZXJQcm92aWRlcik7XG5cbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRpcmVGaWx0ZXJQcm92aWRlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRpcmVGaWx0ZXJQcm92aWRlcikpLmNhbGwodGhpcywgJ3RpcmUnLCBnbG9iYWxGaWx0ZXJQcm92aWRlcikpO1xuXG4gICAgICAgICAgICAgICAgX3RoaXMyLmJhc2VGaWx0ZXJzID0ge1xuICAgICAgICAgICAgICAgICAgICBSZXF1aXJlZEZpdG1lbnRSZXNvdXJjZVR5cGVzOiBbMiAvKiBDYXRhbG9nICovXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF90aGlzMi5maWx0ZXJPcHRpb25zID0gW1xuICAgICAgICAgICAgICAgIC8vIEJyYW5kXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdicmFuZHMnKSxcbiAgICAgICAgICAgICAgICAgICAgdW5zZWxlY3RlZE9wdGlvbkxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2FsbC1icmFuZHMnKSxcbiAgICAgICAgICAgICAgICAgICAga2V5OiAndGlyZS1icmFuZCcsXG4gICAgICAgICAgICAgICAgICAgIHJldHJpZXZlT3B0aW9uczogZnVuY3Rpb24gcmV0cmlldmVPcHRpb25zKGdsb2JhbEZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlcXVlc3QgQnJhbmRzXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoJ3RpcmUvZ2V0YnJhbmRzJywgZ2xvYmFsRmlsdGVycyksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcCBicmFuZHMgdG8gSUZpbHRlck9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyLm1hcChyZXNwb25zZS5CcmFuZHMsIGZ1bmN0aW9uIChicmFuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGJyYW5kLlRpcmVCcmFuZE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYnJhbmQuVGlyZUJyYW5kSURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRWYWx1ZUZyb21GaWx0ZXJzOiBmdW5jdGlvbiBnZXRWYWx1ZUZyb21GaWx0ZXJzKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzLlRpcmVCcmFuZDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KGZpbHRlcnMsIHRpcmVCcmFuZElEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzLlRpcmVCcmFuZCA9IHRpcmVCcmFuZElEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBBdHRyaWJ1dGVzXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdmZWF0dXJlcycpLFxuICAgICAgICAgICAgICAgICAgICB1bnNlbGVjdGVkT3B0aW9uTGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnYW55LWZlYXR1cmVzJyksXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3RpcmUtbW9kZWwtYXR0cmlidXRlJyxcbiAgICAgICAgICAgICAgICAgICAgcmV0cmlldmVPcHRpb25zOiBmdW5jdGlvbiByZXRyaWV2ZU9wdGlvbnMoZ2xvYmFsRmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVxdWVzdCBTcGVlZCBSYXRpbmdzXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoJ3RpcmUvZ2V0bW9kZWxhdHRyaWJ1dGVzJywgZ2xvYmFsRmlsdGVycyksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcCBicmFuZHMgdG8gSUZpbHRlck9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyLm1hcChyZXNwb25zZS5BdHRyaWJ1dGVzLCBmdW5jdGlvbiAoYXR0cmlidXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogYXR0cmlidXRlLlRpcmVNb2RlbEF0dHJpYnV0ZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYXR0cmlidXRlLlRpcmVNb2RlbEF0dHJpYnV0ZUlEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0VmFsdWVGcm9tRmlsdGVyczogZnVuY3Rpb24gZ2V0VmFsdWVGcm9tRmlsdGVycyhmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVycy5SZXF1aXJlZFRpcmVNb2RlbEF0dHJpYnV0ZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KGZpbHRlcnMsIGF0dHJpYnV0ZUlEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzLlJlcXVpcmVkVGlyZU1vZGVsQXR0cmlidXRlID0gYXR0cmlidXRlSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIFNwZWVkIFJhdGluZ1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc3BlZWQtcmF0aW5nJyksXG4gICAgICAgICAgICAgICAgICAgIHVuc2VsZWN0ZWRPcHRpb25MYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdhbnktc3BlZWQtcmF0aW5ncycpLFxuICAgICAgICAgICAgICAgICAgICBrZXk6ICd0aXJlLXNwZWVkLXJhdGluZycsXG4gICAgICAgICAgICAgICAgICAgIHJldHJpZXZlT3B0aW9uczogZnVuY3Rpb24gcmV0cmlldmVPcHRpb25zKGdsb2JhbEZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlcXVlc3QgU3BlZWQgUmF0aW5nc1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KCd0aXJlL2dldHNwZWVkcmF0aW5ncycsIGdsb2JhbEZpbHRlcnMpLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXAgYnJhbmRzIHRvIElGaWx0ZXJPcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlci5tYXAocmVzcG9uc2UuU3BlZWRSYXRpbmdzLCBmdW5jdGlvbiAoYnJhbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBicmFuZC5UaXJlU3BlZWRSYXRpbmdDb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGJyYW5kLlRpcmVTcGVlZFJhdGluZ0lEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0VmFsdWVGcm9tRmlsdGVyczogZnVuY3Rpb24gZ2V0VmFsdWVGcm9tRmlsdGVycyhmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVycy5TcGVlZFJhdGluZztcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KGZpbHRlcnMsIHNwZWVkUmF0aW5nSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnMuU3BlZWRSYXRpbmcgPSBzcGVlZFJhdGluZ0lEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKFRpcmVGaWx0ZXJQcm92aWRlciwgW3tcbiAgICAgICAgICAgICAgICBrZXk6ICdnZXRDb3VudCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvdW50KGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwidGlyZS9jb3VudG1vZGVsc1wiLCBmaWx0ZXJzKSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgcmV0dXJuIFRpcmVGaWx0ZXJQcm92aWRlcjtcbiAgICAgICAgfShGaWx0ZXJQcm92aWRlcik7XG5cbiAgICAgICAgZmlsdGVyc18xLlRpcmVGaWx0ZXJQcm92aWRlciA9IFRpcmVGaWx0ZXJQcm92aWRlcjtcblxuICAgICAgICB2YXIgV2hlZWxGaWx0ZXJQcm92aWRlciA9IGZ1bmN0aW9uIChfRmlsdGVyUHJvdmlkZXIzKSB7XG4gICAgICAgICAgICBfaW5oZXJpdHMoV2hlZWxGaWx0ZXJQcm92aWRlciwgX0ZpbHRlclByb3ZpZGVyMyk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIFdoZWVsRmlsdGVyUHJvdmlkZXIoZ2xvYmFsRmlsdGVyUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2hlZWxGaWx0ZXJQcm92aWRlcik7XG5cbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFdoZWVsRmlsdGVyUHJvdmlkZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihXaGVlbEZpbHRlclByb3ZpZGVyKSkuY2FsbCh0aGlzLCAnd2hlZWwnLCBnbG9iYWxGaWx0ZXJQcm92aWRlcikpO1xuXG4gICAgICAgICAgICAgICAgX3RoaXMzLmJhc2VGaWx0ZXJzID0ge1xuICAgICAgICAgICAgICAgICAgICBGaXRtZW50UmVzb3VyY2VUeXBlczogWzIgLyogQW5nbGVkICovXG4gICAgICAgICAgICAgICAgICAgICwgMyAvKiBDYXRhbG9nICovXG4gICAgICAgICAgICAgICAgICAgICwgMSAvKiBTaWRlICovXG4gICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIF90aGlzMy5maWx0ZXJPcHRpb25zID0gW1xuICAgICAgICAgICAgICAgIC8vIEJyYW5kXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdicmFuZHMnKSxcbiAgICAgICAgICAgICAgICAgICAgdW5zZWxlY3RlZE9wdGlvbkxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2FsbC1icmFuZHMnKSxcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnd2hlZWwtYnJhbmQnLFxuICAgICAgICAgICAgICAgICAgICByZXRyaWV2ZU9wdGlvbnM6IGZ1bmN0aW9uIHJldHJpZXZlT3B0aW9ucyhnbG9iYWxGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXF1ZXN0IEJyYW5kc1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KCd3aGVlbC9nZXRicmFuZHMnLCBnbG9iYWxGaWx0ZXJzKSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFwIGJyYW5kcyB0byBJRmlsdGVyT3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuQXJyYXlIZWxwZXIubWFwKHJlc3BvbnNlLkJyYW5kcywgZnVuY3Rpb24gKGJyYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogYnJhbmQuV2hlZWxCcmFuZE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYnJhbmQuV2hlZWxCcmFuZElEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0VmFsdWVGcm9tRmlsdGVyczogZnVuY3Rpb24gZ2V0VmFsdWVGcm9tRmlsdGVycyhmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVycy5XaGVlbEJyYW5kO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkoZmlsdGVycywgd2hlZWxCcmFuZElEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzLldoZWVsQnJhbmQgPSB3aGVlbEJyYW5kSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIEZpbmlzaFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnZmluaXNoZXMnKSxcbiAgICAgICAgICAgICAgICAgICAgdW5zZWxlY3RlZE9wdGlvbkxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2FsbC1maW5pc2hlcycpLFxuICAgICAgICAgICAgICAgICAgICBrZXk6ICd3aGVlbC1maW5pc2gnLFxuICAgICAgICAgICAgICAgICAgICByZXRyaWV2ZU9wdGlvbnM6IGZ1bmN0aW9uIHJldHJpZXZlT3B0aW9ucyhnbG9iYWxGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXF1ZXN0IGZpbmlzaGVzXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoJ3doZWVsL2dldGZpbmlzaGVzJywgZ2xvYmFsRmlsdGVycyksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcCBmaW5pc2hlcyB0byBJRmlsdGVyT3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuQXJyYXlIZWxwZXIubWFwKHJlc3BvbnNlLkZpbmlzaGVzLCBmdW5jdGlvbiAoZmluaXNoQ2F0ZWdvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBmaW5pc2hDYXRlZ29yeS5XaGVlbEZpbmlzaENhdGVnb3J5TmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBmaW5pc2hDYXRlZ29yeS5XaGVlbEZpbmlzaENhdGVnb3J5SURcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBnZXRWYWx1ZUZyb21GaWx0ZXJzOiBmdW5jdGlvbiBnZXRWYWx1ZUZyb21GaWx0ZXJzKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaWx0ZXJzLldoZWVsRmluaXNoQ2F0ZWdvcnk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFwcGx5OiBmdW5jdGlvbiBhcHBseShmaWx0ZXJzLCB3aGVlbEZpbmlzaENhdGVnb3J5SUQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnMuV2hlZWxGaW5pc2hDYXRlZ29yeSA9IHdoZWVsRmluaXNoQ2F0ZWdvcnlJRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gRGlhbWV0ZXJcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3NpemVzJyksXG4gICAgICAgICAgICAgICAgICAgIHVuc2VsZWN0ZWRPcHRpb25MYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdhbGwtc2l6ZXMnKSxcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnd2hlZWwtc2l6ZScsXG4gICAgICAgICAgICAgICAgICAgIHJldHJpZXZlT3B0aW9uczogZnVuY3Rpb24gcmV0cmlldmVPcHRpb25zKGdsb2JhbEZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlcXVlc3QgZGlhbWV0ZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoJ3doZWVsL2dldGRpYW1ldGVycycsIGdsb2JhbEZpbHRlcnMpLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXAgZGlhbWV0ZXJzIHRvIElGaWx0ZXJPcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlci5tYXAocmVzcG9uc2UuRGlhbWV0ZXJzLCBmdW5jdGlvbiAoZGlhbWV0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBkaWFtZXRlci50b1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGRpYW1ldGVyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0VmFsdWVGcm9tRmlsdGVyczogZnVuY3Rpb24gZ2V0VmFsdWVGcm9tRmlsdGVycyhmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZ2V0Rml0bWVudEZpbHRlclZhbHVlKGZpbHRlcnMsICdEaWFtZXRlcicpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkoZmlsdGVycywgZGlhbWV0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZmlsdGVycy5GaXRtZW50RmlsdGVycykgZmlsdGVycy5GaXRtZW50RmlsdGVycyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBwbHlGaXRtZW50RmlsdGVyKGZpbHRlcnMsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBEaWFtZXRlcjogZGlhbWV0ZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKFdoZWVsRmlsdGVyUHJvdmlkZXIsIFt7XG4gICAgICAgICAgICAgICAga2V5OiAnZ2V0Q291bnQnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb3VudChmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdChcIndoZWVsL2NvdW50bW9kZWxzXCIsIGZpbHRlcnMpLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gV2hlZWxGaWx0ZXJQcm92aWRlcjtcbiAgICAgICAgfShGaWx0ZXJQcm92aWRlcik7XG5cbiAgICAgICAgZmlsdGVyc18xLldoZWVsRmlsdGVyUHJvdmlkZXIgPSBXaGVlbEZpbHRlclByb3ZpZGVyO1xuICAgICAgICBmdW5jdGlvbiBnZXRGaXRtZW50RmlsdGVyVmFsdWUoZmlsdGVycywga2V5KSB7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yNCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gKGZpbHRlcnMuRml0bWVudEZpbHRlcnMgfHwgW10pW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA0OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gKF9zdGVwNCA9IF9pdGVyYXRvcjQubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXRtZW50RmlsdGVyID0gX3N0ZXA0LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChmaXRtZW50RmlsdGVyLkdyb3VwS2V5ID09PSBmaXRtZW50RmlsdGVyR3JvdXBLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmaXRtZW50RmlsdGVyW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNCA9IGVycjtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCAmJiBfaXRlcmF0b3I0LnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZml0bWVudEZpbHRlckdyb3VwS2V5ID0gXCJyaWRlc3R5bGVyLXNob3djYXNlLWZpbHRlcnNcIjtcbiAgICAgICAgZnVuY3Rpb24gYXBwbHlGaXRtZW50RmlsdGVyKGZpbHRlcnMsIGZpdG1lbnRGaWx0ZXIpIHtcbiAgICAgICAgICAgIHZhciBmaXRtZW50RmlsdGVycyA9IGZpbHRlcnMuRml0bWVudEZpbHRlcnMgfHwgW107XG4gICAgICAgICAgICB2YXIgZXhpc3RpbmdGaXRtZW50RmlsdGVyR3JvdXAgPSB2b2lkIDA7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNSA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yNSA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I1ID0gZml0bWVudEZpbHRlcnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDU7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSAoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFwcGxpZWRGaXRtZW50RmlsdGVyID0gX3N0ZXA1LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChhcHBsaWVkRml0bWVudEZpbHRlci5Hcm91cEtleSA9PT0gZml0bWVudEZpbHRlckdyb3VwS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0ZpdG1lbnRGaWx0ZXJHcm91cCA9IGFwcGxpZWRGaXRtZW50RmlsdGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNSA9IGVycjtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSAmJiBfaXRlcmF0b3I1LnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNS5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFleGlzdGluZ0ZpdG1lbnRGaWx0ZXJHcm91cCkge1xuICAgICAgICAgICAgICAgIGZpdG1lbnRGaWx0ZXIuR3JvdXBLZXkgPSBmaXRtZW50RmlsdGVyR3JvdXBLZXk7XG4gICAgICAgICAgICAgICAgZml0bWVudEZpbHRlcnMucHVzaChmaXRtZW50RmlsdGVyKTtcbiAgICAgICAgICAgICAgICAvLyBXZSd2ZSBtb2RpZmllZCB0aGUgYXJyYXkgc28gdXBkYXRlIHRoZSBhcnJheSBpbiB0aGUgZmlsdGVyc1xuICAgICAgICAgICAgICAgIGZpbHRlcnMuRml0bWVudEZpbHRlcnMgPSBmaXRtZW50RmlsdGVycztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24oZXhpc3RpbmdGaXRtZW50RmlsdGVyR3JvdXAsIGZpdG1lbnRGaWx0ZXIpO1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nRml0bWVudEZpbHRlckdyb3VwLkdyb3VwS2V5ID0gZml0bWVudEZpbHRlckdyb3VwS2V5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSkoZmlsdGVycyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5maWx0ZXJzIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuZmlsdGVycyA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIFN0YXRlcyA9IHZvaWQgMDtcbiAgICAoZnVuY3Rpb24gKFN0YXRlcykge1xuICAgICAgICBTdGF0ZXNbU3RhdGVzW1wiQ2hvb3NlVmVoaWNsZVwiXSA9IDBdID0gXCJDaG9vc2VWZWhpY2xlXCI7XG4gICAgICAgIFN0YXRlc1tTdGF0ZXNbXCJWaXN1YWxpemVcIl0gPSAxXSA9IFwiVmlzdWFsaXplXCI7XG4gICAgfSkoU3RhdGVzID0gUmlkZVN0eWxlclNob3djYXNlLlN0YXRlcyB8fCAoUmlkZVN0eWxlclNob3djYXNlLlN0YXRlcyA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBzdGF0ZTtcbiAgICAoZnVuY3Rpb24gKHN0YXRlXzEpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgcmVnaXN0ZXIgaG9sZGluZyB0aGUgZXhpdC9lbnRlciBjYWxsYmFja3MgZm9yIGEgc3BlY2lmaWMgc3RhdGVcbiAgICAgICAgICovXG4gICAgICAgIHZhciBTdGF0ZUNhbGxiYWNrUmVnaXN0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBTdGF0ZUNhbGxiYWNrUmVnaXN0ZXIoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RhdGVDYWxsYmFja1JlZ2lzdGVyKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgICAgICAgICB0aGlzLmV4aXRDYWxsYmFja3MgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLmVudGVyQ2FsbGJhY2tzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFRyaWdnZXIgYWxsIG9mIHRoZSBleGl0IGNhbGxiYWNrcyBmb3IgdGhpcyBzdGF0ZS4gSWYgYSBjYWxsYmFjayByZXR1cm5zIGZhbHNlLFxuICAgICAgICAgICAgICogc2tpcCB0cmlnZ2VyaW5nIHRoZSByZW1haW5pbmcgY2FsbGJhY2tzIGFuZCByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoU3RhdGVDYWxsYmFja1JlZ2lzdGVyLCBbe1xuICAgICAgICAgICAgICAgIGtleTogXCJ0cmlnZ2VyRXhpdENhbGxiYWNrc1wiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0cmlnZ2VyRXhpdENhbGxiYWNrcyhjdXJyZW50U3RhdGUsIG5ld1N0YXRlLCBuZXdEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdGhpcy5leGl0Q2FsbGJhY2tzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBleGl0Q2FsbGJhY2sgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChleGl0Q2FsbGJhY2soY3VycmVudFN0YXRlLCBuZXdTdGF0ZSwgbmV3RGF0YSkgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVHJpZ2dlciBhbGwgb2YgdGhlIGVudGVyIGNhbGxiYWNrcyBmb3IgdGhpcyBzdGF0ZS4gSWYgYSBjYWxsYmFjayByZXR1cm5zIGZhbHNlLFxuICAgICAgICAgICAgICAgICAqIHNraXAgdHJpZ2dlcmluZyB0aGUgcmVtYWluaW5nIGNhbGxiYWNrcyBhbmQgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcInRyaWdnZXJFbnRlckNhbGxiYWNrc1wiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0cmlnZ2VyRW50ZXJDYWxsYmFja3Mob2xkU3RhdGUsIGN1cnJlbnRTdGF0ZSwgbmV3RGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSB0aGlzLmVudGVyQ2FsbGJhY2tzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVudGVyQ2FsbGJhY2sgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50ZXJDYWxsYmFjayhvbGRTdGF0ZSwgY3VycmVudFN0YXRlLCBuZXdEYXRhKSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBTdGF0ZUNhbGxiYWNrUmVnaXN0ZXI7XG4gICAgICAgIH0oKTtcblxuICAgICAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlU3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VTdGF0ZShpbml0aWFsU3RhdGUpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlU3RhdGUpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVDb25maWd1cmF0aW9uSUQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB2ZWhpY2xlSGFzQW5nbGVkSW1hZ2U6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgdmVoaWNsZUhhc1NpZGVJbWFnZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVoaWNsZVRpcmVPcHRpb25EZXNjcmlwdGlvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVoaWNsZVRpcmVPcHRpb25JRDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFpbnRTY2hlbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRpcmU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFdoZWVsOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRXaGVlbEZpdG1lbnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRpcmVPcHRpb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbk1vZGVsOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEEgZGljdGlvbmFyeSBvZiBTdGF0ZXMgdG8gU3RhdGVDYWxsYmFja1JlZ2lzdGVyc1xuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzID0ge307XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU3RhdGUgY2hhbmdlZCBjYWxsYmFja3NcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUNhbGxiYWNrcyA9IFtdO1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIERhdGEgY2hhbmdlZCBjYWxsYmFja3NcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFDaGFuZ2VkQ2FsbGJhY2tzID0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VTdGF0ZSwgW3tcbiAgICAgICAgICAgICAgICBrZXk6IFwiZ2V0RGF0YVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXREYXRhKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50RGF0YTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcInNldERhdGFcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RGF0YShuZXdEYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBiZWZvcmVDYWxsYmFja3MgPSBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFmdGVyQ2FsbGJhY2tzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IHRoaXMuZGF0YUNoYW5nZWRDYWxsYmFja3NbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YUNoYW5nZWRDYWxsYmFjayA9IF9zdGVwMy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBkYXRhQ2hhbmdlZENhbGxiYWNrLmNhbGxiYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZWZvcmUgPSBkYXRhQ2hhbmdlZENhbGxiYWNrLmJlZm9yZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiZWZvcmUpIGJlZm9yZUNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtlbHNlIGFmdGVyQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yNCA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNCA9IGJlZm9yZUNhbGxiYWNrc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IChfc3RlcDQgPSBfaXRlcmF0b3I0Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IF9zdGVwNC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKG5ld0RhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yNCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjQgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgJiYgX2l0ZXJhdG9yNC5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNC5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudERhdGEgPSBuZXdEYXRhO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I1ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjUgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjUgPSBhZnRlckNhbGxiYWNrc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNTsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IChfc3RlcDUgPSBfaXRlcmF0b3I1Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfY2FsbGJhY2sgPSBfc3RlcDUudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY2FsbGJhY2sodGhpcy5jdXJyZW50RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I1ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNSA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSAmJiBfaXRlcmF0b3I1LnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I1LnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJleHRlbmREYXRhXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGV4dGVuZERhdGEoZGF0YUV4dGVuc2lvbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGFzQ2hhbmdlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3RGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudERhdGEgPSB0aGlzLmN1cnJlbnREYXRhO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gY3VycmVudERhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RGF0YS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZSA9IGN1cnJlbnREYXRhW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld1ZhbHVlID0gZGF0YUV4dGVuc2lvbltrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkgaW4gZGF0YUV4dGVuc2lvbiAmJiBjdXJyZW50VmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdEYXRhW2tleV0gPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuZXdEYXRhW2tleV0gPSBjdXJyZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYXNDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldERhdGEobmV3RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmV0dXJucyBhbiBleGl0aW5nIGNhbGxiYWNrIHJlZ2lzdGVyIGZvciB0aGUgc3BlY2lmaWVkIHN0YXRlIG9yIGNyZWF0ZXNcbiAgICAgICAgICAgICAgICAgKiBhIG5ldyBvbmVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gc3RhdGUgVGhlIHN0YXRlIHRvIHJldHVybiBhIGNhbGxiYWNrIHJlZ2lzdGVyIGZvclxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImNhbGxiYWNrc0ZvclN0YXRlXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGxiYWNrc0ZvclN0YXRlKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZSBpbiB0aGlzLmNhbGxiYWNrcykgcmV0dXJuIHRoaXMuY2FsbGJhY2tzW3N0YXRlXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY2FsbGJhY2tzW3N0YXRlXSA9IG5ldyBTdGF0ZUNhbGxiYWNrUmVnaXN0ZXIoc3RhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZWdpc3RlciBhIGNhbGxiYWNrIHRoYXQgaXMgdHJpZ2dlcmVkIHdoZW4gZXhpdGluZyBhIHNwZWNpZmljIHN0YXRlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHN0YXRlIFRoZSBzdGF0ZSB0byByZWdpc3RlciBhIGV4aXQgY2FsbGJhY2sgZm9yXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBleGVjdXRlIHdoZW4gZXhpdGluZyB0aGUgc3RhdGVcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJvbkV4aXRcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25FeGl0KHN0YXRlLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrc0ZvclN0YXRlKHN0YXRlKS5leGl0Q2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZWdpc3RlciBhIGNhbGxiYWNrIHRoYXQgaXMgdHJpZ2dlcmVkIHdoZW4gZW50ZXJpbmcgYSBzcGVjaWZpYyBzdGF0ZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBzdGF0ZSBUaGUgc3RhdGUgdG8gcmVnaXN0ZXIgYW4gZW50ZXIgY2FsbGJhY2sgZm9yXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBleGVjdXRlIHdoZW4gZW50ZXJpbmcgdGhlIHN0YXRlXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwib25FbnRlclwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkVudGVyKHN0YXRlLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrc0ZvclN0YXRlKHN0YXRlKS5lbnRlckNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmVnaXN0ZXIgYSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIHN0YXRlIGhhcyBiZWVuIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIHJ1blxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIm9uQ2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2hhbmdlKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZWdpc3RlciBhIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCBiZWZvcmUgdGhlIHN0YXRlIGRhdGEgaGFzIGJlZW4gY2hhbmdlZC5cbiAgICAgICAgICAgICAgICAgKiBUaGlzIGFsbG93cyBjYWxsYmFjayBmdW5jdGlvbnMgdG8gbW9kaWZ5IHRoZSBkYXRhIGJlZm9yZSBpdCdzIHNlbnQgdG8gb3RoZXIgY2FsbGJhY2tzLlxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gcnVuXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiYmVmb3JlRGF0YUNoYW5nZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBiZWZvcmVEYXRhQ2hhbmdlKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5nZWRDYWxsYmFja3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJlZ2lzdGVyIGEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGFmdGVyIHRoZSBzdGF0ZSBkYXRhIGhhcyBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBydW5cbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJhZnRlckRhdGFDaGFuZ2VcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWZ0ZXJEYXRhQ2hhbmdlKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YUNoYW5nZWRDYWxsYmFja3MucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICBiZWZvcmU6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiY2hhbmdlU3RhdGVcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2hhbmdlU3RhdGUobmV3U3RhdGUsIG5ld0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFN0YXRlID09PSBuZXdTdGF0ZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXNTdGF0ZSA9IHRoaXMuY3VycmVudFN0YXRlO1xuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgb3VyIHN0YXRlIGRhdGFcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0RhdGEpIHRoaXMuc2V0RGF0YShuZXdEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlQ2hhbmdlZEV2ZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2xkU3RhdGU6IHByZXZpb3VzU3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZTogbmV3U3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdEYXRhOiB0aGlzLmN1cnJlbnREYXRhXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5kZWJ1Z0NhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB0aGlzLmRlYnVnQ2FsbGJhY2soc3RhdGVDaGFuZ2VkRXZlbnQsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciB0aGUgc3RhdGUtY2hhbmdlZCBldmVudCwgY2FuY2VsIHN0YXRlIGNoYW5nZSBpZiBjYW5jZWxsZWRcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I2ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I2ID0gdGhpcy5jaGFuZ2VDYWxsYmFja3NbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDY7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgPSAoX3N0ZXA2ID0gX2l0ZXJhdG9yNi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBfc3RlcDYudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWNhbGxiYWNrKHN0YXRlQ2hhbmdlZEV2ZW50KSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBleGl0IGNhbGxiYWNrc1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yNiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjYgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgJiYgX2l0ZXJhdG9yNi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I2O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbGxiYWNrc0ZvclN0YXRlKHByZXZpb3VzU3RhdGUpLnRyaWdnZXJFeGl0Q2FsbGJhY2tzKHByZXZpb3VzU3RhdGUsIG5ld1N0YXRlLCB0aGlzLmN1cnJlbnREYXRhKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE9uZSBvZiB0aGUgZXhpdCBjYWxsYmFja3MgY2FuY2VsZWQgdGhlIHN0YXRlIGNoYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgZW50ZXIgY2FsbGJhY2tzXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNhbGxiYWNrc0ZvclN0YXRlKG5ld1N0YXRlKS50cmlnZ2VyRW50ZXJDYWxsYmFja3MocHJldmlvdXNTdGF0ZSwgbmV3U3RhdGUsIHRoaXMuY3VycmVudERhdGEpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25lIG9mIHRoZSBlbnRlciBjYWxsYmFja3MgY2FuY2VsZWQgdGhlIHN0YXRlIGNoYW5nZVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5kZWJ1Z0NhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB0aGlzLmRlYnVnQ2FsbGJhY2soc3RhdGVDaGFuZ2VkRXZlbnQsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAvLyBBbGwgb2YgdGhlIGNhbGxiYWNrcyBoYXZlIGJlZW4gcmFuLCBjaGFuZ2UgdGhlIHN0YXRlXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gbmV3U3RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlU3RhdGU7XG4gICAgICAgIH0oKTtcblxuICAgICAgICBzdGF0ZV8xLlJpZGVTdHlsZXJTaG93Y2FzZVN0YXRlID0gUmlkZVN0eWxlclNob3djYXNlU3RhdGU7XG4gICAgfSkoc3RhdGUgPSBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RhdGUgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5zdGF0ZSA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGRlZmF1bHRMYW5ndWFnZUZvcm1hdFByb3ZpZGVyID0ge1xuICAgICAgICBjdXJyZW5jeTogZnVuY3Rpb24gY3VycmVuY3kobnVtYmVyLCBzeW1ib2wpIHtcbiAgICAgICAgICAgIHJldHVybiBzeW1ib2wgKyAoK251bWJlci50b0ZpeGVkKDIpKS50b0xvY2FsZVN0cmluZygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgYWNjZXB0YWJsZSBsYW5ndWFnZXNcbiAgICAgKi9cbiAgICB2YXIgTGFuZ3VhZ2VLZXlzID0gdm9pZCAwO1xuICAgIChmdW5jdGlvbiAoTGFuZ3VhZ2VLZXlzKSB7XG4gICAgICAgIExhbmd1YWdlS2V5c1tMYW5ndWFnZUtleXNbXCJFblwiXSA9IDBdID0gXCJFblwiO1xuICAgIH0pKExhbmd1YWdlS2V5cyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5MYW5ndWFnZUtleXMgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5MYW5ndWFnZUtleXMgPSB7fSkpO1xuICAgIC8qKlxuICAgICAqIEFuIGludGVybmFsIHN0cnVjdHVyZSBmb3IgaG9sZGluZyBsYW5ndWFnZSBkYXRhXG4gICAgICovXG5cbiAgICB2YXIgTGFuZ3VhZ2VSZWdpc3RlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIHJlZ2lzdGVyIGZvciBhIGxhbmd1YWdlXG4gICAgICAgICAqIEBwYXJhbSBsYW5ndWFnZSBUaGUgbGFuZ3VhZ2UgZGVmaW5pdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gTGFuZ3VhZ2VSZWdpc3RlcihsYW5ndWFnZSkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExhbmd1YWdlUmVnaXN0ZXIpO1xuXG4gICAgICAgICAgICB0aGlzLmxhbmd1YWdlID0gbGFuZ3VhZ2U7XG4gICAgICAgICAgICB0aGlzLmZvcm1hdCA9IGxhbmd1YWdlLmZvcm1hdDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGEga2V5IGZyb20gdGhlIGxhbmd1YWdlIGRpY3Rpb25hcnlcbiAgICAgICAgICogQHBhcmFtIGtleSBUaGUgc3RyaW5nIGtleVxuICAgICAgICAgKi9cblxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhMYW5ndWFnZVJlZ2lzdGVyLCBbe1xuICAgICAgICAgICAga2V5OiBcImdldFN0cmluZ1wiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFN0cmluZyhrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sYW5ndWFnZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIExhbmd1YWdlUmVnaXN0ZXI7XG4gICAgfSgpO1xuICAgIC8qKlxuICAgICAqIFRoZSBkZWZhdWx0IGxhbmd1YWdlIHRvIHVzZSBpZiBvbmUgaXMgbm90IHByb3ZpZGVkIHRvIGdldFN0cmluZ3NcbiAgICAgKi9cblxuXG4gICAgdmFyIGRlZmF1bHRMYW5ndWFnZSA9IHZvaWQgMDtcbiAgICAvKipcbiAgICAgKiBBbiBpbnRlcm5hbCBsaXN0IG9mIGFsbCByZWdpc3RlcmVkIGxhbmd1YWdlcyBhbmQgdGhlaXIgc3RyaW5nc1xuICAgICAqL1xuICAgIHZhciBsYW5ndWFnZVJlZ2lzdGVycyA9IHt9O1xuICAgIHZhciBzdHJpbmdzID0gdm9pZCAwO1xuICAgIChmdW5jdGlvbiAoc3RyaW5ncykge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVnaXN0ZXIgYSBsYW5ndWFnZSB0byBiZSB1c2VkIGluIHRoZSBzaG93Y2FzZVxuICAgICAgICAgKiBAcGFyYW0gbGFuZ3VhZ2VLZXkgVGhlIGtleSBvZiB0aGUgbGFuZ3VhZ2UgeW91IGFyZSByZWdpc3RlcmluZ1xuICAgICAgICAgKiBAcGFyYW0gbGFuZ3VhZ2UgVGhlIGxhbmd1YWdlIHByb3ZpZGVyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiByZWdpc3Rlckxhbmd1YWdlKGxhbmd1YWdlS2V5LCBsYW5ndWFnZSwgc2V0QXNEZWZhdWx0KSB7XG4gICAgICAgICAgICAvLyBTZXQgZGVmYXVsdCBmb3JtYXQgcHJvdmlkZXJcbiAgICAgICAgICAgIGlmICghbGFuZ3VhZ2UuZm9ybWF0KSBsYW5ndWFnZS5mb3JtYXQgPSBkZWZhdWx0TGFuZ3VhZ2VGb3JtYXRQcm92aWRlcjtlbHNlIGZvciAodmFyIGtleSBpbiBkZWZhdWx0TGFuZ3VhZ2VGb3JtYXRQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBkZWZhdWx0TGFuZ3VhZ2VQcm92aWRlciBoYXMgYSBmb3JtYXQgZnVuY3Rpb24gdGhhdCBpcyBtaXNzaW5nIG9uIHRoZSBsYW5ndWFnZSdzIGZvcm1hdCBwcm92aWRlcixcbiAgICAgICAgICAgICAgICAvLyBpbXBsZW1lbnQgaXQgaW4gdGhlIGxhbmd1YWdlJ3MgZm9ybWF0IHByb3ZpZGVyXG4gICAgICAgICAgICAgICAgaWYgKGRlZmF1bHRMYW5ndWFnZUZvcm1hdFByb3ZpZGVyLmhhc093blByb3BlcnR5KGtleSkgJiYga2V5IGluIGxhbmd1YWdlLmZvcm1hdCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgbGFuZ3VhZ2UuZm9ybWF0W2tleV0gPSBkZWZhdWx0TGFuZ3VhZ2VGb3JtYXRQcm92aWRlcltrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBsYW5ndWFnZVJlZ2lzdGVyID0gbGFuZ3VhZ2VSZWdpc3RlcnNbbGFuZ3VhZ2VLZXldID0gbmV3IExhbmd1YWdlUmVnaXN0ZXIobGFuZ3VhZ2UpO1xuICAgICAgICAgICAgaWYgKHNldEFzRGVmYXVsdCB8fCAhZGVmYXVsdExhbmd1YWdlKSBkZWZhdWx0TGFuZ3VhZ2UgPSBsYW5ndWFnZVJlZ2lzdGVyO1xuICAgICAgICB9XG4gICAgICAgIHN0cmluZ3MucmVnaXN0ZXJMYW5ndWFnZSA9IHJlZ2lzdGVyTGFuZ3VhZ2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgYSBsYW5ndWFnZSB0byBiZSB1c2VkIGJ5IGRlZmF1bHQsIHdoZW4gbm8ga2V5IGlzIHBhc3NlZCBpbnRvIGdldFN0cmluZ3NcbiAgICAgICAgICogQHBhcmFtIGxhbmd1YWdlS2V5IFRoZSBsYW5ndWFnZSBrZXkgdG8gdXNlIGJ5IGRlZmF1bHRcbiAgICAgICAgICogQHJldHVybnMgdHJ1ZSwgaWYgdGhlIGxhbmd1YWdlIGlzIHJlZ2lzdGVyZWQgYW5kIHNldCBhcyBkZWZhdWx0OyBvdGhlcndpc2UgZmFsc2VcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHNldERlZmF1bHRMYW5ndWFnZShsYW5ndWFnZUtleSkge1xuICAgICAgICAgICAgaWYgKGxhbmd1YWdlS2V5IGluIGxhbmd1YWdlUmVnaXN0ZXJzKSB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdExhbmd1YWdlID0gbGFuZ3VhZ2VSZWdpc3RlcnNbbGFuZ3VhZ2VLZXldO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHN0cmluZ3Muc2V0RGVmYXVsdExhbmd1YWdlID0gc2V0RGVmYXVsdExhbmd1YWdlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGVsbHMgeW91IHdoZXRoZXIgb3Igbm90IGEgbGFuZ3VhZ2UgaXMgcmVnaXN0ZXJlZFxuICAgICAgICAgKiBAcGFyYW0gbGFuZ3VhZ2VLZXkgVGhlIGtleSBmb3IgdGhlIGxhbmd1YWdlXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBsYW5ndWFnZUlzUmVnaXN0ZXJlZChsYW5ndWFnZUtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGxhbmd1YWdlS2V5IGluIGxhbmd1YWdlUmVnaXN0ZXJzO1xuICAgICAgICB9XG4gICAgICAgIHN0cmluZ3MubGFuZ3VhZ2VJc1JlZ2lzdGVyZWQgPSBsYW5ndWFnZUlzUmVnaXN0ZXJlZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIHNwZWNpZmllZCBsYW5ndWFnZSwgb3IgdGhlIGRlZmF1bHQgbGFuZ3VhZ2UgaWYgaXQgY291bGQgbm90IGJlIGZvdW5kXG4gICAgICAgICAqIEBwYXJhbSBsYW5ndWFnZUtleSBUaGUga2V5IG9mIHRoZSBsYW5ndWFnZSB0byByZXRyaWV2ZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0TGFuZ3VhZ2UobGFuZ3VhZ2VLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBsYW5ndWFnZUtleSBpbiBsYW5ndWFnZVJlZ2lzdGVycyA/IGxhbmd1YWdlUmVnaXN0ZXJzW2xhbmd1YWdlS2V5XSA6IGRlZmF1bHRMYW5ndWFnZTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGEgc3RyaW5nIGZyb20gdGhlIHJlZ2lzdGVyZWQgc3RyaW5nc1xuICAgICAgICAgKiBAcGFyYW0ga2V5IFRoZSBzdHJpbmcga2V5IHRvIHJldHVybiBhIHN0cmluZyBmb3JcbiAgICAgICAgICogQHBhcmFtIGxhbmd1YWdlS2V5IFRoZSBsYW5ndWFnZSB5b3Ugd2FudCB0byB1c2VcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldFN0cmluZyhrZXksIGxhbmd1YWdlS2V5KSB7XG4gICAgICAgICAgICB2YXIgbGFuZ3VhZ2VSZWdpc3RlciA9IGdldExhbmd1YWdlKGxhbmd1YWdlS2V5KTtcbiAgICAgICAgICAgIHZhciBzdHJpbmcgPSB2b2lkIDA7XG4gICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgbGFuZ3VhZ2UsIG9yIGNvdWxkIG5vdCBnZXQgdGhlIHN0cmluZyBmcm9tIHRoZSByZWdpc3RlciBcbiAgICAgICAgICAgIGlmICghKHN0cmluZyA9IGxhbmd1YWdlUmVnaXN0ZXIuZ2V0U3RyaW5nKGtleSkpKSByZXR1cm4ga2V5O1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgICAgfVxuICAgICAgICBzdHJpbmdzLmdldFN0cmluZyA9IGdldFN0cmluZztcbiAgICAgICAgZnVuY3Rpb24gZm9ybWF0KGxhbmd1YWdlS2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0TGFuZ3VhZ2UobGFuZ3VhZ2VLZXkpLmZvcm1hdDtcbiAgICAgICAgfVxuICAgICAgICBzdHJpbmdzLmZvcm1hdCA9IGZvcm1hdDtcbiAgICB9KShzdHJpbmdzID0gUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgc3R5bGVzO1xuICAgIChmdW5jdGlvbiAoc3R5bGVzKSB7XG4gICAgICAgIHZhciB3aWR0aEJyZWFrcG9pbnRzID0gW1sncGhvbmUtcG9ydHJhaXQnLCAzMTldLCBbJ3Bob25lLWxhbmRzY2FwZScsIDQyMF0sIFsndGFibGV0JywgNzY4XSwgWydkZXNrdG9wJywgOTkyXSwgWydkZXNrdG9wLXhsJywgMTIwMF0sIFsndHYnLCAxNjAwXV07XG5cbiAgICAgICAgdmFyIFN0eWxlTWFuYWdlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIFN0eWxlTWFuYWdlcihlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0eWxlTWFuYWdlcik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQgPSByaWRlc3R5bGVyLnByb21pc2UoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVCcmVha3BvaW50cygpO1xuICAgICAgICAgICAgICAgIHRoaXMud2F0Y2hTaXplKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplQ1NTKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlT25ET01Mb2FkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplU3R5bGVDbGFzc2VzKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhTdHlsZU1hbmFnZXIsIFt7XG4gICAgICAgICAgICAgICAga2V5OiAncmVzb2x2ZU9uRE9NTG9hZCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc29sdmVPbkRPTUxvYWQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBET00gaXMgYWxyZWFkeSBsb2FkZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBET00gdG8gbG9hZFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5pbml0aWFsaXplZC5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogTG9hZCB0aGUgQ1NTIGZyb20ge0BsaW5rIFJpZGVTdHlsZXJTaG93Y2FzZS5jc3N9IGludG8gdGhlIGZpcnN0IEhFQUQgZWxlbWVudFxuICAgICAgICAgICAgICAgICAqIGZvdW5kIGluIHRoZSBkb2N1bWVudCBvZiB0aGUgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplQ1NTJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNTUygpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIuaXNPZmZzZXRQb3NpdGlvbmVkKHRoaXMuZWxlbWVudCkpIHRoaXMuZWxlbWVudC5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gICAgICAgICAgICAgICAgICAgIGlmICgnY3NzJyBpbiBSaWRlU3R5bGVyU2hvd2Nhc2UgPT09IGZhbHNlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250YWluZXJEb2N1bWVudCA9IHRoaXMuZWxlbWVudC5vd25lckRvY3VtZW50O1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGVhZCA9IGNvbnRhaW5lckRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaGVhZFwiKS5pdGVtKDApO1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgSEVBRCBlbGVtZW50LCBjcmVhdGUgb25lIGFuZCBhZGQgaXQgdG8gdGhlIERPTVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWhlYWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoZWFkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXJEb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuaW5zZXJ0QmVmb3JlKGhlYWQsIGNvbnRhaW5lckRvY3VtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdHlsZXNoZWV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIG91ciBDU1MgdG8gdGhlIHN0eWxlc2hlZXRcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzaGVldC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShSaWRlU3R5bGVyU2hvd2Nhc2UuY3NzKSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgQ1NTIHRvIHRoZSBoZWFkZXIgYmVmb3JlIHRoZSBmaXJzdCBIRUFEIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgICAgaGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVzaGVldCwgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuZmlyc3RDaGlsZFdpdGhUYWcoaGVhZCwgXCJTVFlMRVwiKSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgQ1NTIGZyb20gb3VyIG9iamVjdCBzbyBpdCdzIG5vdCBzcGVjaWZpZWQgdHdpY2VcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIFJpZGVTdHlsZXJTaG93Y2FzZS5jc3M7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVTdHlsZUNsYXNzZXMnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplU3R5bGVDbGFzc2VzKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLmlzVG91Y2hEZXZpY2UpIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpcy10b3VjaCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplQnJlYWtwb2ludHMnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplQnJlYWtwb2ludHMoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBvdXIgYnJlYWtwb2ludHMgYXJlIHNvcnRlZFxuICAgICAgICAgICAgICAgICAgICB3aWR0aEJyZWFrcG9pbnRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhWzFdIC0gYlsxXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlCcmVha3BvaW50Q2xhc3NlcygpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRvY3VtZW50LnJlYWR5U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJsb2FkaW5nXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuZ2V0RG9jdW1lbnQodGhpcy5lbGVtZW50KS5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuYXBwbHlCcmVha3BvaW50Q2xhc3NlcygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImludGVyYWN0aXZlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuZ2V0V2luZG93KHRoaXMuZWxlbWVudCkuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmFwcGx5QnJlYWtwb2ludENsYXNzZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdyZXNpemUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXNpemUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlCcmVha3BvaW50Q2xhc3NlcygpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub25SZXNpemUgPT09ICdmdW5jdGlvbicpIHRoaXMub25SZXNpemUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAncmVzaXplZCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2l6ZWQoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vblJlc2l6ZWQgPT09ICdmdW5jdGlvbicpIHRoaXMub25SZXNpemVkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ2JyZWFrcG9pbnRDaGFuZ2VkJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnJlYWtwb2ludENoYW5nZWQobmV3QnJlYWtwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub25CcmVha3BvaW50Q2hhbmdlZCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5vbkJyZWFrcG9pbnRDaGFuZ2VkKG5ld0JyZWFrcG9pbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICd3YXRjaFNpemUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB3YXRjaFNpemUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGltZXIgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNpemVkRXZlbnREZWxheSA9IDIwMDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRTaXplID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGVsZW1lbnQuY2xpZW50V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGVsZW1lbnQuY2xpZW50SGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmdldFdpbmRvdyhlbGVtZW50KS5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3RWxlbWVudFNpemUgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGVsZW1lbnQuY2xpZW50V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBlbGVtZW50LmNsaWVudEhlaWdodFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuZXdFbGVtZW50U2l6ZS53aWR0aCAhPT0gZWxlbWVudFNpemUud2lkdGggfHwgbmV3RWxlbWVudFNpemUuaGVpZ2h0ICE9PSBlbGVtZW50U2l6ZS5oZWlnaHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZWxlbWVudCdzIHNpemUgaGFzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50U2l6ZSA9IG5ld0VsZW1lbnRTaXplO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5yZXNpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5yZXNpemVkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmVzaXplZEV2ZW50RGVsYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ2dldEN1cnJlbnRCcmVha3BvaW50JyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q3VycmVudEJyZWFrcG9pbnQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRCcmVha3BvaW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdhcHBseUJyZWFrcG9pbnRDbGFzc2VzJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYXBwbHlCcmVha3BvaW50Q2xhc3NlcygpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoZWlnaHQgPSBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpZHRoID0gZWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgcnVuIGlmIHdlIGRvbid0IGhhdmUgYSBoZWlnaHQgb3Igd2lkdGggeWV0XG4gICAgICAgICAgICAgICAgICAgIGlmICghaGVpZ2h0IHx8ICF3aWR0aCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3QnJlYWtwb2ludCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG5ldyBicmVha3BvaW50IGlzIHRoZSBuZXh0IGxvd2VzdCB2YWx1ZSBpbiB0aGUgYXJyYXlcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGkgPSB3aWR0aEJyZWFrcG9pbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpZHRoQnJlYWtwb2ludHNbaV1bMV0gPD0gd2lkdGgpIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfW5ld0JyZWFrcG9pbnQgPSBpID49IDAgPyB3aWR0aEJyZWFrcG9pbnRzW2ldIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjdXJyZW50IGJyZWFrcG9pbnQgaGFzbid0IGNoYW5nZWQsIGRvbid0IHJ1biB0aGUgcmVzdCBvZiB0aGlzIGxvZ2ljXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdCcmVha3BvaW50ID09PSB0aGlzLmN1cnJlbnRCcmVha3BvaW50KSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCBvdXIgY3VycmVudCBicmVha3BvaW50IHRvIHRoZSBuZXdseSBkZWZpbmVkIG9uZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRCcmVha3BvaW50ID0gbmV3QnJlYWtwb2ludDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9yaWdpbmFsQ2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBvcmlnaW5hbENsYXNzTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGFueSBicmVha3BvaW50IGNsYXNzZXMgZnJvbSB0aGUgZWxlbWVudCdzIGNsYXNzXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IGNsYXNzTmFtZS5yZXBsYWNlKC9cXGJyaWRlc3R5bGVyLXNob3djYXNlLWJyZWFrcG9pbnQtLis/KD89IHwkKS9naSwgXCJcIikudHJpbSgpO1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgaW4gdGhlIGJyZWFrcG9pbnQgY2xhc3MgaWYgd2UgaGF2ZSBvbmVcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0JyZWFrcG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZSArPSAnIHJpZGVzdHlsZXItc2hvd2Nhc2UtYnJlYWtwb2ludC0nICsgbmV3QnJlYWtwb2ludFswXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY2xhc3NOYW1lIGhhc24ndCBjaGFuZ2VkIGRvIG5vdGhpbmdcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNsYXNzTmFtZSA9PT0gb3JpZ2luYWxDbGFzc05hbWUpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnJlYWtwb2ludENoYW5nZWQobmV3QnJlYWtwb2ludCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gU3R5bGVNYW5hZ2VyO1xuICAgICAgICB9KCk7XG5cbiAgICAgICAgc3R5bGVzLlN0eWxlTWFuYWdlciA9IFN0eWxlTWFuYWdlcjtcbiAgICB9KShzdHlsZXMgPSBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3R5bGVzIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2Uuc3R5bGVzID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlSW5zdGFuY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZUluc3RhbmNlKGNvbnRhaW5lciwgc2V0dGluZ3MpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VJbnN0YW5jZSk7XG5cbiAgICAgICAgICAgIHRoaXMuYWN0aXZlTG9hZGluZ1Nlc3Npb25LZXlzID0gW107XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzID0gc2V0dGluZ3MgfHwge307XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLmRlYnVnID0gdGhpcy5zZXR0aW5ncy5kZWJ1ZyB8fCB7fTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5ldmVudHMuRXZlbnRIYW5kbGVyKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWJ1Zy5ldmVudHMgPT09IHRydWUpIHRoaXMuZXZlbnRzLmRlYnVnQ2FsbGJhY2sgPSBmdW5jdGlvbiAobmFtZSwgZSwgaGFuZGxlcnMpIHtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gJ3Jlc2l6ZScpIHJldHVybjtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1JpZGVTdHlsZXJTaG93Y2FzZSBFdmVudF0gTmFtZTonICsgbmFtZSArICcgRGF0YTonLCBlLCBoYW5kbGVycyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGFpbmVyID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRhaW5lcikgY29uc29sZS5lcnJvcignVGhlIElEIFwiJyArIGNvbnRhaW5lciArICdcIiBjb3VsZCBub3QgYmUgZm91bmQgaW4gdGhlIERPTS4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplKGNvbnRhaW5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZ2lzdGVyIHRoZSBtYWluIGNvbXBvbmVudHMgdXNlZCBieSB0aGUgc2hvd2Nhc2VcbiAgICAgICAgICovXG5cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlSW5zdGFuY2UsIFt7XG4gICAgICAgICAgICBrZXk6ICdyZWdpc3RlckNvbXBvbmVudHMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlZ2lzdGVyQ29tcG9uZW50cygpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRIYW5kbGVyID0gdGhpcy5ldmVudHM7XG4gICAgICAgICAgICAgICAgLy8gUmVnaXN0ZXIgb3RoZXIgY29tcG9uZW50cyB0byBiZSBkaXNwbGF5ZWRcbiAgICAgICAgICAgICAgICB0aGlzLm90aGVyQ29tcG9uZW50cyA9IFtuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQodGhpcyldO1xuICAgICAgICAgICAgICAgIC8vIFJlZ2lzdGVyIG91ciBtYXBwaW5nIG9mIHN0YXRlcyB0byBtYWluIGNvbXBvbmVudHNcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQ29tcG9uZW50TWFwcGluZyA9IHt9O1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVDb21wb25lbnRNYXBwaW5nW1JpZGVTdHlsZXJTaG93Y2FzZS5TdGF0ZXMuQ2hvb3NlVmVoaWNsZV0gPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb24odGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUNvbXBvbmVudE1hcHBpbmdbUmlkZVN0eWxlclNob3djYXNlLlN0YXRlcy5WaXN1YWxpemVdID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbih0aGlzKTtcbiAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBtYWluQ29tcG9uZW50cyBmcm9tIHRoZSBzdGF0ZUNvbXBvbmVudE1hcHBpbmdcbiAgICAgICAgICAgICAgICB0aGlzLm1haW5Db21wb25lbnRzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgc3RhdGUgaW4gdGhpcy5zdGF0ZUNvbXBvbmVudE1hcHBpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tYWluQ29tcG9uZW50cy5wdXNoKHRoaXMuc3RhdGVDb21wb25lbnRNYXBwaW5nW3N0YXRlXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXQgdGhlIGNvbnRhaW5lciBvZiB0aGlzIHNob3djYXNlIGluc3RhbmNlIGFuZCBpbml0aWFsaXplIChvciByZS1pbml0aWFsaXplKSBpdFxuICAgICAgICAgICAgICogQHBhcmFtIGNvbnRhaW5lciBUaGUgY29udGFpbmVyIHRvIGluaXRpYWxpemUgdGhpcyBzaG93Y2FzZSBpblxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZShjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFjb250YWluZXIpIHRocm93IFwiQ2Fubm90IGluaXRpYWxpemUgc2hvd2Nhc2Ugd2l0aG91dCBhIGNvbnRhaW5lciB0byBwdXQgaXQgaW4uXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbihjb250YWluZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgcmlkZXN0eWxlclNob3djYXNlOiB0aGlzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplU3RhdGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyQ29tcG9uZW50cygpO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkuaW5pdGlhbGl6ZSh0aGlzLnNldHRpbmdzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVTdHlsZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZUZpbHRlcnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVDb21wb25lbnRzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMub24oXCJ2ZWhpY2xlLXNlbGVjdGVkXCIsIGZ1bmN0aW9uIChzZWxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3RhdGUuY2hhbmdlU3RhdGUoUmlkZVN0eWxlclNob3djYXNlLlN0YXRlcy5WaXN1YWxpemUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZWhpY2xlQ29uZmlndXJhdGlvbklEOiBzZWxlY3Rpb24uVmVoaWNsZUNvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uOiBzZWxlY3Rpb24uVmVoaWNsZURlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVUaXJlT3B0aW9uSUQ6IHNlbGVjdGlvbi5UaXJlT3B0aW9uSUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVoaWNsZVRpcmVPcHRpb25EZXNjcmlwdGlvbjogc2VsZWN0aW9uLlRpcmVPcHRpb25TdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFpbnRTY2hlbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlaGljbGVIYXNBbmdsZWRJbWFnZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVoaWNsZUhhc1NpZGVJbWFnZTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRpcmU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRXaGVlbDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFdoZWVsRml0bWVudDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRpcmVPcHRpb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZWhpY2xlRGVzY3JpcHRpb25Nb2RlbDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgc2V0dGluZ3NSZXRyaWV2ZWQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkuYXV0aGVudGljYXRlZCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLmFwaS5zZXR0aW5ncy5nZXRTZXR0aW5ncygpLmRvbmUoZnVuY3Rpb24gKHNldHRpbmdzRnJvbUFQSSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2V0dGluZ3NGcm9tQVBJID0gc2V0dGluZ3NGcm9tQVBJO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci5hbGwoW3RoaXMuc3R5bGUuaW5pdGlhbGl6ZWQsIHNldHRpbmdzUmV0cmlldmVkXSkuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmV2ZW50cy50cmlnZ2VyKCdpbml0aWFsaXplZCcsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vblN0YXRlQ2hhbmdlZCh7XG4gICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlOiB0aGlzLnN0YXRlLmN1cnJlbnRTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgb2xkU3RhdGU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgbmV3RGF0YTogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVTdGF0ZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZVN0YXRlKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RhdGUuUmlkZVN0eWxlclNob3djYXNlU3RhdGUoUmlkZVN0eWxlclNob3djYXNlLlN0YXRlcy5DaG9vc2VWZWhpY2xlKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5kZWJ1Zy5zdGF0ZSA9PT0gdHJ1ZSkgdGhpcy5zdGF0ZS5kZWJ1Z0NhbGxiYWNrID0gZnVuY3Rpb24gKGUsIGZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaW5pc2hlZFN0cmluZyA9IGZpbmlzaGVkID8gJ0ZpbmlzaGVkJyA6ICdCZWdpbm5pbmcnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVDaGFuZ2UgPSBcInRvIFwiICsgUmlkZVN0eWxlclNob3djYXNlLlN0YXRlc1tlLm5ld1N0YXRlXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlLm9sZFN0YXRlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDaGFuZ2UgPSBcImZyb20gXCIgKyBSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzW2Uub2xkU3RhdGVdICsgXCIgXCIgKyBzdGF0ZUNoYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW1JpZGVTdHlsZXJTaG93Y2FzZSBTdGF0ZV0gJyArIHN0YXRlQ2hhbmdlICsgJyAnICsgZmluaXNoZWRTdHJpbmcsIGUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5vbkNoYW5nZShmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmV2ZW50cy50cmlnZ2VyKFwic3RhdGUtY2hhbmdlZFwiLCBlKSAmJiBfdGhpczIub25TdGF0ZUNoYW5nZWQoZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVTdHlsZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZVN0eWxlKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZSA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3R5bGVzLlN0eWxlTWFuYWdlcih0aGlzLmNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgdGhpcy5zdHlsZS5vblJlc2l6ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5ldmVudHMudHJpZ2dlcigncmVzaXplJywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGUub25SZXNpemVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmV2ZW50cy50cmlnZ2VyKCdyZXNpemVkJywgdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGUub25CcmVha3BvaW50Q2hhbmdlZCA9IGZ1bmN0aW9uIChuZXdCcmVha3BvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuZXZlbnRzLnRyaWdnZXIoJ2JyZWFrcG9pbnQtY2hhbmdlZCcsIG5ld0JyZWFrcG9pbnQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuY29udGFpbnMoJ3JpZGVzdHlsZXItc2hvd2Nhc2UnKSkgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmFkZCgncmlkZXN0eWxlci1zaG93Y2FzZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplRmlsdGVycycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUZpbHRlcnMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlcnMgPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLmZpbHRlcnMuRmlsdGVyQ29udHJvbGxlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uKFwidmVoaWNsZS1zZWxlY3RlZFwiLCBmdW5jdGlvbiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5maWx0ZXJzLnNldFZlaGljbGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVoaWNsZUNvbmZpZ3VyYXRpb25JRDogc2VsZWN0aW9uLlZlaGljbGVDb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmVoaWNsZVRpcmVPcHRpb25JRDogc2VsZWN0aW9uLlRpcmVPcHRpb25JRFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZUNvbXBvbmVudHMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVDb21wb25lbnRzKCkge1xuICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdGhpcy5vdGhlckNvbXBvbmVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29tcG9uZW50ID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjb21wb25lbnQuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSB0aGlzLm1haW5Db21wb25lbnRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2NvbXBvbmVudCA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2NvbXBvbmVudC5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChfY29tcG9uZW50LmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uU3RhdGVDaGFuZ2VkJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblN0YXRlQ2hhbmdlZChldikge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ3VycmVudENvbXBvbmVudChldik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZUN1cnJlbnRDb21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUN1cnJlbnRDb21wb25lbnQoZXYpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3Q29tcG9uZW50ID0gdGhpcy5zdGF0ZUNvbXBvbmVudE1hcHBpbmdbZXYubmV3U3RhdGVdO1xuICAgICAgICAgICAgICAgIHZhciBvbGRDb21wb25lbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlQ2xhc3NQcmVmaXggPSAncmlkZXN0eWxlci1zaG93Y2FzZS1zdGF0ZS0nO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXYub2xkU3RhdGUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgIG9sZENvbXBvbmVudCA9IHRoaXMuc3RhdGVDb21wb25lbnRNYXBwaW5nW2V2Lm9sZFN0YXRlXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShzdGF0ZUNsYXNzUHJlZml4ICsgUmlkZVN0eWxlclNob3djYXNlLlN0YXRlc1tldi5vbGRTdGF0ZV0udG9Mb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoc3RhdGVDbGFzc1ByZWZpeCArIFJpZGVTdHlsZXJTaG93Y2FzZS5TdGF0ZXNbZXYubmV3U3RhdGVdLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIGlmIChvbGRDb21wb25lbnQgJiYgb2xkQ29tcG9uZW50LmlzVmlzaWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIG9sZENvbXBvbmVudC5oaWRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NvbXBvbmVudC5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0NvbXBvbmVudC5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZUluc3RhbmNlO1xuICAgIH0oKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VJbnN0YW5jZSA9IFJpZGVTdHlsZXJTaG93Y2FzZUluc3RhbmNlO1xuICAgIGZ1bmN0aW9uIGNyZWF0ZShjb250YWluZXIsIHNldHRpbmdzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmlkZVN0eWxlclNob3djYXNlSW5zdGFuY2UoY29udGFpbmVyLCBzZXR0aW5ncyk7XG4gICAgfVxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5jcmVhdGUgPSBjcmVhdGU7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIENvbXBvbmVudEJhc2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIENvbXBvbmVudEJhc2Uoc2hvd2Nhc2VJbnN0YW5jZSkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbXBvbmVudEJhc2UpO1xuXG4gICAgICAgICAgICB0aGlzLnNob3djYXNlID0gc2hvd2Nhc2VJbnN0YW5jZTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnRzID0gc2hvd2Nhc2VJbnN0YW5jZS5ldmVudHM7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gc2hvd2Nhc2VJbnN0YW5jZS5zdGF0ZTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNvbXBvbmVudCgpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG92ZXJyaWRhYmxlIGZ1bmN0aW9uIGNhbGxlZCBhZnRlciB0aGUgYmFzZSBjb21wb25lbnQgaXMgaW5pdGlhbGl6ZWRcbiAgICAgICAgICogQHZpcnR1YWxcbiAgICAgICAgICovXG5cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoQ29tcG9uZW50QmFzZSwgW3tcbiAgICAgICAgICAgIGtleTogXCJpbml0aWFsaXplQ29tcG9uZW50XCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbXBvbmVudCgpIHt9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gQ29tcG9uZW50QmFzZTtcbiAgICB9KCk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSA9IENvbXBvbmVudEJhc2U7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgTWFpbkNvbXBvbmVudEJhc2UgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRDKSB7XG4gICAgICAgIF9pbmhlcml0cyhNYWluQ29tcG9uZW50QmFzZSwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBNYWluQ29tcG9uZW50QmFzZShzaG93Y2FzZUluc3RhbmNlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTWFpbkNvbXBvbmVudEJhc2UpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTWFpbkNvbXBvbmVudEJhc2UuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihNYWluQ29tcG9uZW50QmFzZSkpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSkpO1xuXG4gICAgICAgICAgICBfdGhpcy5jb21wb25lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIF90aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QuYWRkKCdyaWRlc3R5bGVyLXNob3djYXNlLW1haW4tY29tcG9uZW50Jyk7XG4gICAgICAgICAgICBpZiAoUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLnRyYW5zaXRpb25zU3VwcG9ydGVkKSBfdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcihSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIudHJhbnNpdGlvbkVuZEV2ZW50LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIC8vIE9ubHkgdHJhbnNpdGlvbnMgb24gdGhpcyBjb21wb25lbnQgZWxlbWVudFxuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldCAhPT0gX3RoaXMuY29tcG9uZW50KSByZXR1cm47XG4gICAgICAgICAgICAgICAgX3RoaXMub25UcmFuc2l0aW9uRW5kKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgX3RoaXMuYnVpbGRDb21wb25lbnQoX3RoaXMuY29tcG9uZW50KTtcbiAgICAgICAgICAgIF90aGlzLmluaXRpYWxpemVNYWluQ29tcG9uZW50KCk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgb3ZlcnJpZGFibGUgZnVuY3Rpb24gY2FsbGVkIGFmdGVyIHRoZSBiYXNlIGNvbXBvbmVudCBpcyBjb25zdHJ1Y3RlZFxuICAgICAgICAgKiBAdmlydHVhbFxuICAgICAgICAgKi9cblxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhNYWluQ29tcG9uZW50QmFzZSwgW3tcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVDb21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVDb21wb25lbnQoKSB7fVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBIG92ZXJyaWRhYmxlIGZ1bmN0aW9uIGNhbGxlZCBhZnRlciB0aGUgbWFpbiBjb21wb25lbnQgaXMgY29uc3RydWN0ZWRcbiAgICAgICAgICAgICAqIEB2aXJ0dWFsXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplTWFpbkNvbXBvbmVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZU1haW5Db21wb25lbnQoKSB7fVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBXaGV0aGVyIG9yIG5vdCB0aGlzIGNvbXBvbmVudCBpcyB2aXNpYmxlXG4gICAgICAgICAgICAgKiBAcmV0dXJuIHRydWUsIGlmIHRoaXMgY29tcG9uZW50IGlzIHZpc2libGUsIG90aGVyd2lzZSBmYWxzZVxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaXNWaXNpYmxlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc1Zpc2libGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3Zpc2libGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEhpZGUvc2hvdyB0aGUgY29tcG9uZW50IHdpdGhvdXQgYW5pbWF0aW9uXG4gICAgICAgICAgICAgKiBAcGFyYW0gdmlzaWJsZSBJZiB0cnVlLCBzaG93IHRoZSBjb21wb25lbnQsIG90aGVyd2lzZSBoaWRlIHRoZSBjb21wb25lbnRcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldFZpc2libGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFZpc2libGUodmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3Zpc2libGUgPT09IHZpc2libGUpIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLl92aXNpYmxlID0gdmlzaWJsZTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpc2libGVTdHlsaW5nKHZpc2libGUpO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5za2lwVHJhbnNpdGlvbih0aGlzLmNvbXBvbmVudCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmlzaWJsZSA/IF90aGlzMi5zaG93KCkgOiBfdGhpczIuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRWaXNpYmxlU3R5bGluZycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmlzaWJsZVN0eWxpbmcodmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIHZhciBzdHlsZXMgPSB0aGlzLmNvbXBvbmVudC5zdHlsZTtcbiAgICAgICAgICAgICAgICBpZiAodmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZXMudmlzaWJpbGl0eSA9ICd2aXNpYmxlJztcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzLnRvcCA9ICcnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlcy52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlcy50b3AgPSAnMTAwMCUnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY2FsbFdoZW5Eb25lQW5pbWF0aW5nJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxsV2hlbkRvbmVBbmltYXRpbmcoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIC8vIENhbGwgdGhlIGNhbGxiYWNrIGFmdGVyIHRoZSB2aWV3IGhhcyBiZWVuIGFuaW1hdGVkIGluIFxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hbmltYXRpbmcpIFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5vbk5leHRUcmFuc2l0aW9uRW5kKHRoaXMuY29tcG9uZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjay5jYWxsKF90aGlzMyk7XG4gICAgICAgICAgICAgICAgfSk7ZWxzZSBjYWxsYmFjay5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDYWxsZWQgYmVmb3JlIHRoaXMgY29tcG9uZW50IGlzIHNob3duXG4gICAgICAgICAgICAgKiBAdmlydHVhbFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25TaG93JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblNob3coKSB7fVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDYWxsZWQgYmVmb3JlIHRoaXMgY29tcG9uZW50IGlzIHNob3duIGJ1dCBhZnRlciBpdCBoYXMgcmVjZWl2ZWQgZGltZW5zaW9uc1xuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25EaXNwbGF5JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkRpc3BsYXkoKSB7fVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDYWxsZWQgYWZ0ZXIgdGhlIGNvbXBvbmVudCBpcyBzaG93blxuICAgICAgICAgICAgICogQHZpcnR1YWxcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uU2hvd24nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2hvd24oKSB7fVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDYWxsZWQgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgaGlkZGVuXG4gICAgICAgICAgICAgKiBAdmlydHVhbFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25IaWRlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkhpZGUoKSB7fVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDYWxsZWQgYWZ0ZXIgdGhlIGNvbXBvbmVudCBpcyBoaWRkZW5cbiAgICAgICAgICAgICAqIEB2aXJ0dWFsXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkhpZGRlbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25IaWRkZW4oKSB7fVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBbmltYXRlIHRoZSBjb21wb25lbnQgaW50byB0aGUgdmlld1xuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2hvdycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdyhjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5jb250YWlucygnaW4nKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgY29tcG9uZW50IGlzIGFscmVhZHkgdmlzaWJsZSwgdHJpZ2dlciB0aGUgY2FsbGJhY2sgYXMgbmVlZGVkXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Zpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxXaGVuRG9uZUFuaW1hdGluZyhjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYW5pbWF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgdmlldyBpcyBhbmltYXRpbmcgb3V0LCBzaG93IGl0IGFmdGVyIGl0J3MgZG9uZVxuICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIub25OZXh0VHJhbnNpdGlvbkVuZCh0aGlzLmNvbXBvbmVudCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5zaG93KGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5pbWF0aW5nID0gUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLnRyYW5zaXRpb25zU3VwcG9ydGVkO1xuICAgICAgICAgICAgICAgIHRoaXMub25TaG93KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaXNpYmxlU3R5bGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIudHJpZ2dlclJlZmxvdyh0aGlzLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkRpc3BsYXkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxXaGVuRG9uZUFuaW1hdGluZyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25TaG93bigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjay5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5hZGQoJ2luJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFuaW1hdGUgdGhlIGNvbXBvbmVudCBvdXQgb2YgdGhlIHZpZXdcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2hpZGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGUoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFscmVhZHkgaGlkZGVuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsV2hlbkRvbmVBbmltYXRpbmcoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FuaW1hdGluZykge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHZpZXcgaXMgYW5pbWF0aW5nIGluLCBzaG93IGl0IGFmdGVyIGl0J3MgZG9uZVxuICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIub25OZXh0VHJhbnNpdGlvbkVuZCh0aGlzLmNvbXBvbmVudCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5oaWRlKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlzaWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FuaW1hdGluZyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci50cmFuc2l0aW9uc1N1cHBvcnRlZDtcbiAgICAgICAgICAgICAgICB0aGlzLm9uSGlkZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FsbFdoZW5Eb25lQW5pbWF0aW5nKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkhpZGRlbigpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBjYWxsYmFjay5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2luJyk7XG4gICAgICAgICAgICAgICAgaWYgKCFSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIudHJhbnNpdGlvbnNTdXBwb3J0ZWQpIHRoaXMuc2V0VmlzaWJsZVN0eWxpbmcoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBIaWRlIGNvbXBvbmVudHMgYWZ0ZXIgdHJhbnNpdGlvbiBvdXRcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uVHJhbnNpdGlvbkVuZCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25UcmFuc2l0aW9uRW5kKCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbicpKSB0aGlzLnNldFZpc2libGVTdHlsaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmltYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBNYWluQ29tcG9uZW50QmFzZTtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5Db21wb25lbnRCYXNlKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5NYWluQ29tcG9uZW50QmFzZSA9IE1haW5Db21wb25lbnRCYXNlO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfc2xpY2VkVG9BcnJheSA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gc2xpY2VJdGVyYXRvcihhcnIsIGkpIHsgdmFyIF9hcnIgPSBbXTsgdmFyIF9uID0gdHJ1ZTsgdmFyIF9kID0gZmFsc2U7IHZhciBfZSA9IHVuZGVmaW5lZDsgdHJ5IHsgZm9yICh2YXIgX2kgPSBhcnJbU3ltYm9sLml0ZXJhdG9yXSgpLCBfczsgIShfbiA9IChfcyA9IF9pLm5leHQoKSkuZG9uZSk7IF9uID0gdHJ1ZSkgeyBfYXJyLnB1c2goX3MudmFsdWUpOyBpZiAoaSAmJiBfYXJyLmxlbmd0aCA9PT0gaSkgYnJlYWs7IH0gfSBjYXRjaCAoZXJyKSB7IF9kID0gdHJ1ZTsgX2UgPSBlcnI7IH0gZmluYWxseSB7IHRyeSB7IGlmICghX24gJiYgX2lbXCJyZXR1cm5cIl0pIF9pW1wicmV0dXJuXCJdKCk7IH0gZmluYWxseSB7IGlmIChfZCkgdGhyb3cgX2U7IH0gfSByZXR1cm4gX2FycjsgfSByZXR1cm4gZnVuY3Rpb24gKGFyciwgaSkgeyBpZiAoQXJyYXkuaXNBcnJheShhcnIpKSB7IHJldHVybiBhcnI7IH0gZWxzZSBpZiAoU3ltYm9sLml0ZXJhdG9yIGluIE9iamVjdChhcnIpKSB7IHJldHVybiBzbGljZUl0ZXJhdG9yKGFyciwgaSk7IH0gZWxzZSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpOyB9IH07IH0oKTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgZGVmYXVsdFNpemUgPSB7XG4gICAgICAgIHdpZHRoOiAyMDAsXG4gICAgICAgIGhlaWdodDogMjAwXG4gICAgfTtcbiAgICB2YXIgbWluaW11bVNpemUgPSB7XG4gICAgICAgIHdpZHRoOiA1MCxcbiAgICAgICAgaGVpZ2h0OiA1MFxuICAgIH07XG4gICAgdmFyIG1heGltdW1TaXplID0ge1xuICAgICAgICB3aWR0aDogODAwLFxuICAgICAgICBoZWlnaHQ6IDgwMFxuICAgIH07XG4gICAgdmFyIGRlZmF1bHRQb3NpdGlvbiA9IHtcbiAgICAgICAgUG9zaXRpb25ZOiAwIC8qIE5lYXIgKi9cbiAgICAgICAgLCBQb3NpdGlvblg6IDAgLyogTmVhciAqLyAvLyBMZWZ0XG4gICAgfTtcblxuICAgIHZhciBSZXNpemVhYmxlUmVzb3VyY2VJbWFnZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSBjb250YWluZXIgVGhlIGNvbnRhaW5lciB0byByZW5kZXIgdGhlIGltYWdlIGluXG4gICAgICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBSZXNpemVhYmxlUmVzb3VyY2VJbWFnZShjb250YWluZXIsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSZXNpemVhYmxlUmVzb3VyY2VJbWFnZSk7XG5cbiAgICAgICAgICAgIHRoaXMucmVzaXplQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgICAgICB0aGlzLmFjdGlvbiA9IG9wdGlvbnMuYWN0aW9uO1xuICAgICAgICAgICAgdGhpcy5pbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy5pbWFnZSk7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cyA9IFtdO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMudHJhbnNpdGlvbkNsYXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5jbGFzc0xpc3QuYWRkKG9wdGlvbnMudHJhbnNpdGlvbkNsYXNzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnVzZVRyYW5zaXRpb25zID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMudHJhbnNpdGlvbkluQ2xhc3MgPSBvcHRpb25zLnRyYW5zaXRpb25JbkNsYXNzO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLnBhZGRpbmcgPT09ICd1bmRlZmluZWQnKSB0aGlzLnBhZGRpbmcgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIuY2FsY3VsYXRlUGFkZGluZztlbHNlIGlmIChvcHRpb25zLnBhZGRpbmcgPT09IGZhbHNlKSB0aGlzLnBhZGRpbmcgPSB7IHdpZHRoOiAwLCBoZWlnaHQ6IDAgfTtlbHNlIHRoaXMucGFkZGluZyA9IG9wdGlvbnMucGFkZGluZztcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VMb2FkQ2FsbGJhY2sgPSBvcHRpb25zLm9uTG9hZDtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2VFcnJvckNhbGxiYWNrID0gb3B0aW9ucy5vbkVycm9yO1xuICAgICAgICAgICAgdGhpcy5pbWFnZS5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5vbkltYWdlRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMub25JbWFnZUxvYWQoZXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoX3R5cGVvZihvcHRpb25zLmJhc2VJbnN0cnVjdGlvbnMpID09PSAnb2JqZWN0JykgdGhpcy5iYXNlSW5zdHJ1Y3Rpb25zID0gb3B0aW9ucy5iYXNlSW5zdHJ1Y3Rpb25zO1xuICAgICAgICAgICAgaWYgKHRoaXMuaW5zdHJ1Y3Rpb25zICYmIG9wdGlvbnMubG9hZEluaXRpYWxseSAhPT0gZmFsc2UpIHRoaXMudXBkYXRlKHRoaXMuaW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmxpc3RlblRvV2luZG93UmVzaXplICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHZhciB0aW1lb3V0ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIHZhciB3YWl0TXMgPSA1MDA7XG4gICAgICAgICAgICAgICAgdmFyIHJlc2l6ZUNhbGxiYWNrID0gZnVuY3Rpb24gcmVzaXplQ2FsbGJhY2soKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sIHdhaXRNcyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgcmVzaXplQ2FsbGJhY2ssIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKFt3aW5kb3csICdyZXNpemUnLCByZXNpemVDYWxsYmFja10pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxsIHRoaXMgZnVuY3Rpb24gYWZ0ZXIgdGhlIGNvbXBvbmVudCB3aWxsIG5vIGxvbmdlciBiZSB1c2VkXG4gICAgICAgICAqIHRvIHJlbW92ZSBhbnkgaW50ZXJuYWxseSBhdHRhY2hlZCBldmVudCBoYW5kbGVyc1xuICAgICAgICAgKi9cblxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSZXNpemVhYmxlUmVzb3VyY2VJbWFnZSwgW3tcbiAgICAgICAgICAgIGtleTogJ2Rlc3Ryb3knLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuZXZlbnRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ2lzdGVyZWRFdmVudCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlZ2lzdGVyZWRFdmVudCA9IF9zbGljZWRUb0FycmF5KHJlZ2lzdGVyZWRFdmVudCwgMyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gX3JlZ2lzdGVyZWRFdmVudFswXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFR5cGUgPSBfcmVnaXN0ZXJlZEV2ZW50WzFdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gX3JlZ2lzdGVyZWRFdmVudFsyXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBsaXN0ZW5lcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQXR0YWNoZWQgdG8gdGhlIGltYWdlIGVycm9yIGV2ZW50XG4gICAgICAgICAgICAgKiBAcGFyYW0gZXJyb3JFdmVudCBUaGUgZXJyb3IgZXZlbnRcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uSW1hZ2VFcnJvcicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25JbWFnZUVycm9yKGVycm9yRXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuaW1hZ2VFcnJvckNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB0aGlzLmltYWdlRXJyb3JDYWxsYmFjayh0aGlzLmltYWdlLCBlcnJvckV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQXR0YWNoZWQgdG8gdGhlIGltYWdlIGxvYWQgZXZlbnRcbiAgICAgICAgICAgICAqIEBwYXJhbSBldmVudCBUaGUgaW1hZ2UgbG9hZCBldmVudFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25JbWFnZUxvYWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uSW1hZ2VMb2FkKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmltYWdlTG9hZENhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB0aGlzLmltYWdlTG9hZENhbGxiYWNrKHRoaXMuaW1hZ2UsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudmlzaWJsZSkgdGhpcy5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNob3cgdGhlIGltYWdlXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzaG93JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlzaWJsZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnVzZVRyYW5zaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5WaXNpYmlsaXR5SGVscGVyLnNob3codGhpcy5pbWFnZSwgdGhpcy50cmFuc2l0aW9uSW5DbGFzcykuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF90aGlzMi5pbWFnZURpc3BsYXlDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgX3RoaXMyLmltYWdlRGlzcGxheUNhbGxiYWNrKF90aGlzMi5pbWFnZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnZpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDYWxjdWxhdGUgdGhlIHNpemUgb2YgdGhlIGltYWdlIGZyb20gdGhlIGNvbnRhaW5lclxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY2FsY3VsYXRlUmVuZGVyU2l6ZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2FsY3VsYXRlUmVuZGVyU2l6ZSgpIHtcbiAgICAgICAgICAgICAgICAvLyBHcmFiIHRoZSBzaXplIG9mIHRoZSBjb250YWluZXJcbiAgICAgICAgICAgICAgICB2YXIgX2NvbnRhaW5lciA9IHRoaXMuY29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICBjbGllbnRXaWR0aCA9IF9jb250YWluZXIuY2xpZW50V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGNsaWVudEhlaWdodCA9IF9jb250YWluZXIuY2xpZW50SGVpZ2h0O1xuICAgICAgICAgICAgICAgIC8vIFJldHVybiBkZWZhdWx0IHNpemUgaWYgdGhlIGNvbnRhaW5lciB3YXMgbm90IGFibGUgdG8gYmUgZGV0ZWN0ZWRcblxuICAgICAgICAgICAgICAgIGlmICghY2xpZW50SGVpZ2h0IHx8ICFjbGllbnRXaWR0aCkgcmV0dXJuIGRlZmF1bHRTaXplO1xuICAgICAgICAgICAgICAgIC8vIEdyYWIgdGhlIHBhZGRpbmcgc2l6ZVxuICAgICAgICAgICAgICAgIHZhciBwYWRkaW5nID0gdHlwZW9mIHRoaXMucGFkZGluZyA9PT0gJ2Z1bmN0aW9uJyA/IHRoaXMucGFkZGluZyh0aGlzLmNvbnRhaW5lcikgOiB0aGlzLnBhZGRpbmc7XG4gICAgICAgICAgICAgICAgLy8gVGhlIGRldGVjdGVkIHNpemUgb2YgdGhlIGNvbnRhaW5lciBtaW51cyBwYWRkaW5nXG4gICAgICAgICAgICAgICAgdmFyIGRldGVjdGVkU2l6ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGNsaWVudFdpZHRoIC0gcGFkZGluZy53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBjbGllbnRIZWlnaHQgLSBwYWRkaW5nLmhlaWdodFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBwaXhlbCByYXRpbyBmb3IgcmV0aW5hIHNjcmVlbnNcbiAgICAgICAgICAgICAgICB2YXIgcGl4ZWxSYXRpbyA9IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDE7XG4gICAgICAgICAgICAgICAgLy8gQWRqdXN0IHRoZSBkZXRlY3RlZCBzaXplIHRvIGFjY291bnQgZm9yIHBpeGVsIHJhdGlvXG4gICAgICAgICAgICAgICAgZGV0ZWN0ZWRTaXplLndpZHRoICo9IHBpeGVsUmF0aW87XG4gICAgICAgICAgICAgICAgZGV0ZWN0ZWRTaXplLmhlaWdodCAqPSBwaXhlbFJhdGlvO1xuICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuQm94SGVscGVyLmZsb29yKFJpZGVTdHlsZXJTaG93Y2FzZS5Cb3hIZWxwZXIuYm91bmQoZGV0ZWN0ZWRTaXplLCBtaW5pbXVtU2l6ZSwgbWF4aW11bVNpemUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2l6ZUlzRGlmZmVyZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaXplSXNEaWZmZXJlbnQoYm94KSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmN1cnJlbnRTaXplKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2N1cnJlbnRTaXplID0gdGhpcy5jdXJyZW50U2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgdGhpc1dpZHRoID0gX2N1cnJlbnRTaXplLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICB0aGlzSGVpZ2h0ID0gX2N1cnJlbnRTaXplLmhlaWdodDtcbiAgICAgICAgICAgICAgICB2YXIgYm94V2lkdGggPSBib3gud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGJveEhlaWdodCA9IGJveC5oZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpc1dpZHRoICE9PSBib3hXaWR0aCB8fCB0aGlzSGVpZ2h0ICE9PSBib3hIZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVwZGF0ZSBvciBjcmVhdGUgdGhlIGltYWdlXG4gICAgICAgICAgICAgKiBAcGFyYW0gaW5zdHJ1Y3Rpb25zIE5ldyBpbnN0cnVjdGlvbnMgdG8gcmVuZGVyIHRoZSBpbWFnZSB3aXRoXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd1cGRhdGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZShpbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmVlZHNVcGRhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgaW5zdHJ1Y3Rpb25zXG4gICAgICAgICAgICAgICAgaWYgKGluc3RydWN0aW9ucyAmJiB0aGlzLmluc3RydWN0aW9ucyAhPT0gaW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5zdHJ1Y3Rpb25zID0gaW5zdHJ1Y3Rpb25zO1xuICAgICAgICAgICAgICAgICAgICBuZWVkc1VwZGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBzaXplXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVuZGVyU2l6ZSA9IHRoaXMuY2FsY3VsYXRlUmVuZGVyU2l6ZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zaXplSXNEaWZmZXJlbnQocmVuZGVyU2l6ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFNpemUgPSByZW5kZXJTaXplO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChuZWVkc1VwZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2N1cnJlbnRTaXplMiA9IHRoaXMuY3VycmVudFNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aCA9IF9jdXJyZW50U2l6ZTIud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBfY3VycmVudFNpemUyLmhlaWdodDtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmltYWdlLnNyYyA9IHJpZGVzdHlsZXIuYWpheC51cmwodGhpcy5hY3Rpb24sIFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIEhlaWdodDogaGVpZ2h0XG4gICAgICAgICAgICAgICAgICAgIH0sIGRlZmF1bHRQb3NpdGlvbiwgdGhpcy5iYXNlSW5zdHJ1Y3Rpb25zLCB0aGlzLmluc3RydWN0aW9ucykpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSZXNpemVhYmxlUmVzb3VyY2VJbWFnZTtcbiAgICB9KCk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmVzaXplYWJsZVJlc291cmNlSW1hZ2UgPSBSZXNpemVhYmxlUmVzb3VyY2VJbWFnZTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlQmFja2dyb3VuZCwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kKCkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQpO1xuXG4gICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlQmFja2dyb3VuZCwgW3tcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVDb21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVDb21wb25lbnQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJhY2tncm91bmRFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLWJhY2tncm91bmQnXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGJhY2tncm91bmRUZXh0dXJlID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLWJhY2tncm91bmQtdGV4dHVyZScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBiYWNrZ3JvdW5kRWxlbWVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gYmFja2dyb3VuZEVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlQmFja2dyb3VuZDtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5Db21wb25lbnRCYXNlKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kID0gUmlkZVN0eWxlclNob3djYXNlQmFja2dyb3VuZDtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBjbGFzc05hbWUgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1idXR0b24tcGlja2VyJztcbiAgICB2YXIgb3B0aW9uQ2xhc3MgPSBjbGFzc05hbWUgKyAnLW9wdGlvbic7XG4gICAgdmFyIGFjdGl2ZUNsYXNzID0gb3B0aW9uQ2xhc3MgKyAnLWFjdGl2ZSc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyLCBfUmlkZVN0eWxlclNob3djYXNlJEMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZUJ1dHRvblBpY2tlcihzaG93Y2FzZUluc3RhbmNlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyKTtcblxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZUJ1dHRvblBpY2tlci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZUJ1dHRvblBpY2tlcikpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSkpO1xuXG4gICAgICAgICAgICBfdGhpcy5jb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy10aXRsZScsXG4gICAgICAgICAgICAgICAgdGV4dDogb3B0aW9ucy50aXRsZSxcbiAgICAgICAgICAgICAgICBhcHBlbmRUbzogX3RoaXMuY29tcG9uZW50XG4gICAgICAgICAgICB9KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vcHRpb25Db250YWluZXIuc3R5bGUuZGlzcGxheSA9IF90aGlzLm9wdGlvbkNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID09ICdub25lJyA/ICcnIDogJ25vbmUnO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5vcHRpb25Db250YWluZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLW9wdGlvbi1jb250YWluZXInLFxuICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBfdGhpcy5jb21wb25lbnQsXG4gICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogJ25vbmUnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5vcHRpb25Db250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMub25PcHRpb25DbGljayhldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VCdXR0b25QaWNrZXIsIFt7XG4gICAgICAgICAgICBrZXk6ICdzZXRPcHRpb25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5lbXB0eSh0aGlzLm9wdGlvbkNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBvcHRpb25zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uRWxlbWVudCA9IE9iamVjdC5hc3NpZ24oUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogb3B0aW9uQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogb3B0aW9uLmxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvcHRpb24udmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbi5hY3RpdmUpIG9wdGlvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZChhY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChvcHRpb25FbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25Db250YWluZXIuYXBwZW5kQ2hpbGQoZnJhZ21lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbk9wdGlvbkNsaWNrJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbk9wdGlvbkNsaWNrKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUYXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHBhcmVudHMgdW50aWwgd2UndmUgcmVhY2hlZCB0aGUgYm91bmQgZWxlbWVudFxuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50VGFyZ2V0ICE9PSB0aGlzLm9wdGlvbkNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMob3B0aW9uQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBbiBvcHRpb24gd2FzIGNsaWNrZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgYWN0aXZlIGNsYXNzIGZyb20gdGhlIG9sZCBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jaGlsZHJlbldpdGhDbGFzc2VzKHRoaXMub3B0aW9uQ29udGFpbmVyLCBhY3RpdmVDbGFzcylbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoaWxkLmNsYXNzTGlzdC5yZW1vdmUoYWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gLy8gQWRkIGl0IHRvIHRoZSBuZXcgb25lXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhcmdldC5jbGFzc0xpc3QuYWRkKGFjdGl2ZUNsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vcHRpb25TZWxlY3RlZENhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB0aGlzLm9wdGlvblNlbGVjdGVkQ2FsbGJhY2soY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZUJ1dHRvblBpY2tlciA9IFJpZGVTdHlsZXJTaG93Y2FzZUJ1dHRvblBpY2tlcjtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VDaGFuZ2VXaGVlbFNpemUgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRSKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VDaGFuZ2VXaGVlbFNpemUsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkUik7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlQ2hhbmdlV2hlZWxTaXplKHNob3djYXNlSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VDaGFuZ2VXaGVlbFNpemUpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlQ2hhbmdlV2hlZWxTaXplLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlQ2hhbmdlV2hlZWxTaXplKSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlLCB7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnY2hhbmdlLXdoZWVsLXNpemUnKVxuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICBfdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LmFkZCgncmlkZXN0eWxlci1zaG93Y2FzZS1jaGFuZ2Utd2hlZWwtc2l6ZScpO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZSwgW3tcbiAgICAgICAgICAgIGtleTogJ3NldEZpdG1lbnRPcHRpb25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGaXRtZW50T3B0aW9ucyhmaXRtZW50cywgYWN0aXZlRml0bWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBzZWVuRGlhbWV0ZXJzID0ge307XG4gICAgICAgICAgICAgICAgdmFyIGRpYW1ldGVyRml0bWVudHMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gZml0bWVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZml0bWVudCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlhbWV0ZXIgPSBmaXRtZW50LkRpYW1ldGVyTWluO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpYW1ldGVyIGluIHNlZW5EaWFtZXRlcnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VlbkRpYW1ldGVyc1tkaWFtZXRlcl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpYW1ldGVyRml0bWVudHMucHVzaChbZGlhbWV0ZXIsIGZpdG1lbnRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgZGlhbWV0ZXJGaXRtZW50cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhWzBdIC0gYlswXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoZGlhbWV0ZXJGaXRtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRPcHRpb25zKFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlci5tYXAoZGlhbWV0ZXJGaXRtZW50cywgZnVuY3Rpb24gKGRpYW1ldGVyRml0bWVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGRpYW1ldGVyRml0bWVudFswXSArICfigLMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGRpYW1ldGVyRml0bWVudFsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZTogZGlhbWV0ZXJGaXRtZW50WzFdID09PSBhY3RpdmVGaXRtZW50XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZTtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VCdXR0b25QaWNrZXIpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZSA9IFJpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBtb2RhbENsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtbW9kYWwnO1xuICAgIHZhciBiYWNrZHJvcENsYXNzID0gbW9kYWxDbGFzcyArICctYmFja2Ryb3AnO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlTW9kYWwsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkQyk7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlTW9kYWwoc2hvd2Nhc2VJbnN0YW5jZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsKTtcblxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlTW9kYWwpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UpKTtcblxuICAgICAgICAgICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGJhY2tkcm9wIGlmIG5lZWRlZFxuICAgICAgICAgICAgX3RoaXMuY3JlYXRlQmFja2Ryb3BJZk5lZWRlZCgpO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBtb2RhbFxuICAgICAgICAgICAgX3RoaXMuYnVpbGRNb2RhbCgpO1xuICAgICAgICAgICAgLy8gTW9kYWxzIHN0YXJ0IG9mZiBoaWRkZW4gdW50aWwgc2hvd25cbiAgICAgICAgICAgIF90aGlzLnNldFZpc2liaWxpdHkoZmFsc2UpO1xuICAgICAgICAgICAgLy8gTW9kYWxzIGFyZSBhcHBlbmRlZCB0byB0aGUgc2hvd2Nhc2UgY29udGFpbmVyXG4gICAgICAgICAgICBfdGhpcy5wYXJlbnQgPSBzaG93Y2FzZUluc3RhbmNlLmNvbnRhaW5lcjtcbiAgICAgICAgICAgIF90aGlzLnBhcmVudC5hcHBlbmRDaGlsZChfdGhpcy5jb21wb25lbnQpO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWlsZCB0aGUgbW9kYWwgRE9NIHN0cnVjdHVyZVxuICAgICAgICAgKi9cblxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCwgW3tcbiAgICAgICAgICAgIGtleTogJ2J1aWxkTW9kYWwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkTW9kYWwoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IE9iamVjdC5hc3NpZ24oUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG1vZGFsQ2xhc3NcbiAgICAgICAgICAgICAgICB9KSwge1xuICAgICAgICAgICAgICAgICAgICBtb2RhbDogdGhpc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZnVsbCkgdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LmFkZChtb2RhbENsYXNzICsgJy1mdWxsJyk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnYnV0dG9uJywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG1vZGFsQ2xhc3MgKyAnLWNsb3NlJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hY3Rpb25zKSB0aGlzLmJ1aWxkQWN0aW9ucyh0aGlzLm9wdGlvbnMuYWN0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2J1aWxkQWN0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRBY3Rpb25zKGFjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHZhciBhY3Rpb25Db250YWluZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogbW9kYWxDbGFzcyArICctYWN0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3Rpb25CdXR0b24gPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVCdXR0b24oUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IGFjdGlvbkNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICB9LCBhY3Rpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBhY3Rpb24uYWN0aW9uID09PSAnZnVuY3Rpb24nKSBhY3Rpb24uYWN0aW9uKCk7ZWxzZSBpZiAoYWN0aW9uLmFjdGlvbiA9PT0gJ2hpZGUtbW9kYWwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBhY3Rpb25zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBfbG9vcChhY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxlZCB3aGVuIHRoaXMgbW9kYWwgaXMgbGF5ZWQtb3V0IGFuZCBhYm91dCB0byB0cmFuc2l0aW9uIGluXG4gICAgICAgICAgICAgKiBAdmlydHVhbFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25TaG93JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblNob3coKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMudHJpZ2dlcignbW9kYWwtc2hvdycsIHsgbW9kYWw6IHRoaXMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxlZCB3aGVuIHRoaXMgbW9kYWwgaXMgdmlzaWJsZVxuICAgICAgICAgICAgICogQHZpcnR1YWxcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uU2hvd24nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2hvd24oKSB7fVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDYWxsZWQgd2hlbiB0aGlzIG1vZGFsIGlzIGFib3V0IHRvIHRyYW5zaXRpb24gb3V0XG4gICAgICAgICAgICAgKiBAdmlydHVhbFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25IaWRlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkhpZGUoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMudHJpZ2dlcignbW9kYWwtaGlkZScsIHsgbW9kYWw6IHRoaXMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxlZCB3aGVuIHRoaXMgbW9kYWwgaXMgaGlkZGVuXG4gICAgICAgICAgICAgKiBAdmlydHVhbFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25IaWRkZW4nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uSGlkZGVuKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMucmVtb3ZlT25IaWRkZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2hvdycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHZhciBwcm9taXNlID0gUmlkZVN0eWxlclNob3djYXNlLlZpc2liaWxpdHlIZWxwZXIuc2hvdyh0aGlzLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vblNob3coKTtcbiAgICAgICAgICAgICAgICBwcm9taXNlLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0Lm9uU2hvd24oKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaGlkZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHZhciBwcm9taXNlID0gUmlkZVN0eWxlclNob3djYXNlLlZpc2liaWxpdHlIZWxwZXIuaGlkZSh0aGlzLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkhpZGUoKTtcbiAgICAgICAgICAgICAgICBwcm9taXNlLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1Lm9uSGlkZGVuKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldFZpc2liaWxpdHknLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFZpc2liaWxpdHkodmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5WaXNpYmlsaXR5SGVscGVyLnNldFZpc2liaWxpdHkodGhpcy5jb21wb25lbnQsIHZpc2libGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDcmVhdGVzIHRoZSBiYWNrZHJvcCBpZiBuZWVkZWRcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NyZWF0ZUJhY2tkcm9wSWZOZWVkZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUJhY2tkcm9wSWZOZWVkZWQoKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBubyBwcmV2aW91c2x5IGV4aXN0aW5nIGJhY2tkcm9wIGNyZWF0ZSBhIG5ldyBvbmVcbiAgICAgICAgICAgICAgICBpZiAoIVJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmhhc0NoaWxkV2l0aENsYXNzKHRoaXMuc2hvd2Nhc2UuY29udGFpbmVyLCBiYWNrZHJvcENsYXNzKSkgbmV3IFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsQmFja2Ryb3AodGhpcy5zaG93Y2FzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlTW9kYWw7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlTW9kYWwgPSBSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbDtcblxuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbEJhY2tkcm9wID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQzIpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsQmFja2Ryb3AsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkQzIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsQmFja2Ryb3Aoc2hvd2Nhc2VJbnN0YW5jZSkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsQmFja2Ryb3ApO1xuXG4gICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGJhY2tkcm9wXG4gICAgICAgICAgICB2YXIgX3RoaXM2ID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsQmFja2Ryb3AuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbEJhY2tkcm9wKSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlKSk7XG5cbiAgICAgICAgICAgIF90aGlzNi5idWlsZEJhY2tkcm9wKCk7XG4gICAgICAgICAgICAvLyBUaGUgYmFja2Ryb3Agc3RhcnRzIG9mZiBoaWRkZW5cbiAgICAgICAgICAgIF90aGlzNi5zZXRWaXNpYmlsaXR5KGZhbHNlKTtcbiAgICAgICAgICAgIC8vIEFwcGVuZCB0aGUgYmFja2Ryb3AgdG8gdGhlIHNob3djYXNlIGNvbnRhaW5lclxuICAgICAgICAgICAgc2hvd2Nhc2VJbnN0YW5jZS5jb250YWluZXIuYXBwZW5kQ2hpbGQoX3RoaXM2LmNvbXBvbmVudCk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM2O1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsQmFja2Ryb3AsIFt7XG4gICAgICAgICAgICBrZXk6ICdidWlsZEJhY2tkcm9wJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZEJhY2tkcm9wKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50V2l0aENsYXNzKCdkaXYnLCBiYWNrZHJvcENsYXNzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvcFZpc2libGVNb2RhbCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmxhc3RTaWJsaW5nV2l0aENsYXNzKF90aGlzNy5jb21wb25lbnQsIG1vZGFsQ2xhc3MsICdpbicpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9wVmlzaWJsZU1vZGFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3BWaXNpYmxlTW9kYWwubW9kYWwuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVDb21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVDb21wb25lbnQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzOCA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vbignbW9kYWwtc2hvdycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczgudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMub24oJ21vZGFsLWhpZGUnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM4LnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBIaWRlIG9yIHNob3cgdGhlIGJhY2tkcm9wIGJhc2VkIG9mZiB0aGUgbnVtYmVyIG9mIHZpc2libGUgbW9kYWxzXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd1cGRhdGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGFzVmlzaWJsZU1vZGFsID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuaGFzU2libGluZ1dpdGhDbGFzcyh0aGlzLmNvbXBvbmVudCwgbW9kYWxDbGFzcywgJ2luJyk7XG4gICAgICAgICAgICAgICAgdGhpc1toYXNWaXNpYmxlTW9kYWwgPyAnc2hvdycgOiAnaGlkZSddKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3Nob3cnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5WaXNpYmlsaXR5SGVscGVyLnNob3codGhpcy5jb21wb25lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdoaWRlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuVmlzaWJpbGl0eUhlbHBlci5oaWRlKHRoaXMuY29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0VmlzaWJpbGl0eScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmlzaWJpbGl0eSh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLlZpc2liaWxpdHlIZWxwZXIuc2V0VmlzaWJpbGl0eSh0aGlzLmNvbXBvbmVudCwgdmlzaWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcDtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5Db21wb25lbnRCYXNlKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbEJhY2tkcm9wID0gUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcDtcbiAgICAoZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsKSB7XG4gICAgICAgIDtcbiAgICB9KShSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCB8fCAoUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgb3B0aW9uTWVudUNsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2Utb3B0aW9uLW1lbnUnO1xuICAgIHZhciBvcHRpb25NZW51T3B0aW9uQ2xhc3MgPSBvcHRpb25NZW51Q2xhc3MgKyAnLW9wdGlvbic7XG4gICAgdmFyIG9wdGlvbk1lbnVPcHRpb25BY3RpdmVDbGFzcyA9IG9wdGlvbk1lbnVPcHRpb25DbGFzcyArICctYWN0aXZlJztcbiAgICB2YXIgb3B0aW9uTWVudUxvYWRpbmdDbGFzcyA9IG9wdGlvbk1lbnVDbGFzcyArICctbG9hZGluZyc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlT3B0aW9uTWVudSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlT3B0aW9uTWVudShuYW1lLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlT3B0aW9uTWVudSk7XG5cbiAgICAgICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogb3B0aW9uTWVudUNsYXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGNsaWNrRXZlbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMub25DbGlja2VkKGNsaWNrRXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucykgdGhpcy5zZXRPcHRpb25zKG9wdGlvbnMpO2Vsc2UgdGhpcy5zZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZU9wdGlvbk1lbnUsIFt7XG4gICAgICAgICAgICBrZXk6ICdzZXRMb2FkaW5nJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRMb2FkaW5nKGxvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QudG9nZ2xlKG9wdGlvbk1lbnVMb2FkaW5nQ2xhc3MsIGxvYWRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdnZW5lcmF0ZU9wdGlvbkVsZW1lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlT3B0aW9uRWxlbWVudChvcHRpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBvcHRpb25NZW51T3B0aW9uQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IG9wdGlvbi5sYWJlbFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG9wdGlvbkVsZW1lbnQudmFsdWUgPSBvcHRpb24udmFsdWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbkVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NsZWFyT3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJPcHRpb25zKCkge1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmVtcHR5KHRoaXMuY29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnYXBwZW5kT3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYXBwZW5kT3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IG9wdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZENoaWxkKHRoaXMuZ2VuZXJhdGVPcHRpb25FbGVtZW50KG9wdGlvbikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldE9wdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldFZhbHVlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLmNvbXBvbmVudC5jaGlsZHJlbi5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbkVsZW1lbnQgPSB0aGlzLmNvbXBvbmVudC5jaGlsZHJlbltpbmRleF07XG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmUgPSBvcHRpb25FbGVtZW50LnZhbHVlID09PSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uRWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKG9wdGlvbk1lbnVPcHRpb25BY3RpdmVDbGFzcywgYWN0aXZlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjdGl2ZSkgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25DbGlja2VkJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrZWQoY2xpY2tFdmVudCkge1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBjbGlja0V2ZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMob3B0aW9uTWVudU9wdGlvbkNsYXNzKSkgcmV0dXJuOyAvLyBUaGUgY2xpY2sgd2FzIG5vdCBvbiBhbiBvcHRpb25cbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhvcHRpb25NZW51T3B0aW9uQWN0aXZlQ2xhc3MpKSByZXR1cm47IC8vIFRoZSBjbGljayB3YXMgb24gYW4gYWN0aXZlIG9wdGlvblxuICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c2x5U2VsZWN0ZWRPcHRpb24gPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5maXJzdENoaWxkV2l0aENsYXNzKHRoaXMuY29tcG9uZW50LCBvcHRpb25NZW51T3B0aW9uQWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHZhciBuZXdTZWxlY3RlZE9wdGlvbiA9IHRhcmdldDtcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNseVNlbGVjdGVkT3B0aW9uKSBwcmV2aW91c2x5U2VsZWN0ZWRPcHRpb24uY2xhc3NMaXN0LnJlbW92ZShvcHRpb25NZW51T3B0aW9uQWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgIG5ld1NlbGVjdGVkT3B0aW9uLmNsYXNzTGlzdC5hZGQob3B0aW9uTWVudU9wdGlvbkFjdGl2ZUNsYXNzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gbmV3U2VsZWN0ZWRPcHRpb24udmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uQ2hhbmdlID09PSAnZnVuY3Rpb24nKSB0aGlzLm9uQ2hhbmdlKG5ld1NlbGVjdGVkT3B0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51O1xuICAgIH0oKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51ID0gUmlkZVN0eWxlclNob3djYXNlT3B0aW9uTWVudTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBwcmV2QnV0dG9uQ2xhc3MgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLXByZXYnO1xuICAgIHZhciBuZXh0QnV0dG9uQ2xhc3MgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW5leHQnO1xuICAgIHZhciBvcHRpb25DbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXBhZ2luYXRpb24tb3B0aW9uJztcbiAgICB2YXIgb3B0aW9uU2VsZWN0ZWRDbGFzcyA9IG9wdGlvbkNsYXNzICsgJy1zZWxlY3RlZCc7XG4gICAgdmFyIG9wdGlvbkxvYWRpbmdDbGFzcyA9IG9wdGlvbkNsYXNzICsgJy1sb2FkaW5nJztcbiAgICB2YXIgb3B0aW9uTG9hZGVyQ2xhc3MgPSBvcHRpb25DbGFzcyArICctbG9hZGVyJztcbiAgICB2YXIgbm9SZXN1bHRzQ2xhc3MgPSBvcHRpb25DbGFzcyArICctbm8tcmVzdWx0cyc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudCA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJEMpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkQyk7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudCgpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VQYWdpbmF0aW9uQ29tcG9uZW50KTtcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0cnVlLCB0aGlzIGhhcyBtb3JlIHJlc3VsdHMgdGhhdCBpdCBjYW4gbG9hZFxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgICAgICAgICAgX3RoaXMuaGFzTW9yZVJlc3VsdHMgPSB0cnVlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0cnVlLCB0aGlzIGlzIGxvYWRpbmdcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX3RoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIElmIHRydWUsIHRoZSBmaXJzdCBsb2FkIGlzIGJlaW5nIHByZWZvcm1lZCBvciBoYXNuJ3QgYmVlbiBwcmVmb3JtZWQgeWV0LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBfdGhpcy5pc0ZpcnN0TG9hZCA9IHRydWU7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNldCB0aGlzIHRvIGZhbHNlIHRvIG5vdCBzaG93IHRoZSBubyByZXN1bHRzIG1lc3NhZ2VcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX3RoaXMuZW5hYmxlU2hvd05vUmVzdWx0cyA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudCwgW3tcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVDb21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVDb21wb25lbnQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uQ29udGFpbmVyID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLXBhZ2luYXRpb24td3JhcHBlcicsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucHJldkJ1dHRvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmV2QnV0dG9uQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kOiBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVJY29uKCdjaGV2cm9uLWxlZnQnKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dEJ1dHRvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBuZXh0QnV0dG9uQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kOiBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVJY29uKCdjaGV2cm9uLXJpZ2h0JylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBMaXN0ZW4gZm9yIGNsaWNrcyBvbiBvcHRpb25zXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNvbXBvbmVudENsaWNrKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBSdW4gY2xlYXIgb3B0aW9ucyB0byBnZXQgdGhlIGxvYWRlclxuICAgICAgICAgICAgICAgIHRoaXMuY2xlYXJPcHRpb25zKCk7XG4gICAgICAgICAgICAgICAgLy8gTG9hZCBwYWdpbmF0aW9uIGFmdGVyIHRoaXMgY29tcG9uZW50IGhhcyBiZWVuIHNldHVwXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIubG9hZE1vcmUoKTtcbiAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuU2Nyb2xsSGVscGVyLmF0dGFjaFdoZWVsTGlzdGVuZXIodGhpcy5jb21wb25lbnQsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBldmVudC5kZWx0YVggfHwgZXZlbnQuZGVsdGFZO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX29wdGlvbkNvbnRhaW5lciA9IF90aGlzMi5vcHRpb25Db250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxMZWZ0ID0gX29wdGlvbkNvbnRhaW5lci5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsV2lkdGggPSBfb3B0aW9uQ29udGFpbmVyLnNjcm9sbFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0V2lkdGggPSBfb3B0aW9uQ29udGFpbmVyLm9mZnNldFdpZHRoO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IE1hdGgubWluKHNjcm9sbExlZnQgKyBkZWx0YSwgc2Nyb2xsV2lkdGggLSBvZmZzZXRXaWR0aCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5vcHRpb25Db250YWluZXIuc2Nyb2xsTGVmdCA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIudG91Y2hTY3JvbGxIYW5kbGVyLnNldFZhbHVlcyhuZXdWYWx1ZSwgMCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5vblNjcm9sbCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMudG91Y2hTY3JvbGxIYW5kbGVyID0gbmV3IEltcGV0dXMoe1xuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IHRoaXMub3B0aW9uQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICBib3VuY2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtdWx0aXBsaWVyOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUoeCwgeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coeCwgeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIub3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgPSB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLm9wdGlvbkNvbnRhaW5lci5zY3JvbGxUb3AgPSB5O1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLm9uU2Nyb2xsKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kWTogWzAsIDBdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2xvYWRNb3JlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBsb2FkTW9yZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkTW9yZSgpLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMy5jbGVhck9wdGlvbkxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczMudXBkYXRlQm91bmRzKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZUJvdW5kcycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQm91bmRzKCkge1xuICAgICAgICAgICAgICAgIHZhciBfb3B0aW9uQ29udGFpbmVyMiA9IHRoaXMub3B0aW9uQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxXaWR0aCA9IF9vcHRpb25Db250YWluZXIyLnNjcm9sbFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRXaWR0aCA9IF9vcHRpb25Db250YWluZXIyLm9mZnNldFdpZHRoO1xuXG4gICAgICAgICAgICAgICAgdGhpcy50b3VjaFNjcm9sbEhhbmRsZXIuc2V0Qm91bmRYKFswLCBzY3JvbGxXaWR0aCAtIG9mZnNldFdpZHRoXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uU2Nyb2xsJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblNjcm9sbCgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZ2luYXRpb25CdXR0b25zKCk7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbkNvbnRhaW5lciA9IHRoaXMub3B0aW9uQ29udGFpbmVyO1xuICAgICAgICAgICAgICAgIHZhciByZWFjaGVkRW5kVG9sZXJhbmNlID0gMTA7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbkNvbnRhaW5lci5zY3JvbGxMZWZ0ID49IG9wdGlvbkNvbnRhaW5lci5zY3JvbGxXaWR0aCAtIG9wdGlvbkNvbnRhaW5lci5vZmZzZXRXaWR0aCAtIHJlYWNoZWRFbmRUb2xlcmFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkVuZFZpc2libGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uRW5kVmlzaWJsZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25FbmRWaXNpYmxlKCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc0xvYWRpbmcgJiYgdGhpcy5oYXNNb3JlUmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE9wdGlvbkxvYWRlcigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRNb3JlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkNvbXBvbmVudENsaWNrJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNvbXBvbmVudENsaWNrKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUYXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHBhcmVudHMgdW50aWwgd2UndmUgcmVhY2hlZCB0aGUgYm91bmQgZWxlbWVudFxuICAgICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50VGFyZ2V0ICE9PSB0aGlzLmNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMob3B0aW9uQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uT3B0aW9uQ2xpY2soY3VycmVudFRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY3VycmVudFRhcmdldCA9PT0gdGhpcy5wcmV2QnV0dG9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByZXZpb3VzUGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRUYXJnZXQgPT09IHRoaXMubmV4dEJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5uZXh0UGFnZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd1cGRhdGVQYWdpbmF0aW9uQnV0dG9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlUGFnaW5hdGlvbkJ1dHRvbnMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbkNvbnRhaW5lciA9IHRoaXMub3B0aW9uQ29udGFpbmVyO1xuICAgICAgICAgICAgICAgIHRoaXMucHJldkJ1dHRvbi5kaXNhYmxlZCA9IG9wdGlvbkNvbnRhaW5lci5zY3JvbGxMZWZ0ID09PSAwO1xuICAgICAgICAgICAgICAgIHRoaXMubmV4dEJ1dHRvbi5kaXNhYmxlZCA9IG9wdGlvbkNvbnRhaW5lci5zY3JvbGxMZWZ0ID49IG9wdGlvbkNvbnRhaW5lci5zY3JvbGxXaWR0aCAtIG9wdGlvbkNvbnRhaW5lci5jbGllbnRXaWR0aCAtIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFkZHMgYSBzcGlubmVyIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3QgaW5kaWNhdGluZyBzb21ldGhpbmcgaXMgbG9hZGluZ1xuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnYWRkT3B0aW9uTG9hZGVyJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRPcHRpb25Mb2FkZXIoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25Db250YWluZXIuYXBwZW5kQ2hpbGQoUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG9wdGlvbkNsYXNzICsgJyAnICsgb3B0aW9uTG9hZGVyQ2xhc3NcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NsZWFyT3B0aW9uTG9hZGVyJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhck9wdGlvbkxvYWRlcigpIHtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5yZW1vdmVDaGlsZHJlbldpdGhDbGFzc2VzKHRoaXMub3B0aW9uQ29udGFpbmVyLCBvcHRpb25Mb2FkZXJDbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2FkZE9wdGlvbkVsZW1lbnRzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRPcHRpb25FbGVtZW50cyhlbGVtZW50cykge1xuICAgICAgICAgICAgICAgIHZhciBoYXNOb1Jlc3VsdHMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudHMgaW5zdGFuY2VvZiBEb2N1bWVudEZyYWdtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc05vUmVzdWx0cyA9IGVsZW1lbnRzLmNoaWxkcmVuLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25Db250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudHMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudHMgaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzTm9SZXN1bHRzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGVsZW1lbnRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhhc05vUmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dOb1Jlc3VsdHMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhck9wdGlvbkxvYWRlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0ZpcnN0TG9hZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzaG93Tm9SZXN1bHRzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93Tm9SZXN1bHRzKCkge1xuICAgICAgICAgICAgICAgIHRoaXMubm9SZXN1bHRzRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBvcHRpb25DbGFzcyArICcgJyArIG5vUmVzdWx0c0NsYXNzLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ25vLXJlc3VsdHMnKSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMub3B0aW9uQ29udGFpbmVyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NsZWFyT3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJPcHRpb25zKCkge1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmVtcHR5KHRoaXMub3B0aW9uQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE9wdGlvbkxvYWRlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNGaXJzdExvYWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd1cGRhdGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZ2luYXRpb25CdXR0b25zKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2Nyb2xsVG8nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFRvKG5ld0xlZnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHZhciBzdGFydExlZnQgPSB0aGlzLm9wdGlvbkNvbnRhaW5lci5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IE1hdGguYWJzKHN0YXJ0TGVmdCAtIG5ld0xlZnQpIC8gMjtcbiAgICAgICAgICAgICAgICBUaW55QW5pbWF0ZS5hbmltYXRlKHN0YXJ0TGVmdCwgbmV3TGVmdCwgZHVyYXRpb24sIGZ1bmN0aW9uIChjdXJyZW50TGVmdCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQub3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgPSBjdXJyZW50TGVmdDtcbiAgICAgICAgICAgICAgICB9LCAnZWFzZU91dEN1YmljJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdwcmV2aW91c1BhZ2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByZXZpb3VzUGFnZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFRvKHRoaXMub3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgLSB0aGlzLm9wdGlvbkNvbnRhaW5lci5jbGllbnRXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ25leHRQYWdlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBuZXh0UGFnZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjcm9sbFRvKHRoaXMub3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgKyB0aGlzLm9wdGlvbkNvbnRhaW5lci5jbGllbnRXaWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NlbGVjdE9wdGlvbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0T3B0aW9uKG9wdGlvbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RlZE9wdGlvbiA9PT0gb3B0aW9uRWxlbWVudCkgcmV0dXJuOyAvLyBBbHJlYWR5IHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgdmFyIG9sZE9wdGlvbkVsZW1lbnQgPSB0aGlzLnNlbGVjdGVkT3B0aW9uO1xuICAgICAgICAgICAgICAgIGlmIChvbGRPcHRpb25FbGVtZW50KSBvbGRPcHRpb25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUob3B0aW9uU2VsZWN0ZWRDbGFzcywgb3B0aW9uTG9hZGluZ0NsYXNzKTtcbiAgICAgICAgICAgICAgICBvcHRpb25FbGVtZW50LmNsYXNzTGlzdC5hZGQob3B0aW9uU2VsZWN0ZWRDbGFzcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZE9wdGlvbiA9IG9wdGlvbkVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNldCBvciByZW1vdmUgdGhlIGxvYWRpbmcgY2xhc3MgZnJvbSB0aGUgY3VycmVudGx5IHNlbGVjdGVkIG9wdGlvblxuICAgICAgICAgICAgICogQHBhcmFtIGlzTG9hZGluZyBJZiB0cnVlLCBhZGQgdGhlIGxvYWRpbmcgY2xhc3MsIG90aGVyd2lzZSByZW1vdmUgaXRcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldE9wdGlvbklzTG9hZGluZycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0aW9uSXNMb2FkaW5nKGlzTG9hZGluZykge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZWxlY3RlZE9wdGlvbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24uY2xhc3NMaXN0W2lzTG9hZGluZyA/ICdhZGQnIDogJ3JlbW92ZSddKG9wdGlvbkxvYWRpbmdDbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENhbGxlZCB3aGVuIGFuIG9wdGlvbiBlbGVtZW50IGlzIGNsaWNrZWQgb24uXG4gICAgICAgICAgICAgKiBAcGFyYW0gb3B0aW9uRWxlbWVudCBUaGUgb3B0aW9uIGVsZW1lbnQgdGhhdCB3YXMgY2xpY2tlZCBvblxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25PcHRpb25DbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25PcHRpb25DbGljayhvcHRpb25FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RPcHRpb24ob3B0aW9uRWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudDtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5Db21wb25lbnRCYXNlKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VQYWdpbmF0aW9uQ29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudDtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIHJlc3VsdHNQZXJSZXF1ZXN0ID0gMjA7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3RvciA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJFIpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3IsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkUik7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3RvcihzaG93Y2FzZUluc3RhbmNlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3RvcikpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSkpO1xuXG4gICAgICAgICAgICB2YXIgX3Nob3djYXNlSW5zdGFuY2Ukc3RhID0gc2hvd2Nhc2VJbnN0YW5jZS5zdGF0ZS5nZXREYXRhKCksXG4gICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVDb25maWd1cmF0aW9uSUQgPSBfc2hvd2Nhc2VJbnN0YW5jZSRzdGEuY3VycmVudFZlaGljbGVDb25maWd1cmF0aW9uSUQ7XG5cbiAgICAgICAgICAgIF90aGlzLnZlaGljbGVDb25maWd1cmF0aW9uSUQgPSBjdXJyZW50VmVoaWNsZUNvbmZpZ3VyYXRpb25JRDtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yLCBbe1xuICAgICAgICAgICAga2V5OiAnX2xvYWRNb3JlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfbG9hZE1vcmUoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmhhc01vcmVSZXN1bHRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIExvYWQgcGFpbnQgc2NoZW1lcyBmb3IgdGhlIHZlaGljbGVcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwidmVoaWNsZS9nZXRwYWludHNjaGVtZWRlc2NyaXB0aW9uc1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIFZlaGljbGVDb25maWd1cmF0aW9uOiB0aGlzLnZlaGljbGVDb25maWd1cmF0aW9uSURcbiAgICAgICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmNyZWF0ZU9wdGlvbnMocmVzcG9uc2UuU2NoZW1lcyk7XG4gICAgICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY3JlYXRlT3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlT3B0aW9ucyhzY2hlbWVzKSB7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGEgZnJhZ21lbnQgc28gd2UgYWRkIGFsbCBvcHRpb25zIHRvIHRoZSBlbGVtZW50IGF0IG9uY2VcbiAgICAgICAgICAgICAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIGVhY2ggb3B0aW9uIGFuZCBhZGQgaXQgdG8gdGhlIGZyYWdtZW50XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHNjaGVtZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2NoZW1lID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbiByaWRlc3R5bGVyLXNob3djYXNlLXBhaW50LW9wdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IGZyYWdtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi5wYWludFNjaGVtZSA9IHNjaGVtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBtYWluIGNvbG9yIHRvIGJlIHJlcHJlc2VudGVkIGluIHRoZSBzd2F0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IG11bHRpLWNvbG9yIHBhaW50IHNjaGVtZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IHNjaGVtZS5Db2xvcnNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBcInN3YXRjaFwiOiBUaGUgZGlzcGxheSBvZiB0aGUgcGFpbnQgY29sb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzd2F0Y2ggPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbi1kaXNwbGF5IHJpZGVzdHlsZXItc2hvd2Nhc2UtcGFpbnQtc3dhdGNoJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yLkhleFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbmFtZSBvZiB0aGUgcGFpbnQgc2NoZW1lIGFzIHRoZSBsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbi1sYWJlbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogc2NoZW1lLlNjaGVtZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBdHRyaWJ1dGVzIG9mIHRoZSBjb2xvciBmb3IgdGhlIHNlY29uZGFyeSBsYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZXMgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbi1sYWJlbC1zZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3IuY3JlYXRlQXR0cmlidXRlTGFiZWwoY29sb3IuQXR0cmlidXRlcyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgb3V0IG91ciBzbGlkZVdyYXBwZXIgb2YgYWxsIGVsZW1lbnRzXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5lbXB0eSh0aGlzLm9wdGlvbkNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgLy8gQWRkIGFsbCBvcHRpb25zIHRvIHRoZSBzbGlkZVdyYXBwZXIgYXQgb25jZVxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbk9wdGlvbkNsaWNrJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbk9wdGlvbkNsaWNrKG9wdGlvbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFpbnRTY2hlbWUgPSBvcHRpb25FbGVtZW50LnBhaW50U2NoZW1lO1xuICAgICAgICAgICAgICAgIGlmIChwYWludFNjaGVtZSkge1xuICAgICAgICAgICAgICAgICAgICBfZ2V0KFJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3IucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3Rvci5wcm90b3R5cGUpLCAnb25PcHRpb25DbGljaycsIHRoaXMpLmNhbGwodGhpcywgb3B0aW9uRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuZXh0ZW5kRGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGFpbnRTY2hlbWU6IHBhaW50U2NoZW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub25QYWludFNjaGVtZVNlbGVjdGVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUGFpbnRTY2hlbWVTZWxlY3RlZChwYWludFNjaGVtZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dLCBbe1xuICAgICAgICAgICAga2V5OiAnY3JlYXRlQXR0cmlidXRlTGFiZWwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUF0dHJpYnV0ZUxhYmVsKGF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVmYXVsdEF0dHJpYnV0ZVN0cmluZyA9ICdHbG9zc3knO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzID09PSAwIC8qIE5vbmUgKi8pIHJldHVybiBkZWZhdWx0QXR0cmlidXRlU3RyaW5nO1xuICAgICAgICAgICAgICAgIHZhciBzdHJpbmdBdHRyaWJ1dGVzID0gW107XG4gICAgICAgICAgICAgICAgLy8gQWRkIGVhY2ggc2VsZWN0ZWQgcGFpbnQgYXR0cmlidXRlIGZsYWcgZm9yIHRoZSBjb2xvciB0byB0aGUgbGlzdFxuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzICYmIDQgLyogTWF0dGUgKi8gPT09IDQgLyogTWF0dGUgKi8pIHN0cmluZ0F0dHJpYnV0ZXMucHVzaCgnTWF0dGUnKTtcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlcyAmJiAxIC8qIE1ldGFsbGljICovID09PSAxIC8qIE1ldGFsbGljICovKSBzdHJpbmdBdHRyaWJ1dGVzLnB1c2goJ01ldGFsbGljJyk7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMgJiYgMiAvKiBQZWFybGVzY2VudCAqLyA9PT0gMiAvKiBQZWFybGVzY2VudCAqLykgc3RyaW5nQXR0cmlidXRlcy5wdXNoKCdQZWFybGVzY2VudCcpO1xuICAgICAgICAgICAgICAgIGlmIChzdHJpbmdBdHRyaWJ1dGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGRlZmF1bHRBdHRyaWJ1dGVTdHJpbmc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZ0F0dHJpYnV0ZXMuam9pbignLCAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3IgPSBSaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBwb3BvdmVyQ2xhc3MgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1wb3BvdmVyJztcbiAgICB2YXIgcG9wb3ZlckluQ2xhc3MgPSAnaW4nO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVBvcG92ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVBvcG92ZXIoKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlUG9wb3Zlcik7XG5cbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBwb3BvdmVyQ2xhc3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVBvcG92ZXIsIFt7XG4gICAgICAgICAgICBrZXk6ICdzaG93JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VmlzaWJsZSh0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaGlkZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpc2libGUoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRWaXNpYmxlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWaXNpYmxlKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QudG9nZ2xlKHBvcG92ZXJJbkNsYXNzLCB2aXNpYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaXNWaXNpYmxlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc1Zpc2libGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5jb250YWlucyhwb3BvdmVySW5DbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3RvZ2dsZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdG9nZ2xlKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VmlzaWJsZSh0aGlzLmlzVmlzaWJsZSgpID8gZmFsc2UgOiB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VQb3BvdmVyO1xuICAgIH0oKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VQb3BvdmVyID0gUmlkZVN0eWxlclNob3djYXNlUG9wb3Zlcjtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIHByb2R1Y3RNb2RhbENsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcHJvZHVjdC1tb2RhbCc7XG4gICAgdmFyIHRpdGxlQ2xhc3MgPSBwcm9kdWN0TW9kYWxDbGFzcyArICctdGl0bGUnO1xuICAgIHZhciBwYWdlQ2xhc3MgPSBwcm9kdWN0TW9kYWxDbGFzcyArICctcGFnZSc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkUikge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsLCBfUmlkZVN0eWxlclNob3djYXNlJFIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbChzaG93Y2FzZUluc3RhbmNlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsKTtcblxuICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0TW9kYWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0TW9kYWwpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UsIHtcbiAgICAgICAgICAgICAgICByZW1vdmVPbkhpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbCwgW3tcbiAgICAgICAgICAgIGtleTogJ2J1aWxkTW9kYWwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkTW9kYWwoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBfZ2V0KFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbC5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0TW9kYWwucHJvdG90eXBlKSwgJ2J1aWxkTW9kYWwnLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5hZGQocHJvZHVjdE1vZGFsQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUb2dnbGVCdXR0b24odGhpcy5zaG93Y2FzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVCdXR0b24ub25DaGFuZ2VkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNob3cgdGhlIGNvcnJlY3QgcGFnZSB3aGVuIHRoZSB0b2dnbGUgYnV0dG9uIGlzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBfdGhpczIucGFnZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhZ2UgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYWdlLmxhYmVsID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2hvd1BhZ2UocGFnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZENoaWxkKHRoaXMudG9nZ2xlQnV0dG9uLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnaDEnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGl0bGVDbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmQ6IFt0aGlzLmJyYW5kVGl0bGVFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudFdpdGhDbGFzcygnc3BhbicsIHRpdGxlQ2xhc3MgKyAnLWJyYW5kJyksIHRoaXMudGl0bGVFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnc3BhbicpLCB0aGlzLnN1YnRpdGxlRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MoJ3NwYW4nLCB0aXRsZUNsYXNzICsgJy1zdWJ0aXRsZScpXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc3VtbWFyeUNvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHByb2R1Y3RNb2RhbENsYXNzICsgJy1zdW1tYXJ5LWNvbnRhaW5lcidcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlQ29udGFpbmVyID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJvZHVjdE1vZGFsQ2xhc3MgKyAnLWltYWdlJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuc3VtbWFyeUNvbnRhaW5lclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2UgPSB0aGlzLmNyZWF0ZUltYWdlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zdW1tYXJ5RWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHByb2R1Y3RNb2RhbENsYXNzICsgJy1zdW1tYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuc3VtbWFyeUNvbnRhaW5lclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUGFnZSh7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3N1bW1hcnknKSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiB0aGlzLnN1bW1hcnlDb250YWluZXJcbiAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQWRkIGEgbmV3IHBhZ2UgdG8gdGhlIHByb2R1Y3QgbW9kYWwgYW5kIHRvZ2dsZSBidXR0b25cbiAgICAgICAgICAgICAqIEBwYXJhbSBwYWdlIFRoZSBuZXcgcGFnZVxuICAgICAgICAgICAgICogQHBhcmFtIHNldFZpc2libGUgSWYgdHJ1ZSwgc2hvdyB0aGUgcGFnZSBhZnRlciBhZGRpbmcgaXRcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2FkZFBhZ2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZFBhZ2UocGFnZSkge1xuICAgICAgICAgICAgICAgIHZhciBzZXRWaXNpYmxlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5wYWdlcykgdGhpcy5wYWdlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMucGFnZXMucHVzaChwYWdlKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvbi5hZGRPcHRpb24oe1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogcGFnZS5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHBhZ2UubGFiZWxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0VmlzaWJsZSkgdGhpcy5zaG93UGFnZShwYWdlKTtlbHNlIFJpZGVTdHlsZXJTaG93Y2FzZS5WaXNpYmlsaXR5SGVscGVyLnNldFZpc2liaWxpdHkocGFnZS5jb250YWluZXIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBwYWdlLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKHBhZ2VDbGFzcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYXBwZW5kQ2hpbGQocGFnZS5jb250YWluZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXQgdGhlIHBhZ2UgYXMgdmlzaWJsZSBhbmQgaGlkZSB0aGUgb3RoZXIgcGFnZXMsIHVwZGF0ZSB0aGUgc3RhdGUgb2YgdGhlIHRvZ2dsZSBidXR0b25cbiAgICAgICAgICAgICAqIEBwYXJhbSBuZXdQYWdlIFRoZSBwYWdlIHRvIHNob3dcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3Nob3dQYWdlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93UGFnZShuZXdQYWdlKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSB0aGlzLnBhZ2VzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFnZSA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLlZpc2liaWxpdHlIZWxwZXIuc2V0VmlzaWJpbGl0eShwYWdlLmNvbnRhaW5lciwgcGFnZSA9PT0gbmV3UGFnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvbi5zZXRWYWx1ZShuZXdQYWdlLmxhYmVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25IaWRkZW4nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uSGlkZGVuKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2UuZGVzdHJveSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbDtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsID0gUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KG9iamVjdCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTsgfSB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkUikge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yLCBfUmlkZVN0eWxlclNob3djYXNlJFIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3RvcigpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0U2VsZWN0b3IpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgICAgIF90aGlzLnJlc3VsdHNQZXJMb2FkID0gMjA7XG4gICAgICAgICAgICBfdGhpcy5jb3VudCA9IC0xO1xuICAgICAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3RvciwgW3tcbiAgICAgICAgICAgIGtleTogJ19sb2FkTW9yZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2xvYWRNb3JlKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBjb3VudFByb21pc2UgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY291bnQgPiAtMSkge1xuICAgICAgICAgICAgICAgICAgICBjb3VudFByb21pc2UgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci5yZXNvbHZlZCh0aGlzLmNvdW50KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb3VudFByb21pc2UgPSB0aGlzLmNvdW50UmVzdWx0cyh0aGlzLmN1cnJlbnRGaWx0ZXJzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdHNQZXJMb2FkID0gdGhpcy5yZXN1bHRzUGVyTG9hZDtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihjb3VudFByb21pc2UsIGZ1bmN0aW9uIChwcm9kdWN0Q291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmNvdW50ID0gcHJvZHVjdENvdW50O1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVycyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFN0YXJ0OiBfdGhpczIuaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgICAgICBDb3VudDogcmVzdWx0c1BlckxvYWRcbiAgICAgICAgICAgICAgICAgICAgfSwgX3RoaXMyLmN1cnJlbnRGaWx0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5nZXRSZXN1bHRzKGZpbHRlcnMpLmRvbmUoZnVuY3Rpb24gKHByb2R1Y3RzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaW5kZXggKz0gcmVzdWx0c1BlckxvYWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaGFzTW9yZVJlc3VsdHMgPSBfdGhpczIuaW5kZXggKyByZXN1bHRzUGVyTG9hZCA8IHByb2R1Y3RDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5jcmVhdGVPcHRpb25zKHByb2R1Y3RzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0IGZpbHRlcnMgYW5kIHJlbG9hZFxuICAgICAgICAgICAgICogQHBhcmFtIG5ld0ZpbHRlcnMgVGhlIG5ldyBmaWx0ZXJzXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRGaWx0ZXJzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGaWx0ZXJzKG5ld0ZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyT3B0aW9ucygpO1xuICAgICAgICAgICAgICAgIC8vIFJlc2V0IG91ciBjb3VudFxuICAgICAgICAgICAgICAgIHRoaXMuY291bnQgPSAtMTtcbiAgICAgICAgICAgICAgICAvLyBSZXNldCBvdXIgaW5kZXhcbiAgICAgICAgICAgICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICAvLyBTZXQgb3VyIGZpbHRlcnNcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRGaWx0ZXJzID0gbmV3RmlsdGVycztcbiAgICAgICAgICAgICAgICAvLyBMb2FkIGZpcnN0IHJlc3VsdCBzZXRcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRNb3JlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVwZGF0ZSBmaWx0ZXJzIGFuZCByZWxvYWRcbiAgICAgICAgICAgICAqIEBwYXJhbSBmaWx0ZXJVcGRhdGVzIFRoZSBmaWx0ZXIgcHJvcGVydGllcyB0byB1cGRhdGVcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZUZpbHRlcnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUZpbHRlcnMoZmlsdGVyVXBkYXRlcykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RmlsdGVycyhSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbih0aGlzLmN1cnJlbnRGaWx0ZXJzLCBmaWx0ZXJVcGRhdGVzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NyZWF0ZU9wdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMocHJvZHVjdHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHByb2R1Y3RzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2R1Y3QgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLnByb2R1Y3RGaWx0ZXIocHJvZHVjdCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLXBhZ2luYXRpb24tb3B0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogZnJhZ21lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnByb2R1Y3QgPSBwcm9kdWN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW1hZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2VTb3VyY2UgPSB0aGlzLnByb2R1Y3RJbWFnZVNvdXJjZShwcm9kdWN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2VTb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnaW1nJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbi1kaXNwbGF5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBvcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjOiBpbWFnZVNvdXJjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJvZHVjdEltYWdlTGFiZWxzID0gdGhpcy5wcm9kdWN0SW1hZ2VMYWJlbHMocHJvZHVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbi1sYWJlbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogcHJvZHVjdEltYWdlTGFiZWxzLnByaW1hcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvZHVjdEltYWdlTGFiZWxzLnNlY29uZGFyeSkgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi1vcHRpb24tbGFiZWwtc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBwcm9kdWN0SW1hZ2VMYWJlbHMuc2Vjb25kYXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2R1Y3RJbWFnZUxhYmVscy50ZXJ0aWFyeSkgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi1vcHRpb24tbGFiZWwtdGVydGlhcnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHByb2R1Y3RJbWFnZUxhYmVscy50ZXJ0aWFyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRPcHRpb25FbGVtZW50cyhmcmFnbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uT3B0aW9uQ2xpY2snLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uT3B0aW9uQ2xpY2sob3B0aW9uRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBwcm9kdWN0ID0gb3B0aW9uRWxlbWVudC5wcm9kdWN0O1xuICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIF9nZXQoUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3Rvci5wcm90b3R5cGUpLCAnb25PcHRpb25DbGljaycsIHRoaXMpLmNhbGwodGhpcywgb3B0aW9uRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Qcm9kdWN0Q2xpY2socHJvZHVjdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblByb2R1Y3RDbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25Qcm9kdWN0Q2xpY2socHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5wcm9kdWN0U2VsZWN0ZWRDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5wcm9kdWN0U2VsZWN0ZWRDYWxsYmFjayhwcm9kdWN0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0U2VsZWN0b3I7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudCk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yID0gUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBjbGFzc05hbWUgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1xci1kaXNwbGF5JztcblxuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VRUkNvZGVDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVFSQ29kZUNvbXBvbmVudChsaW5rKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlUVJDb2RlQ29tcG9uZW50KTtcblxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5xckNvZGVFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnYScsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctaW1hZ2UnLFxuICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldDogJ19ibGFuaydcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucXJDb2RlID0gbmV3IFFSQ29kZSh0aGlzLnFyQ29kZUVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKGxpbmspIHRoaXMuZGlzcGxheVVSTChsaW5rKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VRUkNvZGVDb21wb25lbnQsIFt7XG4gICAgICAgICAgICBrZXk6ICdkaXNwbGF5VVJMJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkaXNwbGF5VVJMKHVybCkge1xuICAgICAgICAgICAgICAgIHRoaXMucXJDb2RlRWxlbWVudC5ocmVmID0gdXJsO1xuICAgICAgICAgICAgICAgIHRoaXMucXJDb2RlLm1ha2VDb2RlKHVybCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlUVJDb2RlQ29tcG9uZW50O1xuICAgIH0oKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VRUkNvZGVDb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2VRUkNvZGVDb21wb25lbnQ7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IHJldHVybiBnZXQocGFyZW50LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpOyB9IH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9O1xuXG52YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBzaGFyZTtcbiAgICAoZnVuY3Rpb24gKHNoYXJlKSB7XG4gICAgICAgIHZhciBidXR0b25DbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXNoYXJlLWJ1dHRvbic7XG5cbiAgICAgICAgdmFyIFNoYXJlQnV0dG9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gU2hhcmVCdXR0b24oc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFNoYXJlQnV0dG9uKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlQnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBidXR0b25DbGFzc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy5jbGFzc05hbWUpIHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5hZGQoc2V0dGluZ3MuY2xhc3NOYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MudGl0bGUpIHRoaXMuY29tcG9uZW50LnRpdGxlID0gc2V0dGluZ3MudGl0bGU7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5vbkNsaWNrKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFVwZGF0ZSB0aGUgVVJMIGZvciB0aGlzIHNoYXJlIGJ1dHRvbiB0byBzaGFyZVxuICAgICAgICAgICAgICogQHBhcmFtIHVybCBUaGUgVVJMIHRvIHNoYXJlXG4gICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoU2hhcmVCdXR0b24sIFt7XG4gICAgICAgICAgICAgICAga2V5OiAnc2V0VVJMJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VVJMKHVybCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRVUkwgPSB1cmw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIEF0dGFjaCB0YWdzIHRvIHRoZSBtZXNzYWdlIGJlaW5nIHNoYXJlZFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSB0YWdzIFRoZSB0YWdzIHRvIGF0dGFjaCB0byB0aGUgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnc2V0VGFncycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFRhZ3ModGFncykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZ3MgPSB0YWdzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTZXQgYSBtZXNzYWdlIHRvIHNoYXJlIHdpdGggdGhlIFVSTFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIHNoYXJlIGFsb25nIHdpdGggdGhlIFVSTFxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnc2V0TWVzc2FnZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBDYWxsZWQgZXZlcnkgdGltZSB0aGUgc2hhcmUgYnV0dG9uIGlzIGNsaWNrZWRcbiAgICAgICAgICAgICAgICAgKiBAdmlydHVhbFxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnb25DbGljaycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2soKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50VVJMKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hhcmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU2hhcmUgdGhlIGN1cnJlbnQgVVJMXG4gICAgICAgICAgICAgICAgICogQHZpcnR1YWxcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ3NoYXJlJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hhcmUoKSB7fVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ29wZW5OZXdXaW5kb3cnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvcGVuTmV3V2luZG93KHVybCwgc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MgPSBzZXR0aW5ncyB8fCB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRIZWlnaHQgPSA0MjAsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0V2lkdGggPSA1NTA7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHNldHRpbmdzLndpZHRoIHx8IGRlZmF1bHRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IHNldHRpbmdzLmhlaWdodCB8fCBkZWZhdWx0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2NyZWVuSGVpZ2h0ID0gc2NyZWVuLmhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcmVlbldpZHRoID0gc2NyZWVuLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdG9wID0gc2NyZWVuSGVpZ2h0ID4gaGVpZ2h0ID8gTWF0aC5yb3VuZChzY3JlZW5IZWlnaHQgLyAyIC0gaGVpZ2h0IC8gMikgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IE1hdGgucm91bmQoc2NyZWVuV2lkdGggLyAyIC0gd2lkdGggLyAyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IHNldHRpbmdzLnRhcmdldCB8fCAnc2hhcmUnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgd2luZG93U2V0dGluZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFkZFNldHRpbmcgPSBmdW5jdGlvbiBhZGRTZXR0aW5nKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gd2luZG93U2V0dGluZ3MucHVzaChuYW1lICsgJz0nICsgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWRkQm9vbGVhblNldHRpbmcgPSBmdW5jdGlvbiBhZGRCb29sZWFuU2V0dGluZyhuYW1lLCBlbmFibGVkLCBlbmFibGVkQnlEZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGVuYWJsZWQgIT09ICdib29sZWFuJykgZW5hYmxlZCA9IGVuYWJsZWRCeURlZmF1bHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRTZXR0aW5nKG5hbWUsIGVuYWJsZWQgPyAneWVzJyA6ICdubycpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBhZGRCb29sZWFuU2V0dGluZygnc2Nyb2xsYmFycycsIHNldHRpbmdzLmVuYWJsZVNjcm9sbGJhcnMsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBhZGRCb29sZWFuU2V0dGluZygncmVzaXphYmxlJywgc2V0dGluZ3MuZW5hYmxlUmVzaXplYWJsZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZEJvb2xlYW5TZXR0aW5nKCd0b29sYmFyJywgc2V0dGluZ3MuZW5hYmxlVG9vbGJhciwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBhZGRCb29sZWFuU2V0dGluZygnbG9jYXRpb24nLCBzZXR0aW5ncy5lbmFibGVMb2NhdGlvbiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFNldHRpbmcoJ3dpZHRoJywgd2lkdGgudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFNldHRpbmcoJ2hlaWdodCcsIGhlaWdodC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkU2V0dGluZygndG9wJywgdG9wLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICBhZGRTZXR0aW5nKCdsZWZ0JywgbGVmdC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4odXJsLCB0YXJnZXQsIHRhcmdldCAhPT0gJ19ibGFuaycgPyB3aW5kb3dTZXR0aW5ncy5qb2luKCcsJykgOiAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ2dldFNoYXJlUmVkaXJlY3RVUkwnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTaGFyZVJlZGlyZWN0VVJMKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXBwVVJMID0gJ2h0dHBzOi8vYXBwLnJpZGVzdHlsZXIubmV0JztcbiAgICAgICAgICAgICAgICAgICAgaWYgKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkuZW52aXJvbm1lbnQgPT09IFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkuRW52aXJvbm1lbnQuQWxwaGEpIGFwcFVSTCA9ICdodHRwOi8vYXBwLWFscGhhLnJpZGVzdHlsZXIubmV0JztlbHNlIGlmIChSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLmVudmlyb25tZW50ID09PSBSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLkVudmlyb25tZW50LkJldGEpIGFwcFVSTCA9ICdodHRwOi8vYXBwLWJldGEucmlkZXN0eWxlci5uZXQnO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBwVVJMICsgJy9zaGFyZWQuaHRtbCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gU2hhcmVCdXR0b247XG4gICAgICAgIH0oKTtcblxuICAgICAgICBzaGFyZS5TaGFyZUJ1dHRvbiA9IFNoYXJlQnV0dG9uO1xuICAgICAgICB2YXIgdHdpdHRlckludGVudFVSTCA9ICcnO1xuXG4gICAgICAgIHZhciBUd2l0dGVyU2hhcmVCdXR0b24gPSBmdW5jdGlvbiAoX1NoYXJlQnV0dG9uKSB7XG4gICAgICAgICAgICBfaW5oZXJpdHMoVHdpdHRlclNoYXJlQnV0dG9uLCBfU2hhcmVCdXR0b24pO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBUd2l0dGVyU2hhcmVCdXR0b24oKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFR3aXR0ZXJTaGFyZUJ1dHRvbik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFR3aXR0ZXJTaGFyZUJ1dHRvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFR3aXR0ZXJTaGFyZUJ1dHRvbikpLmNhbGwodGhpcywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGJ1dHRvbkNsYXNzICsgJy10d2l0dGVyJyxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdUd2l0dGVyJ1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2hhcmUgdGhlIGN1cnJlbnQgVVJMIHZpYSBUd2l0dGVyXG4gICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoVHdpdHRlclNoYXJlQnV0dG9uLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ3NoYXJlJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hhcmUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSAnaHR0cHM6Ly90d2l0dGVyLmNvbS9pbnRlbnQvdHdlZXQ/JztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHR3aXR0ZXJJbnRlbnRQYXJhbWV0ZXJzID0gWyd1cmw9JyArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmN1cnJlbnRVUkwpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMubWVzc2FnZSkgdHdpdHRlckludGVudFBhcmFtZXRlcnMucHVzaCgndGV4dD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMubWVzc2FnZSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YWdzICYmIHRoaXMudGFncy5sZW5ndGgpIHR3aXR0ZXJJbnRlbnRQYXJhbWV0ZXJzLnB1c2goJ2hhc2h0YWdzPScgKyBSaWRlU3R5bGVyU2hvd2Nhc2UuQXJyYXlIZWxwZXIubWFwKHRoaXMudGFncywgZnVuY3Rpb24gKHRhZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh0YWcpO1xuICAgICAgICAgICAgICAgICAgICB9KS5qb2luKCcsJykpO1xuICAgICAgICAgICAgICAgICAgICB1cmwgKz0gdHdpdHRlckludGVudFBhcmFtZXRlcnMuam9pbignJicpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5OZXdXaW5kb3codXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBUd2l0dGVyU2hhcmVCdXR0b247XG4gICAgICAgIH0oU2hhcmVCdXR0b24pO1xuXG4gICAgICAgIHNoYXJlLlR3aXR0ZXJTaGFyZUJ1dHRvbiA9IFR3aXR0ZXJTaGFyZUJ1dHRvbjtcblxuICAgICAgICB2YXIgRmFjZWJvb2tTaGFyZUJ1dHRvbiA9IGZ1bmN0aW9uIChfU2hhcmVCdXR0b24yKSB7XG4gICAgICAgICAgICBfaW5oZXJpdHMoRmFjZWJvb2tTaGFyZUJ1dHRvbiwgX1NoYXJlQnV0dG9uMik7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIEZhY2Vib29rU2hhcmVCdXR0b24oKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZhY2Vib29rU2hhcmVCdXR0b24pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChGYWNlYm9va1NoYXJlQnV0dG9uLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRmFjZWJvb2tTaGFyZUJ1dHRvbikpLmNhbGwodGhpcywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGJ1dHRvbkNsYXNzICsgJy1mYWNlYm9vaycsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRmFjZWJvb2snXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTaGFyZSB0aGUgY3VycmVudCBVUkwgdmlhIEZhY2Vib29rXG4gICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoRmFjZWJvb2tTaGFyZUJ1dHRvbiwgW3tcbiAgICAgICAgICAgICAgICBrZXk6ICdzaGFyZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNoYXJlKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gJ2h0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9kaWFsb2cvc2hhcmU/JztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZhY2Vib29rRGlhbG9nUGFyYW1ldGVycyA9IFsnYXBwX2lkPTE1NzYzODA0MTI1ODI4NDUnLCAnZGlzcGxheT1wb3B1cCcsICdocmVmPScgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5jdXJyZW50VVJMKSwgJ3JlZGlyZWN0X3VyaT0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuZ2V0U2hhcmVSZWRpcmVjdFVSTCgpKV07XG4gICAgICAgICAgICAgICAgICAgIC8vIEZhY2Vib29rIG9ubHkgbGV0cyB5b3Ugc3BlY2lmeSBvbmUgaGFzaHRhZywgc28gd2UgdXNlIHRoZSBmaXJzdFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50YWdzICYmIHRoaXMudGFncy5sZW5ndGgpIGZhY2Vib29rRGlhbG9nUGFyYW1ldGVycy5wdXNoKCdoYXNodGFnPScgKyBlbmNvZGVVUklDb21wb25lbnQoJyMnICsgdGhpcy50YWdzWzBdKSk7XG4gICAgICAgICAgICAgICAgICAgIHVybCArPSBmYWNlYm9va0RpYWxvZ1BhcmFtZXRlcnMuam9pbignJicpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5OZXdXaW5kb3codXJsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBGYWNlYm9va1NoYXJlQnV0dG9uO1xuICAgICAgICB9KFNoYXJlQnV0dG9uKTtcblxuICAgICAgICBzaGFyZS5GYWNlYm9va1NoYXJlQnV0dG9uID0gRmFjZWJvb2tTaGFyZUJ1dHRvbjtcblxuICAgICAgICB2YXIgTmV3V2luZG93U2hhcmVCdXR0b24gPSBmdW5jdGlvbiAoX1NoYXJlQnV0dG9uMykge1xuICAgICAgICAgICAgX2luaGVyaXRzKE5ld1dpbmRvd1NoYXJlQnV0dG9uLCBfU2hhcmVCdXR0b24zKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gTmV3V2luZG93U2hhcmVCdXR0b24oKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5ld1dpbmRvd1NoYXJlQnV0dG9uKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTmV3V2luZG93U2hhcmVCdXR0b24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihOZXdXaW5kb3dTaGFyZUJ1dHRvbikpLmNhbGwodGhpcywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGJ1dHRvbkNsYXNzICsgJy1saW5rJ1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2hhcmUgdGhlIGN1cnJlbnQgVVJMIGJ5IG9wZW5pbmcgaXQgaW4gYSBuZXcgd2luZG93XG4gICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoTmV3V2luZG93U2hhcmVCdXR0b24sIFt7XG4gICAgICAgICAgICAgICAga2V5OiAnc2hhcmUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaGFyZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuTmV3V2luZG93KHRoaXMuY3VycmVudFVSTCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAnX2JsYW5rJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBOZXdXaW5kb3dTaGFyZUJ1dHRvbjtcbiAgICAgICAgfShTaGFyZUJ1dHRvbik7XG5cbiAgICAgICAgc2hhcmUuTmV3V2luZG93U2hhcmVCdXR0b24gPSBOZXdXaW5kb3dTaGFyZUJ1dHRvbjtcblxuICAgICAgICB2YXIgUVJTaGFyZUJ1dHRvbiA9IGZ1bmN0aW9uIChfU2hhcmVCdXR0b240KSB7XG4gICAgICAgICAgICBfaW5oZXJpdHMoUVJTaGFyZUJ1dHRvbiwgX1NoYXJlQnV0dG9uNCk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIFFSU2hhcmVCdXR0b24oKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFFSU2hhcmVCdXR0b24pO1xuXG4gICAgICAgICAgICAgICAgdmFyIF90aGlzNSA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChRUlNoYXJlQnV0dG9uLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUVJTaGFyZUJ1dHRvbikpLmNhbGwodGhpcywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGJ1dHRvbkNsYXNzICsgJy1xci1jb2RlJ1xuICAgICAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgICAgIF90aGlzNS5wb3BvdmVyID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VQb3BvdmVyKCk7XG4gICAgICAgICAgICAgICAgX3RoaXM1LmNvbXBvbmVudC5hcHBlbmRDaGlsZChfdGhpczUucG9wb3Zlci5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIF90aGlzNS5xckNvZGUgPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVFSQ29kZUNvbXBvbmVudCgpO1xuICAgICAgICAgICAgICAgIF90aGlzNS5wb3BvdmVyLmNvbXBvbmVudC5hcHBlbmRDaGlsZChfdGhpczUucXJDb2RlLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKFFSU2hhcmVCdXR0b24sIFt7XG4gICAgICAgICAgICAgICAga2V5OiAnc2V0VVJMJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VVJMKHVybCkge1xuICAgICAgICAgICAgICAgICAgICBfZ2V0KFFSU2hhcmVCdXR0b24ucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUVJTaGFyZUJ1dHRvbi5wcm90b3R5cGUpLCAnc2V0VVJMJywgdGhpcykuY2FsbCh0aGlzLCB1cmwpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnFyQ29kZS5kaXNwbGF5VVJMKHVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ29uQ2xpY2snLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcG92ZXIudG9nZ2xlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gUVJTaGFyZUJ1dHRvbjtcbiAgICAgICAgfShTaGFyZUJ1dHRvbik7XG5cbiAgICAgICAgc2hhcmUuUVJTaGFyZUJ1dHRvbiA9IFFSU2hhcmVCdXR0b247XG4gICAgfSkoc2hhcmUgPSBSaWRlU3R5bGVyU2hvd2Nhc2Uuc2hhcmUgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5zaGFyZSA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IHJldHVybiBnZXQocGFyZW50LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpOyB9IH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9O1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBzaGFyZU1vZGFsQ2xhc3MgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1zaGFyZSc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbCA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJFIpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkUik7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbChzaG93Y2FzZUluc3RhbmNlLCB2ZWhpY2xlUmVuZGVySW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbCk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbCkpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSwge1xuICAgICAgICAgICAgICAgIHJlbW92ZU9uSGlkZGVuOiB0cnVlLFxuICAgICAgICAgICAgICAgIGZ1bGw6IHRydWVcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgX3RoaXMuaW1hZ2VUeXBlID0gMiAvKiBBbmdsZSAqLztcbiAgICAgICAgICAgIF90aGlzLnJlc2l6ZWRDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMudXBkYXRlVmlld3BvcnQoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBDb3B5IHRoZSByZW5kZXIgaW5zdHJ1Y3Rpb25zXG4gICAgICAgICAgICBfdGhpcy52ZWhpY2xlUmVuZGVySW5zdHJ1Y3Rpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgdmVoaWNsZVJlbmRlckluc3RydWN0aW9ucyk7XG4gICAgICAgICAgICBfdGhpcy5vbkluc3RydWN0aW9uc0NoYW5nZWQoKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQnVpbGQgdGhlIERPTSBzdHJ1Y3R1cmVcbiAgICAgICAgICovXG5cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbCwgW3tcbiAgICAgICAgICAgIGtleTogJ2J1aWxkTW9kYWwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkTW9kYWwoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBfZ2V0KFJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbC5wcm90b3R5cGUpLCAnYnVpbGRNb2RhbCcsIHRoaXMpLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LmFkZChzaGFyZU1vZGFsQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHZhciBiYWNrZ3JvdW5kID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kKHRoaXMuc2hvd2Nhc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZENoaWxkKGJhY2tncm91bmQuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdoMScsIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3NoYXJlLW15LXZlaGljbGUnKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIEluc3RydWN0aW9uc1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ3AnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2Utc2hhcmUtaW5zdHJ1Y3Rpb25zJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzaGFyZS1pbnN0cnVjdGlvbnMnKSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVTaGFyZUJ1dHRvbnMoKTtcbiAgICAgICAgICAgICAgICAvLyBSb3RhdGUgVUlcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jYW5Td2l0Y2hBbmdsZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucm90YXRlRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2Utcm90YXRlLXZlaGljbGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLnN3aXRjaEFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY3JlYXRlU2hhcmVCdXR0b25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVTaGFyZUJ1dHRvbnMoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zaGFyZUJ1dHRvbnMgPSBbbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5zaGFyZS5GYWNlYm9va1NoYXJlQnV0dG9uKCksIG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2Uuc2hhcmUuVHdpdHRlclNoYXJlQnV0dG9uKCksIG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2Uuc2hhcmUuUVJTaGFyZUJ1dHRvbigpLCBuZXcgUmlkZVN0eWxlclNob3djYXNlLnNoYXJlLk5ld1dpbmRvd1NoYXJlQnV0dG9uKCldO1xuICAgICAgICAgICAgICAgIHZhciBzaGFyZUJ1dHRvbkNvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHNoYXJlTW9kYWxDbGFzcyArICctYnV0dG9ucycsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB0aGlzLnNoYXJlQnV0dG9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaGFyZUJ1dHRvbiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFyZUJ1dHRvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChzaGFyZUJ1dHRvbi5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uU2hvdycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25TaG93KCkge1xuICAgICAgICAgICAgICAgIF9nZXQoUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbC5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsLnByb3RvdHlwZSksICdvblNob3cnLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBWaWV3cG9ydCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uKCdyZXNpemVkJywgdGhpcy5yZXNpemVkQ2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkhpZGRlbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25IaWRkZW4oKSB7XG4gICAgICAgICAgICAgICAgX2dldChSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwucHJvdG90eXBlKSwgJ29uSGlkZGVuJywgdGhpcykuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vZmYoJ3Jlc2l6ZWQnLCB0aGlzLnJlc2l6ZWRDYWxsYmFjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZVZpZXdwb3J0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVWaWV3cG9ydCgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVWaWV3cG9ydC5VcGRhdGUodGhpcy52ZWhpY2xlUmVuZGVySW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZ2V0U2hhcmVVUkwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFNoYXJlVVJMKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcHBVUkwgPSAnaHR0cHM6Ly9hcHAucmlkZXN0eWxlci5uZXQnO1xuICAgICAgICAgICAgICAgIGlmIChSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLmVudmlyb25tZW50ID09PSBSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLkVudmlyb25tZW50LkFscGhhKSBhcHBVUkwgPSAnaHR0cDovL2FwcC1hbHBoYS5yaWRlc3R5bGVyLm5ldCc7ZWxzZSBpZiAoUmlkZVN0eWxlclNob3djYXNlLmFwaS5lbnZpcm9ubWVudCA9PT0gUmlkZVN0eWxlclNob3djYXNlLmFwaS5FbnZpcm9ubWVudC5CZXRhKSBhcHBVUkwgPSAnaHR0cDovL2FwcC1iZXRhLnJpZGVzdHlsZXIubmV0JztcbiAgICAgICAgICAgICAgICB2YXIgc2hhcmVQYXRoID0gJy9zaGFyZS5jc2h0bWw/JztcbiAgICAgICAgICAgICAgICB2YXIgc2hhcmVQYXJhbXMgPSByaWRlc3R5bGVyLnV0aWxzLnRvUGFyYW1TdHJpbmcoUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24ocmlkZXN0eWxlci5hdXRoLmF1dGhlbnRpY2F0ZURhdGEobnVsbCksIHRoaXMudmVoaWNsZVJlbmRlckluc3RydWN0aW9ucykpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHBVUkwgKyBzaGFyZVBhdGggKyBzaGFyZVBhcmFtcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0dXBWaWV3cG9ydCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0dXBWaWV3cG9ydCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHZhciB2aWV3cG9ydEVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50V2l0aENsYXNzKCdkaXYnLCAncmlkZXN0eWxlci1zaG93Y2FzZS12aWV3cG9ydCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZENoaWxkKHZpZXdwb3J0RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLnN3aXRjaEFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlVmlld3BvcnQgPSBuZXcgUmlkZVN0eWxlclZpZXdwb3J0KHZpZXdwb3J0RWxlbWVudCk7XG4gICAgICAgICAgICAgICAgdmFyIHZpZXdwb3J0VXBkYXRlZCA9IHRoaXMudmVoaWNsZVZpZXdwb3J0LlVwZGF0ZSh0aGlzLnZlaGljbGVSZW5kZXJJbnN0cnVjdGlvbnMpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnJvdGF0ZUVsZW1lbnQpIHZpZXdwb3J0VXBkYXRlZC5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLnJvdGF0ZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaW4nKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY2FuU3dpdGNoQW5nbGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNhblN3aXRjaEFuZ2xlKCkge1xuICAgICAgICAgICAgICAgIHZhciBfc3RhdGUkZ2V0RGF0YSA9IHRoaXMuc3RhdGUuZ2V0RGF0YSgpLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uTW9kZWwgPSBfc3RhdGUkZ2V0RGF0YS5jdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uTW9kZWw7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbk1vZGVsLkhhc0FuZ2xlZEltYWdlICYmIGN1cnJlbnRWZWhpY2xlRGVzY3JpcHRpb25Nb2RlbC5IYXNTaWRlSW1hZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uSW5zdHJ1Y3Rpb25zQ2hhbmdlZCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25JbnN0cnVjdGlvbnNDaGFuZ2VkKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdmFyIHNoYXJlVVJMID0gdGhpcy5nZXRTaGFyZVVSTCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0RW5hYmxlZChmYWxzZSk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwibGluay9jcmVhdGVcIiwge1xuICAgICAgICAgICAgICAgICAgICBVUkw6IHRoaXMuZ2V0U2hhcmVVUkwoKVxuICAgICAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC51cGRhdGVVUkwocmVzcG9uc2UuU2hvcnRVUkwpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2V0RW5hYmxlZCh0cnVlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0RW5hYmxlZCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RW5hYmxlZChlbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSB0aGlzLnNoYXJlQnV0dG9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNoYXJlQnV0dG9uID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFyZUJ1dHRvbi5jb21wb25lbnQuZGlzYWJsZWQgPSAhZW5hYmxlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndXBkYXRlVVJMJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVVUkwoc2hhcmVVUkwpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2hhcmVUYWdzID0gWyd2ZWhpY2xlJ107XG4gICAgICAgICAgICAgICAgdmFyIHNoYXJlTWVzc2FnZSA9IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnY2hlY2stb3V0LW15LXZlaGljbGUnKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52ZWhpY2xlUmVuZGVySW5zdHJ1Y3Rpb25zLldoZWVsRml0bWVudCkgc2hhcmVUYWdzLnB1c2goJ3doZWVscycpO1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgc2hhcmUgYnV0dG9uc1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gdGhpcy5zaGFyZUJ1dHRvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaGFyZUJ1dHRvbiA9IF9zdGVwMy52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVCdXR0b24uc2V0VVJMKHNoYXJlVVJMKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlQnV0dG9uLnNldFRhZ3Moc2hhcmVUYWdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlQnV0dG9uLnNldE1lc3NhZ2Uoc2hhcmVNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc3dpdGNoQW5nbGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHN3aXRjaEFuZ2xlKCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jYW5Td2l0Y2hBbmdsZSgpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaW1hZ2VUeXBlID09PSAyIC8qIEFuZ2xlICovKSB0aGlzLmltYWdlVHlwZSA9IDEgLyogU2lkZSAqLztlbHNlIHRoaXMuaW1hZ2VUeXBlID0gMiAvKiBBbmdsZSAqLztcbiAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVSZW5kZXJJbnN0cnVjdGlvbnMuVHlwZSA9IHRoaXMuaW1hZ2VUeXBlO1xuICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZVZpZXdwb3J0LlVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIFR5cGU6IHRoaXMuaW1hZ2VUeXBlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkluc3RydWN0aW9uc0NoYW5nZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsID0gUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbDtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBjbGFzc05hbWUgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1zdXNwZW5zaW9uLXNlbGVjdG9yJztcbiAgICB2YXIgZWxlbWVudENsYXNzTmFtZSA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXN1c3BlbnNpb24tc2VsZWN0b3ItZWxlbWVudCc7XG4gICAgdmFyIGRlZmF1bHRTdXNwZW5zaW9uUmFuZ2UgPSB7XG4gICAgICAgIE1pbjogLTQsXG4gICAgICAgIE1heDogMFxuICAgIH07XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlU3VzcGVuc2lvblNlbGVjdG9yID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlU3VzcGVuc2lvblNlbGVjdG9yLCBfUmlkZVN0eWxlclNob3djYXNlJEMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3RvcigpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VTdXNwZW5zaW9uU2VsZWN0b3IpO1xuXG4gICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3Rvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3RvcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3RvciwgW3tcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVDb21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVDb21wb25lbnQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgdmVoaWNsZURlc2NyaXB0aW9uID0gdGhpcy5zdGF0ZS5nZXREYXRhKCkuY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbk1vZGVsO1xuICAgICAgICAgICAgICAgIHZhciBzdXNwZW5zaW9uT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICAgICAgbWluOiBkZWZhdWx0U3VzcGVuc2lvblJhbmdlLk1pbixcbiAgICAgICAgICAgICAgICAgICAgbWF4OiBkZWZhdWx0U3VzcGVuc2lvblJhbmdlLk1heCxcbiAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHN0ZXA6IDEsXG4gICAgICAgICAgICAgICAgICAgIGRlY2ltYWxQbGFjZXM6IDEsXG4gICAgICAgICAgICAgICAgICAgIHVuaXRBYmJyZXZpYXRpb246ICfigLMnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBSZXRyaWV2ZSBzdXNwZW5zaW9uIGZyb20gQVBJIHNldHRpbmdzXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3VzcGVuc2lvblJhbmdlcyA9IHRoaXMuc2hvd2Nhc2Uuc2V0dGluZ3NGcm9tQVBJLlN1c3BlbnNpb25SYW5nZXM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBTdHlsZVR5cGUgPSB2ZWhpY2xlRGVzY3JpcHRpb24uU3R5bGVUeXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgRHJpdmVUeXBlID0gdmVoaWNsZURlc2NyaXB0aW9uLkRyaXZlVHlwZTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc3VzcGVuc2lvblJhbmdlS2V5ID0gU3R5bGVUeXBlICsgRHJpdmVUeXBlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VzcGVuc2lvblJhbmdlS2V5IGluIHN1c3BlbnNpb25SYW5nZXMgPT09IGZhbHNlKSBzdXNwZW5zaW9uUmFuZ2VLZXkgPSAnRGVmYXVsdCc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdXNwZW5zaW9uUmFuZ2UgPSBzdXNwZW5zaW9uUmFuZ2VzW3N1c3BlbnNpb25SYW5nZUtleV0gfHwgZGVmYXVsdFN1c3BlbnNpb25SYW5nZTtcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2lvbk9wdGlvbnMubWluID0gc3VzcGVuc2lvblJhbmdlLk1pbjtcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2lvbk9wdGlvbnMubWF4ID0gc3VzcGVuc2lvblJhbmdlLk1heDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udEFuZFJlYXIgPSBuZXcgTm9VSVN1c3BlbnNpb25FbGVtZW50KHRoaXMuc2hvd2Nhc2UsIFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc3VzcGVuc2lvbicpXG4gICAgICAgICAgICAgICAgfSwgc3VzcGVuc2lvbk9wdGlvbnMpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyb250QW5kUmVhci5zdXNwZW5zaW9uQ2hhbmdlZENhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIF90aGlzMi5zdXNwZW5zaW9uQ2hhbmdlQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIF90aGlzMi5zdXNwZW5zaW9uQ2hhbmdlQ2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgICAgICAgU3VzcGVuc2lvbjogX3RoaXMyLmZyb250QW5kUmVhci52YWx1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZENoaWxkKHRoaXMuZnJvbnRBbmRSZWFyLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgLy8gbGV0IGZyb250T3B0aW9uczpTdXNwZW5zaW9uVUlFbGVtZW50T3B0aW9ucyA9IE9iamVjdEhlbHBlci5hc3NpZ24oe1xuICAgICAgICAgICAgICAgIC8vICAgICBsYWJlbDogc3RyaW5ncy5nZXRTdHJpbmcoJ2Zyb250JylcbiAgICAgICAgICAgICAgICAvLyB9LCBzdXNwZW5zaW9uT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5mcm9udCA9IG5ldyBOb1VJU3VzcGVuc2lvbkVsZW1lbnQodGhpcy5zaG93Y2FzZSwgZnJvbnRPcHRpb25zKTtcbiAgICAgICAgICAgICAgICAvLyBsZXQgcmVhck9wdGlvbnM6U3VzcGVuc2lvblVJRWxlbWVudE9wdGlvbnMgPSBPYmplY3RIZWxwZXIuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAvLyAgICAgbGFiZWw6IHN0cmluZ3MuZ2V0U3RyaW5nKCdyZWFyJylcbiAgICAgICAgICAgICAgICAvLyB9LCBzdXNwZW5zaW9uT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5yZWFyID0gbmV3IE5vVUlTdXNwZW5zaW9uRWxlbWVudCh0aGlzLnNob3djYXNlLCByZWFyT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5jb21wb25lbnQuYXBwZW5kQ2hpbGQodGhpcy5mcm9udC5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuY29tcG9uZW50LmFwcGVuZENoaWxkKHRoaXMucmVhci5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuZnJvbnQuc3VzcGVuc2lvbkNoYW5nZWRDYWxsYmFjayA9IHRoaXMucmVhci5zdXNwZW5zaW9uQ2hhbmdlZENhbGxiYWNrID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vICAgICBpZiAodHlwZW9mIHRoaXMuc3VzcGVuc2lvbkNoYW5nZUNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB0aGlzLnN1c3BlbnNpb25DaGFuZ2VDYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgU3VzcGVuc2lvbkZyb250OiB0aGlzLmZyb250LnZhbHVlLFxuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIFN1c3BlbnNpb25SZWFyOiB0aGlzLnJlYXIudmFsdWVcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAgICAgLy8gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VTdXNwZW5zaW9uU2VsZWN0b3I7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlU3VzcGVuc2lvblNlbGVjdG9yID0gUmlkZVN0eWxlclNob3djYXNlU3VzcGVuc2lvblNlbGVjdG9yO1xuICAgIC8qKlxuICAgICAqIEEgZ2VuZXJhbCBpbnRlcmZhY2UgZm9yIFVJIGNvbXBvbmVudHMgdGhhdCBtb2RpZnkgc3VzcGVuc2lvblxuICAgICAqL1xuXG4gICAgdmFyIFN1c3BlbnNpb25VSUVsZW1lbnQgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRDMikge1xuICAgICAgICBfaW5oZXJpdHMoU3VzcGVuc2lvblVJRWxlbWVudCwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDMik7XG5cbiAgICAgICAgZnVuY3Rpb24gU3VzcGVuc2lvblVJRWxlbWVudChzaG93Y2FzZUluc3RhbmNlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3VzcGVuc2lvblVJRWxlbWVudCk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpczMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoU3VzcGVuc2lvblVJRWxlbWVudC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFN1c3BlbnNpb25VSUVsZW1lbnQpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UpKTtcblxuICAgICAgICAgICAgX3RoaXMzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAgICAgX3RoaXMzLnZhbHVlID0gb3B0aW9ucy5zdGFydDtcbiAgICAgICAgICAgIHJldHVybiBfdGhpczM7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoU3VzcGVuc2lvblVJRWxlbWVudCwgW3tcbiAgICAgICAgICAgIGtleTogJ29uU3VzcGVuc2lvbkNoYW5nZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uU3VzcGVuc2lvbkNoYW5nZWQobmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnN1c3BlbnNpb25DaGFuZ2VkQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHRoaXMuc3VzcGVuc2lvbkNoYW5nZWRDYWxsYmFjayhuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gU3VzcGVuc2lvblVJRWxlbWVudDtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5Db21wb25lbnRCYXNlKTtcblxuICAgIHZhciBOb1VJU3VzcGVuc2lvbkVsZW1lbnQgPSBmdW5jdGlvbiAoX1N1c3BlbnNpb25VSUVsZW1lbnQpIHtcbiAgICAgICAgX2luaGVyaXRzKE5vVUlTdXNwZW5zaW9uRWxlbWVudCwgX1N1c3BlbnNpb25VSUVsZW1lbnQpO1xuXG4gICAgICAgIGZ1bmN0aW9uIE5vVUlTdXNwZW5zaW9uRWxlbWVudChzaG93Y2FzZUluc3RhbmNlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTm9VSVN1c3BlbnNpb25FbGVtZW50KTtcblxuICAgICAgICAgICAgdmFyIF90aGlzNCA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChOb1VJU3VzcGVuc2lvbkVsZW1lbnQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihOb1VJU3VzcGVuc2lvbkVsZW1lbnQpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UsIG9wdGlvbnMpKTtcblxuICAgICAgICAgICAgX3RoaXM0LmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGVsZW1lbnRDbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgYXBwZW5kOiBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogZWxlbWVudENsYXNzTmFtZSArICctbGFiZWwnLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBvcHRpb25zLmxhYmVsXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHNsaWRlckVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBlbGVtZW50Q2xhc3NOYW1lICsgJy1zbGlkZXInLFxuICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBfdGhpczQuY29tcG9uZW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5vVWlTbGlkZXIuY3JlYXRlKHNsaWRlckVsZW1lbnQsIHtcbiAgICAgICAgICAgICAgICBzdGFydDogb3B0aW9ucy5zdGFydCxcbiAgICAgICAgICAgICAgICByYW5nZToge1xuICAgICAgICAgICAgICAgICAgICBtaW46IG9wdGlvbnMubWluLFxuICAgICAgICAgICAgICAgICAgICBtYXg6IG9wdGlvbnMubWF4XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdGVwOiBvcHRpb25zLnN0ZXAsXG4gICAgICAgICAgICAgICAgcGlwczoge1xuICAgICAgICAgICAgICAgICAgICBtb2RlOiAnc3RlcHMnLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwb3N0Zml4ID0gb3B0aW9ucy51bml0QWJicmV2aWF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRlY2ltYWxQbGFjZXMgPSBvcHRpb25zLmRlY2ltYWxQbGFjZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvOiBmdW5jdGlvbiB0byh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUudG9GaXhlZChkZWNpbWFsUGxhY2VzKSArIHBvc3RmaXg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiBmdW5jdGlvbiBmcm9tKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChSaWRlU3R5bGVyU2hvd2Nhc2UuU3RyaW5nSGVscGVyLmVzY2FwZVJlZ0V4cChwb3N0Zml4KSArICckJyksIFwiXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9KClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzNC5zbGlkZXJFbGVtZW50ID0gc2xpZGVyRWxlbWVudDtcbiAgICAgICAgICAgIF90aGlzNC5zbGlkZXIgPSBfdGhpczQuc2xpZGVyRWxlbWVudC5ub1VpU2xpZGVyO1xuICAgICAgICAgICAgX3RoaXM0LnNsaWRlci5vbigndXBkYXRlJywgZnVuY3Rpb24gKGZvcm1hdHRlZFZhbHVlcywgaGFuZGxlLCB2YWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBfdGhpczQub25TdXNwZW5zaW9uQ2hhbmdlZCh2YWx1ZXNbMF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIE5vVUlTdXNwZW5zaW9uRWxlbWVudDtcbiAgICB9KFN1c3BlbnNpb25VSUVsZW1lbnQpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGJhckNsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtdGFiLWJhcic7XG4gICAgdmFyIHRhYkNsYXNzID0gYmFyQ2xhc3MgKyAnLXRhYic7XG4gICAgdmFyIHRhYkJhY2tncm91bmRDbGFzcyA9IHRhYkNsYXNzICsgJy1iYWNrZ3JvdW5kJztcbiAgICB2YXIgYWN0aXZlVGFiQ2xhc3MgPSB0YWJDbGFzcyArICctYWN0aXZlJztcbiAgICB2YXIgbW9kZUNsYXNzID0gYmFyQ2xhc3MgKyAnLSc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlVGFiQmFyID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlVGFiQmFyLCBfUmlkZVN0eWxlclNob3djYXNlJEMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhcigpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIpO1xuXG4gICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhciwgW3tcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVDb21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVDb21wb25lbnQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBiYXJDbGFzc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0TW9kZSgndmVydGljYWwnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkNsaWNrKGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRNb2RlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRNb2RlKG1vZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIC8vIERvIG5vdGhpbmcgaWYgdGhlIG1vZGVzIGFyZSB0aGUgc2FtZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm1vZGUgPT09IG1vZGUpIHJldHVybjtcbiAgICAgICAgICAgICAgICB2YXIgdG9nZ2xlID0gZnVuY3Rpb24gdG9nZ2xlKGNsYXNzTmFtZSwgZm9yY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5jb21wb25lbnQuY2xhc3NMaXN0LnRvZ2dsZShjbGFzc05hbWUsIGZvcmNlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgY3VycmVudCBtb2RlIGNsYXNzXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm1vZGUgPT09ICdzdHJpbmcnKSB0b2dnbGUobW9kZUNsYXNzICsgdGhpcy5tb2RlLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgLy8gU2V0IHRoZSBuZXcgbW9kZVxuICAgICAgICAgICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBjdXJyZW50IG1vZGUgY2xhc3NcbiAgICAgICAgICAgICAgICB0b2dnbGUobW9kZUNsYXNzICsgbW9kZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSB0YWJzJyBtb2RlXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUYWJEaXNwbGF5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZVRhYkRpc3BsYXknLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVRhYkRpc3BsYXkoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnRhYnMpIHJldHVybjtcbiAgICAgICAgICAgICAgICB2YXIgdGFiUGVyY2VudCA9IDEwMCAvIHRoaXMudGFicy5sZW5ndGggKyAnJSc7XG4gICAgICAgICAgICAgICAgdmFyIG1vZGUgPSB0aGlzLm1vZGU7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMudGFic1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWIgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGUgPT09ICd2ZXJ0aWNhbCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWIuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSB0YWJQZXJjZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYi5lbGVtZW50LnN0eWxlLndpZHRoID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYi5lbGVtZW50LnN0eWxlLmhlaWdodCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYi5lbGVtZW50LnN0eWxlLndpZHRoID0gdGFiUGVyY2VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYi51cGRhdGVCYWNrZ3JvdW5kUG9seWdvbihtb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRUYWJzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRUYWJzKHRhYnNPclRhYkNyZWF0ZU9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFicyA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBpZiAodGFic09yVGFiQ3JlYXRlT3B0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGFicyA9IFtdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFic09yVGFiQ3JlYXRlT3B0aW9uc1swXSBpbnN0YW5jZW9mIFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhci5UYWIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGFicyA9IHRhYnNPclRhYkNyZWF0ZU9wdGlvbnM7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFicyA9IG5ldyBBcnJheSh0YWJzT3JUYWJDcmVhdGVPcHRpb25zLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCB0YWJzT3JUYWJDcmVhdGVPcHRpb25zLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNyZWF0ZU9wdGlvbnMgPSB0YWJzT3JUYWJDcmVhdGVPcHRpb25zW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYnNbaW5kZXhdID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhci5UYWIoY3JlYXRlT3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50YWJzID0gUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyLmNvcHkodGFicyk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuZW1wdHkodGhpcy5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIHZhciB0YWJQZXJjZW50ID0gMTAwIC8gdGFicy5sZW5ndGggKyAnJSc7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSB0YWJzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFiID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hcHBlbmRDaGlsZCh0YWIuZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVRhYkRpc3BsYXkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUYWIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmVUYWIodGFic1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NsZWFyQWN0aXZlVGFiJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhckFjdGl2ZVRhYigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEFjdGl2ZVRhYih1bmRlZmluZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRBY3RpdmVUYWInLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEFjdGl2ZVRhYihuZXdUYWIpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2xkVGFiID0gdGhpcy5jdXJyZW50VGFiO1xuICAgICAgICAgICAgICAgIGlmIChvbGRUYWIgPT09IG5ld1RhYikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFRhYiA9IG5ld1RhYjtcbiAgICAgICAgICAgICAgICAvLyBTd2l0Y2ggdGhlIGFjdGl2ZSBjbGFzc1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9sZFRhYikgb2xkVGFiLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShhY3RpdmVUYWJDbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdUYWIpIG5ld1RhYi5lbGVtZW50LmNsYXNzTGlzdC5hZGQoYWN0aXZlVGFiQ2xhc3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZW5kIG9mZiB0aGUgY2FsbGJhY2tcbiAgICAgICAgICAgICAgICBpZiAobmV3VGFiICYmIHR5cGVvZiB0aGlzLnRhYlN3aXRjaGVkQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHRoaXMudGFiU3dpdGNoZWRDYWxsYmFjayh7XG4gICAgICAgICAgICAgICAgICAgIG9sZFRhYjogb2xkVGFiLFxuICAgICAgICAgICAgICAgICAgICBuZXdUYWI6IG5ld1RhYlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkNsaWNrJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2xpY2tUYXJnZXQgPSBlLnRhcmdldDtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudEVsZW1lbnQgPSBjbGlja1RhcmdldDtcbiAgICAgICAgICAgICAgICAvLyBHbyB1cCB0aHJvdWdoIHRoZSBwYXJlbnQgZWxlbWVudHMgdW50aWwgd2UgcmVhY2ggdGhlIHRhYiBiYXJcbiAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudEVsZW1lbnQgIT09IHRoaXMuY29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjdXJyZW50IGVsZW1lbnQgaXMgYSB0YWJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyh0YWJDbGFzcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25UYWJDbGljayh0aGlzLnRhYkZvckVsZW1lbnQoY3VycmVudEVsZW1lbnQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGN1cnJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblRhYkNsaWNrJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblRhYkNsaWNrKHRhYikge1xuICAgICAgICAgICAgICAgIGlmICghdGFiKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmVUYWIodGFiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndGFiRm9yTGFiZWwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRhYkZvckxhYmVsKGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSB0aGlzLnRhYnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWIgPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWIubGFiZWwgPT09IGxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3RhYkZvckVsZW1lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRhYkZvckVsZW1lbnQoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gdGhpcy50YWJzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA0OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gKF9zdGVwNCA9IF9pdGVyYXRvcjQubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFiID0gX3N0ZXA0LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFiLmVsZW1lbnQgPT09IGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGFiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yNCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNCA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCAmJiBfaXRlcmF0b3I0LnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXI7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFiQmFyID0gUmlkZVN0eWxlclNob3djYXNlVGFiQmFyO1xuICAgIChmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlVGFiQmFyKSB7XG4gICAgICAgIHZhciBUYWIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBUYWIoY3JlYXRlT3B0aW9ucykge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUYWIpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5sYWJlbCA9IGNyZWF0ZU9wdGlvbnMubGFiZWw7XG4gICAgICAgICAgICAgICAgdGhpcy5pY29uQ2xhc3MgPSBjcmVhdGVPcHRpb25zLmljb247XG4gICAgICAgICAgICAgICAgdGhpcy5rZXkgPSBjcmVhdGVPcHRpb25zLmtleTtcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRNb2RlID0gJ2hvcml6b250YWwnO1xuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0YWJDbGFzc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUljb24oe1xuICAgICAgICAgICAgICAgICAgICBpY29uOiBjcmVhdGVPcHRpb25zLmljb24sXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmVsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHdyYXA6IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MoJ2RpdicsIHRhYkNsYXNzICsgJy1pY29uJylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgYmFja2dyb3VuZCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRhYkJhY2tncm91bmRDbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuZWxlbWVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIuc3ZnU3VwcG9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZVNWR0VsZW1lbnQoJ3N2ZycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzEwMCUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86ICdub25lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWV3Qm94OiAnMCAwIDEwMCAxMDAnXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kOiB0aGlzLmJhY2tncm91bmRQb2x5Z29uID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlU1ZHRWxlbWVudCgncG9seWdvbicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6ICdibGFjaydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBiYWNrZ3JvdW5kXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQuY2xhc3NMaXN0LmFkZCh0YWJCYWNrZ3JvdW5kQ2xhc3MgKyAnLW5vc3ZnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudC50aXRsZSA9IGNyZWF0ZU9wdGlvbnMubGFiZWw7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhUYWIsIFt7XG4gICAgICAgICAgICAgICAga2V5OiAndXBkYXRlQmFja2dyb3VuZFBvbHlnb24nLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVCYWNrZ3JvdW5kUG9seWdvbihtb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5iYWNrZ3JvdW5kUG9seWdvbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgICAgICogVGhlIGhlaWdodCBpbiBwZXJjZW50YWdlIG9mIHRoZSB0cmlhbmdsZSBzaXplXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJpYW5nbGVIZWlnaHQgPSBtb2RlID09PSAndmVydGljYWwnID8gMzAgOiAxNTtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFRoZSB3aWR0aCBpbiBwZXJjZW50YWdlIG9mIHRoZSB0cmlhbmdsZSBzaXplXG4gICAgICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJpYW5nbGVXaWR0aCA9IG1vZGUgPT09ICd2ZXJ0aWNhbCcgPyAxNSA6IDMwO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tncm91bmRQb2x5Z29uLnNldEF0dHJpYnV0ZSgncG9pbnRzJywgbW9kZSA9PT0gJ3ZlcnRpY2FsJyA/ICcwLDAgMTAwLDAgMTAwLCcgKyAoNTAgLSB0cmlhbmdsZUhlaWdodCAvIDIpICsgJyAnICsgKDEwMCAtIHRyaWFuZ2xlV2lkdGgpICsgJyw1MCAxMDAsJyArICg1MCArIHRyaWFuZ2xlSGVpZ2h0IC8gMikgKyAnIDEwMCwxMDAgMCwxMDAnIDogJzAsMCAnICsgKDUwIC0gdHJpYW5nbGVIZWlnaHQgLyAyKSArICcsMCA1MCwnICsgdHJpYW5nbGVIZWlnaHQgKyAnICcgKyAoNTAgKyB0cmlhbmdsZUhlaWdodCAvIDIpICsgJywwIDEwMCwwIDEwMCwxMDAsIDAsMTAwJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gVGFiO1xuICAgICAgICB9KCk7XG5cbiAgICAgICAgUmlkZVN0eWxlclNob3djYXNlVGFiQmFyLlRhYiA9IFRhYjtcbiAgICB9KShSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFiQmFyIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFiQmFyID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciB0YWJsZUNsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtdGFibGUnO1xuICAgIHZhciBoZWFkQ2xhc3MgPSB0YWJsZUNsYXNzICsgJy1oZWFkJztcbiAgICB2YXIgYm9keUNsYXNzID0gdGFibGVDbGFzcyArICctYm9keSc7XG4gICAgdmFyIGJvZHlMb2FkaW5nQ2xhc3MgPSBib2R5Q2xhc3MgKyAnLWxvYWRpbmcnO1xuICAgIHZhciBjb250YWluZXJDbGFzcyA9IHRhYmxlQ2xhc3MgKyAnLWNvbnRhaW5lcic7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlVGFibGUgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRDKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZSwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZShzaG93Y2FzZUluc3RhbmNlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlVGFibGUpO1xuXG4gICAgICAgICAgICBvcHRpb25zID0gUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24oe30sIG9wdGlvbnMpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlVGFibGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZSkpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSkpO1xuXG4gICAgICAgICAgICBfdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgIF90aGlzLmNvbHVtbnMgPSBvcHRpb25zLmNvbHVtbnM7XG4gICAgICAgICAgICB2YXIgdGFibGUgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCd0YWJsZScsIHtcbiAgICAgICAgICAgICAgICBhcHBlbmRUbzogX3RoaXMuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGFibGVDbGFzc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgdGhlYWQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCd0aGVhZCcsIHtcbiAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGFibGUsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBoZWFkQ2xhc3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMudGJvZHkgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCd0Ym9keScsIHtcbiAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGFibGUsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBib2R5Q2xhc3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuZ2VuZXJhdGVIZWFkZXJzKHRoZWFkKTtcbiAgICAgICAgICAgIF90aGlzLmNvbXBvbmVudCA9IHRhYmxlO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMucm93cykgX3RoaXMuYXBwZW5kUm93cyhvcHRpb25zLnJvd3MpO2Vsc2UgaWYgKG9wdGlvbnMuc3RhcnRMb2FkaW5nKSBfdGhpcy5zZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlLCBbe1xuICAgICAgICAgICAga2V5OiAnZ2VuZXJhdGVIZWFkZXJDZWxsJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZUhlYWRlckNlbGwoY29sdW1uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhlYWRlciA9IGNvbHVtbi5oZWFkZXI7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBoZWFkZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdlbmVyYXRlZEhlYWRlciA9IGhlYWRlcihjb2x1bW4pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIGdlbmVyYXRlZEhlYWRlciA9PT0gJ3N0cmluZycgPyBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCd0aCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdlbmVyYXRlZEhlYWRlclxuICAgICAgICAgICAgICAgICAgICB9KSA6IGdlbmVyYXRlZEhlYWRlcjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHRoID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgndGgnLCB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGhlYWRlclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZ2VuZXJhdGVIZWFkZXJzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZUhlYWRlcnModGhlYWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGVhZGVyUm93ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgndHInKTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdGhpcy5jb2x1bW5zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbHVtbiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJSb3cuYXBwZW5kQ2hpbGQodGhpcy5nZW5lcmF0ZUhlYWRlckNlbGwoY29sdW1uKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoZWFkLmFwcGVuZENoaWxkKGhlYWRlclJvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dlbmVyYXRlUm93Q2VsbCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVSb3dDZWxsKHJvdywgY29sdW1uKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNlbGwgPSBjb2x1bW4uY2VsbDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNlbGwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGdlbmVyYXRlZENlbGwgPSBjZWxsKHJvdywgY29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBnZW5lcmF0ZWRDZWxsID09PSAnc3RyaW5nJyA/IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ3RkJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZ2VuZXJhdGVkQ2VsbFxuICAgICAgICAgICAgICAgICAgICB9KSA6IGdlbmVyYXRlZENlbGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB0ZCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ3RkJywge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiByb3dbY2VsbF0udG9TdHJpbmcoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0ZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZ2VuZXJhdGVSb3cnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlUm93KHJvdykge1xuICAgICAgICAgICAgICAgIHZhciB0ciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSB0aGlzLmNvbHVtbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW4gPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyLmFwcGVuZENoaWxkKHRoaXMuZ2VuZXJhdGVSb3dDZWxsKHJvdywgY29sdW1uKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdHI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2FwcGVuZFJvd3MnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGVuZFJvd3Mocm93cykge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgdmFyIHJvd3NGcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IHJvd3NbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb3cgPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd3NGcmFnbWVudC5hcHBlbmRDaGlsZCh0aGlzLmdlbmVyYXRlUm93KHJvdykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IzO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy50Ym9keS5hcHBlbmRDaGlsZChyb3dzRnJhZ21lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRMb2FkaW5nJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRMb2FkaW5nKGxvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRib2R5LmNsYXNzTGlzdC50b2dnbGUoYm9keUxvYWRpbmdDbGFzcywgbG9hZGluZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dLCBbe1xuICAgICAgICAgICAga2V5OiAnZm9ybWF0Q2VsbCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZm9ybWF0Q2VsbChvYmplY3QsIGtleSwgcG9zdGZpeCkge1xuICAgICAgICAgICAgICAgIHZhciBzdHJpbmcgPSBvYmplY3Rba2V5XS50b1N0cmluZygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCd0ZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nID8gcG9zdGZpeCA/IHN0cmluZyArIHBvc3RmaXggOiBzdHJpbmcgOiBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZS5lbXB0eUNlbGxTdHJpbmdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZTtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5Db21wb25lbnRCYXNlKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlLmVtcHR5Q2VsbFN0cmluZyA9ICctJztcbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFibGUgPSBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VUaXJlU2VsZWN0b3IgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRSKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VUaXJlU2VsZWN0b3IsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkUik7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yKHNob3djYXNlSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VUaXJlU2VsZWN0b3IpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yKSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlKSk7XG5cbiAgICAgICAgICAgIHZhciBzdGF0ZURhdGEgPSBzaG93Y2FzZUluc3RhbmNlLnN0YXRlLmdldERhdGEoKTtcbiAgICAgICAgICAgIF90aGlzLnN1cHBvcnRlZFZlaGljbGVJbWFnZXJ5ID0ge1xuICAgICAgICAgICAgICAgIGFuZ2xlZDogc3RhdGVEYXRhLnZlaGljbGVIYXNBbmdsZWRJbWFnZSxcbiAgICAgICAgICAgICAgICBzaWRlOiBzdGF0ZURhdGEudmVoaWNsZUhhc1NpZGVJbWFnZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLnZlaGljbGVUaXJlT3B0aW9uSUQgPSBzdGF0ZURhdGEuY3VycmVudFZlaGljbGVUaXJlT3B0aW9uSUQ7XG4gICAgICAgICAgICBfdGhpcy5kZWZhdWx0RmlsdGVycyA9IHtcbiAgICAgICAgICAgICAgICBWZWhpY2xlVGlyZU9wdGlvbjogX3RoaXMudmVoaWNsZVRpcmVPcHRpb25JRCxcbiAgICAgICAgICAgICAgICBIYXNDYXRhbG9nSW1hZ2U6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5jdXJyZW50RmlsdGVycyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHt9LCBfdGhpcy5kZWZhdWx0RmlsdGVycyk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yLCBbe1xuICAgICAgICAgICAga2V5OiBcImNvdW50UmVzdWx0c1wiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvdW50UmVzdWx0cyhmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwidGlyZS9jb3VudG1vZGVsc1wiLCBmaWx0ZXJzKSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5Db3VudDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcImdldFJlc3VsdHNcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSZXN1bHRzKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoXCJ0aXJlL2dldG1vZGVsZGVzY3JpcHRpb25zXCIsIGZpbHRlcnMpLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLk1vZGVscztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcInByb2R1Y3RGaWx0ZXJcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9kdWN0RmlsdGVyKHByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcInByb2R1Y3RJbWFnZVNvdXJjZVwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByb2R1Y3RJbWFnZVNvdXJjZShwcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJpZGVzdHlsZXIudGlyZS5pbWFnZSh7XG4gICAgICAgICAgICAgICAgICAgIFRpcmVGaXRtZW50UmVzb3VyY2VUeXBlOiAyIC8qIENhdGFsb2cgKi9cbiAgICAgICAgICAgICAgICAgICAgLCBUaXJlTW9kZWw6IHByb2R1Y3QuVGlyZU1vZGVsSUQsXG4gICAgICAgICAgICAgICAgICAgIFdpZHRoOiAxMDAsXG4gICAgICAgICAgICAgICAgICAgIEhlaWdodDogMTAwLFxuICAgICAgICAgICAgICAgICAgICBQb3NpdGlvblg6IDEgLyogQ2VudGVyICovXG4gICAgICAgICAgICAgICAgICAgICwgUG9zaXRpb25ZOiAxIC8qIENlbnRlciAqL1xuICAgICAgICAgICAgICAgICAgICAsIEluY2x1ZGVTaGFkb3c6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcInByb2R1Y3RJbWFnZUxhYmVsc1wiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByb2R1Y3RJbWFnZUxhYmVscyhwcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeTogcHJvZHVjdC5UaXJlQnJhbmROYW1lLFxuICAgICAgICAgICAgICAgICAgICBzZWNvbmRhcnk6IHByb2R1Y3QuVGlyZU1vZGVsTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdGVydGlhcnk6IHByb2R1Y3QuQXR0cmlidXRlcyAmJiBwcm9kdWN0LkF0dHJpYnV0ZXMubGVuZ3RoID8gcHJvZHVjdC5BdHRyaWJ1dGVzLmpvaW4oJywgJykgOiAnJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3Rvcik7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yID0gUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIHRvZ2dsZUJ1dHRvbkNsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtdG9nZ2xlLWJ1dHRvbic7XG4gICAgdmFyIG9wdGlvbkNsYXNzID0gdG9nZ2xlQnV0dG9uQ2xhc3MgKyAnLW9wdGlvbic7XG4gICAgdmFyIG9wdGlvbkFjdGl2ZUNsYXNzID0gb3B0aW9uQ2xhc3MgKyAnLWFjdGl2ZSc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlVG9nZ2xlQnV0dG9uID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlVG9nZ2xlQnV0dG9uLCBfUmlkZVN0eWxlclNob3djYXNlJEMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVRvZ2dsZUJ1dHRvbigpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VUb2dnbGVCdXR0b24pO1xuXG4gICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVRvZ2dsZUJ1dHRvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVRvZ2dsZUJ1dHRvbikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVRvZ2dsZUJ1dHRvbiwgW3tcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVDb21wb25lbnQnLFxuXG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIENyZWF0ZSB0aGUgRE9NIGZvciB0aGUgdG9nZ2xlIGJ1dHRvblxuICAgICAgICAgICAgICpcbiAgICAgICAgICAgICAqIEBvdmVycmlkZVxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbXBvbmVudCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdG9nZ2xlQnV0dG9uQ2xhc3NcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChjbGlja0V2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25DbGlja2VkKGNsaWNrRXZlbnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDYWxsZWQgd2hlbiB0aGUgdG9nZ2xlIGJ1dHRvbiBpcyBjbGlja2VkIG9uXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkNsaWNrZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQ2xpY2tlZChjbGlja0V2ZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9IGNsaWNrRXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgICAgIGlmICghdGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhvcHRpb25DbGFzcykpIHJldHVybjsgLy8gVGhlIGNsaWNrIHdhcyBub3Qgb24gYW4gb3B0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMob3B0aW9uQWN0aXZlQ2xhc3MpKSByZXR1cm47IC8vIFRoZSBjbGljayB3YXMgb24gYW4gYWN0aXZlIG9wdGlvblxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0T3B0aW9uRWxlbWVudCh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZWxlY3RPcHRpb25FbGVtZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZWxlY3RPcHRpb25FbGVtZW50KG9wdGlvbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHJpZ2dlckNoYW5nZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTtcblxuICAgICAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IG9wdGlvbkVsZW1lbnQudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IG5ld1ZhbHVlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGNoaWxkSW5kZXggPSAwOyBjaGlsZEluZGV4IDwgdGhpcy5jb21wb25lbnQuY2hpbGRyZW4ubGVuZ3RoOyBjaGlsZEluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkT3B0aW9uRWxlbWVudCA9IHRoaXMuY29tcG9uZW50LmNoaWxkcmVuW2NoaWxkSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBjaGlsZE9wdGlvbkVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShvcHRpb25BY3RpdmVDbGFzcywgY2hpbGRPcHRpb25FbGVtZW50ID09PSBvcHRpb25FbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uQ2hhbmdlZCA9PT0gJ2Z1bmN0aW9uJyAmJiB0cmlnZ2VyQ2hhbmdlKSB0aGlzLm9uQ2hhbmdlZChuZXdWYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldFZhbHVlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWYWx1ZSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlID09PSB2YWx1ZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGNoaWxkSW5kZXggPSAwOyBjaGlsZEluZGV4IDwgdGhpcy5jb21wb25lbnQuY2hpbGRyZW4ubGVuZ3RoOyBjaGlsZEluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkT3B0aW9uRWxlbWVudCA9IHRoaXMuY29tcG9uZW50LmNoaWxkcmVuW2NoaWxkSW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hpbGRPcHRpb25FbGVtZW50LnZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RPcHRpb25FbGVtZW50KGNoaWxkT3B0aW9uRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldE9wdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmVtcHR5KHRoaXMuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBvcHRpb25zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE9wdGlvbihvcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2FkZE9wdGlvbicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkT3B0aW9uKG9wdGlvbikge1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25FbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24oUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnc3BhbicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBvcHRpb25DbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogb3B0aW9uLmxhYmVsLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KSwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb3B0aW9uLnZhbHVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUgPT09IHVuZGVmaW5lZCkgdGhpcy5zZWxlY3RPcHRpb25FbGVtZW50KG9wdGlvbkVsZW1lbnQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VUb2dnbGVCdXR0b247XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVG9nZ2xlQnV0dG9uID0gUmlkZVN0eWxlclNob3djYXNlVG9nZ2xlQnV0dG9uO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb24gPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRNKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlU2VsZWN0aW9uLCBfUmlkZVN0eWxlclNob3djYXNlJE0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb24oKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVNlbGVjdGlvbik7XG5cbiAgICAgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVNlbGVjdGlvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb24pKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlU2VsZWN0aW9uLCBbe1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZU1haW5Db21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVNYWluQ29tcG9uZW50KCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RhbCA9IG5ldyBSaWRlU3R5bGVyVmVoaWNsZVNlbGVjdGlvbk1vZGFsKHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiBmdW5jdGlvbiBjb250YWluZXIoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmNvbXBvbmVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2soc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0aW9uLkZpbmFsU2VsZWN0aW9uTWFkZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5vblZlaGljbGVTZWxlY3RlZChzZWxlY3Rpb24uVmVoaWNsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIEltYWdlU2V0dGluZ3M6IGZ1bmN0aW9uIEltYWdlU2V0dGluZ3Mob3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5nZW5lcmF0ZVZlaGljbGVQcmV2aWV3U2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgSW5jbHVkZU9FVGlyZU9wdGlvbjogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkuYWZ0ZXJBdXRoZW50aWNhdGVkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnYnVpbGRDb21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkQ29tcG9uZW50KGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3JpZGVzdHlsZXItc2hvd2Nhc2UtdmVoaWNsZS1zZWxlY3Rpb24nKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRDb250YWluZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtY29udGVudCByaWRlc3R5bGVyLXNob3djYXNlLXZlaGljbGUtc2VsZWN0aW9uLWNvbnRlbnQnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogY29udGFpbmVyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5idWlsZENvcHkoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNob29zZVZlaGljbGVCdXR0b24gPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVCdXR0b24oe1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3NlbGVjdC15b3VyLXZlaGljbGUnKSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29udGVudENvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGxhcmdlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBpZDogJ3JpZGVzdHlsZXItc2hvd2Nhc2Utc2VsZWN0LXlvdXItdmVoaWNsZScsXG4gICAgICAgICAgICAgICAgICAgIHdyYXA6IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoSUQoJ2RpdicsICdyaWRlc3R5bGVyLXNob3djYXNlLXNlbGVjdC15b3VyLXZlaGljbGUtd3JhcHBlcicpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaG9vc2VWZWhpY2xlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczMubW9kYWwuU2hvdygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdidWlsZENvcHknLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkQ29weSgpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiBlbWJvbGRlbkZpcnN0V29yZChzdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpcnN0V29yZCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5TdHJpbmdIZWxwZXIuZ2V0Rmlyc3RXb3JkKHN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZW1haW5pbmdTdHJpbmcgPSBzdHJpbmcuc3Vic3RyKGZpcnN0V29yZC5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1JpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoVGV4dCgnc3Ryb25nJywgZmlyc3RXb3JkKSwgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlVGV4dEVsZW1lbnQocmVtYWluaW5nU3RyaW5nKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB2aXN1YWxpemVTdHJpbmcgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdoMScsIHtcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kOiBlbWJvbGRlbkZpcnN0V29yZChSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoXCJ2ZWhpY2xlLXNlbGVjdC12aXN1YWxpemUtaW50cm9cIikpLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb250ZW50Q29udGFpbmVyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIHNoYXJlU3RyaW5nID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnaDEnLCB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZDogZW1ib2xkZW5GaXJzdFdvcmQoUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKFwidmVoaWNsZS1zZWxlY3Qtc2hhcmUtaW50cm9cIikpLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb250ZW50Q29udGFpbmVyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uQXV0aGVudGljYXRlZCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25BdXRoZW50aWNhdGVkKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jaG9vc2VWZWhpY2xlQnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwid2hlZWwvZ2V0bW9kZWxzXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgQ291bnQ6IDMsXG4gICAgICAgICAgICAgICAgICAgIEhhc0NhdGFsb2dJbWFnZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuc2hvd1doZWVscyhyZXNwb25zZS5Nb2RlbHMpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblZlaGljbGVTZWxlY3RlZCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25WZWhpY2xlU2VsZWN0ZWQoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHVzZXIgaGFzIHNlbGVjdGVkIGEgdmVoaWNsZSB1c2luZyB0aGUgdmVoaWNsZSBzZWxlY3Rpb24gbW9kYWwuXG4gICAgICAgICAgICAgICAgLy8gTm93IHdlIG5lZWQgdG8gb2J0YWluIGEgT0UgdGlyZSBvcHRpb24gZm9yIHRoZW0uXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMudHJpZ2dlcihcInZlaGljbGUtc2VsZWN0ZWRcIiwgc2VsZWN0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2hvdyB0aGUgcGFzc2VkIGluIHdoZWVsIG1vZGVscyBpbiB0aGUgd2hlZWwgc2hvd2Nhc2Ugc2VjdGlvbiBvZiB0aGUgdmVoaWNsZSBzZWxlY3Rpb24gc2NyZWVuXG4gICAgICAgICAgICAgKiBAcGFyYW0gbW9kZWxzIFRoZSB3aGVlbCBtb2RlbHMgdG8gc2hvd1xuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2hvd1doZWVscycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd1doZWVscyhtb2RlbHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgd2hlZWxDb250YWluZXIgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLndoZWVsQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHdoZWVsQ29udGFpbmVyID0gdGhpcy53aGVlbENvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtdmVoaWNsZS1zZWxlY3Rpb24td2hlZWwtc2hvd2Nhc2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHdoZWVsQ29udGFpbmVyID0gdGhpcy53aGVlbENvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuZW1wdHkod2hlZWxDb250YWluZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbW9kZWxJbWFnZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgb25Nb2RlbEltYWdlTG9hZCA9IGZ1bmN0aW9uIG9uTW9kZWxJbWFnZUxvYWQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gbW9kZWxJbWFnZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsSW1hZ2UgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbW9kZWxJbWFnZS5jb21wbGV0ZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgd2hlZWxDb250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gbW9kZWxzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZWwgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RlbEltYWdlU291cmNlID0gcmlkZXN0eWxlci53aGVlbC5pbWFnZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV2hlZWxNb2RlbDogbW9kZWwuV2hlZWxNb2RlbElELFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdpZHRoOiA0MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgSGVpZ2h0OiA0MDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUG9zaXRpb25YOiAxIC8qIENlbnRlciAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgUG9zaXRpb25ZOiAxIC8qIENlbnRlciAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICwgV2hlZWxGaXRtZW50UmVzb3VyY2VUeXBlOiAzIC8qIENhdGFsb2cgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIEluY2x1ZGVTaGFkb3c6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsSW1hZ2UgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsSW1hZ2UuY2xhc3NOYW1lID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtdmVoaWNsZS1zZWxlY3Rpb24td2hlZWwtc2hvd2Nhc2UtaW1hZ2UnO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgb25Nb2RlbEltYWdlTG9hZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbEltYWdlcy5wdXNoKG1vZGVsSW1hZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxJbWFnZS5zcmMgPSBtb2RlbEltYWdlU291cmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hlZWxDb250YWluZXIuYXBwZW5kQ2hpbGQobW9kZWxJbWFnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dlbmVyYXRlVmVoaWNsZVByZXZpZXdTZXR0aW5ncycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVWZWhpY2xlUHJldmlld1NldHRpbmdzKCkge1xuICAgICAgICAgICAgICAgIHZhciBzY2FsZSA9IE1hdGgubWF4KHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDAsIDEpO1xuICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGhUb0hlaWdodCA9IC41O1xuICAgICAgICAgICAgICAgIHZhciBtYXhSZXF1ZXN0UmVzb2x1dGlvbiA9IDE5MjA7XG4gICAgICAgICAgICAgICAgLy8gV2lkdGggaXMgODAlIG9mIHRoZSBjb250YWluZXIgd2lkdGhcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBjb250YWluZXIuY2xpZW50V2lkdGggKiAuODA7XG4gICAgICAgICAgICAgICAgLy8gV2lkdGggaXMgNTAwIGlmIG5vdCBmb3VuZFxuICAgICAgICAgICAgICAgIGlmICghd2lkdGgpIHdpZHRoID0gNTAwO1xuICAgICAgICAgICAgICAgIC8vIEFwcGx5IG91ciBzY2FsZVxuICAgICAgICAgICAgICAgIHdpZHRoICo9IHNjYWxlO1xuICAgICAgICAgICAgICAgIC8vIExpbWl0IHdpZHRoIHRvIG1heCByZXF1ZXN0IHJlc29sdXRpb25cbiAgICAgICAgICAgICAgICBpZiAod2lkdGggPiBtYXhSZXF1ZXN0UmVzb2x1dGlvbikgd2lkdGggPSBtYXhSZXF1ZXN0UmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmUgaGVpZ2h0XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IHdpZHRoICogd2lkdGhUb0hlaWdodDtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBXaWR0aDogfn53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgSGVpZ2h0OiB+fmhlaWdodFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVNlbGVjdGlvbjtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5NYWluQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVNlbGVjdGlvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb247XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgY3VzdG9taXphdGlvbnNDbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLWN1c3RvbWl6YXRpb25zJztcbiAgICB2YXIgbG9hZGluZ0NsYXNzID0gY3VzdG9taXphdGlvbnNDbGFzcyArICctbG9hZGluZyc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb24gPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRNKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbiwgX1JpZGVTdHlsZXJTaG93Y2FzZSRNKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbigpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbik7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVWaXN1YWxpemF0aW9uKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgICAgIF90aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRPcmRlciA9IFsncGFpbnQnLCAnd2hlZWxzJywgJ3RpcmVzJywgJ3N1c3BlbnNpb24nXTtcbiAgICAgICAgICAgIF90aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRTZXR0aW5ncyA9IHtcbiAgICAgICAgICAgICAgICBwYWludDoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzZWxlY3QtcGFpbnQnKSxcbiAgICAgICAgICAgICAgICAgICAgc2hvd0ZpbHRlckJ1dHRvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHdoZWVsczoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzZWxlY3Qtd2hlZWxzJyksXG4gICAgICAgICAgICAgICAgICAgIHNob3dGaWx0ZXJCdXR0b246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRpcmVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3NlbGVjdC10aXJlcycpLFxuICAgICAgICAgICAgICAgICAgICBzaG93RmlsdGVyQnV0dG9uOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdXNwZW5zaW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2FkanVzdC1zdXNwZW5zaW9uJyksXG4gICAgICAgICAgICAgICAgICAgIHNob3dGaWx0ZXJCdXR0b246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbiwgW3tcbiAgICAgICAgICAgIGtleTogJ2J1aWxkQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZENvbXBvbmVudChjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIC8vIFdhaXQgZm9yIGluaXRpYWxpemF0aW9uIGJlZm9yZSBjcmVhdGluZyB0aGUgdmlld3BvcnQgYmVjYXVzZSBpdCBkZXRlY3RzXG4gICAgICAgICAgICAgICAgLy8gdGhlIG9mZnNldCBwb3NpdGlvbmluZyBvZiB0aGUgdmlld3BvcnQgZWxlbWVudCB3aGVuIGNyZWF0ZWQgYW5kIG91ciBDU1NcbiAgICAgICAgICAgICAgICAvLyBpc24ndCBndWFyYW50ZWVkIHRvIGJlIGxvYWRlZCB1bnRpbCB0aGUgaW5pdGlhbGl6ZWQgZXZlbnRcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vbignaW5pdGlhbGl6ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXR1cFZpZXdwb3J0KGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldHVwIGluaXRpYWwgdGFiIGxheW91dFxuICAgICAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlVGFiTGF5b3V0KCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEhpZGUgdGhlIHNoYXJlIGJ1dHRvbiBpZiBzaGFyaW5nIGlzIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgIGlmICghX3RoaXMyLnNob3djYXNlLnNldHRpbmdzRnJvbUFQSS5FbmFibGVTaGFyaW5nKSBzaGFyZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRUaXJlQnJhbmRzID0gUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwidGlyZS9jb3VudGJyYW5kc1wiLCBfdGhpczIuc2hvd2Nhc2UuZmlsdGVycy50aXJlRmlsdGVycy5nZXRGaWx0ZXJzKCkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRXaGVlbEJyYW5kcyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdChcIndoZWVsL2NvdW50YnJhbmRzXCIsIF90aGlzMi5zaG93Y2FzZS5maWx0ZXJzLndoZWVsRmlsdGVycy5nZXRGaWx0ZXJzKCkpO1xuICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci5hbGwoW2NvdW50VGlyZUJyYW5kcywgY291bnRXaGVlbEJyYW5kc10pLmRvbmUoZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aXJlQnJhbmRDb3VudCA9IHJlc3VsdHNbMF0uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd2hlZWxCcmFuZENvdW50ID0gcmVzdWx0c1sxXS5Db3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGlyZUJyYW5kQ291bnQpIF90aGlzMi5jdXN0b21pemF0aW9uQ29tcG9uZW50U2V0dGluZ3MudGlyZXMuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF3aGVlbEJyYW5kQ291bnQpIF90aGlzMi5jdXN0b21pemF0aW9uQ29tcG9uZW50U2V0dGluZ3Mud2hlZWxzLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi51cGRhdGVUYWJzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0dXBUYWJzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VXaGVlbFNpemUgPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZSh0aGlzLnNob3djYXNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVdoZWVsU2l6ZS5vcHRpb25TZWxlY3RlZENhbGxiYWNrID0gZnVuY3Rpb24gKG5ld09wdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIuc3RhdGUuZXh0ZW5kRGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2hlZWxGaXRtZW50OiBuZXdPcHRpb25cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi51cGRhdGVWaWV3cG9ydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBXaGVlbEZpdG1lbnQ6IG5ld09wdGlvbi5XaGVlbEZpdG1lbnRJRFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50cyA9IFt0aGlzLnZlaGljbGVEZXRhaWxzID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5WZWhpY2xlRGV0YWlscyh0aGlzLnNob3djYXNlKSwgbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5XaGVlbERldGFpbHModGhpcy5zaG93Y2FzZSksIG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuVGlyZURldGFpbHModGhpcy5zaG93Y2FzZSksIHRoaXMudGFiQmFyLCB0aGlzLmNoYW5nZVdoZWVsU2l6ZV07XG4gICAgICAgICAgICAgICAgdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50Q29udGFpbmVyID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGN1c3RvbWl6YXRpb25zQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIEFwcGVuZCBhbnkgc3ViIGNvbXBvbmVudHNcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdGhpcy5jb21wb25lbnRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hcHBlbmRDaGlsZChjb21wb25lbnQuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLXJvdGF0ZS12ZWhpY2xlJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIuc3dpdGNoQW5nbGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1jdXN0b21pemF0aW9uLWNvbXBvbmVudC10aXRsZS1jb250YWluZXInLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZDogW3RoaXMudGl0bGVFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLWN1c3RvbWl6YXRpb24tY29tcG9uZW50LXRpdGxlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICB9KSwgdGhpcy5maWx0ZXJCdXR0b24gPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVCdXR0b24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdmaWx0ZXItcmVzdWx0cycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2tpbm55OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pXVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2hvd0ZpbHRlcnMoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgc2hhcmVCdXR0b24gPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVCdXR0b24oe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNoYXJlLW15LXZlaGljbGUtYnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzaGFyZS1teS12ZWhpY2xlJyksXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHNoYXJlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwoX3RoaXMyLnNob3djYXNlLCBfdGhpczIuY3VycmVudFJlbmRlckluc3RydWN0aW9ucykuc2hvdygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIFN0YXJ0IGxpc3RlbmluZyBmb3IgcmVzaXplIGV2ZW50c1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uKCdyZXNpemVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLmlzVmlzaWJsZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlVmlld3BvcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIFN0YXJ0IGxpc3RlbmluZyBmb3IgYnJlYWtwb2ludCBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMub24oJ2JyZWFrcG9pbnQtY2hhbmdlZCcsIGZ1bmN0aW9uIChuZXdCcmVha3BvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi51cGRhdGVUYWJMYXlvdXQoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVEZXRhaWxzLnBhaW50U3dhdGNoQ2xpY2tDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNldEFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQoX3RoaXMyLmN1c3RvbWl6YXRpb25Db21wb25lbnRzLnBhaW50KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXR1cFZpZXdwb3J0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXR1cFZpZXdwb3J0KGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdmFyIHZpZXdwb3J0RWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS12aWV3cG9ydCcsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBjb250YWluZXJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2aWV3cG9ydEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMy5zd2l0Y2hBbmdsZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMudmlld3BvcnQgPSBuZXcgUmlkZVN0eWxlclZpZXdwb3J0KHZpZXdwb3J0RWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZVRhYnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVRhYnMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhYnMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudE9yZGVyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGRpc2FibGVkIGNvbXBvbmVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50U2V0dGluZ3Nba2V5XS5lbmFibGVkKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYnMucHVzaCh0aGlzLnRhYnNba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRhYkJhci5zZXRUYWJzKHRhYnMpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGFiTGF5b3V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZVRhYkxheW91dCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVGFiTGF5b3V0KCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50QnJlYWtwb2ludCA9IHRoaXMuc2hvd2Nhc2Uuc3R5bGUuZ2V0Q3VycmVudEJyZWFrcG9pbnQoKTtcbiAgICAgICAgICAgICAgICB2YXIgaG9yaXpvbnRhbCA9IGN1cnJlbnRCcmVha3BvaW50ICYmIGN1cnJlbnRCcmVha3BvaW50WzBdID09PSAncGhvbmUtcG9ydHJhaXQnO1xuICAgICAgICAgICAgICAgIHRoaXMudGFiQmFyLnNldE1vZGUoaG9yaXpvbnRhbCA/ICdob3Jpem9udGFsJyA6ICd2ZXJ0aWNhbCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXR1cFRhYnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldHVwVGFicygpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMudGFiQmFyID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIodGhpcy5zaG93Y2FzZSk7XG4gICAgICAgICAgICAgICAgLy8gRGVmaW5lIG91ciB0YWJzXG4gICAgICAgICAgICAgICAgdGhpcy50YWJzID0ge1xuICAgICAgICAgICAgICAgICAgICBwYWludDogbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIuVGFiKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdwYWludCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYWludCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdwYWludCcpXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB3aGVlbHM6IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFiQmFyLlRhYih7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2hlZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnd2hlZWxzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3doZWVscycpXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB0aXJlczogbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIuVGFiKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd0aXJlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ3RpcmVzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3RpcmVzJylcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNpb246IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFiQmFyLlRhYih7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VzcGVuc2lvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdzdXNwZW5zaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3N1c3BlbnNpb24nKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gU3dpdGNoIHRoZSBib3R0b20gdmlldywgdGhlIGN1c3RvbWl6YXRpb24gY29tcG9uZW50IHdoZW4gYSB0YWIgaXMgY2xpY2tlZCBvblxuICAgICAgICAgICAgICAgIHRoaXMudGFiQmFyLnRhYlN3aXRjaGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3VGFiID0gZS5uZXdUYWI7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBuZXdUYWIua2V5O1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LmN1c3RvbWl6YXRpb25Db21wb25lbnRzICYmIGtleSBpbiBfdGhpczQuY3VzdG9taXphdGlvbkNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRBY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50KF90aGlzNC5jdXN0b21pemF0aW9uQ29tcG9uZW50c1trZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uRGlzcGxheScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25EaXNwbGF5KCkge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0ZURhdGEgPSB0aGlzLnN0YXRlLmdldERhdGEoKTtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXRlRGF0YS5jdXJyZW50VmVoaWNsZUNvbmZpZ3VyYXRpb25JRCB8fCAhc3RhdGVEYXRhLmN1cnJlbnRWZWhpY2xlVGlyZU9wdGlvbklEKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1RyeWluZyB0byBzaG93IHRoZSB2aXN1YWxpemUgc2NyZWVuIHdpdGhvdXQgYSB2ZWhpY2xlIGNvbmZpZ3VyYXRpb24gb3IgdGlyZSBvcHRpb24uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB2ZWhpY2xlQ2hhbmdlZCA9ICFSaWRlU3R5bGVyU2hvd2Nhc2UuR1VJREhlbHBlci5hcmVFcXVhbChzdGF0ZURhdGEuY3VycmVudFZlaGljbGVDb25maWd1cmF0aW9uSUQsIHRoaXMudmVoaWNsZUNvbmZpZ3VyYXRpb25JRCk7XG4gICAgICAgICAgICAgICAgdmFyIHRpcmVPcHRpb25DaGFuZ2VkID0gIVJpZGVTdHlsZXJTaG93Y2FzZS5HVUlESGVscGVyLmFyZUVxdWFsKHN0YXRlRGF0YS5jdXJyZW50VmVoaWNsZVRpcmVPcHRpb25JRCwgdGhpcy52ZWhpY2xlVGlyZU9wdGlvbklEKTtcbiAgICAgICAgICAgICAgICBpZiAodmVoaWNsZUNoYW5nZWQgfHwgdGlyZU9wdGlvbkNoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlQ29uZmlndXJhdGlvbklEID0gc3RhdGVEYXRhLmN1cnJlbnRWZWhpY2xlQ29uZmlndXJhdGlvbklEO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVEZXNjcmlwdGlvbiA9IHN0YXRlRGF0YS5jdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVUaXJlT3B0aW9uSUQgPSBzdGF0ZURhdGEuY3VycmVudFZlaGljbGVUaXJlT3B0aW9uSUQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZVRpcmVPcHRpb25EZXNjcmlwdGlvbiA9IHN0YXRlRGF0YS5jdXJyZW50VmVoaWNsZVRpcmVPcHRpb25EZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblZlaGljbGVDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblZlaGljbGVDaGFuZ2VkJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblZlaGljbGVDaGFuZ2VkKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuZW1wdHkodGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50Q29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGN1c3RvbWl6YXRpb24gY29udGFpbmVyIGFzIGxvYWRpbmcgd2hpbGUgd2UncmUgbG9hZGluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gICAgICAgICAgICAgICAgLy8gYWJvdXQgdGhlIHZlaGljbGVcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRDb250YWluZXIuY2xhc3NMaXN0LmFkZChsb2FkaW5nQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGFicygpO1xuICAgICAgICAgICAgICAgIC8vIERlc2VsZWN0IGFueSBhY3RpdmUgdGFiXG4gICAgICAgICAgICAgICAgdGhpcy50YWJCYXIuY2xlYXJBY3RpdmVUYWIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaW4nKTtcbiAgICAgICAgICAgICAgICAvLyBMb2FkIHRoZSB2ZWhpY2xlJ3MgZGVzY3JpcHRpb24gbW9kZWxcbiAgICAgICAgICAgICAgICB2YXIgZ2V0VmVoaWNsZURlc2NyaXB0aW9uID0gUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwidmVoaWNsZS9nZXRkZXNjcmlwdGlvbnNcIiwge1xuICAgICAgICAgICAgICAgICAgICBDb3VudDogMSxcbiAgICAgICAgICAgICAgICAgICAgVmVoaWNsZUNvbmZpZ3VyYXRpb246IHRoaXMudmVoaWNsZUNvbmZpZ3VyYXRpb25JRFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBnZXRWZWhpY2xlVGlyZU9wdGlvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdCgndmVoaWNsZS9nZXR0aXJlb3B0aW9uZGV0YWlscycsIHtcbiAgICAgICAgICAgICAgICAgICAgVmVoaWNsZUNvbmZpZ3VyYXRpb246IHRoaXMudmVoaWNsZUNvbmZpZ3VyYXRpb25JRFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLmFsbChbZ2V0VmVoaWNsZURlc2NyaXB0aW9uLCBnZXRWZWhpY2xlVGlyZU9wdGlvbl0pLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmVoaWNsZURlc2NyaXB0aW9uID0gX3RoaXM1LnZlaGljbGVEZXNjcmlwdGlvbk1vZGVsID0gcmVzcG9uc2VzWzBdLkRlc2NyaXB0aW9uc1swXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZlaGljbGVUaXJlT3B0aW9uID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRUaXJlT3B0aW9uSUQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuR1VJREhlbHBlci5wYXJzZShfdGhpczUudmVoaWNsZVRpcmVPcHRpb25JRCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IHJlc3BvbnNlc1sxXS5EZXRhaWxzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpcmVPcHRpb24gPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUmlkZVN0eWxlclNob3djYXNlLkdVSURIZWxwZXIuYXJlRXF1YWwodGlyZU9wdGlvbi5UaXJlT3B0aW9uSUQsIHNlbGVjdGVkVGlyZU9wdGlvbklEKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWhpY2xlVGlyZU9wdGlvbiA9IHRpcmVPcHRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBfdGhpczUudmVoaWNsZVRpcmVPcHRpb24gPSB2ZWhpY2xlVGlyZU9wdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM1LnN0YXRlLmV4dGVuZERhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVoaWNsZUhhc0FuZ2xlZEltYWdlOiB2ZWhpY2xlRGVzY3JpcHRpb24uSGFzQW5nbGVkSW1hZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWhpY2xlSGFzU2lkZUltYWdlOiB2ZWhpY2xlRGVzY3JpcHRpb24uSGFzU2lkZUltYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRpcmVPcHRpb246IHZlaGljbGVUaXJlT3B0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbk1vZGVsOiB2ZWhpY2xlRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNS5pbml0aWFsaXplRm9yTmV3VmVoaWNsZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplRm9yTmV3VmVoaWNsZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUZvck5ld1ZlaGljbGUoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJJbnN0cnVjdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhYkJhci5zZXRBY3RpdmVUYWIodGhpcy50YWJzLnBhaW50KTtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNvbXBvbmVudHMgdGhhdCB3aWxsIGJlIHN3aXRjaGVkIHdpdGggdGhlIHRhYnNcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRzID0ge1xuICAgICAgICAgICAgICAgICAgICBwYWludDogbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yKHRoaXMuc2hvd2Nhc2UpLFxuICAgICAgICAgICAgICAgICAgICB3aGVlbHM6IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3Rvcih0aGlzLnNob3djYXNlKSxcbiAgICAgICAgICAgICAgICAgICAgdGlyZXM6IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yKHRoaXMuc2hvd2Nhc2UpLFxuICAgICAgICAgICAgICAgICAgICBzdXNwZW5zaW9uOiBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3Rvcih0aGlzLnNob3djYXNlKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93Y2FzZS5maWx0ZXJzLndoZWVsRmlsdGVycy5vbkZpbHRlcnNDaGFuZ2VkID0gZnVuY3Rpb24gKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmN1c3RvbWl6YXRpb25Db21wb25lbnRzLndoZWVscy5zZXRGaWx0ZXJzKGZpbHRlcnMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93Y2FzZS5maWx0ZXJzLnRpcmVGaWx0ZXJzLm9uRmlsdGVyc0NoYW5nZWQgPSBmdW5jdGlvbiAoZmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczYuY3VzdG9taXphdGlvbkNvbXBvbmVudHMudGlyZXMuc2V0RmlsdGVycyhmaWx0ZXJzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudHMucGFpbnQub25QYWludFNjaGVtZVNlbGVjdGVkID0gZnVuY3Rpb24gKHBhaW50U2NoZW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNi5jdXN0b21pemF0aW9uQ29tcG9uZW50cy5wYWludC5zZXRPcHRpb25Jc0xvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNi51cGRhdGVWaWV3cG9ydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBQYWludENvbG9yOiBwYWludFNjaGVtZS5Db2xvcnNbMF0uSGV4XG4gICAgICAgICAgICAgICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuY3VzdG9taXphdGlvbkNvbXBvbmVudHMucGFpbnQuc2V0T3B0aW9uSXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRzLndoZWVscy5wcm9kdWN0U2VsZWN0ZWRDYWxsYmFjayA9IGZ1bmN0aW9uIChtb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczYuY3VzdG9taXphdGlvbkNvbXBvbmVudHMud2hlZWxzLnNldE9wdGlvbklzTG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNhblJlbmRlck9uQ3VycmVudEFuZ2xlID0gX3RoaXM2LmltYWdlVHlwZSA9PT0gMiAvKiBBbmdsZSAqLyAmJiBtb2RlbC5IYXNBbmdsZUltYWdlIHx8IF90aGlzNi5pbWFnZVR5cGUgPT09IDEgLyogU2lkZSAqLyAmJiBtb2RlbC5IYXNTaWRlSW1hZ2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2FuUmVuZGVyT25DdXJyZW50QW5nbGUpIF90aGlzNi5zd2l0Y2hBbmdsZSgpO1xuICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoJ3doZWVsL2dldGZpdG1lbnRkZXNjcmlwdGlvbnMnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBWZWhpY2xlQ29uZmlndXJhdGlvbjogX3RoaXM2LnZlaGljbGVDb25maWd1cmF0aW9uSUQsXG4gICAgICAgICAgICAgICAgICAgICAgICBXaGVlbE1vZGVsOiBtb2RlbC5XaGVlbE1vZGVsSURcbiAgICAgICAgICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXRtZW50cyA9IHJlc3BvbnNlLkZpdG1lbnRzO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJlc3RGaXRtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldERpYW1ldGVyID0gX3RoaXM2LnZlaGljbGVUaXJlT3B0aW9uLkZyb250Lkluc2lkZURpYW1ldGVyO1xuICAgICAgICAgICAgICAgICAgICAgICAgZml0bWVudHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhRGlmZiA9IE1hdGguYWJzKGEuRGlhbWV0ZXJNaW4gLSB0YXJnZXREaWFtZXRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJEaWZmID0gTWF0aC5hYnMoYi5EaWFtZXRlck1pbiAtIHRhcmdldERpYW1ldGVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYURpZmYgLSBiRGlmZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgYmVzdEZpdG1lbnQgPSBmaXRtZW50c1swXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5zdGF0ZS5leHRlbmREYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2hlZWw6IG1vZGVsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRXaGVlbEZpdG1lbnQ6IGJlc3RGaXRtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5jaGFuZ2VXaGVlbFNpemUuc2V0Rml0bWVudE9wdGlvbnMoZml0bWVudHMsIGJlc3RGaXRtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi5jaGFuZ2VXaGVlbFNpemUuY29tcG9uZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNi51cGRhdGVWaWV3cG9ydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgV2hlZWxGaXRtZW50OiBiZXN0Rml0bWVudC5XaGVlbEZpdG1lbnRJRFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuY3VzdG9taXphdGlvbkNvbXBvbmVudHMud2hlZWxzLnNldE9wdGlvbklzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LmN1c3RvbWl6YXRpb25Db21wb25lbnRzLndoZWVscy5zZXRPcHRpb25Jc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudHMudGlyZXMucHJvZHVjdFNlbGVjdGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LnN0YXRlLmV4dGVuZERhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRpcmU6IG1vZGVsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50cy5zdXNwZW5zaW9uLnN1c3BlbnNpb25DaGFuZ2VDYWxsYmFjayA9IGZ1bmN0aW9uIChyZW5kZXJVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LnVwZGF0ZVZpZXdwb3J0KHJlbmRlclVwZGF0ZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQodGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50cy53aGVlbHMpO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I0ID0gUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5nZXRWYWx1ZXModGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50cylbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDQ7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSAoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXN0b21pemF0aW9uQ29tcG9uZW50ID0gX3N0ZXA0LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXN0b21pemF0aW9uQ29tcG9uZW50LmNvbXBvbmVudC5jbGFzc0xpc3QuYWRkKCdyaWRlc3R5bGVyLXNob3djYXNlLWN1c3RvbWl6YXRpb24tY29tcG9uZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRDb250YWluZXIuYXBwZW5kQ2hpbGQoY3VzdG9taXphdGlvbkNvbXBvbmVudC5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yNCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNCA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCAmJiBfaXRlcmF0b3I0LnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZVR5cGUgPSAyIC8qIEFuZ2xlICovO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy52ZWhpY2xlRGVzY3JpcHRpb25Nb2RlbC5IYXNBbmdsZWRJbWFnZSkgdGhpcy5pbWFnZVR5cGUgPSAxIC8qIFNpZGUgKi87XG4gICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVFbGVtZW50LnN0eWxlLmRpc3BsYXkgPSB0aGlzLmNhblN3aXRjaEFuZ2xlKCkgPyAnJyA6ICdub25lJztcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVZpZXdwb3J0KHtcbiAgICAgICAgICAgICAgICAgICAgVmVoaWNsZUNvbmZpZ3VyYXRpb246IHRoaXMudmVoaWNsZUNvbmZpZ3VyYXRpb25JRCxcbiAgICAgICAgICAgICAgICAgICAgVmVoaWNsZVRpcmVPcHRpb246IHRoaXMudmVoaWNsZVRpcmVPcHRpb25JRCxcbiAgICAgICAgICAgICAgICAgICAgUG9zaXRpb25YOiAxIC8qIENlbnRlciAqL1xuICAgICAgICAgICAgICAgICAgICAsIFBvc2l0aW9uWTogMiAvKiBGYXIgKi9cbiAgICAgICAgICAgICAgICAgICAgLCBUeXBlOiB0aGlzLmltYWdlVHlwZVxuICAgICAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczYucm90YXRlRWxlbWVudC5jbGFzc0xpc3QuYWRkKCdpbicpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKGxvYWRpbmdDbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldEFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQoY3VzdG9taXphdGlvbkNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0ZURhdGEgPSB0aGlzLnN0YXRlLmdldERhdGEoKTtcbiAgICAgICAgICAgICAgICB2YXIgY29tcG9uZW50S2V5ID0gdGhpcy5nZXRDb21wb25lbnRLZXkoY3VzdG9taXphdGlvbkNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50U2V0dGluZ3NbY29tcG9uZW50S2V5XTtcbiAgICAgICAgICAgICAgICB2YXIgdGFiID0gdGhpcy50YWJzW2NvbXBvbmVudEtleV07XG4gICAgICAgICAgICAgICAgaWYgKHRhYikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRhYkJhci5zZXRBY3RpdmVUYWIodGFiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlQ3VzdG9taXphdGlvbkNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQuY29tcG9uZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2luJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGN1c3RvbWl6YXRpb25Db21wb25lbnQuY29tcG9uZW50LmNsYXNzTGlzdC5hZGQoJ2luJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50ID0gY3VzdG9taXphdGlvbkNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGN1c3RvbWl6YXRpb25Db21wb25lbnQudXBkYXRlID09PSAnZnVuY3Rpb24nKSBjdXN0b21pemF0aW9uQ29tcG9uZW50LnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlV2hlZWxTaXplLmNvbXBvbmVudC5zdHlsZS5kaXNwbGF5ID0gY3VzdG9taXphdGlvbkNvbXBvbmVudCBpbnN0YW5jZW9mIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yICYmIHN0YXRlRGF0YS5jdXJyZW50V2hlZWwgPyAnJyA6ICdub25lJztcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gc2V0dGluZ3Muc2hvd0ZpbHRlckJ1dHRvbiA/ICcnIDogJ25vbmUnO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLnNldFRleHQodGhpcy50aXRsZUVsZW1lbnQsIHNldHRpbmdzLnRpdGxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZ2V0Q29tcG9uZW50S2V5JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb21wb25lbnRLZXkoY3VzdG9taXphdGlvbkNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnQgPT09IGN1c3RvbWl6YXRpb25Db21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZVZpZXdwb3J0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVWaWV3cG9ydChpbnN0cnVjdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMuY3VycmVudFJlbmRlckluc3RydWN0aW9ucywgaW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52aWV3cG9ydC5VcGRhdGUoaW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY2FuU3dpdGNoQW5nbGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNhblN3aXRjaEFuZ2xlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZlaGljbGVEZXNjcmlwdGlvbk1vZGVsLkhhc0FuZ2xlZEltYWdlICYmIHRoaXMudmVoaWNsZURlc2NyaXB0aW9uTW9kZWwuSGFzU2lkZUltYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzaG93RmlsdGVycycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd0ZpbHRlcnMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQgPSB0aGlzLmFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICAgICAgdmFyIGZpbHRlck1vZGFsID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGlmIChhY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50ID09PSB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRzLnRpcmVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlck1vZGFsID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbCh0aGlzLnNob3djYXNlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJQcm92aWRlcjogdGhpcy5zaG93Y2FzZS5maWx0ZXJzLnRpcmVGaWx0ZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvdW50VGV4dEZvcm1hdDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzaG93LWNvdW50LWZvcm1hdC10aXJlcycpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoYWN0aXZlQ3VzdG9taXphdGlvbkNvbXBvbmVudCA9PT0gdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50cy53aGVlbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyTW9kYWwgPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZUZpbHRlck1vZGFsKHRoaXMuc2hvd2Nhc2UsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlclByb3ZpZGVyOiB0aGlzLnNob3djYXNlLmZpbHRlcnMud2hlZWxGaWx0ZXJzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2hvd0NvdW50VGV4dEZvcm1hdDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzaG93LWNvdW50LWZvcm1hdC13aGVlbHMnKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGZpbHRlck1vZGFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlck1vZGFsLnNob3coKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3N3aXRjaEFuZ2xlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzd2l0Y2hBbmdsZSgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2FuU3dpdGNoQW5nbGUoKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmltYWdlVHlwZSA9PT0gMiAvKiBBbmdsZSAqLykgdGhpcy5pbWFnZVR5cGUgPSAxIC8qIFNpZGUgKi87ZWxzZSB0aGlzLmltYWdlVHlwZSA9IDIgLyogQW5nbGUgKi87XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydCh7XG4gICAgICAgICAgICAgICAgICAgIFR5cGU6IHRoaXMuaW1hZ2VUeXBlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb247XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuTWFpbkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVWaXN1YWxpemF0aW9uID0gUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb247XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbCA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJFIpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkUik7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbChzaG93Y2FzZUluc3RhbmNlLCB3aGVlbE1vZGVsKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbCk7XG5cbiAgICAgICAgICAgIC8vIEltYWdlXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UpKTtcblxuICAgICAgICAgICAgX3RoaXMuaW1hZ2UudXBkYXRlKHtcbiAgICAgICAgICAgICAgICBXaGVlbEZpdG1lbnRSZXNvdXJjZVR5cGU6IDMgLyogQ2F0YWxvZyAqL1xuICAgICAgICAgICAgICAgICwgV2hlZWxNb2RlbDogd2hlZWxNb2RlbC5XaGVlbE1vZGVsSURcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gQnJhbmRcbiAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLnNldFRleHQoX3RoaXMuYnJhbmRUaXRsZUVsZW1lbnQsIHdoZWVsTW9kZWwuV2hlZWxCcmFuZE5hbWUpO1xuICAgICAgICAgICAgLy8gTW9kZWwgTmFtZVxuICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuc2V0VGV4dChfdGhpcy50aXRsZUVsZW1lbnQsIHdoZWVsTW9kZWwuV2hlZWxNb2RlbE5hbWUpO1xuICAgICAgICAgICAgLy8gRmluaXNoXG4gICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5zZXRUZXh0KF90aGlzLnN1YnRpdGxlRWxlbWVudCwgd2hlZWxNb2RlbC5XaGVlbE1vZGVsRmluaXNoRGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgLy8gU3VtbWFyeSBUYWJsZVxuICAgICAgICAgICAgX3RoaXMuc3VtbWFyeVRhYmxlID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZShfdGhpcy5zaG93Y2FzZSwge1xuICAgICAgICAgICAgICAgIGNvbHVtbnM6IFt7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcjogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzaXplJyksXG4gICAgICAgICAgICAgICAgICAgIGNlbGw6ICdzaXplJ1xuICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3ByaWNlJyksXG4gICAgICAgICAgICAgICAgICAgIGNlbGw6ICdwcmljZSdcbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBzdGFydExvYWRpbmc6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMuc3VtbWFyeUVsZW1lbnQuYXBwZW5kQ2hpbGQoX3RoaXMuc3VtbWFyeVRhYmxlLmNvbXBvbmVudCk7XG4gICAgICAgICAgICBfdGhpcy5idWlsZFNwZWNzUGFnZSgpO1xuICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KCd3aGVlbC9nZXRmaXRtZW50ZGVzY3JpcHRpb25zJywge1xuICAgICAgICAgICAgICAgIFdoZWVsTW9kZWw6IHdoZWVsTW9kZWwuV2hlZWxNb2RlbElELFxuICAgICAgICAgICAgICAgIEluY2x1ZGVQcm9tb3Rpb25zOiB0cnVlLFxuICAgICAgICAgICAgICAgIEluY2x1ZGVQcmljaW5nOiB0cnVlXG4gICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLnN1bW1hcnlUYWJsZS5hcHBlbmRSb3dzKF90aGlzLmJ1aWxkU3VtbWFyeVRhYmxlKHJlc3BvbnNlLkZpdG1lbnRzKSk7XG4gICAgICAgICAgICAgICAgX3RoaXMuc3BlY3NUYWJsZS5hcHBlbmRSb3dzKHJlc3BvbnNlLkZpdG1lbnRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwsIFt7XG4gICAgICAgICAgICBrZXk6ICdidWlsZFN1bW1hcnlUYWJsZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRTdW1tYXJ5VGFibGUoZml0bWVudHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgYWxsU2l6ZVByaWNlQ29tYmluYXRpb25zID0gW107XG4gICAgICAgICAgICAgICAgLy8gR2V0IGEgbGlzdCBvZiBlYWNoIGZpdG1lbnQgc2l6ZS9wcmljZSBjb21iaW5hdGlvblxuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBmaXRtZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXRtZW50ID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaXRtZW50UHJpY2UgPSBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsLmdldEZpdG1lbnRSZXRhaWxQcmljZURhdGFPYmplY3QoZml0bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZml0bWVudFByaWNlQW1vdW50ID0gZml0bWVudFByaWNlID8gZml0bWVudFByaWNlLldoZWVsUHJpY2luZ0Ftb3VudCA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNpemVQcmljZUNvbWJpbmF0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFtZXRlcjogZml0bWVudC5EaWFtZXRlck1pbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZml0bWVudC5XaWR0aE1pbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogZml0bWVudFByaWNlQW1vdW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNpemVQcmljZUNvbWJpbmF0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFtZXRlcjogZml0bWVudC5EaWFtZXRlck1pbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZml0bWVudC5XaWR0aE1heCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogZml0bWVudFByaWNlQW1vdW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNpemVQcmljZUNvbWJpbmF0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFtZXRlcjogZml0bWVudC5EaWFtZXRlck1heCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZml0bWVudC5XaWR0aE1pbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogZml0bWVudFByaWNlQW1vdW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbFNpemVQcmljZUNvbWJpbmF0aW9ucy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFtZXRlcjogZml0bWVudC5EaWFtZXRlck1heCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogZml0bWVudC5XaWR0aE1heCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogZml0bWVudFByaWNlQW1vdW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHNpemVQcmljZVJhbmdlcyA9IHt9O1xuICAgICAgICAgICAgICAgIC8vIEdlbmVyYXRlIHByaWNlIHJhbmdlcyBmb3IgZWFjaCB1bmlxdWUgc2l6ZSBkZXNjcmlwdGlvbiBjcmVhdGVkIGFib3ZlXG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBhbGxTaXplUHJpY2VDb21iaW5hdGlvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXplUHJpY2VDb21ibyA9IF9zdGVwMi52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkaWFtZXRlciA9IHNpemVQcmljZUNvbWJvLmRpYW1ldGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlID0gc2l6ZVByaWNlQ29tYm8ucHJpY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBzaXplUHJpY2VDb21iby53aWR0aDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNpemUgPSBkaWFtZXRlciArICfigLMgeCAnICsgd2lkdGg7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcHJpY2VSYW5nZSA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaXplIGluIHNpemVQcmljZVJhbmdlcyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZVJhbmdlID0gc2l6ZVByaWNlUmFuZ2VzW3NpemVdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW46IEluZmluaXR5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXg6IC1JbmZpbml0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlUmFuZ2UgPSBzaXplUHJpY2VSYW5nZXNbc2l6ZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuTnVtYmVySGVscGVyLmV4dGVuZFJhbmdlKHByaWNlLCBwcmljZVJhbmdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBUcmFuc2xhdGUgc2l6ZVByaWNlUmFuZ2VzIGludG8gU3VtbWFyeVRhYmxlUm93c1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBzdW1tYXJ5VGFibGVSb3dzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIHByaWNlSXNVbnNwZWNpZmllZCA9IGZ1bmN0aW9uIHByaWNlSXNVbnNwZWNpZmllZChwcmljZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBQcmljZSBtdXN0IGJlIGEgbnVtYmVyLCBhbmQgbm90ICstIGluZmluaXR5XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgcHJpY2UgIT09ICdudW1iZXInIHx8IGlzTmFOKHByaWNlKSB8fCBwcmljZSA9PT0gSW5maW5pdHkgfHwgcHJpY2UgPT09IC1JbmZpbml0eTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHNpemUgaW4gc2l6ZVByaWNlUmFuZ2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2l6ZVByaWNlUmFuZ2VzLmhhc093blByb3BlcnR5KHNpemUpKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByaWNlUmFuZ2UgPSBzaXplUHJpY2VSYW5nZXNbc2l6ZV07XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmljZVN0cmluZyA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByaWNlSXNVbnNwZWNpZmllZChwcmljZVJhbmdlLm1pbikgfHwgcHJpY2VJc1Vuc3BlY2lmaWVkKHByaWNlUmFuZ2UubWF4KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VTdHJpbmcgPSBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2NhbGwnKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcmljZVJhbmdlLm1pbiA9PT0gcHJpY2VSYW5nZS5tYXgpIHByaWNlU3RyaW5nID0gUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZm9ybWF0KCkuY3VycmVuY3kocHJpY2VSYW5nZS5taW4sICckJyk7ZWxzZSBwcmljZVN0cmluZyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmZvcm1hdCgpLmN1cnJlbmN5KHByaWNlUmFuZ2UubWluLCAnJCcpICsgJyAtICcgKyBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5mb3JtYXQoKS5jdXJyZW5jeShwcmljZVJhbmdlLm1heCwgJyQnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5VGFibGVSb3dzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZTogc2l6ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlOiBwcmljZVN0cmluZ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1bW1hcnlUYWJsZVJvd3M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2J1aWxkU3BlY3NQYWdlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZFNwZWNzUGFnZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNwZWNzVGFibGUgPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlKHRoaXMuc2hvd2Nhc2UsIHtcbiAgICAgICAgICAgICAgICAgICAgY29sdW1uczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzaXplJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsOiBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsLmdldEZpdG1lbnRTaXplRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ29mZnNldCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbDogZnVuY3Rpb24gY2VsbChmaXRtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZS5mb3JtYXRDZWxsKGZpdG1lbnQsICdPZmZzZXRNaW4nLCAnbW0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2JvbHQtcGF0dGVybicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbDogJ0JvbHRQYXR0ZXJuRGVzY3JpcHRpb24nXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdjZW50ZXJib3JlJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsOiBmdW5jdGlvbiBjZWxsKGZpdG1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlLmZvcm1hdENlbGwoZml0bWVudCwgJ0NlbnRlcmJvcmVNTScsICdtbScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI6ICdQcmljZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsOiBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsLmdldEZpdG1lbnRQcmljZVxuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnaXRlbS1udW1iZXInKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGw6IFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwuZ2V0Rml0bWVudEl0ZW1OdW1iZXJcbiAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgc3BlY3NDb250YWluZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnc2Nyb2xsYWJsZScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZDogdGhpcy5zcGVjc1RhYmxlLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYWRkUGFnZSh7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogc3BlY3NDb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3NwZWNpZmljYXRpb25zJylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY3JlYXRlSW1hZ2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZUltYWdlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJlc2l6ZWFibGVSZXNvdXJjZUltYWdlKHRoaXMuaW1hZ2VDb250YWluZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBcIndoZWVsL2ltYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgIGJhc2VJbnN0cnVjdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFBvc2l0aW9uWDogMSAvKiBDZW50ZXIgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICwgUG9zaXRpb25ZOiAyIC8qIEZhciAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgLCBJbmNsdWRlU2hhZG93OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0sIFt7XG4gICAgICAgICAgICBrZXk6ICdnZXRGaXRtZW50UmV0YWlsUHJpY2VEYXRhT2JqZWN0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGaXRtZW50UmV0YWlsUHJpY2VEYXRhT2JqZWN0KGZpdG1lbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZml0bWVudC5QcmljaW5nICYmIGZpdG1lbnQuUHJpY2luZ1snUmV0YWlsJ10gfHwgdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdnZXRGaXRtZW50U2l6ZURlc2NyaXB0aW9uJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGaXRtZW50U2l6ZURlc2NyaXB0aW9uKGZpdG1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgRGlhbWV0ZXJNaW4gPSBmaXRtZW50LkRpYW1ldGVyTWluLFxuICAgICAgICAgICAgICAgICAgICBXaWR0aE1pbiA9IGZpdG1lbnQuV2lkdGhNaW47XG5cbiAgICAgICAgICAgICAgICBpZiAoIURpYW1ldGVyTWluIHx8ICFXaWR0aE1pbikgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZS5lbXB0eUNlbGxTdHJpbmc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIERpYW1ldGVyTWluICsgJ1xcdTIwMzMgeCAnICsgV2lkdGhNaW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dldEZpdG1lbnRQcmljZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rml0bWVudFByaWNlKGZpdG1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9QcmljZVN0cmluZyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnY2FsbCcpO1xuICAgICAgICAgICAgICAgIHZhciByZXRhaWxQcmljZURhdGFPYmplY3QgPSBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsLmdldEZpdG1lbnRSZXRhaWxQcmljZURhdGFPYmplY3QoZml0bWVudCk7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXRhaWxQcmljZURhdGFPYmplY3QpIHJldHVybiBub1ByaWNlU3RyaW5nO1xuICAgICAgICAgICAgICAgIHZhciBwcmljZSA9IHJldGFpbFByaWNlRGF0YU9iamVjdC5XaGVlbFByaWNpbmdBbW91bnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByaWNlID8gUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZm9ybWF0KCkuY3VycmVuY3kocHJpY2UsICckJykgOiBub1ByaWNlU3RyaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdnZXRGaXRtZW50SXRlbU51bWJlcicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rml0bWVudEl0ZW1OdW1iZXIoZml0bWVudCkge1xuICAgICAgICAgICAgICAgIHZhciByZXRhaWxQcmljZURhdGFPYmplY3QgPSBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsLmdldEZpdG1lbnRSZXRhaWxQcmljZURhdGFPYmplY3QoZml0bWVudCk7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW1OdW1iZXIgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgLy8gSXRlbSBudW1iZXIgaXMgdGhlIHJldGFpbCBwcmljaW5nIGl0ZW0gbnVtYmVyIGJ5IGRlZmF1bHRcbiAgICAgICAgICAgICAgICBpZiAocmV0YWlsUHJpY2VEYXRhT2JqZWN0KSBpdGVtTnVtYmVyID0gcmV0YWlsUHJpY2VEYXRhT2JqZWN0LldoZWVsUHJpY2luZ0l0ZW1OdW1iZXI7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlcmUncyBubyByZXRhaWwgcHJpY2luZywgb3IgdGhlIHJldGFpbCBwcmljZSBkb2Vzbid0IGhhdmUgYSBpdGVtIG51bWJlciB1c2UgdGhlIGZpdG1lbnQncyBwYXJ0IG51bWJlclxuICAgICAgICAgICAgICAgIGlmICghaXRlbU51bWJlcikgaXRlbU51bWJlciA9IGZpdG1lbnQuUGFydE51bWJlcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbU51bWJlciB8fCBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFibGUuZW1wdHlDZWxsU3RyaW5nO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWw7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsID0gUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbDtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBvcHRpb25DbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXBhZ2luYXRpb24tb3B0aW9uJztcbiAgICB2YXIgbm9SZXN1bHRzQ2xhc3MgPSBvcHRpb25DbGFzcyArICctbm8tcmVzdWx0cyc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3RvciA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJFIpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsU2VsZWN0b3IsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkUik7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3RvcihzaG93Y2FzZUluc3RhbmNlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3RvcikpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSkpO1xuXG4gICAgICAgICAgICB2YXIgc3RhdGVEYXRhID0gc2hvd2Nhc2VJbnN0YW5jZS5zdGF0ZS5nZXREYXRhKCk7XG4gICAgICAgICAgICBfdGhpcy5zdXBwb3J0ZWRWZWhpY2xlSW1hZ2VyeSA9IHtcbiAgICAgICAgICAgICAgICBhbmdsZWQ6IHN0YXRlRGF0YS52ZWhpY2xlSGFzQW5nbGVkSW1hZ2UsXG4gICAgICAgICAgICAgICAgc2lkZTogc3RhdGVEYXRhLnZlaGljbGVIYXNTaWRlSW1hZ2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy52ZWhpY2xlQ29uZmlndXJhdGlvbklEID0gc3RhdGVEYXRhLmN1cnJlbnRWZWhpY2xlQ29uZmlndXJhdGlvbklEO1xuICAgICAgICAgICAgX3RoaXMuZGVmYXVsdEZpbHRlcnMgPSB7XG4gICAgICAgICAgICAgICAgVmVoaWNsZUNvbmZpZ3VyYXRpb246IHN0YXRlRGF0YS5jdXJyZW50VmVoaWNsZUNvbmZpZ3VyYXRpb25JRCxcbiAgICAgICAgICAgICAgICBIYXNDYXRhbG9nSW1hZ2U6IHRydWUsXG4gICAgICAgICAgICAgICAgSGFzRml0bWVudHM6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy5jdXJyZW50RmlsdGVycyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHt9LCBfdGhpcy5kZWZhdWx0RmlsdGVycyk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3RvciwgW3tcbiAgICAgICAgICAgIGtleTogJ3Nob3dOb1Jlc3VsdHMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dOb1Jlc3VsdHMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm5vUmVzdWx0c0VsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogb3B0aW9uQ2xhc3MgKyAnICcgKyBub1Jlc3VsdHNDbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCduby13aGVlbC1yZXN1bHRzJykgKyAnICcsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLm9wdGlvbkNvbnRhaW5lclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLm5vUmVzdWx0c0VsZW1lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnY2hhbmdlLXZlaGljbGUnKSxcbiAgICAgICAgICAgICAgICAgICAgbGluazogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIuc3RhdGUuY2hhbmdlU3RhdGUoUmlkZVN0eWxlclNob3djYXNlLlN0YXRlcy5DaG9vc2VWZWhpY2xlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnY291bnRSZXN1bHRzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb3VudFJlc3VsdHMoZmlsdGVycykge1xuICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdChcIndoZWVsL2NvdW50bW9kZWxzXCIsIGZpbHRlcnMpLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLkNvdW50O1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdnZXRSZXN1bHRzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRSZXN1bHRzKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoXCJ3aGVlbC9nZXRtb2RlbGRlc2NyaXB0aW9uc1wiLCBSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbih7XG4gICAgICAgICAgICAgICAgICAgIEluY2x1ZGVNZXRhS2V5czogWydEZXNjcmlwdGlvbicsICdIaWdobGlnaHRzJ10sXG4gICAgICAgICAgICAgICAgICAgIEhhc0ZpdG1lbnRzOiB0cnVlXG4gICAgICAgICAgICAgICAgfSwgZmlsdGVycykpLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLk1vZGVscztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAncHJvZHVjdEZpbHRlcicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcHJvZHVjdEZpbHRlcihwcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3Byb2R1Y3RJbWFnZVNvdXJjZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcHJvZHVjdEltYWdlU291cmNlKHByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmlkZXN0eWxlci53aGVlbC5pbWFnZSh7XG4gICAgICAgICAgICAgICAgICAgIFdoZWVsRml0bWVudFJlc291cmNlVHlwZTogMyAvKiBDYXRhbG9nICovXG4gICAgICAgICAgICAgICAgICAgICwgV2hlZWxNb2RlbDogcHJvZHVjdC5XaGVlbE1vZGVsSUQsXG4gICAgICAgICAgICAgICAgICAgIFdpZHRoOiAxMDAsXG4gICAgICAgICAgICAgICAgICAgIEhlaWdodDogMTAwLFxuICAgICAgICAgICAgICAgICAgICBQb3NpdGlvblg6IDEgLyogQ2VudGVyICovXG4gICAgICAgICAgICAgICAgICAgICwgUG9zaXRpb25ZOiAxIC8qIENlbnRlciAqL1xuICAgICAgICAgICAgICAgICAgICAsIEluY2x1ZGVTaGFkb3c6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAncHJvZHVjdEltYWdlTGFiZWxzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9kdWN0SW1hZ2VMYWJlbHMocHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHByaW1hcnk6IHByb2R1Y3QuV2hlZWxCcmFuZE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHNlY29uZGFyeTogcHJvZHVjdC5XaGVlbE1vZGVsTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdGVydGlhcnk6IHByb2R1Y3QuV2hlZWxNb2RlbEZpbmlzaERlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3Rvcik7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3RvciA9IFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsU2VsZWN0b3I7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtdGlyZS1kZXRhaWxzJztcblxuICAgIHZhciBUaXJlRGV0YWlscyA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJEMpIHtcbiAgICAgICAgX2luaGVyaXRzKFRpcmVEZXRhaWxzLCBfUmlkZVN0eWxlclNob3djYXNlJEMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFRpcmVEZXRhaWxzKCkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFRpcmVEZXRhaWxzKTtcblxuICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUaXJlRGV0YWlscy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRpcmVEZXRhaWxzKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoVGlyZURldGFpbHMsIFt7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplQ29tcG9uZW50KCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50V2l0aENsYXNzKCdkaXYnLCBjbGFzc05hbWUgKyBcIiByaWRlc3R5bGVyLXNob3djYXNlLWRldGFpbHNcIik7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctdGl0bGUnICsgXCIgcmlkZXN0eWxlci1zaG93Y2FzZS1kZXRhaWxzLXRpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygndGlyZS1kZXRhaWxzJyksXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMudGlyZU5hbWVFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctbmFtZScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMudGlyZURlc2NyaXB0aW9uRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLWRlc2NyaXB0aW9uIHJpZGVzdHlsZXItc2hvd2Nhc2UtZGV0YWlscy1zZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmFmdGVyRGF0YUNoYW5nZShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uRGF0YUNoYW5nZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25EYXRhQ2hhbmdlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkRhdGFDaGFuZ2UoZGF0YSkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VGlyZSA9IGRhdGEuY3VycmVudFRpcmU7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuc3R5bGUuZGlzcGxheSA9IGN1cnJlbnRUaXJlID8gJycgOiAnbm9uZSc7XG4gICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUaXJlKSB7XG4gICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLnNldFRleHQodGhpcy50aXJlTmFtZUVsZW1lbnQsIGN1cnJlbnRUaXJlLlRpcmVCcmFuZE5hbWUgKyAnICcgKyBjdXJyZW50VGlyZS5UaXJlTW9kZWxOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuc2V0VGV4dCh0aGlzLnRpcmVEZXNjcmlwdGlvbkVsZW1lbnQsIGN1cnJlbnRUaXJlLkF0dHJpYnV0ZXMgJiYgY3VycmVudFRpcmUuQXR0cmlidXRlcy5sZW5ndGggPyBjdXJyZW50VGlyZS5BdHRyaWJ1dGVzLmpvaW4oJywgJykgOiAnJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFRpcmVEZXRhaWxzO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlRpcmVEZXRhaWxzID0gVGlyZURldGFpbHM7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtdmVoaWNsZS1kZXRhaWxzJztcbiAgICB2YXIgZmlyc3RQYWludENvbG9yID0gJyM5OTknO1xuXG4gICAgdmFyIFZlaGljbGVEZXRhaWxzID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoVmVoaWNsZURldGFpbHMsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkQyk7XG5cbiAgICAgICAgZnVuY3Rpb24gVmVoaWNsZURldGFpbHMoKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVmVoaWNsZURldGFpbHMpO1xuXG4gICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFZlaGljbGVEZXRhaWxzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVmVoaWNsZURldGFpbHMpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhWZWhpY2xlRGV0YWlscywgW3tcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVDb21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVDb21wb25lbnQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MoJ2RpdicsIGNsYXNzTmFtZSArIFwiIHJpZGVzdHlsZXItc2hvd2Nhc2UtZGV0YWlsc1wiKTtcbiAgICAgICAgICAgICAgICAvLyBUaXRsZVxuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLXRpdGxlJyArIFwiIHJpZGVzdHlsZXItc2hvd2Nhc2UtZGV0YWlscy10aXRsZVwiLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3ZlaGljbGUtZGV0YWlscycpLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBWZWhpY2xlIERlc2NyaXB0aW9uL1BhaW50IFN3YXRjaCBDb250YWluZXJcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy12ZWhpY2xlJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kOiBbXG4gICAgICAgICAgICAgICAgICAgIC8vIFBhaW50IFN3YXRjaFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVQYWludFN3YXRjaEVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctdmVoaWNsZS1zd2F0Y2ggcmlkZXN0eWxlci1zaG93Y2FzZS1wYWludC1zd2F0Y2gnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGZpcnN0UGFpbnRDb2xvclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgLy8gVmVoaWNsZSBEZXNjcmlwdGlvblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVEZXNjcmlwdGlvbkVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctdmVoaWNsZS1kZXRhaWxzJ1xuICAgICAgICAgICAgICAgICAgICB9KV0sXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIFRpcmUgU2l6ZVxuICAgICAgICAgICAgICAgIHRoaXMudGlyZVNpemVFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctdGlyZS1zaXplIHJpZGVzdHlsZXItc2hvd2Nhc2UtZGV0YWlscy1zZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBDaGFuZ2UgVmVoaWNsZSBCdXR0b25cbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVCdXR0b24oe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctY2hhbmdlLXZlaGljbGUnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnY2hhbmdlLXZlaGljbGUnKSxcbiAgICAgICAgICAgICAgICAgICAgbGluazogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIuc3RhdGUuY2hhbmdlU3RhdGUoUmlkZVN0eWxlclNob3djYXNlLlN0YXRlcy5DaG9vc2VWZWhpY2xlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBMaXN0ZW4gZm9yIGRhdGEgY2hhbmdlc1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuYWZ0ZXJEYXRhQ2hhbmdlKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25EYXRhQ2hhbmdlKGRhdGEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIFN3aXRjaCB0byBwYWludCB3aGVuIGNsaWNraW5nIG9uIHRoZSBwYWludCBzd2F0Y2hcbiAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVQYWludFN3YXRjaEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgX3RoaXMyLnBhaW50U3dhdGNoQ2xpY2tDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgX3RoaXMyLnBhaW50U3dhdGNoQ2xpY2tDYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkRhdGFDaGFuZ2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uRGF0YUNoYW5nZShkYXRhKSB7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuc2V0VGV4dCh0aGlzLnZlaGljbGVEZXNjcmlwdGlvbkVsZW1lbnQsIGRhdGEuY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlUGFpbnRTd2F0Y2hFbGVtZW50LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGRhdGEuY3VycmVudFBhaW50U2NoZW1lID8gZGF0YS5jdXJyZW50UGFpbnRTY2hlbWUuQ29sb3JzWzBdLkhleCA6IGZpcnN0UGFpbnRDb2xvcjtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5zZXRUZXh0KHRoaXMudGlyZVNpemVFbGVtZW50LCBkYXRhLmN1cnJlbnRWZWhpY2xlVGlyZU9wdGlvbkRlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBWZWhpY2xlRGV0YWlscztcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5Db21wb25lbnRCYXNlKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5WZWhpY2xlRGV0YWlscyA9IFZlaGljbGVEZXRhaWxzO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGNsYXNzTmFtZSA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXdoZWVsLWRldGFpbHMnO1xuXG4gICAgdmFyIFdoZWVsRGV0YWlscyA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJEMpIHtcbiAgICAgICAgX2luaGVyaXRzKFdoZWVsRGV0YWlscywgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBXaGVlbERldGFpbHMoKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgV2hlZWxEZXRhaWxzKTtcblxuICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChXaGVlbERldGFpbHMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihXaGVlbERldGFpbHMpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhXaGVlbERldGFpbHMsIFt7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplQ29tcG9uZW50KCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50V2l0aENsYXNzKCdkaXYnLCBjbGFzc05hbWUgKyBcIiByaWRlc3R5bGVyLXNob3djYXNlLWRldGFpbHNcIik7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctdGl0bGUnICsgXCIgcmlkZXN0eWxlci1zaG93Y2FzZS1kZXRhaWxzLXRpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnd2hlZWwtZGV0YWlscycpLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLndoZWVsTmFtZUVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy1uYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy53aGVlbERlc2NyaXB0aW9uRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLWRlc2NyaXB0aW9uIHJpZGVzdHlsZXItc2hvd2Nhc2UtZGV0YWlscy1zZWNvbmRhcnknLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVCdXR0b24oe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctZmVhdHVyZXMtc3BlY3MnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnd2hlZWwtZmVhdHVyZXMtc3BlY3MnKSxcbiAgICAgICAgICAgICAgICAgICAgbGluazogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIuc2hvd1doZWVsTW9kYWwoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmFmdGVyRGF0YUNoYW5nZShmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uRGF0YUNoYW5nZShkYXRhKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2hvd1doZWVsTW9kYWwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dXaGVlbE1vZGFsKCkge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0ZURhdGEgPSB0aGlzLnN0YXRlLmdldERhdGEoKTtcbiAgICAgICAgICAgICAgICBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwodGhpcy5zaG93Y2FzZSwgc3RhdGVEYXRhLmN1cnJlbnRXaGVlbCkuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkRhdGFDaGFuZ2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uRGF0YUNoYW5nZShkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRXaGVlbCA9IGRhdGEuY3VycmVudFdoZWVsO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50V2hlZWxGaXRtZW50ID0gZGF0YS5jdXJyZW50V2hlZWxGaXRtZW50O1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LnN0eWxlLmRpc3BsYXkgPSBjdXJyZW50V2hlZWwgPyAnJyA6ICdub25lJztcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFdoZWVsKSB7XG4gICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLnNldFRleHQodGhpcy53aGVlbE5hbWVFbGVtZW50LCBjdXJyZW50V2hlZWwuV2hlZWxCcmFuZE5hbWUgKyAnICcgKyBjdXJyZW50V2hlZWwuV2hlZWxNb2RlbE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFdoZWVsRml0bWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpYW1ldGVyID0gY3VycmVudFdoZWVsRml0bWVudC5EaWFtZXRlck1pbi50b1N0cmluZygpICsgJ+KAsyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFdoZWVsRml0bWVudC5EaWFtZXRlck1pbiAhPT0gY3VycmVudFdoZWVsRml0bWVudC5EaWFtZXRlck1heCkgZGlhbWV0ZXIgPSAnKCcgKyBjdXJyZW50V2hlZWxGaXRtZW50LkRpYW1ldGVyTWluICsgJy0nICsgY3VycmVudFdoZWVsRml0bWVudC5EaWFtZXRlck1heCArICcp4oCzJztcbiAgICAgICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLnNldFRleHQodGhpcy53aGVlbERlc2NyaXB0aW9uRWxlbWVudCwgZGlhbWV0ZXIgKyAnICcgKyBjdXJyZW50V2hlZWwuV2hlZWxNb2RlbEZpbmlzaERlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLnNldFRleHQodGhpcy53aGVlbERlc2NyaXB0aW9uRWxlbWVudCwgY3VycmVudFdoZWVsLldoZWVsTW9kZWxGaW5pc2hEZXNjcmlwdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gV2hlZWxEZXRhaWxzO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLldoZWVsRGV0YWlscyA9IFdoZWVsRGV0YWlscztcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBmaWx0ZXJNb2RhbENsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtZmlsdGVyLW1vZGFsJztcbiAgICB2YXIgZmlsdGVyTW9kYWxNZW51VGl0bGVDbGFzcyA9IGZpbHRlck1vZGFsQ2xhc3MgKyAnLW1lbnUtdGl0bGUnO1xuICAgIHZhciBjb3VudEZvcm1hdFRva2VuID0gJ3tjb3VudH0nO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZUZpbHRlck1vZGFsID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkUikge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkUik7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwoc2hvd2Nhc2VJbnN0YW5jZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZUZpbHRlck1vZGFsKTtcblxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZUZpbHRlck1vZGFsLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UsIHtcbiAgICAgICAgICAgICAgICByZW1vdmVPbkhpZGRlbjogdHJ1ZVxuICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICBfdGhpcy5maWx0ZXJQcm92aWRlciA9IG9wdGlvbnMuZmlsdGVyUHJvdmlkZXI7XG4gICAgICAgICAgICBfdGhpcy5zaG93Q291bnRUZXh0Rm9ybWF0ID0gb3B0aW9ucy5zaG93Q291bnRUZXh0Rm9ybWF0O1xuICAgICAgICAgICAgX3RoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5hZGQoZmlsdGVyTW9kYWxDbGFzcyk7XG4gICAgICAgICAgICBfdGhpcy5idWlsZFNob3dCdXR0b24oKTtcbiAgICAgICAgICAgIF90aGlzLmJ1aWxkRmlsdGVyTWVudXMoKS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVDb3VudCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5jb21wb25lbnQuYXBwZW5kQ2hpbGQoX3RoaXMuc2hvd0J1dHRvbik7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwsIFt7XG4gICAgICAgICAgICBrZXk6ICdidWlsZEZpbHRlck1lbnVzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZEZpbHRlck1lbnVzKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdmFyIG1lbnVzQ29udGFpbmVyID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogZmlsdGVyTW9kYWxDbGFzcyArICctbWVudXMnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyUHJvdmlkZXIgPSB0aGlzLmZpbHRlclByb3ZpZGVyO1xuICAgICAgICAgICAgICAgIHZhciBtZW51TG9hZGVkUHJvbWlzZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudEZpbHRlcnMgPSBmaWx0ZXJQcm92aWRlci5nZXRGaWx0ZXJzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5tZW51cyA9IFtdO1xuXG4gICAgICAgICAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoZmlsdGVyT3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHNob3cgbm9uLXZpc2libGUgZmlsdGVyIG9wdGlvbnMgb3IgZmlsdGVyIG9wdGlvbnMgd2l0aG91dCBsYWJlbHNcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZmlsdGVyT3B0aW9uLnZpc2libGUgIT09IGZhbHNlICYmIGZpbHRlck9wdGlvbi5sYWJlbCkpIHJldHVybiAnY29udGludWUnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVudSA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlT3B0aW9uTWVudShmaWx0ZXJPcHRpb24ua2V5KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lbnVDb250YWluZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogZmlsdGVyTW9kYWxDbGFzcyArICctbWVudS1jb250YWluZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IG1lbnVzQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kOiBbUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBmaWx0ZXJNb2RhbE1lbnVUaXRsZUNsYXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGZpbHRlck9wdGlvbi5sYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksIG1lbnUuY29tcG9uZW50XVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG1lbnVMb2FkZWRQcm9taXNlID0gZmlsdGVyUHJvdmlkZXIucmV0cmlldmVPcHRpb25zKGZpbHRlck9wdGlvbikuZG9uZShmdW5jdGlvbiAob3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy51bnNoaWZ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZmlsdGVyT3B0aW9uLnVuc2VsZWN0ZWRPcHRpb25MYWJlbCB8fCBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2FsbCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVudS5zZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWx0ZXJPcHRpb24uZ2V0VmFsdWVGcm9tRmlsdGVycyA9PT0gJ2Z1bmN0aW9uJykgbWVudS5zZXRWYWx1ZShmaWx0ZXJPcHRpb24uZ2V0VmFsdWVGcm9tRmlsdGVycyhjdXJyZW50RmlsdGVycykpO2Vsc2UgbWVudS5zZXRWYWx1ZSh1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgbWVudS5vbkNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi51cGRhdGVDb3VudCgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBtZW51TG9hZGVkUHJvbWlzZXMucHVzaChtZW51TG9hZGVkUHJvbWlzZSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5tZW51cy5wdXNoKG1lbnUpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gZmlsdGVyUHJvdmlkZXIuZmlsdGVyT3B0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJPcHRpb24gPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9yZXQgPSBfbG9vcChmaWx0ZXJPcHRpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3JldCA9PT0gJ2NvbnRpbnVlJykgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci5hbGwobWVudUxvYWRlZFByb21pc2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnYnVpbGRTaG93QnV0dG9uJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZFNob3dCdXR0b24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNob3dCdXR0b24gPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVCdXR0b24oe1xuICAgICAgICAgICAgICAgICAgICBsYXJnZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGlzYWJsZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnbG9hZGluZy1lbGxpcHNpcycpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5zaG93QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczMuZmlsdGVyUHJvdmlkZXIuc2V0RmlsdGVycyhfdGhpczMuZ2V0VmFsdWVzKCkpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczMuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdnZXRWYWx1ZXMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlcygpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSB0aGlzLm1lbnVzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX21lbnUgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IF9tZW51Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IF9tZW51LnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dldEZpbHRlcnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZpbHRlcnMoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmlsdGVyUHJvdmlkZXIucHJldmlld0ZpbHRlcnModGhpcy5nZXRWYWx1ZXMoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZUNvdW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVDb3VudCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuc2V0Q291bnRUZXh0KGZhbHNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlclByb3ZpZGVyLmdldENvdW50KHRoaXMuZ2V0RmlsdGVycygpKS5kb25lKGZ1bmN0aW9uIChjb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQuc2V0Q291bnRUZXh0KGNvdW50KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0Q291bnRUZXh0JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDb3VudFRleHQoY291bnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoY291bnQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLnNldFRleHQodGhpcy5zaG93QnV0dG9uLCBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2xvYWRpbmctZWxsaXBzaXMnKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvd0J1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuc2V0VGV4dCh0aGlzLnNob3dCdXR0b24sIHRoaXMuc2hvd0NvdW50VGV4dEZvcm1hdC5yZXBsYWNlKGNvdW50Rm9ybWF0VG9rZW4sIGNvdW50LnRvU3RyaW5nKCkpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93QnV0dG9uLmRpc2FibGVkID0gY291bnQgPT09IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZUZpbHRlck1vZGFsO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbCA9IFJpZGVTdHlsZXJTaG93Y2FzZUZpbHRlck1vZGFsO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsIi8qISBub3Vpc2xpZGVyIC0gMTAuMS4wIC0gMjAxNy0wNy0yOCAxNzoxMToxOCAqL1xuXG4oZnVuY3Rpb24gKGZhY3RvcnkpIHtcblxuICAgIGlmICggdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kICkge1xuXG4gICAgICAgIC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cbiAgICAgICAgZGVmaW5lKFtdLCBmYWN0b3J5KTtcblxuICAgIH0gZWxzZSBpZiAoIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyApIHtcblxuICAgICAgICAvLyBOb2RlL0NvbW1vbkpTXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXG4gICAgfSBlbHNlIHtcblxuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHNcbiAgICAgICAgd2luZG93Lm5vVWlTbGlkZXIgPSBmYWN0b3J5KCk7XG4gICAgfVxuXG59KGZ1bmN0aW9uKCApe1xuXG5cdCd1c2Ugc3RyaWN0JztcblxuXHR2YXIgVkVSU0lPTiA9ICcxMC4xLjAnO1xuXG5cblx0ZnVuY3Rpb24gaXNWYWxpZEZvcm1hdHRlciAoIGVudHJ5ICkge1xuXHRcdHJldHVybiB0eXBlb2YgZW50cnkgPT09ICdvYmplY3QnICYmIHR5cGVvZiBlbnRyeS50byA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZW50cnkuZnJvbSA9PT0gJ2Z1bmN0aW9uJztcblx0fVxuXG5cdGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQgKCBlbCApIHtcblx0XHRlbC5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVsKTtcblx0fVxuXG5cdC8vIEJpbmRhYmxlIHZlcnNpb25cblx0ZnVuY3Rpb24gcHJldmVudERlZmF1bHQgKCBlICkge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0fVxuXG5cdC8vIFJlbW92ZXMgZHVwbGljYXRlcyBmcm9tIGFuIGFycmF5LlxuXHRmdW5jdGlvbiB1bmlxdWUgKCBhcnJheSApIHtcblx0XHRyZXR1cm4gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uKGEpe1xuXHRcdFx0cmV0dXJuICF0aGlzW2FdID8gdGhpc1thXSA9IHRydWUgOiBmYWxzZTtcblx0XHR9LCB7fSk7XG5cdH1cblxuXHQvLyBSb3VuZCBhIHZhbHVlIHRvIHRoZSBjbG9zZXN0ICd0bycuXG5cdGZ1bmN0aW9uIGNsb3Nlc3QgKCB2YWx1ZSwgdG8gKSB7XG5cdFx0cmV0dXJuIE1hdGgucm91bmQodmFsdWUgLyB0bykgKiB0bztcblx0fVxuXG5cdC8vIEN1cnJlbnQgcG9zaXRpb24gb2YgYW4gZWxlbWVudCByZWxhdGl2ZSB0byB0aGUgZG9jdW1lbnQuXG5cdGZ1bmN0aW9uIG9mZnNldCAoIGVsZW0sIG9yaWVudGF0aW9uICkge1xuXG5cdFx0dmFyIHJlY3QgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdHZhciBkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQ7XG5cdFx0dmFyIGRvY0VsZW0gPSBkb2MuZG9jdW1lbnRFbGVtZW50O1xuXHRcdHZhciBwYWdlT2Zmc2V0ID0gZ2V0UGFnZU9mZnNldChkb2MpO1xuXG5cdFx0Ly8gZ2V0Qm91bmRpbmdDbGllbnRSZWN0IGNvbnRhaW5zIGxlZnQgc2Nyb2xsIGluIENocm9tZSBvbiBBbmRyb2lkLlxuXHRcdC8vIEkgaGF2ZW4ndCBmb3VuZCBhIGZlYXR1cmUgZGV0ZWN0aW9uIHRoYXQgcHJvdmVzIHRoaXMuIFdvcnN0IGNhc2Vcblx0XHQvLyBzY2VuYXJpbyBvbiBtaXMtbWF0Y2g6IHRoZSAndGFwJyBmZWF0dXJlIG9uIGhvcml6b250YWwgc2xpZGVycyBicmVha3MuXG5cdFx0aWYgKCAvd2Via2l0LipDaHJvbWUuKk1vYmlsZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkgKSB7XG5cdFx0XHRwYWdlT2Zmc2V0LnggPSAwO1xuXHRcdH1cblxuXHRcdHJldHVybiBvcmllbnRhdGlvbiA/IChyZWN0LnRvcCArIHBhZ2VPZmZzZXQueSAtIGRvY0VsZW0uY2xpZW50VG9wKSA6IChyZWN0LmxlZnQgKyBwYWdlT2Zmc2V0LnggLSBkb2NFbGVtLmNsaWVudExlZnQpO1xuXHR9XG5cblx0Ly8gQ2hlY2tzIHdoZXRoZXIgYSB2YWx1ZSBpcyBudW1lcmljYWwuXG5cdGZ1bmN0aW9uIGlzTnVtZXJpYyAoIGEgKSB7XG5cdFx0cmV0dXJuIHR5cGVvZiBhID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oIGEgKSAmJiBpc0Zpbml0ZSggYSApO1xuXHR9XG5cblx0Ly8gU2V0cyBhIGNsYXNzIGFuZCByZW1vdmVzIGl0IGFmdGVyIFtkdXJhdGlvbl0gbXMuXG5cdGZ1bmN0aW9uIGFkZENsYXNzRm9yICggZWxlbWVudCwgY2xhc3NOYW1lLCBkdXJhdGlvbiApIHtcblx0XHRpZiAoZHVyYXRpb24gPiAwKSB7XG5cdFx0YWRkQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRcdFx0cmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lKTtcblx0XHRcdH0sIGR1cmF0aW9uKTtcblx0XHR9XG5cdH1cblxuXHQvLyBMaW1pdHMgYSB2YWx1ZSB0byAwIC0gMTAwXG5cdGZ1bmN0aW9uIGxpbWl0ICggYSApIHtcblx0XHRyZXR1cm4gTWF0aC5tYXgoTWF0aC5taW4oYSwgMTAwKSwgMCk7XG5cdH1cblxuXHQvLyBXcmFwcyBhIHZhcmlhYmxlIGFzIGFuIGFycmF5LCBpZiBpdCBpc24ndCBvbmUgeWV0LlxuXHQvLyBOb3RlIHRoYXQgYW4gaW5wdXQgYXJyYXkgaXMgcmV0dXJuZWQgYnkgcmVmZXJlbmNlIVxuXHRmdW5jdGlvbiBhc0FycmF5ICggYSApIHtcblx0XHRyZXR1cm4gQXJyYXkuaXNBcnJheShhKSA/IGEgOiBbYV07XG5cdH1cblxuXHQvLyBDb3VudHMgZGVjaW1hbHNcblx0ZnVuY3Rpb24gY291bnREZWNpbWFscyAoIG51bVN0ciApIHtcblx0XHRudW1TdHIgPSBTdHJpbmcobnVtU3RyKTtcblx0XHR2YXIgcGllY2VzID0gbnVtU3RyLnNwbGl0KFwiLlwiKTtcblx0XHRyZXR1cm4gcGllY2VzLmxlbmd0aCA+IDEgPyBwaWVjZXNbMV0ubGVuZ3RoIDogMDtcblx0fVxuXG5cdC8vIGh0dHA6Ly95b3VtaWdodG5vdG5lZWRqcXVlcnkuY29tLyNhZGRfY2xhc3Ncblx0ZnVuY3Rpb24gYWRkQ2xhc3MgKCBlbCwgY2xhc3NOYW1lICkge1xuXHRcdGlmICggZWwuY2xhc3NMaXN0ICkge1xuXHRcdFx0ZWwuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbC5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lO1xuXHRcdH1cblx0fVxuXG5cdC8vIGh0dHA6Ly95b3VtaWdodG5vdG5lZWRqcXVlcnkuY29tLyNyZW1vdmVfY2xhc3Ncblx0ZnVuY3Rpb24gcmVtb3ZlQ2xhc3MgKCBlbCwgY2xhc3NOYW1lICkge1xuXHRcdGlmICggZWwuY2xhc3NMaXN0ICkge1xuXHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbC5jbGFzc05hbWUgPSBlbC5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKCcoXnxcXFxcYiknICsgY2xhc3NOYW1lLnNwbGl0KCcgJykuam9pbignfCcpICsgJyhcXFxcYnwkKScsICdnaScpLCAnICcpO1xuXHRcdH1cblx0fVxuXG5cdC8vIGh0dHBzOi8vcGxhaW5qcy5jb20vamF2YXNjcmlwdC9hdHRyaWJ1dGVzL2FkZGluZy1yZW1vdmluZy1hbmQtdGVzdGluZy1mb3ItY2xhc3Nlcy05L1xuXHRmdW5jdGlvbiBoYXNDbGFzcyAoIGVsLCBjbGFzc05hbWUgKSB7XG5cdFx0cmV0dXJuIGVsLmNsYXNzTGlzdCA/IGVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpIDogbmV3IFJlZ0V4cCgnXFxcXGInICsgY2xhc3NOYW1lICsgJ1xcXFxiJykudGVzdChlbC5jbGFzc05hbWUpO1xuXHR9XG5cblx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvdy9zY3JvbGxZI05vdGVzXG5cdGZ1bmN0aW9uIGdldFBhZ2VPZmZzZXQgKCBkb2MgKSB7XG5cblx0XHR2YXIgc3VwcG9ydFBhZ2VPZmZzZXQgPSB3aW5kb3cucGFnZVhPZmZzZXQgIT09IHVuZGVmaW5lZDtcblx0XHR2YXIgaXNDU1MxQ29tcGF0ID0gKChkb2MuY29tcGF0TW9kZSB8fCBcIlwiKSA9PT0gXCJDU1MxQ29tcGF0XCIpO1xuXHRcdHZhciB4ID0gc3VwcG9ydFBhZ2VPZmZzZXQgPyB3aW5kb3cucGFnZVhPZmZzZXQgOiBpc0NTUzFDb21wYXQgPyBkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgOiBkb2MuYm9keS5zY3JvbGxMZWZ0O1xuXHRcdHZhciB5ID0gc3VwcG9ydFBhZ2VPZmZzZXQgPyB3aW5kb3cucGFnZVlPZmZzZXQgOiBpc0NTUzFDb21wYXQgPyBkb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCA6IGRvYy5ib2R5LnNjcm9sbFRvcDtcblxuXHRcdHJldHVybiB7XG5cdFx0XHR4OiB4LFxuXHRcdFx0eTogeVxuXHRcdH07XG5cdH1cblxuXHQvLyB3ZSBwcm92aWRlIGEgZnVuY3Rpb24gdG8gY29tcHV0ZSBjb25zdGFudHMgaW5zdGVhZFxuXHQvLyBvZiBhY2Nlc3Npbmcgd2luZG93LiogYXMgc29vbiBhcyB0aGUgbW9kdWxlIG5lZWRzIGl0XG5cdC8vIHNvIHRoYXQgd2UgZG8gbm90IGNvbXB1dGUgYW55dGhpbmcgaWYgbm90IG5lZWRlZFxuXHRmdW5jdGlvbiBnZXRBY3Rpb25zICggKSB7XG5cblx0XHQvLyBEZXRlcm1pbmUgdGhlIGV2ZW50cyB0byBiaW5kLiBJRTExIGltcGxlbWVudHMgcG9pbnRlckV2ZW50cyB3aXRob3V0XG5cdFx0Ly8gYSBwcmVmaXgsIHdoaWNoIGJyZWFrcyBjb21wYXRpYmlsaXR5IHdpdGggdGhlIElFMTAgaW1wbGVtZW50YXRpb24uXG5cdFx0cmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IucG9pbnRlckVuYWJsZWQgPyB7XG5cdFx0XHRzdGFydDogJ3BvaW50ZXJkb3duJyxcblx0XHRcdG1vdmU6ICdwb2ludGVybW92ZScsXG5cdFx0XHRlbmQ6ICdwb2ludGVydXAnXG5cdFx0fSA6IHdpbmRvdy5uYXZpZ2F0b3IubXNQb2ludGVyRW5hYmxlZCA/IHtcblx0XHRcdHN0YXJ0OiAnTVNQb2ludGVyRG93bicsXG5cdFx0XHRtb3ZlOiAnTVNQb2ludGVyTW92ZScsXG5cdFx0XHRlbmQ6ICdNU1BvaW50ZXJVcCdcblx0XHR9IDoge1xuXHRcdFx0c3RhcnQ6ICdtb3VzZWRvd24gdG91Y2hzdGFydCcsXG5cdFx0XHRtb3ZlOiAnbW91c2Vtb3ZlIHRvdWNobW92ZScsXG5cdFx0XHRlbmQ6ICdtb3VzZXVwIHRvdWNoZW5kJ1xuXHRcdH07XG5cdH1cblxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vV0lDRy9FdmVudExpc3RlbmVyT3B0aW9ucy9ibG9iL2doLXBhZ2VzL2V4cGxhaW5lci5tZFxuXHQvLyBJc3N1ZSAjNzg1XG5cdGZ1bmN0aW9uIGdldFN1cHBvcnRzUGFzc2l2ZSAoICkge1xuXG5cdFx0dmFyIHN1cHBvcnRzUGFzc2l2ZSA9IGZhbHNlO1xuXG5cdFx0dHJ5IHtcblxuXHRcdFx0dmFyIG9wdHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdwYXNzaXZlJywge1xuXHRcdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdHN1cHBvcnRzUGFzc2l2ZSA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndGVzdCcsIG51bGwsIG9wdHMpO1xuXG5cdFx0fSBjYXRjaCAoZSkge31cblxuXHRcdHJldHVybiBzdXBwb3J0c1Bhc3NpdmU7XG5cdH1cblxuXHRmdW5jdGlvbiBnZXRTdXBwb3J0c1RvdWNoQWN0aW9uTm9uZSAoICkge1xuXHRcdHJldHVybiB3aW5kb3cuQ1NTICYmIENTUy5zdXBwb3J0cyAmJiBDU1Muc3VwcG9ydHMoJ3RvdWNoLWFjdGlvbicsICdub25lJyk7XG5cdH1cblxuXG4vLyBWYWx1ZSBjYWxjdWxhdGlvblxuXG5cdC8vIERldGVybWluZSB0aGUgc2l6ZSBvZiBhIHN1Yi1yYW5nZSBpbiByZWxhdGlvbiB0byBhIGZ1bGwgcmFuZ2UuXG5cdGZ1bmN0aW9uIHN1YlJhbmdlUmF0aW8gKCBwYSwgcGIgKSB7XG5cdFx0cmV0dXJuICgxMDAgLyAocGIgLSBwYSkpO1xuXHR9XG5cblx0Ly8gKHBlcmNlbnRhZ2UpIEhvdyBtYW55IHBlcmNlbnQgaXMgdGhpcyB2YWx1ZSBvZiB0aGlzIHJhbmdlP1xuXHRmdW5jdGlvbiBmcm9tUGVyY2VudGFnZSAoIHJhbmdlLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gKHZhbHVlICogMTAwKSAvICggcmFuZ2VbMV0gLSByYW5nZVswXSApO1xuXHR9XG5cblx0Ly8gKHBlcmNlbnRhZ2UpIFdoZXJlIGlzIHRoaXMgdmFsdWUgb24gdGhpcyByYW5nZT9cblx0ZnVuY3Rpb24gdG9QZXJjZW50YWdlICggcmFuZ2UsIHZhbHVlICkge1xuXHRcdHJldHVybiBmcm9tUGVyY2VudGFnZSggcmFuZ2UsIHJhbmdlWzBdIDwgMCA/XG5cdFx0XHR2YWx1ZSArIE1hdGguYWJzKHJhbmdlWzBdKSA6XG5cdFx0XHRcdHZhbHVlIC0gcmFuZ2VbMF0gKTtcblx0fVxuXG5cdC8vICh2YWx1ZSkgSG93IG11Y2ggaXMgdGhpcyBwZXJjZW50YWdlIG9uIHRoaXMgcmFuZ2U/XG5cdGZ1bmN0aW9uIGlzUGVyY2VudGFnZSAoIHJhbmdlLCB2YWx1ZSApIHtcblx0XHRyZXR1cm4gKCh2YWx1ZSAqICggcmFuZ2VbMV0gLSByYW5nZVswXSApKSAvIDEwMCkgKyByYW5nZVswXTtcblx0fVxuXG5cbi8vIFJhbmdlIGNvbnZlcnNpb25cblxuXHRmdW5jdGlvbiBnZXRKICggdmFsdWUsIGFyciApIHtcblxuXHRcdHZhciBqID0gMTtcblxuXHRcdHdoaWxlICggdmFsdWUgPj0gYXJyW2pdICl7XG5cdFx0XHRqICs9IDE7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGo7XG5cdH1cblxuXHQvLyAocGVyY2VudGFnZSkgSW5wdXQgYSB2YWx1ZSwgZmluZCB3aGVyZSwgb24gYSBzY2FsZSBvZiAwLTEwMCwgaXQgYXBwbGllcy5cblx0ZnVuY3Rpb24gdG9TdGVwcGluZyAoIHhWYWwsIHhQY3QsIHZhbHVlICkge1xuXG5cdFx0aWYgKCB2YWx1ZSA+PSB4VmFsLnNsaWNlKC0xKVswXSApe1xuXHRcdFx0cmV0dXJuIDEwMDtcblx0XHR9XG5cblx0XHR2YXIgaiA9IGdldEooIHZhbHVlLCB4VmFsICksIHZhLCB2YiwgcGEsIHBiO1xuXG5cdFx0dmEgPSB4VmFsW2otMV07XG5cdFx0dmIgPSB4VmFsW2pdO1xuXHRcdHBhID0geFBjdFtqLTFdO1xuXHRcdHBiID0geFBjdFtqXTtcblxuXHRcdHJldHVybiBwYSArICh0b1BlcmNlbnRhZ2UoW3ZhLCB2Yl0sIHZhbHVlKSAvIHN1YlJhbmdlUmF0aW8gKHBhLCBwYikpO1xuXHR9XG5cblx0Ly8gKHZhbHVlKSBJbnB1dCBhIHBlcmNlbnRhZ2UsIGZpbmQgd2hlcmUgaXQgaXMgb24gdGhlIHNwZWNpZmllZCByYW5nZS5cblx0ZnVuY3Rpb24gZnJvbVN0ZXBwaW5nICggeFZhbCwgeFBjdCwgdmFsdWUgKSB7XG5cblx0XHQvLyBUaGVyZSBpcyBubyByYW5nZSBncm91cCB0aGF0IGZpdHMgMTAwXG5cdFx0aWYgKCB2YWx1ZSA+PSAxMDAgKXtcblx0XHRcdHJldHVybiB4VmFsLnNsaWNlKC0xKVswXTtcblx0XHR9XG5cblx0XHR2YXIgaiA9IGdldEooIHZhbHVlLCB4UGN0ICksIHZhLCB2YiwgcGEsIHBiO1xuXG5cdFx0dmEgPSB4VmFsW2otMV07XG5cdFx0dmIgPSB4VmFsW2pdO1xuXHRcdHBhID0geFBjdFtqLTFdO1xuXHRcdHBiID0geFBjdFtqXTtcblxuXHRcdHJldHVybiBpc1BlcmNlbnRhZ2UoW3ZhLCB2Yl0sICh2YWx1ZSAtIHBhKSAqIHN1YlJhbmdlUmF0aW8gKHBhLCBwYikpO1xuXHR9XG5cblx0Ly8gKHBlcmNlbnRhZ2UpIEdldCB0aGUgc3RlcCB0aGF0IGFwcGxpZXMgYXQgYSBjZXJ0YWluIHZhbHVlLlxuXHRmdW5jdGlvbiBnZXRTdGVwICggeFBjdCwgeFN0ZXBzLCBzbmFwLCB2YWx1ZSApIHtcblxuXHRcdGlmICggdmFsdWUgPT09IDEwMCApIHtcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cblx0XHR2YXIgaiA9IGdldEooIHZhbHVlLCB4UGN0ICksIGEsIGI7XG5cblx0XHQvLyBJZiAnc25hcCcgaXMgc2V0LCBzdGVwcyBhcmUgdXNlZCBhcyBmaXhlZCBwb2ludHMgb24gdGhlIHNsaWRlci5cblx0XHRpZiAoIHNuYXAgKSB7XG5cblx0XHRcdGEgPSB4UGN0W2otMV07XG5cdFx0XHRiID0geFBjdFtqXTtcblxuXHRcdFx0Ly8gRmluZCB0aGUgY2xvc2VzdCBwb3NpdGlvbiwgYSBvciBiLlxuXHRcdFx0aWYgKCh2YWx1ZSAtIGEpID4gKChiLWEpLzIpKXtcblx0XHRcdFx0cmV0dXJuIGI7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBhO1xuXHRcdH1cblxuXHRcdGlmICggIXhTdGVwc1tqLTFdICl7XG5cdFx0XHRyZXR1cm4gdmFsdWU7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHhQY3Rbai0xXSArIGNsb3Nlc3QoXG5cdFx0XHR2YWx1ZSAtIHhQY3Rbai0xXSxcblx0XHRcdHhTdGVwc1tqLTFdXG5cdFx0KTtcblx0fVxuXG5cbi8vIEVudHJ5IHBhcnNpbmdcblxuXHRmdW5jdGlvbiBoYW5kbGVFbnRyeVBvaW50ICggaW5kZXgsIHZhbHVlLCB0aGF0ICkge1xuXG5cdFx0dmFyIHBlcmNlbnRhZ2U7XG5cblx0XHQvLyBXcmFwIG51bWVyaWNhbCBpbnB1dCBpbiBhbiBhcnJheS5cblx0XHRpZiAoIHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIiApIHtcblx0XHRcdHZhbHVlID0gW3ZhbHVlXTtcblx0XHR9XG5cblx0XHQvLyBSZWplY3QgYW55IGludmFsaWQgaW5wdXQsIGJ5IHRlc3Rpbmcgd2hldGhlciB2YWx1ZSBpcyBhbiBhcnJheS5cblx0XHRpZiAoIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCggdmFsdWUgKSAhPT0gJ1tvYmplY3QgQXJyYXldJyApe1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncmFuZ2UnIGNvbnRhaW5zIGludmFsaWQgdmFsdWUuXCIpO1xuXHRcdH1cblxuXHRcdC8vIENvdmVydCBtaW4vbWF4IHN5bnRheCB0byAwIGFuZCAxMDAuXG5cdFx0aWYgKCBpbmRleCA9PT0gJ21pbicgKSB7XG5cdFx0XHRwZXJjZW50YWdlID0gMDtcblx0XHR9IGVsc2UgaWYgKCBpbmRleCA9PT0gJ21heCcgKSB7XG5cdFx0XHRwZXJjZW50YWdlID0gMTAwO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRwZXJjZW50YWdlID0gcGFyc2VGbG9hdCggaW5kZXggKTtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBmb3IgY29ycmVjdCBpbnB1dC5cblx0XHRpZiAoICFpc051bWVyaWMoIHBlcmNlbnRhZ2UgKSB8fCAhaXNOdW1lcmljKCB2YWx1ZVswXSApICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncmFuZ2UnIHZhbHVlIGlzbid0IG51bWVyaWMuXCIpO1xuXHRcdH1cblxuXHRcdC8vIFN0b3JlIHZhbHVlcy5cblx0XHR0aGF0LnhQY3QucHVzaCggcGVyY2VudGFnZSApO1xuXHRcdHRoYXQueFZhbC5wdXNoKCB2YWx1ZVswXSApO1xuXG5cdFx0Ly8gTmFOIHdpbGwgZXZhbHVhdGUgdG8gZmFsc2UgdG9vLCBidXQgdG8ga2VlcFxuXHRcdC8vIGxvZ2dpbmcgY2xlYXIsIHNldCBzdGVwIGV4cGxpY2l0bHkuIE1ha2Ugc3VyZVxuXHRcdC8vIG5vdCB0byBvdmVycmlkZSB0aGUgJ3N0ZXAnIHNldHRpbmcgd2l0aCBmYWxzZS5cblx0XHRpZiAoICFwZXJjZW50YWdlICkge1xuXHRcdFx0aWYgKCAhaXNOYU4oIHZhbHVlWzFdICkgKSB7XG5cdFx0XHRcdHRoYXQueFN0ZXBzWzBdID0gdmFsdWVbMV07XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoYXQueFN0ZXBzLnB1c2goIGlzTmFOKHZhbHVlWzFdKSA/IGZhbHNlIDogdmFsdWVbMV0gKTtcblx0XHR9XG5cblx0XHR0aGF0LnhIaWdoZXN0Q29tcGxldGVTdGVwLnB1c2goMCk7XG5cdH1cblxuXHRmdW5jdGlvbiBoYW5kbGVTdGVwUG9pbnQgKCBpLCBuLCB0aGF0ICkge1xuXG5cdFx0Ly8gSWdub3JlICdmYWxzZScgc3RlcHBpbmcuXG5cdFx0aWYgKCAhbiApIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIEZhY3RvciB0byByYW5nZSByYXRpb1xuXHRcdHRoYXQueFN0ZXBzW2ldID0gZnJvbVBlcmNlbnRhZ2UoW1xuXHRcdFx0IHRoYXQueFZhbFtpXVxuXHRcdFx0LHRoYXQueFZhbFtpKzFdXG5cdFx0XSwgbikgLyBzdWJSYW5nZVJhdGlvIChcblx0XHRcdHRoYXQueFBjdFtpXSxcblx0XHRcdHRoYXQueFBjdFtpKzFdICk7XG5cblx0XHR2YXIgdG90YWxTdGVwcyA9ICh0aGF0LnhWYWxbaSsxXSAtIHRoYXQueFZhbFtpXSkgLyB0aGF0LnhOdW1TdGVwc1tpXTtcblx0XHR2YXIgaGlnaGVzdFN0ZXAgPSBNYXRoLmNlaWwoTnVtYmVyKHRvdGFsU3RlcHMudG9GaXhlZCgzKSkgLSAxKTtcblx0XHR2YXIgc3RlcCA9IHRoYXQueFZhbFtpXSArICh0aGF0LnhOdW1TdGVwc1tpXSAqIGhpZ2hlc3RTdGVwKTtcblxuXHRcdHRoYXQueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbaV0gPSBzdGVwO1xuXHR9XG5cblxuLy8gSW50ZXJmYWNlXG5cblx0ZnVuY3Rpb24gU3BlY3RydW0gKCBlbnRyeSwgc25hcCwgc2luZ2xlU3RlcCApIHtcblxuXHRcdHRoaXMueFBjdCA9IFtdO1xuXHRcdHRoaXMueFZhbCA9IFtdO1xuXHRcdHRoaXMueFN0ZXBzID0gWyBzaW5nbGVTdGVwIHx8IGZhbHNlIF07XG5cdFx0dGhpcy54TnVtU3RlcHMgPSBbIGZhbHNlIF07XG5cdFx0dGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcCA9IFtdO1xuXG5cdFx0dGhpcy5zbmFwID0gc25hcDtcblxuXHRcdHZhciBpbmRleCwgb3JkZXJlZCA9IFsgLyogWzAsICdtaW4nXSwgWzEsICc1MCUnXSwgWzIsICdtYXgnXSAqLyBdO1xuXG5cdFx0Ly8gTWFwIHRoZSBvYmplY3Qga2V5cyB0byBhbiBhcnJheS5cblx0XHRmb3IgKCBpbmRleCBpbiBlbnRyeSApIHtcblx0XHRcdGlmICggZW50cnkuaGFzT3duUHJvcGVydHkoaW5kZXgpICkge1xuXHRcdFx0XHRvcmRlcmVkLnB1c2goW2VudHJ5W2luZGV4XSwgaW5kZXhdKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBTb3J0IGFsbCBlbnRyaWVzIGJ5IHZhbHVlIChudW1lcmljIHNvcnQpLlxuXHRcdGlmICggb3JkZXJlZC5sZW5ndGggJiYgdHlwZW9mIG9yZGVyZWRbMF1bMF0gPT09IFwib2JqZWN0XCIgKSB7XG5cdFx0XHRvcmRlcmVkLnNvcnQoZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gYVswXVswXSAtIGJbMF1bMF07IH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRvcmRlcmVkLnNvcnQoZnVuY3Rpb24oYSwgYikgeyByZXR1cm4gYVswXSAtIGJbMF07IH0pO1xuXHRcdH1cblxuXG5cdFx0Ly8gQ29udmVydCBhbGwgZW50cmllcyB0byBzdWJyYW5nZXMuXG5cdFx0Zm9yICggaW5kZXggPSAwOyBpbmRleCA8IG9yZGVyZWQubGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0aGFuZGxlRW50cnlQb2ludChvcmRlcmVkW2luZGV4XVsxXSwgb3JkZXJlZFtpbmRleF1bMF0sIHRoaXMpO1xuXHRcdH1cblxuXHRcdC8vIFN0b3JlIHRoZSBhY3R1YWwgc3RlcCB2YWx1ZXMuXG5cdFx0Ly8geFN0ZXBzIGlzIHNvcnRlZCBpbiB0aGUgc2FtZSBvcmRlciBhcyB4UGN0IGFuZCB4VmFsLlxuXHRcdHRoaXMueE51bVN0ZXBzID0gdGhpcy54U3RlcHMuc2xpY2UoMCk7XG5cblx0XHQvLyBDb252ZXJ0IGFsbCBudW1lcmljIHN0ZXBzIHRvIHRoZSBwZXJjZW50YWdlIG9mIHRoZSBzdWJyYW5nZSB0aGV5IHJlcHJlc2VudC5cblx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy54TnVtU3RlcHMubGVuZ3RoOyBpbmRleCsrICkge1xuXHRcdFx0aGFuZGxlU3RlcFBvaW50KGluZGV4LCB0aGlzLnhOdW1TdGVwc1tpbmRleF0sIHRoaXMpO1xuXHRcdH1cblx0fVxuXG5cdFNwZWN0cnVtLnByb3RvdHlwZS5nZXRNYXJnaW4gPSBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0dmFyIHN0ZXAgPSB0aGlzLnhOdW1TdGVwc1swXTtcblxuXHRcdGlmICggc3RlcCAmJiAoKHZhbHVlIC8gc3RlcCkgJSAxKSAhPT0gMCApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2xpbWl0JywgJ21hcmdpbicgYW5kICdwYWRkaW5nJyBtdXN0IGJlIGRpdmlzaWJsZSBieSBzdGVwLlwiKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy54UGN0Lmxlbmd0aCA9PT0gMiA/IGZyb21QZXJjZW50YWdlKHRoaXMueFZhbCwgdmFsdWUpIDogZmFsc2U7XG5cdH07XG5cblx0U3BlY3RydW0ucHJvdG90eXBlLnRvU3RlcHBpbmcgPSBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0dmFsdWUgPSB0b1N0ZXBwaW5nKCB0aGlzLnhWYWwsIHRoaXMueFBjdCwgdmFsdWUgKTtcblxuXHRcdHJldHVybiB2YWx1ZTtcblx0fTtcblxuXHRTcGVjdHJ1bS5wcm90b3R5cGUuZnJvbVN0ZXBwaW5nID0gZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuXHRcdHJldHVybiBmcm9tU3RlcHBpbmcoIHRoaXMueFZhbCwgdGhpcy54UGN0LCB2YWx1ZSApO1xuXHR9O1xuXG5cdFNwZWN0cnVtLnByb3RvdHlwZS5nZXRTdGVwID0gZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuXHRcdHZhbHVlID0gZ2V0U3RlcCh0aGlzLnhQY3QsIHRoaXMueFN0ZXBzLCB0aGlzLnNuYXAsIHZhbHVlICk7XG5cblx0XHRyZXR1cm4gdmFsdWU7XG5cdH07XG5cblx0U3BlY3RydW0ucHJvdG90eXBlLmdldE5lYXJieVN0ZXBzID0gZnVuY3Rpb24gKCB2YWx1ZSApIHtcblxuXHRcdHZhciBqID0gZ2V0Sih2YWx1ZSwgdGhpcy54UGN0KTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRzdGVwQmVmb3JlOiB7IHN0YXJ0VmFsdWU6IHRoaXMueFZhbFtqLTJdLCBzdGVwOiB0aGlzLnhOdW1TdGVwc1tqLTJdLCBoaWdoZXN0U3RlcDogdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcFtqLTJdIH0sXG5cdFx0XHR0aGlzU3RlcDogeyBzdGFydFZhbHVlOiB0aGlzLnhWYWxbai0xXSwgc3RlcDogdGhpcy54TnVtU3RlcHNbai0xXSwgaGlnaGVzdFN0ZXA6IHRoaXMueEhpZ2hlc3RDb21wbGV0ZVN0ZXBbai0xXSB9LFxuXHRcdFx0c3RlcEFmdGVyOiB7IHN0YXJ0VmFsdWU6IHRoaXMueFZhbFtqLTBdLCBzdGVwOiB0aGlzLnhOdW1TdGVwc1tqLTBdLCBoaWdoZXN0U3RlcDogdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcFtqLTBdIH1cblx0XHR9O1xuXHR9O1xuXG5cdFNwZWN0cnVtLnByb3RvdHlwZS5jb3VudFN0ZXBEZWNpbWFscyA9IGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgc3RlcERlY2ltYWxzID0gdGhpcy54TnVtU3RlcHMubWFwKGNvdW50RGVjaW1hbHMpO1xuXHRcdHJldHVybiBNYXRoLm1heC5hcHBseShudWxsLCBzdGVwRGVjaW1hbHMpO1xuIFx0fTtcblxuXHQvLyBPdXRzaWRlIHRlc3Rpbmdcblx0U3BlY3RydW0ucHJvdG90eXBlLmNvbnZlcnQgPSBmdW5jdGlvbiAoIHZhbHVlICkge1xuXHRcdHJldHVybiB0aGlzLmdldFN0ZXAodGhpcy50b1N0ZXBwaW5nKHZhbHVlKSk7XG5cdH07XG5cbi8qXHRFdmVyeSBpbnB1dCBvcHRpb24gaXMgdGVzdGVkIGFuZCBwYXJzZWQuIFRoaXMnbGwgcHJldmVudFxuXHRlbmRsZXNzIHZhbGlkYXRpb24gaW4gaW50ZXJuYWwgbWV0aG9kcy4gVGhlc2UgdGVzdHMgYXJlXG5cdHN0cnVjdHVyZWQgd2l0aCBhbiBpdGVtIGZvciBldmVyeSBvcHRpb24gYXZhaWxhYmxlLiBBblxuXHRvcHRpb24gY2FuIGJlIG1hcmtlZCBhcyByZXF1aXJlZCBieSBzZXR0aW5nIHRoZSAncicgZmxhZy5cblx0VGhlIHRlc3RpbmcgZnVuY3Rpb24gaXMgcHJvdmlkZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6XG5cdFx0LSBUaGUgcHJvdmlkZWQgdmFsdWUgZm9yIHRoZSBvcHRpb247XG5cdFx0LSBBIHJlZmVyZW5jZSB0byB0aGUgb3B0aW9ucyBvYmplY3Q7XG5cdFx0LSBUaGUgbmFtZSBmb3IgdGhlIG9wdGlvbjtcblxuXHRUaGUgdGVzdGluZyBmdW5jdGlvbiByZXR1cm5zIGZhbHNlIHdoZW4gYW4gZXJyb3IgaXMgZGV0ZWN0ZWQsXG5cdG9yIHRydWUgd2hlbiBldmVyeXRoaW5nIGlzIE9LLiBJdCBjYW4gYWxzbyBtb2RpZnkgdGhlIG9wdGlvblxuXHRvYmplY3QsIHRvIG1ha2Ugc3VyZSBhbGwgdmFsdWVzIGNhbiBiZSBjb3JyZWN0bHkgbG9vcGVkIGVsc2V3aGVyZS4gKi9cblxuXHR2YXIgZGVmYXVsdEZvcm1hdHRlciA9IHsgJ3RvJzogZnVuY3Rpb24oIHZhbHVlICl7XG5cdFx0cmV0dXJuIHZhbHVlICE9PSB1bmRlZmluZWQgJiYgdmFsdWUudG9GaXhlZCgyKTtcblx0fSwgJ2Zyb20nOiBOdW1iZXIgfTtcblxuXHRmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdCAoIGVudHJ5ICkge1xuXG5cdFx0Ly8gQW55IG9iamVjdCB3aXRoIGEgdG8gYW5kIGZyb20gbWV0aG9kIGlzIHN1cHBvcnRlZC5cblx0XHRpZiAoIGlzVmFsaWRGb3JtYXR0ZXIoZW50cnkpICkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnZm9ybWF0JyByZXF1aXJlcyAndG8nIGFuZCAnZnJvbScgbWV0aG9kcy5cIik7XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0U3RlcCAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHRpZiAoICFpc051bWVyaWMoIGVudHJ5ICkgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdzdGVwJyBpcyBub3QgbnVtZXJpYy5cIik7XG5cdFx0fVxuXG5cdFx0Ly8gVGhlIHN0ZXAgb3B0aW9uIGNhbiBzdGlsbCBiZSB1c2VkIHRvIHNldCBzdGVwcGluZ1xuXHRcdC8vIGZvciBsaW5lYXIgc2xpZGVycy4gT3ZlcndyaXR0ZW4gaWYgc2V0IGluICdyYW5nZScuXG5cdFx0cGFyc2VkLnNpbmdsZVN0ZXAgPSBlbnRyeTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RSYW5nZSAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHQvLyBGaWx0ZXIgaW5jb3JyZWN0IGlucHV0LlxuXHRcdGlmICggdHlwZW9mIGVudHJ5ICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KGVudHJ5KSApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3JhbmdlJyBpcyBub3QgYW4gb2JqZWN0LlwiKTtcblx0XHR9XG5cblx0XHQvLyBDYXRjaCBtaXNzaW5nIHN0YXJ0IG9yIGVuZC5cblx0XHRpZiAoIGVudHJ5Lm1pbiA9PT0gdW5kZWZpbmVkIHx8IGVudHJ5Lm1heCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiBNaXNzaW5nICdtaW4nIG9yICdtYXgnIGluICdyYW5nZScuXCIpO1xuXHRcdH1cblxuXHRcdC8vIENhdGNoIGVxdWFsIHN0YXJ0IG9yIGVuZC5cblx0XHRpZiAoIGVudHJ5Lm1pbiA9PT0gZW50cnkubWF4ICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncmFuZ2UnICdtaW4nIGFuZCAnbWF4JyBjYW5ub3QgYmUgZXF1YWwuXCIpO1xuXHRcdH1cblxuXHRcdHBhcnNlZC5zcGVjdHJ1bSA9IG5ldyBTcGVjdHJ1bShlbnRyeSwgcGFyc2VkLnNuYXAsIHBhcnNlZC5zaW5nbGVTdGVwKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RTdGFydCAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHRlbnRyeSA9IGFzQXJyYXkoZW50cnkpO1xuXG5cdFx0Ly8gVmFsaWRhdGUgaW5wdXQuIFZhbHVlcyBhcmVuJ3QgdGVzdGVkLCBhcyB0aGUgcHVibGljIC52YWwgbWV0aG9kXG5cdFx0Ly8gd2lsbCBhbHdheXMgcHJvdmlkZSBhIHZhbGlkIGxvY2F0aW9uLlxuXHRcdGlmICggIUFycmF5LmlzQXJyYXkoIGVudHJ5ICkgfHwgIWVudHJ5Lmxlbmd0aCApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3N0YXJ0JyBvcHRpb24gaXMgaW5jb3JyZWN0LlwiKTtcblx0XHR9XG5cblx0XHQvLyBTdG9yZSB0aGUgbnVtYmVyIG9mIGhhbmRsZXMuXG5cdFx0cGFyc2VkLmhhbmRsZXMgPSBlbnRyeS5sZW5ndGg7XG5cblx0XHQvLyBXaGVuIHRoZSBzbGlkZXIgaXMgaW5pdGlhbGl6ZWQsIHRoZSAudmFsIG1ldGhvZCB3aWxsXG5cdFx0Ly8gYmUgY2FsbGVkIHdpdGggdGhlIHN0YXJ0IG9wdGlvbnMuXG5cdFx0cGFyc2VkLnN0YXJ0ID0gZW50cnk7XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0U25hcCAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHQvLyBFbmZvcmNlIDEwMCUgc3RlcHBpbmcgd2l0aGluIHN1YnJhbmdlcy5cblx0XHRwYXJzZWQuc25hcCA9IGVudHJ5O1xuXG5cdFx0aWYgKCB0eXBlb2YgZW50cnkgIT09ICdib29sZWFuJyApe1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnc25hcCcgb3B0aW9uIG11c3QgYmUgYSBib29sZWFuLlwiKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0QW5pbWF0ZSAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHQvLyBFbmZvcmNlIDEwMCUgc3RlcHBpbmcgd2l0aGluIHN1YnJhbmdlcy5cblx0XHRwYXJzZWQuYW5pbWF0ZSA9IGVudHJ5O1xuXG5cdFx0aWYgKCB0eXBlb2YgZW50cnkgIT09ICdib29sZWFuJyApe1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnYW5pbWF0ZScgb3B0aW9uIG11c3QgYmUgYSBib29sZWFuLlwiKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0QW5pbWF0aW9uRHVyYXRpb24gKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0cGFyc2VkLmFuaW1hdGlvbkR1cmF0aW9uID0gZW50cnk7XG5cblx0XHRpZiAoIHR5cGVvZiBlbnRyeSAhPT0gJ251bWJlcicgKXtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2FuaW1hdGlvbkR1cmF0aW9uJyBvcHRpb24gbXVzdCBiZSBhIG51bWJlci5cIik7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdENvbm5lY3QgKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0dmFyIGNvbm5lY3QgPSBbZmFsc2VdO1xuXHRcdHZhciBpO1xuXG5cdFx0Ly8gTWFwIGxlZ2FjeSBvcHRpb25zXG5cdFx0aWYgKCBlbnRyeSA9PT0gJ2xvd2VyJyApIHtcblx0XHRcdGVudHJ5ID0gW3RydWUsIGZhbHNlXTtcblx0XHR9XG5cblx0XHRlbHNlIGlmICggZW50cnkgPT09ICd1cHBlcicgKSB7XG5cdFx0XHRlbnRyeSA9IFtmYWxzZSwgdHJ1ZV07XG5cdFx0fVxuXG5cdFx0Ly8gSGFuZGxlIGJvb2xlYW4gb3B0aW9uc1xuXHRcdGlmICggZW50cnkgPT09IHRydWUgfHwgZW50cnkgPT09IGZhbHNlICkge1xuXG5cdFx0XHRmb3IgKCBpID0gMTsgaSA8IHBhcnNlZC5oYW5kbGVzOyBpKysgKSB7XG5cdFx0XHRcdGNvbm5lY3QucHVzaChlbnRyeSk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbm5lY3QucHVzaChmYWxzZSk7XG5cdFx0fVxuXG5cdFx0Ly8gUmVqZWN0IGludmFsaWQgaW5wdXRcblx0XHRlbHNlIGlmICggIUFycmF5LmlzQXJyYXkoIGVudHJ5ICkgfHwgIWVudHJ5Lmxlbmd0aCB8fCBlbnRyeS5sZW5ndGggIT09IHBhcnNlZC5oYW5kbGVzICsgMSApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2Nvbm5lY3QnIG9wdGlvbiBkb2Vzbid0IG1hdGNoIGhhbmRsZSBjb3VudC5cIik7XG5cdFx0fVxuXG5cdFx0ZWxzZSB7XG5cdFx0XHRjb25uZWN0ID0gZW50cnk7XG5cdFx0fVxuXG5cdFx0cGFyc2VkLmNvbm5lY3QgPSBjb25uZWN0O1xuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdE9yaWVudGF0aW9uICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdC8vIFNldCBvcmllbnRhdGlvbiB0byBhbiBhIG51bWVyaWNhbCB2YWx1ZSBmb3IgZWFzeVxuXHRcdC8vIGFycmF5IHNlbGVjdGlvbi5cblx0XHRzd2l0Y2ggKCBlbnRyeSApe1xuXHRcdCAgY2FzZSAnaG9yaXpvbnRhbCc6XG5cdFx0XHRwYXJzZWQub3J0ID0gMDtcblx0XHRcdGJyZWFrO1xuXHRcdCAgY2FzZSAndmVydGljYWwnOlxuXHRcdFx0cGFyc2VkLm9ydCA9IDE7XG5cdFx0XHRicmVhaztcblx0XHQgIGRlZmF1bHQ6XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdvcmllbnRhdGlvbicgb3B0aW9uIGlzIGludmFsaWQuXCIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RNYXJnaW4gKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0aWYgKCAhaXNOdW1lcmljKGVudHJ5KSApe1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnbWFyZ2luJyBvcHRpb24gbXVzdCBiZSBudW1lcmljLlwiKTtcblx0XHR9XG5cblx0XHQvLyBJc3N1ZSAjNTgyXG5cdFx0aWYgKCBlbnRyeSA9PT0gMCApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRwYXJzZWQubWFyZ2luID0gcGFyc2VkLnNwZWN0cnVtLmdldE1hcmdpbihlbnRyeSk7XG5cblx0XHRpZiAoICFwYXJzZWQubWFyZ2luICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnbWFyZ2luJyBvcHRpb24gaXMgb25seSBzdXBwb3J0ZWQgb24gbGluZWFyIHNsaWRlcnMuXCIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RMaW1pdCAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHRpZiAoICFpc051bWVyaWMoZW50cnkpICl7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdsaW1pdCcgb3B0aW9uIG11c3QgYmUgbnVtZXJpYy5cIik7XG5cdFx0fVxuXG5cdFx0cGFyc2VkLmxpbWl0ID0gcGFyc2VkLnNwZWN0cnVtLmdldE1hcmdpbihlbnRyeSk7XG5cblx0XHRpZiAoICFwYXJzZWQubGltaXQgfHwgcGFyc2VkLmhhbmRsZXMgPCAyICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnbGltaXQnIG9wdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCBvbiBsaW5lYXIgc2xpZGVycyB3aXRoIDIgb3IgbW9yZSBoYW5kbGVzLlwiKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0UGFkZGluZyAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHRpZiAoICFpc051bWVyaWMoZW50cnkpICl7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBiZSBudW1lcmljLlwiKTtcblx0XHR9XG5cblx0XHRpZiAoIGVudHJ5ID09PSAwICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHBhcnNlZC5wYWRkaW5nID0gcGFyc2VkLnNwZWN0cnVtLmdldE1hcmdpbihlbnRyeSk7XG5cblx0XHRpZiAoICFwYXJzZWQucGFkZGluZyApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3BhZGRpbmcnIG9wdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCBvbiBsaW5lYXIgc2xpZGVycy5cIik7XG5cdFx0fVxuXG5cdFx0aWYgKCBwYXJzZWQucGFkZGluZyA8IDAgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdwYWRkaW5nJyBvcHRpb24gbXVzdCBiZSBhIHBvc2l0aXZlIG51bWJlci5cIik7XG5cdFx0fVxuXG5cdFx0aWYgKCBwYXJzZWQucGFkZGluZyA+PSA1MCApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IGJlIGxlc3MgdGhhbiBoYWxmIHRoZSByYW5nZS5cIik7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdERpcmVjdGlvbiAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHQvLyBTZXQgZGlyZWN0aW9uIGFzIGEgbnVtZXJpY2FsIHZhbHVlIGZvciBlYXN5IHBhcnNpbmcuXG5cdFx0Ly8gSW52ZXJ0IGNvbm5lY3Rpb24gZm9yIFJUTCBzbGlkZXJzLCBzbyB0aGF0IHRoZSBwcm9wZXJcblx0XHQvLyBoYW5kbGVzIGdldCB0aGUgY29ubmVjdC9iYWNrZ3JvdW5kIGNsYXNzZXMuXG5cdFx0c3dpdGNoICggZW50cnkgKSB7XG5cdFx0ICBjYXNlICdsdHInOlxuXHRcdFx0cGFyc2VkLmRpciA9IDA7XG5cdFx0XHRicmVhaztcblx0XHQgIGNhc2UgJ3J0bCc6XG5cdFx0XHRwYXJzZWQuZGlyID0gMTtcblx0XHRcdGJyZWFrO1xuXHRcdCAgZGVmYXVsdDpcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2RpcmVjdGlvbicgb3B0aW9uIHdhcyBub3QgcmVjb2duaXplZC5cIik7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdEJlaGF2aW91ciAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhlIGlucHV0IGlzIGEgc3RyaW5nLlxuXHRcdGlmICggdHlwZW9mIGVudHJ5ICE9PSAnc3RyaW5nJyApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2JlaGF2aW91cicgbXVzdCBiZSBhIHN0cmluZyBjb250YWluaW5nIG9wdGlvbnMuXCIpO1xuXHRcdH1cblxuXHRcdC8vIENoZWNrIGlmIHRoZSBzdHJpbmcgY29udGFpbnMgYW55IGtleXdvcmRzLlxuXHRcdC8vIE5vbmUgYXJlIHJlcXVpcmVkLlxuXHRcdHZhciB0YXAgPSBlbnRyeS5pbmRleE9mKCd0YXAnKSA+PSAwO1xuXHRcdHZhciBkcmFnID0gZW50cnkuaW5kZXhPZignZHJhZycpID49IDA7XG5cdFx0dmFyIGZpeGVkID0gZW50cnkuaW5kZXhPZignZml4ZWQnKSA+PSAwO1xuXHRcdHZhciBzbmFwID0gZW50cnkuaW5kZXhPZignc25hcCcpID49IDA7XG5cdFx0dmFyIGhvdmVyID0gZW50cnkuaW5kZXhPZignaG92ZXInKSA+PSAwO1xuXG5cdFx0aWYgKCBmaXhlZCApIHtcblxuXHRcdFx0aWYgKCBwYXJzZWQuaGFuZGxlcyAhPT0gMiApIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnZml4ZWQnIGJlaGF2aW91ciBtdXN0IGJlIHVzZWQgd2l0aCAyIGhhbmRsZXNcIik7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFVzZSBtYXJnaW4gdG8gZW5mb3JjZSBmaXhlZCBzdGF0ZVxuXHRcdFx0dGVzdE1hcmdpbihwYXJzZWQsIHBhcnNlZC5zdGFydFsxXSAtIHBhcnNlZC5zdGFydFswXSk7XG5cdFx0fVxuXG5cdFx0cGFyc2VkLmV2ZW50cyA9IHtcblx0XHRcdHRhcDogdGFwIHx8IHNuYXAsXG5cdFx0XHRkcmFnOiBkcmFnLFxuXHRcdFx0Zml4ZWQ6IGZpeGVkLFxuXHRcdFx0c25hcDogc25hcCxcblx0XHRcdGhvdmVyOiBob3ZlclxuXHRcdH07XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0TXVsdGl0b3VjaCAoIHBhcnNlZCwgZW50cnkgKSB7XG5cdFx0cGFyc2VkLm11bHRpdG91Y2ggPSBlbnRyeTtcblxuXHRcdGlmICggdHlwZW9mIGVudHJ5ICE9PSAnYm9vbGVhbicgKXtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ211bHRpdG91Y2gnIG9wdGlvbiBtdXN0IGJlIGEgYm9vbGVhbi5cIik7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdFRvb2x0aXBzICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdGlmICggZW50cnkgPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGVsc2UgaWYgKCBlbnRyeSA9PT0gdHJ1ZSApIHtcblxuXHRcdFx0cGFyc2VkLnRvb2x0aXBzID0gW107XG5cblx0XHRcdGZvciAoIHZhciBpID0gMDsgaSA8IHBhcnNlZC5oYW5kbGVzOyBpKysgKSB7XG5cdFx0XHRcdHBhcnNlZC50b29sdGlwcy5wdXNoKHRydWUpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGVsc2Uge1xuXG5cdFx0XHRwYXJzZWQudG9vbHRpcHMgPSBhc0FycmF5KGVudHJ5KTtcblxuXHRcdFx0aWYgKCBwYXJzZWQudG9vbHRpcHMubGVuZ3RoICE9PSBwYXJzZWQuaGFuZGxlcyApIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiBtdXN0IHBhc3MgYSBmb3JtYXR0ZXIgZm9yIGFsbCBoYW5kbGVzLlwiKTtcblx0XHRcdH1cblxuXHRcdFx0cGFyc2VkLnRvb2x0aXBzLmZvckVhY2goZnVuY3Rpb24oZm9ybWF0dGVyKXtcblx0XHRcdFx0aWYgKCB0eXBlb2YgZm9ybWF0dGVyICE9PSAnYm9vbGVhbicgJiYgKHR5cGVvZiBmb3JtYXR0ZXIgIT09ICdvYmplY3QnIHx8IHR5cGVvZiBmb3JtYXR0ZXIudG8gIT09ICdmdW5jdGlvbicpICkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3Rvb2x0aXBzJyBtdXN0IGJlIHBhc3NlZCBhIGZvcm1hdHRlciBvciAnZmFsc2UnLlwiKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdEFyaWFGb3JtYXQgKCBwYXJzZWQsIGVudHJ5ICkge1xuXHRcdHBhcnNlZC5hcmlhRm9ybWF0ID0gZW50cnk7XG5cdFx0dmFsaWRhdGVGb3JtYXQoZW50cnkpO1xuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdEZvcm1hdCAoIHBhcnNlZCwgZW50cnkgKSB7XG5cdFx0cGFyc2VkLmZvcm1hdCA9IGVudHJ5O1xuXHRcdHZhbGlkYXRlRm9ybWF0KGVudHJ5KTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RDc3NQcmVmaXggKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0aWYgKCBlbnRyeSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbnRyeSAhPT0gJ3N0cmluZycgJiYgZW50cnkgIT09IGZhbHNlICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnY3NzUHJlZml4JyBtdXN0IGJlIGEgc3RyaW5nIG9yIGBmYWxzZWAuXCIpO1xuXHRcdH1cblxuXHRcdHBhcnNlZC5jc3NQcmVmaXggPSBlbnRyeTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RDc3NDbGFzc2VzICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdGlmICggZW50cnkgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgZW50cnkgIT09ICdvYmplY3QnICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnY3NzQ2xhc3NlcycgbXVzdCBiZSBhbiBvYmplY3QuXCIpO1xuXHRcdH1cblxuXHRcdGlmICggdHlwZW9mIHBhcnNlZC5jc3NQcmVmaXggPT09ICdzdHJpbmcnICkge1xuXHRcdFx0cGFyc2VkLmNzc0NsYXNzZXMgPSB7fTtcblxuXHRcdFx0Zm9yICggdmFyIGtleSBpbiBlbnRyeSApIHtcblx0XHRcdFx0aWYgKCAhZW50cnkuaGFzT3duUHJvcGVydHkoa2V5KSApIHsgY29udGludWU7IH1cblxuXHRcdFx0XHRwYXJzZWQuY3NzQ2xhc3Nlc1trZXldID0gcGFyc2VkLmNzc1ByZWZpeCArIGVudHJ5W2tleV07XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHBhcnNlZC5jc3NDbGFzc2VzID0gZW50cnk7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdFVzZVJhZiAoIHBhcnNlZCwgZW50cnkgKSB7XG5cdFx0aWYgKCBlbnRyeSA9PT0gdHJ1ZSB8fCBlbnRyeSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRwYXJzZWQudXNlUmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZW50cnk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3VzZVJlcXVlc3RBbmltYXRpb25GcmFtZScgb3B0aW9uIHNob3VsZCBiZSB0cnVlIChkZWZhdWx0KSBvciBmYWxzZS5cIik7XG5cdFx0fVxuXHR9XG5cblx0Ly8gVGVzdCBhbGwgZGV2ZWxvcGVyIHNldHRpbmdzIGFuZCBwYXJzZSB0byBhc3N1bXB0aW9uLXNhZmUgdmFsdWVzLlxuXHRmdW5jdGlvbiB0ZXN0T3B0aW9ucyAoIG9wdGlvbnMgKSB7XG5cblx0XHQvLyBUbyBwcm92ZSBhIGZpeCBmb3IgIzUzNywgZnJlZXplIG9wdGlvbnMgaGVyZS5cblx0XHQvLyBJZiB0aGUgb2JqZWN0IGlzIG1vZGlmaWVkLCBhbiBlcnJvciB3aWxsIGJlIHRocm93bi5cblx0XHQvLyBPYmplY3QuZnJlZXplKG9wdGlvbnMpO1xuXG5cdFx0dmFyIHBhcnNlZCA9IHtcblx0XHRcdG1hcmdpbjogMCxcblx0XHRcdGxpbWl0OiAwLFxuXHRcdFx0cGFkZGluZzogMCxcblx0XHRcdGFuaW1hdGU6IHRydWUsXG5cdFx0XHRhbmltYXRpb25EdXJhdGlvbjogMzAwLFxuXHRcdFx0YXJpYUZvcm1hdDogZGVmYXVsdEZvcm1hdHRlcixcblx0XHRcdGZvcm1hdDogZGVmYXVsdEZvcm1hdHRlclxuXHRcdH07XG5cblx0XHQvLyBUZXN0cyBhcmUgZXhlY3V0ZWQgaW4gdGhlIG9yZGVyIHRoZXkgYXJlIHByZXNlbnRlZCBoZXJlLlxuXHRcdHZhciB0ZXN0cyA9IHtcblx0XHRcdCdzdGVwJzogeyByOiBmYWxzZSwgdDogdGVzdFN0ZXAgfSxcblx0XHRcdCdzdGFydCc6IHsgcjogdHJ1ZSwgdDogdGVzdFN0YXJ0IH0sXG5cdFx0XHQnY29ubmVjdCc6IHsgcjogdHJ1ZSwgdDogdGVzdENvbm5lY3QgfSxcblx0XHRcdCdkaXJlY3Rpb24nOiB7IHI6IHRydWUsIHQ6IHRlc3REaXJlY3Rpb24gfSxcblx0XHRcdCdzbmFwJzogeyByOiBmYWxzZSwgdDogdGVzdFNuYXAgfSxcblx0XHRcdCdhbmltYXRlJzogeyByOiBmYWxzZSwgdDogdGVzdEFuaW1hdGUgfSxcblx0XHRcdCdhbmltYXRpb25EdXJhdGlvbic6IHsgcjogZmFsc2UsIHQ6IHRlc3RBbmltYXRpb25EdXJhdGlvbiB9LFxuXHRcdFx0J3JhbmdlJzogeyByOiB0cnVlLCB0OiB0ZXN0UmFuZ2UgfSxcblx0XHRcdCdvcmllbnRhdGlvbic6IHsgcjogZmFsc2UsIHQ6IHRlc3RPcmllbnRhdGlvbiB9LFxuXHRcdFx0J21hcmdpbic6IHsgcjogZmFsc2UsIHQ6IHRlc3RNYXJnaW4gfSxcblx0XHRcdCdsaW1pdCc6IHsgcjogZmFsc2UsIHQ6IHRlc3RMaW1pdCB9LFxuXHRcdFx0J3BhZGRpbmcnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0UGFkZGluZyB9LFxuXHRcdFx0J2JlaGF2aW91cic6IHsgcjogdHJ1ZSwgdDogdGVzdEJlaGF2aW91ciB9LFxuXHRcdFx0J211bHRpdG91Y2gnOiB7IHI6IHRydWUsIHQ6IHRlc3RNdWx0aXRvdWNoIH0sXG5cdFx0XHQnYXJpYUZvcm1hdCc6IHsgcjogZmFsc2UsIHQ6IHRlc3RBcmlhRm9ybWF0IH0sXG5cdFx0XHQnZm9ybWF0JzogeyByOiBmYWxzZSwgdDogdGVzdEZvcm1hdCB9LFxuXHRcdFx0J3Rvb2x0aXBzJzogeyByOiBmYWxzZSwgdDogdGVzdFRvb2x0aXBzIH0sXG5cdFx0XHQnY3NzUHJlZml4JzogeyByOiBmYWxzZSwgdDogdGVzdENzc1ByZWZpeCB9LFxuXHRcdFx0J2Nzc0NsYXNzZXMnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0Q3NzQ2xhc3NlcyB9LFxuXHRcdFx0J3VzZVJlcXVlc3RBbmltYXRpb25GcmFtZSc6IHsgcjogZmFsc2UsIHQ6IHRlc3RVc2VSYWYgfVxuXHRcdH07XG5cblx0XHR2YXIgZGVmYXVsdHMgPSB7XG5cdFx0XHQnY29ubmVjdCc6IGZhbHNlLFxuXHRcdFx0J2RpcmVjdGlvbic6ICdsdHInLFxuXHRcdFx0J2JlaGF2aW91cic6ICd0YXAnLFxuXHRcdFx0J211bHRpdG91Y2gnOiBmYWxzZSxcblx0XHRcdCdvcmllbnRhdGlvbic6ICdob3Jpem9udGFsJyxcblx0XHRcdCdjc3NQcmVmaXgnIDogJ25vVWktJyxcblx0XHRcdCdjc3NDbGFzc2VzJzoge1xuXHRcdFx0XHR0YXJnZXQ6ICd0YXJnZXQnLFxuXHRcdFx0XHRiYXNlOiAnYmFzZScsXG5cdFx0XHRcdG9yaWdpbjogJ29yaWdpbicsXG5cdFx0XHRcdGhhbmRsZTogJ2hhbmRsZScsXG5cdFx0XHRcdGhhbmRsZUxvd2VyOiAnaGFuZGxlLWxvd2VyJyxcblx0XHRcdFx0aGFuZGxlVXBwZXI6ICdoYW5kbGUtdXBwZXInLFxuXHRcdFx0XHRob3Jpem9udGFsOiAnaG9yaXpvbnRhbCcsXG5cdFx0XHRcdHZlcnRpY2FsOiAndmVydGljYWwnLFxuXHRcdFx0XHRiYWNrZ3JvdW5kOiAnYmFja2dyb3VuZCcsXG5cdFx0XHRcdGNvbm5lY3Q6ICdjb25uZWN0Jyxcblx0XHRcdFx0bHRyOiAnbHRyJyxcblx0XHRcdFx0cnRsOiAncnRsJyxcblx0XHRcdFx0ZHJhZ2dhYmxlOiAnZHJhZ2dhYmxlJyxcblx0XHRcdFx0ZHJhZzogJ3N0YXRlLWRyYWcnLFxuXHRcdFx0XHR0YXA6ICdzdGF0ZS10YXAnLFxuXHRcdFx0XHRhY3RpdmU6ICdhY3RpdmUnLFxuXHRcdFx0XHR0b29sdGlwOiAndG9vbHRpcCcsXG5cdFx0XHRcdHBpcHM6ICdwaXBzJyxcblx0XHRcdFx0cGlwc0hvcml6b250YWw6ICdwaXBzLWhvcml6b250YWwnLFxuXHRcdFx0XHRwaXBzVmVydGljYWw6ICdwaXBzLXZlcnRpY2FsJyxcblx0XHRcdFx0bWFya2VyOiAnbWFya2VyJyxcblx0XHRcdFx0bWFya2VySG9yaXpvbnRhbDogJ21hcmtlci1ob3Jpem9udGFsJyxcblx0XHRcdFx0bWFya2VyVmVydGljYWw6ICdtYXJrZXItdmVydGljYWwnLFxuXHRcdFx0XHRtYXJrZXJOb3JtYWw6ICdtYXJrZXItbm9ybWFsJyxcblx0XHRcdFx0bWFya2VyTGFyZ2U6ICdtYXJrZXItbGFyZ2UnLFxuXHRcdFx0XHRtYXJrZXJTdWI6ICdtYXJrZXItc3ViJyxcblx0XHRcdFx0dmFsdWU6ICd2YWx1ZScsXG5cdFx0XHRcdHZhbHVlSG9yaXpvbnRhbDogJ3ZhbHVlLWhvcml6b250YWwnLFxuXHRcdFx0XHR2YWx1ZVZlcnRpY2FsOiAndmFsdWUtdmVydGljYWwnLFxuXHRcdFx0XHR2YWx1ZU5vcm1hbDogJ3ZhbHVlLW5vcm1hbCcsXG5cdFx0XHRcdHZhbHVlTGFyZ2U6ICd2YWx1ZS1sYXJnZScsXG5cdFx0XHRcdHZhbHVlU3ViOiAndmFsdWUtc3ViJ1xuXHRcdFx0fSxcblx0XHRcdCd1c2VSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnOiB0cnVlXG5cdFx0fTtcblxuXHRcdC8vIEFyaWFGb3JtYXQgZGVmYXVsdHMgdG8gcmVndWxhciBmb3JtYXQsIGlmIGFueS5cblx0XHRpZiAoIG9wdGlvbnMuZm9ybWF0ICYmICFvcHRpb25zLmFyaWFGb3JtYXQgKSB7XG5cdFx0XHRvcHRpb25zLmFyaWFGb3JtYXQgPSBvcHRpb25zLmZvcm1hdDtcblx0XHR9XG5cblx0XHQvLyBSdW4gYWxsIG9wdGlvbnMgdGhyb3VnaCBhIHRlc3RpbmcgbWVjaGFuaXNtIHRvIGVuc3VyZSBjb3JyZWN0XG5cdFx0Ly8gaW5wdXQuIEl0IHNob3VsZCBiZSBub3RlZCB0aGF0IG9wdGlvbnMgbWlnaHQgZ2V0IG1vZGlmaWVkIHRvXG5cdFx0Ly8gYmUgaGFuZGxlZCBwcm9wZXJseS4gRS5nLiB3cmFwcGluZyBpbnRlZ2VycyBpbiBhcnJheXMuXG5cdFx0T2JqZWN0LmtleXModGVzdHMpLmZvckVhY2goZnVuY3Rpb24oIG5hbWUgKXtcblxuXHRcdFx0Ly8gSWYgdGhlIG9wdGlvbiBpc24ndCBzZXQsIGJ1dCBpdCBpcyByZXF1aXJlZCwgdGhyb3cgYW4gZXJyb3IuXG5cdFx0XHRpZiAoIG9wdGlvbnNbbmFtZV0gPT09IHVuZGVmaW5lZCAmJiBkZWZhdWx0c1tuYW1lXSA9PT0gdW5kZWZpbmVkICkge1xuXG5cdFx0XHRcdGlmICggdGVzdHNbbmFtZV0uciApIHtcblx0XHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdcIiArIG5hbWUgKyBcIicgaXMgcmVxdWlyZWQuXCIpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdHRlc3RzW25hbWVdLnQoIHBhcnNlZCwgb3B0aW9uc1tuYW1lXSA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdHNbbmFtZV0gOiBvcHRpb25zW25hbWVdICk7XG5cdFx0fSk7XG5cblx0XHQvLyBGb3J3YXJkIHBpcHMgb3B0aW9uc1xuXHRcdHBhcnNlZC5waXBzID0gb3B0aW9ucy5waXBzO1xuXG5cdFx0dmFyIHN0eWxlcyA9IFtbJ2xlZnQnLCAndG9wJ10sIFsncmlnaHQnLCAnYm90dG9tJ11dO1xuXG5cdFx0Ly8gUHJlLWRlZmluZSB0aGUgc3R5bGVzLlxuXHRcdHBhcnNlZC5zdHlsZSA9IHN0eWxlc1twYXJzZWQuZGlyXVtwYXJzZWQub3J0XTtcblx0XHRwYXJzZWQuc3R5bGVPcG9zaXRlID0gc3R5bGVzW3BhcnNlZC5kaXI/MDoxXVtwYXJzZWQub3J0XTtcblxuXHRcdHJldHVybiBwYXJzZWQ7XG5cdH1cblxuXG5mdW5jdGlvbiBjbG9zdXJlICggdGFyZ2V0LCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMgKXtcblxuXHR2YXIgYWN0aW9ucyA9IGdldEFjdGlvbnMoKTtcblx0dmFyIHN1cHBvcnRzVG91Y2hBY3Rpb25Ob25lID0gZ2V0U3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUoKTtcblx0dmFyIHN1cHBvcnRzUGFzc2l2ZSA9IHN1cHBvcnRzVG91Y2hBY3Rpb25Ob25lICYmIGdldFN1cHBvcnRzUGFzc2l2ZSgpO1xuXG5cdC8vIEFsbCB2YXJpYWJsZXMgbG9jYWwgdG8gJ2Nsb3N1cmUnIGFyZSBwcmVmaXhlZCB3aXRoICdzY29wZV8nXG5cdHZhciBzY29wZV9UYXJnZXQgPSB0YXJnZXQ7XG5cdHZhciBzY29wZV9Mb2NhdGlvbnMgPSBbXTtcblx0dmFyIHNjb3BlX0Jhc2U7XG5cdHZhciBzY29wZV9IYW5kbGVzO1xuXHR2YXIgc2NvcGVfSGFuZGxlTnVtYmVycyA9IFtdO1xuXHR2YXIgc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ID0gMDtcblx0dmFyIHNjb3BlX0Nvbm5lY3RzO1xuXHR2YXIgc2NvcGVfU3BlY3RydW0gPSBvcHRpb25zLnNwZWN0cnVtO1xuXHR2YXIgc2NvcGVfVmFsdWVzID0gW107XG5cdHZhciBzY29wZV9FdmVudHMgPSB7fTtcblx0dmFyIHNjb3BlX1NlbGY7XG5cdHZhciBzY29wZV9QaXBzO1xuXHR2YXIgc2NvcGVfRG9jdW1lbnQgPSB0YXJnZXQub3duZXJEb2N1bWVudDtcblx0dmFyIHNjb3BlX0RvY3VtZW50RWxlbWVudCA9IHNjb3BlX0RvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblx0dmFyIHNjb3BlX0JvZHkgPSBzY29wZV9Eb2N1bWVudC5ib2R5O1xuXG5cblx0Ly8gQ3JlYXRlcyBhIG5vZGUsIGFkZHMgaXQgdG8gdGFyZ2V0LCByZXR1cm5zIHRoZSBuZXcgbm9kZS5cblx0ZnVuY3Rpb24gYWRkTm9kZVRvICggdGFyZ2V0LCBjbGFzc05hbWUgKSB7XG5cblx0XHR2YXIgZGl2ID0gc2NvcGVfRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cblx0XHRpZiAoIGNsYXNzTmFtZSApIHtcblx0XHRcdGFkZENsYXNzKGRpdiwgY2xhc3NOYW1lKTtcblx0XHR9XG5cblx0XHR0YXJnZXQuYXBwZW5kQ2hpbGQoZGl2KTtcblxuXHRcdHJldHVybiBkaXY7XG5cdH1cblxuXHQvLyBBcHBlbmQgYSBvcmlnaW4gdG8gdGhlIGJhc2Vcblx0ZnVuY3Rpb24gYWRkT3JpZ2luICggYmFzZSwgaGFuZGxlTnVtYmVyICkge1xuXG5cdFx0dmFyIG9yaWdpbiA9IGFkZE5vZGVUbyhiYXNlLCBvcHRpb25zLmNzc0NsYXNzZXMub3JpZ2luKTtcblx0XHR2YXIgaGFuZGxlID0gYWRkTm9kZVRvKG9yaWdpbiwgb3B0aW9ucy5jc3NDbGFzc2VzLmhhbmRsZSk7XG5cblx0XHRoYW5kbGUuc2V0QXR0cmlidXRlKCdkYXRhLWhhbmRsZScsIGhhbmRsZU51bWJlcik7XG5cblx0XHQvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0dsb2JhbF9hdHRyaWJ1dGVzL3RhYmluZGV4XG5cdFx0Ly8gMCA9IGZvY3VzYWJsZSBhbmQgcmVhY2hhYmxlXG5cdFx0aGFuZGxlLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAnMCcpO1xuXHRcdGhhbmRsZS5zZXRBdHRyaWJ1dGUoJ3JvbGUnLCAnc2xpZGVyJyk7XG5cdFx0aGFuZGxlLnNldEF0dHJpYnV0ZSgnYXJpYS1vcmllbnRhdGlvbicsIG9wdGlvbnMub3J0ID8gJ3ZlcnRpY2FsJyA6ICdob3Jpem9udGFsJyk7XG5cblx0XHRpZiAoIGhhbmRsZU51bWJlciA9PT0gMCApIHtcblx0XHRcdGFkZENsYXNzKGhhbmRsZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmhhbmRsZUxvd2VyKTtcblx0XHR9XG5cblx0XHRlbHNlIGlmICggaGFuZGxlTnVtYmVyID09PSBvcHRpb25zLmhhbmRsZXMgLSAxICkge1xuXHRcdFx0YWRkQ2xhc3MoaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMuaGFuZGxlVXBwZXIpO1xuXHRcdH1cblxuXHRcdHJldHVybiBvcmlnaW47XG5cdH1cblxuXHQvLyBJbnNlcnQgbm9kZXMgZm9yIGNvbm5lY3QgZWxlbWVudHNcblx0ZnVuY3Rpb24gYWRkQ29ubmVjdCAoIGJhc2UsIGFkZCApIHtcblxuXHRcdGlmICggIWFkZCApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gYWRkTm9kZVRvKGJhc2UsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5jb25uZWN0KTtcblx0fVxuXG5cdC8vIEFkZCBoYW5kbGVzIHRvIHRoZSBzbGlkZXIgYmFzZS5cblx0ZnVuY3Rpb24gYWRkRWxlbWVudHMgKCBjb25uZWN0T3B0aW9ucywgYmFzZSApIHtcblxuXHRcdHNjb3BlX0hhbmRsZXMgPSBbXTtcblx0XHRzY29wZV9Db25uZWN0cyA9IFtdO1xuXG5cdFx0c2NvcGVfQ29ubmVjdHMucHVzaChhZGRDb25uZWN0KGJhc2UsIGNvbm5lY3RPcHRpb25zWzBdKSk7XG5cblx0XHQvLyBbOjo6Ok89PT09Tz09PT1PPT09PV1cblx0XHQvLyBjb25uZWN0T3B0aW9ucyA9IFswLCAxLCAxLCAxXVxuXG5cdFx0Zm9yICggdmFyIGkgPSAwOyBpIDwgb3B0aW9ucy5oYW5kbGVzOyBpKysgKSB7XG5cdFx0XHQvLyBLZWVwIGEgbGlzdCBvZiBhbGwgYWRkZWQgaGFuZGxlcy5cblx0XHRcdHNjb3BlX0hhbmRsZXMucHVzaChhZGRPcmlnaW4oYmFzZSwgaSkpO1xuXHRcdFx0c2NvcGVfSGFuZGxlTnVtYmVyc1tpXSA9IGk7XG5cdFx0XHRzY29wZV9Db25uZWN0cy5wdXNoKGFkZENvbm5lY3QoYmFzZSwgY29ubmVjdE9wdGlvbnNbaSArIDFdKSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gSW5pdGlhbGl6ZSBhIHNpbmdsZSBzbGlkZXIuXG5cdGZ1bmN0aW9uIGFkZFNsaWRlciAoIHRhcmdldCApIHtcblxuXHRcdC8vIEFwcGx5IGNsYXNzZXMgYW5kIGRhdGEgdG8gdGhlIHRhcmdldC5cblx0XHRhZGRDbGFzcyh0YXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50YXJnZXQpO1xuXG5cdFx0aWYgKCBvcHRpb25zLmRpciA9PT0gMCApIHtcblx0XHRcdGFkZENsYXNzKHRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmx0cik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFkZENsYXNzKHRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnJ0bCk7XG5cdFx0fVxuXG5cdFx0aWYgKCBvcHRpb25zLm9ydCA9PT0gMCApIHtcblx0XHRcdGFkZENsYXNzKHRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmhvcml6b250YWwpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhZGRDbGFzcyh0YXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy52ZXJ0aWNhbCk7XG5cdFx0fVxuXG5cdFx0c2NvcGVfQmFzZSA9IGFkZE5vZGVUbyh0YXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5iYXNlKTtcblx0fVxuXG5cblx0ZnVuY3Rpb24gYWRkVG9vbHRpcCAoIGhhbmRsZSwgaGFuZGxlTnVtYmVyICkge1xuXG5cdFx0aWYgKCAhb3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiBhZGROb2RlVG8oaGFuZGxlLmZpcnN0Q2hpbGQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50b29sdGlwKTtcblx0fVxuXG5cdC8vIFRoZSB0b29sdGlwcyBvcHRpb24gaXMgYSBzaG9ydGhhbmQgZm9yIHVzaW5nIHRoZSAndXBkYXRlJyBldmVudC5cblx0ZnVuY3Rpb24gdG9vbHRpcHMgKCApIHtcblxuXHRcdC8vIFRvb2x0aXBzIGFyZSBhZGRlZCB3aXRoIG9wdGlvbnMudG9vbHRpcHMgaW4gb3JpZ2luYWwgb3JkZXIuXG5cdFx0dmFyIHRpcHMgPSBzY29wZV9IYW5kbGVzLm1hcChhZGRUb29sdGlwKTtcblxuXHRcdGJpbmRFdmVudCgndXBkYXRlJywgZnVuY3Rpb24odmFsdWVzLCBoYW5kbGVOdW1iZXIsIHVuZW5jb2RlZCkge1xuXG5cdFx0XHRpZiAoICF0aXBzW2hhbmRsZU51bWJlcl0gKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIGZvcm1hdHRlZFZhbHVlID0gdmFsdWVzW2hhbmRsZU51bWJlcl07XG5cblx0XHRcdGlmICggb3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdICE9PSB0cnVlICkge1xuXHRcdFx0XHRmb3JtYXR0ZWRWYWx1ZSA9IG9wdGlvbnMudG9vbHRpcHNbaGFuZGxlTnVtYmVyXS50byh1bmVuY29kZWRbaGFuZGxlTnVtYmVyXSk7XG5cdFx0XHR9XG5cblx0XHRcdHRpcHNbaGFuZGxlTnVtYmVyXS5pbm5lckhUTUwgPSBmb3JtYXR0ZWRWYWx1ZTtcblx0XHR9KTtcblx0fVxuXG5cblx0ZnVuY3Rpb24gYXJpYSAoICkge1xuXG5cdFx0YmluZEV2ZW50KCd1cGRhdGUnLCBmdW5jdGlvbiAoIHZhbHVlcywgaGFuZGxlTnVtYmVyLCB1bmVuY29kZWQsIHRhcCwgcG9zaXRpb25zICkge1xuXG5cdFx0XHQvLyBVcGRhdGUgQXJpYSBWYWx1ZXMgZm9yIGFsbCBoYW5kbGVzLCBhcyBhIGNoYW5nZSBpbiBvbmUgY2hhbmdlcyBtaW4gYW5kIG1heCB2YWx1ZXMgZm9yIHRoZSBuZXh0LlxuXHRcdFx0c2NvcGVfSGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKCBoYW5kbGVOdW1iZXIgKXtcblxuXHRcdFx0XHR2YXIgaGFuZGxlID0gc2NvcGVfSGFuZGxlc1toYW5kbGVOdW1iZXJdO1xuXG5cdFx0XHRcdHZhciBtaW4gPSBjaGVja0hhbmRsZVBvc2l0aW9uKHNjb3BlX0xvY2F0aW9ucywgaGFuZGxlTnVtYmVyLCAwLCB0cnVlLCB0cnVlLCB0cnVlKTtcblx0XHRcdFx0dmFyIG1heCA9IGNoZWNrSGFuZGxlUG9zaXRpb24oc2NvcGVfTG9jYXRpb25zLCBoYW5kbGVOdW1iZXIsIDEwMCwgdHJ1ZSwgdHJ1ZSwgdHJ1ZSk7XG5cblx0XHRcdFx0dmFyIG5vdyA9IHBvc2l0aW9uc1toYW5kbGVOdW1iZXJdO1xuXHRcdFx0XHR2YXIgdGV4dCA9IG9wdGlvbnMuYXJpYUZvcm1hdC50byh1bmVuY29kZWRbaGFuZGxlTnVtYmVyXSk7XG5cblx0XHRcdFx0aGFuZGxlLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW1pbicsIG1pbi50b0ZpeGVkKDEpKTtcblx0XHRcdFx0aGFuZGxlLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW1heCcsIG1heC50b0ZpeGVkKDEpKTtcblx0XHRcdFx0aGFuZGxlLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZW5vdycsIG5vdy50b0ZpeGVkKDEpKTtcblx0XHRcdFx0aGFuZGxlLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZSgnYXJpYS12YWx1ZXRleHQnLCB0ZXh0KTtcblx0XHRcdH0pO1xuXHRcdH0pO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBnZXRHcm91cCAoIG1vZGUsIHZhbHVlcywgc3RlcHBlZCApIHtcblxuXHRcdC8vIFVzZSB0aGUgcmFuZ2UuXG5cdFx0aWYgKCBtb2RlID09PSAncmFuZ2UnIHx8IG1vZGUgPT09ICdzdGVwcycgKSB7XG5cdFx0XHRyZXR1cm4gc2NvcGVfU3BlY3RydW0ueFZhbDtcblx0XHR9XG5cblx0XHRpZiAoIG1vZGUgPT09ICdjb3VudCcgKSB7XG5cblx0XHRcdGlmICggIXZhbHVlcyApIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAndmFsdWVzJyByZXF1aXJlZCBmb3IgbW9kZSAnY291bnQnLlwiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRGl2aWRlIDAgLSAxMDAgaW4gJ2NvdW50JyBwYXJ0cy5cblx0XHRcdHZhciBzcHJlYWQgPSAoIDEwMCAvICh2YWx1ZXMgLSAxKSApO1xuXHRcdFx0dmFyIHY7XG5cdFx0XHR2YXIgaSA9IDA7XG5cblx0XHRcdHZhbHVlcyA9IFtdO1xuXG5cdFx0XHQvLyBMaXN0IHRoZXNlIHBhcnRzIGFuZCBoYXZlIHRoZW0gaGFuZGxlZCBhcyAncG9zaXRpb25zJy5cblx0XHRcdHdoaWxlICggKHYgPSBpKysgKiBzcHJlYWQpIDw9IDEwMCApIHtcblx0XHRcdFx0dmFsdWVzLnB1c2godik7XG5cdFx0XHR9XG5cblx0XHRcdG1vZGUgPSAncG9zaXRpb25zJztcblx0XHR9XG5cblx0XHRpZiAoIG1vZGUgPT09ICdwb3NpdGlvbnMnICkge1xuXG5cdFx0XHQvLyBNYXAgYWxsIHBlcmNlbnRhZ2VzIHRvIG9uLXJhbmdlIHZhbHVlcy5cblx0XHRcdHJldHVybiB2YWx1ZXMubWFwKGZ1bmN0aW9uKCB2YWx1ZSApe1xuXHRcdFx0XHRyZXR1cm4gc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKCBzdGVwcGVkID8gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcCggdmFsdWUgKSA6IHZhbHVlICk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRpZiAoIG1vZGUgPT09ICd2YWx1ZXMnICkge1xuXG5cdFx0XHQvLyBJZiB0aGUgdmFsdWUgbXVzdCBiZSBzdGVwcGVkLCBpdCBuZWVkcyB0byBiZSBjb252ZXJ0ZWQgdG8gYSBwZXJjZW50YWdlIGZpcnN0LlxuXHRcdFx0aWYgKCBzdGVwcGVkICkge1xuXG5cdFx0XHRcdHJldHVybiB2YWx1ZXMubWFwKGZ1bmN0aW9uKCB2YWx1ZSApe1xuXG5cdFx0XHRcdFx0Ly8gQ29udmVydCB0byBwZXJjZW50YWdlLCBhcHBseSBzdGVwLCByZXR1cm4gdG8gdmFsdWUuXG5cdFx0XHRcdFx0cmV0dXJuIHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyggc2NvcGVfU3BlY3RydW0uZ2V0U3RlcCggc2NvcGVfU3BlY3RydW0udG9TdGVwcGluZyggdmFsdWUgKSApICk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHR9XG5cblx0XHRcdC8vIE90aGVyd2lzZSwgd2UgY2FuIHNpbXBseSB1c2UgdGhlIHZhbHVlcy5cblx0XHRcdHJldHVybiB2YWx1ZXM7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gZ2VuZXJhdGVTcHJlYWQgKCBkZW5zaXR5LCBtb2RlLCBncm91cCApIHtcblxuXHRcdGZ1bmN0aW9uIHNhZmVJbmNyZW1lbnQodmFsdWUsIGluY3JlbWVudCkge1xuXHRcdFx0Ly8gQXZvaWQgZmxvYXRpbmcgcG9pbnQgdmFyaWFuY2UgYnkgZHJvcHBpbmcgdGhlIHNtYWxsZXN0IGRlY2ltYWwgcGxhY2VzLlxuXHRcdFx0cmV0dXJuICh2YWx1ZSArIGluY3JlbWVudCkudG9GaXhlZCg3KSAvIDE7XG5cdFx0fVxuXG5cdFx0dmFyIGluZGV4ZXMgPSB7fTtcblx0XHR2YXIgZmlyc3RJblJhbmdlID0gc2NvcGVfU3BlY3RydW0ueFZhbFswXTtcblx0XHR2YXIgbGFzdEluUmFuZ2UgPSBzY29wZV9TcGVjdHJ1bS54VmFsW3Njb3BlX1NwZWN0cnVtLnhWYWwubGVuZ3RoLTFdO1xuXHRcdHZhciBpZ25vcmVGaXJzdCA9IGZhbHNlO1xuXHRcdHZhciBpZ25vcmVMYXN0ID0gZmFsc2U7XG5cdFx0dmFyIHByZXZQY3QgPSAwO1xuXG5cdFx0Ly8gQ3JlYXRlIGEgY29weSBvZiB0aGUgZ3JvdXAsIHNvcnQgaXQgYW5kIGZpbHRlciBhd2F5IGFsbCBkdXBsaWNhdGVzLlxuXHRcdGdyb3VwID0gdW5pcXVlKGdyb3VwLnNsaWNlKCkuc29ydChmdW5jdGlvbihhLCBiKXsgcmV0dXJuIGEgLSBiOyB9KSk7XG5cblx0XHQvLyBNYWtlIHN1cmUgdGhlIHJhbmdlIHN0YXJ0cyB3aXRoIHRoZSBmaXJzdCBlbGVtZW50LlxuXHRcdGlmICggZ3JvdXBbMF0gIT09IGZpcnN0SW5SYW5nZSApIHtcblx0XHRcdGdyb3VwLnVuc2hpZnQoZmlyc3RJblJhbmdlKTtcblx0XHRcdGlnbm9yZUZpcnN0ID0gdHJ1ZTtcblx0XHR9XG5cblx0XHQvLyBMaWtld2lzZSBmb3IgdGhlIGxhc3Qgb25lLlxuXHRcdGlmICggZ3JvdXBbZ3JvdXAubGVuZ3RoIC0gMV0gIT09IGxhc3RJblJhbmdlICkge1xuXHRcdFx0Z3JvdXAucHVzaChsYXN0SW5SYW5nZSk7XG5cdFx0XHRpZ25vcmVMYXN0ID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRncm91cC5mb3JFYWNoKGZ1bmN0aW9uICggY3VycmVudCwgaW5kZXggKSB7XG5cblx0XHRcdC8vIEdldCB0aGUgY3VycmVudCBzdGVwIGFuZCB0aGUgbG93ZXIgKyB1cHBlciBwb3NpdGlvbnMuXG5cdFx0XHR2YXIgc3RlcDtcblx0XHRcdHZhciBpO1xuXHRcdFx0dmFyIHE7XG5cdFx0XHR2YXIgbG93ID0gY3VycmVudDtcblx0XHRcdHZhciBoaWdoID0gZ3JvdXBbaW5kZXgrMV07XG5cdFx0XHR2YXIgbmV3UGN0O1xuXHRcdFx0dmFyIHBjdERpZmZlcmVuY2U7XG5cdFx0XHR2YXIgcGN0UG9zO1xuXHRcdFx0dmFyIHR5cGU7XG5cdFx0XHR2YXIgc3RlcHM7XG5cdFx0XHR2YXIgcmVhbFN0ZXBzO1xuXHRcdFx0dmFyIHN0ZXBzaXplO1xuXG5cdFx0XHQvLyBXaGVuIHVzaW5nICdzdGVwcycgbW9kZSwgdXNlIHRoZSBwcm92aWRlZCBzdGVwcy5cblx0XHRcdC8vIE90aGVyd2lzZSwgd2UnbGwgc3RlcCBvbiB0byB0aGUgbmV4dCBzdWJyYW5nZS5cblx0XHRcdGlmICggbW9kZSA9PT0gJ3N0ZXBzJyApIHtcblx0XHRcdFx0c3RlcCA9IHNjb3BlX1NwZWN0cnVtLnhOdW1TdGVwc1sgaW5kZXggXTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gRGVmYXVsdCB0byBhICdmdWxsJyBzdGVwLlxuXHRcdFx0aWYgKCAhc3RlcCApIHtcblx0XHRcdFx0c3RlcCA9IGhpZ2gtbG93O1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBMb3cgY2FuIGJlIDAsIHNvIHRlc3QgZm9yIGZhbHNlLiBJZiBoaWdoIGlzIHVuZGVmaW5lZCxcblx0XHRcdC8vIHdlIGFyZSBhdCB0aGUgbGFzdCBzdWJyYW5nZS4gSW5kZXggMCBpcyBhbHJlYWR5IGhhbmRsZWQuXG5cdFx0XHRpZiAoIGxvdyA9PT0gZmFsc2UgfHwgaGlnaCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdC8vIE1ha2Ugc3VyZSBzdGVwIGlzbid0IDAsIHdoaWNoIHdvdWxkIGNhdXNlIGFuIGluZmluaXRlIGxvb3AgKCM2NTQpXG5cdFx0XHRzdGVwID0gTWF0aC5tYXgoc3RlcCwgMC4wMDAwMDAxKTtcblxuXHRcdFx0Ly8gRmluZCBhbGwgc3RlcHMgaW4gdGhlIHN1YnJhbmdlLlxuXHRcdFx0Zm9yICggaSA9IGxvdzsgaSA8PSBoaWdoOyBpID0gc2FmZUluY3JlbWVudChpLCBzdGVwKSApIHtcblxuXHRcdFx0XHQvLyBHZXQgdGhlIHBlcmNlbnRhZ2UgdmFsdWUgZm9yIHRoZSBjdXJyZW50IHN0ZXAsXG5cdFx0XHRcdC8vIGNhbGN1bGF0ZSB0aGUgc2l6ZSBmb3IgdGhlIHN1YnJhbmdlLlxuXHRcdFx0XHRuZXdQY3QgPSBzY29wZV9TcGVjdHJ1bS50b1N0ZXBwaW5nKCBpICk7XG5cdFx0XHRcdHBjdERpZmZlcmVuY2UgPSBuZXdQY3QgLSBwcmV2UGN0O1xuXG5cdFx0XHRcdHN0ZXBzID0gcGN0RGlmZmVyZW5jZSAvIGRlbnNpdHk7XG5cdFx0XHRcdHJlYWxTdGVwcyA9IE1hdGgucm91bmQoc3RlcHMpO1xuXG5cdFx0XHRcdC8vIFRoaXMgcmF0aW8gcmVwcmVzZW50cyB0aGUgYW1tb3VudCBvZiBwZXJjZW50YWdlLXNwYWNlIGEgcG9pbnQgaW5kaWNhdGVzLlxuXHRcdFx0XHQvLyBGb3IgYSBkZW5zaXR5IDEgdGhlIHBvaW50cy9wZXJjZW50YWdlID0gMS4gRm9yIGRlbnNpdHkgMiwgdGhhdCBwZXJjZW50YWdlIG5lZWRzIHRvIGJlIHJlLWRldmlkZWQuXG5cdFx0XHRcdC8vIFJvdW5kIHRoZSBwZXJjZW50YWdlIG9mZnNldCB0byBhbiBldmVuIG51bWJlciwgdGhlbiBkaXZpZGUgYnkgdHdvXG5cdFx0XHRcdC8vIHRvIHNwcmVhZCB0aGUgb2Zmc2V0IG9uIGJvdGggc2lkZXMgb2YgdGhlIHJhbmdlLlxuXHRcdFx0XHRzdGVwc2l6ZSA9IHBjdERpZmZlcmVuY2UvcmVhbFN0ZXBzO1xuXG5cdFx0XHRcdC8vIERpdmlkZSBhbGwgcG9pbnRzIGV2ZW5seSwgYWRkaW5nIHRoZSBjb3JyZWN0IG51bWJlciB0byB0aGlzIHN1YnJhbmdlLlxuXHRcdFx0XHQvLyBSdW4gdXAgdG8gPD0gc28gdGhhdCAxMDAlIGdldHMgYSBwb2ludCwgZXZlbnQgaWYgaWdub3JlTGFzdCBpcyBzZXQuXG5cdFx0XHRcdGZvciAoIHEgPSAxOyBxIDw9IHJlYWxTdGVwczsgcSArPSAxICkge1xuXG5cdFx0XHRcdFx0Ly8gVGhlIHJhdGlvIGJldHdlZW4gdGhlIHJvdW5kZWQgdmFsdWUgYW5kIHRoZSBhY3R1YWwgc2l6ZSBtaWdodCBiZSB+MSUgb2ZmLlxuXHRcdFx0XHRcdC8vIENvcnJlY3QgdGhlIHBlcmNlbnRhZ2Ugb2Zmc2V0IGJ5IHRoZSBudW1iZXIgb2YgcG9pbnRzXG5cdFx0XHRcdFx0Ly8gcGVyIHN1YnJhbmdlLiBkZW5zaXR5ID0gMSB3aWxsIHJlc3VsdCBpbiAxMDAgcG9pbnRzIG9uIHRoZVxuXHRcdFx0XHRcdC8vIGZ1bGwgcmFuZ2UsIDIgZm9yIDUwLCA0IGZvciAyNSwgZXRjLlxuXHRcdFx0XHRcdHBjdFBvcyA9IHByZXZQY3QgKyAoIHEgKiBzdGVwc2l6ZSApO1xuXHRcdFx0XHRcdGluZGV4ZXNbcGN0UG9zLnRvRml4ZWQoNSldID0gWyd4JywgMF07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBEZXRlcm1pbmUgdGhlIHBvaW50IHR5cGUuXG5cdFx0XHRcdHR5cGUgPSAoZ3JvdXAuaW5kZXhPZihpKSA+IC0xKSA/IDEgOiAoIG1vZGUgPT09ICdzdGVwcycgPyAyIDogMCApO1xuXG5cdFx0XHRcdC8vIEVuZm9yY2UgdGhlICdpZ25vcmVGaXJzdCcgb3B0aW9uIGJ5IG92ZXJ3cml0aW5nIHRoZSB0eXBlIGZvciAwLlxuXHRcdFx0XHRpZiAoICFpbmRleCAmJiBpZ25vcmVGaXJzdCApIHtcblx0XHRcdFx0XHR0eXBlID0gMDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICggIShpID09PSBoaWdoICYmIGlnbm9yZUxhc3QpKSB7XG5cdFx0XHRcdFx0Ly8gTWFyayB0aGUgJ3R5cGUnIG9mIHRoaXMgcG9pbnQuIDAgPSBwbGFpbiwgMSA9IHJlYWwgdmFsdWUsIDIgPSBzdGVwIHZhbHVlLlxuXHRcdFx0XHRcdGluZGV4ZXNbbmV3UGN0LnRvRml4ZWQoNSldID0gW2ksIHR5cGVdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gVXBkYXRlIHRoZSBwZXJjZW50YWdlIGNvdW50LlxuXHRcdFx0XHRwcmV2UGN0ID0gbmV3UGN0O1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGluZGV4ZXM7XG5cdH1cblxuXHRmdW5jdGlvbiBhZGRNYXJraW5nICggc3ByZWFkLCBmaWx0ZXJGdW5jLCBmb3JtYXR0ZXIgKSB7XG5cblx0XHR2YXIgZWxlbWVudCA9IHNjb3BlX0RvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG5cdFx0dmFyIHZhbHVlU2l6ZUNsYXNzZXMgPSBbXG5cdFx0XHRvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVOb3JtYWwsXG5cdFx0XHRvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVMYXJnZSxcblx0XHRcdG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZVN1YlxuXHRcdF07XG5cdFx0dmFyIG1hcmtlclNpemVDbGFzc2VzID0gW1xuXHRcdFx0b3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlck5vcm1hbCxcblx0XHRcdG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJMYXJnZSxcblx0XHRcdG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJTdWJcblx0XHRdO1xuXHRcdHZhciB2YWx1ZU9yaWVudGF0aW9uQ2xhc3NlcyA9IFtcblx0XHRcdG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZUhvcml6b250YWwsXG5cdFx0XHRvcHRpb25zLmNzc0NsYXNzZXMudmFsdWVWZXJ0aWNhbFxuXHRcdF07XG5cdFx0dmFyIG1hcmtlck9yaWVudGF0aW9uQ2xhc3NlcyA9IFtcblx0XHRcdG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXJIb3Jpem9udGFsLFxuXHRcdFx0b3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlclZlcnRpY2FsXG5cdFx0XTtcblxuXHRcdGFkZENsYXNzKGVsZW1lbnQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5waXBzKTtcblx0XHRhZGRDbGFzcyhlbGVtZW50LCBvcHRpb25zLm9ydCA9PT0gMCA/IG9wdGlvbnMuY3NzQ2xhc3Nlcy5waXBzSG9yaXpvbnRhbCA6IG9wdGlvbnMuY3NzQ2xhc3Nlcy5waXBzVmVydGljYWwpO1xuXG5cdFx0ZnVuY3Rpb24gZ2V0Q2xhc3NlcyggdHlwZSwgc291cmNlICl7XG5cdFx0XHR2YXIgYSA9IHNvdXJjZSA9PT0gb3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlO1xuXHRcdFx0dmFyIG9yaWVudGF0aW9uQ2xhc3NlcyA9IGEgPyB2YWx1ZU9yaWVudGF0aW9uQ2xhc3NlcyA6IG1hcmtlck9yaWVudGF0aW9uQ2xhc3Nlcztcblx0XHRcdHZhciBzaXplQ2xhc3NlcyA9IGEgPyB2YWx1ZVNpemVDbGFzc2VzIDogbWFya2VyU2l6ZUNsYXNzZXM7XG5cblx0XHRcdHJldHVybiBzb3VyY2UgKyAnICcgKyBvcmllbnRhdGlvbkNsYXNzZXNbb3B0aW9ucy5vcnRdICsgJyAnICsgc2l6ZUNsYXNzZXNbdHlwZV07XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gYWRkU3ByZWFkICggb2Zmc2V0LCB2YWx1ZXMgKXtcblxuXHRcdFx0Ly8gQXBwbHkgdGhlIGZpbHRlciBmdW5jdGlvbiwgaWYgaXQgaXMgc2V0LlxuXHRcdFx0dmFsdWVzWzFdID0gKHZhbHVlc1sxXSAmJiBmaWx0ZXJGdW5jKSA/IGZpbHRlckZ1bmModmFsdWVzWzBdLCB2YWx1ZXNbMV0pIDogdmFsdWVzWzFdO1xuXG5cdFx0XHQvLyBBZGQgYSBtYXJrZXIgZm9yIGV2ZXJ5IHBvaW50XG5cdFx0XHR2YXIgbm9kZSA9IGFkZE5vZGVUbyhlbGVtZW50LCBmYWxzZSk7XG5cdFx0XHRcdG5vZGUuY2xhc3NOYW1lID0gZ2V0Q2xhc3Nlcyh2YWx1ZXNbMV0sIG9wdGlvbnMuY3NzQ2xhc3Nlcy5tYXJrZXIpO1xuXHRcdFx0XHRub2RlLnN0eWxlW29wdGlvbnMuc3R5bGVdID0gb2Zmc2V0ICsgJyUnO1xuXG5cdFx0XHQvLyBWYWx1ZXMgYXJlIG9ubHkgYXBwZW5kZWQgZm9yIHBvaW50cyBtYXJrZWQgJzEnIG9yICcyJy5cblx0XHRcdGlmICggdmFsdWVzWzFdICkge1xuXHRcdFx0XHRub2RlID0gYWRkTm9kZVRvKGVsZW1lbnQsIGZhbHNlKTtcblx0XHRcdFx0bm9kZS5jbGFzc05hbWUgPSBnZXRDbGFzc2VzKHZhbHVlc1sxXSwgb3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlKTtcblx0XHRcdFx0bm9kZS5zdHlsZVtvcHRpb25zLnN0eWxlXSA9IG9mZnNldCArICclJztcblx0XHRcdFx0bm9kZS5pbm5lclRleHQgPSBmb3JtYXR0ZXIudG8odmFsdWVzWzBdKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBBcHBlbmQgYWxsIHBvaW50cy5cblx0XHRPYmplY3Qua2V5cyhzcHJlYWQpLmZvckVhY2goZnVuY3Rpb24oYSl7XG5cdFx0XHRhZGRTcHJlYWQoYSwgc3ByZWFkW2FdKTtcblx0XHR9KTtcblxuXHRcdHJldHVybiBlbGVtZW50O1xuXHR9XG5cblx0ZnVuY3Rpb24gcmVtb3ZlUGlwcyAoICkge1xuXHRcdGlmICggc2NvcGVfUGlwcyApIHtcblx0XHRcdHJlbW92ZUVsZW1lbnQoc2NvcGVfUGlwcyk7XG5cdFx0XHRzY29wZV9QaXBzID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBwaXBzICggZ3JpZCApIHtcblxuXHRcdC8vIEZpeCAjNjY5XG5cdFx0cmVtb3ZlUGlwcygpO1xuXG5cdFx0dmFyIG1vZGUgPSBncmlkLm1vZGU7XG5cdFx0dmFyIGRlbnNpdHkgPSBncmlkLmRlbnNpdHkgfHwgMTtcblx0XHR2YXIgZmlsdGVyID0gZ3JpZC5maWx0ZXIgfHwgZmFsc2U7XG5cdFx0dmFyIHZhbHVlcyA9IGdyaWQudmFsdWVzIHx8IGZhbHNlO1xuXHRcdHZhciBzdGVwcGVkID0gZ3JpZC5zdGVwcGVkIHx8IGZhbHNlO1xuXHRcdHZhciBncm91cCA9IGdldEdyb3VwKCBtb2RlLCB2YWx1ZXMsIHN0ZXBwZWQgKTtcblx0XHR2YXIgc3ByZWFkID0gZ2VuZXJhdGVTcHJlYWQoIGRlbnNpdHksIG1vZGUsIGdyb3VwICk7XG5cdFx0dmFyIGZvcm1hdCA9IGdyaWQuZm9ybWF0IHx8IHtcblx0XHRcdHRvOiBNYXRoLnJvdW5kXG5cdFx0fTtcblxuXHRcdHNjb3BlX1BpcHMgPSBzY29wZV9UYXJnZXQuYXBwZW5kQ2hpbGQoYWRkTWFya2luZyhcblx0XHRcdHNwcmVhZCxcblx0XHRcdGZpbHRlcixcblx0XHRcdGZvcm1hdFxuXHRcdCkpO1xuXG5cdFx0cmV0dXJuIHNjb3BlX1BpcHM7XG5cdH1cblxuXG5cdC8vIFNob3J0aGFuZCBmb3IgYmFzZSBkaW1lbnNpb25zLlxuXHRmdW5jdGlvbiBiYXNlU2l6ZSAoICkge1xuXHRcdHZhciByZWN0ID0gc2NvcGVfQmFzZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgYWx0ID0gJ29mZnNldCcgKyBbJ1dpZHRoJywgJ0hlaWdodCddW29wdGlvbnMub3J0XTtcblx0XHRyZXR1cm4gb3B0aW9ucy5vcnQgPT09IDAgPyAocmVjdC53aWR0aHx8c2NvcGVfQmFzZVthbHRdKSA6IChyZWN0LmhlaWdodHx8c2NvcGVfQmFzZVthbHRdKTtcblx0fVxuXG5cdC8vIEhhbmRsZXIgZm9yIGF0dGFjaGluZyBldmVudHMgdHJvdWdoIGEgcHJveHkuXG5cdGZ1bmN0aW9uIGF0dGFjaEV2ZW50ICggZXZlbnRzLCBlbGVtZW50LCBjYWxsYmFjaywgZGF0YSApIHtcblxuXHRcdC8vIFRoaXMgZnVuY3Rpb24gY2FuIGJlIHVzZWQgdG8gJ2ZpbHRlcicgZXZlbnRzIHRvIHRoZSBzbGlkZXIuXG5cdFx0Ly8gZWxlbWVudCBpcyBhIG5vZGUsIG5vdCBhIG5vZGVMaXN0XG5cblx0XHR2YXIgbWV0aG9kID0gZnVuY3Rpb24gKCBlICl7XG5cblx0XHRcdGlmICggc2NvcGVfVGFyZ2V0Lmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBTdG9wIGlmIGFuIGFjdGl2ZSAndGFwJyB0cmFuc2l0aW9uIGlzIHRha2luZyBwbGFjZS5cblx0XHRcdGlmICggaGFzQ2xhc3Moc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFwKSApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRlID0gZml4RXZlbnQoZSwgZGF0YS5wYWdlT2Zmc2V0LCBkYXRhLnRhcmdldCB8fCBlbGVtZW50KTtcblxuXHRcdFx0Ly8gSGFuZGxlIHJlamVjdCBvZiBtdWx0aXRvdWNoXG5cdFx0XHRpZiAoICFlICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIElnbm9yZSByaWdodCBvciBtaWRkbGUgY2xpY2tzIG9uIHN0YXJ0ICM0NTRcblx0XHRcdGlmICggZXZlbnRzID09PSBhY3Rpb25zLnN0YXJ0ICYmIGUuYnV0dG9ucyAhPT0gdW5kZWZpbmVkICYmIGUuYnV0dG9ucyA+IDEgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWdub3JlIHJpZ2h0IG9yIG1pZGRsZSBjbGlja3Mgb24gc3RhcnQgIzQ1NFxuXHRcdFx0aWYgKCBkYXRhLmhvdmVyICYmIGUuYnV0dG9ucyApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyAnc3VwcG9ydHNQYXNzaXZlJyBpcyBvbmx5IHRydWUgaWYgYSBicm93c2VyIGFsc28gc3VwcG9ydHMgdG91Y2gtYWN0aW9uOiBub25lIGluIENTUy5cblx0XHRcdC8vIGlPUyBzYWZhcmkgZG9lcyBub3QsIHNvIGl0IGRvZXNuJ3QgZ2V0IHRvIGJlbmVmaXQgZnJvbSBwYXNzaXZlIHNjcm9sbGluZy4gaU9TIGRvZXMgc3VwcG9ydFxuXHRcdFx0Ly8gdG91Y2gtYWN0aW9uOiBtYW5pcHVsYXRpb24sIGJ1dCB0aGF0IGFsbG93cyBwYW5uaW5nLCB3aGljaCBicmVha3Ncblx0XHRcdC8vIHNsaWRlcnMgYWZ0ZXIgem9vbWluZy9vbiBub24tcmVzcG9uc2l2ZSBwYWdlcy5cblx0XHRcdC8vIFNlZTogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzMzExMlxuXHRcdFx0aWYgKCAhc3VwcG9ydHNQYXNzaXZlICkge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cblx0XHRcdGUuY2FsY1BvaW50ID0gZS5wb2ludHNbIG9wdGlvbnMub3J0IF07XG5cblx0XHRcdC8vIENhbGwgdGhlIGV2ZW50IGhhbmRsZXIgd2l0aCB0aGUgZXZlbnQgWyBhbmQgYWRkaXRpb25hbCBkYXRhIF0uXG5cdFx0XHRjYWxsYmFjayAoIGUsIGRhdGEgKTtcblx0XHR9O1xuXG5cdFx0dmFyIG1ldGhvZHMgPSBbXTtcblxuXHRcdC8vIEJpbmQgYSBjbG9zdXJlIG9uIHRoZSB0YXJnZXQgZm9yIGV2ZXJ5IGV2ZW50IHR5cGUuXG5cdFx0ZXZlbnRzLnNwbGl0KCcgJykuZm9yRWFjaChmdW5jdGlvbiggZXZlbnROYW1lICl7XG5cdFx0XHRlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnROYW1lLCBtZXRob2QsIHN1cHBvcnRzUGFzc2l2ZSA/IHsgcGFzc2l2ZTogdHJ1ZSB9IDogZmFsc2UpO1xuXHRcdFx0bWV0aG9kcy5wdXNoKFtldmVudE5hbWUsIG1ldGhvZF0pO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIG1ldGhvZHM7XG5cdH1cblxuXHQvLyBQcm92aWRlIGEgY2xlYW4gZXZlbnQgd2l0aCBzdGFuZGFyZGl6ZWQgb2Zmc2V0IHZhbHVlcy5cblx0ZnVuY3Rpb24gZml4RXZlbnQgKCBlLCBwYWdlT2Zmc2V0LCB0YXJnZXQgKSB7XG5cblx0XHQvLyBGaWx0ZXIgdGhlIGV2ZW50IHRvIHJlZ2lzdGVyIHRoZSB0eXBlLCB3aGljaCBjYW4gYmVcblx0XHQvLyB0b3VjaCwgbW91c2Ugb3IgcG9pbnRlci4gT2Zmc2V0IGNoYW5nZXMgbmVlZCB0byBiZVxuXHRcdC8vIG1hZGUgb24gYW4gZXZlbnQgc3BlY2lmaWMgYmFzaXMuXG5cdFx0dmFyIHRvdWNoID0gZS50eXBlLmluZGV4T2YoJ3RvdWNoJykgPT09IDA7XG5cdFx0dmFyIG1vdXNlID0gZS50eXBlLmluZGV4T2YoJ21vdXNlJykgPT09IDA7XG5cdFx0dmFyIHBvaW50ZXIgPSBlLnR5cGUuaW5kZXhPZigncG9pbnRlcicpID09PSAwO1xuXG5cdFx0dmFyIHg7XG5cdFx0dmFyIHk7XG5cblx0XHQvLyBJRTEwIGltcGxlbWVudGVkIHBvaW50ZXIgZXZlbnRzIHdpdGggYSBwcmVmaXg7XG5cdFx0aWYgKCBlLnR5cGUuaW5kZXhPZignTVNQb2ludGVyJykgPT09IDAgKSB7XG5cdFx0XHRwb2ludGVyID0gdHJ1ZTtcblx0XHR9XG5cblxuXHRcdC8vIEluIHRoZSBldmVudCB0aGF0IG11bHRpdG91Y2ggaXMgYWN0aXZhdGVkLCB0aGUgb25seSB0aGluZyBvbmUgaGFuZGxlIHNob3VsZCBiZSBjb25jZXJuZWRcblx0XHQvLyBhYm91dCBpcyB0aGUgdG91Y2hlcyB0aGF0IG9yaWdpbmF0ZWQgb24gdG9wIG9mIGl0LlxuXHRcdGlmICggdG91Y2ggJiYgb3B0aW9ucy5tdWx0aXRvdWNoICkge1xuXHRcdFx0Ly8gUmV0dXJucyB0cnVlIGlmIGEgdG91Y2ggb3JpZ2luYXRlZCBvbiB0aGUgdGFyZ2V0LlxuXHRcdFx0dmFyIGlzVG91Y2hPblRhcmdldCA9IGZ1bmN0aW9uICh0b3VjaCkge1xuXHRcdFx0XHRyZXR1cm4gdG91Y2gudGFyZ2V0ID09PSB0YXJnZXQgfHwgdGFyZ2V0LmNvbnRhaW5zKHRvdWNoLnRhcmdldCk7XG5cdFx0XHR9O1xuXHRcdFx0Ly8gSW4gdGhlIGNhc2Ugb2YgdG91Y2hzdGFydCBldmVudHMsIHdlIG5lZWQgdG8gbWFrZSBzdXJlIHRoZXJlIGlzIHN0aWxsIG5vIG1vcmUgdGhhbiBvbmVcblx0XHRcdC8vIHRvdWNoIG9uIHRoZSB0YXJnZXQgc28gd2UgbG9vayBhbW9uZ3N0IGFsbCB0b3VjaGVzLlxuXHRcdFx0aWYgKGUudHlwZSA9PT0gJ3RvdWNoc3RhcnQnKSB7XG5cdFx0XHRcdHZhciB0YXJnZXRUb3VjaGVzID0gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGUudG91Y2hlcywgaXNUb3VjaE9uVGFyZ2V0KTtcblx0XHRcdFx0Ly8gRG8gbm90IHN1cHBvcnQgbW9yZSB0aGFuIG9uZSB0b3VjaCBwZXIgaGFuZGxlLlxuXHRcdFx0XHRpZiAoIHRhcmdldFRvdWNoZXMubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0eCA9IHRhcmdldFRvdWNoZXNbMF0ucGFnZVg7XG5cdFx0XHRcdHkgPSB0YXJnZXRUb3VjaGVzWzBdLnBhZ2VZO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdC8vIEluIHRoZSBvdGhlciBjYXNlcywgZmluZCBvbiBjaGFuZ2VkVG91Y2hlcyBpcyBlbm91Z2guXG5cdFx0XHRcdHZhciB0YXJnZXRUb3VjaCA9IEFycmF5LnByb3RvdHlwZS5maW5kLmNhbGwoZS5jaGFuZ2VkVG91Y2hlcywgaXNUb3VjaE9uVGFyZ2V0KTtcblx0XHRcdFx0Ly8gQ2FuY2VsIGlmIHRoZSB0YXJnZXQgdG91Y2ggaGFzIG5vdCBtb3ZlZC5cblx0XHRcdFx0aWYgKCAhdGFyZ2V0VG91Y2ggKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHggPSB0YXJnZXRUb3VjaC5wYWdlWDtcblx0XHRcdFx0eSA9IHRhcmdldFRvdWNoLnBhZ2VZO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoIHRvdWNoICkge1xuXHRcdFx0Ly8gRml4IGJ1ZyB3aGVuIHVzZXIgdG91Y2hlcyB3aXRoIHR3byBvciBtb3JlIGZpbmdlcnMgb24gbW9iaWxlIGRldmljZXMuXG5cdFx0XHQvLyBJdCdzIHVzZWZ1bCB3aGVuIHlvdSBoYXZlIHR3byBvciBtb3JlIHNsaWRlcnMgb24gb25lIHBhZ2UsXG5cdFx0XHQvLyB0aGF0IGNhbiBiZSB0b3VjaGVkIHNpbXVsdGFuZW91c2x5LlxuXHRcdFx0Ly8gIzY0OSwgIzY2MywgIzY2OFxuXHRcdFx0aWYgKCBlLnRvdWNoZXMubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBub1VpU2xpZGVyIHN1cHBvcnRzIG9uZSBtb3ZlbWVudCBhdCBhIHRpbWUsXG5cdFx0XHQvLyBzbyB3ZSBjYW4gc2VsZWN0IHRoZSBmaXJzdCAnY2hhbmdlZFRvdWNoJy5cblx0XHRcdHggPSBlLmNoYW5nZWRUb3VjaGVzWzBdLnBhZ2VYO1xuXHRcdFx0eSA9IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVk7XG5cdFx0fVxuXG5cdFx0cGFnZU9mZnNldCA9IHBhZ2VPZmZzZXQgfHwgZ2V0UGFnZU9mZnNldChzY29wZV9Eb2N1bWVudCk7XG5cblx0XHRpZiAoIG1vdXNlIHx8IHBvaW50ZXIgKSB7XG5cdFx0XHR4ID0gZS5jbGllbnRYICsgcGFnZU9mZnNldC54O1xuXHRcdFx0eSA9IGUuY2xpZW50WSArIHBhZ2VPZmZzZXQueTtcblx0XHR9XG5cblx0XHRlLnBhZ2VPZmZzZXQgPSBwYWdlT2Zmc2V0O1xuXHRcdGUucG9pbnRzID0gW3gsIHldO1xuXHRcdGUuY3Vyc29yID0gbW91c2UgfHwgcG9pbnRlcjsgLy8gRml4ICM0MzVcblxuXHRcdHJldHVybiBlO1xuXHR9XG5cblx0Ly8gVHJhbnNsYXRlIGEgY29vcmRpbmF0ZSBpbiB0aGUgZG9jdW1lbnQgdG8gYSBwZXJjZW50YWdlIG9uIHRoZSBzbGlkZXJcblx0ZnVuY3Rpb24gY2FsY1BvaW50VG9QZXJjZW50YWdlICggY2FsY1BvaW50ICkge1xuXHRcdHZhciBsb2NhdGlvbiA9IGNhbGNQb2ludCAtIG9mZnNldChzY29wZV9CYXNlLCBvcHRpb25zLm9ydCk7XG5cdFx0dmFyIHByb3Bvc2FsID0gKCBsb2NhdGlvbiAqIDEwMCApIC8gYmFzZVNpemUoKTtcblx0XHRyZXR1cm4gb3B0aW9ucy5kaXIgPyAxMDAgLSBwcm9wb3NhbCA6IHByb3Bvc2FsO1xuXHR9XG5cblx0Ly8gRmluZCBoYW5kbGUgY2xvc2VzdCB0byBhIGNlcnRhaW4gcGVyY2VudGFnZSBvbiB0aGUgc2xpZGVyXG5cdGZ1bmN0aW9uIGdldENsb3Nlc3RIYW5kbGUgKCBwcm9wb3NhbCApIHtcblxuXHRcdHZhciBjbG9zZXN0ID0gMTAwO1xuXHRcdHZhciBoYW5kbGVOdW1iZXIgPSBmYWxzZTtcblxuXHRcdHNjb3BlX0hhbmRsZXMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGUsIGluZGV4KXtcblxuXHRcdFx0Ly8gRGlzYWJsZWQgaGFuZGxlcyBhcmUgaWdub3JlZFxuXHRcdFx0aWYgKCBoYW5kbGUuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHZhciBwb3MgPSBNYXRoLmFicyhzY29wZV9Mb2NhdGlvbnNbaW5kZXhdIC0gcHJvcG9zYWwpO1xuXG5cdFx0XHRpZiAoIHBvcyA8IGNsb3Nlc3QgKSB7XG5cdFx0XHRcdGhhbmRsZU51bWJlciA9IGluZGV4O1xuXHRcdFx0XHRjbG9zZXN0ID0gcG9zO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGhhbmRsZU51bWJlcjtcblx0fVxuXG5cdC8vIE1vdmVzIGhhbmRsZShzKSBieSBhIHBlcmNlbnRhZ2Vcblx0Ly8gKGJvb2wsICUgdG8gbW92ZSwgWyUgd2hlcmUgaGFuZGxlIHN0YXJ0ZWQsIC4uLl0sIFtpbmRleCBpbiBzY29wZV9IYW5kbGVzLCAuLi5dKVxuXHRmdW5jdGlvbiBtb3ZlSGFuZGxlcyAoIHVwd2FyZCwgcHJvcG9zYWwsIGxvY2F0aW9ucywgaGFuZGxlTnVtYmVycyApIHtcblxuXHRcdHZhciBwcm9wb3NhbHMgPSBsb2NhdGlvbnMuc2xpY2UoKTtcblxuXHRcdHZhciBiID0gWyF1cHdhcmQsIHVwd2FyZF07XG5cdFx0dmFyIGYgPSBbdXB3YXJkLCAhdXB3YXJkXTtcblxuXHRcdC8vIENvcHkgaGFuZGxlTnVtYmVycyBzbyB3ZSBkb24ndCBjaGFuZ2UgdGhlIGRhdGFzZXRcblx0XHRoYW5kbGVOdW1iZXJzID0gaGFuZGxlTnVtYmVycy5zbGljZSgpO1xuXG5cdFx0Ly8gQ2hlY2sgdG8gc2VlIHdoaWNoIGhhbmRsZSBpcyAnbGVhZGluZycuXG5cdFx0Ly8gSWYgdGhhdCBvbmUgY2FuJ3QgbW92ZSB0aGUgc2Vjb25kIGNhbid0IGVpdGhlci5cblx0XHRpZiAoIHVwd2FyZCApIHtcblx0XHRcdGhhbmRsZU51bWJlcnMucmV2ZXJzZSgpO1xuXHRcdH1cblxuXHRcdC8vIFN0ZXAgMTogZ2V0IHRoZSBtYXhpbXVtIHBlcmNlbnRhZ2UgdGhhdCBhbnkgb2YgdGhlIGhhbmRsZXMgY2FuIG1vdmVcblx0XHRpZiAoIGhhbmRsZU51bWJlcnMubGVuZ3RoID4gMSApIHtcblxuXHRcdFx0aGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlciwgbykge1xuXG5cdFx0XHRcdHZhciB0byA9IGNoZWNrSGFuZGxlUG9zaXRpb24ocHJvcG9zYWxzLCBoYW5kbGVOdW1iZXIsIHByb3Bvc2Fsc1toYW5kbGVOdW1iZXJdICsgcHJvcG9zYWwsIGJbb10sIGZbb10sIGZhbHNlKTtcblxuXHRcdFx0XHQvLyBTdG9wIGlmIG9uZSBvZiB0aGUgaGFuZGxlcyBjYW4ndCBtb3ZlLlxuXHRcdFx0XHRpZiAoIHRvID09PSBmYWxzZSApIHtcblx0XHRcdFx0XHRwcm9wb3NhbCA9IDA7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0cHJvcG9zYWwgPSB0byAtIHByb3Bvc2Fsc1toYW5kbGVOdW1iZXJdO1xuXHRcdFx0XHRcdHByb3Bvc2Fsc1toYW5kbGVOdW1iZXJdID0gdG87XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8vIElmIHVzaW5nIG9uZSBoYW5kbGUsIGNoZWNrIGJhY2t3YXJkIEFORCBmb3J3YXJkXG5cdFx0ZWxzZSB7XG5cdFx0XHRiID0gZiA9IFt0cnVlXTtcblx0XHR9XG5cblx0XHR2YXIgc3RhdGUgPSBmYWxzZTtcblxuXHRcdC8vIFN0ZXAgMjogVHJ5IHRvIHNldCB0aGUgaGFuZGxlcyB3aXRoIHRoZSBmb3VuZCBwZXJjZW50YWdlXG5cdFx0aGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlciwgbykge1xuXHRcdFx0c3RhdGUgPSBzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCBsb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSArIHByb3Bvc2FsLCBiW29dLCBmW29dKSB8fCBzdGF0ZTtcblx0XHR9KTtcblxuXHRcdC8vIFN0ZXAgMzogSWYgYSBoYW5kbGUgbW92ZWQsIGZpcmUgZXZlbnRzXG5cdFx0aWYgKCBzdGF0ZSApIHtcblx0XHRcdGhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVOdW1iZXIpe1xuXHRcdFx0XHRmaXJlRXZlbnQoJ3VwZGF0ZScsIGhhbmRsZU51bWJlcik7XG5cdFx0XHRcdGZpcmVFdmVudCgnc2xpZGUnLCBoYW5kbGVOdW1iZXIpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gRXh0ZXJuYWwgZXZlbnQgaGFuZGxpbmdcblx0ZnVuY3Rpb24gZmlyZUV2ZW50ICggZXZlbnROYW1lLCBoYW5kbGVOdW1iZXIsIHRhcCApIHtcblxuXHRcdE9iamVjdC5rZXlzKHNjb3BlX0V2ZW50cykuZm9yRWFjaChmdW5jdGlvbiggdGFyZ2V0RXZlbnQgKSB7XG5cblx0XHRcdHZhciBldmVudFR5cGUgPSB0YXJnZXRFdmVudC5zcGxpdCgnLicpWzBdO1xuXG5cdFx0XHRpZiAoIGV2ZW50TmFtZSA9PT0gZXZlbnRUeXBlICkge1xuXHRcdFx0XHRzY29wZV9FdmVudHNbdGFyZ2V0RXZlbnRdLmZvckVhY2goZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXG5cdFx0XHRcdFx0Y2FsbGJhY2suY2FsbChcblx0XHRcdFx0XHRcdC8vIFVzZSB0aGUgc2xpZGVyIHB1YmxpYyBBUEkgYXMgdGhlIHNjb3BlICgndGhpcycpXG5cdFx0XHRcdFx0XHRzY29wZV9TZWxmLFxuXHRcdFx0XHRcdFx0Ly8gUmV0dXJuIHZhbHVlcyBhcyBhcnJheSwgc28gYXJnXzFbYXJnXzJdIGlzIGFsd2F5cyB2YWxpZC5cblx0XHRcdFx0XHRcdHNjb3BlX1ZhbHVlcy5tYXAob3B0aW9ucy5mb3JtYXQudG8pLFxuXHRcdFx0XHRcdFx0Ly8gSGFuZGxlIGluZGV4LCAwIG9yIDFcblx0XHRcdFx0XHRcdGhhbmRsZU51bWJlcixcblx0XHRcdFx0XHRcdC8vIFVuZm9ybWF0dGVkIHNsaWRlciB2YWx1ZXNcblx0XHRcdFx0XHRcdHNjb3BlX1ZhbHVlcy5zbGljZSgpLFxuXHRcdFx0XHRcdFx0Ly8gRXZlbnQgaXMgZmlyZWQgYnkgdGFwLCB0cnVlIG9yIGZhbHNlXG5cdFx0XHRcdFx0XHR0YXAgfHwgZmFsc2UsXG5cdFx0XHRcdFx0XHQvLyBMZWZ0IG9mZnNldCBvZiB0aGUgaGFuZGxlLCBpbiByZWxhdGlvbiB0byB0aGUgc2xpZGVyXG5cdFx0XHRcdFx0XHRzY29wZV9Mb2NhdGlvbnMuc2xpY2UoKVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblxuXHQvLyBGaXJlICdlbmQnIHdoZW4gYSBtb3VzZSBvciBwZW4gbGVhdmVzIHRoZSBkb2N1bWVudC5cblx0ZnVuY3Rpb24gZG9jdW1lbnRMZWF2ZSAoIGV2ZW50LCBkYXRhICkge1xuXHRcdGlmICggZXZlbnQudHlwZSA9PT0gXCJtb3VzZW91dFwiICYmIGV2ZW50LnRhcmdldC5ub2RlTmFtZSA9PT0gXCJIVE1MXCIgJiYgZXZlbnQucmVsYXRlZFRhcmdldCA9PT0gbnVsbCApe1xuXHRcdFx0ZXZlbnRFbmQgKGV2ZW50LCBkYXRhKTtcblx0XHR9XG5cdH1cblxuXHQvLyBIYW5kbGUgbW92ZW1lbnQgb24gZG9jdW1lbnQgZm9yIGhhbmRsZSBhbmQgcmFuZ2UgZHJhZy5cblx0ZnVuY3Rpb24gZXZlbnRNb3ZlICggZXZlbnQsIGRhdGEgKSB7XG5cblx0XHQvLyBGaXggIzQ5OFxuXHRcdC8vIENoZWNrIHZhbHVlIG9mIC5idXR0b25zIGluICdzdGFydCcgdG8gd29yayBhcm91bmQgYSBidWcgaW4gSUUxMCBtb2JpbGUgKGRhdGEuYnV0dG9uc1Byb3BlcnR5KS5cblx0XHQvLyBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzkyNzAwNS9tb2JpbGUtaWUxMC13aW5kb3dzLXBob25lLWJ1dHRvbnMtcHJvcGVydHktb2YtcG9pbnRlcm1vdmUtZXZlbnQtYWx3YXlzLXplcm9cblx0XHQvLyBJRTkgaGFzIC5idXR0b25zIGFuZCAud2hpY2ggemVybyBvbiBtb3VzZW1vdmUuXG5cdFx0Ly8gRmlyZWZveCBicmVha3MgdGhlIHNwZWMgTUROIGRlZmluZXMuXG5cdFx0aWYgKCBuYXZpZ2F0b3IuYXBwVmVyc2lvbi5pbmRleE9mKFwiTVNJRSA5XCIpID09PSAtMSAmJiBldmVudC5idXR0b25zID09PSAwICYmIGRhdGEuYnV0dG9uc1Byb3BlcnR5ICE9PSAwICkge1xuXHRcdFx0cmV0dXJuIGV2ZW50RW5kKGV2ZW50LCBkYXRhKTtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBpZiB3ZSBhcmUgbW92aW5nIHVwIG9yIGRvd25cblx0XHR2YXIgbW92ZW1lbnQgPSAob3B0aW9ucy5kaXIgPyAtMSA6IDEpICogKGV2ZW50LmNhbGNQb2ludCAtIGRhdGEuc3RhcnRDYWxjUG9pbnQpO1xuXG5cdFx0Ly8gQ29udmVydCB0aGUgbW92ZW1lbnQgaW50byBhIHBlcmNlbnRhZ2Ugb2YgdGhlIHNsaWRlciB3aWR0aC9oZWlnaHRcblx0XHR2YXIgcHJvcG9zYWwgPSAobW92ZW1lbnQgKiAxMDApIC8gZGF0YS5iYXNlU2l6ZTtcblxuXHRcdG1vdmVIYW5kbGVzKG1vdmVtZW50ID4gMCwgcHJvcG9zYWwsIGRhdGEubG9jYXRpb25zLCBkYXRhLmhhbmRsZU51bWJlcnMpO1xuXHR9XG5cblx0Ly8gVW5iaW5kIG1vdmUgZXZlbnRzIG9uIGRvY3VtZW50LCBjYWxsIGNhbGxiYWNrcy5cblx0ZnVuY3Rpb24gZXZlbnRFbmQgKCBldmVudCwgZGF0YSApIHtcblxuXHRcdC8vIFRoZSBoYW5kbGUgaXMgbm8gbG9uZ2VyIGFjdGl2ZSwgc28gcmVtb3ZlIHRoZSBjbGFzcy5cblx0XHRpZiAoIGRhdGEuaGFuZGxlICkge1xuXHRcdFx0cmVtb3ZlQ2xhc3MoZGF0YS5oYW5kbGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5hY3RpdmUpO1xuXHRcdFx0c2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50IC09IDE7XG5cdFx0fVxuXG5cdFx0Ly8gVW5iaW5kIHRoZSBtb3ZlIGFuZCBlbmQgZXZlbnRzLCB3aGljaCBhcmUgYWRkZWQgb24gJ3N0YXJ0Jy5cblx0XHRkYXRhLmxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uKCBjICkge1xuXHRcdFx0c2NvcGVfRG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoY1swXSwgY1sxXSk7XG5cdFx0fSk7XG5cblx0XHRpZiAoIHNjb3BlX0FjdGl2ZUhhbmRsZXNDb3VudCA9PT0gMCApIHtcblx0XHRcdC8vIFJlbW92ZSBkcmFnZ2luZyBjbGFzcy5cblx0XHRcdHJlbW92ZUNsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmRyYWcpO1xuXHRcdFx0c2V0WmluZGV4KCk7XG5cblx0XHRcdC8vIFJlbW92ZSBjdXJzb3Igc3R5bGVzIGFuZCB0ZXh0LXNlbGVjdGlvbiBldmVudHMgYm91bmQgdG8gdGhlIGJvZHkuXG5cdFx0XHRpZiAoIGV2ZW50LmN1cnNvciApIHtcblx0XHRcdFx0c2NvcGVfQm9keS5zdHlsZS5jdXJzb3IgPSAnJztcblx0XHRcdFx0c2NvcGVfQm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIHByZXZlbnREZWZhdWx0KTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRkYXRhLmhhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVOdW1iZXIpe1xuXHRcdFx0ZmlyZUV2ZW50KCdjaGFuZ2UnLCBoYW5kbGVOdW1iZXIpO1xuXHRcdFx0ZmlyZUV2ZW50KCdzZXQnLCBoYW5kbGVOdW1iZXIpO1xuXHRcdFx0ZmlyZUV2ZW50KCdlbmQnLCBoYW5kbGVOdW1iZXIpO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gQmluZCBtb3ZlIGV2ZW50cyBvbiBkb2N1bWVudC5cblx0ZnVuY3Rpb24gZXZlbnRTdGFydCAoIGV2ZW50LCBkYXRhICkge1xuXG5cdFx0dmFyIGhhbmRsZTtcblx0XHRpZiAoIGRhdGEuaGFuZGxlTnVtYmVycy5sZW5ndGggPT09IDEgKSB7XG5cblx0XHRcdHZhciBoYW5kbGVPcmlnaW4gPSBzY29wZV9IYW5kbGVzW2RhdGEuaGFuZGxlTnVtYmVyc1swXV07XG5cblx0XHRcdC8vIElnbm9yZSAnZGlzYWJsZWQnIGhhbmRsZXNcblx0XHRcdGlmICggaGFuZGxlT3JpZ2luLmhhc0F0dHJpYnV0ZSgnZGlzYWJsZWQnKSApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRoYW5kbGUgPSBoYW5kbGVPcmlnaW4uY2hpbGRyZW5bMF07XG5cdFx0XHRzY29wZV9BY3RpdmVIYW5kbGVzQ291bnQgKz0gMTtcblxuXHRcdFx0Ly8gTWFyayB0aGUgaGFuZGxlIGFzICdhY3RpdmUnIHNvIGl0IGNhbiBiZSBzdHlsZWQuXG5cdFx0XHRhZGRDbGFzcyhoYW5kbGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5hY3RpdmUpO1xuXHRcdH1cblxuXHRcdC8vIEEgZHJhZyBzaG91bGQgbmV2ZXIgcHJvcGFnYXRlIHVwIHRvIHRoZSAndGFwJyBldmVudC5cblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuXHRcdC8vIFJlY29yZCB0aGUgZXZlbnQgbGlzdGVuZXJzLlxuXHRcdHZhciBsaXN0ZW5lcnMgPSBbXTtcblxuXHRcdC8vIEF0dGFjaCB0aGUgbW92ZSBhbmQgZW5kIGV2ZW50cy5cblx0XHR2YXIgbW92ZUV2ZW50ID0gYXR0YWNoRXZlbnQoYWN0aW9ucy5tb3ZlLCBzY29wZV9Eb2N1bWVudEVsZW1lbnQsIGV2ZW50TW92ZSwge1xuXHRcdFx0Ly8gVGhlIGV2ZW50IHRhcmdldCBoYXMgY2hhbmdlZCBzbyB3ZSBuZWVkIHRvIHByb3BhZ2F0ZSB0aGUgb3JpZ2luYWwgb25lIHNvIHRoYXQgd2Uga2VlcFxuXHRcdFx0Ly8gcmVseWluZyBvbiBpdCB0byBleHRyYWN0IHRhcmdldCB0b3VjaGVzLlxuXHRcdFx0dGFyZ2V0OiBldmVudC50YXJnZXQsXG5cdFx0XHRoYW5kbGU6IGhhbmRsZSxcblx0XHRcdGxpc3RlbmVyczogbGlzdGVuZXJzLFxuXHRcdFx0c3RhcnRDYWxjUG9pbnQ6IGV2ZW50LmNhbGNQb2ludCxcblx0XHRcdGJhc2VTaXplOiBiYXNlU2l6ZSgpLFxuXHRcdFx0cGFnZU9mZnNldDogZXZlbnQucGFnZU9mZnNldCxcblx0XHRcdGhhbmRsZU51bWJlcnM6IGRhdGEuaGFuZGxlTnVtYmVycyxcblx0XHRcdGJ1dHRvbnNQcm9wZXJ0eTogZXZlbnQuYnV0dG9ucyxcblx0XHRcdGxvY2F0aW9uczogc2NvcGVfTG9jYXRpb25zLnNsaWNlKClcblx0XHR9KTtcblxuXHRcdHZhciBlbmRFdmVudCA9IGF0dGFjaEV2ZW50KGFjdGlvbnMuZW5kLCBzY29wZV9Eb2N1bWVudEVsZW1lbnQsIGV2ZW50RW5kLCB7XG5cdFx0XHR0YXJnZXQ6IGV2ZW50LnRhcmdldCxcblx0XHRcdGhhbmRsZTogaGFuZGxlLFxuXHRcdFx0bGlzdGVuZXJzOiBsaXN0ZW5lcnMsXG5cdFx0XHRoYW5kbGVOdW1iZXJzOiBkYXRhLmhhbmRsZU51bWJlcnNcblx0XHR9KTtcblxuXHRcdHZhciBvdXRFdmVudCA9IGF0dGFjaEV2ZW50KFwibW91c2VvdXRcIiwgc2NvcGVfRG9jdW1lbnRFbGVtZW50LCBkb2N1bWVudExlYXZlLCB7XG5cdFx0XHR0YXJnZXQ6IGV2ZW50LnRhcmdldCxcblx0XHRcdGhhbmRsZTogaGFuZGxlLFxuXHRcdFx0bGlzdGVuZXJzOiBsaXN0ZW5lcnMsXG5cdFx0XHRoYW5kbGVOdW1iZXJzOiBkYXRhLmhhbmRsZU51bWJlcnNcblx0XHR9KTtcblxuXHRcdC8vIFdlIHdhbnQgdG8gbWFrZSBzdXJlIHdlIHB1c2hlZCB0aGUgbGlzdGVuZXJzIGluIHRoZSBsaXN0ZW5lciBsaXN0IHJhdGhlciB0aGFuIGNyZWF0aW5nXG5cdFx0Ly8gYSBuZXcgb25lIGFzIGl0IGhhcyBhbHJlYWR5IGJlZW4gcGFzc2VkIHRvIHRoZSBldmVudCBoYW5kbGVycy5cblx0XHRsaXN0ZW5lcnMucHVzaC5hcHBseShsaXN0ZW5lcnMsIG1vdmVFdmVudC5jb25jYXQoZW5kRXZlbnQsIG91dEV2ZW50KSk7XG5cblx0XHQvLyBUZXh0IHNlbGVjdGlvbiBpc24ndCBhbiBpc3N1ZSBvbiB0b3VjaCBkZXZpY2VzLFxuXHRcdC8vIHNvIGFkZGluZyBjdXJzb3Igc3R5bGVzIGNhbiBiZSBza2lwcGVkLlxuXHRcdGlmICggZXZlbnQuY3Vyc29yICkge1xuXG5cdFx0XHQvLyBQcmV2ZW50IHRoZSAnSScgY3Vyc29yIGFuZCBleHRlbmQgdGhlIHJhbmdlLWRyYWcgY3Vyc29yLlxuXHRcdFx0c2NvcGVfQm9keS5zdHlsZS5jdXJzb3IgPSBnZXRDb21wdXRlZFN0eWxlKGV2ZW50LnRhcmdldCkuY3Vyc29yO1xuXG5cdFx0XHQvLyBNYXJrIHRoZSB0YXJnZXQgd2l0aCBhIGRyYWdnaW5nIHN0YXRlLlxuXHRcdFx0aWYgKCBzY29wZV9IYW5kbGVzLmxlbmd0aCA+IDEgKSB7XG5cdFx0XHRcdGFkZENsYXNzKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmRyYWcpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBQcmV2ZW50IHRleHQgc2VsZWN0aW9uIHdoZW4gZHJhZ2dpbmcgdGhlIGhhbmRsZXMuXG5cdFx0XHQvLyBJbiBub1VpU2xpZGVyIDw9IDkuMi4wLCB0aGlzIHdhcyBoYW5kbGVkIGJ5IGNhbGxpbmcgcHJldmVudERlZmF1bHQgb24gbW91c2UvdG91Y2ggc3RhcnQvbW92ZSxcblx0XHRcdC8vIHdoaWNoIGlzIHNjcm9sbCBibG9ja2luZy4gVGhlIHNlbGVjdHN0YXJ0IGV2ZW50IGlzIHN1cHBvcnRlZCBieSBGaXJlRm94IHN0YXJ0aW5nIGZyb20gdmVyc2lvbiA1Mixcblx0XHRcdC8vIG1lYW5pbmcgdGhlIG9ubHkgaG9sZG91dCBpcyBpT1MgU2FmYXJpLiBUaGlzIGRvZXNuJ3QgbWF0dGVyOiB0ZXh0IHNlbGVjdGlvbiBpc24ndCB0cmlnZ2VyZWQgdGhlcmUuXG5cdFx0XHQvLyBUaGUgJ2N1cnNvcicgZmxhZyBpcyBmYWxzZS5cblx0XHRcdC8vIFNlZTogaHR0cDovL2Nhbml1c2UuY29tLyNzZWFyY2g9c2VsZWN0c3RhcnRcblx0XHRcdHNjb3BlX0JvZHkuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCBwcmV2ZW50RGVmYXVsdCwgZmFsc2UpO1xuXHRcdH1cblxuXHRcdGRhdGEuaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcil7XG5cdFx0XHRmaXJlRXZlbnQoJ3N0YXJ0JywgaGFuZGxlTnVtYmVyKTtcblx0XHR9KTtcblx0fVxuXG5cdC8vIE1vdmUgY2xvc2VzdCBoYW5kbGUgdG8gdGFwcGVkIGxvY2F0aW9uLlxuXHRmdW5jdGlvbiBldmVudFRhcCAoIGV2ZW50ICkge1xuXG5cdFx0Ly8gVGhlIHRhcCBldmVudCBzaG91bGRuJ3QgcHJvcGFnYXRlIHVwXG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cblx0XHR2YXIgcHJvcG9zYWwgPSBjYWxjUG9pbnRUb1BlcmNlbnRhZ2UoZXZlbnQuY2FsY1BvaW50KTtcblx0XHR2YXIgaGFuZGxlTnVtYmVyID0gZ2V0Q2xvc2VzdEhhbmRsZShwcm9wb3NhbCk7XG5cblx0XHQvLyBUYWNrbGUgdGhlIGNhc2UgdGhhdCBhbGwgaGFuZGxlcyBhcmUgJ2Rpc2FibGVkJy5cblx0XHRpZiAoIGhhbmRsZU51bWJlciA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0Ly8gRmxhZyB0aGUgc2xpZGVyIGFzIGl0IGlzIG5vdyBpbiBhIHRyYW5zaXRpb25hbCBzdGF0ZS5cblx0XHQvLyBUcmFuc2l0aW9uIHRha2VzIGEgY29uZmlndXJhYmxlIGFtb3VudCBvZiBtcyAoZGVmYXVsdCAzMDApLiBSZS1lbmFibGUgdGhlIHNsaWRlciBhZnRlciB0aGF0LlxuXHRcdGlmICggIW9wdGlvbnMuZXZlbnRzLnNuYXAgKSB7XG5cdFx0XHRhZGRDbGFzc0ZvcihzY29wZV9UYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50YXAsIG9wdGlvbnMuYW5pbWF0aW9uRHVyYXRpb24pO1xuXHRcdH1cblxuXHRcdHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHByb3Bvc2FsLCB0cnVlLCB0cnVlKTtcblxuXHRcdHNldFppbmRleCgpO1xuXG5cdFx0ZmlyZUV2ZW50KCdzbGlkZScsIGhhbmRsZU51bWJlciwgdHJ1ZSk7XG5cdFx0ZmlyZUV2ZW50KCd1cGRhdGUnLCBoYW5kbGVOdW1iZXIsIHRydWUpO1xuXHRcdGZpcmVFdmVudCgnY2hhbmdlJywgaGFuZGxlTnVtYmVyLCB0cnVlKTtcblx0XHRmaXJlRXZlbnQoJ3NldCcsIGhhbmRsZU51bWJlciwgdHJ1ZSk7XG5cblx0XHRpZiAoIG9wdGlvbnMuZXZlbnRzLnNuYXAgKSB7XG5cdFx0XHRldmVudFN0YXJ0KGV2ZW50LCB7IGhhbmRsZU51bWJlcnM6IFtoYW5kbGVOdW1iZXJdIH0pO1xuXHRcdH1cblx0fVxuXG5cdC8vIEZpcmVzIGEgJ2hvdmVyJyBldmVudCBmb3IgYSBob3ZlcmVkIG1vdXNlL3BlbiBwb3NpdGlvbi5cblx0ZnVuY3Rpb24gZXZlbnRIb3ZlciAoIGV2ZW50ICkge1xuXG5cdFx0dmFyIHByb3Bvc2FsID0gY2FsY1BvaW50VG9QZXJjZW50YWdlKGV2ZW50LmNhbGNQb2ludCk7XG5cblx0XHR2YXIgdG8gPSBzY29wZV9TcGVjdHJ1bS5nZXRTdGVwKHByb3Bvc2FsKTtcblx0XHR2YXIgdmFsdWUgPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcodG8pO1xuXG5cdFx0T2JqZWN0LmtleXMoc2NvcGVfRXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uKCB0YXJnZXRFdmVudCApIHtcblx0XHRcdGlmICggJ2hvdmVyJyA9PT0gdGFyZ2V0RXZlbnQuc3BsaXQoJy4nKVswXSApIHtcblx0XHRcdFx0c2NvcGVfRXZlbnRzW3RhcmdldEV2ZW50XS5mb3JFYWNoKGZ1bmN0aW9uKCBjYWxsYmFjayApIHtcblx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKCBzY29wZV9TZWxmLCB2YWx1ZSApO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8vIEF0dGFjaCBldmVudHMgdG8gc2V2ZXJhbCBzbGlkZXIgcGFydHMuXG5cdGZ1bmN0aW9uIGJpbmRTbGlkZXJFdmVudHMgKCBiZWhhdmlvdXIgKSB7XG5cblx0XHQvLyBBdHRhY2ggdGhlIHN0YW5kYXJkIGRyYWcgZXZlbnQgdG8gdGhlIGhhbmRsZXMuXG5cdFx0aWYgKCAhYmVoYXZpb3VyLmZpeGVkICkge1xuXG5cdFx0XHRzY29wZV9IYW5kbGVzLmZvckVhY2goZnVuY3Rpb24oIGhhbmRsZSwgaW5kZXggKXtcblxuXHRcdFx0XHQvLyBUaGVzZSBldmVudHMgYXJlIG9ubHkgYm91bmQgdG8gdGhlIHZpc3VhbCBoYW5kbGVcblx0XHRcdFx0Ly8gZWxlbWVudCwgbm90IHRoZSAncmVhbCcgb3JpZ2luIGVsZW1lbnQuXG5cdFx0XHRcdGF0dGFjaEV2ZW50ICggYWN0aW9ucy5zdGFydCwgaGFuZGxlLmNoaWxkcmVuWzBdLCBldmVudFN0YXJ0LCB7XG5cdFx0XHRcdFx0aGFuZGxlTnVtYmVyczogW2luZGV4XVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdC8vIEF0dGFjaCB0aGUgdGFwIGV2ZW50IHRvIHRoZSBzbGlkZXIgYmFzZS5cblx0XHRpZiAoIGJlaGF2aW91ci50YXAgKSB7XG5cdFx0XHRhdHRhY2hFdmVudCAoYWN0aW9ucy5zdGFydCwgc2NvcGVfQmFzZSwgZXZlbnRUYXAsIHt9KTtcblx0XHR9XG5cblx0XHQvLyBGaXJlIGhvdmVyIGV2ZW50c1xuXHRcdGlmICggYmVoYXZpb3VyLmhvdmVyICkge1xuXHRcdFx0YXR0YWNoRXZlbnQgKGFjdGlvbnMubW92ZSwgc2NvcGVfQmFzZSwgZXZlbnRIb3ZlciwgeyBob3ZlcjogdHJ1ZSB9KTtcblx0XHR9XG5cblx0XHQvLyBNYWtlIHRoZSByYW5nZSBkcmFnZ2FibGUuXG5cdFx0aWYgKCBiZWhhdmlvdXIuZHJhZyApe1xuXG5cdFx0XHRzY29wZV9Db25uZWN0cy5mb3JFYWNoKGZ1bmN0aW9uKCBjb25uZWN0LCBpbmRleCApe1xuXG5cdFx0XHRcdGlmICggY29ubmVjdCA9PT0gZmFsc2UgfHwgaW5kZXggPT09IDAgfHwgaW5kZXggPT09IHNjb3BlX0Nvbm5lY3RzLmxlbmd0aCAtIDEgKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIGhhbmRsZUJlZm9yZSA9IHNjb3BlX0hhbmRsZXNbaW5kZXggLSAxXTtcblx0XHRcdFx0dmFyIGhhbmRsZUFmdGVyID0gc2NvcGVfSGFuZGxlc1tpbmRleF07XG5cdFx0XHRcdHZhciBldmVudEhvbGRlcnMgPSBbY29ubmVjdF07XG5cblx0XHRcdFx0YWRkQ2xhc3MoY29ubmVjdCwgb3B0aW9ucy5jc3NDbGFzc2VzLmRyYWdnYWJsZSk7XG5cblx0XHRcdFx0Ly8gV2hlbiB0aGUgcmFuZ2UgaXMgZml4ZWQsIHRoZSBlbnRpcmUgcmFuZ2UgY2FuXG5cdFx0XHRcdC8vIGJlIGRyYWdnZWQgYnkgdGhlIGhhbmRsZXMuIFRoZSBoYW5kbGUgaW4gdGhlIGZpcnN0XG5cdFx0XHRcdC8vIG9yaWdpbiB3aWxsIHByb3BhZ2F0ZSB0aGUgc3RhcnQgZXZlbnQgdXB3YXJkLFxuXHRcdFx0XHQvLyBidXQgaXQgbmVlZHMgdG8gYmUgYm91bmQgbWFudWFsbHkgb24gdGhlIG90aGVyLlxuXHRcdFx0XHRpZiAoIGJlaGF2aW91ci5maXhlZCApIHtcblx0XHRcdFx0XHRldmVudEhvbGRlcnMucHVzaChoYW5kbGVCZWZvcmUuY2hpbGRyZW5bMF0pO1xuXHRcdFx0XHRcdGV2ZW50SG9sZGVycy5wdXNoKGhhbmRsZUFmdGVyLmNoaWxkcmVuWzBdKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGV2ZW50SG9sZGVycy5mb3JFYWNoKGZ1bmN0aW9uKCBldmVudEhvbGRlciApIHtcblx0XHRcdFx0XHRhdHRhY2hFdmVudCAoIGFjdGlvbnMuc3RhcnQsIGV2ZW50SG9sZGVyLCBldmVudFN0YXJ0LCB7XG5cdFx0XHRcdFx0XHRoYW5kbGVzOiBbaGFuZGxlQmVmb3JlLCBoYW5kbGVBZnRlcl0sXG5cdFx0XHRcdFx0XHRoYW5kbGVOdW1iZXJzOiBbaW5kZXggLSAxLCBpbmRleF1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXG5cdC8vIFNwbGl0IG91dCB0aGUgaGFuZGxlIHBvc2l0aW9uaW5nIGxvZ2ljIHNvIHRoZSBNb3ZlIGV2ZW50IGNhbiB1c2UgaXQsIHRvb1xuXHRmdW5jdGlvbiBjaGVja0hhbmRsZVBvc2l0aW9uICggcmVmZXJlbmNlLCBoYW5kbGVOdW1iZXIsIHRvLCBsb29rQmFja3dhcmQsIGxvb2tGb3J3YXJkLCBnZXRWYWx1ZSApIHtcblxuXHRcdC8vIEZvciBzbGlkZXJzIHdpdGggbXVsdGlwbGUgaGFuZGxlcywgbGltaXQgbW92ZW1lbnQgdG8gdGhlIG90aGVyIGhhbmRsZS5cblx0XHQvLyBBcHBseSB0aGUgbWFyZ2luIG9wdGlvbiBieSBhZGRpbmcgaXQgdG8gdGhlIGhhbmRsZSBwb3NpdGlvbnMuXG5cdFx0aWYgKCBzY29wZV9IYW5kbGVzLmxlbmd0aCA+IDEgKSB7XG5cblx0XHRcdGlmICggbG9va0JhY2t3YXJkICYmIGhhbmRsZU51bWJlciA+IDAgKSB7XG5cdFx0XHRcdHRvID0gTWF0aC5tYXgodG8sIHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgLSAxXSArIG9wdGlvbnMubWFyZ2luKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBsb29rRm9yd2FyZCAmJiBoYW5kbGVOdW1iZXIgPCBzY29wZV9IYW5kbGVzLmxlbmd0aCAtIDEgKSB7XG5cdFx0XHRcdHRvID0gTWF0aC5taW4odG8sIHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgKyAxXSAtIG9wdGlvbnMubWFyZ2luKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHQvLyBUaGUgbGltaXQgb3B0aW9uIGhhcyB0aGUgb3Bwb3NpdGUgZWZmZWN0LCBsaW1pdGluZyBoYW5kbGVzIHRvIGFcblx0XHQvLyBtYXhpbXVtIGRpc3RhbmNlIGZyb20gYW5vdGhlci4gTGltaXQgbXVzdCBiZSA+IDAsIGFzIG90aGVyd2lzZVxuXHRcdC8vIGhhbmRsZXMgd291bGQgYmUgdW5tb3ZlYWJsZS5cblx0XHRpZiAoIHNjb3BlX0hhbmRsZXMubGVuZ3RoID4gMSAmJiBvcHRpb25zLmxpbWl0ICkge1xuXG5cdFx0XHRpZiAoIGxvb2tCYWNrd2FyZCAmJiBoYW5kbGVOdW1iZXIgPiAwICkge1xuXHRcdFx0XHR0byA9IE1hdGgubWluKHRvLCByZWZlcmVuY2VbaGFuZGxlTnVtYmVyIC0gMV0gKyBvcHRpb25zLmxpbWl0KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBsb29rRm9yd2FyZCAmJiBoYW5kbGVOdW1iZXIgPCBzY29wZV9IYW5kbGVzLmxlbmd0aCAtIDEgKSB7XG5cdFx0XHRcdHRvID0gTWF0aC5tYXgodG8sIHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgKyAxXSAtIG9wdGlvbnMubGltaXQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFRoZSBwYWRkaW5nIG9wdGlvbiBrZWVwcyB0aGUgaGFuZGxlcyBhIGNlcnRhaW4gZGlzdGFuY2UgZnJvbSB0aGVcblx0XHQvLyBlZGdlcyBvZiB0aGUgc2xpZGVyLiBQYWRkaW5nIG11c3QgYmUgPiAwLlxuXHRcdGlmICggb3B0aW9ucy5wYWRkaW5nICkge1xuXG5cdFx0XHRpZiAoIGhhbmRsZU51bWJlciA9PT0gMCApIHtcblx0XHRcdFx0dG8gPSBNYXRoLm1heCh0bywgb3B0aW9ucy5wYWRkaW5nKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBoYW5kbGVOdW1iZXIgPT09IHNjb3BlX0hhbmRsZXMubGVuZ3RoIC0gMSApIHtcblx0XHRcdFx0dG8gPSBNYXRoLm1pbih0bywgMTAwIC0gb3B0aW9ucy5wYWRkaW5nKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHR0byA9IHNjb3BlX1NwZWN0cnVtLmdldFN0ZXAodG8pO1xuXG5cdFx0Ly8gTGltaXQgcGVyY2VudGFnZSB0byB0aGUgMCAtIDEwMCByYW5nZVxuXHRcdHRvID0gbGltaXQodG8pO1xuXG5cdFx0Ly8gUmV0dXJuIGZhbHNlIGlmIGhhbmRsZSBjYW4ndCBtb3ZlXG5cdFx0aWYgKCB0byA9PT0gcmVmZXJlbmNlW2hhbmRsZU51bWJlcl0gJiYgIWdldFZhbHVlICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiB0bztcblx0fVxuXG5cdGZ1bmN0aW9uIHRvUGN0ICggcGN0ICkge1xuXHRcdHJldHVybiBwY3QgKyAnJSc7XG5cdH1cblxuXHQvLyBVcGRhdGVzIHNjb3BlX0xvY2F0aW9ucyBhbmQgc2NvcGVfVmFsdWVzLCB1cGRhdGVzIHZpc3VhbCBzdGF0ZVxuXHRmdW5jdGlvbiB1cGRhdGVIYW5kbGVQb3NpdGlvbiAoIGhhbmRsZU51bWJlciwgdG8gKSB7XG5cblx0XHQvLyBVcGRhdGUgbG9jYXRpb25zLlxuXHRcdHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdID0gdG87XG5cblx0XHQvLyBDb252ZXJ0IHRoZSB2YWx1ZSB0byB0aGUgc2xpZGVyIHN0ZXBwaW5nL3JhbmdlLlxuXHRcdHNjb3BlX1ZhbHVlc1toYW5kbGVOdW1iZXJdID0gc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKHRvKTtcblxuXHRcdC8vIENhbGxlZCBzeW5jaHJvbm91c2x5IG9yIG9uIHRoZSBuZXh0IGFuaW1hdGlvbkZyYW1lXG5cdFx0dmFyIHN0YXRlVXBkYXRlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRzY29wZV9IYW5kbGVzW2hhbmRsZU51bWJlcl0uc3R5bGVbb3B0aW9ucy5zdHlsZV0gPSB0b1BjdCh0byk7XG5cdFx0XHR1cGRhdGVDb25uZWN0KGhhbmRsZU51bWJlcik7XG5cdFx0XHR1cGRhdGVDb25uZWN0KGhhbmRsZU51bWJlciArIDEpO1xuXHRcdH07XG5cblx0XHQvLyBTZXQgdGhlIGhhbmRsZSB0byB0aGUgbmV3IHBvc2l0aW9uLlxuXHRcdC8vIFVzZSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgZm9yIGVmZmljaWVudCBwYWludGluZy5cblx0XHQvLyBObyBzaWduaWZpY2FudCBlZmZlY3QgaW4gQ2hyb21lLCBFZGdlIHNlZXMgZHJhbWF0aWMgcGVyZm9ybWFjZSBpbXByb3ZlbWVudHMuXG5cdFx0Ly8gT3B0aW9uIHRvIGRpc2FibGUgaXMgdXNlZnVsIGZvciB1bml0IHRlc3RzLCBhbmQgc2luZ2xlLXN0ZXAgZGVidWdnaW5nLlxuXHRcdGlmICggd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSAmJiBvcHRpb25zLnVzZVJlcXVlc3RBbmltYXRpb25GcmFtZSApIHtcblx0XHRcdHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc3RhdGVVcGRhdGUpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdGF0ZVVwZGF0ZSgpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHNldFppbmRleCAoICkge1xuXG5cdFx0c2NvcGVfSGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcil7XG5cdFx0XHQvLyBIYW5kbGVzIGJlZm9yZSB0aGUgc2xpZGVyIG1pZGRsZSBhcmUgc3RhY2tlZCBsYXRlciA9IGhpZ2hlcixcblx0XHRcdC8vIEhhbmRsZXMgYWZ0ZXIgdGhlIG1pZGRsZSBsYXRlciBpcyBsb3dlclxuXHRcdFx0Ly8gW1s3XSBbOF0gLi4uLi4uLi4uLiB8IC4uLi4uLi4uLi4gWzVdIFs0XVxuXHRcdFx0dmFyIGRpciA9IChzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSA+IDUwID8gLTEgOiAxKTtcblx0XHRcdHZhciB6SW5kZXggPSAzICsgKHNjb3BlX0hhbmRsZXMubGVuZ3RoICsgKGRpciAqIGhhbmRsZU51bWJlcikpO1xuXHRcdFx0c2NvcGVfSGFuZGxlc1toYW5kbGVOdW1iZXJdLmNoaWxkTm9kZXNbMF0uc3R5bGUuekluZGV4ID0gekluZGV4O1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gVGVzdCBzdWdnZXN0ZWQgdmFsdWVzIGFuZCBhcHBseSBtYXJnaW4sIHN0ZXAuXG5cdGZ1bmN0aW9uIHNldEhhbmRsZSAoIGhhbmRsZU51bWJlciwgdG8sIGxvb2tCYWNrd2FyZCwgbG9va0ZvcndhcmQgKSB7XG5cblx0XHR0byA9IGNoZWNrSGFuZGxlUG9zaXRpb24oc2NvcGVfTG9jYXRpb25zLCBoYW5kbGVOdW1iZXIsIHRvLCBsb29rQmFja3dhcmQsIGxvb2tGb3J3YXJkLCBmYWxzZSk7XG5cblx0XHRpZiAoIHRvID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHR1cGRhdGVIYW5kbGVQb3NpdGlvbihoYW5kbGVOdW1iZXIsIHRvKTtcblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0Ly8gVXBkYXRlcyBzdHlsZSBhdHRyaWJ1dGUgZm9yIGNvbm5lY3Qgbm9kZXNcblx0ZnVuY3Rpb24gdXBkYXRlQ29ubmVjdCAoIGluZGV4ICkge1xuXG5cdFx0Ly8gU2tpcCBjb25uZWN0cyBzZXQgdG8gZmFsc2Vcblx0XHRpZiAoICFzY29wZV9Db25uZWN0c1tpbmRleF0gKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0dmFyIGwgPSAwO1xuXHRcdHZhciBoID0gMTAwO1xuXG5cdFx0aWYgKCBpbmRleCAhPT0gMCApIHtcblx0XHRcdGwgPSBzY29wZV9Mb2NhdGlvbnNbaW5kZXggLSAxXTtcblx0XHR9XG5cblx0XHRpZiAoIGluZGV4ICE9PSBzY29wZV9Db25uZWN0cy5sZW5ndGggLSAxICkge1xuXHRcdFx0aCA9IHNjb3BlX0xvY2F0aW9uc1tpbmRleF07XG5cdFx0fVxuXG5cdFx0c2NvcGVfQ29ubmVjdHNbaW5kZXhdLnN0eWxlW29wdGlvbnMuc3R5bGVdID0gdG9QY3QobCk7XG5cdFx0c2NvcGVfQ29ubmVjdHNbaW5kZXhdLnN0eWxlW29wdGlvbnMuc3R5bGVPcG9zaXRlXSA9IHRvUGN0KDEwMCAtIGgpO1xuXHR9XG5cblx0Ly8gLi4uXG5cdGZ1bmN0aW9uIHNldFZhbHVlICggdG8sIGhhbmRsZU51bWJlciApIHtcblxuXHRcdC8vIFNldHRpbmcgd2l0aCBudWxsIGluZGljYXRlcyBhbiAnaWdub3JlJy5cblx0XHQvLyBJbnB1dHRpbmcgJ2ZhbHNlJyBpcyBpbnZhbGlkLlxuXHRcdGlmICggdG8gPT09IG51bGwgfHwgdG8gPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIElmIGEgZm9ybWF0dGVkIG51bWJlciB3YXMgcGFzc2VkLCBhdHRlbXQgdG8gZGVjb2RlIGl0LlxuXHRcdGlmICggdHlwZW9mIHRvID09PSAnbnVtYmVyJyApIHtcblx0XHRcdHRvID0gU3RyaW5nKHRvKTtcblx0XHR9XG5cblx0XHR0byA9IG9wdGlvbnMuZm9ybWF0LmZyb20odG8pO1xuXG5cdFx0Ly8gUmVxdWVzdCBhbiB1cGRhdGUgZm9yIGFsbCBsaW5rcyBpZiB0aGUgdmFsdWUgd2FzIGludmFsaWQuXG5cdFx0Ly8gRG8gc28gdG9vIGlmIHNldHRpbmcgdGhlIGhhbmRsZSBmYWlscy5cblx0XHRpZiAoIHRvICE9PSBmYWxzZSAmJiAhaXNOYU4odG8pICkge1xuXHRcdFx0c2V0SGFuZGxlKGhhbmRsZU51bWJlciwgc2NvcGVfU3BlY3RydW0udG9TdGVwcGluZyh0byksIGZhbHNlLCBmYWxzZSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gU2V0IHRoZSBzbGlkZXIgdmFsdWUuXG5cdGZ1bmN0aW9uIHZhbHVlU2V0ICggaW5wdXQsIGZpcmVTZXRFdmVudCApIHtcblxuXHRcdHZhciB2YWx1ZXMgPSBhc0FycmF5KGlucHV0KTtcblx0XHR2YXIgaXNJbml0ID0gc2NvcGVfTG9jYXRpb25zWzBdID09PSB1bmRlZmluZWQ7XG5cblx0XHQvLyBFdmVudCBmaXJlcyBieSBkZWZhdWx0XG5cdFx0ZmlyZVNldEV2ZW50ID0gKGZpcmVTZXRFdmVudCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6ICEhZmlyZVNldEV2ZW50KTtcblxuXHRcdHZhbHVlcy5mb3JFYWNoKHNldFZhbHVlKTtcblxuXHRcdC8vIEFuaW1hdGlvbiBpcyBvcHRpb25hbC5cblx0XHQvLyBNYWtlIHN1cmUgdGhlIGluaXRpYWwgdmFsdWVzIHdlcmUgc2V0IGJlZm9yZSB1c2luZyBhbmltYXRlZCBwbGFjZW1lbnQuXG5cdFx0aWYgKCBvcHRpb25zLmFuaW1hdGUgJiYgIWlzSW5pdCApIHtcblx0XHRcdGFkZENsYXNzRm9yKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRhcCwgb3B0aW9ucy5hbmltYXRpb25EdXJhdGlvbik7XG5cdFx0fVxuXG5cdFx0Ly8gTm93IHRoYXQgYWxsIGJhc2UgdmFsdWVzIGFyZSBzZXQsIGFwcGx5IGNvbnN0cmFpbnRzXG5cdFx0c2NvcGVfSGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcil7XG5cdFx0XHRzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCBzY29wZV9Mb2NhdGlvbnNbaGFuZGxlTnVtYmVyXSwgdHJ1ZSwgZmFsc2UpO1xuXHRcdH0pO1xuXG5cdFx0c2V0WmluZGV4KCk7XG5cblx0XHRzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyKXtcblxuXHRcdFx0ZmlyZUV2ZW50KCd1cGRhdGUnLCBoYW5kbGVOdW1iZXIpO1xuXG5cdFx0XHQvLyBGaXJlIHRoZSBldmVudCBvbmx5IGZvciBoYW5kbGVzIHRoYXQgcmVjZWl2ZWQgYSBuZXcgdmFsdWUsIGFzIHBlciAjNTc5XG5cdFx0XHRpZiAoIHZhbHVlc1toYW5kbGVOdW1iZXJdICE9PSBudWxsICYmIGZpcmVTZXRFdmVudCApIHtcblx0XHRcdFx0ZmlyZUV2ZW50KCdzZXQnLCBoYW5kbGVOdW1iZXIpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0Ly8gUmVzZXQgc2xpZGVyIHRvIGluaXRpYWwgdmFsdWVzXG5cdGZ1bmN0aW9uIHZhbHVlUmVzZXQgKCBmaXJlU2V0RXZlbnQgKSB7XG5cdFx0dmFsdWVTZXQob3B0aW9ucy5zdGFydCwgZmlyZVNldEV2ZW50KTtcblx0fVxuXG5cdC8vIEdldCB0aGUgc2xpZGVyIHZhbHVlLlxuXHRmdW5jdGlvbiB2YWx1ZUdldCAoICkge1xuXG5cdFx0dmFyIHZhbHVlcyA9IHNjb3BlX1ZhbHVlcy5tYXAob3B0aW9ucy5mb3JtYXQudG8pO1xuXG5cdFx0Ly8gSWYgb25seSBvbmUgaGFuZGxlIGlzIHVzZWQsIHJldHVybiBhIHNpbmdsZSB2YWx1ZS5cblx0XHRpZiAoIHZhbHVlcy5sZW5ndGggPT09IDEgKXtcblx0XHRcdHJldHVybiB2YWx1ZXNbMF07XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHZhbHVlcztcblx0fVxuXG5cdC8vIFJlbW92ZXMgY2xhc3NlcyBmcm9tIHRoZSByb290IGFuZCBlbXB0aWVzIGl0LlxuXHRmdW5jdGlvbiBkZXN0cm95ICggKSB7XG5cblx0XHRmb3IgKCB2YXIga2V5IGluIG9wdGlvbnMuY3NzQ2xhc3NlcyApIHtcblx0XHRcdGlmICggIW9wdGlvbnMuY3NzQ2xhc3Nlcy5oYXNPd25Qcm9wZXJ0eShrZXkpICkgeyBjb250aW51ZTsgfVxuXHRcdFx0cmVtb3ZlQ2xhc3Moc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXNba2V5XSk7XG5cdFx0fVxuXG5cdFx0d2hpbGUgKHNjb3BlX1RhcmdldC5maXJzdENoaWxkKSB7XG5cdFx0XHRzY29wZV9UYXJnZXQucmVtb3ZlQ2hpbGQoc2NvcGVfVGFyZ2V0LmZpcnN0Q2hpbGQpO1xuXHRcdH1cblxuXHRcdGRlbGV0ZSBzY29wZV9UYXJnZXQubm9VaVNsaWRlcjtcblx0fVxuXG5cdC8vIEdldCB0aGUgY3VycmVudCBzdGVwIHNpemUgZm9yIHRoZSBzbGlkZXIuXG5cdGZ1bmN0aW9uIGdldEN1cnJlbnRTdGVwICggKSB7XG5cblx0XHQvLyBDaGVjayBhbGwgbG9jYXRpb25zLCBtYXAgdGhlbSB0byB0aGVpciBzdGVwcGluZyBwb2ludC5cblx0XHQvLyBHZXQgdGhlIHN0ZXAgcG9pbnQsIHRoZW4gZmluZCBpdCBpbiB0aGUgaW5wdXQgbGlzdC5cblx0XHRyZXR1cm4gc2NvcGVfTG9jYXRpb25zLm1hcChmdW5jdGlvbiggbG9jYXRpb24sIGluZGV4ICl7XG5cblx0XHRcdHZhciBuZWFyYnlTdGVwcyA9IHNjb3BlX1NwZWN0cnVtLmdldE5lYXJieVN0ZXBzKCBsb2NhdGlvbiApO1xuXHRcdFx0dmFyIHZhbHVlID0gc2NvcGVfVmFsdWVzW2luZGV4XTtcblx0XHRcdHZhciBpbmNyZW1lbnQgPSBuZWFyYnlTdGVwcy50aGlzU3RlcC5zdGVwO1xuXHRcdFx0dmFyIGRlY3JlbWVudCA9IG51bGw7XG5cblx0XHRcdC8vIElmIHRoZSBuZXh0IHZhbHVlIGluIHRoaXMgc3RlcCBtb3ZlcyBpbnRvIHRoZSBuZXh0IHN0ZXAsXG5cdFx0XHQvLyB0aGUgaW5jcmVtZW50IGlzIHRoZSBzdGFydCBvZiB0aGUgbmV4dCBzdGVwIC0gdGhlIGN1cnJlbnQgdmFsdWVcblx0XHRcdGlmICggaW5jcmVtZW50ICE9PSBmYWxzZSApIHtcblx0XHRcdFx0aWYgKCB2YWx1ZSArIGluY3JlbWVudCA+IG5lYXJieVN0ZXBzLnN0ZXBBZnRlci5zdGFydFZhbHVlICkge1xuXHRcdFx0XHRcdGluY3JlbWVudCA9IG5lYXJieVN0ZXBzLnN0ZXBBZnRlci5zdGFydFZhbHVlIC0gdmFsdWU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXG5cdFx0XHQvLyBJZiB0aGUgdmFsdWUgaXMgYmV5b25kIHRoZSBzdGFydGluZyBwb2ludFxuXHRcdFx0aWYgKCB2YWx1ZSA+IG5lYXJieVN0ZXBzLnRoaXNTdGVwLnN0YXJ0VmFsdWUgKSB7XG5cdFx0XHRcdGRlY3JlbWVudCA9IG5lYXJieVN0ZXBzLnRoaXNTdGVwLnN0ZXA7XG5cdFx0XHR9XG5cblx0XHRcdGVsc2UgaWYgKCBuZWFyYnlTdGVwcy5zdGVwQmVmb3JlLnN0ZXAgPT09IGZhbHNlICkge1xuXHRcdFx0XHRkZWNyZW1lbnQgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWYgYSBoYW5kbGUgaXMgYXQgdGhlIHN0YXJ0IG9mIGEgc3RlcCwgaXQgYWx3YXlzIHN0ZXBzIGJhY2sgaW50byB0aGUgcHJldmlvdXMgc3RlcCBmaXJzdFxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdGRlY3JlbWVudCA9IHZhbHVlIC0gbmVhcmJ5U3RlcHMuc3RlcEJlZm9yZS5oaWdoZXN0U3RlcDtcblx0XHRcdH1cblxuXG5cdFx0XHQvLyBOb3csIGlmIGF0IHRoZSBzbGlkZXIgZWRnZXMsIHRoZXJlIGlzIG5vdCBpbi9kZWNyZW1lbnRcblx0XHRcdGlmICggbG9jYXRpb24gPT09IDEwMCApIHtcblx0XHRcdFx0aW5jcmVtZW50ID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0ZWxzZSBpZiAoIGxvY2F0aW9uID09PSAwICkge1xuXHRcdFx0XHRkZWNyZW1lbnQgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBcyBwZXIgIzM5MSwgdGhlIGNvbXBhcmlzb24gZm9yIHRoZSBkZWNyZW1lbnQgc3RlcCBjYW4gaGF2ZSBzb21lIHJvdW5kaW5nIGlzc3Vlcy5cblx0XHRcdHZhciBzdGVwRGVjaW1hbHMgPSBzY29wZV9TcGVjdHJ1bS5jb3VudFN0ZXBEZWNpbWFscygpO1xuXG5cdFx0XHQvLyBSb3VuZCBwZXIgIzM5MVxuXHRcdFx0aWYgKCBpbmNyZW1lbnQgIT09IG51bGwgJiYgaW5jcmVtZW50ICE9PSBmYWxzZSApIHtcblx0XHRcdFx0aW5jcmVtZW50ID0gTnVtYmVyKGluY3JlbWVudC50b0ZpeGVkKHN0ZXBEZWNpbWFscykpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGRlY3JlbWVudCAhPT0gbnVsbCAmJiBkZWNyZW1lbnQgIT09IGZhbHNlICkge1xuXHRcdFx0XHRkZWNyZW1lbnQgPSBOdW1iZXIoZGVjcmVtZW50LnRvRml4ZWQoc3RlcERlY2ltYWxzKSk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiBbZGVjcmVtZW50LCBpbmNyZW1lbnRdO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gQXR0YWNoIGFuIGV2ZW50IHRvIHRoaXMgc2xpZGVyLCBwb3NzaWJseSBpbmNsdWRpbmcgYSBuYW1lc3BhY2Vcblx0ZnVuY3Rpb24gYmluZEV2ZW50ICggbmFtZXNwYWNlZEV2ZW50LCBjYWxsYmFjayApIHtcblx0XHRzY29wZV9FdmVudHNbbmFtZXNwYWNlZEV2ZW50XSA9IHNjb3BlX0V2ZW50c1tuYW1lc3BhY2VkRXZlbnRdIHx8IFtdO1xuXHRcdHNjb3BlX0V2ZW50c1tuYW1lc3BhY2VkRXZlbnRdLnB1c2goY2FsbGJhY2spO1xuXG5cdFx0Ly8gSWYgdGhlIGV2ZW50IGJvdW5kIGlzICd1cGRhdGUsJyBmaXJlIGl0IGltbWVkaWF0ZWx5IGZvciBhbGwgaGFuZGxlcy5cblx0XHRpZiAoIG5hbWVzcGFjZWRFdmVudC5zcGxpdCgnLicpWzBdID09PSAndXBkYXRlJyApIHtcblx0XHRcdHNjb3BlX0hhbmRsZXMuZm9yRWFjaChmdW5jdGlvbihhLCBpbmRleCl7XG5cdFx0XHRcdGZpcmVFdmVudCgndXBkYXRlJywgaW5kZXgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gVW5kbyBhdHRhY2htZW50IG9mIGV2ZW50XG5cdGZ1bmN0aW9uIHJlbW92ZUV2ZW50ICggbmFtZXNwYWNlZEV2ZW50ICkge1xuXG5cdFx0dmFyIGV2ZW50ID0gbmFtZXNwYWNlZEV2ZW50ICYmIG5hbWVzcGFjZWRFdmVudC5zcGxpdCgnLicpWzBdO1xuXHRcdHZhciBuYW1lc3BhY2UgPSBldmVudCAmJiBuYW1lc3BhY2VkRXZlbnQuc3Vic3RyaW5nKGV2ZW50Lmxlbmd0aCk7XG5cblx0XHRPYmplY3Qua2V5cyhzY29wZV9FdmVudHMpLmZvckVhY2goZnVuY3Rpb24oIGJpbmQgKXtcblxuXHRcdFx0dmFyIHRFdmVudCA9IGJpbmQuc3BsaXQoJy4nKVswXSxcblx0XHRcdFx0dE5hbWVzcGFjZSA9IGJpbmQuc3Vic3RyaW5nKHRFdmVudC5sZW5ndGgpO1xuXG5cdFx0XHRpZiAoICghZXZlbnQgfHwgZXZlbnQgPT09IHRFdmVudCkgJiYgKCFuYW1lc3BhY2UgfHwgbmFtZXNwYWNlID09PSB0TmFtZXNwYWNlKSApIHtcblx0XHRcdFx0ZGVsZXRlIHNjb3BlX0V2ZW50c1tiaW5kXTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8vIFVwZGF0ZWFibGU6IG1hcmdpbiwgbGltaXQsIHBhZGRpbmcsIHN0ZXAsIHJhbmdlLCBhbmltYXRlLCBzbmFwXG5cdGZ1bmN0aW9uIHVwZGF0ZU9wdGlvbnMgKCBvcHRpb25zVG9VcGRhdGUsIGZpcmVTZXRFdmVudCApIHtcblxuXHRcdC8vIFNwZWN0cnVtIGlzIGNyZWF0ZWQgdXNpbmcgdGhlIHJhbmdlLCBzbmFwLCBkaXJlY3Rpb24gYW5kIHN0ZXAgb3B0aW9ucy5cblx0XHQvLyAnc25hcCcgYW5kICdzdGVwJyBjYW4gYmUgdXBkYXRlZC5cblx0XHQvLyBJZiAnc25hcCcgYW5kICdzdGVwJyBhcmUgbm90IHBhc3NlZCwgdGhleSBzaG91bGQgcmVtYWluIHVuY2hhbmdlZC5cblx0XHR2YXIgdiA9IHZhbHVlR2V0KCk7XG5cblx0XHR2YXIgdXBkYXRlQWJsZSA9IFsnbWFyZ2luJywgJ2xpbWl0JywgJ3BhZGRpbmcnLCAncmFuZ2UnLCAnYW5pbWF0ZScsICdzbmFwJywgJ3N0ZXAnLCAnZm9ybWF0J107XG5cblx0XHQvLyBPbmx5IGNoYW5nZSBvcHRpb25zIHRoYXQgd2UncmUgYWN0dWFsbHkgcGFzc2VkIHRvIHVwZGF0ZS5cblx0XHR1cGRhdGVBYmxlLmZvckVhY2goZnVuY3Rpb24obmFtZSl7XG5cdFx0XHRpZiAoIG9wdGlvbnNUb1VwZGF0ZVtuYW1lXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRvcmlnaW5hbE9wdGlvbnNbbmFtZV0gPSBvcHRpb25zVG9VcGRhdGVbbmFtZV07XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHR2YXIgbmV3T3B0aW9ucyA9IHRlc3RPcHRpb25zKG9yaWdpbmFsT3B0aW9ucyk7XG5cblx0XHQvLyBMb2FkIG5ldyBvcHRpb25zIGludG8gdGhlIHNsaWRlciBzdGF0ZVxuXHRcdHVwZGF0ZUFibGUuZm9yRWFjaChmdW5jdGlvbihuYW1lKXtcblx0XHRcdGlmICggb3B0aW9uc1RvVXBkYXRlW25hbWVdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdG9wdGlvbnNbbmFtZV0gPSBuZXdPcHRpb25zW25hbWVdO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0c2NvcGVfU3BlY3RydW0gPSBuZXdPcHRpb25zLnNwZWN0cnVtO1xuXG5cdFx0Ly8gTGltaXQsIG1hcmdpbiBhbmQgcGFkZGluZyBkZXBlbmQgb24gdGhlIHNwZWN0cnVtIGJ1dCBhcmUgc3RvcmVkIG91dHNpZGUgb2YgaXQuICgjNjc3KVxuXHRcdG9wdGlvbnMubWFyZ2luID0gbmV3T3B0aW9ucy5tYXJnaW47XG5cdFx0b3B0aW9ucy5saW1pdCA9IG5ld09wdGlvbnMubGltaXQ7XG5cdFx0b3B0aW9ucy5wYWRkaW5nID0gbmV3T3B0aW9ucy5wYWRkaW5nO1xuXG5cdFx0Ly8gVXBkYXRlIHBpcHMsIHJlbW92ZXMgZXhpc3RpbmcuXG5cdFx0aWYgKCBvcHRpb25zLnBpcHMgKSB7XG5cdFx0XHRwaXBzKG9wdGlvbnMucGlwcyk7XG5cdFx0fVxuXG5cdFx0Ly8gSW52YWxpZGF0ZSB0aGUgY3VycmVudCBwb3NpdGlvbmluZyBzbyB2YWx1ZVNldCBmb3JjZXMgYW4gdXBkYXRlLlxuXHRcdHNjb3BlX0xvY2F0aW9ucyA9IFtdO1xuXHRcdHZhbHVlU2V0KG9wdGlvbnNUb1VwZGF0ZS5zdGFydCB8fCB2LCBmaXJlU2V0RXZlbnQpO1xuXHR9XG5cblx0Ly8gVGhyb3cgYW4gZXJyb3IgaWYgdGhlIHNsaWRlciB3YXMgYWxyZWFkeSBpbml0aWFsaXplZC5cblx0aWYgKCBzY29wZV9UYXJnZXQubm9VaVNsaWRlciApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6IFNsaWRlciB3YXMgYWxyZWFkeSBpbml0aWFsaXplZC5cIik7XG5cdH1cblxuXHQvLyBDcmVhdGUgdGhlIGJhc2UgZWxlbWVudCwgaW5pdGlhbGlzZSBIVE1MIGFuZCBzZXQgY2xhc3Nlcy5cblx0Ly8gQWRkIGhhbmRsZXMgYW5kIGNvbm5lY3QgZWxlbWVudHMuXG5cdGFkZFNsaWRlcihzY29wZV9UYXJnZXQpO1xuXHRhZGRFbGVtZW50cyhvcHRpb25zLmNvbm5lY3QsIHNjb3BlX0Jhc2UpO1xuXG5cdHNjb3BlX1NlbGYgPSB7XG5cdFx0ZGVzdHJveTogZGVzdHJveSxcblx0XHRzdGVwczogZ2V0Q3VycmVudFN0ZXAsXG5cdFx0b246IGJpbmRFdmVudCxcblx0XHRvZmY6IHJlbW92ZUV2ZW50LFxuXHRcdGdldDogdmFsdWVHZXQsXG5cdFx0c2V0OiB2YWx1ZVNldCxcblx0XHRyZXNldDogdmFsdWVSZXNldCxcblx0XHQvLyBFeHBvc2VkIGZvciB1bml0IHRlc3RpbmcsIGRvbid0IHVzZSB0aGlzIGluIHlvdXIgYXBwbGljYXRpb24uXG5cdFx0X19tb3ZlSGFuZGxlczogZnVuY3Rpb24oYSwgYiwgYykgeyBtb3ZlSGFuZGxlcyhhLCBiLCBzY29wZV9Mb2NhdGlvbnMsIGMpOyB9LFxuXHRcdG9wdGlvbnM6IG9yaWdpbmFsT3B0aW9ucywgLy8gSXNzdWUgIzYwMCwgIzY3OFxuXHRcdHVwZGF0ZU9wdGlvbnM6IHVwZGF0ZU9wdGlvbnMsXG5cdFx0dGFyZ2V0OiBzY29wZV9UYXJnZXQsIC8vIElzc3VlICM1OTdcblx0XHRyZW1vdmVQaXBzOiByZW1vdmVQaXBzLFxuXHRcdHBpcHM6IHBpcHMgLy8gSXNzdWUgIzU5NFxuXHR9O1xuXG5cdC8vIEF0dGFjaCB1c2VyIGV2ZW50cy5cblx0YmluZFNsaWRlckV2ZW50cyhvcHRpb25zLmV2ZW50cyk7XG5cblx0Ly8gVXNlIHRoZSBwdWJsaWMgdmFsdWUgbWV0aG9kIHRvIHNldCB0aGUgc3RhcnQgdmFsdWVzLlxuXHR2YWx1ZVNldChvcHRpb25zLnN0YXJ0KTtcblxuXHRpZiAoIG9wdGlvbnMucGlwcyApIHtcblx0XHRwaXBzKG9wdGlvbnMucGlwcyk7XG5cdH1cblxuXHRpZiAoIG9wdGlvbnMudG9vbHRpcHMgKSB7XG5cdFx0dG9vbHRpcHMoKTtcblx0fVxuXG5cdGFyaWEoKTtcblxuXHRyZXR1cm4gc2NvcGVfU2VsZjtcblxufVxuXG5cblx0Ly8gUnVuIHRoZSBzdGFuZGFyZCBpbml0aWFsaXplclxuXHRmdW5jdGlvbiBpbml0aWFsaXplICggdGFyZ2V0LCBvcmlnaW5hbE9wdGlvbnMgKSB7XG5cblx0XHRpZiAoICF0YXJnZXQgfHwgIXRhcmdldC5ub2RlTmFtZSApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogY3JlYXRlIHJlcXVpcmVzIGEgc2luZ2xlIGVsZW1lbnQsIGdvdDogXCIgKyB0YXJnZXQpO1xuXHRcdH1cblxuXHRcdC8vIFRlc3QgdGhlIG9wdGlvbnMgYW5kIGNyZWF0ZSB0aGUgc2xpZGVyIGVudmlyb25tZW50O1xuXHRcdHZhciBvcHRpb25zID0gdGVzdE9wdGlvbnMoIG9yaWdpbmFsT3B0aW9ucywgdGFyZ2V0ICk7XG5cdFx0dmFyIGFwaSA9IGNsb3N1cmUoIHRhcmdldCwgb3B0aW9ucywgb3JpZ2luYWxPcHRpb25zICk7XG5cblx0XHR0YXJnZXQubm9VaVNsaWRlciA9IGFwaTtcblxuXHRcdHJldHVybiBhcGk7XG5cdH1cblxuXHQvLyBVc2UgYW4gb2JqZWN0IGluc3RlYWQgb2YgYSBmdW5jdGlvbiBmb3IgZnV0dXJlIGV4cGFuc2liaWxpdHk7XG5cdHJldHVybiB7XG5cdFx0dmVyc2lvbjogVkVSU0lPTixcblx0XHRjcmVhdGU6IGluaXRpYWxpemVcblx0fTtcblxufSkpOyIsIi8qKlxuICogQGZpbGVvdmVydmlld1xuICogLSBVc2luZyB0aGUgJ1FSQ29kZSBmb3IgSmF2YXNjcmlwdCBsaWJyYXJ5J1xuICogLSBGaXhlZCBkYXRhc2V0IG9mICdRUkNvZGUgZm9yIEphdmFzY3JpcHQgbGlicmFyeScgZm9yIHN1cHBvcnQgZnVsbC1zcGVjLlxuICogLSB0aGlzIGxpYnJhcnkgaGFzIG5vIGRlcGVuZGVuY2llcy5cbiAqIFxuICogQGF1dGhvciBkYXZpZHNoaW1qc1xuICogQHNlZSA8YSBocmVmPVwiaHR0cDovL3d3dy5kLXByb2plY3QuY29tL1wiIHRhcmdldD1cIl9ibGFua1wiPmh0dHA6Ly93d3cuZC1wcm9qZWN0LmNvbS88L2E+XG4gKiBAc2VlIDxhIGhyZWY9XCJodHRwOi8vamVyb21lZXRpZW5uZS5naXRodWIuY29tL2pxdWVyeS1xcmNvZGUvXCIgdGFyZ2V0PVwiX2JsYW5rXCI+aHR0cDovL2plcm9tZWV0aWVubmUuZ2l0aHViLmNvbS9qcXVlcnktcXJjb2RlLzwvYT5cbiAqL1xudmFyIFFSQ29kZTtcblxuKGZ1bmN0aW9uICgpIHtcblx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0Ly8gUVJDb2RlIGZvciBKYXZhU2NyaXB0XG5cdC8vXG5cdC8vIENvcHlyaWdodCAoYykgMjAwOSBLYXp1aGlrbyBBcmFzZVxuXHQvL1xuXHQvLyBVUkw6IGh0dHA6Ly93d3cuZC1wcm9qZWN0LmNvbS9cblx0Ly9cblx0Ly8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOlxuXHQvLyAgIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG5cdC8vXG5cdC8vIFRoZSB3b3JkIFwiUVIgQ29kZVwiIGlzIHJlZ2lzdGVyZWQgdHJhZGVtYXJrIG9mIFxuXHQvLyBERU5TTyBXQVZFIElOQ09SUE9SQVRFRFxuXHQvLyAgIGh0dHA6Ly93d3cuZGVuc28td2F2ZS5jb20vcXJjb2RlL2ZhcXBhdGVudC1lLmh0bWxcblx0Ly9cblx0Ly8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0ZnVuY3Rpb24gUVI4Yml0Qnl0ZShkYXRhKSB7XG5cdFx0dGhpcy5tb2RlID0gUVJNb2RlLk1PREVfOEJJVF9CWVRFO1xuXHRcdHRoaXMuZGF0YSA9IGRhdGE7XG5cdFx0dGhpcy5wYXJzZWREYXRhID0gW107XG5cblx0XHQvLyBBZGRlZCB0byBzdXBwb3J0IFVURi04IENoYXJhY3RlcnNcblx0XHRmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMuZGF0YS5sZW5ndGg7IGkgPCBsOyBpKyspIHtcblx0XHRcdHZhciBieXRlQXJyYXkgPSBbXTtcblx0XHRcdHZhciBjb2RlID0gdGhpcy5kYXRhLmNoYXJDb2RlQXQoaSk7XG5cblx0XHRcdGlmIChjb2RlID4gMHgxMDAwMCkge1xuXHRcdFx0XHRieXRlQXJyYXlbMF0gPSAweEYwIHwgKChjb2RlICYgMHgxQzAwMDApID4+PiAxOCk7XG5cdFx0XHRcdGJ5dGVBcnJheVsxXSA9IDB4ODAgfCAoKGNvZGUgJiAweDNGMDAwKSA+Pj4gMTIpO1xuXHRcdFx0XHRieXRlQXJyYXlbMl0gPSAweDgwIHwgKChjb2RlICYgMHhGQzApID4+PiA2KTtcblx0XHRcdFx0Ynl0ZUFycmF5WzNdID0gMHg4MCB8IChjb2RlICYgMHgzRik7XG5cdFx0XHR9IGVsc2UgaWYgKGNvZGUgPiAweDgwMCkge1xuXHRcdFx0XHRieXRlQXJyYXlbMF0gPSAweEUwIHwgKChjb2RlICYgMHhGMDAwKSA+Pj4gMTIpO1xuXHRcdFx0XHRieXRlQXJyYXlbMV0gPSAweDgwIHwgKChjb2RlICYgMHhGQzApID4+PiA2KTtcblx0XHRcdFx0Ynl0ZUFycmF5WzJdID0gMHg4MCB8IChjb2RlICYgMHgzRik7XG5cdFx0XHR9IGVsc2UgaWYgKGNvZGUgPiAweDgwKSB7XG5cdFx0XHRcdGJ5dGVBcnJheVswXSA9IDB4QzAgfCAoKGNvZGUgJiAweDdDMCkgPj4+IDYpO1xuXHRcdFx0XHRieXRlQXJyYXlbMV0gPSAweDgwIHwgKGNvZGUgJiAweDNGKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGJ5dGVBcnJheVswXSA9IGNvZGU7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMucGFyc2VkRGF0YS5wdXNoKGJ5dGVBcnJheSk7XG5cdFx0fVxuXG5cdFx0dGhpcy5wYXJzZWREYXRhID0gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgdGhpcy5wYXJzZWREYXRhKTtcblxuXHRcdGlmICh0aGlzLnBhcnNlZERhdGEubGVuZ3RoICE9IHRoaXMuZGF0YS5sZW5ndGgpIHtcblx0XHRcdHRoaXMucGFyc2VkRGF0YS51bnNoaWZ0KDE5MSk7XG5cdFx0XHR0aGlzLnBhcnNlZERhdGEudW5zaGlmdCgxODcpO1xuXHRcdFx0dGhpcy5wYXJzZWREYXRhLnVuc2hpZnQoMjM5KTtcblx0XHR9XG5cdH1cblxuXHRRUjhiaXRCeXRlLnByb3RvdHlwZSA9IHtcblx0XHRnZXRMZW5ndGg6IGZ1bmN0aW9uIChidWZmZXIpIHtcblx0XHRcdHJldHVybiB0aGlzLnBhcnNlZERhdGEubGVuZ3RoO1xuXHRcdH0sXG5cdFx0d3JpdGU6IGZ1bmN0aW9uIChidWZmZXIpIHtcblx0XHRcdGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5wYXJzZWREYXRhLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0XHRidWZmZXIucHV0KHRoaXMucGFyc2VkRGF0YVtpXSwgOCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdGZ1bmN0aW9uIFFSQ29kZU1vZGVsKHR5cGVOdW1iZXIsIGVycm9yQ29ycmVjdExldmVsKSB7XG5cdFx0dGhpcy50eXBlTnVtYmVyID0gdHlwZU51bWJlcjtcblx0XHR0aGlzLmVycm9yQ29ycmVjdExldmVsID0gZXJyb3JDb3JyZWN0TGV2ZWw7XG5cdFx0dGhpcy5tb2R1bGVzID0gbnVsbDtcblx0XHR0aGlzLm1vZHVsZUNvdW50ID0gMDtcblx0XHR0aGlzLmRhdGFDYWNoZSA9IG51bGw7XG5cdFx0dGhpcy5kYXRhTGlzdCA9IFtdO1xuXHR9XG5cblx0UVJDb2RlTW9kZWwucHJvdG90eXBlPXthZGREYXRhOmZ1bmN0aW9uKGRhdGEpe3ZhciBuZXdEYXRhPW5ldyBRUjhiaXRCeXRlKGRhdGEpO3RoaXMuZGF0YUxpc3QucHVzaChuZXdEYXRhKTt0aGlzLmRhdGFDYWNoZT1udWxsO30saXNEYXJrOmZ1bmN0aW9uKHJvdyxjb2wpe2lmKHJvdzwwfHx0aGlzLm1vZHVsZUNvdW50PD1yb3d8fGNvbDwwfHx0aGlzLm1vZHVsZUNvdW50PD1jb2wpe3Rocm93IG5ldyBFcnJvcihyb3crXCIsXCIrY29sKTt9XG5cdHJldHVybiB0aGlzLm1vZHVsZXNbcm93XVtjb2xdO30sZ2V0TW9kdWxlQ291bnQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tb2R1bGVDb3VudDt9LG1ha2U6ZnVuY3Rpb24oKXt0aGlzLm1ha2VJbXBsKGZhbHNlLHRoaXMuZ2V0QmVzdE1hc2tQYXR0ZXJuKCkpO30sbWFrZUltcGw6ZnVuY3Rpb24odGVzdCxtYXNrUGF0dGVybil7dGhpcy5tb2R1bGVDb3VudD10aGlzLnR5cGVOdW1iZXIqNCsxNzt0aGlzLm1vZHVsZXM9bmV3IEFycmF5KHRoaXMubW9kdWxlQ291bnQpO2Zvcih2YXIgcm93PTA7cm93PHRoaXMubW9kdWxlQ291bnQ7cm93Kyspe3RoaXMubW9kdWxlc1tyb3ddPW5ldyBBcnJheSh0aGlzLm1vZHVsZUNvdW50KTtmb3IodmFyIGNvbD0wO2NvbDx0aGlzLm1vZHVsZUNvdW50O2NvbCsrKXt0aGlzLm1vZHVsZXNbcm93XVtjb2xdPW51bGw7fX1cblx0dGhpcy5zZXR1cFBvc2l0aW9uUHJvYmVQYXR0ZXJuKDAsMCk7dGhpcy5zZXR1cFBvc2l0aW9uUHJvYmVQYXR0ZXJuKHRoaXMubW9kdWxlQ291bnQtNywwKTt0aGlzLnNldHVwUG9zaXRpb25Qcm9iZVBhdHRlcm4oMCx0aGlzLm1vZHVsZUNvdW50LTcpO3RoaXMuc2V0dXBQb3NpdGlvbkFkanVzdFBhdHRlcm4oKTt0aGlzLnNldHVwVGltaW5nUGF0dGVybigpO3RoaXMuc2V0dXBUeXBlSW5mbyh0ZXN0LG1hc2tQYXR0ZXJuKTtpZih0aGlzLnR5cGVOdW1iZXI+PTcpe3RoaXMuc2V0dXBUeXBlTnVtYmVyKHRlc3QpO31cblx0aWYodGhpcy5kYXRhQ2FjaGU9PW51bGwpe3RoaXMuZGF0YUNhY2hlPVFSQ29kZU1vZGVsLmNyZWF0ZURhdGEodGhpcy50eXBlTnVtYmVyLHRoaXMuZXJyb3JDb3JyZWN0TGV2ZWwsdGhpcy5kYXRhTGlzdCk7fVxuXHR0aGlzLm1hcERhdGEodGhpcy5kYXRhQ2FjaGUsbWFza1BhdHRlcm4pO30sc2V0dXBQb3NpdGlvblByb2JlUGF0dGVybjpmdW5jdGlvbihyb3csY29sKXtmb3IodmFyIHI9LTE7cjw9NztyKyspe2lmKHJvdytyPD0tMXx8dGhpcy5tb2R1bGVDb3VudDw9cm93K3IpY29udGludWU7Zm9yKHZhciBjPS0xO2M8PTc7YysrKXtpZihjb2wrYzw9LTF8fHRoaXMubW9kdWxlQ291bnQ8PWNvbCtjKWNvbnRpbnVlO2lmKCgwPD1yJiZyPD02JiYoYz09MHx8Yz09NikpfHwoMDw9YyYmYzw9NiYmKHI9PTB8fHI9PTYpKXx8KDI8PXImJnI8PTQmJjI8PWMmJmM8PTQpKXt0aGlzLm1vZHVsZXNbcm93K3JdW2NvbCtjXT10cnVlO31lbHNle3RoaXMubW9kdWxlc1tyb3crcl1bY29sK2NdPWZhbHNlO319fX0sZ2V0QmVzdE1hc2tQYXR0ZXJuOmZ1bmN0aW9uKCl7dmFyIG1pbkxvc3RQb2ludD0wO3ZhciBwYXR0ZXJuPTA7Zm9yKHZhciBpPTA7aTw4O2krKyl7dGhpcy5tYWtlSW1wbCh0cnVlLGkpO3ZhciBsb3N0UG9pbnQ9UVJVdGlsLmdldExvc3RQb2ludCh0aGlzKTtpZihpPT0wfHxtaW5Mb3N0UG9pbnQ+bG9zdFBvaW50KXttaW5Mb3N0UG9pbnQ9bG9zdFBvaW50O3BhdHRlcm49aTt9fVxuXHRyZXR1cm4gcGF0dGVybjt9LGNyZWF0ZU1vdmllQ2xpcDpmdW5jdGlvbih0YXJnZXRfbWMsaW5zdGFuY2VfbmFtZSxkZXB0aCl7dmFyIHFyX21jPXRhcmdldF9tYy5jcmVhdGVFbXB0eU1vdmllQ2xpcChpbnN0YW5jZV9uYW1lLGRlcHRoKTt2YXIgY3M9MTt0aGlzLm1ha2UoKTtmb3IodmFyIHJvdz0wO3Jvdzx0aGlzLm1vZHVsZXMubGVuZ3RoO3JvdysrKXt2YXIgeT1yb3cqY3M7Zm9yKHZhciBjb2w9MDtjb2w8dGhpcy5tb2R1bGVzW3Jvd10ubGVuZ3RoO2NvbCsrKXt2YXIgeD1jb2wqY3M7dmFyIGRhcms9dGhpcy5tb2R1bGVzW3Jvd11bY29sXTtpZihkYXJrKXtxcl9tYy5iZWdpbkZpbGwoMCwxMDApO3FyX21jLm1vdmVUbyh4LHkpO3FyX21jLmxpbmVUbyh4K2NzLHkpO3FyX21jLmxpbmVUbyh4K2NzLHkrY3MpO3FyX21jLmxpbmVUbyh4LHkrY3MpO3FyX21jLmVuZEZpbGwoKTt9fX1cblx0cmV0dXJuIHFyX21jO30sc2V0dXBUaW1pbmdQYXR0ZXJuOmZ1bmN0aW9uKCl7Zm9yKHZhciByPTg7cjx0aGlzLm1vZHVsZUNvdW50LTg7cisrKXtpZih0aGlzLm1vZHVsZXNbcl1bNl0hPW51bGwpe2NvbnRpbnVlO31cblx0dGhpcy5tb2R1bGVzW3JdWzZdPShyJTI9PTApO31cblx0Zm9yKHZhciBjPTg7Yzx0aGlzLm1vZHVsZUNvdW50LTg7YysrKXtpZih0aGlzLm1vZHVsZXNbNl1bY10hPW51bGwpe2NvbnRpbnVlO31cblx0dGhpcy5tb2R1bGVzWzZdW2NdPShjJTI9PTApO319LHNldHVwUG9zaXRpb25BZGp1c3RQYXR0ZXJuOmZ1bmN0aW9uKCl7dmFyIHBvcz1RUlV0aWwuZ2V0UGF0dGVyblBvc2l0aW9uKHRoaXMudHlwZU51bWJlcik7Zm9yKHZhciBpPTA7aTxwb3MubGVuZ3RoO2krKyl7Zm9yKHZhciBqPTA7ajxwb3MubGVuZ3RoO2orKyl7dmFyIHJvdz1wb3NbaV07dmFyIGNvbD1wb3Nbal07aWYodGhpcy5tb2R1bGVzW3Jvd11bY29sXSE9bnVsbCl7Y29udGludWU7fVxuXHRmb3IodmFyIHI9LTI7cjw9MjtyKyspe2Zvcih2YXIgYz0tMjtjPD0yO2MrKyl7aWYocj09LTJ8fHI9PTJ8fGM9PS0yfHxjPT0yfHwocj09MCYmYz09MCkpe3RoaXMubW9kdWxlc1tyb3crcl1bY29sK2NdPXRydWU7fWVsc2V7dGhpcy5tb2R1bGVzW3JvdytyXVtjb2wrY109ZmFsc2U7fX19fX19LHNldHVwVHlwZU51bWJlcjpmdW5jdGlvbih0ZXN0KXt2YXIgYml0cz1RUlV0aWwuZ2V0QkNIVHlwZU51bWJlcih0aGlzLnR5cGVOdW1iZXIpO2Zvcih2YXIgaT0wO2k8MTg7aSsrKXt2YXIgbW9kPSghdGVzdCYmKChiaXRzPj5pKSYxKT09MSk7dGhpcy5tb2R1bGVzW01hdGguZmxvb3IoaS8zKV1baSUzK3RoaXMubW9kdWxlQ291bnQtOC0zXT1tb2Q7fVxuXHRmb3IodmFyIGk9MDtpPDE4O2krKyl7dmFyIG1vZD0oIXRlc3QmJigoYml0cz4+aSkmMSk9PTEpO3RoaXMubW9kdWxlc1tpJTMrdGhpcy5tb2R1bGVDb3VudC04LTNdW01hdGguZmxvb3IoaS8zKV09bW9kO319LHNldHVwVHlwZUluZm86ZnVuY3Rpb24odGVzdCxtYXNrUGF0dGVybil7dmFyIGRhdGE9KHRoaXMuZXJyb3JDb3JyZWN0TGV2ZWw8PDMpfG1hc2tQYXR0ZXJuO3ZhciBiaXRzPVFSVXRpbC5nZXRCQ0hUeXBlSW5mbyhkYXRhKTtmb3IodmFyIGk9MDtpPDE1O2krKyl7dmFyIG1vZD0oIXRlc3QmJigoYml0cz4+aSkmMSk9PTEpO2lmKGk8Nil7dGhpcy5tb2R1bGVzW2ldWzhdPW1vZDt9ZWxzZSBpZihpPDgpe3RoaXMubW9kdWxlc1tpKzFdWzhdPW1vZDt9ZWxzZXt0aGlzLm1vZHVsZXNbdGhpcy5tb2R1bGVDb3VudC0xNStpXVs4XT1tb2Q7fX1cblx0Zm9yKHZhciBpPTA7aTwxNTtpKyspe3ZhciBtb2Q9KCF0ZXN0JiYoKGJpdHM+PmkpJjEpPT0xKTtpZihpPDgpe3RoaXMubW9kdWxlc1s4XVt0aGlzLm1vZHVsZUNvdW50LWktMV09bW9kO31lbHNlIGlmKGk8OSl7dGhpcy5tb2R1bGVzWzhdWzE1LWktMSsxXT1tb2Q7fWVsc2V7dGhpcy5tb2R1bGVzWzhdWzE1LWktMV09bW9kO319XG5cdHRoaXMubW9kdWxlc1t0aGlzLm1vZHVsZUNvdW50LThdWzhdPSghdGVzdCk7fSxtYXBEYXRhOmZ1bmN0aW9uKGRhdGEsbWFza1BhdHRlcm4pe3ZhciBpbmM9LTE7dmFyIHJvdz10aGlzLm1vZHVsZUNvdW50LTE7dmFyIGJpdEluZGV4PTc7dmFyIGJ5dGVJbmRleD0wO2Zvcih2YXIgY29sPXRoaXMubW9kdWxlQ291bnQtMTtjb2w+MDtjb2wtPTIpe2lmKGNvbD09Niljb2wtLTt3aGlsZSh0cnVlKXtmb3IodmFyIGM9MDtjPDI7YysrKXtpZih0aGlzLm1vZHVsZXNbcm93XVtjb2wtY109PW51bGwpe3ZhciBkYXJrPWZhbHNlO2lmKGJ5dGVJbmRleDxkYXRhLmxlbmd0aCl7ZGFyaz0oKChkYXRhW2J5dGVJbmRleF0+Pj5iaXRJbmRleCkmMSk9PTEpO31cblx0dmFyIG1hc2s9UVJVdGlsLmdldE1hc2sobWFza1BhdHRlcm4scm93LGNvbC1jKTtpZihtYXNrKXtkYXJrPSFkYXJrO31cblx0dGhpcy5tb2R1bGVzW3Jvd11bY29sLWNdPWRhcms7Yml0SW5kZXgtLTtpZihiaXRJbmRleD09LTEpe2J5dGVJbmRleCsrO2JpdEluZGV4PTc7fX19XG5cdHJvdys9aW5jO2lmKHJvdzwwfHx0aGlzLm1vZHVsZUNvdW50PD1yb3cpe3Jvdy09aW5jO2luYz0taW5jO2JyZWFrO319fX19O1FSQ29kZU1vZGVsLlBBRDA9MHhFQztRUkNvZGVNb2RlbC5QQUQxPTB4MTE7UVJDb2RlTW9kZWwuY3JlYXRlRGF0YT1mdW5jdGlvbih0eXBlTnVtYmVyLGVycm9yQ29ycmVjdExldmVsLGRhdGFMaXN0KXt2YXIgcnNCbG9ja3M9UVJSU0Jsb2NrLmdldFJTQmxvY2tzKHR5cGVOdW1iZXIsZXJyb3JDb3JyZWN0TGV2ZWwpO3ZhciBidWZmZXI9bmV3IFFSQml0QnVmZmVyKCk7Zm9yKHZhciBpPTA7aTxkYXRhTGlzdC5sZW5ndGg7aSsrKXt2YXIgZGF0YT1kYXRhTGlzdFtpXTtidWZmZXIucHV0KGRhdGEubW9kZSw0KTtidWZmZXIucHV0KGRhdGEuZ2V0TGVuZ3RoKCksUVJVdGlsLmdldExlbmd0aEluQml0cyhkYXRhLm1vZGUsdHlwZU51bWJlcikpO2RhdGEud3JpdGUoYnVmZmVyKTt9XG5cdHZhciB0b3RhbERhdGFDb3VudD0wO2Zvcih2YXIgaT0wO2k8cnNCbG9ja3MubGVuZ3RoO2krKyl7dG90YWxEYXRhQ291bnQrPXJzQmxvY2tzW2ldLmRhdGFDb3VudDt9XG5cdGlmKGJ1ZmZlci5nZXRMZW5ndGhJbkJpdHMoKT50b3RhbERhdGFDb3VudCo4KXt0aHJvdyBuZXcgRXJyb3IoXCJjb2RlIGxlbmd0aCBvdmVyZmxvdy4gKFwiXG5cdCtidWZmZXIuZ2V0TGVuZ3RoSW5CaXRzKClcblx0K1wiPlwiXG5cdCt0b3RhbERhdGFDb3VudCo4XG5cdCtcIilcIik7fVxuXHRpZihidWZmZXIuZ2V0TGVuZ3RoSW5CaXRzKCkrNDw9dG90YWxEYXRhQ291bnQqOCl7YnVmZmVyLnB1dCgwLDQpO31cblx0d2hpbGUoYnVmZmVyLmdldExlbmd0aEluQml0cygpJTghPTApe2J1ZmZlci5wdXRCaXQoZmFsc2UpO31cblx0d2hpbGUodHJ1ZSl7aWYoYnVmZmVyLmdldExlbmd0aEluQml0cygpPj10b3RhbERhdGFDb3VudCo4KXticmVhazt9XG5cdGJ1ZmZlci5wdXQoUVJDb2RlTW9kZWwuUEFEMCw4KTtpZihidWZmZXIuZ2V0TGVuZ3RoSW5CaXRzKCk+PXRvdGFsRGF0YUNvdW50Kjgpe2JyZWFrO31cblx0YnVmZmVyLnB1dChRUkNvZGVNb2RlbC5QQUQxLDgpO31cblx0cmV0dXJuIFFSQ29kZU1vZGVsLmNyZWF0ZUJ5dGVzKGJ1ZmZlcixyc0Jsb2Nrcyk7fTtRUkNvZGVNb2RlbC5jcmVhdGVCeXRlcz1mdW5jdGlvbihidWZmZXIscnNCbG9ja3Mpe3ZhciBvZmZzZXQ9MDt2YXIgbWF4RGNDb3VudD0wO3ZhciBtYXhFY0NvdW50PTA7dmFyIGRjZGF0YT1uZXcgQXJyYXkocnNCbG9ja3MubGVuZ3RoKTt2YXIgZWNkYXRhPW5ldyBBcnJheShyc0Jsb2Nrcy5sZW5ndGgpO2Zvcih2YXIgcj0wO3I8cnNCbG9ja3MubGVuZ3RoO3IrKyl7dmFyIGRjQ291bnQ9cnNCbG9ja3Nbcl0uZGF0YUNvdW50O3ZhciBlY0NvdW50PXJzQmxvY2tzW3JdLnRvdGFsQ291bnQtZGNDb3VudDttYXhEY0NvdW50PU1hdGgubWF4KG1heERjQ291bnQsZGNDb3VudCk7bWF4RWNDb3VudD1NYXRoLm1heChtYXhFY0NvdW50LGVjQ291bnQpO2RjZGF0YVtyXT1uZXcgQXJyYXkoZGNDb3VudCk7Zm9yKHZhciBpPTA7aTxkY2RhdGFbcl0ubGVuZ3RoO2krKyl7ZGNkYXRhW3JdW2ldPTB4ZmYmYnVmZmVyLmJ1ZmZlcltpK29mZnNldF07fVxuXHRvZmZzZXQrPWRjQ291bnQ7dmFyIHJzUG9seT1RUlV0aWwuZ2V0RXJyb3JDb3JyZWN0UG9seW5vbWlhbChlY0NvdW50KTt2YXIgcmF3UG9seT1uZXcgUVJQb2x5bm9taWFsKGRjZGF0YVtyXSxyc1BvbHkuZ2V0TGVuZ3RoKCktMSk7dmFyIG1vZFBvbHk9cmF3UG9seS5tb2QocnNQb2x5KTtlY2RhdGFbcl09bmV3IEFycmF5KHJzUG9seS5nZXRMZW5ndGgoKS0xKTtmb3IodmFyIGk9MDtpPGVjZGF0YVtyXS5sZW5ndGg7aSsrKXt2YXIgbW9kSW5kZXg9aSttb2RQb2x5LmdldExlbmd0aCgpLWVjZGF0YVtyXS5sZW5ndGg7ZWNkYXRhW3JdW2ldPShtb2RJbmRleD49MCk/bW9kUG9seS5nZXQobW9kSW5kZXgpOjA7fX1cblx0dmFyIHRvdGFsQ29kZUNvdW50PTA7Zm9yKHZhciBpPTA7aTxyc0Jsb2Nrcy5sZW5ndGg7aSsrKXt0b3RhbENvZGVDb3VudCs9cnNCbG9ja3NbaV0udG90YWxDb3VudDt9XG5cdHZhciBkYXRhPW5ldyBBcnJheSh0b3RhbENvZGVDb3VudCk7dmFyIGluZGV4PTA7Zm9yKHZhciBpPTA7aTxtYXhEY0NvdW50O2krKyl7Zm9yKHZhciByPTA7cjxyc0Jsb2Nrcy5sZW5ndGg7cisrKXtpZihpPGRjZGF0YVtyXS5sZW5ndGgpe2RhdGFbaW5kZXgrK109ZGNkYXRhW3JdW2ldO319fVxuXHRmb3IodmFyIGk9MDtpPG1heEVjQ291bnQ7aSsrKXtmb3IodmFyIHI9MDtyPHJzQmxvY2tzLmxlbmd0aDtyKyspe2lmKGk8ZWNkYXRhW3JdLmxlbmd0aCl7ZGF0YVtpbmRleCsrXT1lY2RhdGFbcl1baV07fX19XG5cdHJldHVybiBkYXRhO307dmFyIFFSTW9kZT17TU9ERV9OVU1CRVI6MTw8MCxNT0RFX0FMUEhBX05VTToxPDwxLE1PREVfOEJJVF9CWVRFOjE8PDIsTU9ERV9LQU5KSToxPDwzfTt2YXIgUVJFcnJvckNvcnJlY3RMZXZlbD17TDoxLE06MCxROjMsSDoyfTt2YXIgUVJNYXNrUGF0dGVybj17UEFUVEVSTjAwMDowLFBBVFRFUk4wMDE6MSxQQVRURVJOMDEwOjIsUEFUVEVSTjAxMTozLFBBVFRFUk4xMDA6NCxQQVRURVJOMTAxOjUsUEFUVEVSTjExMDo2LFBBVFRFUk4xMTE6N307dmFyIFFSVXRpbD17UEFUVEVSTl9QT1NJVElPTl9UQUJMRTpbW10sWzYsMThdLFs2LDIyXSxbNiwyNl0sWzYsMzBdLFs2LDM0XSxbNiwyMiwzOF0sWzYsMjQsNDJdLFs2LDI2LDQ2XSxbNiwyOCw1MF0sWzYsMzAsNTRdLFs2LDMyLDU4XSxbNiwzNCw2Ml0sWzYsMjYsNDYsNjZdLFs2LDI2LDQ4LDcwXSxbNiwyNiw1MCw3NF0sWzYsMzAsNTQsNzhdLFs2LDMwLDU2LDgyXSxbNiwzMCw1OCw4Nl0sWzYsMzQsNjIsOTBdLFs2LDI4LDUwLDcyLDk0XSxbNiwyNiw1MCw3NCw5OF0sWzYsMzAsNTQsNzgsMTAyXSxbNiwyOCw1NCw4MCwxMDZdLFs2LDMyLDU4LDg0LDExMF0sWzYsMzAsNTgsODYsMTE0XSxbNiwzNCw2Miw5MCwxMThdLFs2LDI2LDUwLDc0LDk4LDEyMl0sWzYsMzAsNTQsNzgsMTAyLDEyNl0sWzYsMjYsNTIsNzgsMTA0LDEzMF0sWzYsMzAsNTYsODIsMTA4LDEzNF0sWzYsMzQsNjAsODYsMTEyLDEzOF0sWzYsMzAsNTgsODYsMTE0LDE0Ml0sWzYsMzQsNjIsOTAsMTE4LDE0Nl0sWzYsMzAsNTQsNzgsMTAyLDEyNiwxNTBdLFs2LDI0LDUwLDc2LDEwMiwxMjgsMTU0XSxbNiwyOCw1NCw4MCwxMDYsMTMyLDE1OF0sWzYsMzIsNTgsODQsMTEwLDEzNiwxNjJdLFs2LDI2LDU0LDgyLDExMCwxMzgsMTY2XSxbNiwzMCw1OCw4NiwxMTQsMTQyLDE3MF1dLEcxNTooMTw8MTApfCgxPDw4KXwoMTw8NSl8KDE8PDQpfCgxPDwyKXwoMTw8MSl8KDE8PDApLEcxODooMTw8MTIpfCgxPDwxMSl8KDE8PDEwKXwoMTw8OSl8KDE8PDgpfCgxPDw1KXwoMTw8Mil8KDE8PDApLEcxNV9NQVNLOigxPDwxNCl8KDE8PDEyKXwoMTw8MTApfCgxPDw0KXwoMTw8MSksZ2V0QkNIVHlwZUluZm86ZnVuY3Rpb24oZGF0YSl7dmFyIGQ9ZGF0YTw8MTA7d2hpbGUoUVJVdGlsLmdldEJDSERpZ2l0KGQpLVFSVXRpbC5nZXRCQ0hEaWdpdChRUlV0aWwuRzE1KT49MCl7ZF49KFFSVXRpbC5HMTU8PChRUlV0aWwuZ2V0QkNIRGlnaXQoZCktUVJVdGlsLmdldEJDSERpZ2l0KFFSVXRpbC5HMTUpKSk7fVxuXHRyZXR1cm4oKGRhdGE8PDEwKXxkKV5RUlV0aWwuRzE1X01BU0s7fSxnZXRCQ0hUeXBlTnVtYmVyOmZ1bmN0aW9uKGRhdGEpe3ZhciBkPWRhdGE8PDEyO3doaWxlKFFSVXRpbC5nZXRCQ0hEaWdpdChkKS1RUlV0aWwuZ2V0QkNIRGlnaXQoUVJVdGlsLkcxOCk+PTApe2RePShRUlV0aWwuRzE4PDwoUVJVdGlsLmdldEJDSERpZ2l0KGQpLVFSVXRpbC5nZXRCQ0hEaWdpdChRUlV0aWwuRzE4KSkpO31cblx0cmV0dXJuKGRhdGE8PDEyKXxkO30sZ2V0QkNIRGlnaXQ6ZnVuY3Rpb24oZGF0YSl7dmFyIGRpZ2l0PTA7d2hpbGUoZGF0YSE9MCl7ZGlnaXQrKztkYXRhPj4+PTE7fVxuXHRyZXR1cm4gZGlnaXQ7fSxnZXRQYXR0ZXJuUG9zaXRpb246ZnVuY3Rpb24odHlwZU51bWJlcil7cmV0dXJuIFFSVXRpbC5QQVRURVJOX1BPU0lUSU9OX1RBQkxFW3R5cGVOdW1iZXItMV07fSxnZXRNYXNrOmZ1bmN0aW9uKG1hc2tQYXR0ZXJuLGksail7c3dpdGNoKG1hc2tQYXR0ZXJuKXtjYXNlIFFSTWFza1BhdHRlcm4uUEFUVEVSTjAwMDpyZXR1cm4oaStqKSUyPT0wO2Nhc2UgUVJNYXNrUGF0dGVybi5QQVRURVJOMDAxOnJldHVybiBpJTI9PTA7Y2FzZSBRUk1hc2tQYXR0ZXJuLlBBVFRFUk4wMTA6cmV0dXJuIGolMz09MDtjYXNlIFFSTWFza1BhdHRlcm4uUEFUVEVSTjAxMTpyZXR1cm4oaStqKSUzPT0wO2Nhc2UgUVJNYXNrUGF0dGVybi5QQVRURVJOMTAwOnJldHVybihNYXRoLmZsb29yKGkvMikrTWF0aC5mbG9vcihqLzMpKSUyPT0wO2Nhc2UgUVJNYXNrUGF0dGVybi5QQVRURVJOMTAxOnJldHVybihpKmopJTIrKGkqaiklMz09MDtjYXNlIFFSTWFza1BhdHRlcm4uUEFUVEVSTjExMDpyZXR1cm4oKGkqaiklMisoaSpqKSUzKSUyPT0wO2Nhc2UgUVJNYXNrUGF0dGVybi5QQVRURVJOMTExOnJldHVybigoaSpqKSUzKyhpK2opJTIpJTI9PTA7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJiYWQgbWFza1BhdHRlcm46XCIrbWFza1BhdHRlcm4pO319LGdldEVycm9yQ29ycmVjdFBvbHlub21pYWw6ZnVuY3Rpb24oZXJyb3JDb3JyZWN0TGVuZ3RoKXt2YXIgYT1uZXcgUVJQb2x5bm9taWFsKFsxXSwwKTtmb3IodmFyIGk9MDtpPGVycm9yQ29ycmVjdExlbmd0aDtpKyspe2E9YS5tdWx0aXBseShuZXcgUVJQb2x5bm9taWFsKFsxLFFSTWF0aC5nZXhwKGkpXSwwKSk7fVxuXHRyZXR1cm4gYTt9LGdldExlbmd0aEluQml0czpmdW5jdGlvbihtb2RlLHR5cGUpe2lmKDE8PXR5cGUmJnR5cGU8MTApe3N3aXRjaChtb2RlKXtjYXNlIFFSTW9kZS5NT0RFX05VTUJFUjpyZXR1cm4gMTA7Y2FzZSBRUk1vZGUuTU9ERV9BTFBIQV9OVU06cmV0dXJuIDk7Y2FzZSBRUk1vZGUuTU9ERV84QklUX0JZVEU6cmV0dXJuIDg7Y2FzZSBRUk1vZGUuTU9ERV9LQU5KSTpyZXR1cm4gODtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIm1vZGU6XCIrbW9kZSk7fX1lbHNlIGlmKHR5cGU8Mjcpe3N3aXRjaChtb2RlKXtjYXNlIFFSTW9kZS5NT0RFX05VTUJFUjpyZXR1cm4gMTI7Y2FzZSBRUk1vZGUuTU9ERV9BTFBIQV9OVU06cmV0dXJuIDExO2Nhc2UgUVJNb2RlLk1PREVfOEJJVF9CWVRFOnJldHVybiAxNjtjYXNlIFFSTW9kZS5NT0RFX0tBTkpJOnJldHVybiAxMDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIm1vZGU6XCIrbW9kZSk7fX1lbHNlIGlmKHR5cGU8NDEpe3N3aXRjaChtb2RlKXtjYXNlIFFSTW9kZS5NT0RFX05VTUJFUjpyZXR1cm4gMTQ7Y2FzZSBRUk1vZGUuTU9ERV9BTFBIQV9OVU06cmV0dXJuIDEzO2Nhc2UgUVJNb2RlLk1PREVfOEJJVF9CWVRFOnJldHVybiAxNjtjYXNlIFFSTW9kZS5NT0RFX0tBTkpJOnJldHVybiAxMjtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcIm1vZGU6XCIrbW9kZSk7fX1lbHNle3Rocm93IG5ldyBFcnJvcihcInR5cGU6XCIrdHlwZSk7fX0sZ2V0TG9zdFBvaW50OmZ1bmN0aW9uKHFyQ29kZSl7dmFyIG1vZHVsZUNvdW50PXFyQ29kZS5nZXRNb2R1bGVDb3VudCgpO3ZhciBsb3N0UG9pbnQ9MDtmb3IodmFyIHJvdz0wO3Jvdzxtb2R1bGVDb3VudDtyb3crKyl7Zm9yKHZhciBjb2w9MDtjb2w8bW9kdWxlQ291bnQ7Y29sKyspe3ZhciBzYW1lQ291bnQ9MDt2YXIgZGFyaz1xckNvZGUuaXNEYXJrKHJvdyxjb2wpO2Zvcih2YXIgcj0tMTtyPD0xO3IrKyl7aWYocm93K3I8MHx8bW9kdWxlQ291bnQ8PXJvdytyKXtjb250aW51ZTt9XG5cdGZvcih2YXIgYz0tMTtjPD0xO2MrKyl7aWYoY29sK2M8MHx8bW9kdWxlQ291bnQ8PWNvbCtjKXtjb250aW51ZTt9XG5cdGlmKHI9PTAmJmM9PTApe2NvbnRpbnVlO31cblx0aWYoZGFyaz09cXJDb2RlLmlzRGFyayhyb3crcixjb2wrYykpe3NhbWVDb3VudCsrO319fVxuXHRpZihzYW1lQ291bnQ+NSl7bG9zdFBvaW50Kz0oMytzYW1lQ291bnQtNSk7fX19XG5cdGZvcih2YXIgcm93PTA7cm93PG1vZHVsZUNvdW50LTE7cm93Kyspe2Zvcih2YXIgY29sPTA7Y29sPG1vZHVsZUNvdW50LTE7Y29sKyspe3ZhciBjb3VudD0wO2lmKHFyQ29kZS5pc0Rhcmsocm93LGNvbCkpY291bnQrKztpZihxckNvZGUuaXNEYXJrKHJvdysxLGNvbCkpY291bnQrKztpZihxckNvZGUuaXNEYXJrKHJvdyxjb2wrMSkpY291bnQrKztpZihxckNvZGUuaXNEYXJrKHJvdysxLGNvbCsxKSljb3VudCsrO2lmKGNvdW50PT0wfHxjb3VudD09NCl7bG9zdFBvaW50Kz0zO319fVxuXHRmb3IodmFyIHJvdz0wO3Jvdzxtb2R1bGVDb3VudDtyb3crKyl7Zm9yKHZhciBjb2w9MDtjb2w8bW9kdWxlQ291bnQtNjtjb2wrKyl7aWYocXJDb2RlLmlzRGFyayhyb3csY29sKSYmIXFyQ29kZS5pc0Rhcmsocm93LGNvbCsxKSYmcXJDb2RlLmlzRGFyayhyb3csY29sKzIpJiZxckNvZGUuaXNEYXJrKHJvdyxjb2wrMykmJnFyQ29kZS5pc0Rhcmsocm93LGNvbCs0KSYmIXFyQ29kZS5pc0Rhcmsocm93LGNvbCs1KSYmcXJDb2RlLmlzRGFyayhyb3csY29sKzYpKXtsb3N0UG9pbnQrPTQwO319fVxuXHRmb3IodmFyIGNvbD0wO2NvbDxtb2R1bGVDb3VudDtjb2wrKyl7Zm9yKHZhciByb3c9MDtyb3c8bW9kdWxlQ291bnQtNjtyb3crKyl7aWYocXJDb2RlLmlzRGFyayhyb3csY29sKSYmIXFyQ29kZS5pc0Rhcmsocm93KzEsY29sKSYmcXJDb2RlLmlzRGFyayhyb3crMixjb2wpJiZxckNvZGUuaXNEYXJrKHJvdyszLGNvbCkmJnFyQ29kZS5pc0Rhcmsocm93KzQsY29sKSYmIXFyQ29kZS5pc0Rhcmsocm93KzUsY29sKSYmcXJDb2RlLmlzRGFyayhyb3crNixjb2wpKXtsb3N0UG9pbnQrPTQwO319fVxuXHR2YXIgZGFya0NvdW50PTA7Zm9yKHZhciBjb2w9MDtjb2w8bW9kdWxlQ291bnQ7Y29sKyspe2Zvcih2YXIgcm93PTA7cm93PG1vZHVsZUNvdW50O3JvdysrKXtpZihxckNvZGUuaXNEYXJrKHJvdyxjb2wpKXtkYXJrQ291bnQrKzt9fX1cblx0dmFyIHJhdGlvPU1hdGguYWJzKDEwMCpkYXJrQ291bnQvbW9kdWxlQ291bnQvbW9kdWxlQ291bnQtNTApLzU7bG9zdFBvaW50Kz1yYXRpbyoxMDtyZXR1cm4gbG9zdFBvaW50O319O3ZhciBRUk1hdGg9e2dsb2c6ZnVuY3Rpb24obil7aWYobjwxKXt0aHJvdyBuZXcgRXJyb3IoXCJnbG9nKFwiK24rXCIpXCIpO31cblx0cmV0dXJuIFFSTWF0aC5MT0dfVEFCTEVbbl07fSxnZXhwOmZ1bmN0aW9uKG4pe3doaWxlKG48MCl7bis9MjU1O31cblx0d2hpbGUobj49MjU2KXtuLT0yNTU7fVxuXHRyZXR1cm4gUVJNYXRoLkVYUF9UQUJMRVtuXTt9LEVYUF9UQUJMRTpuZXcgQXJyYXkoMjU2KSxMT0dfVEFCTEU6bmV3IEFycmF5KDI1Nil9O2Zvcih2YXIgaT0wO2k8ODtpKyspe1FSTWF0aC5FWFBfVEFCTEVbaV09MTw8aTt9XG5cdGZvcih2YXIgaT04O2k8MjU2O2krKyl7UVJNYXRoLkVYUF9UQUJMRVtpXT1RUk1hdGguRVhQX1RBQkxFW2ktNF1eUVJNYXRoLkVYUF9UQUJMRVtpLTVdXlFSTWF0aC5FWFBfVEFCTEVbaS02XV5RUk1hdGguRVhQX1RBQkxFW2ktOF07fVxuXHRmb3IodmFyIGk9MDtpPDI1NTtpKyspe1FSTWF0aC5MT0dfVEFCTEVbUVJNYXRoLkVYUF9UQUJMRVtpXV09aTt9XG5cdGZ1bmN0aW9uIFFSUG9seW5vbWlhbChudW0sc2hpZnQpe2lmKG51bS5sZW5ndGg9PXVuZGVmaW5lZCl7dGhyb3cgbmV3IEVycm9yKG51bS5sZW5ndGgrXCIvXCIrc2hpZnQpO31cblx0dmFyIG9mZnNldD0wO3doaWxlKG9mZnNldDxudW0ubGVuZ3RoJiZudW1bb2Zmc2V0XT09MCl7b2Zmc2V0Kys7fVxuXHR0aGlzLm51bT1uZXcgQXJyYXkobnVtLmxlbmd0aC1vZmZzZXQrc2hpZnQpO2Zvcih2YXIgaT0wO2k8bnVtLmxlbmd0aC1vZmZzZXQ7aSsrKXt0aGlzLm51bVtpXT1udW1baStvZmZzZXRdO319XG5cdFFSUG9seW5vbWlhbC5wcm90b3R5cGU9e2dldDpmdW5jdGlvbihpbmRleCl7cmV0dXJuIHRoaXMubnVtW2luZGV4XTt9LGdldExlbmd0aDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm51bS5sZW5ndGg7fSxtdWx0aXBseTpmdW5jdGlvbihlKXt2YXIgbnVtPW5ldyBBcnJheSh0aGlzLmdldExlbmd0aCgpK2UuZ2V0TGVuZ3RoKCktMSk7Zm9yKHZhciBpPTA7aTx0aGlzLmdldExlbmd0aCgpO2krKyl7Zm9yKHZhciBqPTA7ajxlLmdldExlbmd0aCgpO2orKyl7bnVtW2kral1ePVFSTWF0aC5nZXhwKFFSTWF0aC5nbG9nKHRoaXMuZ2V0KGkpKStRUk1hdGguZ2xvZyhlLmdldChqKSkpO319XG5cdHJldHVybiBuZXcgUVJQb2x5bm9taWFsKG51bSwwKTt9LG1vZDpmdW5jdGlvbihlKXtpZih0aGlzLmdldExlbmd0aCgpLWUuZ2V0TGVuZ3RoKCk8MCl7cmV0dXJuIHRoaXM7fVxuXHR2YXIgcmF0aW89UVJNYXRoLmdsb2codGhpcy5nZXQoMCkpLVFSTWF0aC5nbG9nKGUuZ2V0KDApKTt2YXIgbnVtPW5ldyBBcnJheSh0aGlzLmdldExlbmd0aCgpKTtmb3IodmFyIGk9MDtpPHRoaXMuZ2V0TGVuZ3RoKCk7aSsrKXtudW1baV09dGhpcy5nZXQoaSk7fVxuXHRmb3IodmFyIGk9MDtpPGUuZ2V0TGVuZ3RoKCk7aSsrKXtudW1baV1ePVFSTWF0aC5nZXhwKFFSTWF0aC5nbG9nKGUuZ2V0KGkpKStyYXRpbyk7fVxuXHRyZXR1cm4gbmV3IFFSUG9seW5vbWlhbChudW0sMCkubW9kKGUpO319O2Z1bmN0aW9uIFFSUlNCbG9jayh0b3RhbENvdW50LGRhdGFDb3VudCl7dGhpcy50b3RhbENvdW50PXRvdGFsQ291bnQ7dGhpcy5kYXRhQ291bnQ9ZGF0YUNvdW50O31cblx0UVJSU0Jsb2NrLlJTX0JMT0NLX1RBQkxFPVtbMSwyNiwxOV0sWzEsMjYsMTZdLFsxLDI2LDEzXSxbMSwyNiw5XSxbMSw0NCwzNF0sWzEsNDQsMjhdLFsxLDQ0LDIyXSxbMSw0NCwxNl0sWzEsNzAsNTVdLFsxLDcwLDQ0XSxbMiwzNSwxN10sWzIsMzUsMTNdLFsxLDEwMCw4MF0sWzIsNTAsMzJdLFsyLDUwLDI0XSxbNCwyNSw5XSxbMSwxMzQsMTA4XSxbMiw2Nyw0M10sWzIsMzMsMTUsMiwzNCwxNl0sWzIsMzMsMTEsMiwzNCwxMl0sWzIsODYsNjhdLFs0LDQzLDI3XSxbNCw0MywxOV0sWzQsNDMsMTVdLFsyLDk4LDc4XSxbNCw0OSwzMV0sWzIsMzIsMTQsNCwzMywxNV0sWzQsMzksMTMsMSw0MCwxNF0sWzIsMTIxLDk3XSxbMiw2MCwzOCwyLDYxLDM5XSxbNCw0MCwxOCwyLDQxLDE5XSxbNCw0MCwxNCwyLDQxLDE1XSxbMiwxNDYsMTE2XSxbMyw1OCwzNiwyLDU5LDM3XSxbNCwzNiwxNiw0LDM3LDE3XSxbNCwzNiwxMiw0LDM3LDEzXSxbMiw4Niw2OCwyLDg3LDY5XSxbNCw2OSw0MywxLDcwLDQ0XSxbNiw0MywxOSwyLDQ0LDIwXSxbNiw0MywxNSwyLDQ0LDE2XSxbNCwxMDEsODFdLFsxLDgwLDUwLDQsODEsNTFdLFs0LDUwLDIyLDQsNTEsMjNdLFszLDM2LDEyLDgsMzcsMTNdLFsyLDExNiw5MiwyLDExNyw5M10sWzYsNTgsMzYsMiw1OSwzN10sWzQsNDYsMjAsNiw0NywyMV0sWzcsNDIsMTQsNCw0MywxNV0sWzQsMTMzLDEwN10sWzgsNTksMzcsMSw2MCwzOF0sWzgsNDQsMjAsNCw0NSwyMV0sWzEyLDMzLDExLDQsMzQsMTJdLFszLDE0NSwxMTUsMSwxNDYsMTE2XSxbNCw2NCw0MCw1LDY1LDQxXSxbMTEsMzYsMTYsNSwzNywxN10sWzExLDM2LDEyLDUsMzcsMTNdLFs1LDEwOSw4NywxLDExMCw4OF0sWzUsNjUsNDEsNSw2Niw0Ml0sWzUsNTQsMjQsNyw1NSwyNV0sWzExLDM2LDEyXSxbNSwxMjIsOTgsMSwxMjMsOTldLFs3LDczLDQ1LDMsNzQsNDZdLFsxNSw0MywxOSwyLDQ0LDIwXSxbMyw0NSwxNSwxMyw0NiwxNl0sWzEsMTM1LDEwNyw1LDEzNiwxMDhdLFsxMCw3NCw0NiwxLDc1LDQ3XSxbMSw1MCwyMiwxNSw1MSwyM10sWzIsNDIsMTQsMTcsNDMsMTVdLFs1LDE1MCwxMjAsMSwxNTEsMTIxXSxbOSw2OSw0Myw0LDcwLDQ0XSxbMTcsNTAsMjIsMSw1MSwyM10sWzIsNDIsMTQsMTksNDMsMTVdLFszLDE0MSwxMTMsNCwxNDIsMTE0XSxbMyw3MCw0NCwxMSw3MSw0NV0sWzE3LDQ3LDIxLDQsNDgsMjJdLFs5LDM5LDEzLDE2LDQwLDE0XSxbMywxMzUsMTA3LDUsMTM2LDEwOF0sWzMsNjcsNDEsMTMsNjgsNDJdLFsxNSw1NCwyNCw1LDU1LDI1XSxbMTUsNDMsMTUsMTAsNDQsMTZdLFs0LDE0NCwxMTYsNCwxNDUsMTE3XSxbMTcsNjgsNDJdLFsxNyw1MCwyMiw2LDUxLDIzXSxbMTksNDYsMTYsNiw0NywxN10sWzIsMTM5LDExMSw3LDE0MCwxMTJdLFsxNyw3NCw0Nl0sWzcsNTQsMjQsMTYsNTUsMjVdLFszNCwzNywxM10sWzQsMTUxLDEyMSw1LDE1MiwxMjJdLFs0LDc1LDQ3LDE0LDc2LDQ4XSxbMTEsNTQsMjQsMTQsNTUsMjVdLFsxNiw0NSwxNSwxNCw0NiwxNl0sWzYsMTQ3LDExNyw0LDE0OCwxMThdLFs2LDczLDQ1LDE0LDc0LDQ2XSxbMTEsNTQsMjQsMTYsNTUsMjVdLFszMCw0NiwxNiwyLDQ3LDE3XSxbOCwxMzIsMTA2LDQsMTMzLDEwN10sWzgsNzUsNDcsMTMsNzYsNDhdLFs3LDU0LDI0LDIyLDU1LDI1XSxbMjIsNDUsMTUsMTMsNDYsMTZdLFsxMCwxNDIsMTE0LDIsMTQzLDExNV0sWzE5LDc0LDQ2LDQsNzUsNDddLFsyOCw1MCwyMiw2LDUxLDIzXSxbMzMsNDYsMTYsNCw0NywxN10sWzgsMTUyLDEyMiw0LDE1MywxMjNdLFsyMiw3Myw0NSwzLDc0LDQ2XSxbOCw1MywyMywyNiw1NCwyNF0sWzEyLDQ1LDE1LDI4LDQ2LDE2XSxbMywxNDcsMTE3LDEwLDE0OCwxMThdLFszLDczLDQ1LDIzLDc0LDQ2XSxbNCw1NCwyNCwzMSw1NSwyNV0sWzExLDQ1LDE1LDMxLDQ2LDE2XSxbNywxNDYsMTE2LDcsMTQ3LDExN10sWzIxLDczLDQ1LDcsNzQsNDZdLFsxLDUzLDIzLDM3LDU0LDI0XSxbMTksNDUsMTUsMjYsNDYsMTZdLFs1LDE0NSwxMTUsMTAsMTQ2LDExNl0sWzE5LDc1LDQ3LDEwLDc2LDQ4XSxbMTUsNTQsMjQsMjUsNTUsMjVdLFsyMyw0NSwxNSwyNSw0NiwxNl0sWzEzLDE0NSwxMTUsMywxNDYsMTE2XSxbMiw3NCw0NiwyOSw3NSw0N10sWzQyLDU0LDI0LDEsNTUsMjVdLFsyMyw0NSwxNSwyOCw0NiwxNl0sWzE3LDE0NSwxMTVdLFsxMCw3NCw0NiwyMyw3NSw0N10sWzEwLDU0LDI0LDM1LDU1LDI1XSxbMTksNDUsMTUsMzUsNDYsMTZdLFsxNywxNDUsMTE1LDEsMTQ2LDExNl0sWzE0LDc0LDQ2LDIxLDc1LDQ3XSxbMjksNTQsMjQsMTksNTUsMjVdLFsxMSw0NSwxNSw0Niw0NiwxNl0sWzEzLDE0NSwxMTUsNiwxNDYsMTE2XSxbMTQsNzQsNDYsMjMsNzUsNDddLFs0NCw1NCwyNCw3LDU1LDI1XSxbNTksNDYsMTYsMSw0NywxN10sWzEyLDE1MSwxMjEsNywxNTIsMTIyXSxbMTIsNzUsNDcsMjYsNzYsNDhdLFszOSw1NCwyNCwxNCw1NSwyNV0sWzIyLDQ1LDE1LDQxLDQ2LDE2XSxbNiwxNTEsMTIxLDE0LDE1MiwxMjJdLFs2LDc1LDQ3LDM0LDc2LDQ4XSxbNDYsNTQsMjQsMTAsNTUsMjVdLFsyLDQ1LDE1LDY0LDQ2LDE2XSxbMTcsMTUyLDEyMiw0LDE1MywxMjNdLFsyOSw3NCw0NiwxNCw3NSw0N10sWzQ5LDU0LDI0LDEwLDU1LDI1XSxbMjQsNDUsMTUsNDYsNDYsMTZdLFs0LDE1MiwxMjIsMTgsMTUzLDEyM10sWzEzLDc0LDQ2LDMyLDc1LDQ3XSxbNDgsNTQsMjQsMTQsNTUsMjVdLFs0Miw0NSwxNSwzMiw0NiwxNl0sWzIwLDE0NywxMTcsNCwxNDgsMTE4XSxbNDAsNzUsNDcsNyw3Niw0OF0sWzQzLDU0LDI0LDIyLDU1LDI1XSxbMTAsNDUsMTUsNjcsNDYsMTZdLFsxOSwxNDgsMTE4LDYsMTQ5LDExOV0sWzE4LDc1LDQ3LDMxLDc2LDQ4XSxbMzQsNTQsMjQsMzQsNTUsMjVdLFsyMCw0NSwxNSw2MSw0NiwxNl1dO1FSUlNCbG9jay5nZXRSU0Jsb2Nrcz1mdW5jdGlvbih0eXBlTnVtYmVyLGVycm9yQ29ycmVjdExldmVsKXt2YXIgcnNCbG9jaz1RUlJTQmxvY2suZ2V0UnNCbG9ja1RhYmxlKHR5cGVOdW1iZXIsZXJyb3JDb3JyZWN0TGV2ZWwpO2lmKHJzQmxvY2s9PXVuZGVmaW5lZCl7dGhyb3cgbmV3IEVycm9yKFwiYmFkIHJzIGJsb2NrIEAgdHlwZU51bWJlcjpcIit0eXBlTnVtYmVyK1wiL2Vycm9yQ29ycmVjdExldmVsOlwiK2Vycm9yQ29ycmVjdExldmVsKTt9XG5cdHZhciBsZW5ndGg9cnNCbG9jay5sZW5ndGgvMzt2YXIgbGlzdD1bXTtmb3IodmFyIGk9MDtpPGxlbmd0aDtpKyspe3ZhciBjb3VudD1yc0Jsb2NrW2kqMyswXTt2YXIgdG90YWxDb3VudD1yc0Jsb2NrW2kqMysxXTt2YXIgZGF0YUNvdW50PXJzQmxvY2tbaSozKzJdO2Zvcih2YXIgaj0wO2o8Y291bnQ7aisrKXtsaXN0LnB1c2gobmV3IFFSUlNCbG9jayh0b3RhbENvdW50LGRhdGFDb3VudCkpO319XG5cdHJldHVybiBsaXN0O307UVJSU0Jsb2NrLmdldFJzQmxvY2tUYWJsZT1mdW5jdGlvbih0eXBlTnVtYmVyLGVycm9yQ29ycmVjdExldmVsKXtzd2l0Y2goZXJyb3JDb3JyZWN0TGV2ZWwpe2Nhc2UgUVJFcnJvckNvcnJlY3RMZXZlbC5MOnJldHVybiBRUlJTQmxvY2suUlNfQkxPQ0tfVEFCTEVbKHR5cGVOdW1iZXItMSkqNCswXTtjYXNlIFFSRXJyb3JDb3JyZWN0TGV2ZWwuTTpyZXR1cm4gUVJSU0Jsb2NrLlJTX0JMT0NLX1RBQkxFWyh0eXBlTnVtYmVyLTEpKjQrMV07Y2FzZSBRUkVycm9yQ29ycmVjdExldmVsLlE6cmV0dXJuIFFSUlNCbG9jay5SU19CTE9DS19UQUJMRVsodHlwZU51bWJlci0xKSo0KzJdO2Nhc2UgUVJFcnJvckNvcnJlY3RMZXZlbC5IOnJldHVybiBRUlJTQmxvY2suUlNfQkxPQ0tfVEFCTEVbKHR5cGVOdW1iZXItMSkqNCszXTtkZWZhdWx0OnJldHVybiB1bmRlZmluZWQ7fX07ZnVuY3Rpb24gUVJCaXRCdWZmZXIoKXt0aGlzLmJ1ZmZlcj1bXTt0aGlzLmxlbmd0aD0wO31cblx0UVJCaXRCdWZmZXIucHJvdG90eXBlPXtnZXQ6ZnVuY3Rpb24oaW5kZXgpe3ZhciBidWZJbmRleD1NYXRoLmZsb29yKGluZGV4LzgpO3JldHVybigodGhpcy5idWZmZXJbYnVmSW5kZXhdPj4+KDctaW5kZXglOCkpJjEpPT0xO30scHV0OmZ1bmN0aW9uKG51bSxsZW5ndGgpe2Zvcih2YXIgaT0wO2k8bGVuZ3RoO2krKyl7dGhpcy5wdXRCaXQoKChudW0+Pj4obGVuZ3RoLWktMSkpJjEpPT0xKTt9fSxnZXRMZW5ndGhJbkJpdHM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5sZW5ndGg7fSxwdXRCaXQ6ZnVuY3Rpb24oYml0KXt2YXIgYnVmSW5kZXg9TWF0aC5mbG9vcih0aGlzLmxlbmd0aC84KTtpZih0aGlzLmJ1ZmZlci5sZW5ndGg8PWJ1ZkluZGV4KXt0aGlzLmJ1ZmZlci5wdXNoKDApO31cblx0aWYoYml0KXt0aGlzLmJ1ZmZlcltidWZJbmRleF18PSgweDgwPj4+KHRoaXMubGVuZ3RoJTgpKTt9XG5cdHRoaXMubGVuZ3RoKys7fX07dmFyIFFSQ29kZUxpbWl0TGVuZ3RoPVtbMTcsMTQsMTEsN10sWzMyLDI2LDIwLDE0XSxbNTMsNDIsMzIsMjRdLFs3OCw2Miw0NiwzNF0sWzEwNiw4NCw2MCw0NF0sWzEzNCwxMDYsNzQsNThdLFsxNTQsMTIyLDg2LDY0XSxbMTkyLDE1MiwxMDgsODRdLFsyMzAsMTgwLDEzMCw5OF0sWzI3MSwyMTMsMTUxLDExOV0sWzMyMSwyNTEsMTc3LDEzN10sWzM2NywyODcsMjAzLDE1NV0sWzQyNSwzMzEsMjQxLDE3N10sWzQ1OCwzNjIsMjU4LDE5NF0sWzUyMCw0MTIsMjkyLDIyMF0sWzU4Niw0NTAsMzIyLDI1MF0sWzY0NCw1MDQsMzY0LDI4MF0sWzcxOCw1NjAsMzk0LDMxMF0sWzc5Miw2MjQsNDQyLDMzOF0sWzg1OCw2NjYsNDgyLDM4Ml0sWzkyOSw3MTEsNTA5LDQwM10sWzEwMDMsNzc5LDU2NSw0MzldLFsxMDkxLDg1Nyw2MTEsNDYxXSxbMTE3MSw5MTEsNjYxLDUxMV0sWzEyNzMsOTk3LDcxNSw1MzVdLFsxMzY3LDEwNTksNzUxLDU5M10sWzE0NjUsMTEyNSw4MDUsNjI1XSxbMTUyOCwxMTkwLDg2OCw2NThdLFsxNjI4LDEyNjQsOTA4LDY5OF0sWzE3MzIsMTM3MCw5ODIsNzQyXSxbMTg0MCwxNDUyLDEwMzAsNzkwXSxbMTk1MiwxNTM4LDExMTIsODQyXSxbMjA2OCwxNjI4LDExNjgsODk4XSxbMjE4OCwxNzIyLDEyMjgsOTU4XSxbMjMwMywxODA5LDEyODMsOTgzXSxbMjQzMSwxOTExLDEzNTEsMTA1MV0sWzI1NjMsMTk4OSwxNDIzLDEwOTNdLFsyNjk5LDIwOTksMTQ5OSwxMTM5XSxbMjgwOSwyMjEzLDE1NzksMTIxOV0sWzI5NTMsMjMzMSwxNjYzLDEyNzNdXTtcblx0XG5cdGZ1bmN0aW9uIF9pc1N1cHBvcnRDYW52YXMoKSB7XG5cdFx0cmV0dXJuIHR5cGVvZiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQgIT0gXCJ1bmRlZmluZWRcIjtcblx0fVxuXHRcblx0Ly8gYW5kcm9pZCAyLnggZG9lc24ndCBzdXBwb3J0IERhdGEtVVJJIHNwZWNcblx0ZnVuY3Rpb24gX2dldEFuZHJvaWQoKSB7XG5cdFx0dmFyIGFuZHJvaWQgPSBmYWxzZTtcblx0XHR2YXIgc0FnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudDtcblx0XHRcblx0XHRpZiAoL2FuZHJvaWQvaS50ZXN0KHNBZ2VudCkpIHsgLy8gYW5kcm9pZFxuXHRcdFx0YW5kcm9pZCA9IHRydWU7XG5cdFx0XHR2YXIgYU1hdCA9IHNBZ2VudC50b1N0cmluZygpLm1hdGNoKC9hbmRyb2lkIChbMC05XVxcLlswLTldKS9pKTtcblx0XHRcdFxuXHRcdFx0aWYgKGFNYXQgJiYgYU1hdFsxXSkge1xuXHRcdFx0XHRhbmRyb2lkID0gcGFyc2VGbG9hdChhTWF0WzFdKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIGFuZHJvaWQ7XG5cdH1cblx0XG5cdHZhciBzdmdEcmF3ZXIgPSAoZnVuY3Rpb24oKSB7XG5cblx0XHR2YXIgRHJhd2luZyA9IGZ1bmN0aW9uIChlbCwgaHRPcHRpb24pIHtcblx0XHRcdHRoaXMuX2VsID0gZWw7XG5cdFx0XHR0aGlzLl9odE9wdGlvbiA9IGh0T3B0aW9uO1xuXHRcdH07XG5cblx0XHREcmF3aW5nLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKG9RUkNvZGUpIHtcblx0XHRcdHZhciBfaHRPcHRpb24gPSB0aGlzLl9odE9wdGlvbjtcblx0XHRcdHZhciBfZWwgPSB0aGlzLl9lbDtcblx0XHRcdHZhciBuQ291bnQgPSBvUVJDb2RlLmdldE1vZHVsZUNvdW50KCk7XG5cdFx0XHR2YXIgbldpZHRoID0gTWF0aC5mbG9vcihfaHRPcHRpb24ud2lkdGggLyBuQ291bnQpO1xuXHRcdFx0dmFyIG5IZWlnaHQgPSBNYXRoLmZsb29yKF9odE9wdGlvbi5oZWlnaHQgLyBuQ291bnQpO1xuXG5cdFx0XHR0aGlzLmNsZWFyKCk7XG5cblx0XHRcdGZ1bmN0aW9uIG1ha2VTVkcodGFnLCBhdHRycykge1xuXHRcdFx0XHR2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgdGFnKTtcblx0XHRcdFx0Zm9yICh2YXIgayBpbiBhdHRycylcblx0XHRcdFx0XHRpZiAoYXR0cnMuaGFzT3duUHJvcGVydHkoaykpIGVsLnNldEF0dHJpYnV0ZShrLCBhdHRyc1trXSk7XG5cdFx0XHRcdHJldHVybiBlbDtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHN2ZyA9IG1ha2VTVkcoXCJzdmdcIiAsIHsndmlld0JveCc6ICcwIDAgJyArIFN0cmluZyhuQ291bnQpICsgXCIgXCIgKyBTdHJpbmcobkNvdW50KSwgJ3dpZHRoJzogJzEwMCUnLCAnaGVpZ2h0JzogJzEwMCUnLCAnZmlsbCc6IF9odE9wdGlvbi5jb2xvckxpZ2h0fSk7XG5cdFx0XHRzdmcuc2V0QXR0cmlidXRlTlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3htbG5zL1wiLCBcInhtbG5zOnhsaW5rXCIsIFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiKTtcblx0XHRcdF9lbC5hcHBlbmRDaGlsZChzdmcpO1xuXG5cdFx0XHRzdmcuYXBwZW5kQ2hpbGQobWFrZVNWRyhcInJlY3RcIiwge1wiZmlsbFwiOiBfaHRPcHRpb24uY29sb3JMaWdodCwgXCJ3aWR0aFwiOiBcIjEwMCVcIiwgXCJoZWlnaHRcIjogXCIxMDAlXCJ9KSk7XG5cdFx0XHRzdmcuYXBwZW5kQ2hpbGQobWFrZVNWRyhcInJlY3RcIiwge1wiZmlsbFwiOiBfaHRPcHRpb24uY29sb3JEYXJrLCBcIndpZHRoXCI6IFwiMVwiLCBcImhlaWdodFwiOiBcIjFcIiwgXCJpZFwiOiBcInRlbXBsYXRlXCJ9KSk7XG5cblx0XHRcdGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IG5Db3VudDsgcm93KyspIHtcblx0XHRcdFx0Zm9yICh2YXIgY29sID0gMDsgY29sIDwgbkNvdW50OyBjb2wrKykge1xuXHRcdFx0XHRcdGlmIChvUVJDb2RlLmlzRGFyayhyb3csIGNvbCkpIHtcblx0XHRcdFx0XHRcdHZhciBjaGlsZCA9IG1ha2VTVkcoXCJ1c2VcIiwge1wieFwiOiBTdHJpbmcoY29sKSwgXCJ5XCI6IFN0cmluZyhyb3cpfSk7XG5cdFx0XHRcdFx0XHRjaGlsZC5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiwgXCJocmVmXCIsIFwiI3RlbXBsYXRlXCIpXG5cdFx0XHRcdFx0XHRzdmcuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH07XG5cdFx0RHJhd2luZy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR3aGlsZSAodGhpcy5fZWwuaGFzQ2hpbGROb2RlcygpKVxuXHRcdFx0XHR0aGlzLl9lbC5yZW1vdmVDaGlsZCh0aGlzLl9lbC5sYXN0Q2hpbGQpO1xuXHRcdH07XG5cdFx0cmV0dXJuIERyYXdpbmc7XG5cdH0pKCk7XG5cblx0dmFyIHVzZVNWRyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwic3ZnXCI7XG5cblx0Ly8gRHJhd2luZyBpbiBET00gYnkgdXNpbmcgVGFibGUgdGFnXG5cdHZhciBEcmF3aW5nID0gdXNlU1ZHID8gc3ZnRHJhd2VyIDogIV9pc1N1cHBvcnRDYW52YXMoKSA/IChmdW5jdGlvbiAoKSB7XG5cdFx0dmFyIERyYXdpbmcgPSBmdW5jdGlvbiAoZWwsIGh0T3B0aW9uKSB7XG5cdFx0XHR0aGlzLl9lbCA9IGVsO1xuXHRcdFx0dGhpcy5faHRPcHRpb24gPSBodE9wdGlvbjtcblx0XHR9O1xuXHRcdFx0XG5cdFx0LyoqXG5cdFx0ICogRHJhdyB0aGUgUVJDb2RlXG5cdFx0ICogXG5cdFx0ICogQHBhcmFtIHtRUkNvZGV9IG9RUkNvZGVcblx0XHQgKi9cblx0XHREcmF3aW5nLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKG9RUkNvZGUpIHtcbiAgICAgICAgICAgIHZhciBfaHRPcHRpb24gPSB0aGlzLl9odE9wdGlvbjtcbiAgICAgICAgICAgIHZhciBfZWwgPSB0aGlzLl9lbDtcblx0XHRcdHZhciBuQ291bnQgPSBvUVJDb2RlLmdldE1vZHVsZUNvdW50KCk7XG5cdFx0XHR2YXIgbldpZHRoID0gTWF0aC5mbG9vcihfaHRPcHRpb24ud2lkdGggLyBuQ291bnQpO1xuXHRcdFx0dmFyIG5IZWlnaHQgPSBNYXRoLmZsb29yKF9odE9wdGlvbi5oZWlnaHQgLyBuQ291bnQpO1xuXHRcdFx0dmFyIGFIVE1MID0gWyc8dGFibGUgc3R5bGU9XCJib3JkZXI6MDtib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7XCI+J107XG5cdFx0XHRcblx0XHRcdGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IG5Db3VudDsgcm93KyspIHtcblx0XHRcdFx0YUhUTUwucHVzaCgnPHRyPicpO1xuXHRcdFx0XHRcblx0XHRcdFx0Zm9yICh2YXIgY29sID0gMDsgY29sIDwgbkNvdW50OyBjb2wrKykge1xuXHRcdFx0XHRcdGFIVE1MLnB1c2goJzx0ZCBzdHlsZT1cImJvcmRlcjowO2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtwYWRkaW5nOjA7bWFyZ2luOjA7d2lkdGg6JyArIG5XaWR0aCArICdweDtoZWlnaHQ6JyArIG5IZWlnaHQgKyAncHg7YmFja2dyb3VuZC1jb2xvcjonICsgKG9RUkNvZGUuaXNEYXJrKHJvdywgY29sKSA/IF9odE9wdGlvbi5jb2xvckRhcmsgOiBfaHRPcHRpb24uY29sb3JMaWdodCkgKyAnO1wiPjwvdGQ+Jyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0XG5cdFx0XHRcdGFIVE1MLnB1c2goJzwvdHI+Jyk7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGFIVE1MLnB1c2goJzwvdGFibGU+Jyk7XG5cdFx0XHRfZWwuaW5uZXJIVE1MID0gYUhUTUwuam9pbignJyk7XG5cdFx0XHRcblx0XHRcdC8vIEZpeCB0aGUgbWFyZ2luIHZhbHVlcyBhcyByZWFsIHNpemUuXG5cdFx0XHR2YXIgZWxUYWJsZSA9IF9lbC5jaGlsZE5vZGVzWzBdO1xuXHRcdFx0dmFyIG5MZWZ0TWFyZ2luVGFibGUgPSAoX2h0T3B0aW9uLndpZHRoIC0gZWxUYWJsZS5vZmZzZXRXaWR0aCkgLyAyO1xuXHRcdFx0dmFyIG5Ub3BNYXJnaW5UYWJsZSA9IChfaHRPcHRpb24uaGVpZ2h0IC0gZWxUYWJsZS5vZmZzZXRIZWlnaHQpIC8gMjtcblx0XHRcdFxuXHRcdFx0aWYgKG5MZWZ0TWFyZ2luVGFibGUgPiAwICYmIG5Ub3BNYXJnaW5UYWJsZSA+IDApIHtcblx0XHRcdFx0ZWxUYWJsZS5zdHlsZS5tYXJnaW4gPSBuVG9wTWFyZ2luVGFibGUgKyBcInB4IFwiICsgbkxlZnRNYXJnaW5UYWJsZSArIFwicHhcIjtcdFxuXHRcdFx0fVxuXHRcdH07XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogQ2xlYXIgdGhlIFFSQ29kZVxuXHRcdCAqL1xuXHRcdERyYXdpbmcucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0dGhpcy5fZWwuaW5uZXJIVE1MID0gJyc7XG5cdFx0fTtcblx0XHRcblx0XHRyZXR1cm4gRHJhd2luZztcblx0fSkoKSA6IChmdW5jdGlvbiAoKSB7IC8vIERyYXdpbmcgaW4gQ2FudmFzXG5cdFx0ZnVuY3Rpb24gX29uTWFrZUltYWdlKCkge1xuXHRcdFx0dGhpcy5fZWxJbWFnZS5zcmMgPSB0aGlzLl9lbENhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7XG5cdFx0XHR0aGlzLl9lbEltYWdlLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cdFx0XHR0aGlzLl9lbENhbnZhcy5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHRcdFx0XG5cdFx0fVxuXHRcdFxuXHRcdC8vIEFuZHJvaWQgMi4xIGJ1ZyB3b3JrYXJvdW5kXG5cdFx0Ly8gaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2FuZHJvaWQvaXNzdWVzL2RldGFpbD9pZD01MTQxXG5cdFx0aWYgKHRoaXMuX2FuZHJvaWQgJiYgdGhpcy5fYW5kcm9pZCA8PSAyLjEpIHtcblx0ICAgIFx0dmFyIGZhY3RvciA9IDEgLyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcblx0ICAgICAgICB2YXIgZHJhd0ltYWdlID0gQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELnByb3RvdHlwZS5kcmF3SW1hZ2U7IFxuXHQgICAgXHRDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQucHJvdG90eXBlLmRyYXdJbWFnZSA9IGZ1bmN0aW9uIChpbWFnZSwgc3gsIHN5LCBzdywgc2gsIGR4LCBkeSwgZHcsIGRoKSB7XG5cdCAgICBcdFx0aWYgKChcIm5vZGVOYW1lXCIgaW4gaW1hZ2UpICYmIC9pbWcvaS50ZXN0KGltYWdlLm5vZGVOYW1lKSkge1xuXHRcdCAgICAgICAgXHRmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gMTsgaS0tKSB7XG5cdFx0ICAgICAgICAgICAgXHRhcmd1bWVudHNbaV0gPSBhcmd1bWVudHNbaV0gKiBmYWN0b3I7XG5cdFx0ICAgICAgICBcdH1cblx0ICAgIFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBkdyA9PSBcInVuZGVmaW5lZFwiKSB7XG5cdCAgICBcdFx0XHRhcmd1bWVudHNbMV0gKj0gZmFjdG9yO1xuXHQgICAgXHRcdFx0YXJndW1lbnRzWzJdICo9IGZhY3Rvcjtcblx0ICAgIFx0XHRcdGFyZ3VtZW50c1szXSAqPSBmYWN0b3I7XG5cdCAgICBcdFx0XHRhcmd1bWVudHNbNF0gKj0gZmFjdG9yO1xuXHQgICAgXHRcdH1cblx0ICAgIFx0XHRcblx0ICAgICAgICBcdGRyYXdJbWFnZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyBcblx0ICAgIFx0fTtcblx0XHR9XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogQ2hlY2sgd2hldGhlciB0aGUgdXNlcidzIGJyb3dzZXIgc3VwcG9ydHMgRGF0YSBVUkkgb3Igbm90XG5cdFx0ICogXG5cdFx0ICogQHByaXZhdGVcblx0XHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmU3VjY2VzcyBPY2N1cnMgaWYgaXQgc3VwcG9ydHMgRGF0YSBVUklcblx0XHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmRmFpbCBPY2N1cnMgaWYgaXQgZG9lc24ndCBzdXBwb3J0IERhdGEgVVJJXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gX3NhZmVTZXREYXRhVVJJKGZTdWNjZXNzLCBmRmFpbCkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgc2VsZi5fZkZhaWwgPSBmRmFpbDtcbiAgICAgICAgICAgIHNlbGYuX2ZTdWNjZXNzID0gZlN1Y2Nlc3M7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGl0IGp1c3Qgb25jZVxuICAgICAgICAgICAgaWYgKHNlbGYuX2JTdXBwb3J0RGF0YVVSSSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG4gICAgICAgICAgICAgICAgdmFyIGZPbkVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2JTdXBwb3J0RGF0YVVSSSA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLl9mRmFpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fZkZhaWwuY2FsbChzZWxmKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdmFyIGZPblN1Y2Nlc3MgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fYlN1cHBvcnREYXRhVVJJID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZi5fZlN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2ZTdWNjZXNzLmNhbGwoc2VsZik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgZWwub25hYm9ydCA9IGZPbkVycm9yO1xuICAgICAgICAgICAgICAgIGVsLm9uZXJyb3IgPSBmT25FcnJvcjtcbiAgICAgICAgICAgICAgICBlbC5vbmxvYWQgPSBmT25TdWNjZXNzO1xuICAgICAgICAgICAgICAgIGVsLnNyYyA9IFwiZGF0YTppbWFnZS9naWY7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBVUFBQUFGQ0FZQUFBQ05ieWJsQUFBQUhFbEVRVlFJMTJQNC8vOC93MzhHSUFYRElCS0UwREh4Z2xqTkJBQU85VFhMMFk0T0h3QUFBQUJKUlU1RXJrSmdnZz09XCI7IC8vIHRoZSBJbWFnZSBjb250YWlucyAxcHggZGF0YS5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYuX2JTdXBwb3J0RGF0YVVSSSA9PT0gdHJ1ZSAmJiBzZWxmLl9mU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgIHNlbGYuX2ZTdWNjZXNzLmNhbGwoc2VsZik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGYuX2JTdXBwb3J0RGF0YVVSSSA9PT0gZmFsc2UgJiYgc2VsZi5fZkZhaWwpIHtcbiAgICAgICAgICAgICAgICBzZWxmLl9mRmFpbC5jYWxsKHNlbGYpO1xuICAgICAgICAgICAgfVxuXHRcdH07XG5cdFx0XG5cdFx0LyoqXG5cdFx0ICogRHJhd2luZyBRUkNvZGUgYnkgdXNpbmcgY2FudmFzXG5cdFx0ICogXG5cdFx0ICogQGNvbnN0cnVjdG9yXG5cdFx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gZWxcblx0XHQgKiBAcGFyYW0ge09iamVjdH0gaHRPcHRpb24gUVJDb2RlIE9wdGlvbnMgXG5cdFx0ICovXG5cdFx0dmFyIERyYXdpbmcgPSBmdW5jdGlvbiAoZWwsIGh0T3B0aW9uKSB7XG4gICAgXHRcdHRoaXMuX2JJc1BhaW50ZWQgPSBmYWxzZTtcbiAgICBcdFx0dGhpcy5fYW5kcm9pZCA9IF9nZXRBbmRyb2lkKCk7XG5cdFx0XG5cdFx0XHR0aGlzLl9odE9wdGlvbiA9IGh0T3B0aW9uO1xuXHRcdFx0dGhpcy5fZWxDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO1xuXHRcdFx0dGhpcy5fZWxDYW52YXMud2lkdGggPSBodE9wdGlvbi53aWR0aDtcblx0XHRcdHRoaXMuX2VsQ2FudmFzLmhlaWdodCA9IGh0T3B0aW9uLmhlaWdodDtcblx0XHRcdGVsLmFwcGVuZENoaWxkKHRoaXMuX2VsQ2FudmFzKTtcblx0XHRcdHRoaXMuX2VsID0gZWw7XG5cdFx0XHR0aGlzLl9vQ29udGV4dCA9IHRoaXMuX2VsQ2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcblx0XHRcdHRoaXMuX2JJc1BhaW50ZWQgPSBmYWxzZTtcblx0XHRcdHRoaXMuX2VsSW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuXHRcdFx0dGhpcy5fZWxJbWFnZS5hbHQgPSBcIlNjYW4gbWUhXCI7XG5cdFx0XHR0aGlzLl9lbEltYWdlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0XHRcdHRoaXMuX2VsLmFwcGVuZENoaWxkKHRoaXMuX2VsSW1hZ2UpO1xuXHRcdFx0dGhpcy5fYlN1cHBvcnREYXRhVVJJID0gbnVsbDtcblx0XHR9O1xuXHRcdFx0XG5cdFx0LyoqXG5cdFx0ICogRHJhdyB0aGUgUVJDb2RlXG5cdFx0ICogXG5cdFx0ICogQHBhcmFtIHtRUkNvZGV9IG9RUkNvZGUgXG5cdFx0ICovXG5cdFx0RHJhd2luZy5wcm90b3R5cGUuZHJhdyA9IGZ1bmN0aW9uIChvUVJDb2RlKSB7XG4gICAgICAgICAgICB2YXIgX2VsSW1hZ2UgPSB0aGlzLl9lbEltYWdlO1xuICAgICAgICAgICAgdmFyIF9vQ29udGV4dCA9IHRoaXMuX29Db250ZXh0O1xuICAgICAgICAgICAgdmFyIF9odE9wdGlvbiA9IHRoaXMuX2h0T3B0aW9uO1xuICAgICAgICAgICAgXG5cdFx0XHR2YXIgbkNvdW50ID0gb1FSQ29kZS5nZXRNb2R1bGVDb3VudCgpO1xuXHRcdFx0dmFyIG5XaWR0aCA9IF9odE9wdGlvbi53aWR0aCAvIG5Db3VudDtcblx0XHRcdHZhciBuSGVpZ2h0ID0gX2h0T3B0aW9uLmhlaWdodCAvIG5Db3VudDtcblx0XHRcdHZhciBuUm91bmRlZFdpZHRoID0gTWF0aC5yb3VuZChuV2lkdGgpO1xuXHRcdFx0dmFyIG5Sb3VuZGVkSGVpZ2h0ID0gTWF0aC5yb3VuZChuSGVpZ2h0KTtcblxuXHRcdFx0X2VsSW1hZ2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXHRcdFx0dGhpcy5jbGVhcigpO1xuXHRcdFx0XG5cdFx0XHRmb3IgKHZhciByb3cgPSAwOyByb3cgPCBuQ291bnQ7IHJvdysrKSB7XG5cdFx0XHRcdGZvciAodmFyIGNvbCA9IDA7IGNvbCA8IG5Db3VudDsgY29sKyspIHtcblx0XHRcdFx0XHR2YXIgYklzRGFyayA9IG9RUkNvZGUuaXNEYXJrKHJvdywgY29sKTtcblx0XHRcdFx0XHR2YXIgbkxlZnQgPSBjb2wgKiBuV2lkdGg7XG5cdFx0XHRcdFx0dmFyIG5Ub3AgPSByb3cgKiBuSGVpZ2h0O1xuXHRcdFx0XHRcdF9vQ29udGV4dC5zdHJva2VTdHlsZSA9IGJJc0RhcmsgPyBfaHRPcHRpb24uY29sb3JEYXJrIDogX2h0T3B0aW9uLmNvbG9yTGlnaHQ7XG5cdFx0XHRcdFx0X29Db250ZXh0LmxpbmVXaWR0aCA9IDE7XG5cdFx0XHRcdFx0X29Db250ZXh0LmZpbGxTdHlsZSA9IGJJc0RhcmsgPyBfaHRPcHRpb24uY29sb3JEYXJrIDogX2h0T3B0aW9uLmNvbG9yTGlnaHQ7XHRcdFx0XHRcdFxuXHRcdFx0XHRcdF9vQ29udGV4dC5maWxsUmVjdChuTGVmdCwgblRvcCwgbldpZHRoLCBuSGVpZ2h0KTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHQvLyDslYjti7Ag7JWo66as7Ja07IuxIOuwqeyngCDsspjrpqxcblx0XHRcdFx0XHRfb0NvbnRleHQuc3Ryb2tlUmVjdChcblx0XHRcdFx0XHRcdE1hdGguZmxvb3IobkxlZnQpICsgMC41LFxuXHRcdFx0XHRcdFx0TWF0aC5mbG9vcihuVG9wKSArIDAuNSxcblx0XHRcdFx0XHRcdG5Sb3VuZGVkV2lkdGgsXG5cdFx0XHRcdFx0XHRuUm91bmRlZEhlaWdodFxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XG5cdFx0XHRcdFx0X29Db250ZXh0LnN0cm9rZVJlY3QoXG5cdFx0XHRcdFx0XHRNYXRoLmNlaWwobkxlZnQpIC0gMC41LFxuXHRcdFx0XHRcdFx0TWF0aC5jZWlsKG5Ub3ApIC0gMC41LFxuXHRcdFx0XHRcdFx0blJvdW5kZWRXaWR0aCxcblx0XHRcdFx0XHRcdG5Sb3VuZGVkSGVpZ2h0XG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHR0aGlzLl9iSXNQYWludGVkID0gdHJ1ZTtcblx0XHR9O1xuXHRcdFx0XG5cdFx0LyoqXG5cdFx0ICogTWFrZSB0aGUgaW1hZ2UgZnJvbSBDYW52YXMgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgRGF0YSBVUkkuXG5cdFx0ICovXG5cdFx0RHJhd2luZy5wcm90b3R5cGUubWFrZUltYWdlID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKHRoaXMuX2JJc1BhaW50ZWQpIHtcblx0XHRcdFx0X3NhZmVTZXREYXRhVVJJLmNhbGwodGhpcywgX29uTWFrZUltYWdlKTtcblx0XHRcdH1cblx0XHR9O1xuXHRcdFx0XG5cdFx0LyoqXG5cdFx0ICogUmV0dXJuIHdoZXRoZXIgdGhlIFFSQ29kZSBpcyBwYWludGVkIG9yIG5vdFxuXHRcdCAqIFxuXHRcdCAqIEByZXR1cm4ge0Jvb2xlYW59XG5cdFx0ICovXG5cdFx0RHJhd2luZy5wcm90b3R5cGUuaXNQYWludGVkID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuX2JJc1BhaW50ZWQ7XG5cdFx0fTtcblx0XHRcblx0XHQvKipcblx0XHQgKiBDbGVhciB0aGUgUVJDb2RlXG5cdFx0ICovXG5cdFx0RHJhd2luZy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGlzLl9vQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgdGhpcy5fZWxDYW52YXMud2lkdGgsIHRoaXMuX2VsQ2FudmFzLmhlaWdodCk7XG5cdFx0XHR0aGlzLl9iSXNQYWludGVkID0gZmFsc2U7XG5cdFx0fTtcblx0XHRcblx0XHQvKipcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqIEBwYXJhbSB7TnVtYmVyfSBuTnVtYmVyXG5cdFx0ICovXG5cdFx0RHJhd2luZy5wcm90b3R5cGUucm91bmQgPSBmdW5jdGlvbiAobk51bWJlcikge1xuXHRcdFx0aWYgKCFuTnVtYmVyKSB7XG5cdFx0XHRcdHJldHVybiBuTnVtYmVyO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRyZXR1cm4gTWF0aC5mbG9vcihuTnVtYmVyICogMTAwMCkgLyAxMDAwO1xuXHRcdH07XG5cdFx0XG5cdFx0cmV0dXJuIERyYXdpbmc7XG5cdH0pKCk7XG5cdFxuXHQvKipcblx0ICogR2V0IHRoZSB0eXBlIGJ5IHN0cmluZyBsZW5ndGhcblx0ICogXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzVGV4dFxuXHQgKiBAcGFyYW0ge051bWJlcn0gbkNvcnJlY3RMZXZlbFxuXHQgKiBAcmV0dXJuIHtOdW1iZXJ9IHR5cGVcblx0ICovXG5cdGZ1bmN0aW9uIF9nZXRUeXBlTnVtYmVyKHNUZXh0LCBuQ29ycmVjdExldmVsKSB7XHRcdFx0XG5cdFx0dmFyIG5UeXBlID0gMTtcblx0XHR2YXIgbGVuZ3RoID0gX2dldFVURjhMZW5ndGgoc1RleHQpO1xuXHRcdFxuXHRcdGZvciAodmFyIGkgPSAwLCBsZW4gPSBRUkNvZGVMaW1pdExlbmd0aC5sZW5ndGg7IGkgPD0gbGVuOyBpKyspIHtcblx0XHRcdHZhciBuTGltaXQgPSAwO1xuXHRcdFx0XG5cdFx0XHRzd2l0Y2ggKG5Db3JyZWN0TGV2ZWwpIHtcblx0XHRcdFx0Y2FzZSBRUkVycm9yQ29ycmVjdExldmVsLkwgOlxuXHRcdFx0XHRcdG5MaW1pdCA9IFFSQ29kZUxpbWl0TGVuZ3RoW2ldWzBdO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFFSRXJyb3JDb3JyZWN0TGV2ZWwuTSA6XG5cdFx0XHRcdFx0bkxpbWl0ID0gUVJDb2RlTGltaXRMZW5ndGhbaV1bMV07XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgUVJFcnJvckNvcnJlY3RMZXZlbC5RIDpcblx0XHRcdFx0XHRuTGltaXQgPSBRUkNvZGVMaW1pdExlbmd0aFtpXVsyXTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBRUkVycm9yQ29ycmVjdExldmVsLkggOlxuXHRcdFx0XHRcdG5MaW1pdCA9IFFSQ29kZUxpbWl0TGVuZ3RoW2ldWzNdO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAobGVuZ3RoIDw9IG5MaW1pdCkge1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5UeXBlKys7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdGlmIChuVHlwZSA+IFFSQ29kZUxpbWl0TGVuZ3RoLmxlbmd0aCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiVG9vIGxvbmcgZGF0YVwiKTtcblx0XHR9XG5cdFx0XG5cdFx0cmV0dXJuIG5UeXBlO1xuXHR9XG5cblx0ZnVuY3Rpb24gX2dldFVURjhMZW5ndGgoc1RleHQpIHtcblx0XHR2YXIgcmVwbGFjZWRUZXh0ID0gZW5jb2RlVVJJKHNUZXh0KS50b1N0cmluZygpLnJlcGxhY2UoL1xcJVswLTlhLWZBLUZdezJ9L2csICdhJyk7XG5cdFx0cmV0dXJuIHJlcGxhY2VkVGV4dC5sZW5ndGggKyAocmVwbGFjZWRUZXh0Lmxlbmd0aCAhPSBzVGV4dCA/IDMgOiAwKTtcblx0fVxuXHRcblx0LyoqXG5cdCAqIEBjbGFzcyBRUkNvZGVcblx0ICogQGNvbnN0cnVjdG9yXG5cdCAqIEBleGFtcGxlIFxuXHQgKiBuZXcgUVJDb2RlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGVzdFwiKSwgXCJodHRwOi8vamluZG8uZGV2Lm5hdmVyLmNvbS9jb2xsaWVcIik7XG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqIHZhciBvUVJDb2RlID0gbmV3IFFSQ29kZShcInRlc3RcIiwge1xuXHQgKiAgICB0ZXh0IDogXCJodHRwOi8vbmF2ZXIuY29tXCIsXG5cdCAqICAgIHdpZHRoIDogMTI4LFxuXHQgKiAgICBoZWlnaHQgOiAxMjhcblx0ICogfSk7XG5cdCAqIFxuXHQgKiBvUVJDb2RlLmNsZWFyKCk7IC8vIENsZWFyIHRoZSBRUkNvZGUuXG5cdCAqIG9RUkNvZGUubWFrZUNvZGUoXCJodHRwOi8vbWFwLm5hdmVyLmNvbVwiKTsgLy8gUmUtY3JlYXRlIHRoZSBRUkNvZGUuXG5cdCAqXG5cdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR8U3RyaW5nfSBlbCB0YXJnZXQgZWxlbWVudCBvciAnaWQnIGF0dHJpYnV0ZSBvZiBlbGVtZW50LlxuXHQgKiBAcGFyYW0ge09iamVjdHxTdHJpbmd9IHZPcHRpb25cblx0ICogQHBhcmFtIHtTdHJpbmd9IHZPcHRpb24udGV4dCBRUkNvZGUgbGluayBkYXRhXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbdk9wdGlvbi53aWR0aD0yNTZdXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBbdk9wdGlvbi5oZWlnaHQ9MjU2XVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW3ZPcHRpb24uY29sb3JEYXJrPVwiIzAwMDAwMFwiXVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gW3ZPcHRpb24uY29sb3JMaWdodD1cIiNmZmZmZmZcIl1cblx0ICogQHBhcmFtIHtRUkNvZGUuQ29ycmVjdExldmVsfSBbdk9wdGlvbi5jb3JyZWN0TGV2ZWw9UVJDb2RlLkNvcnJlY3RMZXZlbC5IXSBbTHxNfFF8SF0gXG5cdCAqL1xuXHRRUkNvZGUgPSBmdW5jdGlvbiAoZWwsIHZPcHRpb24pIHtcblx0XHR0aGlzLl9odE9wdGlvbiA9IHtcblx0XHRcdHdpZHRoIDogMjU2LCBcblx0XHRcdGhlaWdodCA6IDI1Nixcblx0XHRcdHR5cGVOdW1iZXIgOiA0LFxuXHRcdFx0Y29sb3JEYXJrIDogXCIjMDAwMDAwXCIsXG5cdFx0XHRjb2xvckxpZ2h0IDogXCIjZmZmZmZmXCIsXG5cdFx0XHRjb3JyZWN0TGV2ZWwgOiBRUkVycm9yQ29ycmVjdExldmVsLkhcblx0XHR9O1xuXHRcdFxuXHRcdGlmICh0eXBlb2Ygdk9wdGlvbiA9PT0gJ3N0cmluZycpIHtcblx0XHRcdHZPcHRpb25cdD0ge1xuXHRcdFx0XHR0ZXh0IDogdk9wdGlvblxuXHRcdFx0fTtcblx0XHR9XG5cdFx0XG5cdFx0Ly8gT3ZlcndyaXRlcyBvcHRpb25zXG5cdFx0aWYgKHZPcHRpb24pIHtcblx0XHRcdGZvciAodmFyIGkgaW4gdk9wdGlvbikge1xuXHRcdFx0XHR0aGlzLl9odE9wdGlvbltpXSA9IHZPcHRpb25baV07XG5cdFx0XHR9XG5cdFx0fVxuXHRcdFxuXHRcdGlmICh0eXBlb2YgZWwgPT0gXCJzdHJpbmdcIikge1xuXHRcdFx0ZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbCk7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuX2h0T3B0aW9uLnVzZVNWRykge1xuXHRcdFx0RHJhd2luZyA9IHN2Z0RyYXdlcjtcblx0XHR9XG5cdFx0XG5cdFx0dGhpcy5fYW5kcm9pZCA9IF9nZXRBbmRyb2lkKCk7XG5cdFx0dGhpcy5fZWwgPSBlbDtcblx0XHR0aGlzLl9vUVJDb2RlID0gbnVsbDtcblx0XHR0aGlzLl9vRHJhd2luZyA9IG5ldyBEcmF3aW5nKHRoaXMuX2VsLCB0aGlzLl9odE9wdGlvbik7XG5cdFx0XG5cdFx0aWYgKHRoaXMuX2h0T3B0aW9uLnRleHQpIHtcblx0XHRcdHRoaXMubWFrZUNvZGUodGhpcy5faHRPcHRpb24udGV4dCk7XHRcblx0XHR9XG5cdH07XG5cdFxuXHQvKipcblx0ICogTWFrZSB0aGUgUVJDb2RlXG5cdCAqIFxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc1RleHQgbGluayBkYXRhXG5cdCAqL1xuXHRRUkNvZGUucHJvdG90eXBlLm1ha2VDb2RlID0gZnVuY3Rpb24gKHNUZXh0KSB7XG5cdFx0dGhpcy5fb1FSQ29kZSA9IG5ldyBRUkNvZGVNb2RlbChfZ2V0VHlwZU51bWJlcihzVGV4dCwgdGhpcy5faHRPcHRpb24uY29ycmVjdExldmVsKSwgdGhpcy5faHRPcHRpb24uY29ycmVjdExldmVsKTtcblx0XHR0aGlzLl9vUVJDb2RlLmFkZERhdGEoc1RleHQpO1xuXHRcdHRoaXMuX29RUkNvZGUubWFrZSgpO1xuXHRcdHRoaXMuX2VsLnRpdGxlID0gc1RleHQ7XG5cdFx0dGhpcy5fb0RyYXdpbmcuZHJhdyh0aGlzLl9vUVJDb2RlKTtcdFx0XHRcblx0XHR0aGlzLm1ha2VJbWFnZSgpO1xuXHR9O1xuXHRcblx0LyoqXG5cdCAqIE1ha2UgdGhlIEltYWdlIGZyb20gQ2FudmFzIGVsZW1lbnRcblx0ICogLSBJdCBvY2N1cnMgYXV0b21hdGljYWxseVxuXHQgKiAtIEFuZHJvaWQgYmVsb3cgMyBkb2Vzbid0IHN1cHBvcnQgRGF0YS1VUkkgc3BlYy5cblx0ICogXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRRUkNvZGUucHJvdG90eXBlLm1ha2VJbWFnZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRpZiAodHlwZW9mIHRoaXMuX29EcmF3aW5nLm1ha2VJbWFnZSA9PSBcImZ1bmN0aW9uXCIgJiYgKCF0aGlzLl9hbmRyb2lkIHx8IHRoaXMuX2FuZHJvaWQgPj0gMykpIHtcblx0XHRcdHRoaXMuX29EcmF3aW5nLm1ha2VJbWFnZSgpO1xuXHRcdH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBDbGVhciB0aGUgUVJDb2RlXG5cdCAqL1xuXHRRUkNvZGUucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuXHRcdHRoaXMuX29EcmF3aW5nLmNsZWFyKCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogQG5hbWUgUVJDb2RlLkNvcnJlY3RMZXZlbFxuXHQgKi9cblx0UVJDb2RlLkNvcnJlY3RMZXZlbCA9IFFSRXJyb3JDb3JyZWN0TGV2ZWw7XG59KSgpOyIsIi8qKlxuICogVGlueUFuaW1hdGVcbiAqICB2ZXJzaW9uIDAuMy4wXG4gKlxuICogU291cmNlOiAgaHR0cHM6Ly9naXRodWIuY29tL2JyYW5uZW1hbi9UaW55QW5pbWF0ZVxuICogQXV0aG9yOiAgQnJhbiB2YW4gZGVyIE1lZXIgPGJyYW5tb3ZpY0BnbWFpbC5jb20+IChodHRwOi8vYnJhbi5uYW1lLylcbiAqIExpY2Vuc2U6IE1JVFxuICpcbiAqIEZ1bmN0aW9uczpcbiAqICBUaW55QW5pbWF0ZS5hbmltYXRlKGZyb20sIHRvLCBkdXJhdGlvbiwgdXBkYXRlLCBlYXNpbmcsIGRvbmUpXG4gKiAgVGlueUFuaW1hdGUuYW5pbWF0ZUNTUyhlbGVtZW50LCBwcm9wZXJ0eSwgdW5pdCwgZnJvbSwgdG8sIGR1cmF0aW9uLCBlYXNpbmcsIGRvbmUpXG4gKiAgVGlueUFuaW1hdGUuY2FuY2VsKGFuaW1hdGlvbilcbiAqXG4gKiBQYXJhbWV0ZXJzOlxuICogIGVsZW1lbnQgICBIVE1MRWxlbWVudCAgICAgICAgQSBkb20gbm9kZVxuICogIHByb3BlcnR5ICBzdHJpbmcgICAgICAgICAgICAgUHJvcGVydHkgbmFtZSwgYXMgYXZhaWxhYmxlIGluIGVsZW1lbnQuc3R5bGUsIGkuZS4gJ2JvcmRlclJhZGl1cycsIG5vdCAnYm9yZGVyLXJhZGl1cydcbiAqICB1bml0ICAgICAgc3RyaW5nICAgICAgICAgICAgIFByb3BlcnR5IHVuaXQsIGxpa2UgJ3B4J1xuICogIGZyb20gICAgICBpbnQgICAgICAgICAgICAgICAgUHJvcGVydHkgdmFsdWUgdG8gYW5pbWF0ZSBmcm9tXG4gKiAgdG8gICAgICAgIGludCAgICAgICAgICAgICAgICBQcm9wZXJ0eSB2YWx1ZSB0byBhbmltYXRlIHRvXG4gKiAgZHVyYXRpb24gIGludCAgICAgICAgICAgICAgICBEdXJhdGlvbiBpbiBtaWxsaXNlY29uZHNcbiAqICB1cGRhdGUgICAgZnVuY3Rpb24gICAgICAgICAgIEZ1bmN0aW9uIHRvIGltcGxlbWVudCB1cGRhdGluZyB0aGUgRE9NLCBnZXQncyBjYWxsZWQgd2l0aCBhIHZhbHVlIGJldHdlZW4gYGZyb21gIGFuZCBgdG9gXG4gKiAgZWFzaW5nICAgIHN0cmluZyB8IGZ1bmN0aW9uICBPcHRpb25hbDogQSBzdHJpbmcgd2hlbiB0aGUgZWFzaW5nIGZ1bmN0aW9uIGlzIGF2YWlsYWJsZSBpbiBUaW55QW5pbWF0ZS5lYXNpbmdzLFxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIGEgZnVuY3Rpb24gd2l0aCB0aGUgc2lnbmF0dXJlOiBmdW5jdGlvbih0LCBiLCBjLCBkKSB7Li4ufVxuICogIGRvbmUgICAgICBmdW5jdGlvbiAgICAgICAgICAgT3B0aW9uYWw6IFRvIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGFuaW1hdGlvbiBoYXMgY29tcGxldGVkLlxuICpcbiAqIFJldHVybnM6XG4gKiAgYW5pbWF0aW9uIG9iamVjdCAgICAgICAgICAgICBBbmltYXRpb24gb2JqZWN0IHRoYXQgY2FuIGJlIGNhbmNlbGVkLlxuICovXG5cbi8qKlxuICogVW5pdmVyc2FsIE1vZHVsZSBEYW5jZVxuICogIGNvbmZpZzogQ29tbW9uSlMgU3RyaWN0LCBleHBvcnRzIEdsb2JhbCwgc3VwcG9ydHMgY2lyY3VsYXIgZGVwZW5kZW5jaWVzXG4gKiAgaHR0cHM6Ly9naXRodWIuY29tL3VtZGpzL3VtZC9cbiAqL1xuKGZ1bmN0aW9uKHJvb3QsIGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShbJ2V4cG9ydHMnXSwgZnVuY3Rpb24oZXhwb3J0cykge1xuICAgICAgICAgICAgZmFjdG9yeSgocm9vdC5UaW55QW5pbWF0ZSA9IGV4cG9ydHMpKTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgZmFjdG9yeShleHBvcnRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBmYWN0b3J5KChyb290LlRpbnlBbmltYXRlID0ge30pKTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uKGV4cG9ydHMpIHtcblxuICAgIC8qKlxuICAgICAqIFRpbnlBbmltYXRlLmFuaW1hdGUoKVxuICAgICAqL1xuICAgIGV4cG9ydHMuYW5pbWF0ZSA9IGZ1bmN0aW9uKGZyb20sIHRvLCBkdXJhdGlvbiwgdXBkYXRlLCBlYXNpbmcsIGRvbmUpIHtcblxuICAgICAgICAvLyBFYXJseSBiYWlsIG91dCBpZiBjYWxsZWQgaW5jb3JyZWN0bHlcbiAgICAgICAgaWYgKHR5cGVvZiBmcm9tICE9PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICAgdHlwZW9mIHRvICE9PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICAgdHlwZW9mIGR1cmF0aW9uICE9PSAnbnVtYmVyJyB8fFxuICAgICAgICAgICAgdHlwZW9mIHVwZGF0ZSAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAvLyBEZXRlcm1pbmUgZWFzaW5nXG4gICAgICAgIGlmICh0eXBlb2YgZWFzaW5nID09PSAnc3RyaW5nJyAmJiBlYXNpbmdzW2Vhc2luZ10pIHtcbiAgICAgICAgICAgIGVhc2luZyA9IGVhc2luZ3NbZWFzaW5nXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGVhc2luZyAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZWFzaW5nID0gZWFzaW5ncy5saW5lYXI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgbW9jayBkb25lKCkgZnVuY3Rpb24gaWYgbmVjZXNzYXJ5XG4gICAgICAgIGlmICh0eXBlb2YgZG9uZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgZG9uZSA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQaWNrIGltcGxlbWVudGF0aW9uIChyZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfCBzZXRUaW1lb3V0KVxuICAgICAgICB2YXIgckFGID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoY2FsbGJhY2ssIDEwMDAgLyA2MCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gQW5pbWF0aW9uIGxvb3BcbiAgICAgICAgdmFyIGNhbmNlbGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBjaGFuZ2UgPSB0byAtIGZyb207XG4gICAgICAgIGZ1bmN0aW9uIGxvb3AodGltZXN0YW1wKSB7XG4gICAgICAgICAgICBpZiAoY2FuY2VsZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdGltZSA9ICh0aW1lc3RhbXAgfHwgK25ldyBEYXRlKCkpIC0gc3RhcnQ7XG4gICAgICAgICAgICBpZiAodGltZSA+PSAwKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlKGVhc2luZyh0aW1lLCBmcm9tLCBjaGFuZ2UsIGR1cmF0aW9uKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGltZSA+PSAwICYmIHRpbWUgPj0gZHVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICB1cGRhdGUodG8pO1xuICAgICAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgckFGKGxvb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHVwZGF0ZShmcm9tKTtcblxuICAgICAgICAvLyBTdGFydCBhbmltYXRpb24gbG9vcFxuICAgICAgICB2YXIgc3RhcnQgPSB3aW5kb3cucGVyZm9ybWFuY2UgJiYgd2luZG93LnBlcmZvcm1hbmNlLm5vdyA/IHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSA6ICtuZXcgRGF0ZSgpO1xuXG4gICAgICAgIHJBRihsb29wKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FuY2VsOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRpbnlBbmltYXRlLmFuaW1hdGVDU1MoKVxuICAgICAqICBTaG9ydGN1dCBtZXRob2QgZm9yIGFuaW1hdGluZyBjc3MgcHJvcGVydGllc1xuICAgICAqL1xuICAgIGV4cG9ydHMuYW5pbWF0ZUNTUyA9IGZ1bmN0aW9uKGVsZW1lbnQsIHByb3BlcnR5LCB1bml0LCBmcm9tLCB0bywgZHVyYXRpb24sIGVhc2luZywgZG9uZSkge1xuXG4gICAgICAgIHZhciB1cGRhdGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wZXJ0eV0gPSB2YWx1ZSArIHVuaXQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBleHBvcnRzLmFuaW1hdGUoZnJvbSwgdG8sIGR1cmF0aW9uLCB1cGRhdGUsIGVhc2luZywgZG9uZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRpbnlBbmltYXRlLmNhbmNlbCgpXG4gICAgICogIE1ldGhvZCBmb3IgY2FuY2VsaW5nIGFuaW1hdGlvbnNcbiAgICAgKi9cbiAgICBleHBvcnRzLmNhbmNlbCA9IGZ1bmN0aW9uKGFuaW1hdGlvbikge1xuICAgICAgICBpZiAoIWFuaW1hdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGFuaW1hdGlvbi5jYW5jZWwoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGlueUFuaW1hdGUuZWFzaW5nc1xuICAgICAqICBBZGFwdGVkIGZyb20galF1ZXJ5IEVhc2luZ1xuICAgICAqL1xuICAgIHZhciBlYXNpbmdzID0gZXhwb3J0cy5lYXNpbmdzID0ge307XG4gICAgZWFzaW5ncy5saW5lYXIgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiBjICogdCAvIGQgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5RdWFkID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VPdXRRdWFkID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gLWMgKiAodCAvPSBkKSAqICh0IC0gMikgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5PdXRRdWFkID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKyBiO1xuICAgICAgICByZXR1cm4gLWMgLyAyICogKCgtLXQpICogKHQgLSAyKSAtIDEpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluQ3ViaWMgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VPdXRDdWJpYyA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKyAxKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbk91dEN1YmljID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICsgYjtcbiAgICAgICAgcmV0dXJuIGMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKyAyKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJblF1YXJ0ID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZU91dFF1YXJ0ID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gLWMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0IC0gMSkgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5PdXRRdWFydCA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICAgICAgICByZXR1cm4gLWMgLyAyICogKCh0IC09IDIpICogdCAqIHQgKiB0IC0gMikgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5RdWludCA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlT3V0UXVpbnQgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiB0ICogdCAqIHQgKyAxKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbk91dFF1aW50ID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCAqIHQgKyBiO1xuICAgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgKiB0ICsgMikgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5TaW5lID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gLWMgKiBNYXRoLmNvcyh0IC8gZCAqIChNYXRoLlBJIC8gMikpICsgYyArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VPdXRTaW5lID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gYyAqIE1hdGguc2luKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5PdXRTaW5lID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gLWMgLyAyICogKE1hdGguY29zKE1hdGguUEkgKiB0IC8gZCkgLSAxKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbkV4cG8gPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiAodCA9PSAwKSA/IGIgOiBjICogTWF0aC5wb3coMiwgMTAgKiAodCAvIGQgLSAxKSkgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlT3V0RXhwbyA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuICh0ID09IGQpID8gYiArIGMgOiBjICogKC1NYXRoLnBvdygyLCAtMTAgKiB0IC8gZCkgKyAxKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbk91dEV4cG8gPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIGlmICh0ID09IDApIHJldHVybiBiO1xuICAgICAgICBpZiAodCA9PSBkKSByZXR1cm4gYiArIGM7XG4gICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiBNYXRoLnBvdygyLCAxMCAqICh0IC0gMSkpICsgYjtcbiAgICAgICAgcmV0dXJuIGMgLyAyICogKC1NYXRoLnBvdygyLCAtMTAgKiAtLXQpICsgMikgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5DaXJjID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gLWMgKiAoTWF0aC5zcXJ0KDEgLSAodCAvPSBkKSAqIHQpIC0gMSkgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlT3V0Q2lyYyA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIGMgKiBNYXRoLnNxcnQoMSAtICh0ID0gdCAvIGQgLSAxKSAqIHQpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluT3V0Q2lyYyA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiAtYyAvIDIgKiAoTWF0aC5zcXJ0KDEgLSB0ICogdCkgLSAxKSArIGI7XG4gICAgICAgIHJldHVybiBjIC8gMiAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbkVsYXN0aWMgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHZhciBwID0gMDtcbiAgICAgICAgdmFyIGEgPSBjO1xuICAgICAgICBpZiAodCA9PSAwKSByZXR1cm4gYjtcbiAgICAgICAgaWYgKCh0IC89IGQpID09IDEpIHJldHVybiBiICsgYztcbiAgICAgICAgaWYgKCFwKSBwID0gZCAqIC4zO1xuICAgICAgICBpZiAoYSA8IE1hdGguYWJzKGMpKSB7XG4gICAgICAgICAgICBhID0gYztcbiAgICAgICAgICAgIHZhciBzID0gcCAvIDQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB2YXIgcyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGMgLyBhKTtcbiAgICAgICAgcmV0dXJuIC0oYSAqIE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZU91dEVsYXN0aWMgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHZhciBwID0gMDtcbiAgICAgICAgdmFyIGEgPSBjO1xuICAgICAgICBpZiAodCA9PSAwKSByZXR1cm4gYjtcbiAgICAgICAgaWYgKCh0IC89IGQpID09IDEpIHJldHVybiBiICsgYztcbiAgICAgICAgaWYgKCFwKSBwID0gZCAqIC4zO1xuICAgICAgICBpZiAoYSA8IE1hdGguYWJzKGMpKSB7XG4gICAgICAgICAgICBhID0gYztcbiAgICAgICAgICAgIHZhciBzID0gcCAvIDQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB2YXIgcyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGMgLyBhKTtcbiAgICAgICAgcmV0dXJuIGEgKiBNYXRoLnBvdygyLCAtMTAgKiB0KSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApICsgYyArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbk91dEVsYXN0aWMgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHZhciBwID0gMDtcbiAgICAgICAgdmFyIGEgPSBjO1xuICAgICAgICBpZiAodCA9PSAwKSByZXR1cm4gYjtcbiAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA9PSAyKSByZXR1cm4gYiArIGM7XG4gICAgICAgIGlmICghcCkgcCA9IGQgKiAoLjMgKiAxLjUpO1xuICAgICAgICBpZiAoYSA8IE1hdGguYWJzKGMpKSB7XG4gICAgICAgICAgICBhID0gYztcbiAgICAgICAgICAgIHZhciBzID0gcCAvIDQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB2YXIgcyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGMgLyBhKTtcbiAgICAgICAgaWYgKHQgPCAxKSByZXR1cm4gLS41ICogKGEgKiBNYXRoLnBvdygyLCAxMCAqICh0IC09IDEpKSAqIE1hdGguc2luKCh0ICogZCAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApKSArIGI7XG4gICAgICAgIHJldHVybiBhICogTWF0aC5wb3coMiwgLTEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKiAuNSArIGMgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5CYWNrID0gZnVuY3Rpb24odCwgYiwgYywgZCwgcykge1xuICAgICAgICBpZiAocyA9PSB1bmRlZmluZWQpIHMgPSAxLjcwMTU4O1xuICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqICgocyArIDEpICogdCAtIHMpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZU91dEJhY2sgPSBmdW5jdGlvbih0LCBiLCBjLCBkLCBzKSB7XG4gICAgICAgIGlmIChzID09IHVuZGVmaW5lZCkgcyA9IDEuNzAxNTg7XG4gICAgICAgIHJldHVybiBjICogKCh0ID0gdCAvIGQgLSAxKSAqIHQgKiAoKHMgKyAxKSAqIHQgKyBzKSArIDEpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluT3V0QmFjayA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQsIHMpIHtcbiAgICAgICAgaWYgKHMgPT0gdW5kZWZpbmVkKSBzID0gMS43MDE1ODtcbiAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqICh0ICogdCAqICgoKHMgKj0gKDEuNTI1KSkgKyAxKSAqIHQgLSBzKSkgKyBiO1xuICAgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogKCgocyAqPSAoMS41MjUpKSArIDEpICogdCArIHMpICsgMikgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5Cb3VuY2UgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiBjIC0gZWFzaW5ncy5lYXNlT3V0Qm91bmNlKGQgLSB0LCAwLCBjLCBkKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VPdXRCb3VuY2UgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIGlmICgodCAvPSBkKSA8ICgxIC8gMi43NSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqIHQgKiB0KSArIGI7XG4gICAgICAgIH0gZWxzZSBpZiAodCA8ICgyIC8gMi43NSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09ICgxLjUgLyAyLjc1KSkgKiB0ICsgLjc1KSArIGI7XG4gICAgICAgIH0gZWxzZSBpZiAodCA8ICgyLjUgLyAyLjc1KSkge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDIuMjUgLyAyLjc1KSkgKiB0ICsgLjkzNzUpICsgYjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjICogKDcuNTYyNSAqICh0IC09ICgyLjYyNSAvIDIuNzUpKSAqIHQgKyAuOTg0Mzc1KSArIGI7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluT3V0Qm91bmNlID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICBpZiAodCA8IGQgLyAyKSByZXR1cm4gZWFzaW5ncy5lYXNlSW5Cb3VuY2UodCAqIDIsIDAsIGMsIGQpICogLjUgKyBiO1xuICAgICAgICByZXR1cm4gZWFzaW5ncy5lYXNlT3V0Qm91bmNlKHQgKiAyIC0gZCwgMCwgYywgZCkgKiAuNSArIGMgKiAuNSArIGI7XG4gICAgfTtcblxufSkpO1xuIiwiKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShbJ2V4cG9ydHMnLCAnbW9kdWxlJ10sIGZhY3RvcnkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGZhY3RvcnkoZXhwb3J0cywgbW9kdWxlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgbW9kID0ge1xuICAgICAgICAgICAgZXhwb3J0czoge31cbiAgICAgICAgfTtcbiAgICAgICAgZmFjdG9yeShtb2QuZXhwb3J0cywgbW9kKTtcbiAgICAgICAgZ2xvYmFsLkltcGV0dXMgPSBtb2QuZXhwb3J0cztcbiAgICB9XG59KSh0aGlzLCBmdW5jdGlvbiAoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24nKTsgfSB9XG5cbiAgICB2YXIgc3RvcFRocmVzaG9sZERlZmF1bHQgPSAwLjM7XG4gICAgdmFyIGJvdW5jZURlY2VsZXJhdGlvbiA9IDAuMDQ7XG4gICAgdmFyIGJvdW5jZUFjY2VsZXJhdGlvbiA9IDAuMTE7XG5cbiAgICAvLyBmaXhlcyB3ZWlyZCBzYWZhcmkgMTAgYnVnIHdoZXJlIHByZXZlbnREZWZhdWx0IGlzIHByZXZlbnRlZFxuICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21ldGFmaXp6eS9mbGlja2l0eS9pc3N1ZXMvNDU3I2lzc3VlY29tbWVudC0yNTQ1MDEzNTZcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZnVuY3Rpb24gKCkge30pO1xuXG4gICAgdmFyIEltcGV0dXMgPSBmdW5jdGlvbiBJbXBldHVzKF9yZWYpIHtcbiAgICAgICAgdmFyIF9yZWYkc291cmNlID0gX3JlZi5zb3VyY2U7XG4gICAgICAgIHZhciBzb3VyY2VFbCA9IF9yZWYkc291cmNlID09PSB1bmRlZmluZWQgPyBkb2N1bWVudCA6IF9yZWYkc291cmNlO1xuICAgICAgICB2YXIgdXBkYXRlQ2FsbGJhY2sgPSBfcmVmLnVwZGF0ZTtcbiAgICAgICAgdmFyIF9yZWYkbXVsdGlwbGllciA9IF9yZWYubXVsdGlwbGllcjtcbiAgICAgICAgdmFyIG11bHRpcGxpZXIgPSBfcmVmJG11bHRpcGxpZXIgPT09IHVuZGVmaW5lZCA/IDEgOiBfcmVmJG11bHRpcGxpZXI7XG4gICAgICAgIHZhciBfcmVmJGZyaWN0aW9uID0gX3JlZi5mcmljdGlvbjtcbiAgICAgICAgdmFyIGZyaWN0aW9uID0gX3JlZiRmcmljdGlvbiA9PT0gdW5kZWZpbmVkID8gMC45MiA6IF9yZWYkZnJpY3Rpb247XG4gICAgICAgIHZhciBpbml0aWFsVmFsdWVzID0gX3JlZi5pbml0aWFsVmFsdWVzO1xuICAgICAgICB2YXIgYm91bmRYID0gX3JlZi5ib3VuZFg7XG4gICAgICAgIHZhciBib3VuZFkgPSBfcmVmLmJvdW5kWTtcbiAgICAgICAgdmFyIF9yZWYkYm91bmNlID0gX3JlZi5ib3VuY2U7XG4gICAgICAgIHZhciBib3VuY2UgPSBfcmVmJGJvdW5jZSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IF9yZWYkYm91bmNlO1xuXG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbXBldHVzKTtcblxuICAgICAgICB2YXIgYm91bmRYbWluLCBib3VuZFhtYXgsIGJvdW5kWW1pbiwgYm91bmRZbWF4LCBwb2ludGVyTGFzdFgsIHBvaW50ZXJMYXN0WSwgcG9pbnRlckN1cnJlbnRYLCBwb2ludGVyQ3VycmVudFksIHBvaW50ZXJJZCwgZGVjVmVsWCwgZGVjVmVsWTtcbiAgICAgICAgdmFyIHRhcmdldFggPSAwO1xuICAgICAgICB2YXIgdGFyZ2V0WSA9IDA7XG4gICAgICAgIHZhciBzdG9wVGhyZXNob2xkID0gc3RvcFRocmVzaG9sZERlZmF1bHQgKiBtdWx0aXBsaWVyO1xuICAgICAgICB2YXIgdGlja2luZyA9IGZhbHNlO1xuICAgICAgICB2YXIgcG9pbnRlckFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB2YXIgcGF1c2VkID0gZmFsc2U7XG4gICAgICAgIHZhciBkZWNlbGVyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIHRyYWNraW5nUG9pbnRzID0gW107XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW5pdGlhbGl6ZSBpbnN0YW5jZVxyXG4gICAgICAgICAqL1xuICAgICAgICAoZnVuY3Rpb24gaW5pdCgpIHtcbiAgICAgICAgICAgIHNvdXJjZUVsID0gdHlwZW9mIHNvdXJjZUVsID09PSAnc3RyaW5nJyA/IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc291cmNlRWwpIDogc291cmNlRWw7XG4gICAgICAgICAgICBpZiAoIXNvdXJjZUVsKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJTVBFVFVTOiBzb3VyY2Ugbm90IGZvdW5kLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXVwZGF0ZUNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJTVBFVFVTOiB1cGRhdGUgZnVuY3Rpb24gbm90IGRlZmluZWQuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChpbml0aWFsVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxWYWx1ZXNbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WCA9IGluaXRpYWxWYWx1ZXNbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpbml0aWFsVmFsdWVzWzFdKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFkgPSBpbml0aWFsVmFsdWVzWzFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYWxsVXBkYXRlQ2FsbGJhY2soKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSBib3VuZCB2YWx1ZXNcbiAgICAgICAgICAgIGlmIChib3VuZFgpIHtcbiAgICAgICAgICAgICAgICBib3VuZFhtaW4gPSBib3VuZFhbMF07XG4gICAgICAgICAgICAgICAgYm91bmRYbWF4ID0gYm91bmRYWzFdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvdW5kWSkge1xuICAgICAgICAgICAgICAgIGJvdW5kWW1pbiA9IGJvdW5kWVswXTtcbiAgICAgICAgICAgICAgICBib3VuZFltYXggPSBib3VuZFlbMV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNvdXJjZUVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvbkRvd24pO1xuICAgICAgICAgICAgc291cmNlRWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Eb3duKTtcbiAgICAgICAgfSkoKTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbiBlZGdlIGNhc2VzIHdoZXJlIHlvdSBtYXkgbmVlZCB0b1xyXG4gICAgICAgICAqIHJlaW5zdGFuY2lhdGUgSW1wZXR1cyBvbiB0aGUgc2FtZSBzb3VyY2VFbFxyXG4gICAgICAgICAqIHRoaXMgd2lsbCByZW1vdmUgdGhlIHByZXZpb3VzIGV2ZW50IGxpc3RlbmVyc1xyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzb3VyY2VFbC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgb25Eb3duKTtcbiAgICAgICAgICAgIHNvdXJjZUVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uRG93bik7XG4gICAgICAgICAgICAvLyBob3dldmVyIGl0IHdvbid0IFwiZGVzdHJveVwiIGEgcmVmZXJlbmNlXG4gICAgICAgICAgICAvLyB0byBpbnN0YW5jZSBpZiB5b3UnZCBsaWtlIHRvIGRvIHRoYXRcbiAgICAgICAgICAgIC8vIGl0IHJldHVybnMgbnVsbCBhcyBhIGNvbnZpbmllbmNlLlxuICAgICAgICAgICAgLy8gZXg6IGBpbnN0YW5jZSA9IGluc3RhbmNlLmRlc3Ryb3koKTtgXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBEaXNhYmxlIG1vdmVtZW50IHByb2Nlc3NpbmdcclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGF1c2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwb2ludGVyQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICBwYXVzZWQgPSB0cnVlO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEVuYWJsZSBtb3ZlbWVudCBwcm9jZXNzaW5nXHJcbiAgICAgICAgICogQHB1YmxpY1xyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnJlc3VtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBhdXNlZCA9IGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZSB0aGUgY3VycmVudCB4IGFuZCB5IHZhbHVlc1xyXG4gICAgICAgICAqIEBwdWJsaWNcclxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0geFxyXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB5XHJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2V0VmFsdWVzID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgeCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRYID0geDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgeSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRZID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVcGRhdGUgdGhlIG11bHRpcGxpZXIgdmFsdWVcclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbFxyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNldE11bHRpcGxpZXIgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgICBtdWx0aXBsaWVyID0gdmFsO1xuICAgICAgICAgICAgc3RvcFRocmVzaG9sZCA9IHN0b3BUaHJlc2hvbGREZWZhdWx0ICogbXVsdGlwbGllcjtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVcGRhdGUgYm91bmRYIHZhbHVlXHJcbiAgICAgICAgICogQHB1YmxpY1xyXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyW119IGJvdW5kWFxyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNldEJvdW5kWCA9IGZ1bmN0aW9uIChib3VuZFgpIHtcbiAgICAgICAgICAgIGJvdW5kWG1pbiA9IGJvdW5kWFswXTtcbiAgICAgICAgICAgIGJvdW5kWG1heCA9IGJvdW5kWFsxXTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBVcGRhdGUgYm91bmRZIHZhbHVlXHJcbiAgICAgICAgICogQHB1YmxpY1xyXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyW119IGJvdW5kWVxyXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNldEJvdW5kWSA9IGZ1bmN0aW9uIChib3VuZFkpIHtcbiAgICAgICAgICAgIGJvdW5kWW1pbiA9IGJvdW5kWVswXTtcbiAgICAgICAgICAgIGJvdW5kWW1heCA9IGJvdW5kWVsxXTtcbiAgICAgICAgfTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBFeGVjdXRlcyB0aGUgdXBkYXRlIGZ1bmN0aW9uXHJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGNhbGxVcGRhdGVDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHVwZGF0ZUNhbGxiYWNrLmNhbGwoc291cmNlRWwsIHRhcmdldFgsIHRhcmdldFkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ3JlYXRlcyBhIGN1c3RvbSBub3JtYWxpemVkIGV2ZW50IG9iamVjdCBmcm9tIHRvdWNoIGFuZCBtb3VzZSBldmVudHNcclxuICAgICAgICAgKiBAcGFyYW0gIHtFdmVudH0gZXZcclxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSB3aXRoIHgsIHksIGFuZCBpZCBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG5vcm1hbGl6ZUV2ZW50KGV2KSB7XG4gICAgICAgICAgICBpZiAoZXYudHlwZSA9PT0gJ3RvdWNobW92ZScgfHwgZXYudHlwZSA9PT0gJ3RvdWNoc3RhcnQnIHx8IGV2LnR5cGUgPT09ICd0b3VjaGVuZCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG91Y2ggPSBldi50YXJnZXRUb3VjaGVzWzBdIHx8IGV2LmNoYW5nZWRUb3VjaGVzWzBdO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHg6IHRvdWNoLmNsaWVudFgsXG4gICAgICAgICAgICAgICAgICAgIHk6IHRvdWNoLmNsaWVudFksXG4gICAgICAgICAgICAgICAgICAgIGlkOiB0b3VjaC5pZGVudGlmaWVyXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbW91c2UgZXZlbnRzXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgeDogZXYuY2xpZW50WCxcbiAgICAgICAgICAgICAgICAgICAgeTogZXYuY2xpZW50WSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IG51bGxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW5pdGlhbGl6ZXMgbW92ZW1lbnQgdHJhY2tpbmdcclxuICAgICAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2IE5vcm1hbGl6ZWQgZXZlbnRcclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gb25Eb3duKGV2KSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBub3JtYWxpemVFdmVudChldik7XG4gICAgICAgICAgICBpZiAoIXBvaW50ZXJBY3RpdmUgJiYgIXBhdXNlZCkge1xuICAgICAgICAgICAgICAgIHBvaW50ZXJBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGRlY2VsZXJhdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHBvaW50ZXJJZCA9IGV2ZW50LmlkO1xuXG4gICAgICAgICAgICAgICAgcG9pbnRlckxhc3RYID0gcG9pbnRlckN1cnJlbnRYID0gZXZlbnQueDtcbiAgICAgICAgICAgICAgICBwb2ludGVyTGFzdFkgPSBwb2ludGVyQ3VycmVudFkgPSBldmVudC55O1xuICAgICAgICAgICAgICAgIHRyYWNraW5nUG9pbnRzID0gW107XG4gICAgICAgICAgICAgICAgYWRkVHJhY2tpbmdQb2ludChwb2ludGVyTGFzdFgsIHBvaW50ZXJMYXN0WSk7XG5cbiAgICAgICAgICAgICAgICAvLyBAc2VlIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3dlYi91cGRhdGVzLzIwMTcvMDEvc2Nyb2xsaW5nLWludGVydmVudGlvblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uTW92ZSwgZ2V0UGFzc2l2ZVN1cHBvcnRlZCgpID8geyBwYXNzaXZlOiBmYWxzZSB9IDogZmFsc2UpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgb25VcCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hjYW5jZWwnLCBzdG9wVHJhY2tpbmcpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW92ZSwgZ2V0UGFzc2l2ZVN1cHBvcnRlZCgpID8geyBwYXNzaXZlOiBmYWxzZSB9IDogZmFsc2UpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvblVwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhhbmRsZXMgbW92ZSBldmVudHNcclxuICAgICAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2IE5vcm1hbGl6ZWQgZXZlbnRcclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gb25Nb3ZlKGV2KSB7XG4gICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFyIGV2ZW50ID0gbm9ybWFsaXplRXZlbnQoZXYpO1xuXG4gICAgICAgICAgICBpZiAocG9pbnRlckFjdGl2ZSAmJiBldmVudC5pZCA9PT0gcG9pbnRlcklkKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRlckN1cnJlbnRYID0gZXZlbnQueDtcbiAgICAgICAgICAgICAgICBwb2ludGVyQ3VycmVudFkgPSBldmVudC55O1xuICAgICAgICAgICAgICAgIGFkZFRyYWNraW5nUG9pbnQocG9pbnRlckxhc3RYLCBwb2ludGVyTGFzdFkpO1xuICAgICAgICAgICAgICAgIHJlcXVlc3RUaWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBIYW5kbGVzIHVwL2VuZCBldmVudHNcclxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gZXYgTm9ybWFsaXplZCBldmVudFxyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBvblVwKGV2KSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBub3JtYWxpemVFdmVudChldik7XG5cbiAgICAgICAgICAgIGlmIChwb2ludGVyQWN0aXZlICYmIGV2ZW50LmlkID09PSBwb2ludGVySWQpIHtcbiAgICAgICAgICAgICAgICBzdG9wVHJhY2tpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFN0b3BzIG1vdmVtZW50IHRyYWNraW5nLCBzdGFydHMgYW5pbWF0aW9uXHJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHN0b3BUcmFja2luZygpIHtcbiAgICAgICAgICAgIHBvaW50ZXJBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGFkZFRyYWNraW5nUG9pbnQocG9pbnRlckxhc3RYLCBwb2ludGVyTGFzdFkpO1xuICAgICAgICAgICAgc3RhcnREZWNlbEFuaW0oKTtcblxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgb25Nb3ZlKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgb25VcCk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHN0b3BUcmFja2luZyk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25VcCk7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbk1vdmUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVjb3JkcyBtb3ZlbWVudCBmb3IgdGhlIGxhc3QgMTAwbXNcclxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0geFxyXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5IFtkZXNjcmlwdGlvbl1cclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gYWRkVHJhY2tpbmdQb2ludCh4LCB5KSB7XG4gICAgICAgICAgICB2YXIgdGltZSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICB3aGlsZSAodHJhY2tpbmdQb2ludHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICh0aW1lIC0gdHJhY2tpbmdQb2ludHNbMF0udGltZSA8PSAxMDApIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyYWNraW5nUG9pbnRzLnNoaWZ0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyYWNraW5nUG9pbnRzLnB1c2goeyB4OiB4LCB5OiB5LCB0aW1lOiB0aW1lIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2FsY3VsYXRlIG5ldyB2YWx1ZXMsIGNhbGwgdXBkYXRlIGZ1bmN0aW9uXHJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUFuZFJlbmRlcigpIHtcbiAgICAgICAgICAgIHZhciBwb2ludGVyQ2hhbmdlWCA9IHBvaW50ZXJDdXJyZW50WCAtIHBvaW50ZXJMYXN0WDtcbiAgICAgICAgICAgIHZhciBwb2ludGVyQ2hhbmdlWSA9IHBvaW50ZXJDdXJyZW50WSAtIHBvaW50ZXJMYXN0WTtcblxuICAgICAgICAgICAgdGFyZ2V0WCArPSBwb2ludGVyQ2hhbmdlWCAqIG11bHRpcGxpZXI7XG4gICAgICAgICAgICB0YXJnZXRZICs9IHBvaW50ZXJDaGFuZ2VZICogbXVsdGlwbGllcjtcblxuICAgICAgICAgICAgaWYgKGJvdW5jZSkge1xuICAgICAgICAgICAgICAgIHZhciBkaWZmID0gY2hlY2tCb3VuZHMoKTtcbiAgICAgICAgICAgICAgICBpZiAoZGlmZi54ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFggLT0gcG9pbnRlckNoYW5nZVggKiBkcmFnT3V0T2ZCb3VuZHNNdWx0aXBsaWVyKGRpZmYueCkgKiBtdWx0aXBsaWVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZGlmZi55ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFkgLT0gcG9pbnRlckNoYW5nZVkgKiBkcmFnT3V0T2ZCb3VuZHNNdWx0aXBsaWVyKGRpZmYueSkgKiBtdWx0aXBsaWVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2hlY2tCb3VuZHModHJ1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbGxVcGRhdGVDYWxsYmFjaygpO1xuXG4gICAgICAgICAgICBwb2ludGVyTGFzdFggPSBwb2ludGVyQ3VycmVudFg7XG4gICAgICAgICAgICBwb2ludGVyTGFzdFkgPSBwb2ludGVyQ3VycmVudFk7XG4gICAgICAgICAgICB0aWNraW5nID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZXR1cm5zIGEgdmFsdWUgZnJvbSBhcm91bmQgMC41IHRvIDEsIGJhc2VkIG9uIGRpc3RhbmNlXHJcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHZhbFxyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBkcmFnT3V0T2ZCb3VuZHNNdWx0aXBsaWVyKHZhbCkge1xuICAgICAgICAgICAgcmV0dXJuIDAuMDAwMDA1ICogTWF0aC5wb3codmFsLCAyKSArIDAuMDAwMSAqIHZhbCArIDAuNTU7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBwcmV2ZW50cyBhbmltYXRpbmcgZmFzdGVyIHRoYW4gY3VycmVudCBmcmFtZXJhdGVcclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gcmVxdWVzdFRpY2soKSB7XG4gICAgICAgICAgICBpZiAoIXRpY2tpbmcpIHtcbiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbUZyYW1lKHVwZGF0ZUFuZFJlbmRlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aWNraW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERldGVybWluZSBwb3NpdGlvbiByZWxhdGl2ZSB0byBib3VuZHNcclxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHJlc3RyaWN0IFdoZXRoZXIgdG8gcmVzdHJpY3QgdGFyZ2V0IHRvIGJvdW5kc1xyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBjaGVja0JvdW5kcyhyZXN0cmljdCkge1xuICAgICAgICAgICAgdmFyIHhEaWZmID0gMDtcbiAgICAgICAgICAgIHZhciB5RGlmZiA9IDA7XG5cbiAgICAgICAgICAgIGlmIChib3VuZFhtaW4gIT09IHVuZGVmaW5lZCAmJiB0YXJnZXRYIDwgYm91bmRYbWluKSB7XG4gICAgICAgICAgICAgICAgeERpZmYgPSBib3VuZFhtaW4gLSB0YXJnZXRYO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChib3VuZFhtYXggIT09IHVuZGVmaW5lZCAmJiB0YXJnZXRYID4gYm91bmRYbWF4KSB7XG4gICAgICAgICAgICAgICAgeERpZmYgPSBib3VuZFhtYXggLSB0YXJnZXRYO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoYm91bmRZbWluICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0WSA8IGJvdW5kWW1pbikge1xuICAgICAgICAgICAgICAgIHlEaWZmID0gYm91bmRZbWluIC0gdGFyZ2V0WTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYm91bmRZbWF4ICE9PSB1bmRlZmluZWQgJiYgdGFyZ2V0WSA+IGJvdW5kWW1heCkge1xuICAgICAgICAgICAgICAgIHlEaWZmID0gYm91bmRZbWF4IC0gdGFyZ2V0WTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlc3RyaWN0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHhEaWZmICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFggPSB4RGlmZiA+IDAgPyBib3VuZFhtaW4gOiBib3VuZFhtYXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh5RGlmZiAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRZID0geURpZmYgPiAwID8gYm91bmRZbWluIDogYm91bmRZbWF4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiB4RGlmZixcbiAgICAgICAgICAgICAgICB5OiB5RGlmZixcbiAgICAgICAgICAgICAgICBpbkJvdW5kczogeERpZmYgPT09IDAgJiYgeURpZmYgPT09IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbml0aWFsaXplIGFuaW1hdGlvbiBvZiB2YWx1ZXMgY29taW5nIHRvIGEgc3RvcFxyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzdGFydERlY2VsQW5pbSgpIHtcbiAgICAgICAgICAgIHZhciBmaXJzdFBvaW50ID0gdHJhY2tpbmdQb2ludHNbMF07XG4gICAgICAgICAgICB2YXIgbGFzdFBvaW50ID0gdHJhY2tpbmdQb2ludHNbdHJhY2tpbmdQb2ludHMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgICAgIHZhciB4T2Zmc2V0ID0gbGFzdFBvaW50LnggLSBmaXJzdFBvaW50Lng7XG4gICAgICAgICAgICB2YXIgeU9mZnNldCA9IGxhc3RQb2ludC55IC0gZmlyc3RQb2ludC55O1xuICAgICAgICAgICAgdmFyIHRpbWVPZmZzZXQgPSBsYXN0UG9pbnQudGltZSAtIGZpcnN0UG9pbnQudGltZTtcblxuICAgICAgICAgICAgdmFyIEQgPSB0aW1lT2Zmc2V0IC8gMTUgLyBtdWx0aXBsaWVyO1xuXG4gICAgICAgICAgICBkZWNWZWxYID0geE9mZnNldCAvIEQgfHwgMDsgLy8gcHJldmVudCBOYU5cbiAgICAgICAgICAgIGRlY1ZlbFkgPSB5T2Zmc2V0IC8gRCB8fCAwO1xuXG4gICAgICAgICAgICB2YXIgZGlmZiA9IGNoZWNrQm91bmRzKCk7XG5cbiAgICAgICAgICAgIGlmIChNYXRoLmFicyhkZWNWZWxYKSA+IDEgfHwgTWF0aC5hYnMoZGVjVmVsWSkgPiAxIHx8ICFkaWZmLmluQm91bmRzKSB7XG4gICAgICAgICAgICAgICAgZGVjZWxlcmF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbUZyYW1lKHN0ZXBEZWNlbEFuaW0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQW5pbWF0ZXMgdmFsdWVzIHNsb3dpbmcgZG93blxyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzdGVwRGVjZWxBbmltKCkge1xuICAgICAgICAgICAgaWYgKCFkZWNlbGVyYXRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRlY1ZlbFggKj0gZnJpY3Rpb247XG4gICAgICAgICAgICBkZWNWZWxZICo9IGZyaWN0aW9uO1xuXG4gICAgICAgICAgICB0YXJnZXRYICs9IGRlY1ZlbFg7XG4gICAgICAgICAgICB0YXJnZXRZICs9IGRlY1ZlbFk7XG5cbiAgICAgICAgICAgIHZhciBkaWZmID0gY2hlY2tCb3VuZHMoKTtcblxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRlY1ZlbFgpID4gc3RvcFRocmVzaG9sZCB8fCBNYXRoLmFicyhkZWNWZWxZKSA+IHN0b3BUaHJlc2hvbGQgfHwgIWRpZmYuaW5Cb3VuZHMpIHtcblxuICAgICAgICAgICAgICAgIGlmIChib3VuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlYm91bmRBZGp1c3QgPSAyLjU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYueCAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYueCAqIGRlY1ZlbFggPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY1ZlbFggKz0gZGlmZi54ICogYm91bmNlRGVjZWxlcmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRqdXN0ID0gZGlmZi54ID4gMCA/IHJlYm91bmRBZGp1c3QgOiAtcmVib3VuZEFkanVzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNWZWxYID0gKGRpZmYueCArIGFkanVzdCkgKiBib3VuY2VBY2NlbGVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYueSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpZmYueSAqIGRlY1ZlbFkgPD0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY1ZlbFkgKz0gZGlmZi55ICogYm91bmNlRGVjZWxlcmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYWRqdXN0ID0gZGlmZi55ID4gMCA/IHJlYm91bmRBZGp1c3QgOiAtcmVib3VuZEFkanVzdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNWZWxZID0gKGRpZmYueSArIGFkanVzdCkgKiBib3VuY2VBY2NlbGVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZi54ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZi54ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFggPSBib3VuZFhtaW47XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFggPSBib3VuZFhtYXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNWZWxYID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZi55ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZi55ID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFkgPSBib3VuZFltaW47XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldFkgPSBib3VuZFltYXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWNWZWxZID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNhbGxVcGRhdGVDYWxsYmFjaygpO1xuXG4gICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1GcmFtZShzdGVwRGVjZWxBbmltKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVjZWxlcmF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcclxuICAgICAqIEBzZWUgaHR0cDovL3d3dy5wYXVsaXJpc2guY29tLzIwMTEvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1hbmltYXRpbmcvXHJcbiAgICAgKi9cbiAgICA7XG5cbiAgICBtb2R1bGUuZXhwb3J0cyA9IEltcGV0dXM7XG4gICAgdmFyIHJlcXVlc3RBbmltRnJhbWUgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcbiAgICAgICAgfTtcbiAgICB9KSgpO1xuXG4gICAgZnVuY3Rpb24gZ2V0UGFzc2l2ZVN1cHBvcnRlZCgpIHtcbiAgICAgICAgdmFyIHBhc3NpdmVTdXBwb3J0ZWQgPSBmYWxzZTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sIFwicGFzc2l2ZVwiLCB7XG4gICAgICAgICAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhc3NpdmVTdXBwb3J0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RcIiwgbnVsbCwgb3B0aW9ucyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge31cblxuICAgICAgICBnZXRQYXNzaXZlU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhc3NpdmVTdXBwb3J0ZWQ7XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBwYXNzaXZlU3VwcG9ydGVkO1xuICAgIH1cbn0pO1xuIiwiLypcbiAqIGNsYXNzTGlzdC5qczogQ3Jvc3MtYnJvd3NlciBmdWxsIGVsZW1lbnQuY2xhc3NMaXN0IGltcGxlbWVudGF0aW9uLlxuICogMS4xLjIwMTcwNDI3XG4gKlxuICogQnkgRWxpIEdyZXksIGh0dHA6Ly9lbGlncmV5LmNvbVxuICogTGljZW5zZTogRGVkaWNhdGVkIHRvIHRoZSBwdWJsaWMgZG9tYWluLlxuICogICBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2VsaWdyZXkvY2xhc3NMaXN0LmpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcbiAqL1xuXG4vKmdsb2JhbCBzZWxmLCBkb2N1bWVudCwgRE9NRXhjZXB0aW9uICovXG5cbi8qISBAc291cmNlIGh0dHA6Ly9wdXJsLmVsaWdyZXkuY29tL2dpdGh1Yi9jbGFzc0xpc3QuanMvYmxvYi9tYXN0ZXIvY2xhc3NMaXN0LmpzICovXG5cbmlmIChcImRvY3VtZW50XCIgaW4gd2luZG93LnNlbGYpIHtcblxuLy8gRnVsbCBwb2x5ZmlsbCBmb3IgYnJvd3NlcnMgd2l0aCBubyBjbGFzc0xpc3Qgc3VwcG9ydFxuLy8gSW5jbHVkaW5nIElFIDwgRWRnZSBtaXNzaW5nIFNWR0VsZW1lbnQuY2xhc3NMaXN0XG5pZiAoIShcImNsYXNzTGlzdFwiIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJfXCIpKSBcblx0fHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TICYmICEoXCJjbGFzc0xpc3RcIiBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFwiZ1wiKSkpIHtcblxuKGZ1bmN0aW9uICh2aWV3KSB7XG5cblwidXNlIHN0cmljdFwiO1xuXG5pZiAoISgnRWxlbWVudCcgaW4gdmlldykpIHJldHVybjtcblxudmFyXG5cdCAgY2xhc3NMaXN0UHJvcCA9IFwiY2xhc3NMaXN0XCJcblx0LCBwcm90b1Byb3AgPSBcInByb3RvdHlwZVwiXG5cdCwgZWxlbUN0clByb3RvID0gdmlldy5FbGVtZW50W3Byb3RvUHJvcF1cblx0LCBvYmpDdHIgPSBPYmplY3Rcblx0LCBzdHJUcmltID0gU3RyaW5nW3Byb3RvUHJvcF0udHJpbSB8fCBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIHRoaXMucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgXCJcIik7XG5cdH1cblx0LCBhcnJJbmRleE9mID0gQXJyYXlbcHJvdG9Qcm9wXS5pbmRleE9mIHx8IGZ1bmN0aW9uIChpdGVtKSB7XG5cdFx0dmFyXG5cdFx0XHQgIGkgPSAwXG5cdFx0XHQsIGxlbiA9IHRoaXMubGVuZ3RoXG5cdFx0O1xuXHRcdGZvciAoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChpIGluIHRoaXMgJiYgdGhpc1tpXSA9PT0gaXRlbSkge1xuXHRcdFx0XHRyZXR1cm4gaTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIC0xO1xuXHR9XG5cdC8vIFZlbmRvcnM6IHBsZWFzZSBhbGxvdyBjb250ZW50IGNvZGUgdG8gaW5zdGFudGlhdGUgRE9NRXhjZXB0aW9uc1xuXHQsIERPTUV4ID0gZnVuY3Rpb24gKHR5cGUsIG1lc3NhZ2UpIHtcblx0XHR0aGlzLm5hbWUgPSB0eXBlO1xuXHRcdHRoaXMuY29kZSA9IERPTUV4Y2VwdGlvblt0eXBlXTtcblx0XHR0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuXHR9XG5cdCwgY2hlY2tUb2tlbkFuZEdldEluZGV4ID0gZnVuY3Rpb24gKGNsYXNzTGlzdCwgdG9rZW4pIHtcblx0XHRpZiAodG9rZW4gPT09IFwiXCIpIHtcblx0XHRcdHRocm93IG5ldyBET01FeChcblx0XHRcdFx0ICBcIlNZTlRBWF9FUlJcIlxuXHRcdFx0XHQsIFwiQW4gaW52YWxpZCBvciBpbGxlZ2FsIHN0cmluZyB3YXMgc3BlY2lmaWVkXCJcblx0XHRcdCk7XG5cdFx0fVxuXHRcdGlmICgvXFxzLy50ZXN0KHRva2VuKSkge1xuXHRcdFx0dGhyb3cgbmV3IERPTUV4KFxuXHRcdFx0XHQgIFwiSU5WQUxJRF9DSEFSQUNURVJfRVJSXCJcblx0XHRcdFx0LCBcIlN0cmluZyBjb250YWlucyBhbiBpbnZhbGlkIGNoYXJhY3RlclwiXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRyZXR1cm4gYXJySW5kZXhPZi5jYWxsKGNsYXNzTGlzdCwgdG9rZW4pO1xuXHR9XG5cdCwgQ2xhc3NMaXN0ID0gZnVuY3Rpb24gKGVsZW0pIHtcblx0XHR2YXJcblx0XHRcdCAgdHJpbW1lZENsYXNzZXMgPSBzdHJUcmltLmNhbGwoZWxlbS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSB8fCBcIlwiKVxuXHRcdFx0LCBjbGFzc2VzID0gdHJpbW1lZENsYXNzZXMgPyB0cmltbWVkQ2xhc3Nlcy5zcGxpdCgvXFxzKy8pIDogW11cblx0XHRcdCwgaSA9IDBcblx0XHRcdCwgbGVuID0gY2xhc3Nlcy5sZW5ndGhcblx0XHQ7XG5cdFx0Zm9yICg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0dGhpcy5wdXNoKGNsYXNzZXNbaV0pO1xuXHRcdH1cblx0XHR0aGlzLl91cGRhdGVDbGFzc05hbWUgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRlbGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIHRoaXMudG9TdHJpbmcoKSk7XG5cdFx0fTtcblx0fVxuXHQsIGNsYXNzTGlzdFByb3RvID0gQ2xhc3NMaXN0W3Byb3RvUHJvcF0gPSBbXVxuXHQsIGNsYXNzTGlzdEdldHRlciA9IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gbmV3IENsYXNzTGlzdCh0aGlzKTtcblx0fVxuO1xuLy8gTW9zdCBET01FeGNlcHRpb24gaW1wbGVtZW50YXRpb25zIGRvbid0IGFsbG93IGNhbGxpbmcgRE9NRXhjZXB0aW9uJ3MgdG9TdHJpbmcoKVxuLy8gb24gbm9uLURPTUV4Y2VwdGlvbnMuIEVycm9yJ3MgdG9TdHJpbmcoKSBpcyBzdWZmaWNpZW50IGhlcmUuXG5ET01FeFtwcm90b1Byb3BdID0gRXJyb3JbcHJvdG9Qcm9wXTtcbmNsYXNzTGlzdFByb3RvLml0ZW0gPSBmdW5jdGlvbiAoaSkge1xuXHRyZXR1cm4gdGhpc1tpXSB8fCBudWxsO1xufTtcbmNsYXNzTGlzdFByb3RvLmNvbnRhaW5zID0gZnVuY3Rpb24gKHRva2VuKSB7XG5cdHRva2VuICs9IFwiXCI7XG5cdHJldHVybiBjaGVja1Rva2VuQW5kR2V0SW5kZXgodGhpcywgdG9rZW4pICE9PSAtMTtcbn07XG5jbGFzc0xpc3RQcm90by5hZGQgPSBmdW5jdGlvbiAoKSB7XG5cdHZhclxuXHRcdCAgdG9rZW5zID0gYXJndW1lbnRzXG5cdFx0LCBpID0gMFxuXHRcdCwgbCA9IHRva2Vucy5sZW5ndGhcblx0XHQsIHRva2VuXG5cdFx0LCB1cGRhdGVkID0gZmFsc2Vcblx0O1xuXHRkbyB7XG5cdFx0dG9rZW4gPSB0b2tlbnNbaV0gKyBcIlwiO1xuXHRcdGlmIChjaGVja1Rva2VuQW5kR2V0SW5kZXgodGhpcywgdG9rZW4pID09PSAtMSkge1xuXHRcdFx0dGhpcy5wdXNoKHRva2VuKTtcblx0XHRcdHVwZGF0ZWQgPSB0cnVlO1xuXHRcdH1cblx0fVxuXHR3aGlsZSAoKytpIDwgbCk7XG5cblx0aWYgKHVwZGF0ZWQpIHtcblx0XHR0aGlzLl91cGRhdGVDbGFzc05hbWUoKTtcblx0fVxufTtcbmNsYXNzTGlzdFByb3RvLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcblx0dmFyXG5cdFx0ICB0b2tlbnMgPSBhcmd1bWVudHNcblx0XHQsIGkgPSAwXG5cdFx0LCBsID0gdG9rZW5zLmxlbmd0aFxuXHRcdCwgdG9rZW5cblx0XHQsIHVwZGF0ZWQgPSBmYWxzZVxuXHRcdCwgaW5kZXhcblx0O1xuXHRkbyB7XG5cdFx0dG9rZW4gPSB0b2tlbnNbaV0gKyBcIlwiO1xuXHRcdGluZGV4ID0gY2hlY2tUb2tlbkFuZEdldEluZGV4KHRoaXMsIHRva2VuKTtcblx0XHR3aGlsZSAoaW5kZXggIT09IC0xKSB7XG5cdFx0XHR0aGlzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHR1cGRhdGVkID0gdHJ1ZTtcblx0XHRcdGluZGV4ID0gY2hlY2tUb2tlbkFuZEdldEluZGV4KHRoaXMsIHRva2VuKTtcblx0XHR9XG5cdH1cblx0d2hpbGUgKCsraSA8IGwpO1xuXG5cdGlmICh1cGRhdGVkKSB7XG5cdFx0dGhpcy5fdXBkYXRlQ2xhc3NOYW1lKCk7XG5cdH1cbn07XG5jbGFzc0xpc3RQcm90by50b2dnbGUgPSBmdW5jdGlvbiAodG9rZW4sIGZvcmNlKSB7XG5cdHRva2VuICs9IFwiXCI7XG5cblx0dmFyXG5cdFx0ICByZXN1bHQgPSB0aGlzLmNvbnRhaW5zKHRva2VuKVxuXHRcdCwgbWV0aG9kID0gcmVzdWx0ID9cblx0XHRcdGZvcmNlICE9PSB0cnVlICYmIFwicmVtb3ZlXCJcblx0XHQ6XG5cdFx0XHRmb3JjZSAhPT0gZmFsc2UgJiYgXCJhZGRcIlxuXHQ7XG5cblx0aWYgKG1ldGhvZCkge1xuXHRcdHRoaXNbbWV0aG9kXSh0b2tlbik7XG5cdH1cblxuXHRpZiAoZm9yY2UgPT09IHRydWUgfHwgZm9yY2UgPT09IGZhbHNlKSB7XG5cdFx0cmV0dXJuIGZvcmNlO1xuXHR9IGVsc2Uge1xuXHRcdHJldHVybiAhcmVzdWx0O1xuXHR9XG59O1xuY2xhc3NMaXN0UHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG5cdHJldHVybiB0aGlzLmpvaW4oXCIgXCIpO1xufTtcblxuaWYgKG9iakN0ci5kZWZpbmVQcm9wZXJ0eSkge1xuXHR2YXIgY2xhc3NMaXN0UHJvcERlc2MgPSB7XG5cdFx0ICBnZXQ6IGNsYXNzTGlzdEdldHRlclxuXHRcdCwgZW51bWVyYWJsZTogdHJ1ZVxuXHRcdCwgY29uZmlndXJhYmxlOiB0cnVlXG5cdH07XG5cdHRyeSB7XG5cdFx0b2JqQ3RyLmRlZmluZVByb3BlcnR5KGVsZW1DdHJQcm90bywgY2xhc3NMaXN0UHJvcCwgY2xhc3NMaXN0UHJvcERlc2MpO1xuXHR9IGNhdGNoIChleCkgeyAvLyBJRSA4IGRvZXNuJ3Qgc3VwcG9ydCBlbnVtZXJhYmxlOnRydWVcblx0XHQvLyBhZGRpbmcgdW5kZWZpbmVkIHRvIGZpZ2h0IHRoaXMgaXNzdWUgaHR0cHM6Ly9naXRodWIuY29tL2VsaWdyZXkvY2xhc3NMaXN0LmpzL2lzc3Vlcy8zNlxuXHRcdC8vIG1vZGVybmllIElFOC1NU1c3IG1hY2hpbmUgaGFzIElFOCA4LjAuNjAwMS4xODcwMiBhbmQgaXMgYWZmZWN0ZWRcblx0XHRpZiAoZXgubnVtYmVyID09PSB1bmRlZmluZWQgfHwgZXgubnVtYmVyID09PSAtMHg3RkY1RUM1NCkge1xuXHRcdFx0Y2xhc3NMaXN0UHJvcERlc2MuZW51bWVyYWJsZSA9IGZhbHNlO1xuXHRcdFx0b2JqQ3RyLmRlZmluZVByb3BlcnR5KGVsZW1DdHJQcm90bywgY2xhc3NMaXN0UHJvcCwgY2xhc3NMaXN0UHJvcERlc2MpO1xuXHRcdH1cblx0fVxufSBlbHNlIGlmIChvYmpDdHJbcHJvdG9Qcm9wXS5fX2RlZmluZUdldHRlcl9fKSB7XG5cdGVsZW1DdHJQcm90by5fX2RlZmluZUdldHRlcl9fKGNsYXNzTGlzdFByb3AsIGNsYXNzTGlzdEdldHRlcik7XG59XG5cbn0od2luZG93LnNlbGYpKTtcblxufVxuXG4vLyBUaGVyZSBpcyBmdWxsIG9yIHBhcnRpYWwgbmF0aXZlIGNsYXNzTGlzdCBzdXBwb3J0LCBzbyBqdXN0IGNoZWNrIGlmIHdlIG5lZWRcbi8vIHRvIG5vcm1hbGl6ZSB0aGUgYWRkL3JlbW92ZSBhbmQgdG9nZ2xlIEFQSXMuXG5cbihmdW5jdGlvbiAoKSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdHZhciB0ZXN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJfXCIpO1xuXG5cdHRlc3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJjMVwiLCBcImMyXCIpO1xuXG5cdC8vIFBvbHlmaWxsIGZvciBJRSAxMC8xMSBhbmQgRmlyZWZveCA8MjYsIHdoZXJlIGNsYXNzTGlzdC5hZGQgYW5kXG5cdC8vIGNsYXNzTGlzdC5yZW1vdmUgZXhpc3QgYnV0IHN1cHBvcnQgb25seSBvbmUgYXJndW1lbnQgYXQgYSB0aW1lLlxuXHRpZiAoIXRlc3RFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImMyXCIpKSB7XG5cdFx0dmFyIGNyZWF0ZU1ldGhvZCA9IGZ1bmN0aW9uKG1ldGhvZCkge1xuXHRcdFx0dmFyIG9yaWdpbmFsID0gRE9NVG9rZW5MaXN0LnByb3RvdHlwZVttZXRob2RdO1xuXG5cdFx0XHRET01Ub2tlbkxpc3QucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih0b2tlbikge1xuXHRcdFx0XHR2YXIgaSwgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcblxuXHRcdFx0XHRmb3IgKGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdFx0XHR0b2tlbiA9IGFyZ3VtZW50c1tpXTtcblx0XHRcdFx0XHRvcmlnaW5hbC5jYWxsKHRoaXMsIHRva2VuKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHR9O1xuXHRcdGNyZWF0ZU1ldGhvZCgnYWRkJyk7XG5cdFx0Y3JlYXRlTWV0aG9kKCdyZW1vdmUnKTtcblx0fVxuXG5cdHRlc3RFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJjM1wiLCBmYWxzZSk7XG5cblx0Ly8gUG9seWZpbGwgZm9yIElFIDEwIGFuZCBGaXJlZm94IDwyNCwgd2hlcmUgY2xhc3NMaXN0LnRvZ2dsZSBkb2VzIG5vdFxuXHQvLyBzdXBwb3J0IHRoZSBzZWNvbmQgYXJndW1lbnQuXG5cdGlmICh0ZXN0RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoXCJjM1wiKSkge1xuXHRcdHZhciBfdG9nZ2xlID0gRE9NVG9rZW5MaXN0LnByb3RvdHlwZS50b2dnbGU7XG5cblx0XHRET01Ub2tlbkxpc3QucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uKHRva2VuLCBmb3JjZSkge1xuXHRcdFx0aWYgKDEgaW4gYXJndW1lbnRzICYmICF0aGlzLmNvbnRhaW5zKHRva2VuKSA9PT0gIWZvcmNlKSB7XG5cdFx0XHRcdHJldHVybiBmb3JjZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybiBfdG9nZ2xlLmNhbGwodGhpcywgdG9rZW4pO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0fVxuXG5cdHRlc3RFbGVtZW50ID0gbnVsbDtcbn0oKSk7XG5cbn1cbiIsIi8qIVxuQ29weXJpZ2h0IChDKSAyMDEzLTIwMTUgYnkgV2ViUmVmbGVjdGlvblxuXG5QZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG5vZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG5pbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG50byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG5jb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbmZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG5cblRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG5hbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG5GSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbkFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbkxJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG5PVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG5USEUgU09GVFdBUkUuXG5cbiovXG4oZnVuY3Rpb24od2luZG93KXtcbiAgLyohIChDKSBXZWJSZWZsZWN0aW9uIE1pdCBTdHlsZSBMaWNlbnNlICovXG4gIGlmIChkb2N1bWVudC5jcmVhdGVFdmVudCkgcmV0dXJuO1xuICB2YXJcbiAgICBEVU5OT0FCT1VURE9NTE9BREVEID0gdHJ1ZSxcbiAgICBSRUFEWUVWRU5URElTUEFUQ0hFRCA9IGZhbHNlLFxuICAgIE9OUkVBRFlTVEFURUNIQU5HRSA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnLFxuICAgIERPTUNPTlRFTlRMT0FERUQgPSAnRE9NQ29udGVudExvYWRlZCcsXG4gICAgU0VDUkVUID0gJ19fSUU4X18nICsgTWF0aC5yYW5kb20oKSxcbiAgICAvLyBPYmplY3QgPSB3aW5kb3cuT2JqZWN0LFxuICAgIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5IHx8XG4gICAgLy8ganVzdCBpbiBjYXNlIC4uLlxuICAgIGZ1bmN0aW9uIChvYmplY3QsIHByb3BlcnR5LCBkZXNjcmlwdG9yKSB7XG4gICAgICBvYmplY3RbcHJvcGVydHldID0gZGVzY3JpcHRvci52YWx1ZTtcbiAgICB9LFxuICAgIGRlZmluZVByb3BlcnRpZXMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcyB8fFxuICAgIC8vIElFOCBpbXBsZW1lbnRlZCBkZWZpbmVQcm9wZXJ0eSBidXQgbm90IHRoZSBwbHVyYWwuLi5cbiAgICBmdW5jdGlvbiAob2JqZWN0LCBkZXNjcmlwdG9ycykge1xuICAgICAgZm9yKHZhciBrZXkgaW4gZGVzY3JpcHRvcnMpIHtcbiAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoZGVzY3JpcHRvcnMsIGtleSkpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIGRlc2NyaXB0b3JzW2tleV0pO1xuICAgICAgICAgIH0gY2F0Y2gob19PKSB7XG4gICAgICAgICAgICBpZiAod2luZG93LmNvbnNvbGUpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coa2V5ICsgJyBmYWlsZWQgb24gb2JqZWN0OicsIG9iamVjdCwgb19PLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgICBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHksXG4gICAgLy8gaGVyZSBJRTcgd2lsbCBicmVhayBsaWtlIGEgY2hhcm1cbiAgICBFbGVtZW50UHJvdG90eXBlID0gd2luZG93LkVsZW1lbnQucHJvdG90eXBlLFxuICAgIFRleHRQcm90b3R5cGUgPSB3aW5kb3cuVGV4dC5wcm90b3R5cGUsXG4gICAgLy8gbm9uZSBvZiBhYm92ZSBuYXRpdmUgY29uc3RydWN0b3JzIGV4aXN0L2FyZSBleHBvc2VkXG4gICAgcG9zc2libHlOYXRpdmVFdmVudCA9IC9eW2Etel0rJC8sXG4gICAgLy8gXiBhY3R1YWxseSBjb3VsZCBwcm9iYWJseSBiZSBqdXN0IC9eW2Etel0rJC9cbiAgICByZWFkeVN0YXRlT0sgPSAvbG9hZGVkfGNvbXBsZXRlLyxcbiAgICB0eXBlcyA9IHt9LFxuICAgIGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgIGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsXG4gICAgcmVtb3ZlQXR0cmlidXRlID0gaHRtbC5yZW1vdmVBdHRyaWJ1dGUsXG4gICAgc2V0QXR0cmlidXRlID0gaHRtbC5zZXRBdHRyaWJ1dGUsXG4gICAgdmFsdWVEZXNjID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgIH07XG4gICAgfVxuICA7XG5cbiAgZnVuY3Rpb24gY29tbW9uRXZlbnRMb29wKGN1cnJlbnRUYXJnZXQsIGUsICRoYW5kbGVycywgc3ludGhldGljKSB7XG4gICAgZm9yKHZhclxuICAgICAgaGFuZGxlcixcbiAgICAgIGNvbnRpbnVlUHJvcGFnYXRpb24sXG4gICAgICBoYW5kbGVycyA9ICRoYW5kbGVycy5zbGljZSgpLFxuICAgICAgZXZ0ID0gZW5yaWNoKGUsIGN1cnJlbnRUYXJnZXQpLFxuICAgICAgaSA9IDAsIGxlbmd0aCA9IGhhbmRsZXJzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrXG4gICAgKSB7XG4gICAgICBoYW5kbGVyID0gaGFuZGxlcnNbaV07XG4gICAgICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaGFuZGxlci5oYW5kbGVFdmVudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGhhbmRsZXIuaGFuZGxlRXZlbnQoZXZ0KTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGFuZGxlci5jYWxsKGN1cnJlbnRUYXJnZXQsIGV2dCk7XG4gICAgICB9XG4gICAgICBpZiAoZXZ0LnN0b3BwZWRJbW1lZGlhdGVQcm9wYWdhdGlvbikgYnJlYWs7XG4gICAgfVxuICAgIGNvbnRpbnVlUHJvcGFnYXRpb24gPSAhZXZ0LnN0b3BwZWRQcm9wYWdhdGlvbjtcbiAgICAvKlxuICAgIGlmIChjb250aW51ZVByb3BhZ2F0aW9uICYmICFzeW50aGV0aWMgJiYgIWxpdmUoY3VycmVudFRhcmdldCkpIHtcbiAgICAgIGV2dC5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgIH1cbiAgICAqL1xuICAgIHJldHVybiAoXG4gICAgICBzeW50aGV0aWMgJiZcbiAgICAgIGNvbnRpbnVlUHJvcGFnYXRpb24gJiZcbiAgICAgIGN1cnJlbnRUYXJnZXQucGFyZW50Tm9kZVxuICAgICkgP1xuICAgICAgY3VycmVudFRhcmdldC5wYXJlbnROb2RlLmRpc3BhdGNoRXZlbnQoZXZ0KSA6XG4gICAgICAhZXZ0LmRlZmF1bHRQcmV2ZW50ZWRcbiAgICA7XG4gIH1cblxuICBmdW5jdGlvbiBjb21tb25EZXNjcmlwdG9yKGdldCwgc2V0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIGlmIHlvdSB0cnkgd2l0aCBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAvLyBJRTggd2lsbCBtaXNlcmFibHkgZmFpbFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgZ2V0OiBnZXQsXG4gICAgICBzZXQ6IHNldFxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBjb21tb25UZXh0Q29udGVudChwcm90b0Rlc3QsIHByb3RvU291cmNlLCBwcm9wZXJ0eSkge1xuICAgIHZhciBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFxuICAgICAgcHJvdG9Tb3VyY2UgfHwgcHJvdG9EZXN0LCBwcm9wZXJ0eVxuICAgICk7XG4gICAgZGVmaW5lUHJvcGVydHkoXG4gICAgICBwcm90b0Rlc3QsXG4gICAgICAndGV4dENvbnRlbnQnLFxuICAgICAgY29tbW9uRGVzY3JpcHRvcihcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yLmdldC5jYWxsKHRoaXMpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAodGV4dENvbnRlbnQpIHtcbiAgICAgICAgICBkZXNjcmlwdG9yLnNldC5jYWxsKHRoaXMsIHRleHRDb250ZW50KTtcbiAgICAgICAgfVxuICAgICAgKVxuICAgICk7XG4gIH1cblxuICBmdW5jdGlvbiBlbnJpY2goZSwgY3VycmVudFRhcmdldCkge1xuICAgIGUuY3VycmVudFRhcmdldCA9IGN1cnJlbnRUYXJnZXQ7XG4gICAgZS5ldmVudFBoYXNlID0gKFxuICAgICAgLy8gQVRfVEFSR0VUIDogQlVCQkxJTkdfUEhBU0VcbiAgICAgIGUudGFyZ2V0ID09PSBlLmN1cnJlbnRUYXJnZXQgPyAyIDogM1xuICAgICk7XG4gICAgcmV0dXJuIGU7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kKGFycmF5LCB2YWx1ZSkge1xuICAgIHZhciBpID0gYXJyYXkubGVuZ3RoO1xuICAgIHdoaWxlKGktLSAmJiBhcnJheVtpXSAhPT0gdmFsdWUpO1xuICAgIHJldHVybiBpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0VGV4dENvbnRlbnQoKSB7XG4gICAgaWYgKHRoaXMudGFnTmFtZSA9PT0gJ0JSJykgcmV0dXJuICdcXG4nO1xuICAgIHZhclxuICAgICAgdGV4dE5vZGUgPSB0aGlzLmZpcnN0Q2hpbGQsXG4gICAgICBhcnJheUNvbnRlbnQgPSBbXVxuICAgIDtcbiAgICB3aGlsZSh0ZXh0Tm9kZSkge1xuICAgICAgaWYgKHRleHROb2RlLm5vZGVUeXBlICE9PSA4ICYmIHRleHROb2RlLm5vZGVUeXBlICE9PSA3KSB7XG4gICAgICAgIGFycmF5Q29udGVudC5wdXNoKHRleHROb2RlLnRleHRDb250ZW50KTtcbiAgICAgIH1cbiAgICAgIHRleHROb2RlID0gdGV4dE5vZGUubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIHJldHVybiBhcnJheUNvbnRlbnQuam9pbignJyk7XG4gIH1cblxuICBmdW5jdGlvbiBsaXZlKHNlbGYpIHtcbiAgICByZXR1cm4gc2VsZi5ub2RlVHlwZSAhPT0gOSAmJiBodG1sLmNvbnRhaW5zKHNlbGYpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25rZXl1cChlKSB7XG4gICAgdmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgIGV2dC5pbml0RXZlbnQoJ2lucHV0JywgdHJ1ZSwgdHJ1ZSk7XG4gICAgKGUuc3JjRWxlbWVudCB8fCBlLmZyb21FbGVtZW50IHx8IGRvY3VtZW50KS5kaXNwYXRjaEV2ZW50KGV2dCk7XG4gIH1cblxuICBmdW5jdGlvbiBvblJlYWR5U3RhdGUoZSkge1xuICAgIGlmICghUkVBRFlFVkVOVERJU1BBVENIRUQgJiYgcmVhZHlTdGF0ZU9LLnRlc3QoXG4gICAgICBkb2N1bWVudC5yZWFkeVN0YXRlXG4gICAgKSkge1xuICAgICAgUkVBRFlFVkVOVERJU1BBVENIRUQgPSAhUkVBRFlFVkVOVERJU1BBVENIRUQ7XG4gICAgICBkb2N1bWVudC5kZXRhY2hFdmVudChPTlJFQURZU1RBVEVDSEFOR0UsIG9uUmVhZHlTdGF0ZSk7XG4gICAgICBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgICBlLmluaXRFdmVudChET01DT05URU5UTE9BREVELCB0cnVlLCB0cnVlKTtcbiAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZSk7XG4gICAgfVxuICB9XG4gIFxuICBmdW5jdGlvbiBnZXR0ZXIoYXR0cikge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBodG1sW2F0dHJdIHx8IChkb2N1bWVudC5ib2R5ICYmIGRvY3VtZW50LmJvZHlbYXR0cl0pIHx8IDA7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFRleHRDb250ZW50KHRleHRDb250ZW50KSB7XG4gICAgdmFyIG5vZGU7XG4gICAgd2hpbGUgKChub2RlID0gdGhpcy5sYXN0Q2hpbGQpKSB7XG4gICAgICB0aGlzLnJlbW92ZUNoaWxkKG5vZGUpO1xuICAgIH1cbiAgICAvKmpzaGludCBlcW51bGw6dHJ1ZSAqL1xuICAgIGlmICh0ZXh0Q29udGVudCAhPSBudWxsKSB7XG4gICAgICB0aGlzLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHRDb250ZW50KSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdmVyaWZ5KHNlbGYsIGUpIHtcbiAgICBpZiAoIWUpIHtcbiAgICAgIGUgPSB3aW5kb3cuZXZlbnQ7XG4gICAgfVxuICAgIGlmICghZS50YXJnZXQpIHtcbiAgICAgIGUudGFyZ2V0ID0gZS5zcmNFbGVtZW50IHx8IGUuZnJvbUVsZW1lbnQgfHwgZG9jdW1lbnQ7XG4gICAgfVxuICAgIGlmICghZS50aW1lU3RhbXApIHtcbiAgICAgIGUudGltZVN0YW1wID0gKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGU7XG4gIH1cblxuICAvLyBub3JtYWxpemVkIHRleHRDb250ZW50IGZvcjpcbiAgLy8gIGNvbW1lbnQsIHNjcmlwdCwgc3R5bGUsIHRleHQsIHRpdGxlXG4gIGNvbW1vblRleHRDb250ZW50KFxuICAgIHdpbmRvdy5IVE1MQ29tbWVudEVsZW1lbnQucHJvdG90eXBlLFxuICAgIEVsZW1lbnRQcm90b3R5cGUsXG4gICAgJ25vZGVWYWx1ZSdcbiAgKTtcblxuICBjb21tb25UZXh0Q29udGVudChcbiAgICB3aW5kb3cuSFRNTFNjcmlwdEVsZW1lbnQucHJvdG90eXBlLFxuICAgIG51bGwsXG4gICAgJ3RleHQnXG4gICk7XG5cbiAgY29tbW9uVGV4dENvbnRlbnQoXG4gICAgVGV4dFByb3RvdHlwZSxcbiAgICBudWxsLFxuICAgICdub2RlVmFsdWUnXG4gICk7XG5cbiAgY29tbW9uVGV4dENvbnRlbnQoXG4gICAgd2luZG93LkhUTUxUaXRsZUVsZW1lbnQucHJvdG90eXBlLFxuICAgIG51bGwsXG4gICAgJ3RleHQnXG4gICk7XG5cbiAgZGVmaW5lUHJvcGVydHkoXG4gICAgd2luZG93LkhUTUxTdHlsZUVsZW1lbnQucHJvdG90eXBlLFxuICAgICd0ZXh0Q29udGVudCcsXG4gICAgKGZ1bmN0aW9uKGRlc2NyaXB0b3Ipe1xuICAgICAgcmV0dXJuIGNvbW1vbkRlc2NyaXB0b3IoXG4gICAgICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZGVzY3JpcHRvci5nZXQuY2FsbCh0aGlzLnN0eWxlU2hlZXQpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbiAodGV4dENvbnRlbnQpIHtcbiAgICAgICAgICBkZXNjcmlwdG9yLnNldC5jYWxsKHRoaXMuc3R5bGVTaGVldCwgdGV4dENvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH0oZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHdpbmRvdy5DU1NTdHlsZVNoZWV0LnByb3RvdHlwZSwgJ2Nzc1RleHQnKSkpXG4gICk7XG5cbiAgdmFyIG9wYWNpdHlyZSA9IC9cXGJcXHMqYWxwaGFcXHMqXFwoXFxzKm9wYWNpdHlcXHMqPVxccyooXFxkKylcXHMqXFwpLztcbiAgZGVmaW5lUHJvcGVydHkoXG4gICAgd2luZG93LkNTU1N0eWxlRGVjbGFyYXRpb24ucHJvdG90eXBlLFxuICAgICdvcGFjaXR5Jywge1xuICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG0gPSB0aGlzLmZpbHRlci5tYXRjaChvcGFjaXR5cmUpO1xuICAgICAgICByZXR1cm4gbSA/IChtWzFdIC8gMTAwKS50b1N0cmluZygpIDogJyc7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB0aGlzLnpvb20gPSAxO1xuICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICAgICAgaWYgKHZhbHVlIDwgMSkge1xuICAgICAgICAgIHZhbHVlID0gJyBhbHBoYShvcGFjaXR5PScgKyBNYXRoLnJvdW5kKHZhbHVlICogMTAwKSArICcpJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YWx1ZSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmlsdGVyID0gdGhpcy5maWx0ZXIucmVwbGFjZShvcGFjaXR5cmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHsgZm91bmQgPSB0cnVlOyByZXR1cm4gdmFsdWU7IH0pO1xuICAgICAgICBpZiAoIWZvdW5kICYmIHZhbHVlKSB7XG4gICAgICAgICAgdGhpcy5maWx0ZXIgKz0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICk7XG5cbiAgZGVmaW5lUHJvcGVydGllcyhcbiAgICBFbGVtZW50UHJvdG90eXBlLFxuICAgIHtcbiAgICAgIC8vIGJvbnVzXG4gICAgICB0ZXh0Q29udGVudDoge1xuICAgICAgICBnZXQ6IGdldFRleHRDb250ZW50LFxuICAgICAgICBzZXQ6IHNldFRleHRDb250ZW50XG4gICAgICB9LFxuICAgICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvRWxlbWVudFRyYXZlcnNhbC8jaW50ZXJmYWNlLWVsZW1lbnRUcmF2ZXJzYWxcbiAgICAgIGZpcnN0RWxlbWVudENoaWxkOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZvcih2YXJcbiAgICAgICAgICAgIGNoaWxkTm9kZXMgPSB0aGlzLmNoaWxkTm9kZXMgfHwgW10sXG4gICAgICAgICAgICBpID0gMCwgbGVuZ3RoID0gY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAgICAgICAgICBpIDwgbGVuZ3RoOyBpKytcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmIChjaGlsZE5vZGVzW2ldLm5vZGVUeXBlID09IDEpIHJldHVybiBjaGlsZE5vZGVzW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGxhc3RFbGVtZW50Q2hpbGQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZm9yKHZhclxuICAgICAgICAgICAgY2hpbGROb2RlcyA9IHRoaXMuY2hpbGROb2RlcyB8fCBbXSxcbiAgICAgICAgICAgIGkgPSBjaGlsZE5vZGVzLmxlbmd0aDtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmIChjaGlsZE5vZGVzW2ldLm5vZGVUeXBlID09IDEpIHJldHVybiBjaGlsZE5vZGVzW2ldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIG9uaW5wdXQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX29uaW5wdXQgfHwgbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAob25pbnB1dCkge1xuICAgICAgICAgIGlmICh0aGlzLl9vbmlucHV0KSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2lucHV0JywgdGhpcy5fb25pbnB1dCk7XG4gICAgICAgICAgICB0aGlzLl9vbmlucHV0ID0gb25pbnB1dDtcbiAgICAgICAgICAgIGlmIChvbmlucHV0KSB7XG4gICAgICAgICAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBvbmlucHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwcmV2aW91c0VsZW1lbnRTaWJsaW5nOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBwcmV2aW91c0VsZW1lbnRTaWJsaW5nID0gdGhpcy5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgd2hpbGUgKHByZXZpb3VzRWxlbWVudFNpYmxpbmcgJiYgcHJldmlvdXNFbGVtZW50U2libGluZy5ub2RlVHlwZSAhPSAxKSB7XG4gICAgICAgICAgICBwcmV2aW91c0VsZW1lbnRTaWJsaW5nID0gcHJldmlvdXNFbGVtZW50U2libGluZy5wcmV2aW91c1NpYmxpbmc7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwcmV2aW91c0VsZW1lbnRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbmV4dEVsZW1lbnRTaWJsaW5nOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBuZXh0RWxlbWVudFNpYmxpbmcgPSB0aGlzLm5leHRTaWJsaW5nO1xuICAgICAgICAgIHdoaWxlIChuZXh0RWxlbWVudFNpYmxpbmcgJiYgbmV4dEVsZW1lbnRTaWJsaW5nLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICAgIG5leHRFbGVtZW50U2libGluZyA9IG5leHRFbGVtZW50U2libGluZy5uZXh0U2libGluZztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNoaWxkRWxlbWVudENvdW50OiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZvcih2YXJcbiAgICAgICAgICAgIGNvdW50ID0gMCxcbiAgICAgICAgICAgIGNoaWxkTm9kZXMgPSB0aGlzLmNoaWxkTm9kZXMgfHwgW10sXG4gICAgICAgICAgICBpID0gY2hpbGROb2Rlcy5sZW5ndGg7IGktLTsgY291bnQgKz0gY2hpbGROb2Rlc1tpXS5ub2RlVHlwZSA9PSAxXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXR1cm4gY291bnQ7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAvKlxuICAgICAgLy8gY2hpbGRyZW4gd291bGQgYmUgYW4gb3ZlcnJpZGVcbiAgICAgIC8vIElFOCBhbHJlYWR5IHN1cHBvcnRzIHRoZW0gYnV0IHdpdGggY29tbWVudHMgdG9vXG4gICAgICAvLyBub3QganVzdCBub2RlVHlwZSAxXG4gICAgICBjaGlsZHJlbjoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmb3IodmFyXG4gICAgICAgICAgICBjaGlsZHJlbiA9IFtdLFxuICAgICAgICAgICAgY2hpbGROb2RlcyA9IHRoaXMuY2hpbGROb2RlcyB8fCBbXSxcbiAgICAgICAgICAgIGkgPSAwLCBsZW5ndGggPSBjaGlsZE5vZGVzLmxlbmd0aDtcbiAgICAgICAgICAgIGkgPCBsZW5ndGg7IGkrK1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgaWYgKGNoaWxkTm9kZXNbaV0ubm9kZVR5cGUgPT0gMSkge1xuICAgICAgICAgICAgICBjaGlsZHJlbi5wdXNoKGNoaWxkTm9kZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gY2hpbGRyZW47XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAqL1xuICAgICAgLy8gRE9NIExldmVsIDIgRXZlbnRUYXJnZXQgbWV0aG9kcyBhbmQgZXZlbnRzXG4gICAgICBhZGRFdmVudExpc3RlbmVyOiB2YWx1ZURlc2MoZnVuY3Rpb24gKHR5cGUsIGhhbmRsZXIsIGNhcHR1cmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBoYW5kbGVyICE9PSAnb2JqZWN0JykgcmV0dXJuO1xuICAgICAgICB2YXJcbiAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICBvbnR5cGUgPSAnb24nICsgdHlwZSxcbiAgICAgICAgICB0ZW1wbGUgPSAgc2VsZltTRUNSRVRdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLCBTRUNSRVQsIHt2YWx1ZToge319XG4gICAgICAgICAgICAgICAgICAgICAgKVtTRUNSRVRdLFxuICAgICAgICAgIGN1cnJlbnRUeXBlID0gdGVtcGxlW29udHlwZV0gfHwgKHRlbXBsZVtvbnR5cGVdID0ge30pLFxuICAgICAgICAgIGhhbmRsZXJzICA9IGN1cnJlbnRUeXBlLmggfHwgKGN1cnJlbnRUeXBlLmggPSBbXSksXG4gICAgICAgICAgZSwgYXR0clxuICAgICAgICA7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChjdXJyZW50VHlwZSwgJ3cnKSkge1xuICAgICAgICAgIGN1cnJlbnRUeXBlLncgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgLy8gZVtTRUNSRVRdIGlzIGEgc2lsZW50IG5vdGlmaWNhdGlvbiBuZWVkZWQgdG8gYXZvaWRcbiAgICAgICAgICAgIC8vIGZpcmVkIGV2ZW50cyBkdXJpbmcgbGl2ZSB0ZXN0XG4gICAgICAgICAgICByZXR1cm4gZVtTRUNSRVRdIHx8IGNvbW1vbkV2ZW50TG9vcChzZWxmLCB2ZXJpZnkoc2VsZiwgZSksIGhhbmRsZXJzLCBmYWxzZSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgICAvLyBpZiBub3QgZGV0ZWN0ZWQgeWV0XG4gICAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKHR5cGVzLCBvbnR5cGUpKSB7XG4gICAgICAgICAgICAvLyBhbmQgcG90ZW50aWFsbHkgYSBuYXRpdmUgZXZlbnRcbiAgICAgICAgICAgIGlmKHBvc3NpYmx5TmF0aXZlRXZlbnQudGVzdCh0eXBlKSkge1xuICAgICAgICAgICAgICAvLyBkbyB0aGlzIGhlYXZ5IHRoaW5nXG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogIHNob3VsZCBJIGNvbnNpZGVyIHRhZ05hbWUgdG9vIHNvIHRoYXRcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgSU5QVVRbb250eXBlXSBjb3VsZCBiZSBkaWZmZXJlbnQgP1xuICAgICAgICAgICAgICAgIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpO1xuICAgICAgICAgICAgICAgIC8vIGRvIG5vdCBjbG9uZSBldmVyIGEgbm9kZVxuICAgICAgICAgICAgICAgIC8vIHNwZWNpYWxseSBhIGRvY3VtZW50IG9uZSAuLi5cbiAgICAgICAgICAgICAgICAvLyB1c2UgdGhlIHNlY3JldCB0byBpZ25vcmUgdGhlbSBhbGxcbiAgICAgICAgICAgICAgICBlW1NFQ1JFVF0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50IGEgcGFydCBpZiBhIG5vZGUgaGFzIG5ldmVyIGJlZW5cbiAgICAgICAgICAgICAgICAvLyBhZGRlZCB0byBhbnkgb3RoZXIgbm9kZSwgZmlyZUV2ZW50IG1pZ2h0XG4gICAgICAgICAgICAgICAgLy8gYmVoYXZlIHZlcnkgd2VpcmRseSAocmVhZDogdHJpZ2dlciB1bnNwZWNpZmllZCBlcnJvcnMpXG4gICAgICAgICAgICAgICAgaWYgKHNlbGYubm9kZVR5cGUgIT0gOSkge1xuICAgICAgICAgICAgICAgICAgLypqc2hpbnQgZXFudWxsOnRydWUgKi9cbiAgICAgICAgICAgICAgICAgIGlmIChzZWxmLnBhcmVudE5vZGUgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoc2VsZik7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBpZiAoKGF0dHIgPSBzZWxmLmdldEF0dHJpYnV0ZShvbnR5cGUpKSkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVBdHRyaWJ1dGUuY2FsbChzZWxmLCBvbnR5cGUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzZWxmLmZpcmVFdmVudChvbnR5cGUsIGUpO1xuICAgICAgICAgICAgICAgIHR5cGVzW29udHlwZV0gPSB0cnVlO1xuICAgICAgICAgICAgICB9IGNhdGNoKG1laCkge1xuICAgICAgICAgICAgICAgIHR5cGVzW29udHlwZV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoZGl2Lmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgICAgICAgICAgICAgZGl2LnJlbW92ZUNoaWxkKGRpdi5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaWYgKGF0dHIgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHNldEF0dHJpYnV0ZS5jYWxsKHNlbGYsIG9udHlwZSwgYXR0cik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIG5vIG5lZWQgdG8gYm90aGVyIHNpbmNlXG4gICAgICAgICAgICAgIC8vICd4LWV2ZW50JyBhaW4ndCBuYXRpdmUgZm9yIHN1cmVcbiAgICAgICAgICAgICAgdHlwZXNbb250eXBlXSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoKGN1cnJlbnRUeXBlLm4gPSB0eXBlc1tvbnR5cGVdKSkge1xuICAgICAgICAgICAgc2VsZi5hdHRhY2hFdmVudChvbnR5cGUsIGN1cnJlbnRUeXBlLncpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZmluZChoYW5kbGVycywgaGFuZGxlcikgPCAwKSB7XG4gICAgICAgICAgaGFuZGxlcnNbY2FwdHVyZSA/ICd1bnNoaWZ0JyA6ICdwdXNoJ10oaGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGUgPT09ICdpbnB1dCcpIHtcbiAgICAgICAgICBzZWxmLmF0dGFjaEV2ZW50KCdvbmtleXVwJywgb25rZXl1cCk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgZGlzcGF0Y2hFdmVudDogdmFsdWVEZXNjKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICAgIG9udHlwZSA9ICdvbicgKyBlLnR5cGUsXG4gICAgICAgICAgdGVtcGxlID0gIHNlbGZbU0VDUkVUXSxcbiAgICAgICAgICBjdXJyZW50VHlwZSA9IHRlbXBsZSAmJiB0ZW1wbGVbb250eXBlXSxcbiAgICAgICAgICB2YWxpZCA9ICEhY3VycmVudFR5cGUsXG4gICAgICAgICAgcGFyZW50Tm9kZVxuICAgICAgICA7XG4gICAgICAgIGlmICghZS50YXJnZXQpIGUudGFyZ2V0ID0gc2VsZjtcbiAgICAgICAgcmV0dXJuICh2YWxpZCA/IChcbiAgICAgICAgICBjdXJyZW50VHlwZS5uIC8qICYmIGxpdmUoc2VsZikgKi8gP1xuICAgICAgICAgICAgc2VsZi5maXJlRXZlbnQob250eXBlLCBlKSA6XG4gICAgICAgICAgICBjb21tb25FdmVudExvb3AoXG4gICAgICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgICAgIGUsXG4gICAgICAgICAgICAgIGN1cnJlbnRUeXBlLmgsXG4gICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgIClcbiAgICAgICAgKSA6IChcbiAgICAgICAgICAocGFyZW50Tm9kZSA9IHNlbGYucGFyZW50Tm9kZSkgLyogJiYgbGl2ZShzZWxmKSAqLyA/XG4gICAgICAgICAgICBwYXJlbnROb2RlLmRpc3BhdGNoRXZlbnQoZSkgOlxuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICApKSwgIWUuZGVmYXVsdFByZXZlbnRlZDtcbiAgICAgIH0pLFxuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogdmFsdWVEZXNjKGZ1bmN0aW9uICh0eXBlLCBoYW5kbGVyLCBjYXB0dXJlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaGFuZGxlciAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgaGFuZGxlciAhPT0gJ29iamVjdCcpIHJldHVybjtcbiAgICAgICAgdmFyXG4gICAgICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgb250eXBlID0gJ29uJyArIHR5cGUsXG4gICAgICAgICAgdGVtcGxlID0gIHNlbGZbU0VDUkVUXSxcbiAgICAgICAgICBjdXJyZW50VHlwZSA9IHRlbXBsZSAmJiB0ZW1wbGVbb250eXBlXSxcbiAgICAgICAgICBoYW5kbGVycyA9IGN1cnJlbnRUeXBlICYmIGN1cnJlbnRUeXBlLmgsXG4gICAgICAgICAgaSA9IGhhbmRsZXJzID8gZmluZChoYW5kbGVycywgaGFuZGxlcikgOiAtMVxuICAgICAgICA7XG4gICAgICAgIGlmICgtMSA8IGkpIGhhbmRsZXJzLnNwbGljZShpLCAxKTtcbiAgICAgIH0pXG4gICAgfVxuICApO1xuXG4gIC8qIHRoaXMgaXMgbm90IG5lZWRlZCBpbiBJRThcbiAgZGVmaW5lUHJvcGVydGllcyh3aW5kb3cuSFRNTFNlbGVjdEVsZW1lbnQucHJvdG90eXBlLCB7XG4gICAgdmFsdWU6IHtcbiAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zW3RoaXMuc2VsZWN0ZWRJbmRleF0udmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgLy8qL1xuXG4gIC8vIEV2ZW50VGFyZ2V0IG1ldGhvZHMgZm9yIFRleHQgbm9kZXMgdG9vXG4gIGRlZmluZVByb3BlcnRpZXMoVGV4dFByb3RvdHlwZSwge1xuICAgIGFkZEV2ZW50TGlzdGVuZXI6IHZhbHVlRGVzYyhFbGVtZW50UHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIpLFxuICAgIGRpc3BhdGNoRXZlbnQ6IHZhbHVlRGVzYyhFbGVtZW50UHJvdG90eXBlLmRpc3BhdGNoRXZlbnQpLFxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IHZhbHVlRGVzYyhFbGVtZW50UHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIpXG4gIH0pO1xuXG4gIGRlZmluZVByb3BlcnRpZXMoXG4gICAgd2luZG93LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZSxcbiAgICB7XG4gICAgICBhZGRFdmVudExpc3RlbmVyOiB2YWx1ZURlc2MoZnVuY3Rpb24gKHR5cGUsIGhhbmRsZXIsIGNhcHR1cmUpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgb250eXBlID0gJ29uJyArIHR5cGUsXG4gICAgICAgICAgdGVtcGxlID0gIHNlbGZbU0VDUkVUXSB8fFxuICAgICAgICAgICAgICAgICAgICAgIGRlZmluZVByb3BlcnR5KFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZiwgU0VDUkVULCB7dmFsdWU6IHt9fVxuICAgICAgICAgICAgICAgICAgICAgIClbU0VDUkVUXSxcbiAgICAgICAgICBjdXJyZW50VHlwZSA9IHRlbXBsZVtvbnR5cGVdIHx8ICh0ZW1wbGVbb250eXBlXSA9IHt9KSxcbiAgICAgICAgICBoYW5kbGVycyAgPSBjdXJyZW50VHlwZS5oIHx8IChjdXJyZW50VHlwZS5oID0gW10pXG4gICAgICAgIDtcbiAgICAgICAgaWYgKGZpbmQoaGFuZGxlcnMsIGhhbmRsZXIpIDwgMCkge1xuICAgICAgICAgIGlmICghc2VsZltvbnR5cGVdKSB7XG4gICAgICAgICAgICBzZWxmW29udHlwZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgICAgICAgICAgIGUuaW5pdEV2ZW50KHR5cGUsIHRydWUsIHRydWUpO1xuICAgICAgICAgICAgICBzZWxmLmRpc3BhdGNoRXZlbnQoZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYW5kbGVyc1tjYXB0dXJlID8gJ3Vuc2hpZnQnIDogJ3B1c2gnXShoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBkaXNwYXRjaEV2ZW50OiB2YWx1ZURlc2MoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgb250eXBlID0gJ29uJyArIGUudHlwZSxcbiAgICAgICAgICB0ZW1wbGUgPSAgc2VsZltTRUNSRVRdLFxuICAgICAgICAgIGN1cnJlbnRUeXBlID0gdGVtcGxlICYmIHRlbXBsZVtvbnR5cGVdLFxuICAgICAgICAgIHZhbGlkID0gISFjdXJyZW50VHlwZVxuICAgICAgICA7XG4gICAgICAgIHJldHVybiB2YWxpZCAmJiAoXG4gICAgICAgICAgY3VycmVudFR5cGUubiAvKiAmJiBsaXZlKHNlbGYpICovID9cbiAgICAgICAgICAgIHNlbGYuZmlyZUV2ZW50KG9udHlwZSwgZSkgOlxuICAgICAgICAgICAgY29tbW9uRXZlbnRMb29wKFxuICAgICAgICAgICAgICBzZWxmLFxuICAgICAgICAgICAgICBlLFxuICAgICAgICAgICAgICBjdXJyZW50VHlwZS5oLFxuICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9KSxcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IHZhbHVlRGVzYyhFbGVtZW50UHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIpXG4gICAgfVxuICApO1xuXG4gIHZhciBidXR0b25HZXR0ZXIgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoRXZlbnQucHJvdG90eXBlLCAnYnV0dG9uJykuZ2V0O1xuICBkZWZpbmVQcm9wZXJ0aWVzKFxuICAgIHdpbmRvdy5FdmVudC5wcm90b3R5cGUsXG4gICAge1xuICAgICAgYnViYmxlczogdmFsdWVEZXNjKHRydWUpLFxuICAgICAgY2FuY2VsYWJsZTogdmFsdWVEZXNjKHRydWUpLFxuICAgICAgcHJldmVudERlZmF1bHQ6IHZhbHVlRGVzYyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNhbmNlbGFibGUpIHtcbiAgICAgICAgICB0aGlzLnJldHVyblZhbHVlID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgc3RvcFByb3BhZ2F0aW9uOiB2YWx1ZURlc2MoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3BwZWRQcm9wYWdhdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbiAgICAgIH0pLFxuICAgICAgc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uOiB2YWx1ZURlc2MoZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnN0b3BwZWRJbW1lZGlhdGVQcm9wYWdhdGlvbiA9IHRydWU7XG4gICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICB9KSxcbiAgICAgIGluaXRFdmVudDogdmFsdWVEZXNjKGZ1bmN0aW9uKHR5cGUsIGJ1YmJsZXMsIGNhbmNlbGFibGUpe1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmJ1YmJsZXMgPSAhIWJ1YmJsZXM7XG4gICAgICAgIHRoaXMuY2FuY2VsYWJsZSA9ICEhY2FuY2VsYWJsZTtcbiAgICAgICAgaWYgKCF0aGlzLmJ1YmJsZXMpIHtcbiAgICAgICAgICB0aGlzLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIHBhZ2VYOiB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gdGhpcy5fcGFnZVggfHwgKHRoaXMuX3BhZ2VYID0gdGhpcy5jbGllbnRYICsgd2luZG93LnNjcm9sbFggLSAoaHRtbC5jbGllbnRMZWZ0IHx8IDApKTsgfX0sXG4gICAgICBwYWdlWToge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXMuX3BhZ2VZIHx8ICh0aGlzLl9wYWdlWSA9IHRoaXMuY2xpZW50WSArIHdpbmRvdy5zY3JvbGxZIC0gKGh0bWwuY2xpZW50VG9wIHx8IDApKTsgfX0sXG4gICAgICB3aGljaDoge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXMua2V5Q29kZSA/IHRoaXMua2V5Q29kZSA6IChpc05hTih0aGlzLmJ1dHRvbikgPyB1bmRlZmluZWQgOiB0aGlzLmJ1dHRvbiArIDEpOyB9fSxcbiAgICAgIGNoYXJDb2RlOiB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gKHRoaXMua2V5Q29kZSAmJiB0aGlzLnR5cGUgPT0gJ2tleXByZXNzJykgPyB0aGlzLmtleUNvZGUgOiAwOyB9fSxcbiAgICAgIGJ1dHRvbnM6IHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiBidXR0b25HZXR0ZXIuY2FsbCh0aGlzKTsgfX0sXG4gICAgICBidXR0b246IHtnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYnV0dG9ucyA9IHRoaXMuYnV0dG9ucztcbiAgICAgICAgcmV0dXJuIChidXR0b25zICYgMSA/IDAgOiAoYnV0dG9ucyAmIDIgPyAyIDogKGJ1dHRvbnMgJiA0ID8gMSA6IHVuZGVmaW5lZCkpKTtcbiAgICAgIH19LFxuICAgICAgZGVmYXVsdFByZXZlbnRlZDoge2dldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIGlmIHByZXZlbnREZWZhdWx0KCkgd2FzIG5ldmVyIGNhbGxlZCwgb3IgcmV0dXJuVmFsdWUgbm90IGdpdmVuIGEgdmFsdWVcbiAgICAgICAgLy8gdGhlbiByZXR1cm5WYWx1ZSBpcyB1bmRlZmluZWRcbiAgICAgICAgdmFyIHJldHVyblZhbHVlID0gdGhpcy5yZXR1cm5WYWx1ZSwgdW5kZWY7XG4gICAgICAgIHJldHVybiAhKHJldHVyblZhbHVlID09PSB1bmRlZiB8fCByZXR1cm5WYWx1ZSk7XG4gICAgICB9fSxcbiAgICAgIHJlbGF0ZWRUYXJnZXQ6IHtnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgdHlwZSA9IHRoaXMudHlwZTtcbiAgICAgICAgaWYgKHR5cGUgPT09ICdtb3VzZW92ZXInKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZnJvbUVsZW1lbnQ7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ21vdXNlb3V0Jykge1xuICAgICAgICAgIHJldHVybiB0aGlzLnRvRWxlbWVudDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfX1cbiAgICB9XG4gICk7XG5cbiAgZGVmaW5lUHJvcGVydGllcyhcbiAgICB3aW5kb3cuSFRNTERvY3VtZW50LnByb3RvdHlwZSxcbiAgICB7XG4gICAgICBkZWZhdWx0Vmlldzoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5wYXJlbnRXaW5kb3c7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0ZXh0Q29udGVudDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5ub2RlVHlwZSA9PT0gMTEgPyBnZXRUZXh0Q29udGVudC5jYWxsKHRoaXMpIDogbnVsbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodGV4dENvbnRlbnQpIHtcbiAgICAgICAgICBpZiAodGhpcy5ub2RlVHlwZSA9PT0gMTEpIHtcbiAgICAgICAgICAgIHNldFRleHRDb250ZW50LmNhbGwodGhpcywgdGV4dENvbnRlbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IHZhbHVlRGVzYyhmdW5jdGlvbih0eXBlLCBoYW5kbGVyLCBjYXB0dXJlKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgRWxlbWVudFByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVyLmNhbGwoc2VsZiwgdHlwZSwgaGFuZGxlciwgY2FwdHVyZSk7XG4gICAgICAgIC8vIE5PVEU6ICBpdCB3b24ndCBmaXJlIGlmIGFscmVhZHkgbG9hZGVkLCB0aGlzIGlzIE5PVCBhICQucmVhZHkoKSBzaGltIVxuICAgICAgICAvLyAgICAgICAgdGhpcyBiZWhhdmVzIGp1c3QgbGlrZSBzdGFuZGFyZCBicm93c2Vyc1xuICAgICAgICBpZiAoXG4gICAgICAgICAgRFVOTk9BQk9VVERPTUxPQURFRCAmJlxuICAgICAgICAgIHR5cGUgPT09IERPTUNPTlRFTlRMT0FERUQgJiZcbiAgICAgICAgICAhcmVhZHlTdGF0ZU9LLnRlc3QoXG4gICAgICAgICAgICBzZWxmLnJlYWR5U3RhdGVcbiAgICAgICAgICApXG4gICAgICAgICkge1xuICAgICAgICAgIERVTk5PQUJPVVRET01MT0FERUQgPSBmYWxzZTtcbiAgICAgICAgICBzZWxmLmF0dGFjaEV2ZW50KE9OUkVBRFlTVEFURUNIQU5HRSwgb25SZWFkeVN0YXRlKTtcbiAgICAgICAgICAvKiBnbG9iYWwgdG9wICovXG4gICAgICAgICAgaWYgKHdpbmRvdyA9PSB0b3ApIHtcbiAgICAgICAgICAgIChmdW5jdGlvbiBnb25uYShlKXt0cnl7XG4gICAgICAgICAgICAgIHNlbGYuZG9jdW1lbnRFbGVtZW50LmRvU2Nyb2xsKCdsZWZ0Jyk7XG4gICAgICAgICAgICAgIG9uUmVhZHlTdGF0ZSgpO1xuICAgICAgICAgICAgICB9Y2F0Y2gob19PKXtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChnb25uYSwgNTApO1xuICAgICAgICAgICAgfX0oKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIGRpc3BhdGNoRXZlbnQ6IHZhbHVlRGVzYyhFbGVtZW50UHJvdG90eXBlLmRpc3BhdGNoRXZlbnQpLFxuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogdmFsdWVEZXNjKEVsZW1lbnRQcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lciksXG4gICAgICBjcmVhdGVFdmVudDogdmFsdWVEZXNjKGZ1bmN0aW9uKENsYXNzKXtcbiAgICAgICAgdmFyIGU7XG4gICAgICAgIGlmIChDbGFzcyAhPT0gJ0V2ZW50JykgdGhyb3cgbmV3IEVycm9yKCd1bnN1cHBvcnRlZCAnICsgQ2xhc3MpO1xuICAgICAgICBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnRPYmplY3QoKTtcbiAgICAgICAgZS50aW1lU3RhbXAgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgICByZXR1cm4gZTtcbiAgICAgIH0pXG4gICAgfVxuICApO1xuXG4gIGRlZmluZVByb3BlcnRpZXMoXG4gICAgd2luZG93LldpbmRvdy5wcm90b3R5cGUsXG4gICAge1xuICAgICAgZ2V0Q29tcHV0ZWRTdHlsZTogdmFsdWVEZXNjKGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgdmFyIC8vIHBhcnRpYWxseSBncmFiYmVkIGZyb20galF1ZXJ5IGFuZCBEZWFuJ3MgaGFja1xuICAgICAgICAgIG5vdHBpeGVsID0gL14oPzpbKy1dPyg/OlxcZCpcXC58KVxcZCsoPzpbZUVdWystXT9cXGQrfCkpKD8hcHgpW2EteiVdKyQvLFxuICAgICAgICAgIHBvc2l0aW9uID0gL14odG9wfHJpZ2h0fGJvdHRvbXxsZWZ0KSQvLFxuICAgICAgICAgIHJlID0gL1xcLShbYS16XSkvZyxcbiAgICAgICAgICBwbGFjZSA9IGZ1bmN0aW9uIChtYXRjaCwgJDEpIHtcbiAgICAgICAgICAgIHJldHVybiAkMS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgO1xuXG4gICAgICAgIGZ1bmN0aW9uIENvbXB1dGVkU3R5bGUoXykge1xuICAgICAgICAgIHRoaXMuXyA9IF87XG4gICAgICAgIH1cblxuICAgICAgICBDb21wdXRlZFN0eWxlLnByb3RvdHlwZS5nZXRQcm9wZXJ0eVZhbHVlID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICB2YXJcbiAgICAgICAgICAgIGVsID0gdGhpcy5fLFxuICAgICAgICAgICAgc3R5bGUgPSBlbC5zdHlsZSxcbiAgICAgICAgICAgIGN1cnJlbnRTdHlsZSA9IGVsLmN1cnJlbnRTdHlsZSxcbiAgICAgICAgICAgIHJ1bnRpbWVTdHlsZSA9IGVsLnJ1bnRpbWVTdHlsZSxcbiAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICAgIGxlZnQsXG4gICAgICAgICAgICBydExlZnRcbiAgICAgICAgICA7XG4gICAgICAgICAgaWYgKG5hbWUgPT0gJ29wYWNpdHknKSB7XG4gICAgICAgICAgICByZXR1cm4gc3R5bGUub3BhY2l0eSB8fCAnMSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5hbWUgPSAobmFtZSA9PT0gJ2Zsb2F0JyA/ICdzdHlsZS1mbG9hdCcgOiBuYW1lKS5yZXBsYWNlKHJlLCBwbGFjZSk7XG4gICAgICAgICAgcmVzdWx0ID0gY3VycmVudFN0eWxlID8gY3VycmVudFN0eWxlW25hbWVdIDogc3R5bGVbbmFtZV07XG4gICAgICAgICAgaWYgKG5vdHBpeGVsLnRlc3QocmVzdWx0KSAmJiAhcG9zaXRpb24udGVzdChuYW1lKSkge1xuICAgICAgICAgICAgbGVmdCA9IHN0eWxlLmxlZnQ7XG4gICAgICAgICAgICBydExlZnQgPSBydW50aW1lU3R5bGUgJiYgcnVudGltZVN0eWxlLmxlZnQ7XG4gICAgICAgICAgICBpZiAocnRMZWZ0KSB7XG4gICAgICAgICAgICAgIHJ1bnRpbWVTdHlsZS5sZWZ0ID0gY3VycmVudFN0eWxlLmxlZnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdHlsZS5sZWZ0ID0gbmFtZSA9PT0gJ2ZvbnRTaXplJyA/ICcxZW0nIDogcmVzdWx0O1xuICAgICAgICAgICAgcmVzdWx0ID0gc3R5bGUucGl4ZWxMZWZ0ICsgJ3B4JztcbiAgICAgICAgICAgIHN0eWxlLmxlZnQgPSBsZWZ0O1xuICAgICAgICAgICAgaWYgKHJ0TGVmdCkge1xuICAgICAgICAgICAgICBydW50aW1lU3R5bGUubGVmdCA9IHJ0TGVmdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLypqc2hpbnQgZXFudWxsOnRydWUgKi9cbiAgICAgICAgICByZXR1cm4gcmVzdWx0ID09IG51bGwgP1xuICAgICAgICAgICAgcmVzdWx0IDogKChyZXN1bHQgKyAnJykgfHwgJ2F1dG8nKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyB1bnN1cHBvcnRlZFxuICAgICAgICBmdW5jdGlvbiBQc2V1ZG9Db21wdXRlZFN0eWxlKCkge31cbiAgICAgICAgUHNldWRvQ29tcHV0ZWRTdHlsZS5wcm90b3R5cGUuZ2V0UHJvcGVydHlWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVsLCBwc2V1ZG8pIHtcbiAgICAgICAgICByZXR1cm4gcHNldWRvID9cbiAgICAgICAgICAgIG5ldyBQc2V1ZG9Db21wdXRlZFN0eWxlKGVsKSA6XG4gICAgICAgICAgICBuZXcgQ29tcHV0ZWRTdHlsZShlbCk7XG4gICAgICAgIH07XG5cbiAgICAgIH0oKSksXG5cbiAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IHZhbHVlRGVzYyhmdW5jdGlvbiAodHlwZSwgaGFuZGxlciwgY2FwdHVyZSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICBzZWxmID0gd2luZG93LFxuICAgICAgICAgIG9udHlwZSA9ICdvbicgKyB0eXBlLFxuICAgICAgICAgIGhhbmRsZXJzXG4gICAgICAgIDtcbiAgICAgICAgaWYgKCFzZWxmW29udHlwZV0pIHtcbiAgICAgICAgICBzZWxmW29udHlwZV0gPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICByZXR1cm4gY29tbW9uRXZlbnRMb29wKHNlbGYsIHZlcmlmeShzZWxmLCBlKSwgaGFuZGxlcnMsIGZhbHNlKSAmJiB1bmRlZmluZWQ7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVycyA9IHNlbGZbb250eXBlXVtTRUNSRVRdIHx8IChcbiAgICAgICAgICBzZWxmW29udHlwZV1bU0VDUkVUXSA9IFtdXG4gICAgICAgICk7XG4gICAgICAgIGlmIChmaW5kKGhhbmRsZXJzLCBoYW5kbGVyKSA8IDApIHtcbiAgICAgICAgICBoYW5kbGVyc1tjYXB0dXJlID8gJ3Vuc2hpZnQnIDogJ3B1c2gnXShoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBkaXNwYXRjaEV2ZW50OiB2YWx1ZURlc2MoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIG1ldGhvZCA9IHdpbmRvd1snb24nICsgZS50eXBlXTtcbiAgICAgICAgcmV0dXJuIG1ldGhvZCA/IG1ldGhvZC5jYWxsKHdpbmRvdywgZSkgIT09IGZhbHNlICYmICFlLmRlZmF1bHRQcmV2ZW50ZWQgOiB0cnVlO1xuICAgICAgfSksXG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyOiB2YWx1ZURlc2MoZnVuY3Rpb24gKHR5cGUsIGhhbmRsZXIsIGNhcHR1cmUpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgb250eXBlID0gJ29uJyArIHR5cGUsXG4gICAgICAgICAgaGFuZGxlcnMgPSAod2luZG93W29udHlwZV0gfHwgT2JqZWN0KVtTRUNSRVRdLFxuICAgICAgICAgIGkgPSBoYW5kbGVycyA/IGZpbmQoaGFuZGxlcnMsIGhhbmRsZXIpIDogLTFcbiAgICAgICAgIDtcbiAgICAgICAgaWYgKC0xIDwgaSkgaGFuZGxlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgfSksXG4gICAgICBwYWdlWE9mZnNldDoge2dldDogZ2V0dGVyKCdzY3JvbGxMZWZ0Jyl9LFxuICAgICAgcGFnZVlPZmZzZXQ6IHtnZXQ6IGdldHRlcignc2Nyb2xsVG9wJyl9LFxuICAgICAgc2Nyb2xsWDoge2dldDogZ2V0dGVyKCdzY3JvbGxMZWZ0Jyl9LFxuICAgICAgc2Nyb2xsWToge2dldDogZ2V0dGVyKCdzY3JvbGxUb3AnKX0sXG4gICAgICBpbm5lcldpZHRoOiB7Z2V0OiBnZXR0ZXIoJ2NsaWVudFdpZHRoJyl9LFxuICAgICAgaW5uZXJIZWlnaHQ6IHtnZXQ6IGdldHRlcignY2xpZW50SGVpZ2h0Jyl9XG4gICAgfVxuICApO1xuXG4gIHdpbmRvdy5IVE1MRWxlbWVudCA9IHdpbmRvdy5FbGVtZW50O1xuXG4gIChmdW5jdGlvbiAoc3R5bGVTaGVldHMsIEhUTUw1RWxlbWVudCwgaSkge1xuICAgIGZvciAoaSA9IDA7IGkgPCBIVE1MNUVsZW1lbnQubGVuZ3RoOyBpKyspIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoSFRNTDVFbGVtZW50W2ldKTtcbiAgICBpZiAoIXN0eWxlU2hlZXRzLmxlbmd0aCkgZG9jdW1lbnQuY3JlYXRlU3R5bGVTaGVldCgnJyk7XG4gICAgc3R5bGVTaGVldHNbMF0uYWRkUnVsZShIVE1MNUVsZW1lbnQuam9pbignLCcpLCAnZGlzcGxheTpibG9jazsnKTtcbiAgfShkb2N1bWVudC5zdHlsZVNoZWV0cywgWydoZWFkZXInLCAnbmF2JywgJ3NlY3Rpb24nLCAnYXJ0aWNsZScsICdhc2lkZScsICdmb290ZXInXSkpO1xufSh0aGlzLndpbmRvdyB8fCBnbG9iYWwpKTsiLCIvL1xuLy8gcmVxdWVzdEFuaW1hdGlvbkZyYW1lIHBvbHlmaWxsIGJ5IEVyaWsgTcO2bGxlci5cbi8vICBXaXRoIGZpeGVzIGZyb20gUGF1bCBJcmlzaCBhbmQgVGlubyBaaWpkZWxcbi8vXG4vLyAgaHR0cDovL3BhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cbi8vICBodHRwOi8vbXkub3BlcmEuY29tL2Vtb2xsZXIvYmxvZy8yMDExLzEyLzIwL3JlcXVlc3RhbmltYXRpb25mcmFtZS1mb3Itc21hcnQtZXItYW5pbWF0aW5nXG4vL1xuLy8gIE1JVCBsaWNlbnNlXG4vL1xuKGZ1bmN0aW9uKCkge1xuICAgIHZhciBsYXN0VGltZSA9IDA7XG4gICAgdmFyIHZlbmRvcnMgPSBbJ3dlYmtpdCcsICdtb3onXTtcbiAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHZlbmRvcnMubGVuZ3RoICYmICF3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lOyArK3gpIHtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvd1t2ZW5kb3JzW3hdICsgJ1JlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICAgICAgICB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgPVxuICAgICAgICAgICAgd2luZG93W3ZlbmRvcnNbeF0gKyAnQ2FuY2VsQW5pbWF0aW9uRnJhbWUnXSB8fCB3aW5kb3dbdmVuZG9yc1t4XSArICdDYW5jZWxSZXF1ZXN0QW5pbWF0aW9uRnJhbWUnXTtcbiAgICB9XG5cbiAgICBpZiAoIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpXG4gICAgICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIGN1cnJUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICB2YXIgdGltZVRvQ2FsbCA9IE1hdGgubWF4KDAsIDE2IC0gKGN1cnJUaW1lIC0gbGFzdFRpbWUpKTtcbiAgICAgICAgICAgIHZhciBpZCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGN1cnJUaW1lICsgdGltZVRvQ2FsbCk7XG4gICAgICAgICAgICB9LCB0aW1lVG9DYWxsKTtcbiAgICAgICAgICAgIGxhc3RUaW1lID0gY3VyclRpbWUgKyB0aW1lVG9DYWxsO1xuICAgICAgICAgICAgcmV0dXJuIGlkO1xuICAgICAgICB9O1xuXG4gICAgaWYgKCF3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUpXG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoaWQpO1xuICAgICAgICB9O1xufSgpKTsiLCJ2YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgYXBpO1xuICAgIChmdW5jdGlvbiAoYXBpKSB7XG4gICAgICAgIHZhciBhdXRoO1xuICAgICAgICAoZnVuY3Rpb24gKGF1dGgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHZhbGlkYXRlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcGkucmVxdWVzdChcImF1dGgvdmFsaWRhdGVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhdXRoLnZhbGlkYXRlID0gdmFsaWRhdGU7XG4gICAgICAgIH0pKGF1dGggPSBhcGkuYXV0aCB8fCAoYXBpLmF1dGggPSB7fSkpO1xuICAgIH0pKGFwaSA9IFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBhcGk7XG4gICAgKGZ1bmN0aW9uIChhcGkpIHtcbiAgICAgICAgdmFyIHNldHRpbmdzO1xuICAgICAgICAoZnVuY3Rpb24gKHNldHRpbmdzXzEpIHtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0U2V0dGluZ3MgPSB7XG4gICAgICAgICAgICAgICAgRW5hYmxlU2hhcmluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBTdXNwZW5zaW9uUmFuZ2VzOiB7XG4gICAgICAgICAgICAgICAgICAgIERlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1pbjogLTQsXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXg6IDBcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgVHJ1Y2s0V0Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1pbjogLTQsXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXg6IDRcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgVmFuNFdEOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBNaW46IC00LFxuICAgICAgICAgICAgICAgICAgICAgICAgTWF4OiA0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFVzZVJhd1RpcmVEZXNjcmlwdGlvbjogZmFsc2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRTZXR0aW5ncygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihhcGkucmVxdWVzdChcIm9yZ2FuaXphdGlvbi9nZXRzZXR0aW5nc1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIEtleXM6IFsnRU5BQkxFX1NIQVJJTkcnLCAnU1VTUEVOU0lPTl9SQU5HRVMnLCAnUkFXVElSRURFU0MnXVxuICAgICAgICAgICAgICAgIH0pLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNldHRpbmdzID0gcmVzcG9uc2UuU2V0dGluZ3M7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2V0dGluZ3MpIHJldHVybiBkZWZhdWx0U2V0dGluZ3M7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBFbmFibGVTaGFyaW5nOiBwYXJzZUJvb2xlYW4oc2V0dGluZ3NbXCJFTkFCTEVfU0hBUklOR1wiXSB8fCBkZWZhdWx0U2V0dGluZ3MuRW5hYmxlU2hhcmluZyksXG4gICAgICAgICAgICAgICAgICAgICAgICBTdXNwZW5zaW9uUmFuZ2VzOiBwYXJzZVN1c3BlbnNpb25SYW5nZXMoc2V0dGluZ3NbXCJTVVNQRU5TSU9OX1JBTkdFU1wiXSksXG4gICAgICAgICAgICAgICAgICAgICAgICBVc2VSYXdUaXJlRGVzY3JpcHRpb246IHBhcnNlQm9vbGVhbihzZXR0aW5nc1tcIlJBV1RJUkVERVNDXCJdIHx8IGRlZmF1bHRTZXR0aW5ncy5Vc2VSYXdUaXJlRGVzY3JpcHRpb24pXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzZXR0aW5nc18xLmdldFNldHRpbmdzID0gZ2V0U2V0dGluZ3M7XG4gICAgICAgICAgICBmdW5jdGlvbiBwYXJzZUJvb2xlYW4oYm9vbGVhbikge1xuICAgICAgICAgICAgICAgIC8vIE5vdCBhIHN0cmluZywgb3IgYW4gZW1wdHkgc3RyaW5nLCByZXR1cm4gdHJ1ZSBvciBmYWxzZVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYm9vbGVhbiAhPT0gJ3N0cmluZycgfHwgIWJvb2xlYW4pIHJldHVybiAhIWJvb2xlYW47XG4gICAgICAgICAgICAgICAgdmFyIGZpcnN0Q2hhciA9IGJvb2xlYW5bMF07XG4gICAgICAgICAgICAgICAgLy8gVHJ1ZSBpczogdGhlIGZpcnN0IGNoYXIgYmVpbmcgdXBwZXJjYXNlL2xvd2VyY2FzZSBUIG9yIFlcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3RDaGFyID09PSAneScgfHwgZmlyc3RDaGFyID09PSAnWScgfHwgZmlyc3RDaGFyID09PSAndCcgfHwgZmlyc3RDaGFyID09PSAnVCcpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIC8vIEZhbHNlIGlzIGV2ZXJ5dGhpbmcgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIHBhcnNlU3VzcGVuc2lvblJhbmdlcyhzdXNwZW5zaW9uUmFuZ2VzU2V0dGluZykge1xuICAgICAgICAgICAgICAgIGlmICghc3VzcGVuc2lvblJhbmdlc1NldHRpbmcpIHJldHVybiBkZWZhdWx0U2V0dGluZ3MuU3VzcGVuc2lvblJhbmdlcztcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3VzcGVuc2lvblJhbmdlcyA9IEpTT04ucGFyc2Uoc3VzcGVuc2lvblJhbmdlc1NldHRpbmcpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3VzcGVuc2lvblJhbmdlcztcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkZWZhdWx0U2V0dGluZ3MuU3VzcGVuc2lvblJhbmdlcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKHNldHRpbmdzID0gYXBpLnNldHRpbmdzIHx8IChhcGkuc2V0dGluZ3MgPSB7fSkpO1xuICAgIH0pKGFwaSA9IFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBhcGkgPSB2b2lkIDA7XG4gICAgKGZ1bmN0aW9uIChhcGkpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluaXRpYWxpemUgdGhlIFJpZGVTdHlsZXIgQVBJIGJ5IHBhc3NpbmcgaW4gYSB1c2VyL3Bhc3N3b3JkIGNvbWJpbmF0aW9uLCBhIHVzZXIgdG9rZW4sIG9yIGEga2V5LlxuICAgICAgICAgKiBAcGFyYW0gc2V0dGluZ3MgVGhlIEFQSSBpbml0aWFsaXphdGlvbiBzZXR0aW5nc1xuICAgICAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCAob3IgcmVqZWN0ZWQpIHdoZW4gdGhlIEFQSSBpcyBhdXRoZW50aWNhdGVkIChvciBmYWlscyBhdXRoZW50aWNhdGlvbilcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGluaXRpYWxpemUoc2V0dGluZ3MpIHtcbiAgICAgICAgICAgIC8vIElmIGF1dGhlbnRpY2F0aW9uIGluZm9ybWF0aW9uIHdhcyBwYXNzZWQgaW4sIGxldCdzIHVzZSB0aGF0XG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICBpZiAoJ3VzZXJuYW1lJyBpbiBzZXR0aW5ncyAmJiAncGFzc3dvcmQnIGluIHNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIExvZ2luIHVzaW5nIGEgdXNlcm5hbWUgYW5kIHBhc3N3b3JkXG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzID0gc2V0dGluZ3M7XG4gICAgICAgICAgICAgICAgICAgIHJpZGVzdHlsZXIuYXV0aC5zdGFydCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgVXNlcm5hbWU6IHNldHRpbmdzLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBhc3N3b3JkOiBzZXR0aW5ncy5wYXNzd29yZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBmdW5jdGlvbiBjYWxsYmFjayhyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5TdWNjZXNzKSBhcGkuYXV0aGVudGljYXRlZC5yZXNvbHZlKCk7ZWxzZSBhcGkuYXV0aGVudGljYXRlZC5yZWplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNraXAgY2FsbGluZyB2YWxpZGF0ZSBiZWxvd1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICgndG9rZW4nIGluIHNldHRpbmdzIHx8ICdrZXknIGluIHNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIExvZ2luIHVzaW5nIGEga2V5IG9yIHRva2VuXG4gICAgICAgICAgICAgICAgICAgIHJpZGVzdHlsZXIuYXV0aC5zZXQoc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIHRoZSB1c2VyJ3Mga2V5IG9yIHRva2VuXG4gICAgICAgICAgICBhcGkuYXV0aC52YWxpZGF0ZSgpLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciB1cmwgPSByaWRlc3R5bGVyLmFqYXgudXJsKCcnLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIGlmICgvXFwvYXBpLWFscGhhXFwuL2kudGVzdCh1cmwpKSBhcGkuZW52aXJvbm1lbnQgPSBFbnZpcm9ubWVudC5BbHBoYTtlbHNlIGlmICgvXFwvYXBpLWJldGFcXC4vaS50ZXN0KHVybCkpIGFwaS5lbnZpcm9ubWVudCA9IEVudmlyb25tZW50LkJldGE7ZWxzZSBpZiAoL1xcL2FwaVxcLi9pLnRlc3QodXJsKSkgYXBpLmVudmlyb25tZW50ID0gRW52aXJvbm1lbnQuTGl2ZTtlbHNlIGFwaS5lbnZpcm9ubWVudCA9IEVudmlyb25tZW50Lk90aGVyO1xuICAgICAgICAgICAgICAgIGFwaS5hdXRoZW50aWNhdGVkLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhcGkuYXV0aGVudGljYXRlZC5yZWplY3QoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGFwaS5hdXRoZW50aWNhdGVkO1xuICAgICAgICB9XG4gICAgICAgIGFwaS5pbml0aWFsaXplID0gaW5pdGlhbGl6ZTtcbiAgICAgICAgYXBpLmF1dGhlbnRpY2F0ZWQgPSByaWRlc3R5bGVyLnByb21pc2UoKTtcbiAgICAgICAgZnVuY3Rpb24gaXNBdXRoZW50aWNhdGVkKCkge1xuICAgICAgICAgICAgcmV0dXJuIGFwaS5hdXRoZW50aWNhdGVkLnN0YXRlKCkgPT09IDEgLyogUmVzb2x2ZWQgKi87XG4gICAgICAgIH1cbiAgICAgICAgYXBpLmlzQXV0aGVudGljYXRlZCA9IGlzQXV0aGVudGljYXRlZDtcbiAgICAgICAgZnVuY3Rpb24gYWZ0ZXJBdXRoZW50aWNhdGVkKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpZiAoaXNBdXRoZW50aWNhdGVkKCkpIGNhbGxiYWNrKCk7ZWxzZSBhcGkuYXV0aGVudGljYXRlZC5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGFwaS5hZnRlckF1dGhlbnRpY2F0ZWQgPSBhZnRlckF1dGhlbnRpY2F0ZWQ7XG4gICAgICAgIGZ1bmN0aW9uIHJlcXVlc3QoYWN0aW9uLCBkYXRhKSB7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHJpZGVzdHlsZXIucHJvbWlzZSgpO1xuICAgICAgICAgICAgcmlkZXN0eWxlci5hamF4LnNlbmQoe1xuICAgICAgICAgICAgICAgIGFjdGlvbjogYWN0aW9uLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5TdWNjZXNzKSBwcm9taXNlLnJlc29sdmUocmVzcG9uc2UpO2Vsc2UgcHJvbWlzZS5yZWplY3QocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgYXBpLnJlcXVlc3QgPSByZXF1ZXN0O1xuICAgICAgICBmdW5jdGlvbiBnZXRVUkwoYWN0aW9uLCBkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gcmlkZXN0eWxlci5hamF4LnVybChhY3Rpb24sIGRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGFwaS5nZXRVUkwgPSBnZXRVUkw7XG4gICAgICAgIHZhciBFbnZpcm9ubWVudCA9IHZvaWQgMDtcbiAgICAgICAgKGZ1bmN0aW9uIChFbnZpcm9ubWVudCkge1xuICAgICAgICAgICAgRW52aXJvbm1lbnRbRW52aXJvbm1lbnRbXCJBbHBoYVwiXSA9IDBdID0gXCJBbHBoYVwiO1xuICAgICAgICAgICAgRW52aXJvbm1lbnRbRW52aXJvbm1lbnRbXCJCZXRhXCJdID0gMV0gPSBcIkJldGFcIjtcbiAgICAgICAgICAgIEVudmlyb25tZW50W0Vudmlyb25tZW50W1wiTGl2ZVwiXSA9IDJdID0gXCJMaXZlXCI7XG4gICAgICAgICAgICBFbnZpcm9ubWVudFtFbnZpcm9ubWVudFtcIk90aGVyXCJdID0gM10gPSBcIk90aGVyXCI7XG4gICAgICAgIH0pKEVudmlyb25tZW50ID0gYXBpLkVudmlyb25tZW50IHx8IChhcGkuRW52aXJvbm1lbnQgPSB7fSkpO1xuICAgIH0pKGFwaSA9IFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBBcnJheUhlbHBlcjtcbiAgICAoZnVuY3Rpb24gKEFycmF5SGVscGVyKSB7XG4gICAgICAgIGZ1bmN0aW9uIGNvcHkoYXJyYXkpIHtcbiAgICAgICAgICAgIHZhciBjb3B5ID0gbmV3IEFycmF5KGFycmF5Lmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgYXJyYXkubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgY29weVtpbmRleF0gPSBhcnJheVtpbmRleF07XG4gICAgICAgICAgICB9cmV0dXJuIGNvcHk7XG4gICAgICAgIH1cbiAgICAgICAgQXJyYXlIZWxwZXIuY29weSA9IGNvcHk7XG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZShhcnJheSwgaXRlbU1hdGNoKSB7XG4gICAgICAgICAgICB2YXIgbmV3QXJyYXkgPSBuZXcgQXJyYXkoYXJyYXkubGVuZ3RoKTtcbiAgICAgICAgICAgIHZhciBuZXdBcnJheUluZGV4ID0gLTE7XG4gICAgICAgICAgICBmb3IgKHZhciBhcnJheUluZGV4ID0gMDsgYXJyYXlJbmRleCA8IGFycmF5Lmxlbmd0aDsgYXJyYXlJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBhcnJheVthcnJheUluZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGl0ZW1NYXRjaCA9PT0gJ2Z1bmN0aW9uJyAmJiBpdGVtTWF0Y2goaXRlbSkgfHwgaXRlbSA9PT0gaXRlbU1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNraXAgaXRlbXMgdGhhdCBtYXRjaCB0aGUgaXRlbU1hdGNoIGZ1bmN0aW9uIG9yIHZhbHVlXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdBcnJheVsrK25ld0FycmF5SW5kZXhdID0gaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFNob3J0ZW4gYXJyYXkgdG8gZXhjbHVkZSBsZW5ndGggZnJvbSByZW1vdmVkIGl0ZW1zXG4gICAgICAgICAgICBuZXdBcnJheS5sZW5ndGggPSBuZXdBcnJheUluZGV4ICsgMTtcbiAgICAgICAgICAgIHJldHVybiBuZXdBcnJheTtcbiAgICAgICAgfVxuICAgICAgICBBcnJheUhlbHBlci5yZW1vdmUgPSByZW1vdmU7XG4gICAgICAgIGZ1bmN0aW9uIGZpbHRlcihhcnJheSwgaXRlbU1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVtb3ZlKGFycmF5LCBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAhaXRlbU1hdGNoKGl0ZW0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgQXJyYXlIZWxwZXIuZmlsdGVyID0gZmlsdGVyO1xuICAgICAgICBmdW5jdGlvbiBtYXAoYXJyYXksIG1hcEZ1bmN0aW9uLCB0aGlzQXJnKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIEFycmF5LnByb3RvdHlwZS5tYXAgPT09ICdmdW5jdGlvbicpIHJldHVybiBhcnJheS5tYXAobWFwRnVuY3Rpb24sIHRoaXNBcmcpO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheShhcnJheS5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gYXJyYXlbaV07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzQXJnID09PSAndW5kZWZpbmVkJykgcmVzdWx0W2ldID0gbWFwRnVuY3Rpb24oYXJyYXlbaV0sIGksIGFycmF5KTtlbHNlIHJlc3VsdFtpXSA9IG1hcEZ1bmN0aW9uLmNhbGwodGhpc0FyZywgYXJyYXlbaV0sIGksIGFycmF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgQXJyYXlIZWxwZXIubWFwID0gbWFwO1xuICAgICAgICBmdW5jdGlvbiByZWR1Y2UoYXJyYXksIHJlZHVjZXIsIGluaXRpYWxWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBBcnJheS5wcm90b3R5cGUucmVkdWNlID09PSAnZnVuY3Rpb24nKSByZXR1cm4gYXJyYXkucmVkdWNlKHJlZHVjZXIsIGluaXRpYWxWYWx1ZSk7XG4gICAgICAgICAgICB2YXIgYWNjdW11bGF0b3IgPSBpbml0aWFsVmFsdWU7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYWNjdW11bGF0b3IgPSBhY2N1bXVsYXRvciAhPT0gdW5kZWZpbmVkID8gcmVkdWNlci5jYWxsKHVuZGVmaW5lZCwgYWNjdW11bGF0b3IsIGFycmF5W2ldLCBpLCBhcnJheSkgOiBhcnJheVtpXTtcbiAgICAgICAgICAgIH1yZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgICAgIH1cbiAgICAgICAgQXJyYXlIZWxwZXIucmVkdWNlID0gcmVkdWNlO1xuICAgIH0pKEFycmF5SGVscGVyID0gUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuQXJyYXlIZWxwZXIgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBCb3hIZWxwZXI7XG4gICAgKGZ1bmN0aW9uIChCb3hIZWxwZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJvdW5kIGEgYm94IHRvIGEgbWluaW11bSBhbmQvb3IgbWF4aW11bSBib3VuZGluZyBib3hcbiAgICAgICAgICogQHBhcmFtIGJveCBUaGUgYm94IHRvIGJvdW5kXG4gICAgICAgICAqIEBwYXJhbSBib3VuZHNNaW4gVGhlIG1pbmltdW0gYm91bmRpbmcgYm94XG4gICAgICAgICAqIEBwYXJhbSBib3VuZHNNYXggVGhlIG1heGltdW0gYm91bmRpbmcgYm94XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBib3VuZChib3gsIGJvdW5kc01pbiwgYm91bmRzTWF4KSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGJvdW5kc01pbiA9PT0gJ251bWJlcicpIGJvdW5kc01pbiA9IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogYm91bmRzTWluLFxuICAgICAgICAgICAgICAgIGhlaWdodDogYm91bmRzTWluXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBib3VuZHNNYXggPT09ICdudW1iZXInKSBib3VuZHNNYXggPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IGJvdW5kc01heCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IGJvdW5kc01heFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIEdldCB0aGUgc2NhbGUgY2hhbmdlIHRvIHNjYWxlIGJveCBkb3duIHRvIG1heGltdW0gYm91bmRzXG4gICAgICAgICAgICB2YXIgc2NhbGVUb01heCA9IGJvdW5kc01heCA/IE1hdGgubWluKGJvdW5kc01heC53aWR0aCAvIGJveC53aWR0aCwgYm91bmRzTWF4LmhlaWdodCAvIGJveC5oZWlnaHQpIDogMTtcbiAgICAgICAgICAgIC8vIEdldCB0aGUgc2NhbGUgY2hhbmdlIHRvIHNjYWxlIGJveCB1cCB0byBtaW5pbXVtIGJvdW5kc1xuICAgICAgICAgICAgdmFyIHNjYWxlVG9NaW4gPSBib3VuZHNNaW4gPyBNYXRoLm1heChib3VuZHNNaW4ud2lkdGggLyBib3gud2lkdGgsIGJvdW5kc01pbi5oZWlnaHQgLyBib3guaGVpZ2h0KSA6IDE7XG4gICAgICAgICAgICB2YXIgc2NhbGFyID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHNjYWxlVG9NYXggPCAxKSBzY2FsYXIgPSBzY2FsZVRvTWF4O2Vsc2UgaWYgKHNjYWxlVG9NaW4gPiAxKSBzY2FsYXIgPSBzY2FsZVRvTWluO2Vsc2UgcmV0dXJuIGJveDtcbiAgICAgICAgICAgIHJldHVybiBzY2FsZShib3gsIHNjYWxhcik7XG4gICAgICAgIH1cbiAgICAgICAgQm94SGVscGVyLmJvdW5kID0gYm91bmQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FsZSBhIGJveCBieSBhIHNjYWxhclxuICAgICAgICAgKiBAcGFyYW0gYm94IFRoZSBib3hcbiAgICAgICAgICogQHBhcmFtIHNjYWxhciBUaGUgbnVtYmVyIHRvIHNjYWxlIHRoZSBib3ggYnlcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHNjYWxlKGJveCwgc2NhbGFyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNjYWxhciA9PT0gJ251bWJlcicpIHNjYWxhciA9IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogc2NhbGFyLFxuICAgICAgICAgICAgICAgIGhlaWdodDogc2NhbGFyXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogYm94LndpZHRoICogc2NhbGFyLndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogYm94LmhlaWdodCAqIHNjYWxhci5oZWlnaHRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgQm94SGVscGVyLnNjYWxlID0gc2NhbGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBib3gsIHdpdGhvdXQgZGVjaW1hbHNcbiAgICAgICAgICogQHBhcmFtIGJveCBUaGUgYm94XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBmbG9vcihib3gpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IH5+Ym94LndpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogfn5ib3guaGVpZ2h0XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIEJveEhlbHBlci5mbG9vciA9IGZsb29yO1xuICAgIH0pKEJveEhlbHBlciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5Cb3hIZWxwZXIgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5Cb3hIZWxwZXIgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBHVUlESGVscGVyID0gdm9pZCAwO1xuICAgIChmdW5jdGlvbiAoR1VJREhlbHBlcikge1xuICAgICAgICAvLyBNYXBzIGZvciBudW1iZXIgPC0+IGhleCBzdHJpbmcgY29udmVyc2lvblxuICAgICAgICB2YXIgYnl0ZVRvSGV4ID0gW107XG4gICAgICAgIHZhciBoZXhUb0J5dGUgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7IGkrKykge1xuICAgICAgICAgICAgYnl0ZVRvSGV4W2ldID0gKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKTtcbiAgICAgICAgICAgIGhleFRvQnl0ZVtieXRlVG9IZXhbaV1dID0gaTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogUGFyc2UgYSBHdWlkIGludG8gYSBjb21tb24gZm9ybWF0XG4gICAgICAgICAqIEBwYXJhbSBpZCBUaGUgSUQgdG8gcGFyc2VcbiAgICAgICAgICogQHBhcmFtIGJ1ZmZlciBBbiBleGlzdGluZyBHdWlkL2FycmF5IHRvIHdyaXRlIHRvXG4gICAgICAgICAqIEBwYXJhbSBvZmZzZXQgVGhlIG9mZnNldCB0byBiZWdpbiB3cml0aW5nIGF0XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBwYXJzZShpZCwgYnVmZmVyLCBvZmZzZXQpIHtcbiAgICAgICAgICAgIHZhciBpID0gYnVmZmVyICYmIG9mZnNldCB8fCAwO1xuICAgICAgICAgICAgdmFyIGogPSAwO1xuICAgICAgICAgICAgYnVmZmVyID0gYnVmZmVyIHx8IFtdO1xuICAgICAgICAgICAgaWQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bMC05YS1mXXsyfS9nLCBmdW5jdGlvbiAob2N0KSB7XG4gICAgICAgICAgICAgICAgaWYgKGogPCAxNikgYnVmZmVyW2kgKyBqKytdID0gaGV4VG9CeXRlW29jdF07XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBaZXJvIG91dCByZW1haW5pbmcgYnl0ZXMgaWYgc3RyaW5nIHdhcyBzaG9ydFxuICAgICAgICAgICAgd2hpbGUgKGogPCAxNikge1xuICAgICAgICAgICAgICAgIGJ1ZmZlcltpICsgaisrXSA9IDA7XG4gICAgICAgICAgICB9cmV0dXJuIGJ1ZmZlcjtcbiAgICAgICAgfVxuICAgICAgICBHVUlESGVscGVyLnBhcnNlID0gcGFyc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb252ZXJ0IGEgcGFyc2VkIEd1aWQgYmFjayBpbnRvIGEgc3RyaW5nXG4gICAgICAgICAqIEBwYXJhbSBpZCBBIHBhcnNlZCBHdWlkIHRvIHVucGFyc2VcbiAgICAgICAgICogQHBhcmFtIG9mZnNldCBTdGFydGluZyBpbmRleCBpbiB0aGUgaWQgdG8gYmVnaW4gcmVhZGluZyBmcm9tXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiB1bnBhcnNlKGlkLCBvZmZzZXQpIHtcbiAgICAgICAgICAgIHZhciBpID0gb2Zmc2V0IHx8IDA7XG4gICAgICAgICAgICB2YXIgYnRoID0gYnl0ZVRvSGV4O1xuICAgICAgICAgICAgcmV0dXJuIGJ0aFtpZFtpKytdXSArIGJ0aFtpZFtpKytdXSArIGJ0aFtpZFtpKytdXSArIGJ0aFtpZFtpKytdXSArICctJyArIGJ0aFtpZFtpKytdXSArIGJ0aFtpZFtpKytdXSArICctJyArIGJ0aFtpZFtpKytdXSArIGJ0aFtpZFtpKytdXSArICctJyArIGJ0aFtpZFtpKytdXSArIGJ0aFtpZFtpKytdXSArICctJyArIGJ0aFtpZFtpKytdXSArIGJ0aFtpZFtpKytdXSArIGJ0aFtpZFtpKytdXSArIGJ0aFtpZFtpKytdXSArIGJ0aFtpZFtpKytdXSArIGJ0aFtpZFtpKytdXTtcbiAgICAgICAgfVxuICAgICAgICBHVUlESGVscGVyLnVucGFyc2UgPSB1bnBhcnNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29tcGFyZSB0d28gR3VpZHMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlIGVxdWFsXG4gICAgICAgICAqIEBwYXJhbSBpZEEgVGhlIGZpcnN0IElEIHRvIHBhcnNlIChpZiBuZWVkZWQpIGFuZCB0aGVuIGNvbXBhcmVcbiAgICAgICAgICogQHBhcmFtIGlkQiBUaGUgc2Vjb25kIElEIHRvIHBhcnNlIChpZiBuZWVkZWQpIGFuZCB0aGVuIGNvbXBhcmVcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGFyZUVxdWFsKGlkQSwgaWRCKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgdW5kZWZpbmVkL3Vuc3BlY2lmaWVkIHBhcmFtZXRlcnNcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlkQSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWlkQikgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFpZEIpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBndWlkQSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHZhciBndWlkQiA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaWRBID09PSAnc3RyaW5nJykgZ3VpZEEgPSBwYXJzZShpZEEpO2Vsc2UgZ3VpZEEgPSBpZEE7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGlkQiA9PT0gJ3N0cmluZycpIGd1aWRCID0gcGFyc2UoaWRCKTtlbHNlIGd1aWRCID0gaWRCO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGd1aWRBLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIHZhciBieXRlQSA9IGd1aWRBW19pXTtcbiAgICAgICAgICAgICAgICB2YXIgYnl0ZUIgPSBndWlkQltfaV07XG4gICAgICAgICAgICAgICAgaWYgKGJ5dGVBICE9PSBieXRlQikgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgR1VJREhlbHBlci5hcmVFcXVhbCA9IGFyZUVxdWFsO1xuICAgIH0pKEdVSURIZWxwZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuR1VJREhlbHBlciB8fCAoUmlkZVN0eWxlclNob3djYXNlLkdVSURIZWxwZXIgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIEhUTUxIZWxwZXI7XG4gICAgKGZ1bmN0aW9uIChIVE1MSGVscGVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIGEgbmV3IHNldCBvZiBlbGVtZW50cyBtYXRjaGVkIGZyb20gdGhlIG9yaWdpbmFsIHNldFxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudHMgVGhlIGVsZW1lbnRzIHRvIG1hdGNoXG4gICAgICAgICAqIEBwYXJhbSBtYXRjaCBUaGUgbWF0Y2hpbmcgZnVuY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGVsZW1lbnRzTWF0Y2hpbmcoZWxlbWVudHMsIG1hdGNoKSB7XG4gICAgICAgICAgICB2YXIgbWF0Y2hpbmdFbGVtZW50cyA9IG5ldyBBcnJheShlbGVtZW50cy5sZW5ndGgpO1xuICAgICAgICAgICAgdmFyIG1hdGNoaW5nRWxlbWVudHNJbmRleCA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgZWxlbWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gZWxlbWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaChjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbWF0Y2hpbmdFbGVtZW50c1ttYXRjaGluZ0VsZW1lbnRzSW5kZXgrK10gPSBjaGlsZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBtYXRjaGluZ0VsZW1lbnRzLmxlbmd0aCA9IG1hdGNoaW5nRWxlbWVudHNJbmRleDtcbiAgICAgICAgICAgIHJldHVybiBtYXRjaGluZ0VsZW1lbnRzO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuZWxlbWVudHNNYXRjaGluZyA9IGVsZW1lbnRzTWF0Y2hpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSBzZXQgdG8gbWF0Y2ggdGhlIGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50cyBUaGUgc2V0IG9mIGVsZW1lbnRzIHRvIHNlYXJjaCBpblxuICAgICAgICAgKiBAcGFyYW0gbWF0Y2ggVGhlIG1hdGNoaW5nIGZ1bmN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBmaXJzdEVsZW1lbnRNYXRjaGluZyhlbGVtZW50cywgbWF0Y2gpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBlbGVtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBlbGVtZW50c1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoKGNoaWxkKSkgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5maXJzdEVsZW1lbnRNYXRjaGluZyA9IGZpcnN0RWxlbWVudE1hdGNoaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgbGFzdCBlbGVtZW50IGluIHRoZSBzZXQgdG8gbWF0Y2ggdGhlIGZ1bmN0aW9uXG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50cyBUaGUgc2V0IG9mIGVsZW1lbnRzIHRvIHNlYXJjaCBpblxuICAgICAgICAgKiBAcGFyYW0gbWF0Y2ggVGhlIG1hdGNoaW5nIGZ1bmN0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBsYXN0RWxlbWVudE1hdGNoaW5nKGVsZW1lbnRzLCBtYXRjaCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSBlbGVtZW50cy5sZW5ndGggLSAxOyBpbmRleCA+PSAwOyBpbmRleC0tKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gZWxlbWVudHNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChtYXRjaChjaGlsZCkpIHJldHVybiBjaGlsZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIubGFzdEVsZW1lbnRNYXRjaGluZyA9IGxhc3RFbGVtZW50TWF0Y2hpbmc7XG4gICAgICAgIGZ1bmN0aW9uIGNoaWxkcmVuTWF0Y2hpbmcoZWxlbWVudCwgbWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50c01hdGNoaW5nKGVsZW1lbnQuY2hpbGRyZW4sIG1hdGNoKTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmNoaWxkcmVuTWF0Y2hpbmcgPSBjaGlsZHJlbk1hdGNoaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VhcmNoIGFuIGVsZW1lbnQgZm9yIHRoZSBmaXJzdCBjaGlsZCBtYXRjaGluZyB0aGUgbWF0Y2ggZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gc2VhcmNoIGNoaWxkcmVuIG9mXG4gICAgICAgICAqIEBwYXJhbSBtYXRjaCBUaGUgbWF0Y2ggZnVuY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGZpcnN0Q2hpbGRNYXRjaGluZyhlbGVtZW50LCBtYXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuIGZpcnN0RWxlbWVudE1hdGNoaW5nKGVsZW1lbnQuY2hpbGRyZW4sIG1hdGNoKTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmZpcnN0Q2hpbGRNYXRjaGluZyA9IGZpcnN0Q2hpbGRNYXRjaGluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgZWxlbWVudCdzIGNoaWxkcmVuIG1hdGNoaW5nIHRoZSBwYXNzZWQgaW4gc2V0IG9mXG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHNlYXJjaCB0aGUgY2hpbGRyZW4gb2ZcbiAgICAgICAgICogQHBhcmFtIGNsYXNzZXMgVGhlIHNldCBvZiBjbGFzc2VzIHRvIG1hdGNoIGNoaWxkcmVuIHdpdGhcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGNoaWxkcmVuV2l0aENsYXNzZXMoZWxlbWVudCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzZXMgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNsYXNzZXMgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIuZmxhdHRlbkNsYXNzTGlzdChjbGFzc2VzKTtcbiAgICAgICAgICAgIHJldHVybiBjaGlsZHJlbk1hdGNoaW5nKGVsZW1lbnQsIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIuaGFzQ2xhc3NlcyhjaGlsZCwgY2xhc3Nlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmNoaWxkcmVuV2l0aENsYXNzZXMgPSBjaGlsZHJlbldpdGhDbGFzc2VzO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlcyBjaGlsZHJlbiBmcm9tIHRoZSBlbGVtZW50IG1hdGNoaW5nIGEgY2xhc3Mgb3Igc2V0IG9mIGNsYXNzZXNcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gc2VhcmNoIHRoZSBjaGlsZHJlblxuICAgICAgICAgKiBAcGFyYW0gY2xhc3NlcyBUaGUgY2xhc3NlcyB0byBtYXRjaCBjaGlsZHJlbiB0byByZW1vdmVcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHJlbW92ZUNoaWxkcmVuV2l0aENsYXNzZXMoZWxlbWVudCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBjbGFzc2VzID0gQXJyYXkoX2xlbjIgPiAxID8gX2xlbjIgLSAxIDogMCksIF9rZXkyID0gMTsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICAgICAgICAgIGNsYXNzZXNbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGNoaWxkcmVuV2l0aENsYXNzZXMuYXBwbHkodW5kZWZpbmVkLCBbZWxlbWVudF0uY29uY2F0KGNsYXNzZXMpKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLnJlbW92ZUNoaWxkcmVuV2l0aENsYXNzZXMgPSByZW1vdmVDaGlsZHJlbldpdGhDbGFzc2VzO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VhcmNoIGFuIGVsZW1lbnQgZm9yIHRoZSBmaXJzdCBjaGlsZCB3aXRoIHRoZSBzcGVjaWZpZWQgdGFnXG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHNlYXJjaCBjaGlsZHJlbiBvZlxuICAgICAgICAgKiBAcGFyYW0gdGFnTmFtZSBUaGUgdGFnIHRvIGxvb2sgZm9yXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBmaXJzdENoaWxkV2l0aFRhZyhlbGVtZW50LCB0YWdOYW1lKSB7XG4gICAgICAgICAgICB0YWdOYW1lID0gdGFnTmFtZS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgcmV0dXJuIGZpcnN0Q2hpbGRNYXRjaGluZyhlbGVtZW50LCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2hpbGQudGFnTmFtZSA9PT0gdGFnTmFtZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuZmlyc3RDaGlsZFdpdGhUYWcgPSBmaXJzdENoaWxkV2l0aFRhZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlYXJjaCBhbiBlbGVtZW50IGZvciB0aGUgZmlyc3QgY2hpbGQgd2l0aCB0aGUgc3BlY2lmaWVkIGNsYXNzKGVzKSBpbiBpdHMgY2xhc3MgbGlzdFxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBzZWFyY2ggY2hpbGRyZW4gb2ZcbiAgICAgICAgICogQHBhcmFtIGNsYXNzZXMgVGhlIGNsYXNzZXMgdG8gbG9vayBmb3JcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGZpcnN0Q2hpbGRXaXRoQ2xhc3MoZWxlbWVudCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBjbGFzc2VzID0gQXJyYXkoX2xlbjMgPiAxID8gX2xlbjMgLSAxIDogMCksIF9rZXkzID0gMTsgX2tleTMgPCBfbGVuMzsgX2tleTMrKykge1xuICAgICAgICAgICAgICAgIGNsYXNzZXNbX2tleTMgLSAxXSA9IGFyZ3VtZW50c1tfa2V5M107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBmaXJzdENoaWxkTWF0Y2hpbmcoZWxlbWVudCwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5oYXNDbGFzc2VzKGNoaWxkLCBjbGFzc2VzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuZmlyc3RDaGlsZFdpdGhDbGFzcyA9IGZpcnN0Q2hpbGRXaXRoQ2xhc3M7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlY3RzIGlmIGFuIGVsZW1lbnQgaGFzIGEgY2hpbGQgd2l0aCB0aGUgc3BlY2lmaWVkIGNsYXNzKGVzKVxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBzZWFyY2ggdGhlIGNoaWxkcmVuIG9mXG4gICAgICAgICAqIEBwYXJhbSBjbGFzc2VzIFRoZSBjbGFzcyhlcykgdG8gbG9vayBmb3JcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGhhc0NoaWxkV2l0aENsYXNzKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9sZW40ID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NlcyA9IEFycmF5KF9sZW40ID4gMSA/IF9sZW40IC0gMSA6IDApLCBfa2V5NCA9IDE7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzW19rZXk0IC0gMV0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gISFmaXJzdENoaWxkV2l0aENsYXNzLmFwcGx5KHVuZGVmaW5lZCwgW2VsZW1lbnRdLmNvbmNhdChjbGFzc2VzKSk7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5oYXNDaGlsZFdpdGhDbGFzcyA9IGhhc0NoaWxkV2l0aENsYXNzO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZWN0cyBpZiBhbiBlbGVtZW50IGhhcyBhIHNpYmxpbmcgd2l0aCB0aGUgc3BlY2lmaWVkIGNsYXNzKGVzKVxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBzZWFyY2ggdGhlIHNpYmxpbmdzIG9mXG4gICAgICAgICAqIEBwYXJhbSBjbGFzc2VzIFRoZSBjbGFzcyhlcykgdG8gbG9vayBmb3JcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGhhc1NpYmxpbmdXaXRoQ2xhc3MoZWxlbWVudCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2xlbjUgPSBhcmd1bWVudHMubGVuZ3RoLCBjbGFzc2VzID0gQXJyYXkoX2xlbjUgPiAxID8gX2xlbjUgLSAxIDogMCksIF9rZXk1ID0gMTsgX2tleTUgPCBfbGVuNTsgX2tleTUrKykge1xuICAgICAgICAgICAgICAgIGNsYXNzZXNbX2tleTUgLSAxXSA9IGFyZ3VtZW50c1tfa2V5NV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBoYXNDaGlsZFdpdGhDbGFzcy5hcHBseSh1bmRlZmluZWQsIFtlbGVtZW50LnBhcmVudEVsZW1lbnRdLmNvbmNhdChjbGFzc2VzKSk7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5oYXNTaWJsaW5nV2l0aENsYXNzID0gaGFzU2libGluZ1dpdGhDbGFzcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIGxhc3Qgc2libGluZyBvZiBhbiBlbGVtZW50IG1hdGNoaW5nIGEgc3BlY2lmaWVkIGNsYXNzIChvciBzcGVjaWZpZWQgY2xhc3NlcylcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gc2VhcmNoIHNpYmxpbmdzXG4gICAgICAgICAqIEBwYXJhbSBjbGFzc2VzIFRoZSBjbGFzc2VzIHRvIGxvb2sgZm9yXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBsYXN0U2libGluZ1dpdGhDbGFzcyhlbGVtZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuNiA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzZXMgPSBBcnJheShfbGVuNiA+IDEgPyBfbGVuNiAtIDEgOiAwKSwgX2tleTYgPSAxOyBfa2V5NiA8IF9sZW42OyBfa2V5NisrKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlc1tfa2V5NiAtIDFdID0gYXJndW1lbnRzW19rZXk2XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGxhc3RFbGVtZW50TWF0Y2hpbmcoZWxlbWVudC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuLCBmdW5jdGlvbiAoc2libGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzaWJsaW5nICE9PSBlbGVtZW50ICYmIFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5oYXNDbGFzc2VzKHNpYmxpbmcsIGNsYXNzZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5sYXN0U2libGluZ1dpdGhDbGFzcyA9IGxhc3RTaWJsaW5nV2l0aENsYXNzO1xuICAgICAgICBmdW5jdGlvbiBhcHBseU9wdGlvbnMoZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIGh0bWxFbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgIGlmICgodHlwZW9mIG9wdGlvbnMgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG9wdGlvbnMpKSAhPT0gJ29iamVjdCcpIHJldHVybjtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jbGFzc05hbWUgPT09ICdzdHJpbmcnKSBlbGVtZW50LmNsYXNzTmFtZSA9IG9wdGlvbnMuY2xhc3NOYW1lO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmlkID09PSAnc3RyaW5nJykgZWxlbWVudC5pZCA9IG9wdGlvbnMuaWQ7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy53cmFwKSBvcHRpb25zLndyYXAuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hcHBlbmRUbykgb3B0aW9ucy5hcHBlbmRUby5hcHBlbmRDaGlsZChvcHRpb25zLndyYXAgfHwgZWxlbWVudCk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMudGV4dCA9PT0gJ3N0cmluZycpIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUob3B0aW9ucy50ZXh0KSk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5hcHBlbmQpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hcHBlbmQgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IyID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjIgPSBvcHRpb25zLmFwcGVuZFtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZEVsZW1lbnQgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKGNoaWxkRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChvcHRpb25zLmFwcGVuZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gb3B0aW9ucy5hdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBvcHRpb25zLmF0dHJpYnV0ZXNba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zdHlsZSAmJiBfdHlwZW9mKGh0bWxFbGVtZW50LnN0eWxlKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfa2V5NyBpbiBvcHRpb25zLnN0eWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnN0eWxlLmhhc093blByb3BlcnR5KF9rZXk3KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbEVsZW1lbnQuc3R5bGVbX2tleTddID0gb3B0aW9ucy5zdHlsZVtfa2V5N107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2tleTggaW4gb3B0aW9ucy5wcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoX2tleTgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50W19rZXk4XSA9IG9wdGlvbnMucHJvcGVydGllc1tfa2V5OF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudCh0YWdOYW1lT3JEaXZPcHRpb25zLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgdGFnTmFtZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFnTmFtZU9yRGl2T3B0aW9ucyA9PT0gJ3N0cmluZycpIHRhZ05hbWUgPSB0YWdOYW1lT3JEaXZPcHRpb25zO2Vsc2Uge1xuICAgICAgICAgICAgICAgIHRhZ05hbWUgPSAnZGl2JztcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gdGFnTmFtZU9yRGl2T3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWdOYW1lKTtcbiAgICAgICAgICAgIGFwcGx5T3B0aW9ucyhlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIGFuIGVsZW1lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIHRleHRcbiAgICAgICAgICogQHBhcmFtIHRhZ05hbWUgVGhlIHRhZyBvZiB0aGUgZWxlbWVudCB0byBjcmVhdGVcbiAgICAgICAgICogQHBhcmFtIHRleHQgVGhlIHRleHQgdG8gYWRkIHRvIHRoZSBjcmVhdGVkIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRXaXRoVGV4dCh0YWdOYW1lLCB0ZXh0KSB7XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudCh0YWdOYW1lLCB7IHRleHQ6IHRleHQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50V2l0aFRleHQgPSBjcmVhdGVFbGVtZW50V2l0aFRleHQ7XG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3ModGFnTmFtZU9yQ2xhc3NOYW1lLCBjbGFzc05hbWUpIHtcbiAgICAgICAgICAgIHZhciB0YWdOYW1lID0gdGFnTmFtZU9yQ2xhc3NOYW1lO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBjbGFzc05hbWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgdGFnTmFtZSA9ICdkaXYnO1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IHRhZ05hbWVPckNsYXNzTmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KHRhZ05hbWUsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWUgfSk7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50V2l0aENsYXNzID0gY3JlYXRlRWxlbWVudFdpdGhDbGFzcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZXMgYW4gZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgaWRcbiAgICAgICAgICogQHBhcmFtIHRhZ05hbWUgVGhlIHRhZyBvZiB0aGUgZWxlbWVudCB0byBjcmVhdGVcbiAgICAgICAgICogQHBhcmFtIGlkIFRoZSBpZCB0byBhZGQgdG8gdGhlIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRXaXRoSUQodGFnTmFtZSwgaWQpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KHRhZ05hbWUsIHsgaWQ6IGlkIH0pO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudFdpdGhJRCA9IGNyZWF0ZUVsZW1lbnRXaXRoSUQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBuZXcgdGV4dCBlbGVtZW50XG4gICAgICAgICAqIEBwYXJhbSB0ZXh0IFRoZSB0ZXh0IHRvIGNyZWF0ZSB0aGUgdGV4dCBlbGVtZW50IHdpdGhcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRleHRFbGVtZW50KHRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmNyZWF0ZVRleHRFbGVtZW50ID0gY3JlYXRlVGV4dEVsZW1lbnQ7XG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZUJ1dHRvbihvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgZWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIG9wdGlvbnMpO1xuICAgICAgICAgICAgdmFyIGJ1dHRvbkNsYXNzTmFtZSA9ICdyaWRlc3R5bGVyLXNob3djYXNlLWJ1dHRvbic7XG4gICAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoYnV0dG9uQ2xhc3NOYW1lKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmxhcmdlKSBlbGVtZW50LmNsYXNzTGlzdC5hZGQoYnV0dG9uQ2xhc3NOYW1lICsgJy1sYXJnZScpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuZGlzYWJsZWQpIGVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGluaykgZWxlbWVudC5jbGFzc0xpc3QuYWRkKGJ1dHRvbkNsYXNzTmFtZSArICctbGluaycpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2tpbm55KSBlbGVtZW50LmNsYXNzTGlzdC5hZGQoYnV0dG9uQ2xhc3NOYW1lICsgJy1za2lubnknKTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuY3JlYXRlQnV0dG9uID0gY3JlYXRlQnV0dG9uO1xuICAgICAgICB2YXIgaWNvbkNsYXNzUHJlZml4ID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtaWNvbiByaWRlc3R5bGVyLXNob3djYXNlLWljb24tJztcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlSWNvbihpY29uT3JPcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IHZvaWQgMDtcbiAgICAgICAgICAgIC8vIFNldHVwIG9wdGlvbnNcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaWNvbk9yT3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiBpY29uT3JPcHRpb25zXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IGljb25Pck9wdGlvbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBCdWlsZCBpY29uIGNsYXNzTmFtZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZhciBpY29uQ2xhc3MgPSBvcHRpb25zLmljb247XG4gICAgICAgICAgICAgICAgaWYgKCFpY29uQ2xhc3Muc3RhcnRzV2l0aChpY29uQ2xhc3NQcmVmaXgpKSBpY29uQ2xhc3MgPSBpY29uQ2xhc3NQcmVmaXggKyBpY29uQ2xhc3M7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNsYXNzTmFtZSA9PT0gJ3N0cmluZycpIGljb25DbGFzcyA9IG9wdGlvbnMuY2xhc3NOYW1lICsgJyAnICsgaWNvbkNsYXNzO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuY2xhc3NOYW1lID0gaWNvbkNsYXNzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQoJ2knLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmNyZWF0ZUljb24gPSBjcmVhdGVJY29uO1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVTVkdFbGVtZW50KHRhZ05hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIHRhZ05hbWUpO1xuICAgICAgICAgICAgYXBwbHlPcHRpb25zKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5jcmVhdGVTVkdFbGVtZW50ID0gY3JlYXRlU1ZHRWxlbWVudDtcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRGVzY3JpcHRpb25MaXN0KHZhbHVlcykge1xuICAgICAgICAgICAgdmFyIGRlc2NyaXB0aW9uTGlzdCA9IEhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGwnLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1kZXNjcmlwdGlvbi1saXN0JyxcbiAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5zdW1tYXJ5RWxlbWVudFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodmFsdWVzKSBhcHBlbmREZXNjcmlwdGlvbkxpc3RWYWx1ZXMoZGVzY3JpcHRpb25MaXN0LCB2YWx1ZXMpO1xuICAgICAgICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uTGlzdDtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmNyZWF0ZURlc2NyaXB0aW9uTGlzdCA9IGNyZWF0ZURlc2NyaXB0aW9uTGlzdDtcbiAgICAgICAgZnVuY3Rpb24gYXBwZW5kRGVzY3JpcHRpb25MaXN0VmFsdWVzKGRlc2NyaXB0aW9uTGlzdCwgdmFsdWVzKSB7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gdmFsdWVzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IF9zdGVwMy52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICBIVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2R0Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdmFsdWUubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogZGVzY3JpcHRpb25MaXN0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBIVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RkJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdmFsdWUuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogZGVzY3JpcHRpb25MaXN0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IzO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuYXBwZW5kRGVzY3JpcHRpb25MaXN0VmFsdWVzID0gYXBwZW5kRGVzY3JpcHRpb25MaXN0VmFsdWVzO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlcyBhbGwgY2hpbGRyZW4gZnJvbSBhbiBlbGVtZW50XG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIGVtcHR5XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBlbXB0eShlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB2b2lkIDA7XG4gICAgICAgICAgICB3aGlsZSAoY2hpbGQgPSBlbGVtZW50Lmxhc3RDaGlsZCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuZW1wdHkgPSBlbXB0eTtcbiAgICAgICAgZnVuY3Rpb24gb25jZShlbGVtZW50LCB0eXBlLCBsaXN0ZW5lciwgdXNlQ2FwdHVyZSkge1xuICAgICAgICAgICAgdmFyIG9uY2VMaXN0ZW5lciA9IGZ1bmN0aW9uIG9uY2VMaXN0ZW5lcihldnQpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgb25jZUxpc3RlbmVyLCB1c2VDYXB0dXJlKTtcbiAgICAgICAgICAgICAgICBpZiAoKHR5cGVvZiBsaXN0ZW5lciA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YobGlzdGVuZXIpKSA9PT0gJ29iamVjdCcpIGxpc3RlbmVyID0gbGlzdGVuZXIuaGFuZGxlRXZlbnQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RlbmVyLmNhbGwodGhpcywgZXZ0KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgb25jZUxpc3RlbmVyLCB1c2VDYXB0dXJlKTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLm9uY2UgPSBvbmNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgZG9jdW1lbnQgdGhhdCB0aGUgZWxlbWVudCBpcyBhIHBhcnQgb2YgKGlmIHRoZXJlIGlzIG9uZSlcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldERvY3VtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50Lm93bmVyRG9jdW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5nZXREb2N1bWVudCA9IGdldERvY3VtZW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgd2luZG93IHRoYXQgdGhlIGVsZW1lbnQgaXMgYSBwYXJ0IG9mIChpZiB0aGVyZSBpcyBvbmUpXG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRXaW5kb3coZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGdldERvY3VtZW50KGVsZW1lbnQpLmRlZmF1bHRWaWV3O1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuZ2V0V2luZG93ID0gZ2V0V2luZG93O1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB0aGUgY29udGVudCBvZiBhbiBlbGVtZW50IHRvIGEgc3RyaW5nXG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50XG4gICAgICAgICAqIEBwYXJhbSB0ZXh0IFRoZSB0ZXh0XG4gICAgICAgICAqIEByZXR1cm5zIFRoZSBlbGVtZW50IHRoYXQgd2FzIHBhc3NlZCBpblxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc2V0VGV4dChlbGVtZW50LCB0ZXh0KSB7XG4gICAgICAgICAgICBlbXB0eShlbGVtZW50KTtcbiAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dCkpO1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5zZXRUZXh0ID0gc2V0VGV4dDtcbiAgICB9KShIVE1MSGVscGVyID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgTnVtYmVySGVscGVyO1xuICAgIChmdW5jdGlvbiAoTnVtYmVySGVscGVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgYm91bmRlZCB0byBhIHJhbmdlXG4gICAgICAgICAqIEBwYXJhbSBudW1iZXIgVGhlIG51bWJlciB0byBib3VuZFxuICAgICAgICAgKiBAcGFyYW0gbWluIFRoZSBtaW5pbXVtIGFsbG93YWJsZSBudW1iZXJcbiAgICAgICAgICogQHBhcmFtIG1heCBUaGUgbWF4aW11bSBhbGxvd2FibGUgbnVtYmVyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBib3VuZChudW1iZXIsIG1pbiwgbWF4KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVtYmVyIDwgbWluID8gbWluIDogbnVtYmVyID4gbWF4ID8gbWF4IDogbnVtYmVyO1xuICAgICAgICB9XG4gICAgICAgIE51bWJlckhlbHBlci5ib3VuZCA9IGJvdW5kO1xuICAgICAgICAvKipcbiAgICAgICAgICogRXh0ZW5kIGEgbnVtYmVyIHJhbmdlIHdpdGggYSBudW1iZXJcbiAgICAgICAgICogQHBhcmFtIG51bWJlciBUaGUgbnVtYmVyIHRvIGV4dGVuZCB0aGUgcmFuZ2Ugd2l0aFxuICAgICAgICAgKiBAcGFyYW0gcmFuZ2UgVGhlIHJhbmdlIHRvIGV4dGVuZFxuICAgICAgICAgKlxuICAgICAgICAgKiBAcmV0dXJucyBUaGUgcmFuZ2Ugb2JqZWN0IHRoYXQgd2FzIHBhc3NlZCBpbiBleHRlbmRlZCBieSB0aGUgbnVtYmVyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBleHRlbmRSYW5nZShudW1iZXIsIHJhbmdlKSB7XG4gICAgICAgICAgICBpZiAoIXJhbmdlKSByYW5nZSA9IHtcbiAgICAgICAgICAgICAgICBtaW46IEluZmluaXR5LFxuICAgICAgICAgICAgICAgIG1heDogLUluZmluaXR5XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKG51bWJlciA8IHJhbmdlLm1pbikgcmFuZ2UubWluID0gbnVtYmVyO1xuICAgICAgICAgICAgaWYgKG51bWJlciA+IHJhbmdlLm1heCkgcmFuZ2UubWF4ID0gbnVtYmVyO1xuICAgICAgICAgICAgcmV0dXJuIHJhbmdlO1xuICAgICAgICB9XG4gICAgICAgIE51bWJlckhlbHBlci5leHRlbmRSYW5nZSA9IGV4dGVuZFJhbmdlO1xuICAgIH0pKE51bWJlckhlbHBlciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5OdW1iZXJIZWxwZXIgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5OdW1iZXJIZWxwZXIgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBPYmplY3RIZWxwZXIgPSB2b2lkIDA7XG4gICAgKGZ1bmN0aW9uIChPYmplY3RIZWxwZXIpIHtcbiAgICAgICAgZnVuY3Rpb24gYXNzaWduKHRhcmdldCkge1xuICAgICAgICAgICAgaWYgKHRhcmdldCA9PSBudWxsKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgdW5kZWZpbmVkIG9yIG51bGwgdG8gb2JqZWN0XCIpO1xuICAgICAgICAgICAgdmFyIHRvID0gT2JqZWN0KHRhcmdldCk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhc3NpZ25PYmplY3RzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgICAgICAgICAgIGFzc2lnbk9iamVjdHNbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBhc3NpZ25PYmplY3RzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzb3VyY2UpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgdG9ba2V5XSA9IHNvdXJjZVtrZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRvO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdEhlbHBlci5hc3NpZ24gPSBhc3NpZ247XG4gICAgICAgIGZ1bmN0aW9uIGNvcHkodGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gYXNzaWduKHt9LCB0YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdEhlbHBlci5jb3B5ID0gY29weTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgYWxsIG9mIHRoZSBrZXlzIGZvciBvd24gcHJvcGVydGllcyBvbiBhbiBvYmplY3RcbiAgICAgICAgICogQHBhcmFtIHRhcmdldCBUaGUgb2JqZWN0XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRLZXlzKHRhcmdldCkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lmhhc093blByb3BlcnR5KGtleSkpIGtleXMucHVzaChrZXkpO1xuICAgICAgICAgICAgfXJldHVybiBrZXlzO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdEhlbHBlci5nZXRLZXlzID0gZ2V0S2V5cztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgYWxsIG9mIHRoZSB2YWx1ZXMgZm9yIG93biBwcm9wZXJ0aWVzIG9uIGFuIG9iamVjdFxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSBvYmplY3RcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldFZhbHVlcyh0YXJnZXQpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiB0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0Lmhhc093blByb3BlcnR5KGtleSkpIHZhbHVlcy5wdXNoKHRhcmdldFtrZXldKTtcbiAgICAgICAgICAgIH1yZXR1cm4gdmFsdWVzO1xuICAgICAgICB9XG4gICAgICAgIE9iamVjdEhlbHBlci5nZXRWYWx1ZXMgPSBnZXRWYWx1ZXM7XG4gICAgfSkoT2JqZWN0SGVscGVyID0gUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlciB8fCAoUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlciA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgUHJvbWlzZUhlbHBlcjtcbiAgICAoZnVuY3Rpb24gKFByb21pc2VIZWxwZXIpIHtcbiAgICAgICAgZnVuY3Rpb24gYWxsKHByb21pc2VzKSB7XG4gICAgICAgICAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgdmFyIG1lcmdlZCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlci5yZWR1Y2UocHJvbWlzZXMsIGZ1bmN0aW9uIChhY2N1bXVsYXRvciwgY3VycmVudFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhlbih0aGVuKGFjY3VtdWxhdG9yLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjdXJyZW50UHJvbWlzZTtcbiAgICAgICAgICAgICAgICB9KSwgZnVuY3Rpb24gKHIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHMucHVzaChyKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIHJlc29sdmVkKG51bGwpKTtcbiAgICAgICAgICAgIFByb21pc2UuYWxsO1xuICAgICAgICAgICAgcmV0dXJuIHRoZW4obWVyZ2VkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBQcm9taXNlSGVscGVyLmFsbCA9IGFsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICogQXR0YWNoZXMgY2FsbGJhY2tzIGZvciB0aGUgcmVzb2x1dGlvbiBhbmQvb3IgcmVqZWN0aW9uIG9mIHRoZSBQcm9taXNlLlxuICAgICAgICAqIEBwYXJhbSBvbmZ1bGZpbGxlZCBUaGUgY2FsbGJhY2sgdG8gZXhlY3V0ZSB3aGVuIHRoZSBQcm9taXNlIGlzIHJlc29sdmVkLlxuICAgICAgICAqIEBwYXJhbSBvbnJlamVjdGVkIFRoZSBjYWxsYmFjayB0byBleGVjdXRlIHdoZW4gdGhlIFByb21pc2UgaXMgcmVqZWN0ZWQuXG4gICAgICAgICogQHJldHVybnMgQSBQcm9taXNlIGZvciB0aGUgY29tcGxldGlvbiBvZiB3aGljaCBldmVyIGNhbGxiYWNrIGlzIGV4ZWN1dGVkLlxuICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiB0aGVuKHByb21pc2UsIG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKSB7XG4gICAgICAgICAgICB2YXIgcmV0dXJuUHJvbWlzZSA9IHJpZGVzdHlsZXIucHJvbWlzZSgpO1xuICAgICAgICAgICAgcHJvbWlzZS5kb25lKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9uZnVsZmlsbGVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb25mdWxmaWxsZWRSZXN1bHQgPSBvbmZ1bGZpbGxlZChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShvbmZ1bGZpbGxlZFJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNvbHZlIHRoZSBwcm9taXNlIHdoZW4gdGhlIHJldHVybmVkIHByb21pc2UgaXMgcmVzb2x2ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmZ1bGZpbGxlZFJlc3VsdC5kb25lKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuUHJvbWlzZS5yZWplY3QocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVzb2x2ZSB0aGUgcHJvbWlzZSB3aXRoIHRoZSByZXR1cm5lZCB2YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblByb21pc2UucmVzb2x2ZShvbmZ1bGZpbGxlZFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuUHJvbWlzZS5yZWplY3QoZXhjZXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcHJvbWlzZS5mYWlsKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9ucmVqZWN0ZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvbnJlamVjdGVkUmVzdWx0ID0gb25yZWplY3RlZChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShvbnJlamVjdGVkUmVzdWx0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc29sdmUgdGhlIHByb21pc2Ugd2hlbiB0aGUgcmV0dXJuZWQgcHJvbWlzZSBpcyByZXNvbHZlZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ucmVqZWN0ZWRSZXN1bHQuZG9uZShmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXR1cm5Qcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KS5mYWlsKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblByb21pc2UucmVqZWN0KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc29sdmUgdGhlIHByb21pc2Ugd2l0aCB0aGUgcmV0dXJuZWQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5Qcm9taXNlLnJlc29sdmUob25yZWplY3RlZFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGV4Y2VwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuUHJvbWlzZS5yZWplY3QoZXhjZXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblByb21pc2UucmVqZWN0KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuUHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBQcm9taXNlSGVscGVyLnRoZW4gPSB0aGVuO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhIG5ldyByZXNvbHZlZCBwcm9taXNlIHdpdGggYW4gb3B0aW9uYWwgdmFsdWVcbiAgICAgICAgICogQHBhcmFtIHZhbHVlIE9wdGlvbmFsbHksIGEgdmFsdWUgdG8gcmVzb2x2ZSB0aGUgcHJvbWlzZSB3aXRoXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiByZXNvbHZlZCh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHByb21pc2UgPSByaWRlc3R5bGVyLnByb21pc2UoKTtcbiAgICAgICAgICAgIHByb21pc2UucmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBQcm9taXNlSGVscGVyLnJlc29sdmVkID0gcmVzb2x2ZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXN0cyBhbiBvYmplY3QgZm9yIGEgUmlkZXN0eWxlclByb21pc2UtbGlrZSBpbnRlcmZhY2UsIHRlc3RpbmcgZm9yXG4gICAgICAgICAqIGRvbmUsIGZhaWwgYW5kIGFsd2F5cyBmdW5jdGlvbnMuXG4gICAgICAgICAqIEBwYXJhbSBvIFRoZSBvYmplY3QgdG8gdGVzdFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaXNQcm9taXNlKG8pIHtcbiAgICAgICAgICAgIHJldHVybiAodHlwZW9mIG8gPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG8pKSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG8uZG9uZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygby5mYWlsID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvLmFsd2F5cyA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgICAgfVxuICAgICAgICBQcm9taXNlSGVscGVyLmlzUHJvbWlzZSA9IGlzUHJvbWlzZTtcbiAgICB9KShQcm9taXNlSGVscGVyID0gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgU2Nyb2xsSGVscGVyO1xuICAgIChmdW5jdGlvbiAoU2Nyb2xsSGVscGVyKSB7XG4gICAgICAgIHZhciBzY3JvbGxFdmVudCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIG1vdXNld2hlZWxFdmVudFNjYWxlID0gLTEgLyA0MDtcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHRlc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBzY3JvbGxFdmVudCA9ICdvbndoZWVsJyBpbiB0ZXN0RWxlbWVudCA/ICd3aGVlbCcgOiAvLyBNb2Rlcm4gYnJvd2VycyBzdXBwb3J0IFwid2hlZWxcIlxuICAgICAgICAgICAgZG9jdW1lbnQub25tb3VzZXdoZWVsICE9PSB1bmRlZmluZWQgPyAnbW91c2V3aGVlbCcgOiAvLyBXZWJraXQgYW5kIElFIHN1cHBvcnQgYXQgbGVhc3QgXCJtb3VzZXdoZWVsXCJcbiAgICAgICAgICAgICdNb3pNb3VzZVBpeGVsU2Nyb2xsJzsgLy8gb2xkZXIgRmlyZWZveFxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGF0dGFjaFdoZWVsTGlzdGVuZXIoZWxlbWVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGlmIChzY3JvbGxFdmVudCA9PT0gJ3doZWVsJykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWRFdmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKGV2ZW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RlbmVyKG5vcm1hbGl6ZWRFdmVudCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHNjcm9sbEV2ZW50LCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50KSBldmVudCA9IHdpbmRvdy5ldmVudDtcbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsaXplZEV2ZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBldmVudC50YXJnZXQgfHwgZXZlbnQuc3JjRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3doZWVsJyxcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFNb2RlOiBldmVudC50eXBlID09PSAnTW96TW91c2VQaXhlbFNjcm9sbCcgPyAwIDogMSxcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFYOiAwLFxuICAgICAgICAgICAgICAgICAgICBkZWx0YVk6IDAsXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhWjogMCxcbiAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5wcmV2ZW50RGVmYXVsdCA9PT0gJ2Z1bmN0aW9uJykgZXZlbnQucHJldmVudERlZmF1bHQoKTtlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsRXZlbnQgPT09ICdtb3VzZXdoZWVsJykge1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkRXZlbnQuZGVsdGFZID0gbW91c2V3aGVlbEV2ZW50U2NhbGUgKiBldmVudC53aGVlbERlbHRhO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQud2hlZWxEZWx0YVgpIG5vcm1hbGl6ZWRFdmVudC5kZWx0YVggPSBtb3VzZXdoZWVsRXZlbnRTY2FsZSAqIGV2ZW50LndoZWVsRGVsdGFYO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudC5kZWx0YVkgPSBldmVudC5kZXRhaWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0ZW5lcihub3JtYWxpemVkRXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgU2Nyb2xsSGVscGVyLmF0dGFjaFdoZWVsTGlzdGVuZXIgPSBhdHRhY2hXaGVlbExpc3RlbmVyO1xuICAgIH0pKFNjcm9sbEhlbHBlciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5TY3JvbGxIZWxwZXIgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5TY3JvbGxIZWxwZXIgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBTdHJpbmdIZWxwZXI7XG4gICAgKGZ1bmN0aW9uIChTdHJpbmdIZWxwZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIGZpcnN0IHdvcmQgb2YgdGhlIHNwZWNpZmllZCBzdHJpbmdcbiAgICAgICAgICogQHBhcmFtIHN0cmluZyBUaGUgc3RyaW5nIHRvIGdldCB0aGUgZmlyc3Qgd29yZCBvZlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0Rmlyc3RXb3JkKHN0cmluZykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZy50cmltKCkuc3Vic3RyKDAsIHN0cmluZy5pbmRleE9mKCcgJykpO1xuICAgICAgICB9XG4gICAgICAgIFN0cmluZ0hlbHBlci5nZXRGaXJzdFdvcmQgPSBnZXRGaXJzdFdvcmQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNlcXVlbmNlIG9mIGVsZW1lbnRzIG9mIHNlYXJjaFN0cmluZyBjb252ZXJ0ZWQgdG8gYSBTdHJpbmcgaXMgdGhlXG4gICAgICAgICAqIHNhbWUgYXMgdGhlIGNvcnJlc3BvbmRpbmcgZWxlbWVudHMgb2YgdGhpcyBvYmplY3QgKGNvbnZlcnRlZCB0byBhIFN0cmluZykgc3RhcnRpbmcgYXRcbiAgICAgICAgICogZW5kUG9zaXRpb24g4oCTIGxlbmd0aCh0aGlzKS4gT3RoZXJ3aXNlIHJldHVybnMgZmFsc2UuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIGVuZGluZywgaW5kZXgpIHtcbiAgICAgICAgICAgIGlmICghKGluZGV4IDwgdGhpcy5sZW5ndGgpKSBpbmRleCA9IHRoaXMubGVuZ3RoO2Vsc2UgaW5kZXggfD0gMDtcbiAgICAgICAgICAgIHZhciBlbmRpbmdMZW5ndGggPSBlbmRpbmcubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZy5zdWJzdHIoaW5kZXggLSBlbmRpbmdMZW5ndGgsIGVuZGluZ0xlbmd0aCkgPT09IGVuZGluZztcbiAgICAgICAgfVxuICAgICAgICBTdHJpbmdIZWxwZXIuZW5kc1dpdGggPSBlbmRzV2l0aDtcbiAgICAgICAgZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cmluZykge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gICAgICAgICAgICAgKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcbiAgICAgICAgICAgIHZhciByZUhhc1JlZ0V4cENoYXIgPSBSZWdFeHAocmVSZWdFeHBDaGFyLnNvdXJjZSk7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nICYmIHJlSGFzUmVnRXhwQ2hhci50ZXN0KHN0cmluZykgPyBzdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKSA6IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgICBTdHJpbmdIZWxwZXIuZXNjYXBlUmVnRXhwID0gZXNjYXBlUmVnRXhwO1xuICAgIH0pKFN0cmluZ0hlbHBlciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5TdHJpbmdIZWxwZXIgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5TdHJpbmdIZWxwZXIgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBTdHlsZUhlbHBlcjtcbiAgICAoZnVuY3Rpb24gKFN0eWxlSGVscGVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlLCB0aGUgd2luZG93LmdldENvbXB1dGVkU3R5bGUgaXMgYXZhaWxhYmxlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgaGFzR2V0Q29tcHV0ZWRTdHlsZSA9ICdnZXRDb21wdXRlZFN0eWxlJyBpbiB3aW5kb3c7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlLCBIVE1MRWxlbWVudC5jdXJyZW50U3R5bGUgaXMgYXZhaWxhYmxlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgaGFzQ3VycmVudFN0eWxlU3VwcG9ydCA9IGZhbHNlO1xuICAgICAgICAvLyBUZXN0IGZvciBzdXBwb3J0IG9uIGVsZW1lbnQgcHJvcGVydGllc1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRlc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBoYXNDdXJyZW50U3R5bGVTdXBwb3J0ID0gJ2N1cnJlbnRTdHlsZScgaW4gdGVzdEVsZW1lbnQ7XG4gICAgICAgICAgICBTdHlsZUhlbHBlci50cmFuc2l0aW9uRW5kRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gVHJhbnNpdGlvbiBldmVudCBtYXBwaW5nXG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAndHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgICAgICAgICAgICAgJ1dlYmtpdFRyYW5zaXRpb24nOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgICAgICAgICAgICAgICAgICdNb3pUcmFuc2l0aW9uJzogJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgICAgICAgICAgICAgICAnT1RyYW5zaXRpb24nOiAnb1RyYW5zaXRpb25FbmQnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrIGluIHRyYW5zaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrIGluIHRlc3RFbGVtZW50LnN0eWxlKSByZXR1cm4gdHJhbnNpdGlvbnNba107XG4gICAgICAgICAgICAgICAgfXJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9KCk7XG4gICAgICAgICAgICBTdHlsZUhlbHBlci50cmFuc2l0aW9uc1N1cHBvcnRlZCA9ICEhU3R5bGVIZWxwZXIudHJhbnNpdGlvbkVuZEV2ZW50O1xuICAgICAgICB9KSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZmFsc2UsIHRoaXMgaXMgbm90IGEgdG91Y2ggZGV2aWNlXG4gICAgICAgICAqL1xuICAgICAgICBTdHlsZUhlbHBlci5pc1RvdWNoRGV2aWNlID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBmYWxzZSwgU1ZHcyBhcmUgbm90IHN1cHBvcnRlZCBieSB0aGUgYnJvd3NlclxuICAgICAgICAgKi9cbiAgICAgICAgU3R5bGVIZWxwZXIuc3ZnU3VwcG9ydGVkID0gISFkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgJiYgISFkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpLmNyZWF0ZVNWR1JlY3Q7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIGN1cnJlbnQgY29tcHV0ZWQgc3R5bGUgb2YgYW4gZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoaGFzR2V0Q29tcHV0ZWRTdHlsZSkgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKGhhc0N1cnJlbnRTdHlsZVN1cHBvcnQgJiYgZWxlbWVudFsnY3VycmVudFN0eWxlJ10gIT09IG51bGwpIHJldHVybiBlbGVtZW50WydjdXJyZW50U3R5bGUnXTtcbiAgICAgICAgICAgIHRocm93IFwiVW5hYmxlIHRvIGdldCBjb21wdXRlZCBzdHlsZVwiO1xuICAgICAgICB9XG4gICAgICAgIFN0eWxlSGVscGVyLmdldENvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlO1xuICAgICAgICB2YXIgb2Zmc2V0UG9zaXRpb25pbmdzID0gWydhYnNvbHV0ZScsICdyZWxhdGl2ZScsICdmaXhlZCddO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZWN0cyB3aGV0aGVyIG9yIG5vdCBhYnNvbHV0ZS9yZWxhdGl2ZS9maXhlZCBwb3NpdGlvbmluZyBpcyBlbmFibGVkIG9uIGFuIGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGlzT2Zmc2V0UG9zaXRpb25lZChlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBlbGVtZW50LnN0eWxlLnBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKCFwb3NpdGlvbikgcG9zaXRpb24gPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uO1xuICAgICAgICAgICAgLy8gSWYgd2Ugc3RpbGwgZG9uJ3QgaGF2ZSBhIHBvc2l0aW9uIGF0IHRoaXMgcG9pbnQgaXQncyBub3Qgb2Zmc2V0IHBvc2l0aW9uZWRcbiAgICAgICAgICAgIGlmICghcG9zaXRpb24pIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50IGlzIG9mZnNldCBwb3NpdGlvbmVkIGlmIGl0cyBvbmUgb2YgdGhlIGFib3ZlIGxpc3RcbiAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IG9mZnNldFBvc2l0aW9uaW5nc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uaW5nID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBwb3NpdGlvbmluZykgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFN0eWxlSGVscGVyLmlzT2Zmc2V0UG9zaXRpb25lZCA9IGlzT2Zmc2V0UG9zaXRpb25lZDtcbiAgICAgICAgZnVuY3Rpb24gZmxhdHRlbkNsYXNzTGlzdCgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBjbGFzc2VzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlci5yZWR1Y2UoY2xhc3NlcywgZnVuY3Rpb24gKGNsYXNzTGlzdCwgY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1YmNsYXNzTGlzdCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNsYXNzTmFtZSA9PT0gJ3N0cmluZycpIHN1YmNsYXNzTGlzdCA9IFtjbGFzc05hbWVdO2Vsc2Ugc3ViY2xhc3NMaXN0ID0gY2xhc3NOYW1lO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gc3ViY2xhc3NMaXN0W1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NMaXN0ID0gY2xhc3NMaXN0LmNvbmNhdChjLnNwbGl0KC9cXHMrLykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsYXNzTGlzdDtcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgfVxuICAgICAgICBTdHlsZUhlbHBlci5mbGF0dGVuQ2xhc3NMaXN0ID0gZmxhdHRlbkNsYXNzTGlzdDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhdXNlcyB0aGUgYnJvd3NlciB0byByZWNhbGN1bGF0ZSB0aGUgc3R5bGVzIG9mIHRoZSBzcGVjaWZpZWQgZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gdHJpZ2dlclJlZmxvdyhlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBTdHlsZUhlbHBlci50cmlnZ2VyUmVmbG93ID0gdHJpZ2dlclJlZmxvdztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNraXAgYSB0cmFuc2l0aW9uIG9uIGFuIGVsZW1lbnQgcHJlZm9ybWVkIGJ5IGEgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIGNhbGxiYWNrIEEgZnVuY3Rpb24gdG8gcnVuIGNhdXNpbmcgYSB0cmFuc2l0aW9uIHRvIGJlIGZpcmVkIG9uIHRoZSBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBza2lwVHJhbnNpdGlvbihlbGVtZW50LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgaWYgKCFTdHlsZUhlbHBlci50cmFuc2l0aW9uc1N1cHBvcnRlZCkgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB2YXIgb2xkVHJhbnNpdGlvbiA9IGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbjtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB0cmlnZ2VyUmVmbG93KGVsZW1lbnQpO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gb2xkVHJhbnNpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBTdHlsZUhlbHBlci5za2lwVHJhbnNpdGlvbiA9IHNraXBUcmFuc2l0aW9uO1xuICAgICAgICBmdW5jdGlvbiBvbk5leHRUcmFuc2l0aW9uRW5kKGVsZW1lbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIub25jZShlbGVtZW50LCBTdHlsZUhlbHBlci50cmFuc2l0aW9uRW5kRXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBTdHlsZUhlbHBlci5vbk5leHRUcmFuc2l0aW9uRW5kID0gb25OZXh0VHJhbnNpdGlvbkVuZDtcbiAgICAgICAgZnVuY3Rpb24gaGFzQ2xhc3NlcyhlbGVtZW50LCBjbGFzc0FycmF5KSB7XG4gICAgICAgICAgICB2YXIgY2xhc3NlcyA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2xhc3NBcnJheSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzTGlzdCA9IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLCBfa2V5MiA9IDI7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NMaXN0W19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBjbGFzc0xpc3QgfHwgW107XG4gICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKGNsYXNzQXJyYXkpO1xuICAgICAgICAgICAgfSBlbHNlIGNsYXNzZXMgPSBjbGFzc0FycmF5O1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IGNsYXNzZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IF9zdGVwMy52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgU3R5bGVIZWxwZXIuaGFzQ2xhc3NlcyA9IGhhc0NsYXNzZXM7XG4gICAgICAgIGZ1bmN0aW9uIHBhcnNlUGl4ZWxzKHBpeGVscykge1xuICAgICAgICAgICAgaWYgKCFSaWRlU3R5bGVyU2hvd2Nhc2UuU3RyaW5nSGVscGVyLmVuZHNXaXRoKHBpeGVscywgJ3B4JykpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQocGl4ZWxzKTtcbiAgICAgICAgfVxuICAgICAgICBTdHlsZUhlbHBlci5wYXJzZVBpeGVscyA9IHBhcnNlUGl4ZWxzO1xuICAgICAgICBmdW5jdGlvbiBjYWxjdWxhdGVQYWRkaW5nKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBfZ2V0Q29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCksXG4gICAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbSA9IF9nZXRDb21wdXRlZFN0eWxlLnBhZGRpbmdCb3R0b20sXG4gICAgICAgICAgICAgICAgcGFkZGluZ1RvcCA9IF9nZXRDb21wdXRlZFN0eWxlLnBhZGRpbmdUb3AsXG4gICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQgPSBfZ2V0Q29tcHV0ZWRTdHlsZS5wYWRkaW5nTGVmdCxcbiAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQgPSBfZ2V0Q29tcHV0ZWRTdHlsZS5wYWRkaW5nUmlnaHQ7XG5cbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHBhcnNlUGl4ZWxzKHBhZGRpbmdMZWZ0KSArIHBhcnNlUGl4ZWxzKHBhZGRpbmdSaWdodCk7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gcGFyc2VQaXhlbHMocGFkZGluZ1RvcCkgKyBwYXJzZVBpeGVscyhwYWRkaW5nQm90dG9tKTtcbiAgICAgICAgICAgIGlmIChpc05hTih3aWR0aCkpIHdpZHRoID0gMDtcbiAgICAgICAgICAgIGlmIChpc05hTihoZWlnaHQpKSBoZWlnaHQgPSAwO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgU3R5bGVIZWxwZXIuY2FsY3VsYXRlUGFkZGluZyA9IGNhbGN1bGF0ZVBhZGRpbmc7XG4gICAgfSkoU3R5bGVIZWxwZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlciA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIFZpc2liaWxpdHlIZWxwZXI7XG4gICAgKGZ1bmN0aW9uIChWaXNpYmlsaXR5SGVscGVyKSB7XG4gICAgICAgIHZhciBkZWZhdWx0VHJhbnNpdGlvbkluQ2xhc3MgPSAnaW4nO1xuICAgICAgICBmdW5jdGlvbiBzaG93KGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uQ2xhc3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGRlZmF1bHRUcmFuc2l0aW9uSW5DbGFzcztcblxuICAgICAgICAgICAgc2V0VmlzaWJpbGl0eShlbGVtZW50LCB0cnVlKTtcbiAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci50cmlnZ2VyUmVmbG93KGVsZW1lbnQpO1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKHRyYW5zaXRpb25DbGFzcyk7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHJpZGVzdHlsZXIucHJvbWlzZSgpO1xuICAgICAgICAgICAgaWYgKCFSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIudHJhbnNpdGlvbnNTdXBwb3J0ZWQpIHByb21pc2UucmVzb2x2ZSgpO2Vsc2UgUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLm9uTmV4dFRyYW5zaXRpb25FbmQoZWxlbWVudCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgVmlzaWJpbGl0eUhlbHBlci5zaG93ID0gc2hvdztcbiAgICAgICAgZnVuY3Rpb24gaGlkZShlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgdHJhbnNpdGlvbkNsYXNzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBkZWZhdWx0VHJhbnNpdGlvbkluQ2xhc3M7XG5cbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0cmFuc2l0aW9uQ2xhc3MpO1xuICAgICAgICAgICAgdmFyIHByb21pc2UgPSByaWRlc3R5bGVyLnByb21pc2UoKTtcbiAgICAgICAgICAgIHByb21pc2UuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFZpc2liaWxpdHkoZWxlbWVudCwgZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIVJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci50cmFuc2l0aW9uc1N1cHBvcnRlZCkgcHJvbWlzZS5yZXNvbHZlKCk7ZWxzZSBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIub25OZXh0VHJhbnNpdGlvbkVuZChlbGVtZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBWaXNpYmlsaXR5SGVscGVyLmhpZGUgPSBoaWRlO1xuICAgICAgICBmdW5jdGlvbiBzZXRWaXNpYmlsaXR5KGVsZW1lbnQsIHZpc2libGUpIHtcbiAgICAgICAgICAgIGlmICghdmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gJyc7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgVmlzaWJpbGl0eUhlbHBlci5zZXRWaXNpYmlsaXR5ID0gc2V0VmlzaWJpbGl0eTtcbiAgICB9KShWaXNpYmlsaXR5SGVscGVyID0gUmlkZVN0eWxlclNob3djYXNlLlZpc2liaWxpdHlIZWxwZXIgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5WaXNpYmlsaXR5SGVscGVyID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgc3RyaW5ncztcbiAgICAoZnVuY3Rpb24gKHN0cmluZ3MpIHtcbiAgICAgICAgc3RyaW5ncy5yZWdpc3Rlckxhbmd1YWdlKFJpZGVTdHlsZXJTaG93Y2FzZS5MYW5ndWFnZUtleXMuRW4sIHtcbiAgICAgICAgICAgIFwidmVoaWNsZS1zZWxlY3QtdmlzdWFsaXplLWludHJvXCI6IFwiVmlzdWFsaXplIHdoZWVscywgdGlyZXMgYW5kIHN1c3BlbnNpb24gbW9kaWZpY2F0aW9ucyBvbiB5b3VyIHZlaGljbGUuXCIsXG4gICAgICAgICAgICBcInZlaGljbGUtc2VsZWN0LXNoYXJlLWludHJvXCI6IFwiU2hhcmUgd2l0aCB5b3VyIGZyaWVuZHMsIG9yIHNhdmUgZm9yIGluc3BpcmF0aW9uLlwiLFxuICAgICAgICAgICAgXCJzZWxlY3QteW91ci12ZWhpY2xlXCI6IFwiU2VsZWN0IHlvdXIgVmVoaWNsZVwiLFxuICAgICAgICAgICAgXCJwYWludFwiOiBcIlBhaW50XCIsXG4gICAgICAgICAgICBcInN1c3BlbnNpb25cIjogXCJTdXNwZW5zaW9uXCIsXG4gICAgICAgICAgICBcIndoZWVsc1wiOiBcIldoZWVsc1wiLFxuICAgICAgICAgICAgXCJ0aXJlc1wiOiBcIlRpcmVzXCIsXG4gICAgICAgICAgICBcImZyb250XCI6IFwiRnJvbnRcIixcbiAgICAgICAgICAgIFwicmVhclwiOiBcIlJlYXJcIixcbiAgICAgICAgICAgIFwidmVoaWNsZS1kZXRhaWxzXCI6IFwiVmVoaWNsZSBEZXRhaWxzXCIsXG4gICAgICAgICAgICBcImNoYW5nZS12ZWhpY2xlXCI6IFwiQ2hhbmdlIFZlaGljbGVcIixcbiAgICAgICAgICAgIFwid2hlZWwtZGV0YWlsc1wiOiBcIldoZWVsIERldGFpbHNcIixcbiAgICAgICAgICAgIFwidGlyZS1kZXRhaWxzXCI6IFwiVGlyZSBEZXRhaWxzXCIsXG4gICAgICAgICAgICBcInNlbGVjdC1wYWludFwiOiBcIlNlbGVjdCBQYWludFwiLFxuICAgICAgICAgICAgXCJzZWxlY3Qtd2hlZWxzXCI6IFwiU2VsZWN0IFdoZWVsc1wiLFxuICAgICAgICAgICAgXCJzZWxlY3QtdGlyZXNcIjogXCJTZWxlY3QgVGlyZXNcIixcbiAgICAgICAgICAgIFwiYWRqdXN0LXN1c3BlbnNpb25cIjogXCJBZGp1c3QgU3VzcGVuc2lvblwiLFxuICAgICAgICAgICAgXCJjaGFuZ2Utd2hlZWwtc2l6ZVwiOiBcIkNoYW5nZSBXaGVlbCBTaXplXCIsXG4gICAgICAgICAgICBcIm5vLXJlc3VsdHNcIjogXCJObyBSZXN1bHRzIEZvdW5kXCIsXG4gICAgICAgICAgICBcIm5vLXdoZWVsLXJlc3VsdHNcIjogXCJObyB3aGVlbHMgZm91bmQgZm9yIHRoaXMgdmVoaWNsZS5cIixcbiAgICAgICAgICAgIFwid2hlZWwtZmVhdHVyZXMtc3BlY3NcIjogXCJXaGVlbCBGZWF0dXJlcyAmIFNwZWNzXCIsXG4gICAgICAgICAgICBcInNoYXJlLW15LXZlaGljbGVcIjogXCJTaGFyZSBNeSBWZWhpY2xlXCIsXG4gICAgICAgICAgICBcInNoYXJlLWluc3RydWN0aW9uc1wiOiBcIlVzZSB0aGUgYnV0dG9ucyB0byBzaGFyZSBvciBzYXZlIHlvdXIgdmVoaWNsZSBjb25maWd1cmF0aW9uLlwiLFxuICAgICAgICAgICAgXCJuby1kZXNjcmlwdGlvbi13aGVlbFwiOiBcIldlIGRvbid0IGhhdmUgYSBkZXNjcmlwdGlvbiBmb3IgdGhpcyB3aGVlbCB5ZXRcIixcbiAgICAgICAgICAgICdzaG93LXNwZWNzJzogXCJTaG93IFNwZWNzXCIsXG4gICAgICAgICAgICAnY2FsbCc6IFwiQ2FsbFwiLFxuICAgICAgICAgICAgJ3NpemUnOiBcIlNpemVcIixcbiAgICAgICAgICAgICdvZmZzZXQnOiBcIk9mZnNldFwiLFxuICAgICAgICAgICAgJ2JvbHQtcGF0dGVybic6IFwiQm9sdCBQYXR0ZXJuXCIsXG4gICAgICAgICAgICAnY2VudGVyYm9yZSc6IFwiQ2VudGVyYm9yZVwiLFxuICAgICAgICAgICAgJ3ByaWNlJzogXCJQcmljZVwiLFxuICAgICAgICAgICAgJ2l0ZW0tbnVtYmVyJzogXCJJdGVtICNcIixcbiAgICAgICAgICAgICdicmFuZHMnOiBcIkJyYW5kc1wiLFxuICAgICAgICAgICAgJ2ZpbmlzaGVzJzogXCJGaW5pc2hlc1wiLFxuICAgICAgICAgICAgJ3NpemVzJzogXCJTaXplc1wiLFxuICAgICAgICAgICAgJ2FsbCc6IFwiQWxsXCIsXG4gICAgICAgICAgICAnYWxsLWJyYW5kcyc6IFwiQWxsIEJyYW5kc1wiLFxuICAgICAgICAgICAgJ2FsbC1maW5pc2hlcyc6IFwiQWxsIEZpbmlzaGVzXCIsXG4gICAgICAgICAgICAnYWxsLXNpemVzJzogXCJBbGwgU2l6ZXNcIixcbiAgICAgICAgICAgICdmaWx0ZXItcmVzdWx0cyc6IFwiRmlsdGVyIFJlc3VsdHNcIixcbiAgICAgICAgICAgICdsb2FkaW5nLWVsbGlwc2lzJzogXCJMb2FkaW5nLi4uXCIsXG4gICAgICAgICAgICAnc2hvdy1jb3VudC1mb3JtYXQtdGlyZXMnOiBcIlNob3cge2NvdW50fSBUaXJlc1wiLFxuICAgICAgICAgICAgJ3Nob3ctY291bnQtZm9ybWF0LXdoZWVscyc6IFwiU2hvdyB7Y291bnR9IFdoZWVsc1wiLFxuICAgICAgICAgICAgJ3NwZWNpZmljYXRpb25zJzogXCJTcGVjaWZpY2F0aW9uc1wiLFxuICAgICAgICAgICAgJ3NwZWVkLXJhdGluZyc6IFwiU3BlZWQgUmF0aW5nXCIsXG4gICAgICAgICAgICAnYW55LXNwZWVkLXJhdGluZ3MnOiBcIkFueSBTcGVlZCBSYXRpbmdzXCIsXG4gICAgICAgICAgICAnZmVhdHVyZXMnOiBcIkZlYXR1cmVzXCIsXG4gICAgICAgICAgICAnYW55LWZlYXR1cmVzJzogXCJBbnkgRmVhdHVyZXNcIixcbiAgICAgICAgICAgICdmaW5pc2gnOiBcIkZpbmlzaFwiLFxuICAgICAgICAgICAgJ3N1bW1hcnknOiBcIlN1bW1hcnlcIixcbiAgICAgICAgICAgICdjaGVjay1vdXQtbXktdmVoaWNsZSc6IFwiQ2hlY2sgb3V0IG15IHZlaGljbGUhXCJcbiAgICAgICAgfSk7XG4gICAgfSkoc3RyaW5ncyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncyA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7Il19
