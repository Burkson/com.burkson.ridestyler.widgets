function RideStylerVehicleSelectionModal(e){function t(e){e=e||{};for(var t=1;t<arguments.length;t++)if(arguments[t])for(var n in arguments[t])arguments[t].hasOwnProperty(n)&&(e[n]=arguments[t][n]);return e}function n(e,t){if(e){"string"==typeof e?e=document.querySelectorAll(e):e.tagName&&(e=[e]);for(var n=0;n<e.length;n++)""==e[n].className.trim()?e[n].className=t:(" "+e[n].className+" ").indexOf(" "+t+" ")<0&&(e[n].className+=" "+t)}}function i(e,t){if(e){"string"==typeof e?e=document.querySelectorAll(e):e.tagName&&(e=[e]);for(var n=new RegExp(" "+t+" ","g"),i=new RegExp("(^)"+t+"($| )","g"),r=new RegExp("(^| )"+t+"($)","g"),o=0;o<e.length;o++)e[o].className=e[o].className.replace(n," "),e[o].className=e[o].className.replace(i,""),e[o].className=e[o].className.replace(r,""),""==e[o].className.trim()&&e[o].removeAttribute("class")}}function r(){if(!document.getElementById("vsm-backdrop")){var e=document.createElement("div");e.id="vsm-backdrop",e.style.opacity=0,e.style.transition="opacity linear .3s",s().appendChild(e),function(){var e=document.getElementById("vsm-backdrop");e||r();setTimeout(function(){e.style.opacity=.55,e.onTransitionEndOnce(function(){})},0)}()}}function o(){var e=document.getElementById("vsm-backdrop");e&&(e.style.opacity=0,e.onTransitionEndOnce(function(){e.parentNode.removeChild(e)}))}function a(){var t=document.querySelectorAll(".vsm-modal:not(#vsm_modal_base)"),n=document.querySelectorAll(".vsm-modal.in")[0],r=f.slice(0),a=d.slice(0);f=[],d=[],m=!0,v.indexOf(n.getAttribute("id"))>-1?(n.style.opacity=0,n.onTransitionEndOnce(function(){[].forEach.call(t,function(e){var t=e.getAttribute("id");v.indexOf(t)>-1&&e.parentNode.removeChild(e)});for(var n={},i=0;i<r.length;i++){var o=r[i].split(":");2==o.length&&(n[o[0]]=o[1])}if(e.callback&&"function"==typeof e.callback){var s={FinalSelectionMade:!1,Vehicle:n,FullSelectionData:a};e.callback(s)}else console.warn("No callback function provided.")}),o(),i(document.body,"vsm-modal-open")):console.warn("This vsm instance is not shown yet.")}function s(){return"function"==typeof e.container?e.container():e.container?e.container:document.body}function l(n,i,r){var o=document.getElementById("vsm_modal_base");if(o){var l=o.cloneNode(!0);if(l.id="vsm_modal_"+_vsmModalIDCounter,v.push("vsm_modal_"+_vsmModalIDCounter),l.className+=" vsm_modal_"+_vsmModalIDCounter,s().appendChild(l),void 0!==r){i=t({backModal:r,thisModal:l},i);var u=l.querySelectorAll(".vsm-back-step");[].forEach.call(u,function(t){var n=function(t){t.target.removeEventListener(t.type,n);var r=i.backModal,o=i.thisModal;c(r,o,!0).done(function(){if(f.length&&f.pop(),d.length&&d.pop(),o.parentNode&&o.parentNode.removeChild(o),e.afterBackClicked&&"function"==typeof e.afterBackClicked){for(var t={},n=0;n<f.length;n++){var i=f[n].split(":");2==i.length&&(t[i[0]]=i[1])}var r={FullSelection:t,FullSelectionData:d};e.afterBackClicked(r)}})};t.addEventListener("click",n,!1)})}"function"==typeof n&&n(l,i);var h=l.querySelectorAll(".vsm-close");return[].forEach.call(h,function(e){e.onclick=function(){a()}}),_vsmModalIDCounter++,l}}function c(e,t,r){if(r=!!r,e&&t){var o=ridestyler.promise(),a=ridestyler.promise();if(!r){var s=parseInt(t.style.zIndex,10)||0,l=parseInt(e.style.zIndex,10)||0;l<=s&&(l=s+1),e.style.zIndex=l}y?r?(e.style.display="block",n(e,"in"),a.resolve(),setTimeout(function(){i(t,"in"),t.onTransitionEndOnce(function(){t.style.display="none",o.resolve()})},50)):(e.style.display="block",setTimeout(function(){n(e,"in"),e.onTransitionEndOnce(function(){t.style.display="none",i(t,"in"),a.resolve(),o.resolve()})},50)):(r?(e.style.display="block",n(e,"in"),i(t,"in"),t.style.display="none"):(e.style.display="block",n(e,"in"),t.style.display="none",i(t,"in")),a.resolve(),o.resolve());var c=ridestyler.promise(),u=function(){var e=a.state(),t=o.state();if(0!==e&&0!==t)return 2===e||2===t?c.reject():void c.resolve()};return a.always(u),o.always(u),c}}function u(t,n){var i={Selection:d};n&&n.bestConfiguration?p(t,n.bestConfiguration):ridestyler.ajax.send({action:"Vehicle/Select",data:i,callback:function(n){n.Success&&(n.BestConfiguration?e.IncludeOETireOption?ridestyler.ajax.send({action:"Vehicle/GetTireOptionDetails",data:{VehicleConfiguration:n.BestConfiguration.Value},bestConfiguration:n.BestConfiguration,callback:function(e){if(e.Success){var n=e.Details,i=this.bestConfiguration;if(1==n.length){a=function(e){var t=e.Front.Description,n=e.Rear.Description;return t==n?t:"F: "+t+" R: "+n}(n[0]);i.TireOptionBasic={TireOptionID:n[0].TireOptionID,TireOptionString:a},p(t,i)}else{for(var r={Groups:null,Description:"Select Your Tire Size",Title:"Tire Size",Key:"tireoption",Options:[]},o=0;o<n.length;o++){var a=function(e){var t=e.Front.Description,n=e.Rear.Description;return t==n?t:"F: "+t+" R: "+n}(n[o]);r.Options.push({Group:null,Label:a,Value:n[o].TireOptionID})}h(t,r,i)}}else p(t,i)}}):p(t,n.BestConfiguration):h(t,n.Menu))}})}function h(t,i,r){var o=t.querySelectorAll(".vsm-list-container")[0],a=t.querySelectorAll(".vsm-header")[0],s=t.querySelectorAll(".vsm-modal-body")[0],h=t.querySelectorAll(".vsm-line-step")[0],p=t.querySelectorAll(".vsm-final")[0],v=i.Options,y=i.Key,g=i.Title,b=i.Groups,C=function(n){var i=n.Label,o=n.Value;if(void 0!==i&&void 0!==o){var a=document.createElement("a"),s=document.createTextNode(i);return a.className="vsm-option-item vsm-btn vsm-btn-gray",a.href="javascript:void(0)",a.setAttribute("data-optionvalue",o),a.setAttribute("data-optionlabel",i),a.appendChild(s),a.onclick=function(){!function(n){var i=n.getAttribute("data-optionvalue"),o=n.getAttribute("data-optionkey"),a=n.getAttribute("data-optionlabel"),s=n.getAttribute("data-menutitle");if(d.push(o+":"+i),f.push(s+":"+a),e.afterOptionSelected&&"function"==typeof e.afterOptionSelected){for(var h={},p=0;p<f.length;p++){var v=f[p].split(":");2==v.length&&(h[v[0]]=v[1])}var y={CurrentSelection:{},FullSelection:h,FullSelectionData:d};y.CurrentSelection[s]=a,e.afterOptionSelected(y)}if(!m){var g={};"tireoption"==o&&r&&(r.TireOptionBasic={TireOptionID:i,TireOptionString:a},g.bestConfiguration=r),c(l(u,g,t),t)}}(this)},a}},w=function(e){var t=document.createElement("p"),n=document.createTextNode(e);return t.className="vsm-group-title",t.appendChild(n),t};p.parentNode.removeChild(p),n(h,"vsm-single-step");var A=document.createElement("div"),S=document.createElement("i"),E=document.createElement("span");if(A.className="vsm-column-2",S.className="dot-style dot-before active",E.className="dot-info dot-info-before active",A.appendChild(S),A.appendChild(E),d.length){n(s,"vsm-has-back");I=document.createElement("div");I.className="vsm-column-2 vsm-before";var k=f.map(function(e){return e&&2===e.split(":").length?e.split(":")[1]:""});E.innerHTML=k.join(" "),h.appendChild(I),h.appendChild(A)}else{var I;(I=document.createElement("div")).className="vsm-column-2 no-style",h.appendChild(I),h.appendChild(A)}for(a.innerHTML=i.Description;o.firstChild;)o.removeChild(o.firstChild);if(v.length){var T=document.createElement("div");if(T.className="vsm-group-wrap center-piece",o.appendChild(T),e.GroupOptions&&b){for(var O={},L=0;L<v.length;L++){var _=v[L],H=_.Group;H?O[H]?O[H].push(_):O[H]=[_]:O._ungrouped?O._ungrouped.push(_):O._ungrouped=[_]}for(var R=0;R<b.length;R++){var M=b[R];if(D=O[M]){var B=document.createElement("div"),x="vsm-one-container";"year"==i.Key&&v.length>10&&(2==e.YearScreenColumns&&(x="vsm-half-container"),e.YearScreenColumns>=3&&(x="vsm-third-container")),"make"==i.Key&&v.length>10&&e.MakeScreenColumns>=2&&(x="vsm-half-container"),B.className="vsm-group-list "+x,T.appendChild(w(M)),T.appendChild(B);for(L=0;L<D.length;L++){void 0!==(P=C(D[L]))&&(P.setAttribute("data-optionkey",y),P.setAttribute("data-menutitle",g),B.appendChild(P))}}}if(O._ungrouped){var B=document.createElement("div"),x="vsm-one-container";"year"==i.Key&&v.length>10&&(2==e.YearScreenColumns&&(x="vsm-half-container"),e.YearScreenColumns>=3&&(x="vsm-third-container")),"make"==i.Key&&v.length>10&&e.MakeScreenColumns>=2&&(x="vsm-half-container"),B.className="vsm-group-list "+x,T.appendChild(w("Ungrouped")),T.appendChild(B);for(var D=O._ungrouped,L=0;L<D.length;L++){void 0!==(P=C(D[L]))&&(P.setAttribute("data-optionkey",y),P.setAttribute("data-menutitle",g),B.appendChild(P))}}}else{var B=document.createElement("div"),x="vsm-one-container";"year"==i.Key&&v.length>10&&(2==e.YearScreenColumns&&(x="vsm-half-container"),e.YearScreenColumns>=3&&(x="vsm-third-container")),"make"==i.Key&&v.length>10&&e.MakeScreenColumns>=2&&(x="vsm-half-container"),B.className="vsm-group-list "+x,T.appendChild(B);for(L=0;L<v.length;L++){var P=C(v[L]);void 0!==P&&(P.setAttribute("data-optionkey",y),P.setAttribute("data-menutitle",g),B.appendChild(P))}}}}function p(i,r){var s=i.querySelectorAll(".vsm-vehicle-display")[0],l=i.querySelectorAll(".vsm-final .vsm-loaderIcon")[0],c=i.querySelectorAll(".vehicle-result-name")[0],u=(i.querySelectorAll(".vehicle-result-size")[0],i.querySelectorAll(".vsm-find")[0]),h=i.querySelectorAll(".vsm-modal-body")[0],p=i.querySelectorAll(".vsm-in-progress")[0];n(h,"vsm-has-back"),u.innerHTML=e.ConfirmButtonText;for(var v=[],m={},y=0;y<f.length;y++){var g=f[y].split(":");2==g.length&&"Tire Size"!=g[0]&&(v.push(g[1]),m[g[0]]=g[1])}for(var b=v[0],C=v.pop(),y=1;y<v.length&&!(y>=3);y++)b+=" "+v[y];var w=b+" "+C;c.innerHTML=w,n(i.querySelectorAll(".vsm-modal-body")[0],"vsm-final-screen"),p.parentNode.removeChild(p);var A={Width:260,Height:120,PositionX:1,PositionY:1};e.ImageSettings&&t(A,"function"==typeof e.ImageSettings?e.ImageSettings.call(this,e):e.ImageSettings),A.VehicleConfiguration=r.Value;var S=ridestyler.ajax.url("Vehicle/Render",A);s.src=S,s.style.display="inline-block",s.onload=function(){l.style.display="none"};var E=function(n){n.target.removeEventListener(n.type,E);var i=document.querySelectorAll(".vsm-modal:not(#vsm_modal_base)"),s=function(e,t){for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1});e&&e!==document;e=e.parentNode)if(e.matches(t))return e;return null}(this,".vsm-modal"),l=d.slice(0);f=[],d=[],s.style.opacity=0,s.onTransitionEndOnce(function(){[].forEach.call(i,function(e){e.parentNode.removeChild(e)});var n={ImageUrl:S,VehicleDescription:w,VehicleConfiguration:r.Value};if(t(n,m),r.TireOptionBasic&&t(n,r.TireOptionBasic),e.callback&&"function"==typeof e.callback){var o={FinalSelectionMade:!0,Vehicle:n,FullSelectionData:l};e.callback(o)}else a(),console.warn("No callback function provided.")}),o()};u.addEventListener("click",E,!1)}var f=[],d=[],v=[],m=!1;e=t({ConfirmButtonText:"Confirm Vehicle",GroupOptions:!1,IncludeOETireOption:!1,YearScreenColumns:3,MakeScreenColumns:2,container:document.body,afterBackClicked:null,afterOptionSelected:null,callback:null},e);var y=function(){var e=(document.body||document.documentElement).style;return void 0!==e.WebkitTransition||void 0!==e.MozTransition||void 0!==e.OTransition||void 0!==e.transition}();!function(){var e,t=document.createElement("div"),n={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"},i="";for(e in n)if(n.hasOwnProperty(e)&&void 0!==t.style[e]){i=n[e];break}HTMLElement.prototype.onTransitionEndOnce=function(e){if(""===i)return e(),this;var t=function(n){e(),n.target.removeEventListener(n.type,t)};return this.addEventListener(i,t,!1),this}}(),this.Show=function(){!function(){if(!document.getElementById("vsm_modal_base")){var e=document.createElement("div");e.innerHTML=vsm_template,s().appendChild(e.firstChild)}}();if(document.querySelectorAll(".vsm-modal:not(#vsm_modal_base)").length)console.warn("There is currently another vsm instance running.");else{var e=l();r(),e.style.display="block",m=!1,setTimeout(function(){n(e,"in"),n(document.body,"vsm-modal-open"),e.onTransitionEndOnce(function(){u(e)})},50)}},this.Hide=a}function RideStylerViewport(e,t){function n(){o.style.opacity=.75}var i="data:image/gif;base64,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ODwvYj48YnIgLz4KPGJyIC8+CjxiPldhcm5pbmc8L2I+OiAgbXlzcWxfcXVlcnkoKSBbPGEgaHJlZj0nZnVuY3Rpb24ubXlzcWwtcXVlcnknPmZ1bmN0aW9uLm15c3FsLXF1ZXJ5PC9hPl06IENhbid0IGNvbm5lY3QgdG8gbG9jYWwgTXlTUUwgc2VydmVyIHRocm91Z2ggc29ja2V0ICcvdmFyL3J1bi9teXNxbGQvbXlzcWxkLnNvY2snICgyKSBpbiA8Yj4vaG9tZS9hamF4bG9hZC93d3cvbGlicmFpcmllcy9jbGFzcy5teXNxbC5waHA8L2I+IG9uIGxpbmUgPGI+Njg8L2I+PGJyIC8+CjxiciAvPgo8Yj5XYXJuaW5nPC9iPjogIG15c3FsX3F1ZXJ5KCkgWzxhIGhyZWY9J2Z1bmN0aW9uLm15c3FsLXF1ZXJ5Jz5mdW5jdGlvbi5teXNxbC1xdWVyeTwvYT5dOiBBIGxpbmsgdG8gdGhlIHNlcnZlciBjb3VsZCBub3QgYmUgZXN0YWJsaXNoZWQgaW4gPGI+L2hvbWUvYWpheGxvYWQvd3d3L2xpYnJhaXJpZXMvY2xhc3MubXlzcWwucGhwPC9iPiBvbiBsaW5lIDxiPjY4PC9iPjxiciAvPgo8YnIgLz4KPGI+V2FybmluZzwvYj46ICBteXNxbF9xdWVyeSgpIFs8YSBocmVmPSdmdW5jdGlvbi5teXNxbC1xdWVyeSc+ZnVuY3Rpb24ubXlzcWwtcXVlcnk8L2E+XTogQ2FuJ3QgY29ubmVjdCB0byBsb2NhbCBNeVNRTCBzZXJ2ZXIgdGhyb3VnaCBzb2NrZXQgJy92YXIvcnVuL215c3FsZC9teXNxbGQuc29jaycgKDIpIGluIDxiPi9ob21lL2FqYXhsb2FkL3d3dy9saWJyYWlyaWVzL2NsYXNzLm15c3FsLnBocDwvYj4gb24gbGluZSA8Yj42ODwvYj48YnIgLz4KPGJyIC8+CjxiPldhcm5pbmc8L2I+OiAgbXlzcWxfcXVlcnkoKSBbPGEgaHJlZj0nZnVuY3Rpb24ubXlzcWwtcXVlcnknPmZ1bmN0aW9uLm15c3FsLXF1ZXJ5PC9hPl06IEEgbGluayB0byB0aGUgc2VydmVyIGNvdWxkIG5vdCBiZSBlc3RhYmxpc2hlZCBpbiA8Yj4vaG9tZS9hamF4bG9hZC93d3cvbGlicmFpcmllcy9jbGFzcy5teXNxbC5waHA8L2I+IG9uIGxpbmUgPGI+Njg8L2I+PGJyIC8+Cg==",r=null,o=null,a=null,s=!1,l={};(t=t||{}).state&&(l=t.state),"string"==typeof e?"function"==typeof document.querySelector?r=document.querySelector(e):"."===e[0]?r=document.getElementsByClassName(e.substring(1)):"#"===e[0]&&(r=document.getElementById(e.substring(1))):"object"==typeof e&&e.tagName&&(r=e),r||console.error("Could not find element specified for: "+e);(function(){var e=function(e){return"fixed"===e||"absolute"===e||"relative"===e};if(e(r.style.position))return!0;var t="getComputedStyle"in window?getComputedStyle(r):r.runtimeStyle;return!!t&&e(t.position)})()||(r.style.position="relative"),(o=document.createElement("img")).src=i,o.style.padding="5px",o.style.borderRadius="21px",o.style.background="#fff",o.style.opacity=0,o.style.transition="opacity linear 300ms",o.style.position="absolute",o.style.left="50%",o.style.top="50%",o.style.zIndex="50",o.style.marginLeft="-21px",o.style.marginTop="-21px",r.appendChild(o),n(),a=new function(e){function t(t){var a=ridestyler.promise();n(),null!=i&&(r.push(i),i=null);for(var s=r.length-1;s>=0;s--){var l=r[s];l.style.opacity>.5&&(l.style.opacity=.5)}var c=ridestyler.ajax.url("Vehicle/Render",t),u=document.createElement("img");return u.style.position="absolute",u.style.left=0,u.style.top=0,u.style.opacity=0,u.style.transition="opacity linear 300ms",e.appendChild(i=u),u.onload=function(){if(u==i){o.style.opacity=0,u.style.opacity=1;for(var t=r.splice(0,r.length),n=0;n<t.length;n++)t[n].style.opacity=0;setTimeout(function(){for(var n=0;n<t.length;n++)e.removeChild(t[n]);a.resolve()},300)}},u.onerror=function(){a.reject()},u.src=c,a}var i=null,r=[];this.Render=function(e){return t(e)},this.Reset=function(){null!=i&&(e.removeChild(i),i=null)}}(r);var c=null;"number"==typeof t.containerAspectRatio&&(c=t.containerAspectRatio);var u=0,h=0;this.ResizeRenderArea=function(){if(r.clientWidth!=u){if(u=r.clientWidth,l.width=u,null!=c){var e=Math.round(u*c);r.style.height=e-200+"px",l.height=e}s&&(clearTimeout(h),h=setTimeout(function(){a.Render(l)},150))}},!1!==t.responsive&&(setInterval(this.ResizeRenderArea,100),this.ResizeRenderArea()),this.Update=function(e){s=!0,(e=function(e){var t={};if("string"==typeof e){var n=e.split("?");n=(1==n.length?n[0]:n[1]).split("&");for(var i=0;i<n.length;i++){var r=n[i].split("="),o=decodeURIComponent(r[0]).toLowerCase();"key"!=o&&"token"!=o&&(t[o]=decodeURIComponent(r[1]))}}else for(var a in e)t[a.toLowerCase()]=e[a];return t}(e)).width=r.clientWidth,e.height=r.clientHeight;var t=!1;for(var n in e){var i=l[n],o=e[n];i!=o&&(l[n]=o,t=!0)}if(0==t){var c=ridestyler.promise();return c.resolve(),c}return a.Render(l)},this.Reset=function(){l={},"function"==typeof a.Reset&&a.Reset()}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}!function(e){"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?module.exports=e():window.noUiSlider=e()}(function(){"use strict";function e(e){e.preventDefault()}function t(e){return"number"==typeof e&&!isNaN(e)&&isFinite(e)}function n(e,t,n){n>0&&(o(e,t),setTimeout(function(){a(e,t)},n))}function i(e){return Array.isArray(e)?e:[e]}function r(e){var t=(e=String(e)).split(".");return t.length>1?t[1].length:0}function o(e,t){e.classList?e.classList.add(t):e.className+=" "+t}function a(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")}function s(e){var t=void 0!==window.pageXOffset,n="CSS1Compat"===(e.compatMode||"");return{x:t?window.pageXOffset:n?e.documentElement.scrollLeft:e.body.scrollLeft,y:t?window.pageYOffset:n?e.documentElement.scrollTop:e.body.scrollTop}}function l(e,t){return 100/(t-e)}function c(e,t){return 100*t/(e[1]-e[0])}function u(e,t){for(var n=1;e>=t[n];)n+=1;return n}function h(e,t,n){if(n>=e.slice(-1)[0])return 100;var i,r,o,a,s=u(n,e);return i=e[s-1],r=e[s],o=t[s-1],a=t[s],o+function(e,t){return c(e,e[0]<0?t+Math.abs(e[0]):t-e[0])}([i,r],n)/l(o,a)}function p(e,t,n,i){if(100===i)return i;var r,o,a=u(i,e);return n?(r=e[a-1],o=e[a],i-r>(o-r)/2?o:r):t[a-1]?e[a-1]+function(e,t){return Math.round(e/t)*t}(i-e[a-1],t[a-1]):i}function f(e,n,i){var r;if("number"==typeof n&&(n=[n]),"[object Array]"!==Object.prototype.toString.call(n))throw new Error("noUiSlider ("+j+"): 'range' contains invalid value.");if(r="min"===e?0:"max"===e?100:parseFloat(e),!t(r)||!t(n[0]))throw new Error("noUiSlider ("+j+"): 'range' value isn't numeric.");i.xPct.push(r),i.xVal.push(n[0]),r?i.xSteps.push(!isNaN(n[1])&&n[1]):isNaN(n[1])||(i.xSteps[0]=n[1]),i.xHighestCompleteStep.push(0)}function d(e,t,n){if(!t)return!0;n.xSteps[e]=c([n.xVal[e],n.xVal[e+1]],t)/l(n.xPct[e],n.xPct[e+1]);var i=(n.xVal[e+1]-n.xVal[e])/n.xNumSteps[e],r=Math.ceil(Number(i.toFixed(3))-1),o=n.xVal[e]+n.xNumSteps[e]*r;n.xHighestCompleteStep[e]=o}function v(e,t,n){this.xPct=[],this.xVal=[],this.xSteps=[n||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=t;var i,r=[];for(i in e)e.hasOwnProperty(i)&&r.push([e[i],i]);for(r.length&&"object"==typeof r[0][0]?r.sort(function(e,t){return e[0][0]-t[0][0]}):r.sort(function(e,t){return e[0]-t[0]}),i=0;i<r.length;i++)f(r[i][1],r[i][0],this);for(this.xNumSteps=this.xSteps.slice(0),i=0;i<this.xNumSteps.length;i++)d(i,this.xNumSteps[i],this)}function m(e){if(function(e){return"object"==typeof e&&"function"==typeof e.to&&"function"==typeof e.from}(e))return!0;throw new Error("noUiSlider ("+j+"): 'format' requires 'to' and 'from' methods.")}function y(e,n){if(!t(n))throw new Error("noUiSlider ("+j+"): 'step' is not numeric.");e.singleStep=n}function g(e,t){if("object"!=typeof t||Array.isArray(t))throw new Error("noUiSlider ("+j+"): 'range' is not an object.");if(void 0===t.min||void 0===t.max)throw new Error("noUiSlider ("+j+"): Missing 'min' or 'max' in 'range'.");if(t.min===t.max)throw new Error("noUiSlider ("+j+"): 'range' 'min' and 'max' cannot be equal.");e.spectrum=new v(t,e.snap,e.singleStep)}function b(e,t){if(t=i(t),!Array.isArray(t)||!t.length)throw new Error("noUiSlider ("+j+"): 'start' option is incorrect.");e.handles=t.length,e.start=t}function C(e,t){if(e.snap=t,"boolean"!=typeof t)throw new Error("noUiSlider ("+j+"): 'snap' option must be a boolean.")}function w(e,t){if(e.animate=t,"boolean"!=typeof t)throw new Error("noUiSlider ("+j+"): 'animate' option must be a boolean.")}function A(e,t){if(e.animationDuration=t,"number"!=typeof t)throw new Error("noUiSlider ("+j+"): 'animationDuration' option must be a number.")}function S(e,t){var n,i=[!1];if("lower"===t?t=[!0,!1]:"upper"===t&&(t=[!1,!0]),!0===t||!1===t){for(n=1;n<e.handles;n++)i.push(t);i.push(!1)}else{if(!Array.isArray(t)||!t.length||t.length!==e.handles+1)throw new Error("noUiSlider ("+j+"): 'connect' option doesn't match handle count.");i=t}e.connect=i}function E(e,t){switch(t){case"horizontal":e.ort=0;break;case"vertical":e.ort=1;break;default:throw new Error("noUiSlider ("+j+"): 'orientation' option is invalid.")}}function k(e,n){if(!t(n))throw new Error("noUiSlider ("+j+"): 'margin' option must be numeric.");if(0!==n&&(e.margin=e.spectrum.getMargin(n),!e.margin))throw new Error("noUiSlider ("+j+"): 'margin' option is only supported on linear sliders.")}function I(e,n){if(!t(n))throw new Error("noUiSlider ("+j+"): 'limit' option must be numeric.");if(e.limit=e.spectrum.getMargin(n),!e.limit||e.handles<2)throw new Error("noUiSlider ("+j+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function T(e,n){if(!t(n))throw new Error("noUiSlider ("+j+"): 'padding' option must be numeric.");if(0!==n){if(e.padding=e.spectrum.getMargin(n),!e.padding)throw new Error("noUiSlider ("+j+"): 'padding' option is only supported on linear sliders.");if(e.padding<0)throw new Error("noUiSlider ("+j+"): 'padding' option must be a positive number.");if(e.padding>=50)throw new Error("noUiSlider ("+j+"): 'padding' option must be less than half the range.")}}function O(e,t){switch(t){case"ltr":e.dir=0;break;case"rtl":e.dir=1;break;default:throw new Error("noUiSlider ("+j+"): 'direction' option was not recognized.")}}function L(e,t){if("string"!=typeof t)throw new Error("noUiSlider ("+j+"): 'behaviour' must be a string containing options.");var n=t.indexOf("tap")>=0,i=t.indexOf("drag")>=0,r=t.indexOf("fixed")>=0,o=t.indexOf("snap")>=0,a=t.indexOf("hover")>=0;if(r){if(2!==e.handles)throw new Error("noUiSlider ("+j+"): 'fixed' behaviour must be used with 2 handles");k(e,e.start[1]-e.start[0])}e.events={tap:n||o,drag:i,fixed:r,snap:o,hover:a}}function _(e,t){if(e.multitouch=t,"boolean"!=typeof t)throw new Error("noUiSlider ("+j+"): 'multitouch' option must be a boolean.")}function H(e,t){if(!1!==t)if(!0===t){e.tooltips=[];for(var n=0;n<e.handles;n++)e.tooltips.push(!0)}else{if(e.tooltips=i(t),e.tooltips.length!==e.handles)throw new Error("noUiSlider ("+j+"): must pass a formatter for all handles.");e.tooltips.forEach(function(e){if("boolean"!=typeof e&&("object"!=typeof e||"function"!=typeof e.to))throw new Error("noUiSlider ("+j+"): 'tooltips' must be passed a formatter or 'false'.")})}}function R(e,t){e.ariaFormat=t,m(t)}function M(e,t){e.format=t,m(t)}function B(e,t){if(void 0!==t&&"string"!=typeof t&&!1!==t)throw new Error("noUiSlider ("+j+"): 'cssPrefix' must be a string or `false`.");e.cssPrefix=t}function x(e,t){if(void 0!==t&&"object"!=typeof t)throw new Error("noUiSlider ("+j+"): 'cssClasses' must be an object.");if("string"==typeof e.cssPrefix){e.cssClasses={};for(var n in t)t.hasOwnProperty(n)&&(e.cssClasses[n]=e.cssPrefix+t[n])}else e.cssClasses=t}function D(e,t){if(!0!==t&&!1!==t)throw new Error("noUiSlider ("+j+"): 'useRequestAnimationFrame' option should be true (default) or false.");e.useRequestAnimationFrame=t}function P(e){var t={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:N,format:N},n={step:{r:!1,t:y},start:{r:!0,t:b},connect:{r:!0,t:S},direction:{r:!0,t:O},snap:{r:!1,t:C},animate:{r:!1,t:w},animationDuration:{r:!1,t:A},range:{r:!0,t:g},orientation:{r:!1,t:E},margin:{r:!1,t:k},limit:{r:!1,t:I},padding:{r:!1,t:T},behaviour:{r:!0,t:L},multitouch:{r:!0,t:_},ariaFormat:{r:!1,t:R},format:{r:!1,t:M},tooltips:{r:!1,t:H},cssPrefix:{r:!1,t:B},cssClasses:{r:!1,t:x},useRequestAnimationFrame:{r:!1,t:D}},i={connect:!1,direction:"ltr",behaviour:"tap",multitouch:!1,orientation:"horizontal",cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},useRequestAnimationFrame:!0};e.format&&!e.ariaFormat&&(e.ariaFormat=e.format),Object.keys(n).forEach(function(r){if(void 0===e[r]&&void 0===i[r]){if(n[r].r)throw new Error("noUiSlider ("+j+"): '"+r+"' is required.");return!0}n[r].t(t,void 0===e[r]?i[r]:e[r])}),t.pips=e.pips;var r=[["left","top"],["right","bottom"]];return t.style=r[t.dir][t.ort],t.styleOposite=r[t.dir?0:1][t.ort],t}function F(t,r,l){function c(e,t){var n=Z.createElement("div");return t&&o(n,t),e.appendChild(n),n}function u(e,t){var n=c(e,r.cssClasses.origin),i=c(n,r.cssClasses.handle);return i.setAttribute("data-handle",t),i.setAttribute("tabindex","0"),i.setAttribute("role","slider"),i.setAttribute("aria-orientation",r.ort?"vertical":"horizontal"),0===t?o(i,r.cssClasses.handleLower):t===r.handles-1&&o(i,r.cssClasses.handleUpper),n}function h(e,t){return!!t&&c(e,r.cssClasses.connect)}function p(e,t){return!!r.tooltips[t]&&c(e.firstChild,r.cssClasses.tooltip)}function f(e,t,n){function i(e,t){var n=t===r.cssClasses.value,i=n?s:l;return t+" "+(n?u:h)[r.ort]+" "+i[e]}var a=Z.createElement("div"),s=[r.cssClasses.valueNormal,r.cssClasses.valueLarge,r.cssClasses.valueSub],l=[r.cssClasses.markerNormal,r.cssClasses.markerLarge,r.cssClasses.markerSub],u=[r.cssClasses.valueHorizontal,r.cssClasses.valueVertical],h=[r.cssClasses.markerHorizontal,r.cssClasses.markerVertical];return o(a,r.cssClasses.pips),o(a,0===r.ort?r.cssClasses.pipsHorizontal:r.cssClasses.pipsVertical),Object.keys(e).forEach(function(o){!function(e,o){o[1]=o[1]&&t?t(o[0],o[1]):o[1];var s=c(a,!1);s.className=i(o[1],r.cssClasses.marker),s.style[r.style]=e+"%",o[1]&&((s=c(a,!1)).className=i(o[1],r.cssClasses.value),s.style[r.style]=e+"%",s.innerText=n.to(o[0]))}(o,e[o])}),a}function d(){V&&(!function(e){e.parentElement.removeChild(e)}(V),V=null)}function v(e){d();var t=e.mode,n=e.density||1,i=e.filter||!1,r=function(e,t,n){function i(e,t){return(e+t).toFixed(7)/1}var r={},o=J.xVal[0],a=J.xVal[J.xVal.length-1],s=!1,l=!1,c=0;return(n=n.slice().sort(function(e,t){return e-t}).filter(function(e){return!this[e]&&(this[e]=!0)},{}))[0]!==o&&(n.unshift(o),s=!0),n[n.length-1]!==a&&(n.push(a),l=!0),n.forEach(function(o,a){var u,h,p,f,d,v,m,y,g,b=o,C=n[a+1];if("steps"===t&&(u=J.xNumSteps[a]),u||(u=C-b),!1!==b&&void 0!==C)for(u=Math.max(u,1e-7),h=b;h<=C;h=i(h,u)){for(m=(d=(f=J.toStepping(h))-c)/e,g=d/(y=Math.round(m)),p=1;p<=y;p+=1)r[(c+p*g).toFixed(5)]=["x",0];v=n.indexOf(h)>-1?1:"steps"===t?2:0,!a&&s&&(v=0),h===C&&l||(r[f.toFixed(5)]=[h,v]),c=f}}),r}(n,t,function(e,t,n){if("range"===e||"steps"===e)return J.xVal;if("count"===e){if(!t)throw new Error("noUiSlider ("+j+"): 'values' required for mode 'count'.");var i,r=100/(t-1),o=0;for(t=[];(i=o++*r)<=100;)t.push(i);e="positions"}return"positions"===e?t.map(function(e){return J.fromStepping(n?J.getStep(e):e)}):"values"===e?n?t.map(function(e){return J.fromStepping(J.getStep(J.toStepping(e)))}):t:void 0}(t,e.values||!1,e.stepped||!1)),o=e.format||{to:Math.round};return V=K.appendChild(f(r,i,o))}function m(){var e=D.getBoundingClientRect(),t="offset"+["Width","Height"][r.ort];return 0===r.ort?e.width||D[t]:e.height||D[t]}function y(e,t,n,i){var o=function(o){return!K.hasAttribute("disabled")&&(!function(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)}(K,r.cssClasses.tap)&&(!!(o=function(e,t,n){var i,o,a=0===e.type.indexOf("touch"),l=0===e.type.indexOf("mouse"),c=0===e.type.indexOf("pointer");0===e.type.indexOf("MSPointer")&&(c=!0);if(a&&r.multitouch){var u=function(e){return e.target===n||n.contains(e.target)};if("touchstart"===e.type){var h=Array.prototype.filter.call(e.touches,u);if(h.length>1)return!1;i=h[0].pageX,o=h[0].pageY}else{var p=Array.prototype.find.call(e.changedTouches,u);if(!p)return!1;i=p.pageX,o=p.pageY}}else if(a){if(e.touches.length>1)return!1;i=e.changedTouches[0].pageX,o=e.changedTouches[0].pageY}t=t||s(Z),(l||c)&&(i=e.clientX+t.x,o=e.clientY+t.y);return e.pageOffset=t,e.points=[i,o],e.cursor=l||c,e}(o,i.pageOffset,i.target||t))&&(!(e===U.start&&void 0!==o.buttons&&o.buttons>1)&&((!i.hover||!o.buttons)&&(W||o.preventDefault(),o.calcPoint=o.points[r.ort],void n(o,i))))))},a=[];return e.split(" ").forEach(function(e){t.addEventListener(e,o,!!W&&{passive:!0}),a.push([e,o])}),a}function g(e){var t=100*(e-function(e,t){var n=e.getBoundingClientRect(),i=e.ownerDocument,r=i.documentElement,o=s(i);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(o.x=0),t?n.top+o.y-r.clientTop:n.left+o.x-r.clientLeft}(D,r.ort))/m();return r.dir?100-t:t}function b(e,t,n,i){var r=n.slice(),o=[!e,e],a=[e,!e];i=i.slice(),e&&i.reverse(),i.length>1?i.forEach(function(e,n){var i=T(r,e,r[e]+t,o[n],a[n],!1);!1===i?t=0:(t=i-r[e],r[e]=i)}):o=a=[!0];var s=!1;i.forEach(function(e,i){s=_(e,n[e]+t,o[i],a[i])||s}),s&&i.forEach(function(e){C("update",e),C("slide",e)})}function C(e,t,n){Object.keys(X).forEach(function(i){var o=i.split(".")[0];e===o&&X[i].forEach(function(e){e.call(Q,q.map(r.format.to),t,q.slice(),n||!1,z.slice())})})}function w(e,t){"mouseout"===e.type&&"HTML"===e.target.nodeName&&null===e.relatedTarget&&S(e,t)}function A(e,t){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===e.buttons&&0!==t.buttonsProperty)return S(e,t);var n=(r.dir?-1:1)*(e.calcPoint-t.startCalcPoint);b(n>0,100*n/t.baseSize,t.locations,t.handleNumbers)}function S(t,n){n.handle&&(a(n.handle,r.cssClasses.active),G-=1),n.listeners.forEach(function(e){$.removeEventListener(e[0],e[1])}),0===G&&(a(K,r.cssClasses.drag),L(),t.cursor&&(ee.style.cursor="",ee.removeEventListener("selectstart",e))),n.handleNumbers.forEach(function(e){C("change",e),C("set",e),C("end",e)})}function E(t,n){var i;if(1===n.handleNumbers.length){var a=F[n.handleNumbers[0]];if(a.hasAttribute("disabled"))return!1;i=a.children[0],G+=1,o(i,r.cssClasses.active)}t.stopPropagation();var s=[],l=y(U.move,$,A,{target:t.target,handle:i,listeners:s,startCalcPoint:t.calcPoint,baseSize:m(),pageOffset:t.pageOffset,handleNumbers:n.handleNumbers,buttonsProperty:t.buttons,locations:z.slice()}),c=y(U.end,$,S,{target:t.target,handle:i,listeners:s,handleNumbers:n.handleNumbers}),u=y("mouseout",$,w,{target:t.target,handle:i,listeners:s,handleNumbers:n.handleNumbers});s.push.apply(s,l.concat(c,u)),t.cursor&&(ee.style.cursor=getComputedStyle(t.target).cursor,F.length>1&&o(K,r.cssClasses.drag),ee.addEventListener("selectstart",e,!1)),n.handleNumbers.forEach(function(e){C("start",e)})}function k(e){e.stopPropagation();var t=g(e.calcPoint),i=function(e){var t=100,n=!1;return F.forEach(function(i,r){if(!i.hasAttribute("disabled")){var o=Math.abs(z[r]-e);o<t&&(n=r,t=o)}}),n}(t);if(!1===i)return!1;r.events.snap||n(K,r.cssClasses.tap,r.animationDuration),_(i,t,!0,!0),L(),C("slide",i,!0),C("update",i,!0),C("change",i,!0),C("set",i,!0),r.events.snap&&E(e,{handleNumbers:[i]})}function I(e){var t=g(e.calcPoint),n=J.getStep(t),i=J.fromStepping(n);Object.keys(X).forEach(function(e){"hover"===e.split(".")[0]&&X[e].forEach(function(e){e.call(Q,i)})})}function T(e,t,n,i,o,a){return F.length>1&&(i&&t>0&&(n=Math.max(n,e[t-1]+r.margin)),o&&t<F.length-1&&(n=Math.min(n,e[t+1]-r.margin))),F.length>1&&r.limit&&(i&&t>0&&(n=Math.min(n,e[t-1]+r.limit)),o&&t<F.length-1&&(n=Math.max(n,e[t+1]-r.limit))),r.padding&&(0===t&&(n=Math.max(n,r.padding)),t===F.length-1&&(n=Math.min(n,100-r.padding))),n=J.getStep(n),!((n=function(e){return Math.max(Math.min(e,100),0)}(n))===e[t]&&!a)&&n}function O(e){return e+"%"}function L(){Y.forEach(function(e){var t=z[e]>50?-1:1,n=3+(F.length+t*e);F[e].childNodes[0].style.zIndex=n})}function _(e,t,n,i){return!1!==(t=T(z,e,t,n,i,!1))&&(function(e,t){z[e]=t,q[e]=J.fromStepping(t);var n=function(){F[e].style[r.style]=O(t),H(e),H(e+1)};window.requestAnimationFrame&&r.useRequestAnimationFrame?window.requestAnimationFrame(n):n()}(e,t),!0)}function H(e){if(N[e]){var t=0,n=100;0!==e&&(t=z[e-1]),e!==N.length-1&&(n=z[e]),N[e].style[r.style]=O(t),N[e].style[r.styleOposite]=O(100-n)}}function R(e,t){null!==e&&!1!==e&&("number"==typeof e&&(e=String(e)),!1===(e=r.format.from(e))||isNaN(e)||_(t,J.toStepping(e),!1,!1))}function M(e,t){var o=i(e),a=void 0===z[0];t=void 0===t||!!t,o.forEach(R),r.animate&&!a&&n(K,r.cssClasses.tap,r.animationDuration),Y.forEach(function(e){_(e,z[e],!0,!1)}),L(),Y.forEach(function(e){C("update",e),null!==o[e]&&t&&C("set",e)})}function B(){var e=q.map(r.format.to);return 1===e.length?e[0]:e}function x(e,t){X[e]=X[e]||[],X[e].push(t),"update"===e.split(".")[0]&&F.forEach(function(e,t){C("update",t)})}var D,F,N,Q,V,U=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},W=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),K=t,z=[],Y=[],G=0,J=r.spectrum,q=[],X={},Z=t.ownerDocument,$=Z.documentElement,ee=Z.body;if(K.noUiSlider)throw new Error("noUiSlider ("+j+"): Slider was already initialized.");return function(e){o(e,r.cssClasses.target),0===r.dir?o(e,r.cssClasses.ltr):o(e,r.cssClasses.rtl),0===r.ort?o(e,r.cssClasses.horizontal):o(e,r.cssClasses.vertical),D=c(e,r.cssClasses.base)}(K),function(e,t){F=[],(N=[]).push(h(t,e[0]));for(var n=0;n<r.handles;n++)F.push(u(t,n)),Y[n]=n,N.push(h(t,e[n+1]))}(r.connect,D),Q={destroy:function(){for(var e in r.cssClasses)r.cssClasses.hasOwnProperty(e)&&a(K,r.cssClasses[e]);for(;K.firstChild;)K.removeChild(K.firstChild);delete K.noUiSlider},steps:function(){return z.map(function(e,t){var n=J.getNearbySteps(e),i=q[t],r=n.thisStep.step,o=null;!1!==r&&i+r>n.stepAfter.startValue&&(r=n.stepAfter.startValue-i),o=i>n.thisStep.startValue?n.thisStep.step:!1!==n.stepBefore.step&&i-n.stepBefore.highestStep,100===e?r=null:0===e&&(o=null);var a=J.countStepDecimals();return null!==r&&!1!==r&&(r=Number(r.toFixed(a))),null!==o&&!1!==o&&(o=Number(o.toFixed(a))),[o,r]})},on:x,off:function(e){var t=e&&e.split(".")[0],n=t&&e.substring(t.length);Object.keys(X).forEach(function(e){var i=e.split(".")[0],r=e.substring(i.length);t&&t!==i||n&&n!==r||delete X[e]})},get:B,set:M,reset:function(e){M(r.start,e)},__moveHandles:function(e,t,n){b(e,t,z,n)},options:l,updateOptions:function(e,t){var n=B(),i=["margin","limit","padding","range","animate","snap","step","format"];i.forEach(function(t){void 0!==e[t]&&(l[t]=e[t])});var o=P(l);i.forEach(function(t){void 0!==e[t]&&(r[t]=o[t])}),J=o.spectrum,r.margin=o.margin,r.limit=o.limit,r.padding=o.padding,r.pips&&v(r.pips),z=[],M(e.start||n,t)},target:K,removePips:d,pips:v},function(e){e.fixed||F.forEach(function(e,t){y(U.start,e.children[0],E,{handleNumbers:[t]})}),e.tap&&y(U.start,D,k,{}),e.hover&&y(U.move,D,I,{hover:!0}),e.drag&&N.forEach(function(t,n){if(!1!==t&&0!==n&&n!==N.length-1){var i=F[n-1],a=F[n],s=[t];o(t,r.cssClasses.draggable),e.fixed&&(s.push(i.children[0]),s.push(a.children[0])),s.forEach(function(e){y(U.start,e,E,{handles:[i,a],handleNumbers:[n-1,n]})})}})}(r.events),M(r.start),r.pips&&v(r.pips),r.tooltips&&function(){var e=F.map(p);x("update",function(t,n,i){if(e[n]){var o=t[n];!0!==r.tooltips[n]&&(o=r.tooltips[n].to(i[n])),e[n].innerHTML=o}})}(),x("update",function(e,t,n,i,o){Y.forEach(function(e){var t=F[e],i=T(z,e,0,!0,!0,!0),a=T(z,e,100,!0,!0,!0),s=o[e],l=r.ariaFormat.to(n[e]);t.children[0].setAttribute("aria-valuemin",i.toFixed(1)),t.children[0].setAttribute("aria-valuemax",a.toFixed(1)),t.children[0].setAttribute("aria-valuenow",s.toFixed(1)),t.children[0].setAttribute("aria-valuetext",l)})}),Q}var j="10.1.0";v.prototype.getMargin=function(e){var t=this.xNumSteps[0];if(t&&e/t%1!=0)throw new Error("noUiSlider ("+j+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&c(this.xVal,e)},v.prototype.toStepping=function(e){return e=h(this.xVal,this.xPct,e)},v.prototype.fromStepping=function(e){return function(e,t,n){if(n>=100)return e.slice(-1)[0];var i,r,o,a,s=u(n,t);return i=e[s-1],r=e[s],o=t[s-1],a=t[s],function(e,t){return(n-o)*l(o,a)*(e[1]-e[0])/100+e[0]}([i,r])}(this.xVal,this.xPct,e)},v.prototype.getStep=function(e){return e=p(this.xPct,this.xSteps,this.snap,e)},v.prototype.getNearbySteps=function(e){var t=u(e,this.xPct);return{stepBefore:{startValue:this.xVal[t-2],step:this.xNumSteps[t-2],highestStep:this.xHighestCompleteStep[t-2]},thisStep:{startValue:this.xVal[t-1],step:this.xNumSteps[t-1],highestStep:this.xHighestCompleteStep[t-1]},stepAfter:{startValue:this.xVal[t-0],step:this.xNumSteps[t-0],highestStep:this.xHighestCompleteStep[t-0]}}},v.prototype.countStepDecimals=function(){var e=this.xNumSteps.map(r);return Math.max.apply(null,e)},v.prototype.convert=function(e){return this.getStep(this.toStepping(e))};var N={to:function(e){return void 0!==e&&e.toFixed(2)},from:Number};return{version:j,create:function(e,t){if(!e||!e.nodeName)throw new Error("noUiSlider ("+j+"): create requires a single element, got: "+e);var n=F(e,P(t),t);return e.noUiSlider=n,n}}});var QRCode;!function(){function e(e){this.mode=s.MODE_8BIT_BYTE,this.data=e,this.parsedData=[];for(var t=0,n=this.data.length;t<n;t++){var i=[],r=this.data.charCodeAt(t);r>65536?(i[0]=240|(1835008&r)>>>18,i[1]=128|(258048&r)>>>12,i[2]=128|(4032&r)>>>6,i[3]=128|63&r):r>2048?(i[0]=224|(61440&r)>>>12,i[1]=128|(4032&r)>>>6,i[2]=128|63&r):r>128?(i[0]=192|(1984&r)>>>6,i[1]=128|63&r):i[0]=r,this.parsedData.push(i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function t(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function n(e,t){if(void 0==e.length)throw new Error(e.length+"/"+t);for(var n=0;n<e.length&&0==e[n];)n++;this.num=new Array(e.length-n+t);for(var i=0;i<e.length-n;i++)this.num[i]=e[i+n]}function i(e,t){this.totalCount=e,this.dataCount=t}function r(){this.buffer=[],this.length=0}function o(){var e=!1,t=navigator.userAgent;if(/android/i.test(t)){e=!0;var n=t.toString().match(/android ([0-9]\.[0-9])/i);n&&n[1]&&(e=parseFloat(n[1]))}return e}function a(e,t){for(var n=1,i=function(e){var t=encodeURI(e).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return t.length+(t.length!=e?3:0)}(e),r=0,o=C.length;r<=o;r++){var a=0;switch(t){case l.L:a=C[r][0];break;case l.M:a=C[r][1];break;case l.Q:a=C[r][2];break;case l.H:a=C[r][3]}if(i<=a)break;n++}if(n>C.length)throw new Error("Too long data");return n}e.prototype={getLength:function(e){return this.parsedData.length},write:function(e){for(var t=0,n=this.parsedData.length;t<n;t++)e.put(this.parsedData[t],8)}},t.prototype={addData:function(t){var n=new e(t);this.dataList.push(n),this.dataCache=null},isDark:function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(e,n){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var i=0;i<this.moduleCount;i++){this.modules[i]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[i][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,n),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=t.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,n)},setupPositionProbePattern:function(e,t){for(var n=-1;n<=7;n++)if(!(e+n<=-1||this.moduleCount<=e+n))for(var i=-1;i<=7;i++)t+i<=-1||this.moduleCount<=t+i||(this.modules[e+n][t+i]=0<=n&&n<=6&&(0==i||6==i)||0<=i&&i<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=i&&i<=4)},getBestMaskPattern:function(){for(var e=0,t=0,n=0;n<8;n++){this.makeImpl(!0,n);var i=y.getLostPoint(this);(0==n||e>i)&&(e=i,t=n)}return t},createMovieClip:function(e,t,n){var i=e.createEmptyMovieClip(t,n);this.make();for(var r=0;r<this.modules.length;r++)for(var o=1*r,a=0;a<this.modules[r].length;a++){var s=1*a;this.modules[r][a]&&(i.beginFill(0,100),i.moveTo(s,o),i.lineTo(s+1,o),i.lineTo(s+1,o+1),i.lineTo(s,o+1),i.endFill())}return i},setupTimingPattern:function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupPositionAdjustPattern:function(){for(var e=y.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var n=0;n<e.length;n++){var i=e[t],r=e[n];if(null==this.modules[i][r])for(var o=-2;o<=2;o++)for(var a=-2;a<=2;a++)this.modules[i+o][r+a]=-2==o||2==o||-2==a||2==a||0==o&&0==a}},setupTypeNumber:function(e){for(var t=y.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){i=!e&&1==(t>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=i}for(n=0;n<18;n++){var i=!e&&1==(t>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=i}},setupTypeInfo:function(e,t){for(var n=this.errorCorrectLevel<<3|t,i=y.getBCHTypeInfo(n),r=0;r<15;r++){o=!e&&1==(i>>r&1);r<6?this.modules[r][8]=o:r<8?this.modules[r+1][8]=o:this.modules[this.moduleCount-15+r][8]=o}for(r=0;r<15;r++){var o=!e&&1==(i>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=o:r<9?this.modules[8][15-r-1+1]=o:this.modules[8][15-r-1]=o}this.modules[this.moduleCount-8][8]=!e},mapData:function(e,t){for(var n=-1,i=this.moduleCount-1,r=7,o=0,a=this.moduleCount-1;a>0;a-=2)for(6==a&&a--;;){for(var s=0;s<2;s++)if(null==this.modules[i][a-s]){var l=!1;o<e.length&&(l=1==(e[o]>>>r&1));y.getMask(t,i,a-s)&&(l=!l),this.modules[i][a-s]=l,-1==--r&&(o++,r=7)}if((i+=n)<0||this.moduleCount<=i){i-=n,n=-n;break}}}},t.PAD0=236,t.PAD1=17,t.createData=function(e,n,o){for(var a=i.getRSBlocks(e,n),s=new r,l=0;l<o.length;l++){var c=o[l];s.put(c.mode,4),s.put(c.getLength(),y.getLengthInBits(c.mode,e)),c.write(s)}for(var u=0,l=0;l<a.length;l++)u+=a[l].dataCount;if(s.getLengthInBits()>8*u)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*u+")");for(s.getLengthInBits()+4<=8*u&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;;){if(s.getLengthInBits()>=8*u)break;if(s.put(t.PAD0,8),s.getLengthInBits()>=8*u)break;s.put(t.PAD1,8)}return t.createBytes(s,a)},t.createBytes=function(e,t){for(var i=0,r=0,o=0,a=new Array(t.length),s=new Array(t.length),l=0;l<t.length;l++){var c=t[l].dataCount,u=t[l].totalCount-c;r=Math.max(r,c),o=Math.max(o,u),a[l]=new Array(c);for(v=0;v<a[l].length;v++)a[l][v]=255&e.buffer[v+i];i+=c;var h=y.getErrorCorrectPolynomial(u),p=new n(a[l],h.getLength()-1).mod(h);s[l]=new Array(h.getLength()-1);for(v=0;v<s[l].length;v++){var f=v+p.getLength()-s[l].length;s[l][v]=f>=0?p.get(f):0}}for(var d=0,v=0;v<t.length;v++)d+=t[v].totalCount;for(var m=new Array(d),g=0,v=0;v<r;v++)for(l=0;l<t.length;l++)v<a[l].length&&(m[g++]=a[l][v]);for(v=0;v<o;v++)for(l=0;l<t.length;l++)v<s[l].length&&(m[g++]=s[l][v]);return m};for(var s={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l={L:1,M:0,Q:3,H:2},c=0,u=1,h=2,p=3,f=4,d=5,v=6,m=7,y={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;y.getBCHDigit(t)-y.getBCHDigit(y.G15)>=0;)t^=y.G15<<y.getBCHDigit(t)-y.getBCHDigit(y.G15);return(e<<10|t)^y.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;y.getBCHDigit(t)-y.getBCHDigit(y.G18)>=0;)t^=y.G18<<y.getBCHDigit(t)-y.getBCHDigit(y.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return y.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,n){switch(e){case c:return(t+n)%2==0;case u:return t%2==0;case h:return n%3==0;case p:return(t+n)%3==0;case f:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case d:return t*n%2+t*n%3==0;case v:return(t*n%2+t*n%3)%2==0;case m:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var t=new n([1],0),i=0;i<e;i++)t=t.multiply(new n([1,g.gexp(i)],0));return t},getLengthInBits:function(e,t){if(1<=t&&t<10)switch(e){case s.MODE_NUMBER:return 10;case s.MODE_ALPHA_NUM:return 9;case s.MODE_8BIT_BYTE:case s.MODE_KANJI:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case s.MODE_NUMBER:return 12;case s.MODE_ALPHA_NUM:return 11;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case s.MODE_NUMBER:return 14;case s.MODE_ALPHA_NUM:return 13;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 12;default:throw new Error("mode:"+e)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),n=0,i=0;i<t;i++)for(u=0;u<t;u++){for(var r=0,o=e.isDark(i,u),a=-1;a<=1;a++)if(!(i+a<0||t<=i+a))for(var s=-1;s<=1;s++)u+s<0||t<=u+s||0==a&&0==s||o==e.isDark(i+a,u+s)&&r++;r>5&&(n+=3+r-5)}for(i=0;i<t-1;i++)for(u=0;u<t-1;u++){var l=0;e.isDark(i,u)&&l++,e.isDark(i+1,u)&&l++,e.isDark(i,u+1)&&l++,e.isDark(i+1,u+1)&&l++,0!=l&&4!=l||(n+=3)}for(i=0;i<t;i++)for(u=0;u<t-6;u++)e.isDark(i,u)&&!e.isDark(i,u+1)&&e.isDark(i,u+2)&&e.isDark(i,u+3)&&e.isDark(i,u+4)&&!e.isDark(i,u+5)&&e.isDark(i,u+6)&&(n+=40);for(u=0;u<t;u++)for(i=0;i<t-6;i++)e.isDark(i,u)&&!e.isDark(i+1,u)&&e.isDark(i+2,u)&&e.isDark(i+3,u)&&e.isDark(i+4,u)&&!e.isDark(i+5,u)&&e.isDark(i+6,u)&&(n+=40);for(var c=0,u=0;u<t;u++)for(i=0;i<t;i++)e.isDark(i,u)&&c++;return n+=10*(Math.abs(100*c/t/t-50)/5)}},g={glog:function(e){if(e<1)throw new Error("glog("+e+")");return g.LOG_TABLE[e]},gexp:function(e){for(;e<0;)e+=255;for(;e>=256;)e-=255;return g.EXP_TABLE[e]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},b=0;b<8;b++)g.EXP_TABLE[b]=1<<b;for(b=8;b<256;b++)g.EXP_TABLE[b]=g.EXP_TABLE[b-4]^g.EXP_TABLE[b-5]^g.EXP_TABLE[b-6]^g.EXP_TABLE[b-8];for(b=0;b<255;b++)g.LOG_TABLE[g.EXP_TABLE[b]]=b;n.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(e){for(var t=new Array(this.getLength()+e.getLength()-1),i=0;i<this.getLength();i++)for(var r=0;r<e.getLength();r++)t[i+r]^=g.gexp(g.glog(this.get(i))+g.glog(e.get(r)));return new n(t,0)},mod:function(e){if(this.getLength()-e.getLength()<0)return this;for(var t=g.glog(this.get(0))-g.glog(e.get(0)),i=new Array(this.getLength()),r=0;r<this.getLength();r++)i[r]=this.get(r);for(r=0;r<e.getLength();r++)i[r]^=g.gexp(g.glog(e.get(r))+t);return new n(i,0).mod(e)}},i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],i.getRSBlocks=function(e,t){var n=i.getRsBlockTable(e,t);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+t);for(var r=n.length/3,o=[],a=0;a<r;a++)for(var s=n[3*a+0],l=n[3*a+1],c=n[3*a+2],u=0;u<s;u++)o.push(new i(l,c));return o},i.getRsBlockTable=function(e,t){switch(t){case l.L:return i.RS_BLOCK_TABLE[4*(e-1)+0];case l.M:return i.RS_BLOCK_TABLE[4*(e-1)+1];case l.Q:return i.RS_BLOCK_TABLE[4*(e-1)+2];case l.H:return i.RS_BLOCK_TABLE[4*(e-1)+3];default:return}},r.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var C=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],w=function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){function t(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);for(var i in t)t.hasOwnProperty(i)&&n.setAttribute(i,t[i]);return n}var n=this._htOption,i=this._el,r=e.getModuleCount();Math.floor(n.width/r),Math.floor(n.height/r);this.clear();var o=t("svg",{viewBox:"0 0 "+String(r)+" "+String(r),width:"100%",height:"100%",fill:n.colorLight});o.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),i.appendChild(o),o.appendChild(t("rect",{fill:n.colorLight,width:"100%",height:"100%"})),o.appendChild(t("rect",{fill:n.colorDark,width:"1",height:"1",id:"template"}));for(var a=0;a<r;a++)for(var s=0;s<r;s++)if(e.isDark(a,s)){var l=t("use",{x:String(s),y:String(a)});l.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),o.appendChild(l)}},e.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},e}(),A="svg"===document.documentElement.tagName.toLowerCase()?w:"undefined"==typeof CanvasRenderingContext2D?function(){var e=function(e,t){this._el=e,this._htOption=t};return e.prototype.draw=function(e){for(var t=this._htOption,n=this._el,i=e.getModuleCount(),r=Math.floor(t.width/i),o=Math.floor(t.height/i),a=['<table style="border:0;border-collapse:collapse;">'],s=0;s<i;s++){a.push("<tr>");for(var l=0;l<i;l++)a.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+r+"px;height:"+o+"px;background-color:"+(e.isDark(s,l)?t.colorDark:t.colorLight)+';"></td>');a.push("</tr>")}a.push("</table>"),n.innerHTML=a.join("");var c=n.childNodes[0],u=(t.width-c.offsetWidth)/2,h=(t.height-c.offsetHeight)/2;u>0&&h>0&&(c.style.margin=h+"px "+u+"px")},e.prototype.clear=function(){this._el.innerHTML=""},e}():function(){function e(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}if(this._android&&this._android<=2.1){var t=1/window.devicePixelRatio,n=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(e,i,r,o,a,s,l,c,u){if("nodeName"in e&&/img/i.test(e.nodeName))for(var h=arguments.length-1;h>=1;h--)arguments[h]=arguments[h]*t;else void 0===c&&(arguments[1]*=t,arguments[2]*=t,arguments[3]*=t,arguments[4]*=t);n.apply(this,arguments)}}var i=function(e,t){this._bIsPainted=!1,this._android=o(),this._htOption=t,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=t.width,this._elCanvas.height=t.height,e.appendChild(this._elCanvas),this._el=e,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return i.prototype.draw=function(e){var t=this._elImage,n=this._oContext,i=this._htOption,r=e.getModuleCount(),o=i.width/r,a=i.height/r,s=Math.round(o),l=Math.round(a);t.style.display="none",this.clear();for(var c=0;c<r;c++)for(var u=0;u<r;u++){var h=e.isDark(c,u),p=u*o,f=c*a;n.strokeStyle=h?i.colorDark:i.colorLight,n.lineWidth=1,n.fillStyle=h?i.colorDark:i.colorLight,n.fillRect(p,f,o,a),n.strokeRect(Math.floor(p)+.5,Math.floor(f)+.5,s,l),n.strokeRect(Math.ceil(p)-.5,Math.ceil(f)-.5,s,l)}this._bIsPainted=!0},i.prototype.makeImage=function(){this._bIsPainted&&function(e,t){var n=this;if(n._fFail=t,n._fSuccess=e,null===n._bSupportDataURI){var i=document.createElement("img"),r=function(){n._bSupportDataURI=!1,n._fFail&&n._fFail.call(n)};return i.onabort=r,i.onerror=r,i.onload=function(){n._bSupportDataURI=!0,n._fSuccess&&n._fSuccess.call(n)},void(i.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}!0===n._bSupportDataURI&&n._fSuccess?n._fSuccess.call(n):!1===n._bSupportDataURI&&n._fFail&&n._fFail.call(n)}.call(this,e)},i.prototype.isPainted=function(){return this._bIsPainted},i.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},i.prototype.round=function(e){return e?Math.floor(1e3*e)/1e3:e},i}();(QRCode=function(e,t){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:l.H},"string"==typeof t&&(t={text:t}),t)for(var n in t)this._htOption[n]=t[n];"string"==typeof e&&(e=document.getElementById(e)),this._htOption.useSVG&&(A=w),this._android=o(),this._el=e,this._oQRCode=null,this._oDrawing=new A(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)}).prototype.makeCode=function(e){this._oQRCode=new t(a(e,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(e),this._oQRCode.make(),this._el.title=e,this._oDrawing.draw(this._oQRCode),this.makeImage()},QRCode.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},QRCode.prototype.clear=function(){this._oDrawing.clear()},QRCode.CorrectLevel=l}(),function(e,t){"function"==typeof define&&define.amd?define(["exports"],function(n){t(e.TinyAnimate=n)}):t("object"==typeof exports?exports:e.TinyAnimate={})}(this,function(e){e.animate=function(e,n,i,r,o,a){function s(t){if(!c){var p=(t||+new Date)-h;p>=0&&r(o(p,e,u,i)),p>=0&&p>=i?(r(n),a()):l(s)}}if("number"==typeof e&&"number"==typeof n&&"number"==typeof i&&"function"==typeof r){"string"==typeof o&&t[o]&&(o=t[o]),"function"!=typeof o&&(o=t.linear),"function"!=typeof a&&(a=function(){});var l=window.requestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},c=!1,u=n-e;r(e);var h=window.performance&&window.performance.now?window.performance.now():+new Date;return l(s),{cancel:function(){c=!0}}}},e.animateCSS=function(t,n,i,r,o,a,s,l){return e.animate(r,o,a,function(e){t.style[n]=e+i},s,l)},e.cancel=function(e){e&&e.cancel()};var t=e.easings={};t.linear=function(e,t,n,i){return n*e/i+t},t.easeInQuad=function(e,t,n,i){return n*(e/=i)*e+t},t.easeOutQuad=function(e,t,n,i){return-n*(e/=i)*(e-2)+t},t.easeInOutQuad=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},t.easeInCubic=function(e,t,n,i){return n*(e/=i)*e*e+t},t.easeOutCubic=function(e,t,n,i){return n*((e=e/i-1)*e*e+1)+t},t.easeInOutCubic=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},t.easeInQuart=function(e,t,n,i){return n*(e/=i)*e*e*e+t},t.easeOutQuart=function(e,t,n,i){return-n*((e=e/i-1)*e*e*e-1)+t},t.easeInOutQuart=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},t.easeInQuint=function(e,t,n,i){return n*(e/=i)*e*e*e*e+t},t.easeOutQuint=function(e,t,n,i){return n*((e=e/i-1)*e*e*e*e+1)+t},t.easeInOutQuint=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},t.easeInSine=function(e,t,n,i){return-n*Math.cos(e/i*(Math.PI/2))+n+t},t.easeOutSine=function(e,t,n,i){return n*Math.sin(e/i*(Math.PI/2))+t},t.easeInOutSine=function(e,t,n,i){return-n/2*(Math.cos(Math.PI*e/i)-1)+t},t.easeInExpo=function(e,t,n,i){return 0==e?t:n*Math.pow(2,10*(e/i-1))+t},t.easeOutExpo=function(e,t,n,i){return e==i?t+n:n*(1-Math.pow(2,-10*e/i))+t},t.easeInOutExpo=function(e,t,n,i){return 0==e?t:e==i?t+n:(e/=i/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},t.easeInCirc=function(e,t,n,i){return-n*(Math.sqrt(1-(e/=i)*e)-1)+t},t.easeOutCirc=function(e,t,n,i){return n*Math.sqrt(1-(e=e/i-1)*e)+t},t.easeInOutCirc=function(e,t,n,i){return(e/=i/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},t.easeInElastic=function(e,t,n,i){var r=0,o=n;if(0==e)return t;if(1==(e/=i))return t+n;if(r||(r=.3*i),o<Math.abs(n)){o=n;a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return-o*Math.pow(2,10*(e-=1))*Math.sin((e*i-a)*(2*Math.PI)/r)+t},t.easeOutElastic=function(e,t,n,i){var r=0,o=n;if(0==e)return t;if(1==(e/=i))return t+n;if(r||(r=.3*i),o<Math.abs(n)){o=n;a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return o*Math.pow(2,-10*e)*Math.sin((e*i-a)*(2*Math.PI)/r)+n+t},t.easeInOutElastic=function(e,t,n,i){var r=0,o=n;if(0==e)return t;if(2==(e/=i/2))return t+n;if(r||(r=i*(.3*1.5)),o<Math.abs(n)){o=n;a=r/4}else var a=r/(2*Math.PI)*Math.asin(n/o);return e<1?o*Math.pow(2,10*(e-=1))*Math.sin((e*i-a)*(2*Math.PI)/r)*-.5+t:o*Math.pow(2,-10*(e-=1))*Math.sin((e*i-a)*(2*Math.PI)/r)*.5+n+t},t.easeInBack=function(e,t,n,i,r){return void 0==r&&(r=1.70158),n*(e/=i)*e*((r+1)*e-r)+t},t.easeOutBack=function(e,t,n,i,r){return void 0==r&&(r=1.70158),n*((e=e/i-1)*e*((r+1)*e+r)+1)+t},t.easeInOutBack=function(e,t,n,i,r){return void 0==r&&(r=1.70158),(e/=i/2)<1?n/2*(e*e*((1+(r*=1.525))*e-r))+t:n/2*((e-=2)*e*((1+(r*=1.525))*e+r)+2)+t},t.easeInBounce=function(e,n,i,r){return i-t.easeOutBounce(r-e,0,i,r)+n},t.easeOutBounce=function(e,t,n,i){return(e/=i)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},t.easeInOutBounce=function(e,n,i,r){return e<r/2?.5*t.easeInBounce(2*e,0,i,r)+n:.5*t.easeOutBounce(2*e-r,0,i,r)+.5*i+n}}),function(e,t){if("function"==typeof define&&define.amd)define(["exports","module"],t);else if("undefined"!=typeof exports&&"undefined"!=typeof module)t(exports,module);else{var n={exports:{}};t(n.exports,n),e.Impetus=n.exports}}(this,function(e,t){"use strict";function n(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("test",null,t)}catch(e){}return n=function(){return e},e}var i=.04,r=.11;window.addEventListener("touchmove",function(){});t.exports=function e(t){function a(){b.call(g,N,Q)}function s(e){if("touchmove"===e.type||"touchstart"===e.type||"touchend"===e.type){var t=e.targetTouches[0]||e.changedTouches[0];return{x:t.clientX,y:t.clientY,id:t.identifier}}return{x:e.clientX,y:e.clientY,id:null}}function l(e){var t=s(e);W||K||(W=!0,z=!1,P=t.id,M=x=t.x,B=D=t.y,Y=[],p(M,B),document.addEventListener("touchmove",c,!!n()&&{passive:!1}),document.addEventListener("touchend",u),document.addEventListener("touchcancel",h),document.addEventListener("mousemove",c,!!n()&&{passive:!1}),document.addEventListener("mouseup",u))}function c(e){e.preventDefault();var t=s(e);W&&t.id===P&&(x=t.x,D=t.y,p(M,B),U||o(f),U=!0)}function u(e){var t=s(e);W&&t.id===P&&h()}function h(){W=!1,p(M,B),function(){var e=Y[0],t=Y[Y.length-1],n=t.x-e.x,i=t.y-e.y,r=(t.time-e.time)/15/w;F=n/r||0,j=i/r||0;var a=v();(Math.abs(F)>1||Math.abs(j)>1||!a.inBounds)&&(z=!0,o(m))}(),document.removeEventListener("touchmove",c),document.removeEventListener("touchend",u),document.removeEventListener("touchcancel",h),document.removeEventListener("mouseup",u),document.removeEventListener("mousemove",c)}function p(e,t){for(var n=Date.now();Y.length>0&&!(n-Y[0].time<=100);)Y.shift();Y.push({x:e,y:t,time:n})}function f(){var e=x-M,t=D-B;if(N+=e*w,Q+=t*w,O){var n=v();0!==n.x&&(N-=e*d(n.x)*w),0!==n.y&&(Q-=t*d(n.y)*w)}else v(!0);a(),M=x,B=D,U=!1}function d(e){return 5e-6*Math.pow(e,2)+1e-4*e+.55}function v(e){var t=0,n=0;return void 0!==L&&N<L?t=L-N:void 0!==_&&N>_&&(t=_-N),void 0!==H&&Q<H?n=H-Q:void 0!==R&&Q>R&&(n=R-Q),e&&(0!==t&&(N=t>0?L:_),0!==n&&(Q=n>0?H:R)),{x:t,y:n,inBounds:0===t&&0===n}}function m(){if(z){N+=F*=S,Q+=j*=S;var e=v();if(Math.abs(F)>V||Math.abs(j)>V||!e.inBounds){if(O){if(0!==e.x&&(e.x*F<=0?F+=e.x*i:(t=e.x>0?2.5:-2.5,F=(e.x+t)*r)),0!==e.y)if(e.y*j<=0)j+=e.y*i;else{var t=e.y>0?2.5:-2.5;j=(e.y+t)*r}}else 0!==e.x&&(N=e.x>0?L:_,F=0),0!==e.y&&(Q=e.y>0?H:R,j=0);a(),o(m)}else z=!1}}var y=t.source,g=void 0===y?document:y,b=t.update,C=t.multiplier,w=void 0===C?1:C,A=t.friction,S=void 0===A?.92:A,E=t.initialValues,k=t.boundX,I=t.boundY,T=t.bounce,O=void 0===T||T;!function(t,n){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this);var L,_,H,R,M,B,x,D,P,F,j,N=0,Q=0,V=.3*w,U=!1,W=!1,K=!1,z=!1,Y=[];!function(){if(!(g="string"==typeof g?document.querySelector(g):g))throw new Error("IMPETUS: source not found.");if(!b)throw new Error("IMPETUS: update function not defined.");E&&(E[0]&&(N=E[0]),E[1]&&(Q=E[1]),a()),k&&(L=k[0],_=k[1]),I&&(H=I[0],R=I[1]),g.addEventListener("touchstart",l),g.addEventListener("mousedown",l)}(),this.destroy=function(){return g.removeEventListener("touchstart",l),g.removeEventListener("mousedown",l),null},this.pause=function(){W=!1,K=!0},this.resume=function(){K=!1},this.setValues=function(e,t){"number"==typeof e&&(N=e),"number"==typeof t&&(Q=t)},this.setMultiplier=function(e){V=.3*(w=e)},this.setBoundX=function(e){L=e[0],_=e[1]},this.setBoundY=function(e){H=e[0],R=e[1]}};var o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}});var vsm_template='<div id="vsm_modal_base" class="vsm-modal vsm-hide vsm-fade" style="z-index: 9999;" tabindex="-1" role="dialog"> <div class="vsm-modal-dialog"> <div class="vsm-modal-content"> <div class="vsm-modal-header"> <button type="button" class="vsm-close"> </button> </div><div class="vsm-modal-body vsm-option-body vsm-list-body"> <a href="javascript:void(0);" class="vsm-back-link vsm-back-step"> <i class="vsm-back-arrow"></i> </a> <div class="vsm-in-progress"> <p class="vsm-header vsm-center"></p><div class="vsm-line-step center-piece vsm-columns"> </div><div class="vsm-list-container"> <i class="vsm-loaderIcon" alt="Loading options"></i> </div></div><div class="vsm-final"> <div class="center-piece vsm-line-step vsm-columns vehicle-result-wrap"> <div class="vsm-column-2 vsm-before"></div><div class="vsm-column-2 no-style"><i class="dot-style dot-before active"></i></div><p class="vehicle-result-name"></p><p class="vehicle-result-size"></p></div> <div class="center-piece vehicle-image-wrap"> <div style="position: relative; text-align: center; min-height: 120px;"> <i class="vsm-loaderIcon" alt="Loading an image of your vehicle"></i> <img src="" alt="" class="vsm-vehicle-display" style="display: none;"> </div><a href="javascript:void(0);" class="vsm-btn vsm-btn-gray vsm-full-width vsm-find"></a> </div></div></div></div></div></div>',_vsmModalIDCounter=0;"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(e){"use strict";if("Element"in e){var t="prototype",n=e.Element[t],i=Object,r=String[t].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[t].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},a=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},s=function(e,t){if(""===t)throw new a("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new a("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(e,t)},l=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,o=n.length;i<o;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},c=l[t]=[],u=function(){return new l(this)};if(a[t]=Error[t],c.item=function(e){return this[e]||null},c.contains=function(e){return e+="",-1!==s(this,e)},c.add=function(){var e,t=arguments,n=0,i=t.length,r=!1;do{e=t[n]+"",-1===s(this,e)&&(this.push(e),r=!0)}while(++n<i);r&&this._updateClassName()},c.remove=function(){var e,t,n=arguments,i=0,r=n.length,o=!1;do{for(e=n[i]+"",t=s(this,e);-1!==t;)this.splice(t,1),o=!0,t=s(this,e)}while(++i<r);o&&this._updateClassName()},c.toggle=function(e,t){e+="";var n=this.contains(e),i=n?!0!==t&&"remove":!1!==t&&"add";return i&&this[i](e),!0===t||!1===t?t:!n},c.toString=function(){return this.join(" ")},i.defineProperty){var h={get:u,enumerable:!0,configurable:!0};try{i.defineProperty(n,"classList",h)}catch(e){void 0!==e.number&&-2146823252!==e.number||(h.enumerable=!1,i.defineProperty(n,"classList",h))}}else i[t].__defineGetter__&&n.__defineGetter__("classList",u)}}(window.self),function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,i=arguments.length;for(n=0;n<i;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null}()),function(e){function t(e,t,n,i){for(var r,o,a=n.slice(),s=function(e,t){return e.currentTarget=t,e.eventPhase=e.target===e.currentTarget?2:3,e}(t,e),l=0,c=a.length;l<c&&("object"==typeof(r=a[l])?"function"==typeof r.handleEvent&&r.handleEvent(s):r.call(e,s),!s.stoppedImmediatePropagation);l++);return o=!s.stoppedPropagation,i&&o&&e.parentNode?e.parentNode.dispatchEvent(s):!s.defaultPrevented}function n(e,t){return{configurable:!0,get:e,set:t}}function i(e,t,i){var r=g(t||e,i);m(e,"textContent",n(function(){return r.get.call(this)},function(e){r.set.call(this,e)}))}function r(e,t){for(var n=e.length;n--&&e[n]!==t;);return n}function o(){if("BR"===this.tagName)return"\n";for(var e=this.firstChild,t=[];e;)8!==e.nodeType&&7!==e.nodeType&&t.push(e.textContent),e=e.nextSibling;return t.join("")}function a(e){var t=document.createEvent("Event");t.initEvent("input",!0,!0),(e.srcElement||e.fromElement||document).dispatchEvent(t)}function s(e){!p&&S.test(document.readyState)&&(p=!p,document.detachEvent(f,s),(e=document.createEvent("Event")).initEvent(d,!0,!0),document.dispatchEvent(e))}function l(e){return function(){return I[e]||document.body&&document.body[e]||0}}function c(e){for(var t;t=this.lastChild;)this.removeChild(t);null!=e&&this.appendChild(document.createTextNode(e))}function u(t,n){return n||(n=e.event),n.target||(n.target=n.srcElement||n.fromElement||document),n.timeStamp||(n.timeStamp=(new Date).getTime()),n}if(!document.createEvent){var h=!0,p=!1,f="onreadystatechange",d="DOMContentLoaded",v="__IE8__"+Math.random(),m=Object.defineProperty||function(e,t,n){e[t]=n.value},y=Object.defineProperties||function(t,n){for(var i in n)if(b.call(n,i))try{m(t,i,n[i])}catch(n){e.console&&console.log(i+" failed on object:",t,n.message)}},g=Object.getOwnPropertyDescriptor,b=Object.prototype.hasOwnProperty,C=e.Element.prototype,w=e.Text.prototype,A=/^[a-z]+$/,S=/loaded|complete/,E={},k=document.createElement("div"),I=document.documentElement,T=I.removeAttribute,O=I.setAttribute,L=function(e){return{enumerable:!0,writable:!0,configurable:!0,value:e}};i(e.HTMLCommentElement.prototype,C,"nodeValue"),i(e.HTMLScriptElement.prototype,null,"text"),i(w,null,"nodeValue"),i(e.HTMLTitleElement.prototype,null,"text"),m(e.HTMLStyleElement.prototype,"textContent",function(e){return n(function(){return e.get.call(this.styleSheet)},function(t){e.set.call(this.styleSheet,t)})}(g(e.CSSStyleSheet.prototype,"cssText")));var _=/\b\s*alpha\s*\(\s*opacity\s*=\s*(\d+)\s*\)/;m(e.CSSStyleDeclaration.prototype,"opacity",{get:function(){var e=this.filter.match(_);return e?(e[1]/100).toString():""},set:function(e){this.zoom=1;var t=!1;e=e<1?" alpha(opacity="+Math.round(100*e)+")":"",this.filter=this.filter.replace(_,function(){return t=!0,e}),!t&&e&&(this.filter+=e)}}),y(C,{textContent:{get:o,set:c},firstElementChild:{get:function(){for(var e=this.childNodes||[],t=0,n=e.length;t<n;t++)if(1==e[t].nodeType)return e[t]}},lastElementChild:{get:function(){for(var e=this.childNodes||[],t=e.length;t--;)if(1==e[t].nodeType)return e[t]}},oninput:{get:function(){return this._oninput||null},set:function(e){this._oninput&&(this.removeEventListener("input",this._oninput),this._oninput=e,e&&this.addEventListener("input",e))}},previousElementSibling:{get:function(){for(var e=this.previousSibling;e&&1!=e.nodeType;)e=e.previousSibling;return e}},nextElementSibling:{get:function(){for(var e=this.nextSibling;e&&1!=e.nodeType;)e=e.nextSibling;return e}},childElementCount:{get:function(){for(var e=0,t=this.childNodes||[],n=t.length;n--;e+=1==t[n].nodeType);return e}},addEventListener:L(function(e,n,i){if("function"==typeof n||"object"==typeof n){var o,s,l=this,c="on"+e,h=l[v]||m(l,v,{value:{}})[v],p=h[c]||(h[c]={}),f=p.h||(p.h=[]);if(!b.call(p,"w")){if(p.w=function(e){return e[v]||t(l,u(0,e),f,!1)},!b.call(E,c))if(A.test(e)){try{(o=document.createEventObject())[v]=!0,9!=l.nodeType&&(null==l.parentNode&&k.appendChild(l),(s=l.getAttribute(c))&&T.call(l,c)),l.fireEvent(c,o),E[c]=!0}catch(e){for(E[c]=!1;k.hasChildNodes();)k.removeChild(k.firstChild)}null!=s&&O.call(l,c,s)}else E[c]=!1;(p.n=E[c])&&l.attachEvent(c,p.w)}r(f,n)<0&&f[i?"unshift":"push"](n),"input"===e&&l.attachEvent("onkeyup",a)}}),dispatchEvent:L(function(e){var n,i="on"+e.type,r=this[v],o=r&&r[i],a=!!o;return e.target||(e.target=this),a?o.n?this.fireEvent(i,e):t(this,e,o.h,!0):!(n=this.parentNode)||n.dispatchEvent(e),!e.defaultPrevented}),removeEventListener:L(function(e,t,n){if("function"==typeof t||"object"==typeof t){var i="on"+e,o=this[v],a=o&&o[i],s=a&&a.h,l=s?r(s,t):-1;-1<l&&s.splice(l,1)}})}),y(w,{addEventListener:L(C.addEventListener),dispatchEvent:L(C.dispatchEvent),removeEventListener:L(C.removeEventListener)}),y(e.XMLHttpRequest.prototype,{addEventListener:L(function(e,t,n){var i=this,o="on"+e,a=i[v]||m(i,v,{value:{}})[v],s=a[o]||(a[o]={}),l=s.h||(s.h=[]);r(l,t)<0&&(i[o]||(i[o]=function(){var t=document.createEvent("Event");t.initEvent(e,!0,!0),i.dispatchEvent(t)}),l[n?"unshift":"push"](t))}),dispatchEvent:L(function(e){var n="on"+e.type,i=this[v],r=i&&i[n];return!!r&&(r.n?this.fireEvent(n,e):t(this,e,r.h,!0))}),removeEventListener:L(C.removeEventListener)});var H=g(Event.prototype,"button").get;y(e.Event.prototype,{bubbles:L(!0),cancelable:L(!0),preventDefault:L(function(){this.cancelable&&(this.returnValue=!1)}),stopPropagation:L(function(){this.stoppedPropagation=!0,this.cancelBubble=!0}),stopImmediatePropagation:L(function(){this.stoppedImmediatePropagation=!0,this.stopPropagation()}),initEvent:L(function(e,t,n){this.type=e,this.bubbles=!!t,this.cancelable=!!n,this.bubbles||this.stopPropagation()}),pageX:{get:function(){return this._pageX||(this._pageX=this.clientX+e.scrollX-(I.clientLeft||0))}},pageY:{get:function(){return this._pageY||(this._pageY=this.clientY+e.scrollY-(I.clientTop||0))}},which:{get:function(){return this.keyCode?this.keyCode:isNaN(this.button)?void 0:this.button+1}},charCode:{get:function(){return this.keyCode&&"keypress"==this.type?this.keyCode:0}},buttons:{get:function(){return H.call(this)}},button:{get:function(){var e=this.buttons;return 1&e?0:2&e?2:4&e?1:void 0}},defaultPrevented:{get:function(){var e=this.returnValue;return!(void 0===e||e)}},relatedTarget:{get:function(){var e=this.type;return"mouseover"===e?this.fromElement:"mouseout"===e?this.toElement:null}}}),y(e.HTMLDocument.prototype,{defaultView:{get:function(){return this.parentWindow}},textContent:{get:function(){return 11===this.nodeType?o.call(this):null},set:function(e){11===this.nodeType&&c.call(this,e)}},addEventListener:L(function(t,n,i){var r=this;C.addEventListener.call(r,t,n,i),h&&t===d&&!S.test(r.readyState)&&(h=!1,r.attachEvent(f,s),e==top&&function e(t){try{r.documentElement.doScroll("left"),s()}catch(t){setTimeout(e,50)}}())}),dispatchEvent:L(C.dispatchEvent),removeEventListener:L(C.removeEventListener),createEvent:L(function(e){var t;if("Event"!==e)throw new Error("unsupported "+e);return t=document.createEventObject(),t.timeStamp=(new Date).getTime(),t})}),y(e.Window.prototype,{getComputedStyle:L(function(){function e(e){this._=e}function t(){}var n=/^(?:[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|))(?!px)[a-z%]+$/,i=/^(top|right|bottom|left)$/,r=/\-([a-z])/g,o=function(e,t){return t.toUpperCase()};return e.prototype.getPropertyValue=function(e){var t,a,s,l=this._,c=l.style,u=l.currentStyle,h=l.runtimeStyle;return"opacity"==e?c.opacity||"1":(e=("float"===e?"style-float":e).replace(r,o),t=u?u[e]:c[e],n.test(t)&&!i.test(e)&&(a=c.left,(s=h&&h.left)&&(h.left=u.left),c.left="fontSize"===e?"1em":t,t=c.pixelLeft+"px",c.left=a,s&&(h.left=s)),null==t?t:t+""||"auto")},t.prototype.getPropertyValue=function(){return null},function(n,i){return i?new t(n):new e(n)}}()),addEventListener:L(function(n,i,o){var a,s=e,l="on"+n;s[l]||(s[l]=function(e){return t(s,u(0,e),a,!1)&&void 0}),r(a=s[l][v]||(s[l][v]=[]),i)<0&&a[o?"unshift":"push"](i)}),dispatchEvent:L(function(t){var n=e["on"+t.type];return!n||!1!==n.call(e,t)&&!t.defaultPrevented}),removeEventListener:L(function(t,n,i){var o=(e["on"+t]||Object)[v],a=o?r(o,n):-1;-1<a&&o.splice(a,1)}),pageXOffset:{get:l("scrollLeft")},pageYOffset:{get:l("scrollTop")},scrollX:{get:l("scrollLeft")},scrollY:{get:l("scrollTop")},innerWidth:{get:l("clientWidth")},innerHeight:{get:l("clientHeight")}}),e.HTMLElement=e.Element,function(e,t,n){for(n=0;n<t.length;n++)document.createElement(t[n]);e.length||document.createStyleSheet(""),e[0].addRule(t.join(","),"display:block;")}(document.styleSheets,["header","nav","section","article","aside","footer"])}}(this.window||global),function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),r=window.setTimeout(function(){t(n+i)},i);return e=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();!function(e){!function(e){var t;!function(n){(t=e.auth||(e.auth={})).validate=function(){return e.request("auth/validate")}}()}(e.api||(e.api={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(t){var n;!function(i){function r(e){if("string"!=typeof e||!e)return!!e;var t=e[0];return"y"===t||"Y"===t||"t"===t||"T"===t}var o={EnableSharing:!0,SuspensionRanges:{Default:{Min:-4,Max:0},Truck4WD:{Min:-4,Max:4},Van4WD:{Min:-4,Max:4}},UseRawTireDescription:!1};(n=t.settings||(t.settings={})).getSettings=function(){return e.PromiseHelper.then(t.request("organization/getsettings",{Keys:["ENABLE_SHARING","SUSPENSION_RANGES","RAWTIREDESC"]}),function(e){var t=e.Settings;return t?{EnableSharing:r(t.ENABLE_SHARING||o.EnableSharing),SuspensionRanges:function(e){if(!e)return o.SuspensionRanges;try{return JSON.parse(e)}catch(e){return console.error(e),o.SuspensionRanges}}(t.SUSPENSION_RANGES),UseRawTireDescription:r(t.RAWTIREDESC||o.UseRawTireDescription)}:o})}}()}(e.api||(e.api={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(){return 1===e.authenticated.state()}e.initialize=function(t){if(t){if("username"in t&&"password"in t)return t=t,void ridestyler.auth.start({data:{Username:t.username,Password:t.password},callback:function(t){t.Success?e.authenticated.resolve():e.authenticated.reject()}});("token"in t||"key"in t)&&ridestyler.auth.set(t)}return e.auth.validate().done(function(){var t=ridestyler.ajax.url("",void 0);/\/api-alpha\./i.test(t)?e.environment=n.Alpha:/\/api-beta\./i.test(t)?e.environment=n.Beta:/\/api\./i.test(t)?e.environment=n.Live:e.environment=n.Other,e.authenticated.resolve()}).fail(function(){return e.authenticated.reject()}),e.authenticated},e.authenticated=ridestyler.promise(),e.isAuthenticated=t,e.afterAuthenticated=function(n){t()?n():e.authenticated.done(function(){return n()})},e.request=function(e,t){var n=ridestyler.promise();return ridestyler.ajax.send({action:e,data:t,callback:function(e){e.Success?n.resolve(e):n.reject(e)}}),n},e.getURL=function(e,t){return ridestyler.ajax.url(e,t)};var n=void 0;!function(e){e[e.Alpha=0]="Alpha",e[e.Beta=1]="Beta",e[e.Live=2]="Live",e[e.Other=3]="Other"}(n=e.Environment||(e.Environment={}))}(e.api||(e.api={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(t){var n=function(){function t(){_classCallCheck(this,t),this.eventHandlers={}}return _createClass(t,[{key:"on",value:function(e,t){e in this.eventHandlers==!1&&(this.eventHandlers[e]=[]),this.eventHandlers[e].push(t)}},{key:"off",value:function(t,n){t in this.eventHandlers!=!1&&(this.eventHandlers[t]=e.ArrayHelper.remove(this.eventHandlers[t],n))}},{key:"trigger",value:function(e,t){if("function"==typeof this.debugCallback&&this.debugCallback(e,t,this.eventHandlers[e]||[]),e in this.eventHandlers==!1)return!0;var n=!0,i=!1,r=void 0;try{for(var o,a=this.eventHandlers[e][Symbol.iterator]();!(n=(o=a.next()).done);n=!0){if(!1===(0,o.value)(t))return!1}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}return!0}}]),t}();t.EventHandler=n}(e.events||(e.events={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(t){var n=function(){function e(){_classCallCheck(this,e),this.globalFilters=new o,this.tireFilters=new a(this.globalFilters),this.wheelFilters=new s(this.globalFilters)}return _createClass(e,[{key:"setVehicle",value:function(e){this.clearFilters(!1),this.globalFilters.setVehicle(e)}},{key:"clearFilters",value:function(e){this.globalFilters.clear(e),this.tireFilters.clear(e),this.wheelFilters.clear(e)}}]),e}();t.FilterController=n;var i=function(){function t(e,n){_classCallCheck(this,t),this.type=e,this.currentFilters={},this.globalFilterProvider=n}return _createClass(t,[{key:"triggerFilterChange",value:function(){"function"==typeof this.onFiltersChanged&&this.onFiltersChanged(this.getFilters())}},{key:"previewFilters",value:function(t){var n=this.globalFilterProvider?this.globalFilterProvider.getFilters():{},i={},r=(this.baseFilters,!0),o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=c.key,h=c.value;this.setFilter(u,h,i)}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}return e.ObjectHelper.assign({},this.baseFilters,n,i)}},{key:"getFilters",value:function(){var t=this.globalFilterProvider?this.globalFilterProvider.getFilters():{};return e.ObjectHelper.assign({},this.baseFilters,t,this.currentFilters)}},{key:"retrieveOptions",value:function(e){return e.retrieveOptions(this.globalFilterProvider.getFilters())}},{key:"setFilter",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentFilters,i=this.findFilterOption(e);i&&i.apply(n,t)}},{key:"findFilterOption",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.filterOptions[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.key===e)return a}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"setFilters",value:function(e,t,n){var i={},r=void 0;"string"==typeof e?r=[{key:e,value:t}]:(r=e,"boolean"==typeof t&&(n=t));var o=!0,a=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,h=u.key,p=u.value;this.setFilter(h,p,i)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}var f=!1;for(var h in i)if(i.hasOwnProperty(h)){var d=i[h];d!==this.currentFilters[h]&&(this.currentFilters[h]=d,f=!0)}return void 0===n&&(n=!0),f&&n&&this.triggerFilterChange(),f}},{key:"clear",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.currentFilters={},e&&this.triggerFilterChange()}}]),t}();t.FilterProvider=i;var r="vehicle-config",o=function(e){function t(){_classCallCheck(this,t);var e=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"global",void 0));return e.baseFilters={HasFitments:!0},e.currentFilters={},e.filterOptions=[{key:r,visible:!1,apply:function(e,t){var n=t.vehicleConfigurationID,i=t.vehicleTireOptionID;n&&(e.VehicleConfiguration=n),i&&(e.VehicleTireOption=i)}}],e}return _inherits(t,i),_createClass(t,[{key:"setVehicle",value:function(e){this.setFilter(r,e)}},{key:"getCount",value:function(){throw"Cannot count GlobalFilterModel"}}]),t}();t.GlobalFilterProvider=o;var a=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"tire",t));return i.baseFilters={RequiredFitmentResourceTypes:[2]},i.filterOptions=[{label:e.strings.getString("brands"),unselectedOptionLabel:e.strings.getString("all-brands"),key:"tire-brand",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("tire/getbrands",t),function(t){return e.ArrayHelper.map(t.Brands,function(e){return{label:e.TireBrandName,value:e.TireBrandID}})})},getValueFromFilters:function(e){return e.TireBrand},apply:function(e,t){e.TireBrand=t}},{label:e.strings.getString("features"),unselectedOptionLabel:e.strings.getString("any-features"),key:"tire-model-attribute",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("tire/getmodelattributes",t),function(t){return e.ArrayHelper.map(t.Attributes,function(e){return{label:e.TireModelAttributeName,value:e.TireModelAttributeID}})})},getValueFromFilters:function(e){return e.RequiredTireModelAttribute},apply:function(e,t){e.RequiredTireModelAttribute=t}},{label:e.strings.getString("speed-rating"),unselectedOptionLabel:e.strings.getString("any-speed-ratings"),key:"tire-speed-rating",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("tire/getspeedratings",t),function(t){return e.ArrayHelper.map(t.SpeedRatings,function(e){return{label:e.TireSpeedRatingCode,value:e.TireSpeedRatingID}})})},getValueFromFilters:function(e){return e.SpeedRating},apply:function(e,t){e.SpeedRating=t}}],i}return _inherits(n,i),_createClass(n,[{key:"getCount",value:function(t){return e.PromiseHelper.then(e.api.request("tire/countmodels",t),function(e){return e.Count})}}]),n}();t.TireFilterProvider=a;var s=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,"wheel",t));return i.baseFilters={FitmentResourceTypes:[2,3,1]},i.filterOptions=[{label:e.strings.getString("brands"),unselectedOptionLabel:e.strings.getString("all-brands"),key:"wheel-brand",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("wheel/getbrands",t),function(t){return e.ArrayHelper.map(t.Brands,function(e){return{label:e.WheelBrandName,value:e.WheelBrandID}})})},getValueFromFilters:function(e){return e.WheelBrand},apply:function(e,t){e.WheelBrand=t}},{label:e.strings.getString("finishes"),unselectedOptionLabel:e.strings.getString("all-finishes"),key:"wheel-finish",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("wheel/getfinishes",t),function(t){return e.ArrayHelper.map(t.Finishes,function(e){return{label:e.WheelFinishCategoryName,value:e.WheelFinishCategoryID}})})},getValueFromFilters:function(e){return e.WheelFinishCategory},apply:function(e,t){e.WheelFinishCategory=t}},{label:e.strings.getString("sizes"),unselectedOptionLabel:e.strings.getString("all-sizes"),key:"wheel-size",retrieveOptions:function(t){return e.PromiseHelper.then(e.api.request("wheel/getdiameters",t),function(t){return e.ArrayHelper.map(t.Diameters,function(e){return{label:e.toString(),value:e}})})},getValueFromFilters:function(e){return function(e,t){var n=!0,i=!1,r=void 0;try{for(var o,a=(e.FitmentFilters||[])[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(s.GroupKey===l)return s[t]}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}(e,"Diameter")},apply:function(t,n){t.FitmentFilters||(t.FitmentFilters=[]),function(t,n){var i=t.FitmentFilters||[],r=void 0,o=!0,a=!1,s=void 0;try{for(var c,u=i[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;if(h.GroupKey===l){r=h;break}}}catch(e){a=!0,s=e}finally{try{!o&&u.return&&u.return()}finally{if(a)throw s}}r?(e.ObjectHelper.assign(r,n),r.GroupKey=l):(n.GroupKey=l,i.push(n),t.FitmentFilters=i)}(t,{Diameter:n})}}],i}return _inherits(n,i),_createClass(n,[{key:"getCount",value:function(t){return e.PromiseHelper.then(e.api.request("wheel/countmodels",t),function(e){return e.Count})}}]),n}();t.WheelFilterProvider=s;var l="ridestyler-showcase-filters"}(e.filters||(e.filters={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(e){e[e.ChooseVehicle=0]="ChooseVehicle",e[e.Visualize=1]="Visualize"}(e.States||(e.States={}))}(RideStylerShowcase||(RideStylerShowcase={})),function(e){!function(e){var t=function(){function e(t){_classCallCheck(this,e),this.state=t,this.exitCallbacks=[],this.enterCallbacks=[]}return _createClass(e,[{key:"triggerExitCallbacks",value:function(e,t,n){var i=!0,r=!1,o=void 0;try{for(var a,s=this.exitCallbacks[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){if(!1===(0,a.value)(e,t,n))return!1}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return!0}},{key:"triggerEnterCallbacks",value:function(e,t,n){var i=!0,r=!1,o=void 0;try{for(var a,s=this.enterCallbacks[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){if(!1===(0,a.value)(e,t,n))return!1}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return!0}}]),e}(),n=function(){function e(t){_classCallCheck(this,e),this.currentData={currentVehicleConfigurationID:void 0,currentVehicleDescription:void 0,vehicleHasAngledImage:void 0,vehicleHasSideImage:void 0,currentVehicleTireOptionDescription:void 0,currentVehicleTireOptionID:void 0,currentPaintScheme:void 0,currentTire:void 0,currentWheel:void 0,currentWheelFitment:void 0,currentTireOption:void 0,currentVehicleDescriptionModel:void 0},this.callbacks={},this.changeCallbacks=[],this.dataChangedCallbacks=[],this.currentState=t}return _createClass(e,[{key:"getData",value:function(){return this.currentData}},{key:"setData",value:function(e){var t=[],n=[],i=!0,r=!1,o=void 0;try{for(var a,s=this.dataChangedCallbacks[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value,c=l.callback;l.before?t.push(c):n.push(c)}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}var u=!0,h=!1,p=void 0;try{for(var f,d=t[Symbol.iterator]();!(u=(f=d.next()).done);u=!0){(c=f.value)(e)}}catch(e){h=!0,p=e}finally{try{!u&&d.return&&d.return()}finally{if(h)throw p}}this.currentData=e;var v=!0,m=!1,y=void 0;try{for(var g,b=n[Symbol.iterator]();!(v=(g=b.next()).done);v=!0){(0,g.value)(this.currentData)}}catch(e){m=!0,y=e}finally{try{!v&&b.return&&b.return()}finally{if(m)throw y}}}},{key:"extendData",value:function(e){var t=!1,n={},i=this.currentData;for(var r in i)if(i.hasOwnProperty(r)){var o=i[r],a=e[r];r in e&&o!==a?(t=!0,n[r]=a):n[r]=o}return t&&this.setData(n),this.currentData}},{key:"callbacksForState",value:function(e){return e in this.callbacks?this.callbacks[e]:this.callbacks[e]=new t(e)}},{key:"onExit",value:function(e,t){this.callbacksForState(e).exitCallbacks.push(t)}},{key:"onEnter",value:function(e,t){this.callbacksForState(e).enterCallbacks.push(t)}},{key:"onChange",value:function(e){this.changeCallbacks.push(e)}},{key:"beforeDataChange",value:function(e){this.dataChangedCallbacks.push({callback:e,before:!0})}},{key:"afterDataChange",value:function(e){this.dataChangedCallbacks.push({callback:e,before:!1})}},{key:"changeState",value:function(e,t){if(this.currentState!==e){var n=this.currentState;t&&this.setData(t);var i={oldState:n,newState:e,newData:this.currentData};"function"==typeof this.debugCallback&&this.debugCallback(i,!1);var r=!0,o=!1,a=void 0;try{for(var s,l=this.changeCallbacks[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){if(!(0,s.value)(i))return}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}!1!==this.callbacksForState(n).triggerExitCallbacks(n,e,this.currentData)&&!1!==this.callbacksForState(e).triggerEnterCallbacks(n,e,this.currentData)&&("function"==typeof this.debugCallback&&this.debugCallback(i,!0),this.currentState=e)}}}]),e}();e.RideStylerShowcaseState=n}(e.state||(e.state={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t={currency:function(e,t){return t+(+e.toFixed(2)).toLocaleString()}};!function(e){e[e.En=0]="En"}(e.LanguageKeys||(e.LanguageKeys={}));var n=function(){function e(t){_classCallCheck(this,e),this.language=t,this.format=t.format}return _createClass(e,[{key:"getString",value:function(e){return this.language[e]}}]),e}(),i=void 0,r={};!function(e){function o(e){return e in r?r[e]:i}e.registerLanguage=function(e,o,a){if(o.format)for(var s in t)t.hasOwnProperty(s)&&s in o.format==0&&(o.format[s]=t[s]);else o.format=t;var l=r[e]=new n(o);!a&&i||(i=l)},e.setDefaultLanguage=function(e){return e in r&&(i=r[e],!0)},e.languageIsRegistered=function(e){return e in r},e.getString=function(e,t){var n=void 0;return(n=o(t).getString(e))?n:e},e.format=function(e){return o(e).format}}(e.strings||(e.strings={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(t){var n=[["phone-portrait",0],["phone-landscape",420],["tablet",768],["phone-landscape",812],["tablet",824],["desktop",992],["desktop-xl",1200],["tv",1600]],i=function(){function t(e){_classCallCheck(this,t),this.element=e,this.initialized=ridestyler.promise(),this.initializeBreakpoints(),this.watchSize(),this.initializeCSS(),this.resolveOnDOMLoad(),this.initializeStyleClasses()}return _createClass(t,[{key:"resolveOnDOMLoad",value:function(){var e=this;"complete"!==document.readyState?window.addEventListener("load",function(){return e.initialized.resolve()},!1):this.initialized.resolve()}},{key:"initializeCSS",value:function(){if(e.StyleHelper.isOffsetPositioned(this.element)||(this.element.style.position="relative"),"css"in e!=!1){var t=this.element.ownerDocument,n=t.getElementsByTagName("head").item(0);n||(n=document.createElement("head"),t.documentElement.insertBefore(n,t.firstChild));var i=document.createElement("style");i.appendChild(document.createTextNode(e.css)),n.insertBefore(i,e.HTMLHelper.firstChildWithTag(n,"STYLE")),delete e.css}}},{key:"initializeStyleClasses",value:function(){e.StyleHelper.isTouchDevice&&this.element.classList.add("is-touch")}},{key:"initializeBreakpoints",value:function(){var t=this;switch(n.sort(function(e,t){return e[1]-t[1]}),this.applyBreakpointClasses(),document.readyState){case"loading":e.HTMLHelper.getDocument(this.element).addEventListener("DOMContentLoaded",function(){return t.applyBreakpointClasses()});case"interactive":e.HTMLHelper.getWindow(this.element).addEventListener("load",function(){return t.applyBreakpointClasses()})}}},{key:"resize",value:function(){this.applyBreakpointClasses(),"function"==typeof this.onResize&&this.onResize()}},{key:"resized",value:function(){"function"==typeof this.onResized&&this.onResized()}},{key:"breakpointChanged",value:function(e){"function"==typeof this.onBreakpointChanged&&this.onBreakpointChanged(e)}},{key:"watchSize",value:function(){var t=this,n=this.element,i=void 0,r={width:n.clientWidth,height:n.clientHeight};e.HTMLHelper.getWindow(n).addEventListener("resize",function(){var e={width:n.clientWidth,height:n.clientHeight};e.width===r.width&&e.height===r.height||(r=e,t.resize(),clearTimeout(i),i=setTimeout(function(){t.resized()},200))},!1)}},{key:"getCurrentBreakpoint",value:function(){return this.currentBreakpoint}},{key:"applyBreakpointClasses",value:function(){var e=this.element,t=e.offsetHeight,i=e.offsetWidth;if(t&&i){var r=void 0,o=void 0;for(o=n.length-1;o>=0&&!(n[o][1]<=i);o--);if((r=o>=0?n[o]:void 0)!==this.currentBreakpoint){this.currentBreakpoint=r;var a=e.className,s=a;s=s.replace(/\bridestyler-showcase-breakpoint-.+?(?= |$)/gi,"").trim(),r&&(s+=" ridestyler-showcase-breakpoint-"+r[0]),s!==a&&(e.className=s,this.breakpointChanged(r))}}}}]),t}();t.StyleManager=i}(e.styles||(e.styles={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(){function t(n,i){_classCallCheck(this,t),this.activeLoadingSessionKeys=[],this.settings=i||{},this.settings.debug=this.settings.debug||{},this.events=new e.events.EventHandler,!0===this.settings.debug.events&&(this.events.debugCallback=function(e,t,n){"resize"!==e&&console.log("[RideStylerShowcase Event] Name:"+e+" Data:",t,n)}),n&&("string"==typeof n&&((n=document.getElementById(n))||console.error('The ID "'+n+'" could not be found in the DOM.')),this.initialize(n))}return _createClass(t,[{key:"registerComponents",value:function(){this.events;this.otherComponents=[new e.RideStylerShowcaseBackground(this)],this.stateComponentMapping={},this.stateComponentMapping[e.States.ChooseVehicle]=new e.RideStylerShowcaseVehicleSelection(this),this.stateComponentMapping[e.States.Visualize]=new e.RideStylerShowcaseVehicleVisualization(this),this.mainComponents=[];for(var t in this.stateComponentMapping)this.mainComponents.push(this.stateComponentMapping[t])}},{key:"initialize",value:function(t){var n=this;if(!t)throw"Cannot initialize showcase without a container to put it in.";this.container=e.ObjectHelper.assign(t,{ridestylerShowcase:this}),this.initializeState(),this.registerComponents(),e.api.initialize(this.settings),this.initializeStyle(),this.initializeFilters(),this.initializeComponents(),this.events.on("vehicle-selected",function(t){return n.state.changeState(e.States.Visualize,{currentVehicleConfigurationID:t.VehicleConfiguration,currentVehicleDescription:t.VehicleDescription,currentVehicleTireOptionID:t.TireOptionID,currentVehicleTireOptionDescription:t.TireOptionString,currentPaintScheme:void 0,vehicleHasAngledImage:void 0,vehicleHasSideImage:void 0,currentTire:void 0,currentWheel:void 0,currentWheelFitment:void 0,currentTireOption:void 0,currentVehicleDescriptionModel:void 0}),!0});var i=e.PromiseHelper.then(e.api.authenticated,function(){return e.api.settings.getSettings().done(function(e){n.settingsFromAPI=e})});e.PromiseHelper.all([this.style.initialized,i]).done(function(){n.events.trigger("initialized",void 0)}),this.onStateChanged({newState:this.state.currentState,oldState:void 0,newData:void 0})}},{key:"initializeState",value:function(){var t=this;this.state=new e.state.RideStylerShowcaseState(e.States.ChooseVehicle),!0===this.settings.debug.state&&(this.state.debugCallback=function(t,n){var i=n?"Finished":"Beginning",r="to "+e.States[t.newState];"number"==typeof t.oldState&&(r="from "+e.States[t.oldState]+" "+r),console.log("[RideStylerShowcase State] "+r+" "+i,t)}),this.state.onChange(function(e){return t.events.trigger("state-changed",e)&&t.onStateChanged(e)})}},{key:"initializeStyle",value:function(){var t=this;this.style=new e.styles.StyleManager(this.container),this.style.onResize=function(){return t.events.trigger("resize",void 0)},this.style.onResized=function(){return t.events.trigger("resized",void 0)},this.style.onBreakpointChanged=function(e){return t.events.trigger("breakpoint-changed",e)},this.container.classList.contains("ridestyler-showcase")||this.container.classList.add("ridestyler-showcase")}},{key:"initializeFilters",value:function(){var t=this;this.filters=new e.filters.FilterController,this.events.on("vehicle-selected",function(e){t.filters.setVehicle({vehicleConfigurationID:e.VehicleConfiguration,vehicleTireOptionID:e.TireOptionID})})}},{key:"initializeComponents",value:function(){var e=this.container,t=!0,n=!1,i=void 0;try{for(var r,o=this.otherComponents[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e.appendChild(a.component)}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}var s=!0,l=!1,c=void 0;try{for(var u,h=this.mainComponents[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var p=u.value;p.setVisible(!1),e.appendChild(p.component)}}catch(e){l=!0,c=e}finally{try{!s&&h.return&&h.return()}finally{if(l)throw c}}}},{key:"onStateChanged",value:function(e){return this.updateCurrentComponent(e),!0}},{key:"updateCurrentComponent",value:function(t){var n=this.stateComponentMapping[t.newState],i=void 0,r="ridestyler-showcase-state-";"number"==typeof t.oldState&&(i=this.stateComponentMapping[t.oldState],this.container.classList.remove(r+e.States[t.oldState].toLowerCase())),this.container.classList.add(r+e.States[t.newState].toLowerCase()),i&&i.isVisible()?i.hide(function(){n.show()}):n.show()}}]),t}();e.RideStylerShowcaseInstance=t,e.create=function(e,n){return new t(e,n)}}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(){function e(t){_classCallCheck(this,e),this.showcase=t,this.events=t.events,this.state=t.state,this.initializeComponent()}return _createClass(e,[{key:"initializeComponent",value:function(){}}]),e}();e.ComponentBase=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return i.component=document.createElement("div"),i.component.classList.add("ridestyler-showcase-main-component"),e.StyleHelper.transitionsSupported&&i.component.addEventListener(e.StyleHelper.transitionEndEvent,function(e){e.target===i.component&&i.onTransitionEnd()}),i.setVisible(!1),i.buildComponent(i.component),i.initializeMainComponent(),i}return _inherits(n,t),_createClass(n,[{key:"initializeComponent",value:function(){}},{key:"initializeMainComponent",value:function(){}},{key:"isVisible",value:function(){return this._visible}},{key:"setVisible",value:function(t){var n=this;this._visible!==t&&(this._visible=t,this.setVisibleStyling(t),e.StyleHelper.skipTransition(this.component,function(){return t?n.show():n.hide()}))}},{key:"setVisibleStyling",value:function(e){var t=this.component.style;e?(t.visibility="visible",t.top=""):(t.visibility="hidden",t.top="1000%")}},{key:"callWhenDoneAnimating",value:function(t){var n=this;this._animating?e.StyleHelper.onNextTransitionEnd(this.component,function(){return t.call(n)}):t.call(this)}},{key:"onShow",value:function(){}},{key:"onDisplay",value:function(){}},{key:"onShown",value:function(){}},{key:"onHide",value:function(){}},{key:"onHidden",value:function(){}},{key:"show",value:function(t){var n=this;if(this.component.classList.contains("in"))return this._visible=!0,void("function"==typeof t&&this.callWhenDoneAnimating(t));this._animating?e.StyleHelper.onNextTransitionEnd(this.component,function(){return n.show(t)}):(this._visible=!0,this._animating=e.StyleHelper.transitionsSupported,this.onShow(),this.setVisibleStyling(!0),e.StyleHelper.triggerReflow(this.component),this.onDisplay(),this.callWhenDoneAnimating(function(){this.onShown(),"function"==typeof t&&t.call(this)}),this.component.classList.add("in"))}},{key:"hide",value:function(t){var n=this;if(!this.component.classList.contains("in"))return this._visible=!1,void("function"==typeof t&&this.callWhenDoneAnimating(t));this._animating?e.StyleHelper.onNextTransitionEnd(this.component,function(){return n.hide(t)}):(this._visible=!1,this._animating=e.StyleHelper.transitionsSupported,this.onHide(),this.callWhenDoneAnimating(function(){this.onHidden(),"function"==typeof t&&t.call(this)}),this.component.classList.remove("in"),e.StyleHelper.transitionsSupported||this.setVisibleStyling(!1))}},{key:"onTransitionEnd",value:function(){this.component.classList.contains("in")||this.setVisibleStyling(!1),this._animating=!1}}]),n}(e.ComponentBase);e.MainComponentBase=t}(RideStylerShowcase||(RideStylerShowcase={}));var _slicedToArray=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t={width:200,height:200},n={width:50,height:50},i={width:800,height:800},r={PositionY:0,PositionX:0},o=function(){function o(t,n){var i=this;if(_classCallCheck(this,o),this.resizeCallback=function(){i.update()},this.container=t,this.action=n.action,this.image=document.createElement("img"),this.container.appendChild(this.image),this.events=[],n.transitionClass&&(this.image.classList.add(n.transitionClass),this.useTransitions=!0),this.transitionInClass=n.transitionInClass,void 0===n.padding?this.padding=e.StyleHelper.calculatePadding:!1===n.padding?this.padding={width:0,height:0}:this.padding=n.padding,this.imageLoadCallback=n.onLoad,this.imageErrorCallback=n.onError,this.image.addEventListener("error",function(e){return i.onImageError(e)}),this.image.addEventListener("load",function(e){return i.onImageLoad(e)}),"object"===_typeof(n.baseInstructions)&&(this.baseInstructions=n.baseInstructions),this.instructions&&!1!==n.loadInitially&&this.update(this.instructions),!1!==n.listenToWindowResize){var r=void 0,a=function(){clearTimeout(r),r=setTimeout(function(){i.update()},500)};window.addEventListener("resize",a,!1),this.events.push([window,"resize",a])}}return _createClass(o,[{key:"destroy",value:function(){var e=!0,t=!1,n=void 0;try{for(var i,r=this.events[Symbol.iterator]();!(e=(i=r.next()).done);e=!0){var o=i.value,a=_slicedToArray(o,3),s=a[0],l=a[1],c=a[2];s.removeEventListener(l,c)}}catch(e){t=!0,n=e}finally{try{!e&&r.return&&r.return()}finally{if(t)throw n}}}},{key:"onImageError",value:function(e){"function"==typeof this.imageErrorCallback&&this.imageErrorCallback(this.image,e)}},{key:"onImageLoad",value:function(e){"function"==typeof this.imageLoadCallback&&this.imageLoadCallback(this.image,e),this.visible||this.show()}},{key:"show",value:function(){var t=this;this.visible||(this.useTransitions&&e.VisibilityHelper.show(this.image,this.transitionInClass).done(function(){"function"==typeof t.imageDisplayCallback&&t.imageDisplayCallback(t.image)}),this.visible=!0)}},{key:"calculateRenderSize",value:function(){var r=this.container,o=r.clientWidth,a=r.clientHeight;if(!a||!o)return t;var s="function"==typeof this.padding?this.padding(this.container):this.padding,l={width:o-s.width,height:a-s.height},c=window.devicePixelRatio||1;return l.width*=c,l.height*=c,e.BoxHelper.floor(e.BoxHelper.bound(l,n,i))}},{key:"sizeIsDifferent",value:function(e){if(!this.currentSize)return!0;var t=this.currentSize,n=t.width,i=t.height,r=e.width,o=e.height;return n!==r||i!==o}},{key:"update",value:function(t){var n=!1;t&&this.instructions!==t&&(this.instructions=t,n=!0);var i=this.calculateRenderSize();if(this.sizeIsDifferent(i)&&(this.currentSize=i,n=!0),n){var o=this.currentSize,a=o.width,s=o.height;this.image.src=ridestyler.ajax.url(this.action,e.ObjectHelper.assign({Width:a,Height:s},r,this.baseInstructions,this.instructions))}}}]),o}();e.ResizeableResourceImage=o}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,t),_createClass(n,[{key:"initializeComponent",value:function(){var t=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-background"});e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-background-texture",appendTo:t});this.component=t}}]),n}(e.ComponentBase);e.RideStylerShowcaseBackground=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-button-picker",n=t+"-option",i=n+"-active",r=1,o=function(o){function a(n,i){_classCallCheck(this,a);var o=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,n));return o.component=e.HTMLHelper.createElement("div",{className:t,style:{height:"2.5em"}}),e.HTMLHelper.createElement("div",{className:t+"-title",text:i.title,appendTo:o.component}).addEventListener("click",function(){switch(o.optionContainer.style.opacity="0"==o.optionContainer.style.opacity?"1":"0",o.optionContainer.style.transform="scaleY(0)"==o.optionContainer.style.transform?"scaleY(1)":"scaleY(0)",o.optionContainer.style.height="0px"==o.optionContainer.style.height?"auto":"0px",r){case 1:o.component.style.height="2.5em"==o.component.style.height?"4.5em":"2.5em";break;case 2:o.component.style.height="2.5em"==o.component.style.height?"7em":"2.5em";break;case 3:o.component.style.height="2.5em"==o.component.style.height?"9.25em":"2.5em";break;case 4:o.component.style.height="2.5em"==o.component.style.height?"11.25em":"2.5em";break;default:o.component.style.height="2.5em"}}),o.optionContainer=e.HTMLHelper.createElement("div",{className:t+"-option-container",appendTo:o.component,style:{opacity:"0",height:"0px",transform:"scaleY(0)"}}),o.optionContainer.addEventListener("click",function(e){return o.onOptionClick(e)}),o.optionContainer.addEventListener("DOMNodeInserted",function(){switch(o.optionContainer.style.opacity="1",o.optionContainer.style.transform="scaleY(1)",o.optionContainer.style.height="auto",r){case 1:o.component.style.height="4.5em";break;case 2:o.component.style.height="7em";break;case 3:o.component.style.height="9.25em";break;case 4:o.component.style.height="11.25em";break;default:o.component.style.height="2.5em",o.optionContainer.style.opacity="0",o.optionContainer.style.transform="scaleY(0)",o.optionContainer.style.height="0px"}}),o}return _inherits(a,o),_createClass(a,[{key:"setOptions",value:function(t){e.HTMLHelper.empty(this.optionContainer),r=t.length;var o=document.createDocumentFragment(),a=!0,s=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value,p=Object.assign(e.HTMLHelper.createElement("div",{className:n,text:h.label}),{value:h.value});h.active&&p.classList.add(i),o.appendChild(p)}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}this.optionContainer.appendChild(o)}},{key:"onOptionClick",value:function(t){for(var r=t.target;r!==this.optionContainer;){if(r.classList.contains(n)){var o=!0,a=!1,s=void 0;try{for(var l,c=e.HTMLHelper.childrenWithClasses(this.optionContainer,i)[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){l.value.classList.remove(i)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}return r.classList.add(i),void("function"==typeof this.optionSelectedCallback&&this.optionSelectedCallback(r.value))}r=r.parentElement}}}]),a}(e.ComponentBase);e.RideStylerShowcaseButtonPicker=o}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,{title:e.strings.getString("change-wheel-size")}));return i.component.classList.add("ridestyler-showcase-change-wheel-size"),i}return _inherits(n,t),_createClass(n,[{key:"setFitmentOptions",value:function(t,n){var i={},r=[],o=!0,a=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,h=u.DiameterMin;h in i==!1&&(i[h]=!0,r.push([h,u]))}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}r.sort(function(e,t){return e[0]-t[0]}),1===r.length&&(this.component.style.display="none"),this.setOptions(e.ArrayHelper.map(r,function(e){return{label:e[0]+"″",value:e[1],active:e[1]===n}}))}}]),n}(e.RideStylerShowcaseButtonPicker);e.RideStylerShowcaseChangeWheelSize=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-modal",n=t+"-backdrop",i=function(i){function o(e,t){_classCallCheck(this,o);var n=_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e));return n.options=t,n.createBackdropIfNeeded(),n.buildModal(),n.setVisibility(!1),n.parent=e.container,n.parent.appendChild(n.component),n}return _inherits(o,i),_createClass(o,[{key:"buildModal",value:function(){var n=this;this.component=Object.assign(e.HTMLHelper.createElement("div",{className:t}),{modal:this}),this.options.full&&this.component.classList.add(t+"-full"),e.HTMLHelper.createElement("button",{className:t+"-close",appendTo:this.component}).addEventListener("click",function(){n.hide()}),this.options.actions&&this.buildActions(this.options.actions)}},{key:"buildActions",value:function(n){var i=this,r=e.HTMLHelper.createElement("div",{className:t+"-actions",appendTo:this.component}),o=function(t){e.HTMLHelper.createButton(e.ObjectHelper.assign({appendTo:r},t)).addEventListener("click",function(){"function"==typeof t.action?t.action():"hide-modal"===t.action&&i.hide()})},a=!0,s=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){o(c.value)}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}}},{key:"onShow",value:function(){this.events.trigger("modal-show",{modal:this})}},{key:"onShown",value:function(){}},{key:"onHide",value:function(){this.events.trigger("modal-hide",{modal:this})}},{key:"onHidden",value:function(){this.options.removeOnHidden&&this.parent.removeChild(this.component)}},{key:"show",value:function(){var t=this,n=e.VisibilityHelper.show(this.component);return this.onShow(),n.done(function(){return t.onShown()}),n}},{key:"hide",value:function(){var t=this,n=e.VisibilityHelper.hide(this.component);return this.onHide(),n.done(function(){return t.onHidden()}),n}},{key:"setVisibility",value:function(t){e.VisibilityHelper.setVisibility(this.component,t)}},{key:"createBackdropIfNeeded",value:function(){e.HTMLHelper.hasChildWithClass(this.showcase.container,n)||new r(this.showcase)}}]),o}(e.ComponentBase);e.RideStylerShowcaseModal=i;var r=function(i){function r(e){_classCallCheck(this,r);var t=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.buildBackdrop(),t.setVisibility(!1),e.container.appendChild(t.component),t}return _inherits(r,i),_createClass(r,[{key:"buildBackdrop",value:function(){var i=this;this.component=e.HTMLHelper.createElementWithClass("div",n),this.component.addEventListener("click",function(){var n=e.HTMLHelper.lastSiblingWithClass(i.component,t,"in");n&&n.modal.hide()})}},{key:"initializeComponent",value:function(){var e=this;this.events.on("modal-show",function(t){e.update()}),this.events.on("modal-hide",function(t){e.update()})}},{key:"update",value:function(){this[e.HTMLHelper.hasSiblingWithClass(this.component,t,"in")?"show":"hide"]()}},{key:"show",value:function(){return e.VisibilityHelper.show(this.component)}},{key:"hide",value:function(){return e.VisibilityHelper.hide(this.component)}},{key:"setVisibility",value:function(t){e.VisibilityHelper.setVisibility(this.component,t)}}]),r}(e.ComponentBase);e.RideStylerShowcaseModalBackdrop=r,i=e.RideStylerShowcaseModal||(e.RideStylerShowcaseModal={})}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-option-menu",n=t+"-option",i=n+"-active",r=t+"-loading",o=function(){function o(n,i){var r=this;_classCallCheck(this,o),this.name=n,this.component=e.HTMLHelper.createElement({className:t}),this.component.addEventListener("click",function(e){return r.onClicked(e)}),i?this.setOptions(i):this.setLoading(!0)}return _createClass(o,[{key:"setLoading",value:function(e){this.component.classList.toggle(r,e)}},{key:"generateOptionElement",value:function(t){var i=e.HTMLHelper.createElement("div",{className:n,text:t.label});return i.value=t.value,i}},{key:"clearOptions",value:function(){e.HTMLHelper.empty(this.component)}},{key:"appendOptions",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=e[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.component.appendChild(this.generateOptionElement(a))}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"setOptions",value:function(e){this.clearOptions(),this.appendOptions(e),this.setLoading(!1)}},{key:"setValue",value:function(e){for(var t=0;t<this.component.children.length;t++){var n=this.component.children[t],r=n.value===e;n.classList.toggle(i,r),r&&(this.value=e)}}},{key:"onClicked",value:function(t){var r=t.target;if(r.classList.contains(n)&&!r.classList.contains(i)){var o=e.HTMLHelper.firstChildWithClass(this.component,i),a=r;o&&o.classList.remove(i),a.classList.add(i),this.value=a.value,"function"==typeof this.onChange&&this.onChange(a.value)}}}]),o}();e.RideStylerShowcaseOptionMenu=o}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-pagination-option",n=t+"-selected",i=t+"-loading",r=t+"-loader",o=function(o){function a(){_classCallCheck(this,a);var e=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments));return e.hasMoreResults=!0,e.isLoading=!1,e.isFirstLoad=!0,e.enableShowNoResults=!0,e}return _inherits(a,o),_createClass(a,[{key:"initializeComponent",value:function(){var t=this;this.component=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination"}),this.optionContainer=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-wrapper",appendTo:this.component}),this.prevButton=e.HTMLHelper.createElement("button",{className:"ridestyler-showcase-pagination-prev",appendTo:this.component,append:e.HTMLHelper.createIcon("chevron-left")}),this.nextButton=e.HTMLHelper.createElement("button",{className:"ridestyler-showcase-pagination-next",appendTo:this.component,append:e.HTMLHelper.createIcon("chevron-right")}),this.component.addEventListener("click",function(e){return t.onComponentClick(e)}),this.clearOptions(),setTimeout(function(){return t.loadMore()},0),e.ScrollHelper.attachWheelListener(this.component,function(e){var n=e.deltaX||e.deltaY,i=t.optionContainer,r=i.scrollLeft,o=i.scrollWidth,a=i.offsetWidth,s=Math.min(r+n,o-a);t.optionContainer.scrollLeft=s,t.touchScrollHandler.setValues(s,0),t.onScroll()}),this.touchScrollHandler=new Impetus({source:this.optionContainer,bounce:!1,multiplier:-1,update:function(e,n){t.optionContainer.scrollLeft=Math.floor(e),t.optionContainer.scrollTop=n,t.onScroll()},boundY:[0,0]})}},{key:"loadMore",value:function(){var e=this;return this._loadMore().always(function(){e.clearOptionLoader(),e.updateBounds()})}},{key:"updateBounds",value:function(){var e=this.optionContainer,t=e.scrollWidth,n=e.offsetWidth;this.touchScrollHandler.setBoundX([0,t-n])}},{key:"onScroll",value:function(){this.updatePaginationButtons();var e=this.optionContainer;e.scrollLeft>=e.scrollWidth-e.offsetWidth-10&&this.onEndVisible(),this.updateBounds()}},{key:"onEndVisible",value:function(){!this.isLoading&&this.hasMoreResults&&(this.addOptionLoader(),this.updateBounds(),this.loadMore())}},{key:"onComponentClick",value:function(e){for(var n=e.target;n!==this.component;){if(n.classList.contains(t))return void this.onOptionClick(n);if(n===this.prevButton)return void this.previousPage();if(n===this.nextButton)return void this.nextPage();n=n.parentElement}}},{key:"updatePaginationButtons",value:function(){var e=this.optionContainer;this.prevButton.disabled=0===e.scrollLeft,this.nextButton.disabled=e.scrollLeft>=e.scrollWidth-e.clientWidth-1}},{key:"addOptionLoader",value:function(){this.optionContainer.appendChild(e.HTMLHelper.createElement("div",{className:t+" "+r}))}},{key:"clearOptionLoader",value:function(){e.HTMLHelper.removeChildrenWithClasses(this.optionContainer,r)}},{key:"addOptionElements",value:function(e){var t=!1;if(e instanceof DocumentFragment)t=0===e.childNodes.length,this.optionContainer.appendChild(e);else if(e instanceof Node)this.optionContainer.appendChild(e);else if(e.length){var n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.optionContainer.appendChild(s)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}else t=!0;t&&this.showNoResults(),this.clearOptionLoader(),this.update(),this.isFirstLoad=!1}},{key:"showNoResults",value:function(){this.noResultsElement=e.HTMLHelper.createElement("div",{className:t+" ridestyler-showcase-pagination-option-no-results",text:e.strings.getString("no-results"),appendTo:this.optionContainer})}},{key:"clearOptions",value:function(){e.HTMLHelper.empty(this.optionContainer),this.addOptionLoader(),this.isFirstLoad=!0}},{key:"update",value:function(){this.updatePaginationButtons(),this.updateBounds()}},{key:"scrollTo",value:function(e){var t=this,n=this.optionContainer.scrollLeft,i=Math.abs(n-e)/2;TinyAnimate.animate(n,e,i,function(n){t.optionContainer.scrollLeft=n,t.touchScrollHandler.setValues(e,0)},"easeOutCubic",function(){return t.update()})}},{key:"previousPage",value:function(){this.scrollTo(this.optionContainer.scrollLeft-this.optionContainer.clientWidth)}},{key:"nextPage",value:function(){this.scrollTo(this.optionContainer.scrollLeft+this.optionContainer.clientWidth)}},{key:"selectOption",value:function(e){if(this.selectedOption!==e){var t=this.selectedOption;t&&t.classList.remove(n,i),e.classList.add(n),this.selectedOption=e}}},{key:"setOptionIsLoading",value:function(e){this.selectedOption&&this.selectedOption.classList[e?"add":"remove"](i)}},{key:"onOptionClick",value:function(e){this.selectOption(e)}}]),a}(e.ComponentBase);e.RideStylerShowcasePaginationComponent=o}(RideStylerShowcase||(RideStylerShowcase={}));var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)};!function(e){var t=function(t){function n(e){_classCallCheck(this,n);var t=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e)),i=e.state.getData().currentVehicleConfigurationID;return t.vehicleConfigurationID=i,t}return _inherits(n,t),_createClass(n,[{key:"_loadMore",value:function(){var t=this;return this.hasMoreResults=!1,this.isLoading=!0,e.api.request("vehicle/getpaintschemedescriptions",{VehicleConfiguration:this.vehicleConfigurationID}).done(function(e){return t.createOptions(e.Schemes)}).always(function(){return t.isLoading=!1})}},{key:"createOptions",value:function(t){var i=document.createDocumentFragment(),r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option ridestyler-showcase-paint-option",appendTo:i});u.paintScheme=c;var h=c.Colors[0];e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-display ridestyler-showcase-paint-swatch",style:{backgroundColor:h.Hex},appendTo:u}),e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label",text:c.SchemeName,appendTo:u}),e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label-secondary",text:n.createAttributeLabel(h.Attributes),appendTo:u})}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}e.HTMLHelper.empty(this.optionContainer),this.optionContainer.appendChild(i),this.update()}},{key:"onOptionClick",value:function(e){var t=e.paintScheme;t&&(_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"onOptionClick",this).call(this,e),this.state.extendData({currentPaintScheme:t}),"function"==typeof this.onPaintSchemeSelected&&this.onPaintSchemeSelected(t))}}],[{key:"createAttributeLabel",value:function(e){if(0===e)return"Glossy";var t=[];return e&&t.push("Matte"),e&&t.push("Metallic"),e&&t.push("Pearlescent"),0===t.length?"Glossy":t.join(", ")}}]),n}(e.RideStylerShowcasePaginationComponent);e.RideStylerShowcasePaintSelector=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-popover",n=function(){function n(){_classCallCheck(this,n),this.component=e.HTMLHelper.createElement({className:t})}return _createClass(n,[{key:"show",value:function(){this.setVisible(!0)}},{key:"hide",value:function(){this.setVisible(!1)}},{key:"setVisible",value:function(e){this.component.classList.toggle("in",e)}},{key:"isVisible",value:function(){return this.component.classList.contains("in")}},{key:"toggle",value:function(){this.setVisible(!this.isVisible())}}]),n}();e.RideStylerShowcasePopover=n}(RideStylerShowcase||(RideStylerShowcase={}));var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)};!function(e){var t="ridestyler-showcase-product-modal",n=t+"-title",i=function(i){function r(e){return _classCallCheck(this,r),_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,{removeOnHidden:!0}))}return _inherits(r,i),_createClass(r,[{key:"buildModal",value:function(){var i=this;_get(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"buildModal",this).call(this),this.component.classList.add(t),this.toggleButton=new e.RideStylerShowcaseToggleButton(this.showcase),this.toggleButton.onChanged=function(e){var t=!0,n=!1,r=void 0;try{for(var o,a=i.pages[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if(s.label===e)return void i.showPage(s)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}},this.component.appendChild(this.toggleButton.component),e.HTMLHelper.createElement("h1",{className:n,appendTo:this.component,append:[this.brandTitleElement=e.HTMLHelper.createElementWithClass("span",n+"-brand"),this.titleElement=e.HTMLHelper.createElement("span"),this.subtitleElement=e.HTMLHelper.createElementWithClass("span",n+"-subtitle")]}),this.summaryContainer=e.HTMLHelper.createElement({className:t+"-summary-container"}),this.imageContainer=e.HTMLHelper.createElement({className:t+"-image",appendTo:this.summaryContainer}),this.image=this.createImage(),this.summaryElement=e.HTMLHelper.createElement({className:t+"-summary",appendTo:this.summaryContainer}),this.addPage({label:e.strings.getString("summary"),container:this.summaryContainer},!0)}},{key:"addPage",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.pages||(this.pages=[]),this.pages.push(t),this.toggleButton.addOption({label:t.label,value:t.label}),n?this.showPage(t):e.VisibilityHelper.setVisibility(t.container,!1),t.container.classList.add("ridestyler-showcase-product-modal-page"),this.component.appendChild(t.container)}},{key:"showPage",value:function(t){var n=!0,i=!1,r=void 0;try{for(var o,a=this.pages[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;e.VisibilityHelper.setVisibility(s.container,s===t)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}this.toggleButton.setValue(t.label)}},{key:"onHidden",value:function(){this.image.destroy()}}]),r}(e.RideStylerShowcaseModal);e.RideStylerShowcaseProductModal=i}(RideStylerShowcase||(RideStylerShowcase={}));var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)};!function(e){var t=function(t){function n(){_classCallCheck(this,n);var e=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments));return e.resultsPerLoad=20,e.count=-1,e.index=0,e}return _inherits(n,t),_createClass(n,[{key:"_loadMore",value:function(){var t=this;this.isLoading=!0;var n=void 0;n=this.count>-1?e.PromiseHelper.resolved(this.count):this.countResults(this.currentFilters);var i=this.resultsPerLoad;return e.PromiseHelper.then(n,function(n){t.count=n;var r=e.ObjectHelper.assign({Start:t.index,Count:i},t.currentFilters);return t.getResults(r).done(function(e){t.index+=i,t.hasMoreResults=t.index+i<n,t.createOptions(e)})}).always(function(){return t.isLoading=!1})}},{key:"setFilters",value:function(e){this.clearOptions(),this.count=-1,this.index=0,this.currentFilters=e,this.loadMore()}},{key:"updateFilters",value:function(t){this.setFilters(e.ObjectHelper.assign(this.currentFilters,t))}},{key:"createOptions",value:function(t){var n=document.createDocumentFragment(),i=!0,r=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;if(this.productFilter(l)){var c=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option",appendTo:n});c.product=l;var u=this.productImageSource(l);u&&e.HTMLHelper.createElement("img",{className:"ridestyler-showcase-pagination-option-display",appendTo:c,properties:{src:u}});var h=this.productImageLabels(l);e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label",text:h.primary,appendTo:c}),h.secondary&&e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label-secondary",text:h.secondary,appendTo:c}),h.tertiary&&e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-pagination-option-label-tertiary",text:h.tertiary,appendTo:c})}}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}this.addOptionElements(n)}},{key:"onOptionClick",value:function(e){var t=e.product;t&&(_get(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"onOptionClick",this).call(this,e),this.onProductClick(t))}},{key:"onProductClick",value:function(e){"function"==typeof this.productSelectedCallback&&this.productSelectedCallback(e)}}]),n}(e.RideStylerShowcasePaginationComponent);e.RideStylerShowcaseProductSelector=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-qr-display",n=function(){function n(i){_classCallCheck(this,n),this.component=e.HTMLHelper.createElement("div",{className:t}),this.qrCodeElement=e.HTMLHelper.createElement("a",{className:t+"-image",appendTo:this.component,properties:{target:"_blank"}}),this.qrCode=new QRCode(this.qrCodeElement),i&&this.displayURL(i)}return _createClass(n,[{key:"displayURL",value:function(e){this.qrCodeElement.href=e,this.qrCode.makeCode(e)}}]),n}();e.RideStylerShowcaseQRCodeComponent=n}(RideStylerShowcase||(RideStylerShowcase={}));var _get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)},_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){!function(t){var n="ridestyler-showcase-share-button",i=function(){function t(i){var r=this;_classCallCheck(this,t),this.component=e.HTMLHelper.createButton({className:n}),i.className&&this.component.classList.add(i.className),i.title&&(this.component.title=i.title),this.component.addEventListener("click",function(){return r.onClick()})}return _createClass(t,[{key:"setURL",value:function(e){this.currentURL=e}},{key:"setTags",value:function(e){this.tags=e}},{key:"setMessage",value:function(e){this.message=e}},{key:"onClick",value:function(){this.currentURL&&this.share()}},{key:"share",value:function(){}},{key:"openNewWindow",value:function(e,t){var n=(t=t||{}).width||550,i=t.height||420,r=screen.height,o=screen.width,a=r>i?Math.round(r/2-i/2):0,s=Math.round(o/2-n/2),l=t.target||"share",c=[],u=function(e,t){return c.push(e+"="+t)},h=function(e,t,n){"boolean"!=typeof t&&(t=n),u(e,t?"yes":"no")};h("scrollbars",t.enableScrollbars,!0),h("resizable",t.enableResizeable,!0),h("toolbar",t.enableToolbar,!1),h("location",t.enableLocation,!0),u("width",n.toString()),u("height",i.toString()),u("top",a.toString()),u("left",s.toString()),window.open(e,l,"_blank"!==l?c.join(","):"")}},{key:"getShareRedirectURL",value:function(){var t="https://app.ridestyler.net";return e.api.environment===e.api.Environment.Alpha?t="http://app-alpha.ridestyler.net":e.api.environment===e.api.Environment.Beta&&(t="http://app-beta.ridestyler.net"),t+"/shared.html"}}]),t}();t.ShareButton=i;var r=function(t){function r(){return _classCallCheck(this,r),_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{className:n+"-twitter",title:"Twitter"}))}return _inherits(r,i),_createClass(r,[{key:"share",value:function(){var t="https://twitter.com/intent/tweet?",n=["url="+encodeURIComponent(this.currentURL)];this.message&&n.push("text="+encodeURIComponent(this.message)),this.tags&&this.tags.length&&n.push("hashtags="+e.ArrayHelper.map(this.tags,function(e){return encodeURIComponent(e)}).join(",")),t+=n.join("&"),this.openNewWindow(t)}}]),r}();t.TwitterShareButton=r;var o=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{className:n+"-facebook",title:"Facebook"}))}return _inherits(t,i),_createClass(t,[{key:"share",value:function(){var e="https://www.facebook.com/dialog/share?",t=["app_id=1576380412582845","display=popup","href="+encodeURIComponent(this.currentURL),"redirect_uri="+encodeURIComponent(this.getShareRedirectURL())];this.tags&&this.tags.length&&t.push("hashtag="+encodeURIComponent("#"+this.tags[0])),e+=t.join("&"),this.openNewWindow(e)}}]),t}();t.FacebookShareButton=o;var a=function(e){function t(){return _classCallCheck(this,t),_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{className:n+"-link"}))}return _inherits(t,i),_createClass(t,[{key:"share",value:function(){this.openNewWindow(this.currentURL,{target:"_blank"})}}]),t}();t.NewWindowShareButton=a;var s=function(t){function r(){_classCallCheck(this,r);var t=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,{className:n+"-qr-code"}));return t.popover=new e.RideStylerShowcasePopover,t.component.appendChild(t.popover.component),t.qrCode=new e.RideStylerShowcaseQRCodeComponent,t.popover.component.appendChild(t.qrCode.component),t}return _inherits(r,i),_createClass(r,[{key:"setURL",value:function(e){_get(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"setURL",this).call(this,e),this.qrCode.displayURL(e)}},{key:"onClick",value:function(){this.popover.toggle()}}]),r}();t.QRShareButton=s}(e.share||(e.share={}))}(RideStylerShowcase||(RideStylerShowcase={}));var _createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),_get=function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(i)};!function(e){var t="ridestyler-showcase-share",n=function(n){function i(e,t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,{removeOnHidden:!0,full:!0}));return n.imageType=2,n.resizedCallback=function(){return n.updateViewport()},n.vehicleRenderInstructions=Object.assign({},t),n.onInstructionsChanged(),n}return _inherits(i,n),_createClass(i,[{key:"buildModal",value:function(){var n=this;_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"buildModal",this).call(this),this.component.classList.add(t);var r=new e.RideStylerShowcaseBackground(this.showcase);this.component.appendChild(r.component),e.HTMLHelper.createElement("h1",{appendTo:this.component,text:e.strings.getString("share-my-vehicle")}),e.HTMLHelper.createElement("p",{className:"ridestyler-showcase-share-instructions",text:e.strings.getString("share-instructions"),appendTo:this.component}),this.createShareButtons(),this.canSwitchAngle()&&(this.rotateElement=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-rotate-vehicle",appendTo:this.component}),this.rotateElement.addEventListener("click",function(){return n.switchAngle()}))}},{key:"createShareButtons",value:function(){this.shareButtons=[new e.share.FacebookShareButton,new e.share.TwitterShareButton,new e.share.QRShareButton,new e.share.NewWindowShareButton];var n=e.HTMLHelper.createElement({className:t+"-buttons",appendTo:this.component}),i=!0,r=!1,o=void 0;try{for(var a,s=this.shareButtons[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n.appendChild(l.component)}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}},{key:"onShow",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"onShow",this).call(this),this.setupViewport(),this.events.on("resized",this.resizedCallback)}},{key:"onHidden",value:function(){_get(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"onHidden",this).call(this),this.events.off("resized",this.resizedCallback)}},{key:"updateViewport",value:function(){this.vehicleViewport.Update(this.vehicleRenderInstructions)}},{key:"getShareURL",value:function(){var t="https://app.ridestyler.net";e.api.environment===e.api.Environment.Alpha?t="http://app-alpha.ridestyler.net":e.api.environment===e.api.Environment.Beta&&(t="http://app-beta.ridestyler.net");return t+"/share.cshtml?"+ridestyler.utils.toParamString(e.ObjectHelper.assign(ridestyler.auth.authenticateData(null),this.vehicleRenderInstructions))}},{key:"setupViewport",value:function(){var t=this,n=e.HTMLHelper.createElementWithClass("div","ridestyler-showcase-viewport");this.component.appendChild(n),n.addEventListener("click",function(){return t.switchAngle()}),this.vehicleViewport=new RideStylerViewport(n);var i=this.vehicleViewport.Update(this.vehicleRenderInstructions);this.rotateElement&&i.done(function(){t.rotateElement.classList.add("in")})}},{key:"canSwitchAngle",value:function(){var e=this.state.getData().currentVehicleDescriptionModel;return e.HasAngledImage&&e.HasSideImage}},{key:"onInstructionsChanged",value:function(){var t=this;this.getShareURL();this.setEnabled(!1),e.api.request("link/create",{URL:this.getShareURL()}).done(function(e){t.updateURL(e.ShortURL),t.setEnabled(!0)})}},{key:"setEnabled",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.shareButtons[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.component.disabled=!e}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"updateURL",value:function(t){var n=["vehicle"],i=e.strings.getString("check-out-my-vehicle");this.vehicleRenderInstructions.WheelFitment&&n.push("wheels");var r=!0,o=!1,a=void 0;try{for(var s,l=this.shareButtons[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;c.setURL(t),c.setTags(n),c.setMessage(i)}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}}},{key:"switchAngle",value:function(){this.canSwitchAngle()&&(2===this.imageType?this.imageType=1:this.imageType=2,this.vehicleRenderInstructions.Type=this.imageType,this.vehicleViewport.Update({Type:this.imageType}),this.onInstructionsChanged())}}]),i}(e.RideStylerShowcaseModal);e.RideStylerShowcaseShareModal=n}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-suspension-selector-element",n={Min:-4,Max:0},i=function(t){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,t),_createClass(i,[{key:"initializeComponent",value:function(){var t=this;this.component=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-suspension-selector"});var i=this.state.getData().currentVehicleDescriptionModel,r={min:n.Min,max:n.Max,start:0,step:1,decimalPlaces:1,unitAbbreviation:"″"},a=this.showcase.settingsFromAPI.SuspensionRanges,s=i.StyleType+i.DriveType;s in a==!1&&(s="Default");var l=a[s]||n;r.min=l.Min,r.max=l.Max,this.frontAndRear=new o(this.showcase,e.ObjectHelper.assign({label:e.strings.getString("suspension")},r)),this.frontAndRear.suspensionChangedCallback=function(){"function"==typeof t.suspensionChangeCallback&&t.suspensionChangeCallback({Suspension:t.frontAndRear.value})},this.component.appendChild(this.frontAndRear.component)}}]),i}(e.ComponentBase);e.RideStylerShowcaseSuspensionSelector=i;var r=function(e){function t(e,n){_classCallCheck(this,t);var i=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.options=n,i.value=n.start,i}return _inherits(t,e),_createClass(t,[{key:"onSuspensionChanged",value:function(e){this.value=e,"function"==typeof this.suspensionChangedCallback&&this.suspensionChangedCallback(e)}}]),t}(e.ComponentBase),o=function(n){function i(n,r){_classCallCheck(this,i);var o=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n,r));o.component=e.HTMLHelper.createElement("div",{className:t,append:e.HTMLHelper.createElement("div",{className:t+"-label",text:r.label})});var a=e.HTMLHelper.createElement("div",{className:t+"-slider",appendTo:o.component});return noUiSlider.create(a,{start:r.start,range:{min:r.min,max:r.max},step:r.step,pips:{mode:"steps",format:function(){var t=r.unitAbbreviation,n=r.decimalPlaces;return{to:function(e){return e.toFixed(n)+t},from:function(n){return parseFloat(n.replace(new RegExp(e.StringHelper.escapeRegExp(t)+"$"),""))}}}()}}),o.sliderElement=a,o.slider=o.sliderElement.noUiSlider,o.slider.on("update",function(e,t,n){o.onSuspensionChanged(n[0])}),o}return _inherits(i,r),i}()}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-tab-bar",n=t+"-tab",i=n+"-background",r=n+"-active",o=t+"-",a=function(i){function a(){return _classCallCheck(this,a),_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return _inherits(a,i),_createClass(a,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElement("div",{className:t}),this.setMode("vertical"),this.component.addEventListener("click",function(e){return n.onClick(e)})}},{key:"setMode",value:function(e){var t=this;if(this.mode!==e){var n=function(e,n){return t.component.classList.toggle(e,n)};"string"==typeof this.mode&&n(o+this.mode,!1),this.mode=e,n(o+e,!0),this.updateTabDisplay()}}},{key:"updateTabDisplay",value:function(){if(this.tabs){var e=100/this.tabs.length+"%",t=this.mode,n=!0,i=!1,r=void 0;try{for(var o,a=this.tabs[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;"vertical"===t?(s.element.style.height=e,s.element.style.width=""):(s.element.style.height="",s.element.style.width=e),s.updateBackgroundPolygon(t)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}}},{key:"setTabs",value:function(t){var n=void 0;if(0===t.length)n=[];else if(t[0]instanceof a.Tab)n=t;else{n=new Array(t.length);for(var i=0;i<t.length;i++){var r=t[i];n[i]=new a.Tab(r)}}this.tabs=e.ArrayHelper.copy(n),e.HTMLHelper.empty(this.component);n.length;var o=!0,s=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var h=c.value;this.component.appendChild(h.element)}}catch(e){s=!0,l=e}finally{try{!o&&u.return&&u.return()}finally{if(s)throw l}}this.updateTabDisplay(),this.currentTab=void 0,this.setActiveTab(n[0])}},{key:"clearActiveTab",value:function(){this.setActiveTab(void 0)}},{key:"setActiveTab",value:function(e){var t=this.currentTab;t!==e&&(this.currentTab=e,t&&t.element.classList.remove(r),e&&e.element.classList.add(r),e&&"function"==typeof this.tabSwitchedCallback&&this.tabSwitchedCallback({oldTab:t,newTab:e}))}},{key:"onClick",value:function(e){for(var t=e.target;t!==this.component;){if(t.classList.contains(n))return void this.onTabClick(this.tabForElement(t));t=t.parentElement}}},{key:"onTabClick",value:function(e){e&&this.setActiveTab(e)}},{key:"tabForLabel",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.tabs[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.label===e)return a}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}},{key:"tabForElement",value:function(e){var t=!0,n=!1,i=void 0;try{for(var r,o=this.tabs[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;if(a.element===e)return a}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}}}]),a}(e.ComponentBase);e.RideStylerShowcaseTabBar=a,function(t){var r=function(){function t(r){_classCallCheck(this,t),this.label=r.label,this.iconClass=r.icon,this.key=r.key,this.backgroundMode="horizontal",this.element=e.HTMLHelper.createElement("div",{className:n}),e.HTMLHelper.createIcon({icon:r.icon,appendTo:this.element,wrap:e.HTMLHelper.createElementWithClass("div",n+"-icon")});var o=e.HTMLHelper.createElement({className:i,appendTo:this.element});e.StyleHelper.svgSupported?e.HTMLHelper.createSVGElement("svg",{attributes:{width:"100%",height:"100%",preserveAspectRatio:"none",viewBox:"0 0 100 100"},append:this.backgroundPolygon=e.HTMLHelper.createSVGElement("polygon",{attributes:{fill:"black"}}),appendTo:o}):o.classList.add(i+"-nosvg"),this.element.title=r.label}return _createClass(t,[{key:"updateBackgroundPolygon",value:function(e){if(this.backgroundPolygon){var t="vertical"===e?30:15,n="vertical"===e?15:30;this.backgroundPolygon.setAttribute("points","vertical"===e?"0,0 100,0 100,"+(50-t/2)+" "+(100-n)+",50 100,"+(50+t/2)+" 100,100 0,100":"0,0 "+(50-t/2)+",0 50,"+t+" "+(50+t/2)+",0 100,0 100,100, 0,100")}}}]),t}();t.Tab=r}(a=e.RideStylerShowcaseTabBar||(e.RideStylerShowcaseTabBar={}))}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-table",n=t+"-head",i=t+"-body",r=i+"-loading",o=function(o){function a(r,o){_classCallCheck(this,a),o=e.ObjectHelper.assign({},o);var s=_possibleConstructorReturn(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,r));s.options=o,s.columns=o.columns;var l=e.HTMLHelper.createElement("table",{appendTo:s.component,className:t}),c=e.HTMLHelper.createElement("thead",{appendTo:l,className:n});return s.tbody=e.HTMLHelper.createElement("tbody",{appendTo:l,className:i}),s.generateHeaders(c),s.component=l,o.rows?s.appendRows(o.rows):o.startLoading&&s.setLoading(!0),s}return _inherits(a,o),_createClass(a,[{key:"generateHeaderCell",value:function(t){var n=t.header;if("function"==typeof n){var i=n(t);return"string"==typeof i?e.HTMLHelper.createElement("th",{text:i}):i}return e.HTMLHelper.createElement("th",{text:n})}},{key:"generateHeaders",value:function(t){var n=e.HTMLHelper.createElement("tr"),i=!0,r=!1,o=void 0;try{for(var a,s=this.columns[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n.appendChild(this.generateHeaderCell(l))}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}t.appendChild(n)}},{key:"generateRowCell",value:function(t,n){var i=n.cell;if("function"==typeof i){var r=i(t,n);return"string"==typeof r?e.HTMLHelper.createElement("td",{text:r}):r}return e.HTMLHelper.createElement("td",{text:t[i].toString()})}},{key:"generateRow",value:function(t){var n=e.HTMLHelper.createElement("tr"),i=!0,r=!1,o=void 0;try{for(var a,s=this.columns[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;n.appendChild(this.generateRowCell(t,l))}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return n}},{key:"appendRows",value:function(e){this.setLoading(!1);var t=document.createDocumentFragment(),n=!0,i=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t.appendChild(this.generateRow(s))}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}this.tbody.appendChild(t)}},{key:"setLoading",value:function(e){this.tbody.classList.toggle(r,e)}}],[{key:"formatCell",value:function(t,n,i){var r=t[n].toString();return e.HTMLHelper.createElement("td",{text:r?i?r+i:r:a.emptyCellString})}}]),a}(e.ComponentBase);o.emptyCellString="-",e.RideStylerShowcaseTable=o}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(t){_classCallCheck(this,n);var i=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t)),r=t.state.getData();return i.supportedVehicleImagery={angled:r.vehicleHasAngledImage,side:r.vehicleHasSideImage},i.vehicleTireOptionID=r.currentVehicleTireOptionID,i.defaultFilters={VehicleTireOption:i.vehicleTireOptionID,HasCatalogImage:!0},i.currentFilters=e.ObjectHelper.assign({},i.defaultFilters),i}return _inherits(n,t),_createClass(n,[{key:"countResults",value:function(t){return e.PromiseHelper.then(e.api.request("tire/countmodels",t),function(e){return e.Count})}},{key:"getResults",value:function(t){return e.PromiseHelper.then(e.api.request("tire/getmodeldescriptions",t),function(e){return e.Models})}},{key:"productFilter",value:function(e){return!0}},{key:"productImageSource",value:function(e){return ridestyler.tire.image({TireFitmentResourceType:2,TireModel:e.TireModelID,Width:100,Height:100,PositionX:1,PositionY:1,IncludeShadow:!0})}},{key:"productImageLabels",value:function(e){return{primary:e.TireBrandName,secondary:e.TireModelName,tertiary:e.Attributes&&e.Attributes.length?e.Attributes.join(", "):""}}}]),n}(e.RideStylerShowcaseProductSelector);e.RideStylerShowcaseTireSelector=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-toggle-button",n=t+"-option",i=n+"-active",r=function(r){function o(){return _classCallCheck(this,o),_possibleConstructorReturn(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return _inherits(o,r),_createClass(o,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElement({className:t}),this.component.addEventListener("click",function(e){return n.onClicked(e)})}},{key:"onClicked",value:function(e){var t=e.target;t.classList.contains(n)&&(t.classList.contains(i)||this.selectOptionElement(t))}},{key:"selectOptionElement",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e.value;if(this.value!==n){this.value=n;for(var r=0;r<this.component.children.length;r++){var o=this.component.children[r];o.classList.toggle(i,o===e)}"function"==typeof this.onChanged&&t&&this.onChanged(n)}}},{key:"setValue",value:function(e){if(this.value!==e)for(var t=0;t<this.component.children.length;t++){var n=this.component.children[t];if(n.value===e)return void this.selectOptionElement(n)}}},{key:"setOptions",value:function(t){e.HTMLHelper.empty(this.component),this.value=void 0;var n=!0,i=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;this.addOption(s)}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}},{key:"addOption",value:function(t){var i=e.ObjectHelper.assign(e.HTMLHelper.createElement("span",{className:n,text:t.label,appendTo:this.component}),{value:t.value});void 0===this.value&&this.selectOptionElement(i,!1)}}]),o}(e.ComponentBase);e.RideStylerShowcaseToggleButton=r}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return _inherits(n,t),_createClass(n,[{key:"initializeMainComponent",value:function(){var t=this;this.modal=new RideStylerVehicleSelectionModal({container:function(){return t.component.parentElement},callback:function(e){e.FinalSelectionMade&&t.onVehicleSelected(e.Vehicle)},ImageSettings:function(e){return t.generateVehiclePreviewSettings()},IncludeOETireOption:!0}),e.api.afterAuthenticated(function(){return t.onAuthenticated()})}},{key:"buildComponent",value:function(t){var n=this;t.classList.add("ridestyler-showcase-vehicle-selection"),this.contentContainer=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-content ridestyler-showcase-vehicle-selection-content",appendTo:t}),this.buildCopy(),this.chooseVehicleButton=e.HTMLHelper.createButton({text:e.strings.getString("select-your-vehicle"),appendTo:this.contentContainer,disabled:!0,large:!0,id:"ridestyler-showcase-select-your-vehicle",wrap:e.HTMLHelper.createElementWithID("div","ridestyler-showcase-select-your-vehicle-wrapper")}),this.chooseVehicleButton.addEventListener("click",function(){n.modal.Show()})}},{key:"buildCopy",value:function(){function t(t){var n=e.StringHelper.getFirstWord(t),i=t.substr(n.length);return[e.HTMLHelper.createElementWithText("strong",n),e.HTMLHelper.createTextElement(i)]}e.HTMLHelper.createElement("h1",{append:t(e.strings.getString("vehicle-select-visualize-intro")),appendTo:this.contentContainer}),e.HTMLHelper.createElement("h1",{append:t(e.strings.getString("vehicle-select-share-intro")),appendTo:this.contentContainer})}},{key:"onAuthenticated",value:function(){var t=this;this.chooseVehicleButton.disabled=!1,e.api.request("wheel/getmodels",{Count:3,HasCatalogImage:!0}).done(function(e){return t.showWheels(e.Models)})}},{key:"onVehicleSelected",value:function(e){this.events.trigger("vehicle-selected",e)}},{key:"showWheels",value:function(t){var n=void 0;this.wheelContainer?(n=this.wheelContainer,e.HTMLHelper.empty(n)):n=this.wheelContainer=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-vehicle-selection-wheel-showcase",appendTo:this.component});var i=[],r=function(){var e=!0,t=!1,r=void 0;try{for(var o,a=i[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){if(!o.value.complete)return}}catch(e){t=!0,r=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw r}}n.style.opacity="1"},o=!0,a=!1,s=void 0;try{for(var l,c=t[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value,h=ridestyler.wheel.image({WheelModel:u.WheelModelID,Width:400,Height:400,PositionX:1,PositionY:1,WheelFitmentResourceType:3,IncludeShadow:!0}),p=e.HTMLHelper.createElement("img");p.className="ridestyler-showcase-vehicle-selection-wheel-showcase-image",p.addEventListener("load",r),i.push(),p.src=h,n.appendChild(p)}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}}},{key:"generateVehiclePreviewSettings",value:function(){var e=Math.max(window.devicePixelRatio||0,1),t=.8*this.component.clientWidth;t||(t=500),(t*=e)>1920&&(t=1920);return{Width:~~t,Height:~~(.5*t)}}}]),n}(e.MainComponentBase);e.RideStylerShowcaseVehicleSelection=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-customizations",n=t+"-loading",i=function(i){function r(){_classCallCheck(this,r);var t=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments));return t.customizationComponentOrder=["paint","wheels","tires","suspension"],t.customizationComponentSettings={paint:{title:e.strings.getString("select-paint"),showFilterButton:!1,enabled:!0},wheels:{title:e.strings.getString("select-wheels"),showFilterButton:!0,enabled:!0},tires:{title:e.strings.getString("select-tires"),showFilterButton:!0,enabled:!0},suspension:{title:e.strings.getString("adjust-suspension"),showFilterButton:!1,enabled:!0}},t}return _inherits(r,i),_createClass(r,[{key:"buildComponent",value:function(n){var i=this;this.events.on("initialized",function(){i.setupViewport(n),i.updateTabLayout(),i.events.on("vehicle-selected",function(){i.vehicleDifferentFromState()&&i.viewport.Reset()}),i.showcase.settingsFromAPI.EnableSharing||(u.style.display="none");var t=e.api.request("tire/countbrands",i.showcase.filters.tireFilters.getFilters()),r=e.api.request("wheel/countbrands",i.showcase.filters.wheelFilters.getFilters());e.PromiseHelper.all([t,r]).done(function(e){var t=e[0].Count,n=e[1].Count;t||(i.customizationComponentSettings.tires.enabled=!1),n||(i.customizationComponentSettings.wheels.enabled=!1),i.updateTabs()})}),this.setupTabs(),this.changeWheelSize=new e.RideStylerShowcaseChangeWheelSize(this.showcase),this.changeWheelSize.optionSelectedCallback=function(e){i.state.extendData({currentWheelFitment:e}),i.updateViewport({WheelFitment:e.WheelFitmentID})},this.components=[this.vehicleDetails=new e.VehicleDetails(this.showcase),new e.WheelDetails(this.showcase),new e.TireDetails(this.showcase),this.tabBar,this.changeWheelSize],this.customizationComponentContainer=e.HTMLHelper.createElement("div",{className:t,appendTo:this.component});var r=!0,o=!1,a=void 0;try{for(var s,l=this.components[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;this.component.appendChild(c.component)}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}this.rotateElement=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-rotate-vehicle",appendTo:this.component}),this.rotateElement.addEventListener("click",function(){i.switchAngle()}),e.HTMLHelper.createElement({className:"ridestyler-showcase-customization-component-title-container",appendTo:this.component,append:[this.titleElement=e.HTMLHelper.createElement({className:"ridestyler-showcase-customization-component-title",appendTo:this.component}),this.filterButton=e.HTMLHelper.createButton({text:e.strings.getString("filter-results"),skinny:!0})]}),this.filterButton.addEventListener("click",function(){i.showFilters()});var u=e.HTMLHelper.createButton({className:"ridestyler-share-my-vehicle-button",text:e.strings.getString("share-my-vehicle"),appendTo:this.component});u.addEventListener("click",function(){new e.RideStylerShowcaseShareModal(i.showcase,i.currentRenderInstructions).show()}),this.events.on("resized",function(){i.isVisible()&&i.updateViewport()}),this.events.on("breakpoint-changed",function(e){i.updateTabLayout()}),this.vehicleDetails.paintSwatchClickCallback=function(){i.setActiveCustomizationComponent(i.customizationComponents.paint)}}},{key:"setupViewport",value:function(t){var n=this,i=e.HTMLHelper.createElement("div",{className:"ridestyler-showcase-viewport",appendTo:t});i.addEventListener("click",function(){n.switchAngle()}),this.viewport=new RideStylerViewport(i)}},{key:"updateTabs",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var r,o=this.customizationComponentOrder[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;this.customizationComponentSettings[a].enabled&&e.push(this.tabs[a])}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}this.tabBar.setTabs(e),this.updateTabLayout()}},{key:"updateTabLayout",value:function(){var e=this.showcase.style.getCurrentBreakpoint(),t=e&&"phone-portrait"===e[0];this.tabBar.setMode(t?"horizontal":"vertical")}},{key:"setupTabs",value:function(){var t=this;this.tabBar=new e.RideStylerShowcaseTabBar(this.showcase),this.tabs={paint:new e.RideStylerShowcaseTabBar.Tab({icon:"paint",key:"paint",label:e.strings.getString("paint")}),wheels:new e.RideStylerShowcaseTabBar.Tab({icon:"wheel",key:"wheels",label:e.strings.getString("wheels")}),tires:new e.RideStylerShowcaseTabBar.Tab({icon:"tire",key:"tires",label:e.strings.getString("tires")}),suspension:new e.RideStylerShowcaseTabBar.Tab({icon:"suspension",key:"suspension",label:e.strings.getString("suspension")})},this.tabBar.tabSwitchedCallback=function(e){var n=e.newTab.key;t.customizationComponents&&n in t.customizationComponents&&t.setActiveCustomizationComponent(t.customizationComponents[n])}}},{key:"vehicleDifferentFromState",value:function(){var t=this.state.getData();t.currentVehicleConfigurationID&&t.currentVehicleTireOptionID||console.error("Trying to show the visualize screen without a vehicle configuration or tire option.");var n=!e.GUIDHelper.areEqual(t.currentVehicleConfigurationID,this.vehicleConfigurationID),i=!e.GUIDHelper.areEqual(t.currentVehicleTireOptionID,this.vehicleTireOptionID);return n||i}},{key:"onDisplay",value:function(){if(this.vehicleDifferentFromState()){var e=this.state.getData();this.vehicleConfigurationID=e.currentVehicleConfigurationID,this.vehicleDescription=e.currentVehicleDescription,this.vehicleTireOptionID=e.currentVehicleTireOptionID,this.vehicleTireOptionDescription=e.currentVehicleTireOptionDescription,this.tabBar.clearActiveTab(),this.onVehicleChanged()}}},{key:"onVehicleChanged",value:function(){var t=this;e.HTMLHelper.empty(this.customizationComponentContainer),this.customizationComponentContainer.classList.add(n),this.updateTabs(),this.tabBar.clearActiveTab(),this.rotateElement.classList.remove("in");var i=e.api.request("vehicle/getdescriptions",{Count:1,VehicleConfiguration:this.vehicleConfigurationID}),r=e.api.request("vehicle/gettireoptiondetails",{VehicleConfiguration:this.vehicleConfigurationID});e.PromiseHelper.all([i,r]).done(function(n){var i=t.vehicleDescriptionModel=n[0].Descriptions[0],r=void 0,o=e.GUIDHelper.parse(t.vehicleTireOptionID),a=!0,s=!1,l=void 0;try{for(var c,u=n[1].Details[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;if(e.GUIDHelper.areEqual(h.TireOptionID,o)){r=h;break}}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}t.vehicleTireOption=r,t.state.extendData({vehicleHasAngledImage:i.HasAngledImage,vehicleHasSideImage:i.HasSideImage,currentTireOption:r,currentVehicleDescriptionModel:i}),t.initializeForNewVehicle()})}},{key:"initializeForNewVehicle",value:function(){var t=this;this.currentRenderInstructions={},this.tabBar.setActiveTab(this.tabs.paint),this.viewport.Reset(),this.customizationComponents={paint:new e.RideStylerShowcasePaintSelector(this.showcase),wheels:new e.RideStylerShowcaseWheelSelector(this.showcase),tires:new e.RideStylerShowcaseTireSelector(this.showcase),suspension:new e.RideStylerShowcaseSuspensionSelector(this.showcase)},this.showcase.filters.wheelFilters.onFiltersChanged=function(e){t.customizationComponents.wheels.setFilters(e)},this.showcase.filters.tireFilters.onFiltersChanged=function(e){t.customizationComponents.tires.setFilters(e)},this.customizationComponents.paint.onPaintSchemeSelected=function(e){t.customizationComponents.paint.setOptionIsLoading(!0),t.updateViewport({PaintColor:e.Colors[0].Hex}).always(function(){t.customizationComponents.paint.setOptionIsLoading(!1)})},this.customizationComponents.wheels.productSelectedCallback=function(n){t.customizationComponents.wheels.setOptionIsLoading(!0);2===t.imageType&&n.HasAngleImage||1===t.imageType&&n.HasSideImage||t.switchAngle(),e.api.request("wheel/getfitmentdescriptions",{VehicleConfiguration:t.vehicleConfigurationID,WheelModel:n.WheelModelID}).done(function(e){var i=e.Fitments,r=void 0,o=t.vehicleTireOption.Front.InsideDiameter;i.sort(function(e,t){return Math.abs(e.DiameterMin-o)-Math.abs(t.DiameterMin-o)}),r=i[0],t.state.extendData({currentWheel:n,currentWheelFitment:r}),t.changeWheelSize.setFitmentOptions(i,r),t.changeWheelSize.component.style.display="",t.updateViewport({WheelFitment:r.WheelFitmentID}).always(function(){t.customizationComponents.wheels.setOptionIsLoading(!1)})}).fail(function(){return t.customizationComponents.wheels.setOptionIsLoading(!1)})},this.customizationComponents.tires.productSelectedCallback=function(e){t.state.extendData({currentTire:e})},this.customizationComponents.suspension.suspensionChangeCallback=function(e){t.updateViewport(e)},this.setActiveCustomizationComponent(this.customizationComponents.wheels);var i=!0,r=!1,o=void 0;try{for(var a,s=e.ObjectHelper.getValues(this.customizationComponents)[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;l.component.classList.add("ridestyler-showcase-customization-component"),this.customizationComponentContainer.appendChild(l.component)}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}this.imageType=2,this.vehicleDescriptionModel.HasAngledImage||(this.imageType=1),this.rotateElement.style.display=this.canSwitchAngle()?"":"none",this.updateViewport({VehicleConfiguration:this.vehicleConfigurationID,VehicleTireOption:this.vehicleTireOptionID,PositionX:1,PositionY:2,Type:this.imageType}).done(function(){t.rotateElement.classList.add("in")}),this.customizationComponentContainer.classList.remove(n)}},{key:"setActiveCustomizationComponent",value:function(t){var n=this.state.getData(),i=this.getComponentKey(t),r=this.customizationComponentSettings[i],o=this.tabs[i];o&&this.tabBar.setActiveTab(o),this.activeCustomizationComponent&&this.activeCustomizationComponent.component.classList.remove("in"),t.component.classList.add("in"),this.activeCustomizationComponent=t,"function"==typeof t.update&&t.update(),this.changeWheelSize.component.style.display=t instanceof e.RideStylerShowcaseWheelSelector&&n.currentWheel?"":"none",this.filterButton.style.display=r.showFilterButton?"":"none",e.HTMLHelper.setText(this.titleElement,r.title)}},{key:"getComponentKey",value:function(e){for(var t in this.customizationComponents){if(this.customizationComponents[t]===e)return t}}},{key:"updateViewport",value:function(e){return Object.assign(this.currentRenderInstructions,e),this.viewport.Update(e)}},{key:"canSwitchAngle",value:function(){return this.vehicleDescriptionModel.HasAngledImage&&this.vehicleDescriptionModel.HasSideImage}},{key:"showFilters",value:function(){var t=this.activeCustomizationComponent,n=void 0;t===this.customizationComponents.tires?n=new e.RideStylerShowcaseFilterModal(this.showcase,{filterProvider:this.showcase.filters.tireFilters,showCountTextFormat:e.strings.getString("show-count-format-tires")}):t===this.customizationComponents.wheels&&(n=new e.RideStylerShowcaseFilterModal(this.showcase,{filterProvider:this.showcase.filters.wheelFilters,showCountTextFormat:e.strings.getString("show-count-format-wheels")})),n&&n.show()}},{key:"switchAngle",value:function(){this.canSwitchAngle()&&(2===this.imageType?this.imageType=1:this.imageType=2,this.updateViewport({Type:this.imageType}))}}]),r}(e.MainComponentBase);e.RideStylerShowcaseVehicleVisualization=i}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t=function(t){function n(t,i){_classCallCheck(this,n);var r=_possibleConstructorReturn(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return r.image.update({WheelFitmentResourceType:3,WheelModel:i.WheelModelID}),e.HTMLHelper.setText(r.brandTitleElement,i.WheelBrandName),e.HTMLHelper.setText(r.titleElement,i.WheelModelName),e.HTMLHelper.setText(r.subtitleElement,i.WheelModelFinishDescription),r.summaryTable=new e.RideStylerShowcaseTable(r.showcase,{columns:[{header:e.strings.getString("size"),cell:"size"},{header:e.strings.getString("price"),cell:"price"}],startLoading:!0}),r.summaryElement.appendChild(r.summaryTable.component),r.buildSpecsPage(),e.api.request("wheel/getfitmentdescriptions",{WheelModel:i.WheelModelID,IncludePromotions:!0,IncludePricing:!0}).done(function(e){r.summaryTable.appendRows(r.buildSummaryTable(e.Fitments)),r.specsTable.appendRows(e.Fitments)}),r}return _inherits(n,t),_createClass(n,[{key:"buildSummaryTable",value:function(t){var i=[],r=!0,o=!1,a=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value,u=n.getFitmentRetailPriceDataObject(c),h=u?u.WheelPricingAmount:void 0;i.push({diameter:c.DiameterMin,width:c.WidthMin,price:h}),i.push({diameter:c.DiameterMin,width:c.WidthMax,price:h}),i.push({diameter:c.DiameterMax,width:c.WidthMin,price:h}),i.push({diameter:c.DiameterMax,width:c.WidthMax,price:h})}}catch(e){o=!0,a=e}finally{try{!r&&l.return&&l.return()}finally{if(o)throw a}}var p={},f=!0,d=!1,v=void 0;try{for(var m,y=i[Symbol.iterator]();!(f=(m=y.next()).done);f=!0){var g=m.value,b=g.diameter,C=g.price,w=void 0;w=(E=b+"″ x "+g.width)in p==!1?p[E]={min:1/0,max:-1/0}:p[E],C&&e.NumberHelper.extendRange(C,w)}}catch(e){d=!0,v=e}finally{try{!f&&y.return&&y.return()}finally{if(d)throw v}}var A=[],S=function(e){return"number"!=typeof e||isNaN(e)||e===1/0||e===-1/0};for(var E in p)if(p.hasOwnProperty(E)){var k=void 0;k=S((w=p[E]).min)||S(w.max)?e.strings.getString("call"):w.min===w.max?e.strings.format().currency(w.min,"$"):e.strings.format().currency(w.min,"$")+" - "+e.strings.format().currency(w.max,"$"),A.push({size:E,price:k})}return A}},{key:"buildSpecsPage",value:function(){this.specsTable=new e.RideStylerShowcaseTable(this.showcase,{columns:[{header:e.strings.getString("size"),cell:n.getFitmentSizeDescription},{header:e.strings.getString("offset"),cell:function(t){return e.RideStylerShowcaseTable.formatCell(t,"OffsetMin","mm")}},{header:e.strings.getString("bolt-pattern"),cell:"BoltPatternDescription"},{header:e.strings.getString("centerbore"),cell:function(t){return e.RideStylerShowcaseTable.formatCell(t,"CenterboreMM","mm")}},{header:"Price",cell:n.getFitmentPrice},{header:e.strings.getString("item-number"),cell:n.getFitmentItemNumber}]});var t=e.HTMLHelper.createElement({className:"scrollable",append:this.specsTable.component});this.addPage({container:t,label:e.strings.getString("specifications")})}},{key:"createImage",value:function(){return new e.ResizeableResourceImage(this.imageContainer,{action:"wheel/image",baseInstructions:{PositionX:1,PositionY:0,IncludeShadow:!0}})}}],[{key:"getFitmentRetailPriceDataObject",value:function(e){return e.Pricing&&e.Pricing.Retail||void 0}},{key:"getFitmentSizeDescription",value:function(t){var n=t.DiameterMin,i=t.WidthMin;return n&&i?n+"″ x "+i:e.RideStylerShowcaseTable.emptyCellString}},{key:"getFitmentPrice",value:function(t){var i=e.strings.getString("call"),r=n.getFitmentRetailPriceDataObject(t);if(!r)return i;var o=r.WheelPricingAmount;return o?e.strings.format().currency(o,"$"):i}},{key:"getFitmentItemNumber",value:function(t){var i=n.getFitmentRetailPriceDataObject(t),r=void 0;return i&&(r=i.WheelPricingItemNumber),r||(r=t.PartNumber),r||e.RideStylerShowcaseTable.emptyCellString}}]),n}(e.RideStylerShowcaseProductModal);e.RideStylerShowcaseWheelModal=t}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-pagination-option",n=function(n){function i(t){_classCallCheck(this,i);var n=_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t)),r=t.state.getData();return n.supportedVehicleImagery={angled:r.vehicleHasAngledImage,side:r.vehicleHasSideImage},n.vehicleConfigurationID=r.currentVehicleConfigurationID,n.defaultFilters={VehicleConfiguration:r.currentVehicleConfigurationID,HasCatalogImage:!0,HasFitments:!0},n.currentFilters=e.ObjectHelper.assign({},n.defaultFilters),n}return _inherits(i,n),_createClass(i,[{key:"showNoResults",value:function(){var n=this;this.noResultsElement=e.HTMLHelper.createElement("div",{className:t+" ridestyler-showcase-pagination-option-no-results",text:e.strings.getString("no-wheel-results")+" ",appendTo:this.optionContainer}),e.HTMLHelper.createButton({appendTo:this.noResultsElement,text:e.strings.getString("change-vehicle"),link:!0}).addEventListener("click",function(){n.state.changeState(e.States.ChooseVehicle)})}},{key:"countResults",value:function(t){return e.PromiseHelper.then(e.api.request("wheel/countmodels",t),function(e){return e.Count})}},{key:"getResults",value:function(t){return e.PromiseHelper.then(e.api.request("wheel/getmodeldescriptions",e.ObjectHelper.assign({IncludeMetaKeys:["Description","Highlights"],HasFitments:!0},t)),function(e){return e.Models})}},{key:"productFilter",value:function(e){return!0}},{key:"productImageSource",value:function(e){return ridestyler.wheel.image({WheelFitmentResourceType:3,WheelModel:e.WheelModelID,Width:100,Height:100,PositionX:1,PositionY:1,IncludeShadow:!0})}},{key:"productImageLabels",value:function(e){return{primary:e.WheelBrandName,secondary:e.WheelModelName,tertiary:e.WheelModelFinishDescription}}}]),i}(e.RideStylerShowcaseProductSelector);e.RideStylerShowcaseWheelSelector=n}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-tire-details",n=function(n){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,n),_createClass(i,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElementWithClass("div",t+" ridestyler-showcase-details"),e.HTMLHelper.createElement("div",{className:t+"-title ridestyler-showcase-details-title",text:e.strings.getString("tire-details"),appendTo:this.component}),this.tireNameElement=e.HTMLHelper.createElement("div",{className:t+"-name",appendTo:this.component}),this.tireDescriptionElement=e.HTMLHelper.createElement("div",{className:t+"-description ridestyler-showcase-details-secondary",appendTo:this.component}),this.state.afterDataChange(function(e){return n.onDataChange(e)})}},{key:"onDataChange",value:function(t){var n=t.currentTire;this.component.style.display=n?"":"none",n&&(e.HTMLHelper.setText(this.tireNameElement,n.TireBrandName+" "+n.TireModelName),e.HTMLHelper.setText(this.tireDescriptionElement,n.Attributes&&n.Attributes.length?n.Attributes.join(", "):""))}}]),i}(e.ComponentBase);e.TireDetails=n}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-vehicle-details",n=function(n){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,n),_createClass(i,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElementWithClass("div",t+" ridestyler-showcase-details"),e.HTMLHelper.createElement("div",{className:t+"-title ridestyler-showcase-details-title",text:e.strings.getString("vehicle-details"),appendTo:this.component}),e.HTMLHelper.createElement("div",{className:t+"-vehicle",append:[this.vehiclePaintSwatchElement=e.HTMLHelper.createElement("div",{className:t+"-vehicle-swatch ridestyler-showcase-paint-swatch",style:{backgroundColor:"#999"}}),this.vehicleDescriptionElement=e.HTMLHelper.createElement("div",{className:t+"-vehicle-details"})],appendTo:this.component}),this.tireSizeElement=e.HTMLHelper.createElement("div",{className:t+"-tire-size ridestyler-showcase-details-secondary",appendTo:this.component}),e.HTMLHelper.createButton({className:t+"-change-vehicle",appendTo:this.component,text:e.strings.getString("change-vehicle"),link:!0}).addEventListener("click",function(){n.state.changeState(e.States.ChooseVehicle)}),this.state.afterDataChange(function(e){return n.onDataChange(e)}),this.vehiclePaintSwatchElement.addEventListener("click",function(){"function"==typeof n.paintSwatchClickCallback&&n.paintSwatchClickCallback()})}},{key:"onDataChange",value:function(t){e.HTMLHelper.setText(this.vehicleDescriptionElement,t.currentVehicleDescription),this.vehiclePaintSwatchElement.style.backgroundColor=t.currentPaintScheme?t.currentPaintScheme.Colors[0].Hex:"#999",e.HTMLHelper.setText(this.tireSizeElement,t.currentVehicleTireOptionDescription)}}]),i}(e.ComponentBase);e.VehicleDetails=n}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-wheel-details",n=function(n){function i(){return _classCallCheck(this,i),_possibleConstructorReturn(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return _inherits(i,n),_createClass(i,[{key:"initializeComponent",value:function(){var n=this;this.component=e.HTMLHelper.createElementWithClass("div",t+" ridestyler-showcase-details"),e.HTMLHelper.createElement("div",{className:t+"-title ridestyler-showcase-details-title",text:e.strings.getString("wheel-details"),appendTo:this.component}),this.wheelNameElement=e.HTMLHelper.createElement("div",{className:t+"-name",appendTo:this.component}),this.wheelDescriptionElement=e.HTMLHelper.createElement("div",{className:t+"-description ridestyler-showcase-details-secondary",appendTo:this.component}),e.HTMLHelper.createButton({className:t+"-features-specs",appendTo:this.component,text:e.strings.getString("wheel-features-specs"),link:!0}).addEventListener("click",function(){n.showWheelModal()}),this.state.afterDataChange(function(e){return n.onDataChange(e)})}},{key:"showWheelModal",value:function(){var t=this.state.getData();new e.RideStylerShowcaseWheelModal(this.showcase,t.currentWheel).show()}},{key:"onDataChange",value:function(t){var n=t.currentWheel,i=t.currentWheelFitment;if(this.component.style.display=n?"":"none",n)if(e.HTMLHelper.setText(this.wheelNameElement,n.WheelBrandName+" "+n.WheelModelName),i){var r=i.DiameterMin.toString()+"″";i.DiameterMin!==i.DiameterMax&&(r="("+i.DiameterMin+"-"+i.DiameterMax+")″"),e.HTMLHelper.setText(this.wheelDescriptionElement,r+" "+n.WheelModelFinishDescription)}else e.HTMLHelper.setText(this.wheelDescriptionElement,n.WheelModelFinishDescription)}}]),i}(e.ComponentBase);e.WheelDetails=n}(RideStylerShowcase||(RideStylerShowcase={}));_createClass=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();!function(e){var t="ridestyler-showcase-filter-modal",n=t+"-menu-title",i=function(i){function r(e,n){_classCallCheck(this,r);var i=_possibleConstructorReturn(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e,{removeOnHidden:!0}));return i.filterProvider=n.filterProvider,i.showCountTextFormat=n.showCountTextFormat,i.component.classList.add(t),i.buildShowButton(),i.buildFilterMenus().done(function(){i.updateCount()}),i.component.appendChild(i.showButton),i}return _inherits(r,i),_createClass(r,[{key:"buildFilterMenus",value:function(){var i=this,r=e.HTMLHelper.createElement({className:t+"-menus",appendTo:this.component}),o=this.filterProvider,a=[],s=o.getFilters();this.menus=[];var l=function(l){if(!1===l.visible||!l.label)return"continue";var c=new e.RideStylerShowcaseOptionMenu(l.key),u=(e.HTMLHelper.createElement({className:t+"-menu-container",appendTo:r,append:[e.HTMLHelper.createElement({className:n,text:l.label}),c.component]}),o.retrieveOptions(l).done(function(t){t.unshift({label:l.unselectedOptionLabel||e.strings.getString("all"),value:void 0}),c.setOptions(t),"function"==typeof l.getValueFromFilters?c.setValue(l.getValueFromFilters(s)):c.setValue(void 0)}));c.onChange=function(){i.updateCount()},a.push(u),i.menus.push(c)},c=!0,u=!1,h=void 0;try{for(var p,f=o.filterOptions[Symbol.iterator]();!(c=(p=f.next()).done);c=!0)l(p.value)}catch(e){u=!0,h=e}finally{try{!c&&f.return&&f.return()}finally{if(u)throw h}}return e.PromiseHelper.all(a)}},{key:"buildShowButton",value:function(){var t=this;this.showButton=e.HTMLHelper.createButton({large:!0,disabled:!0,text:e.strings.getString("loading-ellipsis")}),this.showButton.addEventListener("click",function(){t.filterProvider.setFilters(t.getValues()),t.hide()})}},{key:"getValues",value:function(){var e=[],t=!0,n=!1,i=void 0;try{for(var r,o=this.menus[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){var a=r.value;e.push({key:a.name,value:a.value})}}catch(e){n=!0,i=e}finally{try{!t&&o.return&&o.return()}finally{if(n)throw i}}return e}},{key:"getFilters",value:function(){return this.filterProvider.previewFilters(this.getValues())}},{key:"updateCount",value:function(){var e=this;this.setCountText(!1),this.filterProvider.getCount(this.getFilters()).done(function(t){e.setCountText(t)})}},{key:"setCountText",value:function(t){!1===t?(e.HTMLHelper.setText(this.showButton,e.strings.getString("loading-ellipsis")),this.showButton.disabled=!0):(e.HTMLHelper.setText(this.showButton,this.showCountTextFormat.replace("{count}",t.toString())),this.showButton.disabled=0===t)}}]),r}(e.RideStylerShowcaseModal);e.RideStylerShowcaseFilterModal=i}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(e,t){for(var n=new Array(e.length),i=-1,r=0;r<e.length;r++){var o=e[r];"function"==typeof t&&t(o)||o===t||(n[++i]=o)}return n.length=i+1,n}e.copy=function(e){for(var t=new Array(e.length),n=0;n<e.length;n++)t[n]=e[n];return t},e.remove=t,e.filter=function(e,n){return t(e,function(e){return!n(e)})},e.map=function(e,t,n){if("function"==typeof Array.prototype.map)return e.map(t,n);for(var i=new Array(e.length),r=0;r<e.length;r++)e[r],i[r]=void 0===n?t(e[r],r,e):t.call(n,e[r],r,e);return i},e.reduce=function(e,t,n){if("function"==typeof Array.prototype.reduce)return e.reduce(t,n);for(var i=n,r=0;r<e.length;r++)i=void 0!==i?t.call(void 0,i,e[r],r,e):e[r];return i}}(e.ArrayHelper||(e.ArrayHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(e,t){return"number"==typeof t&&(t={width:t,height:t}),{width:e.width*t.width,height:e.height*t.height}}e.bound=function(e,n,i){"number"==typeof n&&(n={width:n,height:n}),"number"==typeof i&&(i={width:i,height:i});var r=i?Math.min(i.width/e.width,i.height/e.height):1,o=n?Math.max(n.width/e.width,n.height/e.height):1,a=void 0;if(r<1)a=r;else{if(!(o>1))return e;a=o}return t(e,a)},e.scale=t,e.floor=function(e){return{width:~~e.width,height:~~e.height}}}(e.BoxHelper||(e.BoxHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(e,t,n){var r=t&&n||0,o=0;for(t=t||[],e.toLowerCase().replace(/[0-9a-f]{2}/g,function(e){return o<16&&(t[r+o++]=i[e]),""});o<16;)t[r+o++]=0;return t}for(var n=[],i={},r=0;r<256;r++)n[r]=(r+256).toString(16).substr(1),i[n[r]]=r;e.parse=t,e.unparse=function(e,t){var i=t||0,r=n;return r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+"-"+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]+r[e[i++]]},e.areEqual=function(e,n){if(!e)return!n;if(!n)return!1;var i=void 0,r=void 0;i="string"==typeof e?t(e):e,r="string"==typeof n?t(n):n;for(var o=0;o<i.length;o++)if(i[o]!==r[o])return!1;return!0}}(e.GUIDHelper||(e.GUIDHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){!function(t){function n(e,t){for(var n=new Array(e.length),i=0,r=0;r<e.length;r++){var o=e[r];t(o)&&(n[i++]=o)}return n.length=i,n}function i(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(t(i))return i}return null}function r(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];if(t(i))return i}return null}function o(e,t){return n(e.children,t)}function a(e,t){return i(e.children,t)}function s(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i=e.StyleHelper.flattenClassList(i),o(t,function(t){return e.StyleHelper.hasClasses(t,i)})}function l(t){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return a(t,function(t){return e.StyleHelper.hasClasses(t,i)})}function c(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return!!l.apply(void 0,[e].concat(n))}function u(e,t){var n=e;if("object"===(void 0===t?"undefined":_typeof(t))){if("string"==typeof t.className&&(e.className=t.className),"string"==typeof t.id&&(e.id=t.id),t.wrap&&t.wrap.appendChild(e),t.appendTo&&t.appendTo.appendChild(t.wrap||e),"string"==typeof t.text&&e.appendChild(document.createTextNode(t.text)),t.append){if(t.append instanceof Array){var i=!0,r=!1,o=void 0;try{for(var a,s=t.append[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;e.appendChild(l)}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}else e.appendChild(t.append);document.createElementNS}if(t.attributes)for(var c in t.attributes)t.attributes.hasOwnProperty(c)&&e.setAttribute(c,t.attributes[c]);if(t.style&&"object"===_typeof(n.style))for(var u in t.style)t.style.hasOwnProperty(u)&&(n.style[u]=t.style[u]);if(t.properties)for(var h in t.properties)t.properties.hasOwnProperty(h)&&(e[h]=t.properties[h])}}function h(e,t){var n=void 0;"string"==typeof e?n=e:(n="div",t=e);var i=document.createElement(n);return u(i,t),i}function p(e,n){var i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;t.createElement("dt",{text:l.label,appendTo:e}),t.createElement("dd",{text:l.description,appendTo:e})}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}}function f(e){for(var t=void 0;t=e.lastChild;)e.removeChild(t)}function d(e){return e.ownerDocument}t.elementsMatching=n,t.firstElementMatching=i,t.lastElementMatching=r,t.childrenMatching=o,t.firstChildMatching=a,t.childrenWithClasses=s,t.removeChildrenWithClasses=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=!0,o=!1,a=void 0;try{for(var l,c=s.apply(void 0,[e].concat(n))[Symbol.iterator]();!(r=(l=c.next()).done);r=!0){var u=l.value;e.removeChild(u)}}catch(e){o=!0,a=e}finally{try{!r&&c.return&&c.return()}finally{if(o)throw a}}},t.firstChildWithTag=function(e,t){return t=t.toUpperCase(),a(e,function(e){return e.tagName===t})},t.firstChildWithClass=l,t.hasChildWithClass=c,t.hasSiblingWithClass=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return c.apply(void 0,[e.parentElement].concat(n))},t.lastSiblingWithClass=function(t){for(var n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return r(t.parentElement.children,function(n){return n!==t&&e.StyleHelper.hasClasses(n,i)})},t.createElement=h,t.createElementWithText=function(e,t){return h(e,{text:t})},t.createElementWithClass=function(e,t){var n=e;return void 0===t&&(n="div",t=e),h(n,{className:t})},t.createElementWithID=function(e,t){return h(e,{id:t})},t.createTextElement=function(e){return document.createTextNode(e)},t.createButton=function(e){var t=h("button",e),n="ridestyler-showcase-button";return t.classList.add(n),e.large&&t.classList.add(n+"-large"),e.disabled&&(t.disabled=!0),e.link&&t.classList.add(n+"-link"),e.skinny&&t.classList.add(n+"-skinny"),t};var v="ridestyler-showcase-icon ridestyler-showcase-icon-";t.createIcon=function(e){var t=void 0,n=(t="string"==typeof e?{icon:e}:e).icon;return n.startsWith(v)||(n=v+n),"string"==typeof t.className&&(n=t.className+" "+n),t.className=n,h("i",t)},t.createSVGElement=function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg",e);return u(n,t),n},t.createDescriptionList=function(e){var n=t.createElement("dl",{className:"ridestyler-showcase-description-list",appendTo:this.summaryElement});return e&&p(n,e),n},t.appendDescriptionListValues=p,t.empty=f,t.once=function(e,t,n,i){e.addEventListener(t,function r(o){return e.removeEventListener(t,r,i),"object"===(void 0===n?"undefined":_typeof(n))&&(n=n.handleEvent),n.call(this,o)},i)},t.getDocument=d,t.getWindow=function(e){return d(e).defaultView},t.setText=function(e,t){return f(e),e.appendChild(document.createTextNode(t)),e}}(e.HTMLHelper||(e.HTMLHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){e.bound=function(e,t,n){return e<t?t:e>n?n:e},e.extendRange=function(e,t){return t||(t={min:1/0,max:-1/0}),e<t.min&&(t.min=e),e>t.max&&(t.max=e),t}}(e.NumberHelper||(e.NumberHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){function t(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=arguments.length,i=Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];var o=!0,a=!1,s=void 0;try{for(var l,c=i[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if(u)for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(t[h]=u[h])}}catch(e){a=!0,s=e}finally{try{!o&&c.return&&c.return()}finally{if(a)throw s}}return t}e.assign=t,e.copy=function(e){return t({},e)},e.getKeys=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t},e.getValues=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(e[n]);return t}}(e.ObjectHelper||(e.ObjectHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e){!function(t){function n(e,t,n){var i=ridestyler.promise();return e.done(function(e){if("function"==typeof t){var n=t(e);r(n)?n.done(function(e){return i.resolve(e)}).fail(function(e){return i.reject(e)}):i.resolve(n)}else i.resolve(e)}),e.fail(function(e){if("function"==typeof n){var t=n(e);r(t)?t.done(function(e){return i.resolve(e)}).fail(function(e){return i.reject(e)}):i.resolve(t)}else i.reject(e)}),i}function i(e){var t=ridestyler.promise();return t.resolve(e),t}function r(e){return"object"===(void 0===e?"undefined":_typeof(e))&&"function"==typeof e.done&&"function"==typeof e.fail&&"function"==typeof e.always}t.all=function(t){var r=[],o=e.ArrayHelper.reduce(t,function(e,t){return n(n(e,function(){return t}),function(e){return r.push(e)})},i(null));return Promise.all,n(o,function(){return r})},t.then=n,t.resolved=i,t.isPromise=r}(e.PromiseHelper||(e.PromiseHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(t){var n=void 0,i=-.025,r=document.createElement("div");n="onwheel"in r?"wheel":void 0!==document.onmousewheel?"mousewheel":"MozMousePixelScroll",t.attachWheelListener=function(t,r){"wheel"!==n?t.addEventListener(n,function(e){e||(e=window.event);var t={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"===e.type?0:1,deltaX:0,deltaY:0,deltaZ:0,preventDefault:function(){"function"==typeof e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"===n?(t.deltaY=i*e.wheelDelta,e.wheelDeltaX&&(t.deltaX=i*e.wheelDeltaX)):t.deltaY=e.detail,r(t)}):t.addEventListener("wheel",function(t){var n=e.ObjectHelper.assign(t,{originalEvent:t});return r(n)})}}(e.ScrollHelper||(e.ScrollHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(e){e.getFirstWord=function(e){if("string"==typeof e)return e.trim().substr(0,e.indexOf(" "))},e.endsWith=function(e,t,n){n<this.length?n|=0:n=this.length;var i=t.length;return e.substr(n-i,i)===t},e.escapeRegExp=function(e){var t=/[\\^$.*+?()[\]{}|]/g,n=RegExp(t.source);return e&&n.test(e)?e.replace(t,"\\$&"):e}}(e.StringHelper||(e.StringHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(t){function n(e){if(o)return window.getComputedStyle(e);if(a&&null!==e.currentStyle)return e.currentStyle;throw"Unable to get computed style"}function i(e){e.offsetHeight}function r(t){if(e.StringHelper.endsWith(t,"px"))return parseInt(t)}var o="getComputedStyle"in window,a=!1;!function(){var e=document.createElement("div");a="currentStyle"in e,t.transitionEndEvent=function(){var t={transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd"};for(var n in t)if(n in e.style)return t[n]}(),t.transitionsSupported=!!t.transitionEndEvent}(),t.isTouchDevice="ontouchstart"in window||navigator.maxTouchPoints>0,t.svgSupported=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,t.getComputedStyle=n;var s=["absolute","relative","fixed"];t.isOffsetPositioned=function(e){var t=e.style.position;if(t||(t=n(e).position),!t)return!1;t=t.toLowerCase();var i=!0,r=!1,o=void 0;try{for(var a,l=s[Symbol.iterator]();!(i=(a=l.next()).done);i=!0)if(t===a.value)return!0}catch(e){r=!0,o=e}finally{try{!i&&l.return&&l.return()}finally{if(r)throw o}}return!1},t.flattenClassList=function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return e.ArrayHelper.reduce(n,function(e,t){var n=void 0;n="string"==typeof t?[t]:t;var i=!0,r=!1,o=void 0;try{for(var a,s=n[Symbol.iterator]();!(i=(a=s.next()).done);i=!0){var l=a.value;e=e.concat(l.split(/\s+/))}}catch(e){r=!0,o=e}finally{try{!i&&s.return&&s.return()}finally{if(r)throw o}}return e},[])},t.triggerReflow=i,t.skipTransition=function(e,n){if(!t.transitionsSupported)return n();var r=e.style.transition;e.style.transition="none",n.call(this),i(e),e.style.transition=r},t.onNextTransitionEnd=function(n,i){return e.HTMLHelper.once(n,t.transitionEndEvent,i)},t.hasClasses=function(e,t){var n=void 0;if("string"==typeof t){for(var i=arguments.length,r=Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];(n=r||[]).push(t)}else n=t;var a=!0,s=!1,l=void 0;try{for(var c,u=n[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var h=c.value;if(!e.classList.contains(h))return!1}}catch(e){s=!0,l=e}finally{try{!a&&u.return&&u.return()}finally{if(s)throw l}}return!0},t.parsePixels=r,t.calculatePadding=function(e){var t=n(e),i=t.paddingBottom,o=t.paddingTop,a=t.paddingLeft,s=t.paddingRight,l=r(a)+r(s),c=r(o)+r(i);return isNaN(l)&&(l=0),isNaN(c)&&(c=0),{width:l,height:c}}}(e.StyleHelper||(e.StyleHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));!function(e){!function(t){function n(e,t){t?(e.style.visibility="",e.style.pointerEvents=""):(e.style.visibility="hidden",e.style.pointerEvents="none")}var i="in";t.show=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;n(t,!0),e.StyleHelper.triggerReflow(t),t.classList.add(r);var o=ridestyler.promise();return e.StyleHelper.transitionsSupported?e.StyleHelper.onNextTransitionEnd(t,function(){return o.resolve()}):o.resolve(),o},t.hide=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i;t.classList.remove(r);var o=ridestyler.promise();return o.done(function(){return n(t,!1)}),e.StyleHelper.transitionsSupported?e.StyleHelper.onNextTransitionEnd(t,function(){return o.resolve()}):o.resolve(),o},t.setVisibility=n}(e.VisibilityHelper||(e.VisibilityHelper={}))}(RideStylerShowcase||(RideStylerShowcase={}));var RideStylerShowcase;!function(e){(e.strings||(e.strings={})).registerLanguage(e.LanguageKeys.En,{"vehicle-select-visualize-intro":"Visualize wheels, tires and suspension modifications on your vehicle.","vehicle-select-share-intro":"Share with your friends, or save for inspiration.","select-your-vehicle":"Select your Vehicle",paint:"Paint",suspension:"Suspension",wheels:"Wheels",tires:"Tires",front:"Front",rear:"Rear","vehicle-details":"Vehicle Details","change-vehicle":"Change Vehicle","wheel-details":"Wheel Details","tire-details":"Tire Details","select-paint":"Select Paint","select-wheels":"Select Wheels","select-tires":"Select Tires","adjust-suspension":"Adjust Suspension","change-wheel-size":"Wheel Size","no-results":"No Results Found","no-wheel-results":"No wheels found for this vehicle.","wheel-features-specs":"Features & Specs.","share-my-vehicle":"Share My Vehicle","share-instructions":"Use the buttons to share or save your vehicle configuration.","no-description-wheel":"We don't have a description for this wheel yet","show-specs":"Show Specs",call:"Call",size:"Size",offset:"Offset","bolt-pattern":"Bolt Pattern",centerbore:"Centerbore",price:"Price","item-number":"Item #",brands:"Brands",finishes:"Finishes",sizes:"Sizes",all:"All","all-brands":"All Brands","all-finishes":"All Finishes","all-sizes":"All Sizes","filter-results":"Filter Results","loading-ellipsis":"Loading...","show-count-format-tires":"Show {count} Tires","show-count-format-wheels":"Show {count} Wheels",specifications:"Specifications","speed-rating":"Speed Rating","any-speed-ratings":"Any Speed Ratings",features:"Features","any-features":"Any Features",finish:"Finish",summary:"Summary","check-out-my-vehicle":"Check out my vehicle!"})}(RideStylerShowcase||(RideStylerShowcase={}));
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJzdnNtLmpzIiwicnN2ci5qcyIsInNjcmlwdHMvUmlkZVN0eWxlclNob3djYXNlLmV2ZW50cy5qcyIsInNjcmlwdHMvUmlkZVN0eWxlclNob3djYXNlLmZpbHRlcnMuanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5zdGF0ZS5qcyIsInNjcmlwdHMvUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5zdHlsZXMuanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9Db21wb25lbnRCYXNlLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL01haW5Db21wb25lbnRCYXNlLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1Jlc2l6ZWFibGVSZXNvdXJjZUltYWdlLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZS5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbC5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51LmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3Rvci5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VQb3BvdmVyLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbC5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0U2VsZWN0b3IuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlUVJDb2RlQ29tcG9uZW50LmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVNoYXJlQnV0dG9uLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlU3VzcGVuc2lvblNlbGVjdG9yLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVRhYkJhci5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZS5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VUaXJlU2VsZWN0b3IuanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlVG9nZ2xlQnV0dG9uLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1JpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb24uanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb24uanMiLCJzY3JpcHRzL2NvbXBvbmVudHMvUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbC5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9SaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1RpcmVEZXRhaWxzLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1ZlaGljbGVEZXRhaWxzLmpzIiwic2NyaXB0cy9jb21wb25lbnRzL1doZWVsRGV0YWlscy5qcyIsInNjcmlwdHMvY29tcG9uZW50cy9tb2RhbHMvUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwuanMiLCJub3Vpc2xpZGVyLmpzIiwicXJjb2RlLmpzIiwiVGlueUFuaW1hdGUuanMiLCJpbXBldHVzLmpzIiwiaW5kZXguanMiLCJpZTgubWF4LmpzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lLmpzIiwic2NyaXB0cy9SaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLmF1dGguanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5hcGkuc2V0dGluZ3MuanMiLCJzY3JpcHRzL1JpZGVTdHlsZXJTaG93Y2FzZS5hcGkuanMiLCJzY3JpcHRzL2hlbHBlcnMvQXJyYXlIZWxwZXIuanMiLCJzY3JpcHRzL2hlbHBlcnMvQm94SGVscGVyLmpzIiwic2NyaXB0cy9oZWxwZXJzL0dVSURIZWxwZXIuanMiLCJzY3JpcHRzL2hlbHBlcnMvSFRNTEhlbHBlci5qcyIsInNjcmlwdHMvaGVscGVycy9OdW1iZXJIZWxwZXIuanMiLCJzY3JpcHRzL2hlbHBlcnMvT2JqZWN0SGVscGVyLmpzIiwic2NyaXB0cy9oZWxwZXJzL1Byb21pc2VIZWxwZXIuanMiLCJzY3JpcHRzL2hlbHBlcnMvU2Nyb2xsSGVscGVyLmpzIiwic2NyaXB0cy9oZWxwZXJzL1N0cmluZ0hlbHBlci5qcyIsInNjcmlwdHMvaGVscGVycy9TdHlsZUhlbHBlci5qcyIsInNjcmlwdHMvaGVscGVycy9WaXNpYmlsaXR5SGVscGVyLmpzIiwic2NyaXB0cy9zdHJpbmdzL1JpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmVuLmpzIl0sIm5hbWVzIjpbIlJpZGVTdHlsZXJWZWhpY2xlU2VsZWN0aW9uTW9kYWwiLCJvcHRpb25zIiwiZXh0ZW5kIiwib3V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsImtleSIsImhhc093blByb3BlcnR5IiwiYWRkQ2xhc3MiLCJlbGVtZW50cyIsIm15Q2xhc3MiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0YWdOYW1lIiwiY2xhc3NOYW1lIiwidHJpbSIsImluZGV4T2YiLCJyZW1vdmVDbGFzcyIsInJlZzEiLCJSZWdFeHAiLCJyZWcyIiwicmVnMyIsInJlcGxhY2UiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjcmVhdGVCYWNrZHJvcCIsImdldEVsZW1lbnRCeUlkIiwiYmFja0Ryb3AiLCJjcmVhdGVFbGVtZW50IiwiaWQiLCJzdHlsZSIsIm9wYWNpdHkiLCJ0cmFuc2l0aW9uIiwiZ2V0TW9kYWxDb250YWluZXIiLCJhcHBlbmRDaGlsZCIsImV4aXN0aW5nQmFja2Ryb3AiLCJzZXRUaW1lb3V0Iiwib25UcmFuc2l0aW9uRW5kT25jZSIsInNob3dCYWNrZHJvcCIsImhpZGVCYWNrZHJvcCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsImhpZGVNb2RhbHMiLCJhbGxNb2RhbHMiLCJjdXJyZW50QmFzZSIsImNvcHlPZkFycmF5IiwiaW5mb0FycmF5Iiwic2xpY2UiLCJjb3B5T2ZEYXRhQXJyYXkiLCJkYXRhQXJyYXkiLCJkaXNDb3VudGludWVkIiwibW9kYWxBcnJheSIsImdldEF0dHJpYnV0ZSIsImZvckVhY2giLCJjYWxsIiwidGhpc01vZGFsIiwidGhpc0lEIiwiaW5mb0Jhc2VPYmoiLCJzcGxpdHRlZEFycmF5Iiwic3BsaXQiLCJjYWxsYmFjayIsIm91dE9iaiIsIkZpbmFsU2VsZWN0aW9uTWFkZSIsIlZlaGljbGUiLCJGdWxsU2VsZWN0aW9uRGF0YSIsImNvbnNvbGUiLCJ3YXJuIiwiYm9keSIsImNvbnRhaW5lciIsImJhc2UiLCJwcmVwYXJlRnVuY3Rpb24iLCJwcmVwYXJlRnVuY3Rpb25PcHRpb25zIiwidHJhbnNpdGlvbk1vZGFsIiwibW9kYWxCYXNlIiwibW9kYWxCYXNlQ29weSIsImNsb25lTm9kZSIsIl92c21Nb2RhbElEQ291bnRlciIsInB1c2giLCJiYWNrTW9kYWwiLCJiYWNrTGlua3MiLCJiYWNrTGluayIsImJhY2tIYW5kbGVyIiwiZSIsInRhcmdldCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0eXBlIiwiYm0iLCJiYyIsInRyYW5zaXRpb25Ub01vZGFsIiwiZG9uZSIsInBvcCIsImFmdGVyQmFja0NsaWNrZWQiLCJvdXRJbmZvT2JqIiwiRnVsbFNlbGVjdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbG9zZUJ1dHRvbnMiLCJjbG9zZUJ1dHRvbiIsIm9uY2xpY2siLCJ0b01vZGFsIiwiZnJvbU1vZGFsIiwiYmFja3dhcmRzIiwiZnJvbUFuaW1hdGVQcm9taXNlIiwicmlkZXN0eWxlciIsInByb21pc2UiLCJ0b0FuaW1hdGVQcm9taXNlIiwiZnJvbVoiLCJwYXJzZUludCIsInpJbmRleCIsInRvWiIsInRyYW5zaXRpb25TdXBwb3J0IiwiZGlzcGxheSIsInJlc29sdmUiLCJhbGxQcm9taXNlIiwib25Qcm9taXNlQ2hhbmdlIiwidG9TdGF0ZSIsInN0YXRlIiwiZnJvbVN0YXRlIiwicmVqZWN0IiwiYWx3YXlzIiwicmVxdWVzdFN0ZXAiLCJtb2RhbCIsInN0ZXBPcHRpb25zIiwicmVxdWVzdCIsIlNlbGVjdGlvbiIsImJlc3RDb25maWd1cmF0aW9uIiwic2hvd1NlbGVjdGlvbiIsImFqYXgiLCJzZW5kIiwiYWN0aW9uIiwiZGF0YSIsInJlc3BvbnNlIiwiU3VjY2VzcyIsIkJlc3RDb25maWd1cmF0aW9uIiwiSW5jbHVkZU9FVGlyZU9wdGlvbiIsIlZlaGljbGVDb25maWd1cmF0aW9uIiwiVmFsdWUiLCJkZXRhaWxSZXNwb25zZSIsImRldGFpbHMiLCJEZXRhaWxzIiwidGhpcyIsImRldGFpbFN0cmluZyIsImRldGFpbCIsImYiLCJGcm9udCIsInIiLCJSZWFyIiwiVGlyZU9wdGlvbkJhc2ljIiwiVGlyZU9wdGlvbklEIiwiVGlyZU9wdGlvblN0cmluZyIsIm9wdGlvbk1lbnUiLCJHcm91cHMiLCJEZXNjcmlwdGlvbiIsIlRpdGxlIiwiS2V5IiwiT3B0aW9ucyIsIkdyb3VwIiwiTGFiZWwiLCJ1cGRhdGVNb2RhbCIsIk1lbnUiLCJtZW51IiwiaXRlbUxpc3RDb250YWluZXIiLCJoZWFkZXJFbGVtZW50IiwiYm9keUVsZW1lbnQiLCJ2c21MaW5rU3R5bGUiLCJmaW5hbFNjcmVlbiIsIm1lbnVPcHRpb25zIiwibWVudUtleSIsIm1lbnVUaXRsZSIsIm1lbnVHcm91cHMiLCJidWlsZExpc3RJdGVtIiwib3B0T2JqIiwib3B0aW9uTGFiZWwiLCJvcHRpb25WYWx1ZSIsIm9wdGlvbkJ0biIsIm9wdGlvblRleHQiLCJjcmVhdGVUZXh0Tm9kZSIsImhyZWYiLCJzZXRBdHRyaWJ1dGUiLCJvIiwib3B0aW9uS2V5Iiwib3B0aW9uVGl0bGUiLCJhZnRlck9wdGlvblNlbGVjdGVkIiwiQ3VycmVudFNlbGVjdGlvbiIsInRyYW5zaXRpb25PcHRpb24iLCJvbkxpc3RJdGVtU2VsZWN0ZWQiLCJidWlsZExpc3RIZWFkZXIiLCJoZWFkZXJUZXh0IiwibWVudVN1YkhlYWRlciIsIm1lbnVTdWJIZWFkZXJUZXh0IiwiZGl2RUxlIiwiZG90RWxlIiwic3BhbkVsZSIsIm5vdFN0eWxlRGl2IiwiaW5mb0Jhc2VBcnJheSIsIm1hcCIsImVsZSIsImlubmVySFRNTCIsImpvaW4iLCJmaXJzdENoaWxkIiwiZ3JvdXBXcmFwIiwiR3JvdXBPcHRpb25zIiwibWVudUdyb3VwZWRPcHRpb25zIiwidGhpc01lbnVPcHRpb24iLCJ0aGlzTWVudU9wdGlvbkdyb3VwIiwiaiIsIm1lbnVHcm91cCIsInN1Ykdyb3VwIiwiZ3JvdXBMaXN0IiwiY29sdW1uQ2xhc3MiLCJZZWFyU2NyZWVuQ29sdW1ucyIsIk1ha2VTY3JlZW5Db2x1bW5zIiwibGlzdEl0ZW0iLCJ2ZWhpY2xlSW1hZ2UiLCJ2ZWhpY2xlTG9hZGVyIiwibmFtZUVsZW1lbnQiLCJjb25maXJtQnV0dG9uIiwiaW5Qcm9ncmVzc1NjcmVlbiIsIkNvbmZpcm1CdXR0b25UZXh0IiwibWFpblBhcnRTdHJpbmciLCJsYXN0SXRlbSIsInZlaGljbGVEZXNjIiwiaW1hZ2VTZXR0aW5ncyIsIldpZHRoIiwiSGVpZ2h0IiwiUG9zaXRpb25YIiwiUG9zaXRpb25ZIiwiSW1hZ2VTZXR0aW5ncyIsImltYWdlVXJsIiwidXJsIiwic3JjIiwib25sb2FkIiwiY29uZmlybUhhbmRsZXIiLCJwYXJlbnRCYXNlIiwiZWxlbWVudCIsInNlbGVjdG9yIiwiRWxlbWVudCIsInByb3RvdHlwZSIsIm1hdGNoZXMiLCJtYXRjaGVzU2VsZWN0b3IiLCJtb3pNYXRjaGVzU2VsZWN0b3IiLCJtc01hdGNoZXNTZWxlY3RvciIsIm9NYXRjaGVzU2VsZWN0b3IiLCJ3ZWJraXRNYXRjaGVzU2VsZWN0b3IiLCJzIiwib3duZXJEb2N1bWVudCIsIml0ZW0iLCJnZXRDbG9zZXN0IiwidmVoaWNsZUluZm8iLCJJbWFnZVVybCIsIlZlaGljbGVEZXNjcmlwdGlvbiIsInRoaXNTdHlsZSIsImRvY3VtZW50RWxlbWVudCIsInVuZGVmaW5lZCIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJlbCIsInRyYW5zaXRpb25zIiwidHJhbnNpdGlvbkVuZCIsIkhUTUxFbGVtZW50IiwidHJhbnNpdGlvbkVuZFdyYXAiLCJTaG93IiwiZGl2RWxlIiwidnNtX3RlbXBsYXRlIiwibG9hZEJhc2UiLCJIaWRlIiwiUmlkZVN0eWxlclZpZXdwb3J0IiwiZWxlbSIsInNob3dMb2FkZXJFbGVtZW50IiwibG9hZGVyIiwibG9hZGVyRGF0YSIsInJlbmRlcmVyIiwiYWN0aXZlIiwicXVlcnlTZWxlY3RvciIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJzdWJzdHJpbmciLCJlcnJvciIsImlzT2Zmc2V0UG9zaXRpb25WYWx1ZSIsInZhbHVlIiwicG9zaXRpb24iLCJjYWxjdWxhdGVkU3R5bGUiLCJ3aW5kb3ciLCJnZXRDb21wdXRlZFN0eWxlIiwicnVudGltZVN0eWxlIiwicGFkZGluZyIsImJvcmRlclJhZGl1cyIsImJhY2tncm91bmQiLCJsZWZ0IiwidG9wIiwibWFyZ2luTGVmdCIsIm1hcmdpblRvcCIsImNyZWF0ZU5ld0xheWVyIiwiaW5zdHJ1Y3Rpb25zIiwiYWN0aXZlSW1hZ2UiLCJyZXRpcmVkSW1hZ2VzIiwib2ltZyIsImltZyIsInJlbW92ZWRJbWFnZXMiLCJzcGxpY2UiLCJvbmVycm9yIiwiUmVuZGVyIiwiUmVzZXQiLCJkZXNpcmVkQXNwZWN0SGVpZ2h0IiwiY29udGFpbmVyQXNwZWN0UmF0aW8iLCJsYXN0Q2xpZW50V2lkdGgiLCJyZWZyZXNoVGltZW91dCIsIlJlc2l6ZVJlbmRlckFyZWEiLCJjbGllbnRXaWR0aCIsImhlaWdodCIsIk1hdGgiLCJyb3VuZCIsImNsZWFyVGltZW91dCIsInJlc3BvbnNpdmUiLCJzZXRJbnRlcnZhbCIsIlVwZGF0ZSIsImFyZ3MiLCJ2YWx1ZXMiLCJ0b2tlbnMiLCJrdiIsImRlY29kZVVSSUNvbXBvbmVudCIsInRvTG93ZXJDYXNlIiwiayIsInByZXBhcmVBcmd1bWVudHMiLCJjbGllbnRIZWlnaHQiLCJoYXNDaGFuZ2VzIiwieCIsInYxIiwidjIiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfaW5oZXJpdHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJPYmplY3QiLCJjcmVhdGUiLCJjb25zdHJ1Y3RvciIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiZmFjdG9yeSIsImRlZmluZSIsImFtZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJub1VpU2xpZGVyIiwicHJldmVudERlZmF1bHQiLCJpc051bWVyaWMiLCJhIiwiaXNOYU4iLCJpc0Zpbml0ZSIsImFkZENsYXNzRm9yIiwiZHVyYXRpb24iLCJhc0FycmF5IiwiQXJyYXkiLCJpc0FycmF5IiwiY291bnREZWNpbWFscyIsIm51bVN0ciIsInBpZWNlcyIsIlN0cmluZyIsImNsYXNzTGlzdCIsImFkZCIsInJlbW92ZSIsImdldFBhZ2VPZmZzZXQiLCJkb2MiLCJzdXBwb3J0UGFnZU9mZnNldCIsInBhZ2VYT2Zmc2V0IiwiaXNDU1MxQ29tcGF0IiwiY29tcGF0TW9kZSIsInNjcm9sbExlZnQiLCJ5IiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUb3AiLCJzdWJSYW5nZVJhdGlvIiwicGEiLCJwYiIsImZyb21QZXJjZW50YWdlIiwicmFuZ2UiLCJnZXRKIiwiYXJyIiwidG9TdGVwcGluZyIsInhWYWwiLCJ4UGN0IiwidmEiLCJ2YiIsImFicyIsInRvUGVyY2VudGFnZSIsImdldFN0ZXAiLCJ4U3RlcHMiLCJzbmFwIiwiYiIsInRvIiwiY2xvc2VzdCIsImhhbmRsZUVudHJ5UG9pbnQiLCJpbmRleCIsInRoYXQiLCJwZXJjZW50YWdlIiwidG9TdHJpbmciLCJFcnJvciIsIlZFUlNJT04iLCJwYXJzZUZsb2F0IiwieEhpZ2hlc3RDb21wbGV0ZVN0ZXAiLCJoYW5kbGVTdGVwUG9pbnQiLCJuIiwidG90YWxTdGVwcyIsInhOdW1TdGVwcyIsImhpZ2hlc3RTdGVwIiwiY2VpbCIsIk51bWJlciIsInRvRml4ZWQiLCJzdGVwIiwiU3BlY3RydW0iLCJlbnRyeSIsInNpbmdsZVN0ZXAiLCJvcmRlcmVkIiwic29ydCIsInZhbGlkYXRlRm9ybWF0IiwiZnJvbSIsImlzVmFsaWRGb3JtYXR0ZXIiLCJ0ZXN0U3RlcCIsInBhcnNlZCIsInRlc3RSYW5nZSIsIm1pbiIsIm1heCIsInNwZWN0cnVtIiwidGVzdFN0YXJ0IiwiaGFuZGxlcyIsInN0YXJ0IiwidGVzdFNuYXAiLCJ0ZXN0QW5pbWF0ZSIsImFuaW1hdGUiLCJ0ZXN0QW5pbWF0aW9uRHVyYXRpb24iLCJhbmltYXRpb25EdXJhdGlvbiIsInRlc3RDb25uZWN0IiwiY29ubmVjdCIsInRlc3RPcmllbnRhdGlvbiIsIm9ydCIsInRlc3RNYXJnaW4iLCJtYXJnaW4iLCJnZXRNYXJnaW4iLCJ0ZXN0TGltaXQiLCJsaW1pdCIsInRlc3RQYWRkaW5nIiwidGVzdERpcmVjdGlvbiIsImRpciIsInRlc3RCZWhhdmlvdXIiLCJ0YXAiLCJkcmFnIiwiZml4ZWQiLCJob3ZlciIsImV2ZW50cyIsInRlc3RNdWx0aXRvdWNoIiwibXVsdGl0b3VjaCIsInRlc3RUb29sdGlwcyIsInRvb2x0aXBzIiwiZm9ybWF0dGVyIiwidGVzdEFyaWFGb3JtYXQiLCJhcmlhRm9ybWF0IiwidGVzdEZvcm1hdCIsImZvcm1hdCIsInRlc3RDc3NQcmVmaXgiLCJjc3NQcmVmaXgiLCJ0ZXN0Q3NzQ2xhc3NlcyIsImNzc0NsYXNzZXMiLCJ0ZXN0VXNlUmFmIiwidXNlUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidGVzdE9wdGlvbnMiLCJkZWZhdWx0Rm9ybWF0dGVyIiwidGVzdHMiLCJ0IiwiZGlyZWN0aW9uIiwib3JpZW50YXRpb24iLCJiZWhhdmlvdXIiLCJkZWZhdWx0cyIsIm9yaWdpbiIsImhhbmRsZSIsImhhbmRsZUxvd2VyIiwiaGFuZGxlVXBwZXIiLCJob3Jpem9udGFsIiwidmVydGljYWwiLCJsdHIiLCJydGwiLCJkcmFnZ2FibGUiLCJ0b29sdGlwIiwicGlwcyIsInBpcHNIb3Jpem9udGFsIiwicGlwc1ZlcnRpY2FsIiwibWFya2VyIiwibWFya2VySG9yaXpvbnRhbCIsIm1hcmtlclZlcnRpY2FsIiwibWFya2VyTm9ybWFsIiwibWFya2VyTGFyZ2UiLCJtYXJrZXJTdWIiLCJ2YWx1ZUhvcml6b250YWwiLCJ2YWx1ZVZlcnRpY2FsIiwidmFsdWVOb3JtYWwiLCJ2YWx1ZUxhcmdlIiwidmFsdWVTdWIiLCJrZXlzIiwibmFtZSIsInN0eWxlcyIsInN0eWxlT3Bvc2l0ZSIsImNsb3N1cmUiLCJvcmlnaW5hbE9wdGlvbnMiLCJhZGROb2RlVG8iLCJkaXYiLCJzY29wZV9Eb2N1bWVudCIsImFkZE9yaWdpbiIsImhhbmRsZU51bWJlciIsImFkZENvbm5lY3QiLCJhZGRUb29sdGlwIiwiYWRkTWFya2luZyIsInNwcmVhZCIsImZpbHRlckZ1bmMiLCJnZXRDbGFzc2VzIiwic291cmNlIiwic2l6ZUNsYXNzZXMiLCJ2YWx1ZVNpemVDbGFzc2VzIiwibWFya2VyU2l6ZUNsYXNzZXMiLCJ2YWx1ZU9yaWVudGF0aW9uQ2xhc3NlcyIsIm1hcmtlck9yaWVudGF0aW9uQ2xhc3NlcyIsIm9mZnNldCIsIm5vZGUiLCJpbm5lclRleHQiLCJhZGRTcHJlYWQiLCJyZW1vdmVQaXBzIiwic2NvcGVfUGlwcyIsInBhcmVudEVsZW1lbnQiLCJyZW1vdmVFbGVtZW50IiwiZ3JpZCIsIm1vZGUiLCJkZW5zaXR5IiwiZmlsdGVyIiwiZ3JvdXAiLCJzYWZlSW5jcmVtZW50IiwiaW5jcmVtZW50IiwiaW5kZXhlcyIsImZpcnN0SW5SYW5nZSIsInNjb3BlX1NwZWN0cnVtIiwibGFzdEluUmFuZ2UiLCJpZ25vcmVGaXJzdCIsImlnbm9yZUxhc3QiLCJwcmV2UGN0IiwidW5zaGlmdCIsImN1cnJlbnQiLCJxIiwibmV3UGN0IiwicGN0RGlmZmVyZW5jZSIsInN0ZXBzIiwicmVhbFN0ZXBzIiwic3RlcHNpemUiLCJsb3ciLCJoaWdoIiwiZ2VuZXJhdGVTcHJlYWQiLCJzdGVwcGVkIiwidiIsImZyb21TdGVwcGluZyIsImdldEdyb3VwIiwic2NvcGVfVGFyZ2V0IiwiYmFzZVNpemUiLCJyZWN0Iiwic2NvcGVfQmFzZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImFsdCIsIndpZHRoIiwiYXR0YWNoRXZlbnQiLCJtZXRob2QiLCJoYXNBdHRyaWJ1dGUiLCJjb250YWlucyIsInRlc3QiLCJoYXNDbGFzcyIsInBhZ2VPZmZzZXQiLCJ0b3VjaCIsIm1vdXNlIiwicG9pbnRlciIsImlzVG91Y2hPblRhcmdldCIsInRhcmdldFRvdWNoZXMiLCJ0b3VjaGVzIiwicGFnZVgiLCJwYWdlWSIsInRhcmdldFRvdWNoIiwiZmluZCIsImNoYW5nZWRUb3VjaGVzIiwiY2xpZW50WCIsImNsaWVudFkiLCJwb2ludHMiLCJjdXJzb3IiLCJmaXhFdmVudCIsImFjdGlvbnMiLCJidXR0b25zIiwic3VwcG9ydHNQYXNzaXZlIiwiY2FsY1BvaW50IiwibWV0aG9kcyIsImV2ZW50TmFtZSIsInBhc3NpdmUiLCJjYWxjUG9pbnRUb1BlcmNlbnRhZ2UiLCJwcm9wb3NhbCIsImRvY0VsZW0iLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJjbGllbnRUb3AiLCJjbGllbnRMZWZ0IiwibW92ZUhhbmRsZXMiLCJ1cHdhcmQiLCJsb2NhdGlvbnMiLCJoYW5kbGVOdW1iZXJzIiwicHJvcG9zYWxzIiwicmV2ZXJzZSIsImNoZWNrSGFuZGxlUG9zaXRpb24iLCJzZXRIYW5kbGUiLCJmaXJlRXZlbnQiLCJzY29wZV9FdmVudHMiLCJ0YXJnZXRFdmVudCIsImV2ZW50VHlwZSIsInNjb3BlX1NlbGYiLCJzY29wZV9WYWx1ZXMiLCJzY29wZV9Mb2NhdGlvbnMiLCJkb2N1bWVudExlYXZlIiwiZXZlbnQiLCJub2RlTmFtZSIsInJlbGF0ZWRUYXJnZXQiLCJldmVudEVuZCIsImV2ZW50TW92ZSIsImFwcFZlcnNpb24iLCJidXR0b25zUHJvcGVydHkiLCJtb3ZlbWVudCIsInN0YXJ0Q2FsY1BvaW50Iiwic2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50IiwibGlzdGVuZXJzIiwiYyIsInNjb3BlX0RvY3VtZW50RWxlbWVudCIsInNldFppbmRleCIsInNjb3BlX0JvZHkiLCJldmVudFN0YXJ0IiwiaGFuZGxlT3JpZ2luIiwic2NvcGVfSGFuZGxlcyIsImNoaWxkcmVuIiwic3RvcFByb3BhZ2F0aW9uIiwibW92ZUV2ZW50IiwibW92ZSIsImVuZEV2ZW50IiwiZW5kIiwib3V0RXZlbnQiLCJhcHBseSIsImNvbmNhdCIsImV2ZW50VGFwIiwicG9zIiwiZ2V0Q2xvc2VzdEhhbmRsZSIsImV2ZW50SG92ZXIiLCJyZWZlcmVuY2UiLCJsb29rQmFja3dhcmQiLCJsb29rRm9yd2FyZCIsImdldFZhbHVlIiwidG9QY3QiLCJwY3QiLCJzY29wZV9IYW5kbGVOdW1iZXJzIiwiY2hpbGROb2RlcyIsInN0YXRlVXBkYXRlIiwidXBkYXRlQ29ubmVjdCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsInVwZGF0ZUhhbmRsZVBvc2l0aW9uIiwic2NvcGVfQ29ubmVjdHMiLCJsIiwiaCIsInNldFZhbHVlIiwidmFsdWVTZXQiLCJpbnB1dCIsImZpcmVTZXRFdmVudCIsImlzSW5pdCIsInZhbHVlR2V0IiwiYmluZEV2ZW50IiwibmFtZXNwYWNlZEV2ZW50IiwicG9pbnRlckVuYWJsZWQiLCJtc1BvaW50ZXJFbmFibGVkIiwiQ1NTIiwic3VwcG9ydHMiLCJvcHRzIiwiZGVmaW5lUHJvcGVydHkiLCJnZXQiLCJnZXRTdXBwb3J0c1Bhc3NpdmUiLCJhZGRTbGlkZXIiLCJjb25uZWN0T3B0aW9ucyIsImFkZEVsZW1lbnRzIiwiZGVzdHJveSIsImxvY2F0aW9uIiwibmVhcmJ5U3RlcHMiLCJnZXROZWFyYnlTdGVwcyIsInRoaXNTdGVwIiwiZGVjcmVtZW50Iiwic3RlcEFmdGVyIiwic3RhcnRWYWx1ZSIsInN0ZXBCZWZvcmUiLCJzdGVwRGVjaW1hbHMiLCJjb3VudFN0ZXBEZWNpbWFscyIsIm9uIiwib2ZmIiwibmFtZXNwYWNlIiwiYmluZCIsInRFdmVudCIsInROYW1lc3BhY2UiLCJzZXQiLCJyZXNldCIsIl9fbW92ZUhhbmRsZXMiLCJ1cGRhdGVPcHRpb25zIiwib3B0aW9uc1RvVXBkYXRlIiwidXBkYXRlQWJsZSIsIm5ld09wdGlvbnMiLCJoYW5kbGVCZWZvcmUiLCJoYW5kbGVBZnRlciIsImV2ZW50SG9sZGVycyIsImV2ZW50SG9sZGVyIiwiYmluZFNsaWRlckV2ZW50cyIsInRpcHMiLCJ1bmVuY29kZWQiLCJmb3JtYXR0ZWRWYWx1ZSIsInBvc2l0aW9ucyIsIm5vdyIsInRleHQiLCJpc1BlcmNlbnRhZ2UiLCJjb252ZXJ0IiwidmVyc2lvbiIsImFwaSIsIlFSQ29kZSIsIlFSOGJpdEJ5dGUiLCJRUk1vZGUiLCJNT0RFXzhCSVRfQllURSIsInBhcnNlZERhdGEiLCJieXRlQXJyYXkiLCJjb2RlIiwiY2hhckNvZGVBdCIsIlFSQ29kZU1vZGVsIiwidHlwZU51bWJlciIsImVycm9yQ29ycmVjdExldmVsIiwibW9kdWxlcyIsIm1vZHVsZUNvdW50IiwiZGF0YUNhY2hlIiwiZGF0YUxpc3QiLCJRUlBvbHlub21pYWwiLCJudW0iLCJzaGlmdCIsIlFSUlNCbG9jayIsInRvdGFsQ291bnQiLCJkYXRhQ291bnQiLCJRUkJpdEJ1ZmZlciIsImJ1ZmZlciIsIl9nZXRBbmRyb2lkIiwiYW5kcm9pZCIsInNBZ2VudCIsImFNYXQiLCJtYXRjaCIsIl9nZXRUeXBlTnVtYmVyIiwic1RleHQiLCJuQ29ycmVjdExldmVsIiwiblR5cGUiLCJyZXBsYWNlZFRleHQiLCJlbmNvZGVVUkkiLCJfZ2V0VVRGOExlbmd0aCIsImxlbiIsIlFSQ29kZUxpbWl0TGVuZ3RoIiwibkxpbWl0IiwiUVJFcnJvckNvcnJlY3RMZXZlbCIsIkwiLCJNIiwiUSIsIkgiLCJnZXRMZW5ndGgiLCJ3cml0ZSIsInB1dCIsImFkZERhdGEiLCJuZXdEYXRhIiwiaXNEYXJrIiwicm93IiwiY29sIiwiZ2V0TW9kdWxlQ291bnQiLCJtYWtlIiwibWFrZUltcGwiLCJnZXRCZXN0TWFza1BhdHRlcm4iLCJtYXNrUGF0dGVybiIsInNldHVwUG9zaXRpb25Qcm9iZVBhdHRlcm4iLCJzZXR1cFBvc2l0aW9uQWRqdXN0UGF0dGVybiIsInNldHVwVGltaW5nUGF0dGVybiIsInNldHVwVHlwZUluZm8iLCJzZXR1cFR5cGVOdW1iZXIiLCJjcmVhdGVEYXRhIiwibWFwRGF0YSIsIm1pbkxvc3RQb2ludCIsInBhdHRlcm4iLCJsb3N0UG9pbnQiLCJRUlV0aWwiLCJnZXRMb3N0UG9pbnQiLCJjcmVhdGVNb3ZpZUNsaXAiLCJ0YXJnZXRfbWMiLCJpbnN0YW5jZV9uYW1lIiwiZGVwdGgiLCJxcl9tYyIsImNyZWF0ZUVtcHR5TW92aWVDbGlwIiwiYmVnaW5GaWxsIiwibW92ZVRvIiwibGluZVRvIiwiZW5kRmlsbCIsImdldFBhdHRlcm5Qb3NpdGlvbiIsImJpdHMiLCJnZXRCQ0hUeXBlTnVtYmVyIiwibW9kIiwiZmxvb3IiLCJnZXRCQ0hUeXBlSW5mbyIsImluYyIsImJpdEluZGV4IiwiYnl0ZUluZGV4IiwiZGFyayIsImdldE1hc2siLCJQQUQwIiwiUEFEMSIsInJzQmxvY2tzIiwiZ2V0UlNCbG9ja3MiLCJnZXRMZW5ndGhJbkJpdHMiLCJ0b3RhbERhdGFDb3VudCIsInB1dEJpdCIsImNyZWF0ZUJ5dGVzIiwibWF4RGNDb3VudCIsIm1heEVjQ291bnQiLCJkY2RhdGEiLCJlY2RhdGEiLCJkY0NvdW50IiwiZWNDb3VudCIsInJzUG9seSIsImdldEVycm9yQ29ycmVjdFBvbHlub21pYWwiLCJtb2RQb2x5IiwibW9kSW5kZXgiLCJ0b3RhbENvZGVDb3VudCIsIk1PREVfTlVNQkVSIiwiTU9ERV9BTFBIQV9OVU0iLCJNT0RFX0tBTkpJIiwiUVJNYXNrUGF0dGVybiIsIlBBVFRFUk5fUE9TSVRJT05fVEFCTEUiLCJHMTUiLCJHMTgiLCJHMTVfTUFTSyIsImQiLCJnZXRCQ0hEaWdpdCIsImRpZ2l0IiwiZXJyb3JDb3JyZWN0TGVuZ3RoIiwibXVsdGlwbHkiLCJRUk1hdGgiLCJnZXhwIiwicXJDb2RlIiwic2FtZUNvdW50IiwiY291bnQiLCJkYXJrQ291bnQiLCJnbG9nIiwiTE9HX1RBQkxFIiwiRVhQX1RBQkxFIiwicmF0aW8iLCJSU19CTE9DS19UQUJMRSIsInJzQmxvY2siLCJnZXRSc0Jsb2NrVGFibGUiLCJsaXN0IiwiYnVmSW5kZXgiLCJiaXQiLCJzdmdEcmF3ZXIiLCJEcmF3aW5nIiwiaHRPcHRpb24iLCJfZWwiLCJfaHRPcHRpb24iLCJkcmF3Iiwib1FSQ29kZSIsIm1ha2VTVkciLCJ0YWciLCJhdHRycyIsImNyZWF0ZUVsZW1lbnROUyIsIm5Db3VudCIsImNsZWFyIiwic3ZnIiwidmlld0JveCIsImZpbGwiLCJjb2xvckxpZ2h0Iiwic2V0QXR0cmlidXRlTlMiLCJjb2xvckRhcmsiLCJjaGlsZCIsImhhc0NoaWxkTm9kZXMiLCJsYXN0Q2hpbGQiLCJDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQiLCJuV2lkdGgiLCJuSGVpZ2h0IiwiYUhUTUwiLCJlbFRhYmxlIiwibkxlZnRNYXJnaW5UYWJsZSIsIm9mZnNldFdpZHRoIiwiblRvcE1hcmdpblRhYmxlIiwib2Zmc2V0SGVpZ2h0IiwiX29uTWFrZUltYWdlIiwiX2VsSW1hZ2UiLCJfZWxDYW52YXMiLCJ0b0RhdGFVUkwiLCJfYW5kcm9pZCIsImZhY3RvciIsImRldmljZVBpeGVsUmF0aW8iLCJkcmF3SW1hZ2UiLCJpbWFnZSIsInN4Iiwic3kiLCJzdyIsInNoIiwiZHgiLCJkeSIsImR3IiwiZGgiLCJfYklzUGFpbnRlZCIsIl9vQ29udGV4dCIsImdldENvbnRleHQiLCJfYlN1cHBvcnREYXRhVVJJIiwiblJvdW5kZWRXaWR0aCIsIm5Sb3VuZGVkSGVpZ2h0IiwiYklzRGFyayIsIm5MZWZ0IiwiblRvcCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwiZmlsbFN0eWxlIiwiZmlsbFJlY3QiLCJzdHJva2VSZWN0IiwibWFrZUltYWdlIiwiZlN1Y2Nlc3MiLCJmRmFpbCIsIl9mRmFpbCIsIl9mU3VjY2VzcyIsImZPbkVycm9yIiwib25hYm9ydCIsImlzUGFpbnRlZCIsImNsZWFyUmVjdCIsIm5OdW1iZXIiLCJ2T3B0aW9uIiwiY29ycmVjdExldmVsIiwidXNlU1ZHIiwiX29RUkNvZGUiLCJfb0RyYXdpbmciLCJtYWtlQ29kZSIsInRpdGxlIiwiQ29ycmVjdExldmVsIiwicm9vdCIsIlRpbnlBbmltYXRlIiwidXBkYXRlIiwiZWFzaW5nIiwibG9vcCIsInRpbWVzdGFtcCIsImNhbmNlbGVkIiwidGltZSIsIkRhdGUiLCJjaGFuZ2UiLCJyQUYiLCJlYXNpbmdzIiwibGluZWFyIiwicGVyZm9ybWFuY2UiLCJjYW5jZWwiLCJhbmltYXRlQ1NTIiwicHJvcGVydHkiLCJ1bml0IiwiYW5pbWF0aW9uIiwiZWFzZUluUXVhZCIsImVhc2VPdXRRdWFkIiwiZWFzZUluT3V0UXVhZCIsImVhc2VJbkN1YmljIiwiZWFzZU91dEN1YmljIiwiZWFzZUluT3V0Q3ViaWMiLCJlYXNlSW5RdWFydCIsImVhc2VPdXRRdWFydCIsImVhc2VJbk91dFF1YXJ0IiwiZWFzZUluUXVpbnQiLCJlYXNlT3V0UXVpbnQiLCJlYXNlSW5PdXRRdWludCIsImVhc2VJblNpbmUiLCJjb3MiLCJQSSIsImVhc2VPdXRTaW5lIiwic2luIiwiZWFzZUluT3V0U2luZSIsImVhc2VJbkV4cG8iLCJwb3ciLCJlYXNlT3V0RXhwbyIsImVhc2VJbk91dEV4cG8iLCJlYXNlSW5DaXJjIiwic3FydCIsImVhc2VPdXRDaXJjIiwiZWFzZUluT3V0Q2lyYyIsImVhc2VJbkVsYXN0aWMiLCJwIiwiYXNpbiIsImVhc2VPdXRFbGFzdGljIiwiZWFzZUluT3V0RWxhc3RpYyIsImVhc2VJbkJhY2siLCJlYXNlT3V0QmFjayIsImVhc2VJbk91dEJhY2siLCJlYXNlSW5Cb3VuY2UiLCJlYXNlT3V0Qm91bmNlIiwiZWFzZUluT3V0Qm91bmNlIiwiZ2xvYmFsIiwiSW1wZXR1cyIsImdldFBhc3NpdmVTdXBwb3J0ZWQiLCJwYXNzaXZlU3VwcG9ydGVkIiwiZXJyIiwiYm91bmNlRGVjZWxlcmF0aW9uIiwiYm91bmNlQWNjZWxlcmF0aW9uIiwiX3JlZiIsImNhbGxVcGRhdGVDYWxsYmFjayIsInVwZGF0ZUNhbGxiYWNrIiwic291cmNlRWwiLCJ0YXJnZXRYIiwidGFyZ2V0WSIsIm5vcm1hbGl6ZUV2ZW50IiwiZXYiLCJpZGVudGlmaWVyIiwib25Eb3duIiwicG9pbnRlckFjdGl2ZSIsInBhdXNlZCIsImRlY2VsZXJhdGluZyIsInBvaW50ZXJJZCIsInBvaW50ZXJMYXN0WCIsInBvaW50ZXJDdXJyZW50WCIsInBvaW50ZXJMYXN0WSIsInBvaW50ZXJDdXJyZW50WSIsInRyYWNraW5nUG9pbnRzIiwiYWRkVHJhY2tpbmdQb2ludCIsIm9uTW92ZSIsIm9uVXAiLCJzdG9wVHJhY2tpbmciLCJ0aWNraW5nIiwicmVxdWVzdEFuaW1GcmFtZSIsInVwZGF0ZUFuZFJlbmRlciIsImZpcnN0UG9pbnQiLCJsYXN0UG9pbnQiLCJ4T2Zmc2V0IiwieU9mZnNldCIsIkQiLCJtdWx0aXBsaWVyIiwiZGVjVmVsWCIsImRlY1ZlbFkiLCJkaWZmIiwiY2hlY2tCb3VuZHMiLCJpbkJvdW5kcyIsInN0ZXBEZWNlbEFuaW0iLCJzdGFydERlY2VsQW5pbSIsInBvaW50ZXJDaGFuZ2VYIiwicG9pbnRlckNoYW5nZVkiLCJib3VuY2UiLCJkcmFnT3V0T2ZCb3VuZHNNdWx0aXBsaWVyIiwidmFsIiwicmVzdHJpY3QiLCJ4RGlmZiIsInlEaWZmIiwiYm91bmRYbWluIiwiYm91bmRYbWF4IiwiYm91bmRZbWluIiwiYm91bmRZbWF4IiwiZnJpY3Rpb24iLCJzdG9wVGhyZXNob2xkIiwiYWRqdXN0IiwiX3JlZiRzb3VyY2UiLCJfcmVmJG11bHRpcGxpZXIiLCJfcmVmJGZyaWN0aW9uIiwiaW5pdGlhbFZhbHVlcyIsImJvdW5kWCIsImJvdW5kWSIsIl9yZWYkYm91bmNlIiwicGF1c2UiLCJyZXN1bWUiLCJzZXRWYWx1ZXMiLCJzZXRNdWx0aXBsaWVyIiwic2V0Qm91bmRYIiwic2V0Qm91bmRZIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidmlldyIsInByb3RvUHJvcCIsImVsZW1DdHJQcm90byIsIm9iakN0ciIsInN0clRyaW0iLCJhcnJJbmRleE9mIiwiRE9NRXgiLCJtZXNzYWdlIiwiRE9NRXhjZXB0aW9uIiwiY2hlY2tUb2tlbkFuZEdldEluZGV4IiwidG9rZW4iLCJDbGFzc0xpc3QiLCJ0cmltbWVkQ2xhc3NlcyIsImNsYXNzZXMiLCJfdXBkYXRlQ2xhc3NOYW1lIiwiY2xhc3NMaXN0UHJvdG8iLCJjbGFzc0xpc3RHZXR0ZXIiLCJ1cGRhdGVkIiwidG9nZ2xlIiwiZm9yY2UiLCJyZXN1bHQiLCJjbGFzc0xpc3RQcm9wRGVzYyIsImV4IiwibnVtYmVyIiwiX19kZWZpbmVHZXR0ZXJfXyIsInRlc3RFbGVtZW50IiwiY3JlYXRlTWV0aG9kIiwib3JpZ2luYWwiLCJET01Ub2tlbkxpc3QiLCJfdG9nZ2xlIiwiY29tbW9uRXZlbnRMb29wIiwiY3VycmVudFRhcmdldCIsIiRoYW5kbGVycyIsInN5bnRoZXRpYyIsImhhbmRsZXIiLCJjb250aW51ZVByb3BhZ2F0aW9uIiwiaGFuZGxlcnMiLCJldnQiLCJldmVudFBoYXNlIiwiZW5yaWNoIiwiaGFuZGxlRXZlbnQiLCJzdG9wcGVkSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJzdG9wcGVkUHJvcGFnYXRpb24iLCJkaXNwYXRjaEV2ZW50IiwiZGVmYXVsdFByZXZlbnRlZCIsImNvbW1vbkRlc2NyaXB0b3IiLCJjb21tb25UZXh0Q29udGVudCIsInByb3RvRGVzdCIsInByb3RvU291cmNlIiwiZGVzY3JpcHRvciIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInRleHRDb250ZW50IiwiYXJyYXkiLCJnZXRUZXh0Q29udGVudCIsInRleHROb2RlIiwiYXJyYXlDb250ZW50Iiwibm9kZVR5cGUiLCJuZXh0U2libGluZyIsIm9ua2V5dXAiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsInNyY0VsZW1lbnQiLCJmcm9tRWxlbWVudCIsIm9uUmVhZHlTdGF0ZSIsIlJFQURZRVZFTlRESVNQQVRDSEVEIiwicmVhZHlTdGF0ZU9LIiwicmVhZHlTdGF0ZSIsImRldGFjaEV2ZW50IiwiT05SRUFEWVNUQVRFQ0hBTkdFIiwiRE9NQ09OVEVOVExPQURFRCIsImdldHRlciIsImF0dHIiLCJodG1sIiwic2V0VGV4dENvbnRlbnQiLCJ2ZXJpZnkiLCJ0aW1lU3RhbXAiLCJnZXRUaW1lIiwiRFVOTk9BQk9VVERPTUxPQURFRCIsIlNFQ1JFVCIsInJhbmRvbSIsIm9iamVjdCIsImRlZmluZVByb3BlcnRpZXMiLCJkZXNjcmlwdG9ycyIsIm9fTyIsImxvZyIsIkVsZW1lbnRQcm90b3R5cGUiLCJUZXh0UHJvdG90eXBlIiwiVGV4dCIsInBvc3NpYmx5TmF0aXZlRXZlbnQiLCJ0eXBlcyIsInZhbHVlRGVzYyIsIkhUTUxDb21tZW50RWxlbWVudCIsIkhUTUxTY3JpcHRFbGVtZW50IiwiSFRNTFRpdGxlRWxlbWVudCIsIkhUTUxTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiQ1NTU3R5bGVTaGVldCIsIm9wYWNpdHlyZSIsIkNTU1N0eWxlRGVjbGFyYXRpb24iLCJtIiwiem9vbSIsImZvdW5kIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJsYXN0RWxlbWVudENoaWxkIiwib25pbnB1dCIsIl9vbmlucHV0IiwicHJldmlvdXNFbGVtZW50U2libGluZyIsInByZXZpb3VzU2libGluZyIsIm5leHRFbGVtZW50U2libGluZyIsImNoaWxkRWxlbWVudENvdW50IiwiY2FwdHVyZSIsIm9udHlwZSIsInRlbXBsZSIsImN1cnJlbnRUeXBlIiwidyIsImNyZWF0ZUV2ZW50T2JqZWN0IiwibWVoIiwidmFsaWQiLCJYTUxIdHRwUmVxdWVzdCIsImJ1dHRvbkdldHRlciIsIkV2ZW50IiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJyZXR1cm5WYWx1ZSIsImNhbmNlbEJ1YmJsZSIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIl9wYWdlWCIsInNjcm9sbFgiLCJfcGFnZVkiLCJzY3JvbGxZIiwid2hpY2giLCJrZXlDb2RlIiwiYnV0dG9uIiwiY2hhckNvZGUiLCJ1bmRlZiIsInRvRWxlbWVudCIsIkhUTUxEb2N1bWVudCIsImRlZmF1bHRWaWV3IiwicGFyZW50V2luZG93IiwiZ29ubmEiLCJkb1Njcm9sbCIsIkNsYXNzIiwiV2luZG93IiwiQ29tcHV0ZWRTdHlsZSIsIl8iLCJQc2V1ZG9Db21wdXRlZFN0eWxlIiwibm90cGl4ZWwiLCJyZSIsInBsYWNlIiwiJDEiLCJ0b1VwcGVyQ2FzZSIsImdldFByb3BlcnR5VmFsdWUiLCJydExlZnQiLCJjdXJyZW50U3R5bGUiLCJwaXhlbExlZnQiLCJwc2V1ZG8iLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJzdHlsZVNoZWV0cyIsIkhUTUw1RWxlbWVudCIsImNyZWF0ZVN0eWxlU2hlZXQiLCJhZGRSdWxlIiwibGFzdFRpbWUiLCJ2ZW5kb3JzIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJjdXJyVGltZSIsInRpbWVUb0NhbGwiLCJSaWRlU3R5bGVyU2hvd2Nhc2UiLCJhdXRoIiwidmFsaWRhdGUiLCJzZXR0aW5ncyIsInNldHRpbmdzXzEiLCJwYXJzZUJvb2xlYW4iLCJib29sZWFuIiwiZmlyc3RDaGFyIiwiZGVmYXVsdFNldHRpbmdzIiwiRW5hYmxlU2hhcmluZyIsIlN1c3BlbnNpb25SYW5nZXMiLCJEZWZhdWx0IiwiTWluIiwiTWF4IiwiVHJ1Y2s0V0QiLCJWYW40V0QiLCJVc2VSYXdUaXJlRGVzY3JpcHRpb24iLCJnZXRTZXR0aW5ncyIsIlByb21pc2VIZWxwZXIiLCJ0aGVuIiwiS2V5cyIsIlNldHRpbmdzIiwic3VzcGVuc2lvblJhbmdlc1NldHRpbmciLCJKU09OIiwicGFyc2UiLCJwYXJzZVN1c3BlbnNpb25SYW5nZXMiLCJpc0F1dGhlbnRpY2F0ZWQiLCJhdXRoZW50aWNhdGVkIiwiaW5pdGlhbGl6ZSIsIlVzZXJuYW1lIiwidXNlcm5hbWUiLCJQYXNzd29yZCIsInBhc3N3b3JkIiwiZW52aXJvbm1lbnQiLCJFbnZpcm9ubWVudCIsIkFscGhhIiwiQmV0YSIsIkxpdmUiLCJPdGhlciIsImZhaWwiLCJhZnRlckF1dGhlbnRpY2F0ZWQiLCJnZXRVUkwiLCJfY3JlYXRlQ2xhc3MiLCJwcm9wcyIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIkV2ZW50SGFuZGxlciIsImV2ZW50SGFuZGxlcnMiLCJBcnJheUhlbHBlciIsImRlYnVnQ2FsbGJhY2siLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJuZXh0IiwiZXZlbnRIYW5kbGVyIiwicmV0dXJuIiwiZmlsdGVyc18xIiwiRmlsdGVyQ29udHJvbGxlciIsImdsb2JhbEZpbHRlcnMiLCJHbG9iYWxGaWx0ZXJQcm92aWRlciIsInRpcmVGaWx0ZXJzIiwiVGlyZUZpbHRlclByb3ZpZGVyIiwid2hlZWxGaWx0ZXJzIiwiV2hlZWxGaWx0ZXJQcm92aWRlciIsInZlaGljbGUiLCJjbGVhckZpbHRlcnMiLCJzZXRWZWhpY2xlIiwidHJpZ2dlckNoYW5nZSIsIkZpbHRlclByb3ZpZGVyIiwiZ2xvYmFsRmlsdGVyUHJvdmlkZXIiLCJjdXJyZW50RmlsdGVycyIsIm9uRmlsdGVyc0NoYW5nZWQiLCJnZXRGaWx0ZXJzIiwiZmlsdGVyVmFsdWVzIiwiZmlsdGVycyIsImJhc2VGaWx0ZXJzIiwiZmlsdGVyVmFsdWUiLCJzZXRGaWx0ZXIiLCJPYmplY3RIZWxwZXIiLCJhc3NpZ24iLCJyZXRyaWV2ZU9wdGlvbnMiLCJmaWx0ZXJPcHRpb24iLCJmaW5kRmlsdGVyT3B0aW9uIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIiLCJfZGlkSXRlcmF0b3JFcnJvcjIiLCJfaXRlcmF0b3JFcnJvcjIiLCJfc3RlcDIiLCJfaXRlcmF0b3IyIiwiZmlsdGVyT3B0aW9ucyIsInNlbGVjdGVkRmlsdGVyc09yS2V5IiwibmV3RmlsdGVycyIsInNlbGVjdGVkRmlsdGVycyIsIl9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zIiwiX2RpZEl0ZXJhdG9yRXJyb3IzIiwiX2l0ZXJhdG9yRXJyb3IzIiwiX3N0ZXAzIiwiX2l0ZXJhdG9yMyIsInNlbGVjdGVkRmlsdGVyIiwiX3ZhbHVlIiwiaGFzQ2hhbmdlZCIsIm5ld0ZpbHRlclZhbHVlIiwidHJpZ2dlckZpbHRlckNoYW5nZSIsInZlaGljbGVDb25maWdGaWx0ZXJLZXkiLCJfRmlsdGVyUHJvdmlkZXIiLCJfdGhpcyIsImdldFByb3RvdHlwZU9mIiwiSGFzRml0bWVudHMiLCJ2aXNpYmxlIiwidmVoaWNsZUNvbmZpZ3VyYXRpb25JRCIsInZlaGljbGVUaXJlT3B0aW9uSUQiLCJWZWhpY2xlVGlyZU9wdGlvbiIsIl9GaWx0ZXJQcm92aWRlcjIiLCJfdGhpczIiLCJSZXF1aXJlZEZpdG1lbnRSZXNvdXJjZVR5cGVzIiwibGFiZWwiLCJzdHJpbmdzIiwiZ2V0U3RyaW5nIiwidW5zZWxlY3RlZE9wdGlvbkxhYmVsIiwiQnJhbmRzIiwiYnJhbmQiLCJUaXJlQnJhbmROYW1lIiwiVGlyZUJyYW5kSUQiLCJnZXRWYWx1ZUZyb21GaWx0ZXJzIiwiVGlyZUJyYW5kIiwidGlyZUJyYW5kSUQiLCJBdHRyaWJ1dGVzIiwiYXR0cmlidXRlIiwiVGlyZU1vZGVsQXR0cmlidXRlTmFtZSIsIlRpcmVNb2RlbEF0dHJpYnV0ZUlEIiwiUmVxdWlyZWRUaXJlTW9kZWxBdHRyaWJ1dGUiLCJhdHRyaWJ1dGVJRCIsIlNwZWVkUmF0aW5ncyIsIlRpcmVTcGVlZFJhdGluZ0NvZGUiLCJUaXJlU3BlZWRSYXRpbmdJRCIsIlNwZWVkUmF0aW5nIiwic3BlZWRSYXRpbmdJRCIsIkNvdW50IiwiX0ZpbHRlclByb3ZpZGVyMyIsIl90aGlzMyIsIkZpdG1lbnRSZXNvdXJjZVR5cGVzIiwiV2hlZWxCcmFuZE5hbWUiLCJXaGVlbEJyYW5kSUQiLCJXaGVlbEJyYW5kIiwid2hlZWxCcmFuZElEIiwiRmluaXNoZXMiLCJmaW5pc2hDYXRlZ29yeSIsIldoZWVsRmluaXNoQ2F0ZWdvcnlOYW1lIiwiV2hlZWxGaW5pc2hDYXRlZ29yeUlEIiwiV2hlZWxGaW5pc2hDYXRlZ29yeSIsIndoZWVsRmluaXNoQ2F0ZWdvcnlJRCIsIkRpYW1ldGVycyIsImRpYW1ldGVyIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQiLCJfZGlkSXRlcmF0b3JFcnJvcjQiLCJfaXRlcmF0b3JFcnJvcjQiLCJfc3RlcDQiLCJfaXRlcmF0b3I0IiwiRml0bWVudEZpbHRlcnMiLCJmaXRtZW50RmlsdGVyIiwiR3JvdXBLZXkiLCJmaXRtZW50RmlsdGVyR3JvdXBLZXkiLCJnZXRGaXRtZW50RmlsdGVyVmFsdWUiLCJmaXRtZW50RmlsdGVycyIsImV4aXN0aW5nRml0bWVudEZpbHRlckdyb3VwIiwiX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUiLCJfZGlkSXRlcmF0b3JFcnJvcjUiLCJfaXRlcmF0b3JFcnJvcjUiLCJfc3RlcDUiLCJfaXRlcmF0b3I1IiwiYXBwbGllZEZpdG1lbnRGaWx0ZXIiLCJhcHBseUZpdG1lbnRGaWx0ZXIiLCJEaWFtZXRlciIsIlN0YXRlcyIsInN0YXRlXzEiLCJTdGF0ZUNhbGxiYWNrUmVnaXN0ZXIiLCJleGl0Q2FsbGJhY2tzIiwiZW50ZXJDYWxsYmFja3MiLCJjdXJyZW50U3RhdGUiLCJuZXdTdGF0ZSIsImV4aXRDYWxsYmFjayIsIm9sZFN0YXRlIiwiZW50ZXJDYWxsYmFjayIsIlJpZGVTdHlsZXJTaG93Y2FzZVN0YXRlIiwiaW5pdGlhbFN0YXRlIiwiY3VycmVudERhdGEiLCJjdXJyZW50VmVoaWNsZUNvbmZpZ3VyYXRpb25JRCIsImN1cnJlbnRWZWhpY2xlRGVzY3JpcHRpb24iLCJ2ZWhpY2xlSGFzQW5nbGVkSW1hZ2UiLCJ2ZWhpY2xlSGFzU2lkZUltYWdlIiwiY3VycmVudFZlaGljbGVUaXJlT3B0aW9uRGVzY3JpcHRpb24iLCJjdXJyZW50VmVoaWNsZVRpcmVPcHRpb25JRCIsImN1cnJlbnRQYWludFNjaGVtZSIsImN1cnJlbnRUaXJlIiwiY3VycmVudFdoZWVsIiwiY3VycmVudFdoZWVsRml0bWVudCIsImN1cnJlbnRUaXJlT3B0aW9uIiwiY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbk1vZGVsIiwiY2FsbGJhY2tzIiwiY2hhbmdlQ2FsbGJhY2tzIiwiZGF0YUNoYW5nZWRDYWxsYmFja3MiLCJiZWZvcmVDYWxsYmFja3MiLCJhZnRlckNhbGxiYWNrcyIsImRhdGFDaGFuZ2VkQ2FsbGJhY2siLCJiZWZvcmUiLCJfY2FsbGJhY2siLCJkYXRhRXh0ZW5zaW9uIiwiY3VycmVudFZhbHVlIiwibmV3VmFsdWUiLCJzZXREYXRhIiwiY2FsbGJhY2tzRm9yU3RhdGUiLCJwcmV2aW91c1N0YXRlIiwic3RhdGVDaGFuZ2VkRXZlbnQiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiIsIl9kaWRJdGVyYXRvckVycm9yNiIsIl9pdGVyYXRvckVycm9yNiIsIl9zdGVwNiIsIl9pdGVyYXRvcjYiLCJ0cmlnZ2VyRXhpdENhbGxiYWNrcyIsInRyaWdnZXJFbnRlckNhbGxiYWNrcyIsImRlZmF1bHRMYW5ndWFnZUZvcm1hdFByb3ZpZGVyIiwiY3VycmVuY3kiLCJzeW1ib2wiLCJ0b0xvY2FsZVN0cmluZyIsIkxhbmd1YWdlS2V5cyIsIkxhbmd1YWdlUmVnaXN0ZXIiLCJsYW5ndWFnZSIsImRlZmF1bHRMYW5ndWFnZSIsImxhbmd1YWdlUmVnaXN0ZXJzIiwiZ2V0TGFuZ3VhZ2UiLCJsYW5ndWFnZUtleSIsInJlZ2lzdGVyTGFuZ3VhZ2UiLCJzZXRBc0RlZmF1bHQiLCJsYW5ndWFnZVJlZ2lzdGVyIiwic2V0RGVmYXVsdExhbmd1YWdlIiwibGFuZ3VhZ2VJc1JlZ2lzdGVyZWQiLCJzdHJpbmciLCJ3aWR0aEJyZWFrcG9pbnRzIiwiU3R5bGVNYW5hZ2VyIiwiaW5pdGlhbGl6ZWQiLCJpbml0aWFsaXplQnJlYWtwb2ludHMiLCJ3YXRjaFNpemUiLCJpbml0aWFsaXplQ1NTIiwicmVzb2x2ZU9uRE9NTG9hZCIsImluaXRpYWxpemVTdHlsZUNsYXNzZXMiLCJTdHlsZUhlbHBlciIsImlzT2Zmc2V0UG9zaXRpb25lZCIsImNvbnRhaW5lckRvY3VtZW50IiwiaGVhZCIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaW5zZXJ0QmVmb3JlIiwic3R5bGVzaGVldCIsImNzcyIsIkhUTUxIZWxwZXIiLCJmaXJzdENoaWxkV2l0aFRhZyIsImlzVG91Y2hEZXZpY2UiLCJhcHBseUJyZWFrcG9pbnRDbGFzc2VzIiwiZ2V0RG9jdW1lbnQiLCJnZXRXaW5kb3ciLCJvblJlc2l6ZSIsIm9uUmVzaXplZCIsIm5ld0JyZWFrcG9pbnQiLCJvbkJyZWFrcG9pbnRDaGFuZ2VkIiwidGltZXIiLCJlbGVtZW50U2l6ZSIsIm5ld0VsZW1lbnRTaXplIiwicmVzaXplIiwicmVzaXplZCIsImN1cnJlbnRCcmVha3BvaW50Iiwib3JpZ2luYWxDbGFzc05hbWUiLCJicmVha3BvaW50Q2hhbmdlZCIsIlJpZGVTdHlsZXJTaG93Y2FzZUluc3RhbmNlIiwiYWN0aXZlTG9hZGluZ1Nlc3Npb25LZXlzIiwiZGVidWciLCJvdGhlckNvbXBvbmVudHMiLCJSaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kIiwic3RhdGVDb21wb25lbnRNYXBwaW5nIiwiQ2hvb3NlVmVoaWNsZSIsIlJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb24iLCJWaXN1YWxpemUiLCJSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbiIsIm1haW5Db21wb25lbnRzIiwicmlkZXN0eWxlclNob3djYXNlIiwiaW5pdGlhbGl6ZVN0YXRlIiwicmVnaXN0ZXJDb21wb25lbnRzIiwiaW5pdGlhbGl6ZVN0eWxlIiwiaW5pdGlhbGl6ZUZpbHRlcnMiLCJpbml0aWFsaXplQ29tcG9uZW50cyIsInNlbGVjdGlvbiIsImNoYW5nZVN0YXRlIiwic2V0dGluZ3NSZXRyaWV2ZWQiLCJzZXR0aW5nc0Zyb21BUEkiLCJhbGwiLCJ0cmlnZ2VyIiwib25TdGF0ZUNoYW5nZWQiLCJmaW5pc2hlZCIsImZpbmlzaGVkU3RyaW5nIiwic3RhdGVDaGFuZ2UiLCJvbkNoYW5nZSIsIl90aGlzNCIsImNvbXBvbmVudCIsIl9jb21wb25lbnQiLCJzZXRWaXNpYmxlIiwidXBkYXRlQ3VycmVudENvbXBvbmVudCIsIm5ld0NvbXBvbmVudCIsIm9sZENvbXBvbmVudCIsInN0YXRlQ2xhc3NQcmVmaXgiLCJpc1Zpc2libGUiLCJoaWRlIiwic2hvdyIsIkNvbXBvbmVudEJhc2UiLCJzaG93Y2FzZUluc3RhbmNlIiwic2hvd2Nhc2UiLCJpbml0aWFsaXplQ29tcG9uZW50IiwiTWFpbkNvbXBvbmVudEJhc2UiLCJfUmlkZVN0eWxlclNob3djYXNlJEMiLCJ0cmFuc2l0aW9uc1N1cHBvcnRlZCIsInRyYW5zaXRpb25FbmRFdmVudCIsIm9uVHJhbnNpdGlvbkVuZCIsImJ1aWxkQ29tcG9uZW50IiwiaW5pdGlhbGl6ZU1haW5Db21wb25lbnQiLCJfdmlzaWJsZSIsInNldFZpc2libGVTdHlsaW5nIiwic2tpcFRyYW5zaXRpb24iLCJ2aXNpYmlsaXR5IiwiX2FuaW1hdGluZyIsIm9uTmV4dFRyYW5zaXRpb25FbmQiLCJjYWxsV2hlbkRvbmVBbmltYXRpbmciLCJvblNob3ciLCJ0cmlnZ2VyUmVmbG93Iiwib25EaXNwbGF5Iiwib25TaG93biIsIl90aGlzNSIsIm9uSGlkZSIsIm9uSGlkZGVuIiwiX3NsaWNlZFRvQXJyYXkiLCJfYXJyIiwiX24iLCJfZCIsIl9lIiwiX3MiLCJfaSIsInNsaWNlSXRlcmF0b3IiLCJfdHlwZW9mIiwib2JqIiwiZGVmYXVsdFNpemUiLCJtaW5pbXVtU2l6ZSIsIm1heGltdW1TaXplIiwiZGVmYXVsdFBvc2l0aW9uIiwiUmVzaXplYWJsZVJlc291cmNlSW1hZ2UiLCJyZXNpemVDYWxsYmFjayIsInRyYW5zaXRpb25DbGFzcyIsInVzZVRyYW5zaXRpb25zIiwidHJhbnNpdGlvbkluQ2xhc3MiLCJjYWxjdWxhdGVQYWRkaW5nIiwiaW1hZ2VMb2FkQ2FsbGJhY2siLCJvbkxvYWQiLCJpbWFnZUVycm9yQ2FsbGJhY2siLCJvbkVycm9yIiwib25JbWFnZUVycm9yIiwib25JbWFnZUxvYWQiLCJiYXNlSW5zdHJ1Y3Rpb25zIiwibG9hZEluaXRpYWxseSIsImxpc3RlblRvV2luZG93UmVzaXplIiwidGltZW91dCIsInJlZ2lzdGVyZWRFdmVudCIsIl9yZWdpc3RlcmVkRXZlbnQiLCJsaXN0ZW5lciIsImVycm9yRXZlbnQiLCJWaXNpYmlsaXR5SGVscGVyIiwiaW1hZ2VEaXNwbGF5Q2FsbGJhY2siLCJfY29udGFpbmVyIiwiZGV0ZWN0ZWRTaXplIiwicGl4ZWxSYXRpbyIsIkJveEhlbHBlciIsImJvdW5kIiwiYm94IiwiY3VycmVudFNpemUiLCJfY3VycmVudFNpemUiLCJ0aGlzV2lkdGgiLCJ0aGlzSGVpZ2h0IiwiYm94V2lkdGgiLCJib3hIZWlnaHQiLCJuZWVkc1VwZGF0ZSIsInJlbmRlclNpemUiLCJjYWxjdWxhdGVSZW5kZXJTaXplIiwic2l6ZUlzRGlmZmVyZW50IiwiX2N1cnJlbnRTaXplMiIsImJhY2tncm91bmRFbGVtZW50IiwiYXBwZW5kVG8iLCJvcHRpb25DbGFzcyIsImFjdGl2ZUNsYXNzIiwib3B0aW9uc0NvdW50IiwiUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyIiwib3B0aW9uQ29udGFpbmVyIiwidHJhbnNmb3JtIiwib25PcHRpb25DbGljayIsImVtcHR5IiwiZnJhZ21lbnQiLCJjcmVhdGVEb2N1bWVudEZyYWdtZW50Iiwib3B0aW9uIiwib3B0aW9uRWxlbWVudCIsImNoaWxkcmVuV2l0aENsYXNzZXMiLCJvcHRpb25TZWxlY3RlZENhbGxiYWNrIiwiUmlkZVN0eWxlclNob3djYXNlQ2hhbmdlV2hlZWxTaXplIiwiX1JpZGVTdHlsZXJTaG93Y2FzZSRSIiwiZml0bWVudHMiLCJhY3RpdmVGaXRtZW50Iiwic2VlbkRpYW1ldGVycyIsImRpYW1ldGVyRml0bWVudHMiLCJmaXRtZW50IiwiRGlhbWV0ZXJNaW4iLCJzZXRPcHRpb25zIiwiZGlhbWV0ZXJGaXRtZW50IiwibW9kYWxDbGFzcyIsImJhY2tkcm9wQ2xhc3MiLCJSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCIsImNyZWF0ZUJhY2tkcm9wSWZOZWVkZWQiLCJidWlsZE1vZGFsIiwic2V0VmlzaWJpbGl0eSIsInBhcmVudCIsImZ1bGwiLCJidWlsZEFjdGlvbnMiLCJhY3Rpb25Db250YWluZXIiLCJfbG9vcCIsImNyZWF0ZUJ1dHRvbiIsInJlbW92ZU9uSGlkZGVuIiwiaGFzQ2hpbGRXaXRoQ2xhc3MiLCJSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbEJhY2tkcm9wIiwiX1JpZGVTdHlsZXJTaG93Y2FzZSRDMiIsIl90aGlzNiIsImJ1aWxkQmFja2Ryb3AiLCJfdGhpczciLCJjcmVhdGVFbGVtZW50V2l0aENsYXNzIiwidG9wVmlzaWJsZU1vZGFsIiwibGFzdFNpYmxpbmdXaXRoQ2xhc3MiLCJfdGhpczgiLCJoYXNTaWJsaW5nV2l0aENsYXNzIiwib3B0aW9uTWVudUNsYXNzIiwib3B0aW9uTWVudU9wdGlvbkNsYXNzIiwib3B0aW9uTWVudU9wdGlvbkFjdGl2ZUNsYXNzIiwib3B0aW9uTWVudUxvYWRpbmdDbGFzcyIsIlJpZGVTdHlsZXJTaG93Y2FzZU9wdGlvbk1lbnUiLCJjbGlja0V2ZW50Iiwib25DbGlja2VkIiwic2V0TG9hZGluZyIsImxvYWRpbmciLCJnZW5lcmF0ZU9wdGlvbkVsZW1lbnQiLCJjbGVhck9wdGlvbnMiLCJhcHBlbmRPcHRpb25zIiwicHJldmlvdXNseVNlbGVjdGVkT3B0aW9uIiwiZmlyc3RDaGlsZFdpdGhDbGFzcyIsIm5ld1NlbGVjdGVkT3B0aW9uIiwib3B0aW9uU2VsZWN0ZWRDbGFzcyIsIm9wdGlvbkxvYWRpbmdDbGFzcyIsIm9wdGlvbkxvYWRlckNsYXNzIiwiUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudCIsImhhc01vcmVSZXN1bHRzIiwiaXNMb2FkaW5nIiwiaXNGaXJzdExvYWQiLCJlbmFibGVTaG93Tm9SZXN1bHRzIiwicHJldkJ1dHRvbiIsImFwcGVuZCIsImNyZWF0ZUljb24iLCJuZXh0QnV0dG9uIiwib25Db21wb25lbnRDbGljayIsImxvYWRNb3JlIiwiU2Nyb2xsSGVscGVyIiwiYXR0YWNoV2hlZWxMaXN0ZW5lciIsImRlbHRhIiwiZGVsdGFYIiwiZGVsdGFZIiwiX29wdGlvbkNvbnRhaW5lciIsInNjcm9sbFdpZHRoIiwidG91Y2hTY3JvbGxIYW5kbGVyIiwib25TY3JvbGwiLCJfbG9hZE1vcmUiLCJjbGVhck9wdGlvbkxvYWRlciIsInVwZGF0ZUJvdW5kcyIsIl9vcHRpb25Db250YWluZXIyIiwidXBkYXRlUGFnaW5hdGlvbkJ1dHRvbnMiLCJvbkVuZFZpc2libGUiLCJhZGRPcHRpb25Mb2FkZXIiLCJwcmV2aW91c1BhZ2UiLCJuZXh0UGFnZSIsImRpc2FibGVkIiwicmVtb3ZlQ2hpbGRyZW5XaXRoQ2xhc3NlcyIsImhhc05vUmVzdWx0cyIsIkRvY3VtZW50RnJhZ21lbnQiLCJOb2RlIiwic2hvd05vUmVzdWx0cyIsIm5vUmVzdWx0c0VsZW1lbnQiLCJuZXdMZWZ0Iiwic3RhcnRMZWZ0IiwiY3VycmVudExlZnQiLCJzY3JvbGxUbyIsInNlbGVjdGVkT3B0aW9uIiwib2xkT3B0aW9uRWxlbWVudCIsInNlbGVjdE9wdGlvbiIsIl9nZXQiLCJyZWNlaXZlciIsIkZ1bmN0aW9uIiwiZGVzYyIsIlJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3IiLCJnZXREYXRhIiwiY3JlYXRlT3B0aW9ucyIsIlNjaGVtZXMiLCJzY2hlbWVzIiwic2NoZW1lIiwicGFpbnRTY2hlbWUiLCJjb2xvciIsIkNvbG9ycyIsImJhY2tncm91bmRDb2xvciIsIkhleCIsIlNjaGVtZU5hbWUiLCJjcmVhdGVBdHRyaWJ1dGVMYWJlbCIsImV4dGVuZERhdGEiLCJvblBhaW50U2NoZW1lU2VsZWN0ZWQiLCJhdHRyaWJ1dGVzIiwic3RyaW5nQXR0cmlidXRlcyIsInBvcG92ZXJDbGFzcyIsIlJpZGVTdHlsZXJTaG93Y2FzZVBvcG92ZXIiLCJwcm9kdWN0TW9kYWxDbGFzcyIsInRpdGxlQ2xhc3MiLCJSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0TW9kYWwiLCJ0b2dnbGVCdXR0b24iLCJSaWRlU3R5bGVyU2hvd2Nhc2VUb2dnbGVCdXR0b24iLCJvbkNoYW5nZWQiLCJwYWdlcyIsInBhZ2UiLCJzaG93UGFnZSIsImJyYW5kVGl0bGVFbGVtZW50IiwidGl0bGVFbGVtZW50Iiwic3VidGl0bGVFbGVtZW50Iiwic3VtbWFyeUNvbnRhaW5lciIsImltYWdlQ29udGFpbmVyIiwiY3JlYXRlSW1hZ2UiLCJzdW1tYXJ5RWxlbWVudCIsImFkZFBhZ2UiLCJhZGRPcHRpb24iLCJuZXdQYWdlIiwiUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yIiwicmVzdWx0c1BlckxvYWQiLCJjb3VudFByb21pc2UiLCJyZXNvbHZlZCIsImNvdW50UmVzdWx0cyIsInByb2R1Y3RDb3VudCIsIlN0YXJ0IiwiZ2V0UmVzdWx0cyIsInByb2R1Y3RzIiwiZmlsdGVyVXBkYXRlcyIsInNldEZpbHRlcnMiLCJwcm9kdWN0IiwicHJvZHVjdEZpbHRlciIsImltYWdlU291cmNlIiwicHJvZHVjdEltYWdlU291cmNlIiwicHJvcGVydGllcyIsInByb2R1Y3RJbWFnZUxhYmVscyIsInByaW1hcnkiLCJzZWNvbmRhcnkiLCJ0ZXJ0aWFyeSIsImFkZE9wdGlvbkVsZW1lbnRzIiwib25Qcm9kdWN0Q2xpY2siLCJwcm9kdWN0U2VsZWN0ZWRDYWxsYmFjayIsIlJpZGVTdHlsZXJTaG93Y2FzZVFSQ29kZUNvbXBvbmVudCIsImxpbmsiLCJxckNvZGVFbGVtZW50IiwiZGlzcGxheVVSTCIsInNoYXJlIiwiYnV0dG9uQ2xhc3MiLCJTaGFyZUJ1dHRvbiIsIm9uQ2xpY2siLCJjdXJyZW50VVJMIiwidGFncyIsInNjcmVlbkhlaWdodCIsInNjcmVlbiIsInNjcmVlbldpZHRoIiwid2luZG93U2V0dGluZ3MiLCJhZGRTZXR0aW5nIiwiYWRkQm9vbGVhblNldHRpbmciLCJlbmFibGVkIiwiZW5hYmxlZEJ5RGVmYXVsdCIsImVuYWJsZVNjcm9sbGJhcnMiLCJlbmFibGVSZXNpemVhYmxlIiwiZW5hYmxlVG9vbGJhciIsImVuYWJsZUxvY2F0aW9uIiwib3BlbiIsImFwcFVSTCIsIlR3aXR0ZXJTaGFyZUJ1dHRvbiIsIl9TaGFyZUJ1dHRvbiIsInR3aXR0ZXJJbnRlbnRQYXJhbWV0ZXJzIiwiZW5jb2RlVVJJQ29tcG9uZW50Iiwib3Blbk5ld1dpbmRvdyIsIkZhY2Vib29rU2hhcmVCdXR0b24iLCJfU2hhcmVCdXR0b24yIiwiZmFjZWJvb2tEaWFsb2dQYXJhbWV0ZXJzIiwiZ2V0U2hhcmVSZWRpcmVjdFVSTCIsIk5ld1dpbmRvd1NoYXJlQnV0dG9uIiwiX1NoYXJlQnV0dG9uMyIsIlFSU2hhcmVCdXR0b24iLCJfU2hhcmVCdXR0b240IiwicG9wb3ZlciIsInNoYXJlTW9kYWxDbGFzcyIsIlJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwiLCJ2ZWhpY2xlUmVuZGVySW5zdHJ1Y3Rpb25zIiwiaW1hZ2VUeXBlIiwicmVzaXplZENhbGxiYWNrIiwidXBkYXRlVmlld3BvcnQiLCJvbkluc3RydWN0aW9uc0NoYW5nZWQiLCJjcmVhdGVTaGFyZUJ1dHRvbnMiLCJjYW5Td2l0Y2hBbmdsZSIsInJvdGF0ZUVsZW1lbnQiLCJzd2l0Y2hBbmdsZSIsInNoYXJlQnV0dG9ucyIsInNoYXJlQnV0dG9uQ29udGFpbmVyIiwic2hhcmVCdXR0b24iLCJzZXR1cFZpZXdwb3J0IiwidmVoaWNsZVZpZXdwb3J0IiwidXRpbHMiLCJ0b1BhcmFtU3RyaW5nIiwiYXV0aGVudGljYXRlRGF0YSIsInZpZXdwb3J0RWxlbWVudCIsInZpZXdwb3J0VXBkYXRlZCIsIkhhc0FuZ2xlZEltYWdlIiwiSGFzU2lkZUltYWdlIiwiZ2V0U2hhcmVVUkwiLCJzZXRFbmFibGVkIiwiVVJMIiwidXBkYXRlVVJMIiwiU2hvcnRVUkwiLCJzaGFyZVVSTCIsInNoYXJlVGFncyIsInNoYXJlTWVzc2FnZSIsIldoZWVsRml0bWVudCIsInNldFVSTCIsInNldFRhZ3MiLCJzZXRNZXNzYWdlIiwiVHlwZSIsImVsZW1lbnRDbGFzc05hbWUiLCJkZWZhdWx0U3VzcGVuc2lvblJhbmdlIiwiUmlkZVN0eWxlclNob3djYXNlU3VzcGVuc2lvblNlbGVjdG9yIiwidmVoaWNsZURlc2NyaXB0aW9uIiwic3VzcGVuc2lvbk9wdGlvbnMiLCJkZWNpbWFsUGxhY2VzIiwidW5pdEFiYnJldmlhdGlvbiIsInN1c3BlbnNpb25SYW5nZXMiLCJzdXNwZW5zaW9uUmFuZ2VLZXkiLCJTdHlsZVR5cGUiLCJEcml2ZVR5cGUiLCJzdXNwZW5zaW9uUmFuZ2UiLCJmcm9udEFuZFJlYXIiLCJOb1VJU3VzcGVuc2lvbkVsZW1lbnQiLCJzdXNwZW5zaW9uQ2hhbmdlZENhbGxiYWNrIiwic3VzcGVuc2lvbkNoYW5nZUNhbGxiYWNrIiwiU3VzcGVuc2lvbiIsIlN1c3BlbnNpb25VSUVsZW1lbnQiLCJfU3VzcGVuc2lvblVJRWxlbWVudCIsInNsaWRlckVsZW1lbnQiLCJwb3N0Zml4IiwiU3RyaW5nSGVscGVyIiwiZXNjYXBlUmVnRXhwIiwic2xpZGVyIiwiZm9ybWF0dGVkVmFsdWVzIiwib25TdXNwZW5zaW9uQ2hhbmdlZCIsImJhckNsYXNzIiwidGFiQ2xhc3MiLCJ0YWJCYWNrZ3JvdW5kQ2xhc3MiLCJhY3RpdmVUYWJDbGFzcyIsIm1vZGVDbGFzcyIsIlJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhciIsInNldE1vZGUiLCJ1cGRhdGVUYWJEaXNwbGF5IiwidGFicyIsInRhYlBlcmNlbnQiLCJ0YWIiLCJ1cGRhdGVCYWNrZ3JvdW5kUG9seWdvbiIsInRhYnNPclRhYkNyZWF0ZU9wdGlvbnMiLCJUYWIiLCJjb3B5IiwiY3VycmVudFRhYiIsInNldEFjdGl2ZVRhYiIsIm5ld1RhYiIsIm9sZFRhYiIsInRhYlN3aXRjaGVkQ2FsbGJhY2siLCJjdXJyZW50RWxlbWVudCIsIm9uVGFiQ2xpY2siLCJ0YWJGb3JFbGVtZW50IiwiaWNvbkNsYXNzIiwiaWNvbiIsImJhY2tncm91bmRNb2RlIiwid3JhcCIsInN2Z1N1cHBvcnRlZCIsImNyZWF0ZVNWR0VsZW1lbnQiLCJwcmVzZXJ2ZUFzcGVjdFJhdGlvIiwiYmFja2dyb3VuZFBvbHlnb24iLCJ0cmlhbmdsZUhlaWdodCIsInRyaWFuZ2xlV2lkdGgiLCJ0YWJsZUNsYXNzIiwiaGVhZENsYXNzIiwiYm9keUNsYXNzIiwiYm9keUxvYWRpbmdDbGFzcyIsIlJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlIiwiY29sdW1ucyIsInRhYmxlIiwidGhlYWQiLCJ0Ym9keSIsImdlbmVyYXRlSGVhZGVycyIsInJvd3MiLCJhcHBlbmRSb3dzIiwic3RhcnRMb2FkaW5nIiwiY29sdW1uIiwiaGVhZGVyIiwiZ2VuZXJhdGVkSGVhZGVyIiwiaGVhZGVyUm93IiwiZ2VuZXJhdGVIZWFkZXJDZWxsIiwiY2VsbCIsImdlbmVyYXRlZENlbGwiLCJ0ciIsImdlbmVyYXRlUm93Q2VsbCIsInJvd3NGcmFnbWVudCIsImdlbmVyYXRlUm93IiwiZW1wdHlDZWxsU3RyaW5nIiwiUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yIiwic3RhdGVEYXRhIiwic3VwcG9ydGVkVmVoaWNsZUltYWdlcnkiLCJhbmdsZWQiLCJzaWRlIiwiZGVmYXVsdEZpbHRlcnMiLCJIYXNDYXRhbG9nSW1hZ2UiLCJNb2RlbHMiLCJ0aXJlIiwiVGlyZUZpdG1lbnRSZXNvdXJjZVR5cGUiLCJUaXJlTW9kZWwiLCJUaXJlTW9kZWxJRCIsIkluY2x1ZGVTaGFkb3ciLCJUaXJlTW9kZWxOYW1lIiwidG9nZ2xlQnV0dG9uQ2xhc3MiLCJvcHRpb25BY3RpdmVDbGFzcyIsInNlbGVjdE9wdGlvbkVsZW1lbnQiLCJjaGlsZEluZGV4IiwiY2hpbGRPcHRpb25FbGVtZW50IiwiX1JpZGVTdHlsZXJTaG93Y2FzZSRNIiwib25WZWhpY2xlU2VsZWN0ZWQiLCJnZW5lcmF0ZVZlaGljbGVQcmV2aWV3U2V0dGluZ3MiLCJvbkF1dGhlbnRpY2F0ZWQiLCJjb250ZW50Q29udGFpbmVyIiwiYnVpbGRDb3B5IiwiY2hvb3NlVmVoaWNsZUJ1dHRvbiIsImxhcmdlIiwiY3JlYXRlRWxlbWVudFdpdGhJRCIsImVtYm9sZGVuRmlyc3RXb3JkIiwiZmlyc3RXb3JkIiwiZ2V0Rmlyc3RXb3JkIiwicmVtYWluaW5nU3RyaW5nIiwic3Vic3RyIiwiY3JlYXRlRWxlbWVudFdpdGhUZXh0IiwiY3JlYXRlVGV4dEVsZW1lbnQiLCJzaG93V2hlZWxzIiwibW9kZWxzIiwid2hlZWxDb250YWluZXIiLCJtb2RlbEltYWdlcyIsIm9uTW9kZWxJbWFnZUxvYWQiLCJjb21wbGV0ZSIsIm1vZGVsIiwibW9kZWxJbWFnZVNvdXJjZSIsIndoZWVsIiwiV2hlZWxNb2RlbCIsIldoZWVsTW9kZWxJRCIsIldoZWVsRml0bWVudFJlc291cmNlVHlwZSIsIm1vZGVsSW1hZ2UiLCJzY2FsZSIsImN1c3RvbWl6YXRpb25zQ2xhc3MiLCJsb2FkaW5nQ2xhc3MiLCJjdXN0b21pemF0aW9uQ29tcG9uZW50T3JkZXIiLCJjdXN0b21pemF0aW9uQ29tcG9uZW50U2V0dGluZ3MiLCJwYWludCIsInNob3dGaWx0ZXJCdXR0b24iLCJ3aGVlbHMiLCJ0aXJlcyIsInN1c3BlbnNpb24iLCJ1cGRhdGVUYWJMYXlvdXQiLCJ2ZWhpY2xlRGlmZmVyZW50RnJvbVN0YXRlIiwidmlld3BvcnQiLCJjb3VudFRpcmVCcmFuZHMiLCJjb3VudFdoZWVsQnJhbmRzIiwicmVzdWx0cyIsInRpcmVCcmFuZENvdW50Iiwid2hlZWxCcmFuZENvdW50IiwidXBkYXRlVGFicyIsInNldHVwVGFicyIsImNoYW5nZVdoZWVsU2l6ZSIsIm5ld09wdGlvbiIsIldoZWVsRml0bWVudElEIiwiY29tcG9uZW50cyIsInZlaGljbGVEZXRhaWxzIiwiVmVoaWNsZURldGFpbHMiLCJXaGVlbERldGFpbHMiLCJUaXJlRGV0YWlscyIsInRhYkJhciIsImN1c3RvbWl6YXRpb25Db21wb25lbnRDb250YWluZXIiLCJmaWx0ZXJCdXR0b24iLCJza2lubnkiLCJzaG93RmlsdGVycyIsImN1cnJlbnRSZW5kZXJJbnN0cnVjdGlvbnMiLCJwYWludFN3YXRjaENsaWNrQ2FsbGJhY2siLCJzZXRBY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50IiwiY3VzdG9taXphdGlvbkNvbXBvbmVudHMiLCJzZXRUYWJzIiwiZ2V0Q3VycmVudEJyZWFrcG9pbnQiLCJ2ZWhpY2xlQ2hhbmdlZCIsIkdVSURIZWxwZXIiLCJhcmVFcXVhbCIsInRpcmVPcHRpb25DaGFuZ2VkIiwidmVoaWNsZVRpcmVPcHRpb25EZXNjcmlwdGlvbiIsImNsZWFyQWN0aXZlVGFiIiwib25WZWhpY2xlQ2hhbmdlZCIsImdldFZlaGljbGVEZXNjcmlwdGlvbiIsImdldFZlaGljbGVUaXJlT3B0aW9uIiwicmVzcG9uc2VzIiwidmVoaWNsZURlc2NyaXB0aW9uTW9kZWwiLCJEZXNjcmlwdGlvbnMiLCJ2ZWhpY2xlVGlyZU9wdGlvbiIsInNlbGVjdGVkVGlyZU9wdGlvbklEIiwidGlyZU9wdGlvbiIsImluaXRpYWxpemVGb3JOZXdWZWhpY2xlIiwiUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3RvciIsInNldE9wdGlvbklzTG9hZGluZyIsIlBhaW50Q29sb3IiLCJIYXNBbmdsZUltYWdlIiwiRml0bWVudHMiLCJiZXN0Rml0bWVudCIsInRhcmdldERpYW1ldGVyIiwiSW5zaWRlRGlhbWV0ZXIiLCJzZXRGaXRtZW50T3B0aW9ucyIsInJlbmRlclVwZGF0ZSIsImdldFZhbHVlcyIsImN1c3RvbWl6YXRpb25Db21wb25lbnQiLCJjb21wb25lbnRLZXkiLCJnZXRDb21wb25lbnRLZXkiLCJhY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50Iiwic2V0VGV4dCIsImZpbHRlck1vZGFsIiwiUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwiLCJmaWx0ZXJQcm92aWRlciIsInNob3dDb3VudFRleHRGb3JtYXQiLCJSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsIiwid2hlZWxNb2RlbCIsIldoZWVsTW9kZWxOYW1lIiwiV2hlZWxNb2RlbEZpbmlzaERlc2NyaXB0aW9uIiwic3VtbWFyeVRhYmxlIiwiYnVpbGRTcGVjc1BhZ2UiLCJJbmNsdWRlUHJvbW90aW9ucyIsIkluY2x1ZGVQcmljaW5nIiwiYnVpbGRTdW1tYXJ5VGFibGUiLCJzcGVjc1RhYmxlIiwiYWxsU2l6ZVByaWNlQ29tYmluYXRpb25zIiwiZml0bWVudFByaWNlIiwiZ2V0Rml0bWVudFJldGFpbFByaWNlRGF0YU9iamVjdCIsImZpdG1lbnRQcmljZUFtb3VudCIsIldoZWVsUHJpY2luZ0Ftb3VudCIsIldpZHRoTWluIiwicHJpY2UiLCJXaWR0aE1heCIsIkRpYW1ldGVyTWF4Iiwic2l6ZVByaWNlUmFuZ2VzIiwic2l6ZVByaWNlQ29tYm8iLCJwcmljZVJhbmdlIiwic2l6ZSIsIkluZmluaXR5IiwiTnVtYmVySGVscGVyIiwiZXh0ZW5kUmFuZ2UiLCJzdW1tYXJ5VGFibGVSb3dzIiwicHJpY2VJc1Vuc3BlY2lmaWVkIiwicHJpY2VTdHJpbmciLCJnZXRGaXRtZW50U2l6ZURlc2NyaXB0aW9uIiwiZm9ybWF0Q2VsbCIsImdldEZpdG1lbnRQcmljZSIsImdldEZpdG1lbnRJdGVtTnVtYmVyIiwic3BlY3NDb250YWluZXIiLCJQcmljaW5nIiwibm9QcmljZVN0cmluZyIsInJldGFpbFByaWNlRGF0YU9iamVjdCIsIml0ZW1OdW1iZXIiLCJXaGVlbFByaWNpbmdJdGVtTnVtYmVyIiwiUGFydE51bWJlciIsIkluY2x1ZGVNZXRhS2V5cyIsInRpcmVOYW1lRWxlbWVudCIsInRpcmVEZXNjcmlwdGlvbkVsZW1lbnQiLCJhZnRlckRhdGFDaGFuZ2UiLCJvbkRhdGFDaGFuZ2UiLCJ2ZWhpY2xlUGFpbnRTd2F0Y2hFbGVtZW50IiwidmVoaWNsZURlc2NyaXB0aW9uRWxlbWVudCIsInRpcmVTaXplRWxlbWVudCIsIndoZWVsTmFtZUVsZW1lbnQiLCJ3aGVlbERlc2NyaXB0aW9uRWxlbWVudCIsInNob3dXaGVlbE1vZGFsIiwiZmlsdGVyTW9kYWxDbGFzcyIsImZpbHRlck1vZGFsTWVudVRpdGxlQ2xhc3MiLCJidWlsZFNob3dCdXR0b24iLCJidWlsZEZpbHRlck1lbnVzIiwidXBkYXRlQ291bnQiLCJzaG93QnV0dG9uIiwibWVudXNDb250YWluZXIiLCJtZW51TG9hZGVkUHJvbWlzZXMiLCJtZW51cyIsIm1lbnVMb2FkZWRQcm9taXNlIiwiX21lbnUiLCJwcmV2aWV3RmlsdGVycyIsInNldENvdW50VGV4dCIsImdldENvdW50IiwiaXRlbU1hdGNoIiwibmV3QXJyYXkiLCJuZXdBcnJheUluZGV4IiwiYXJyYXlJbmRleCIsIm1hcEZ1bmN0aW9uIiwidGhpc0FyZyIsInJlZHVjZSIsInJlZHVjZXIiLCJpbml0aWFsVmFsdWUiLCJhY2N1bXVsYXRvciIsInNjYWxhciIsImJvdW5kc01pbiIsImJvdW5kc01heCIsInNjYWxlVG9NYXgiLCJzY2FsZVRvTWluIiwib2N0IiwiaGV4VG9CeXRlIiwiYnl0ZVRvSGV4IiwidW5wYXJzZSIsImJ0aCIsImlkQSIsImlkQiIsImd1aWRBIiwiZ3VpZEIiLCJlbGVtZW50c01hdGNoaW5nIiwibWF0Y2hpbmdFbGVtZW50cyIsIm1hdGNoaW5nRWxlbWVudHNJbmRleCIsImZpcnN0RWxlbWVudE1hdGNoaW5nIiwibGFzdEVsZW1lbnRNYXRjaGluZyIsImNoaWxkcmVuTWF0Y2hpbmciLCJmaXJzdENoaWxkTWF0Y2hpbmciLCJfbGVuIiwiX2tleSIsImZsYXR0ZW5DbGFzc0xpc3QiLCJoYXNDbGFzc2VzIiwiX2xlbjMiLCJfa2V5MyIsIl9sZW40IiwiX2tleTQiLCJhcHBseU9wdGlvbnMiLCJodG1sRWxlbWVudCIsImNoaWxkRWxlbWVudCIsIl9rZXk3IiwiX2tleTgiLCJ0YWdOYW1lT3JEaXZPcHRpb25zIiwiYXBwZW5kRGVzY3JpcHRpb25MaXN0VmFsdWVzIiwiZGVzY3JpcHRpb25MaXN0IiwiZGVzY3JpcHRpb24iLCJfbGVuMiIsIl9rZXkyIiwiX2xlbjUiLCJfa2V5NSIsIl9sZW42IiwiX2tleTYiLCJzaWJsaW5nIiwidGFnTmFtZU9yQ2xhc3NOYW1lIiwiYnV0dG9uQ2xhc3NOYW1lIiwiaWNvbkNsYXNzUHJlZml4IiwiaWNvbk9yT3B0aW9ucyIsInN0YXJ0c1dpdGgiLCJjcmVhdGVEZXNjcmlwdGlvbkxpc3QiLCJvbmNlIiwidXNlQ2FwdHVyZSIsIm9uY2VMaXN0ZW5lciIsImFzc2lnbk9iamVjdHMiLCJnZXRLZXlzIiwib25mdWxmaWxsZWQiLCJvbnJlamVjdGVkIiwicmV0dXJuUHJvbWlzZSIsIm9uZnVsZmlsbGVkUmVzdWx0IiwiaXNQcm9taXNlIiwib25yZWplY3RlZFJlc3VsdCIsInByb21pc2VzIiwibWVyZ2VkIiwiY3VycmVudFByb21pc2UiLCJQcm9taXNlIiwic2Nyb2xsRXZlbnQiLCJtb3VzZXdoZWVsRXZlbnRTY2FsZSIsIm9ubW91c2V3aGVlbCIsIm5vcm1hbGl6ZWRFdmVudCIsIm9yaWdpbmFsRXZlbnQiLCJkZWx0YU1vZGUiLCJkZWx0YVoiLCJ3aGVlbERlbHRhIiwid2hlZWxEZWx0YVgiLCJlbmRzV2l0aCIsImVuZGluZyIsImVuZGluZ0xlbmd0aCIsInJlUmVnRXhwQ2hhciIsInJlSGFzUmVnRXhwQ2hhciIsImhhc0dldENvbXB1dGVkU3R5bGUiLCJoYXNDdXJyZW50U3R5bGVTdXBwb3J0IiwicGFyc2VQaXhlbHMiLCJwaXhlbHMiLCJtYXhUb3VjaFBvaW50cyIsImNyZWF0ZVNWR1JlY3QiLCJvZmZzZXRQb3NpdGlvbmluZ3MiLCJzdWJjbGFzc0xpc3QiLCJvbGRUcmFuc2l0aW9uIiwiY2xhc3NBcnJheSIsIl9nZXRDb21wdXRlZFN0eWxlIiwicGFkZGluZ0JvdHRvbSIsInBhZGRpbmdUb3AiLCJwYWRkaW5nTGVmdCIsInBhZGRpbmdSaWdodCIsInBvaW50ZXJFdmVudHMiLCJkZWZhdWx0VHJhbnNpdGlvbkluQ2xhc3MiLCJFbiIsInZlaGljbGUtc2VsZWN0LXZpc3VhbGl6ZS1pbnRybyIsInZlaGljbGUtc2VsZWN0LXNoYXJlLWludHJvIiwic2VsZWN0LXlvdXItdmVoaWNsZSIsImZyb250IiwicmVhciIsInZlaGljbGUtZGV0YWlscyIsImNoYW5nZS12ZWhpY2xlIiwid2hlZWwtZGV0YWlscyIsInRpcmUtZGV0YWlscyIsInNlbGVjdC1wYWludCIsInNlbGVjdC13aGVlbHMiLCJzZWxlY3QtdGlyZXMiLCJhZGp1c3Qtc3VzcGVuc2lvbiIsImNoYW5nZS13aGVlbC1zaXplIiwibm8tcmVzdWx0cyIsIm5vLXdoZWVsLXJlc3VsdHMiLCJ3aGVlbC1mZWF0dXJlcy1zcGVjcyIsInNoYXJlLW15LXZlaGljbGUiLCJzaGFyZS1pbnN0cnVjdGlvbnMiLCJuby1kZXNjcmlwdGlvbi13aGVlbCIsInNob3ctc3BlY3MiLCJib2x0LXBhdHRlcm4iLCJjZW50ZXJib3JlIiwiaXRlbS1udW1iZXIiLCJicmFuZHMiLCJmaW5pc2hlcyIsInNpemVzIiwiYWxsLWJyYW5kcyIsImFsbC1maW5pc2hlcyIsImFsbC1zaXplcyIsImZpbHRlci1yZXN1bHRzIiwibG9hZGluZy1lbGxpcHNpcyIsInNob3ctY291bnQtZm9ybWF0LXRpcmVzIiwic2hvdy1jb3VudC1mb3JtYXQtd2hlZWxzIiwic3BlY2lmaWNhdGlvbnMiLCJzcGVlZC1yYXRpbmciLCJhbnktc3BlZWQtcmF0aW5ncyIsImZlYXR1cmVzIiwiYW55LWZlYXR1cmVzIiwiZmluaXNoIiwic3VtbWFyeSIsImNoZWNrLW91dC1teS12ZWhpY2xlIl0sIm1hcHBpbmdzIjoiQUFJQSxTQUFBQSxnQ0FBQUMsR0FPQSxTQUFBQyxFQUFBQyxHQUNBQSxFQUFBQSxNQUVBLElBQUEsSUFBQUMsRUFBQSxFQUFBQSxF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QSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsS0FBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxLQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxNQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsSUFBQSxNQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxJQUFBLElBQUEsTUFBQSxFQUFBLEdBQUEsR0FBQSxHQUFBLElBQUEsSUFBQSxNQUFBLEVBQUEsR0FBQSxHQUFBLEdBQUEsSUFBQSxJQUFBLE1BQUFDLElBQUEsS0FBQUMsSUFBQSxLQUFBQyxTQUFBLE1BQUFoQyxlQUFBLFNBQUExcUIsR0FBQSxJQUFBLElBQUEyc0IsRUFBQTNzQixHQUFBLEdBQUF5cEIsRUFBQW1ELFlBQUFELEdBQUFsRCxFQUFBbUQsWUFBQW5ELEVBQUErQyxNQUFBLEdBQUFHLEdBQUFsRCxFQUFBK0MsS0FBQS9DLEVBQUFtRCxZQUFBRCxHQUFBbEQsRUFBQW1ELFlBQUFuRCxFQUFBK0MsS0FDQSxPQUFBeHNCLEdBQUEsR0FBQTJzQixHQUFBbEQsRUFBQWlELFVBQUFuQyxpQkFBQSxTQUFBdnFCLEdBQUEsSUFBQSxJQUFBMnNCLEVBQUEzc0IsR0FBQSxHQUFBeXBCLEVBQUFtRCxZQUFBRCxHQUFBbEQsRUFBQW1ELFlBQUFuRCxFQUFBZ0QsTUFBQSxHQUFBRSxHQUFBbEQsRUFBQWdELEtBQUFoRCxFQUFBbUQsWUFBQUQsR0FBQWxELEVBQUFtRCxZQUFBbkQsRUFBQWdELEtBQ0EsT0FBQXpzQixHQUFBLEdBQUEyc0IsR0FBQUMsWUFBQSxTQUFBNXNCLEdBQUEsSUFBQSxJQUFBNnNCLEVBQUEsRUFBQSxHQUFBN3NCLEdBQUE2c0IsSUFBQTdzQixLQUFBLEVBQ0EsT0FBQTZzQixHQUFBeEMsbUJBQUEsU0FBQXJFLEdBQUEsT0FBQXlELEVBQUE4Qyx1QkFBQXZHLEVBQUEsSUFBQStFLFFBQUEsU0FBQWpDLEVBQUEzd0IsRUFBQXdNLEdBQUEsT0FBQW1rQixHQUFBLEtBQUF3RCxFQUFBLE9BQUFuMEIsRUFBQXdNLEdBQUEsR0FBQSxFQUFBLEtBQUEybkIsRUFBQSxPQUFBbjBCLEVBQUEsR0FBQSxFQUFBLEtBQUFtMEIsRUFBQSxPQUFBM25CLEVBQUEsR0FBQSxFQUFBLEtBQUEybkIsRUFBQSxPQUFBbjBCLEVBQUF3TSxHQUFBLEdBQUEsRUFBQSxLQUFBMm5CLEVBQUEsT0FBQWxoQixLQUFBcWYsTUFBQXR5QixFQUFBLEdBQUFpVCxLQUFBcWYsTUFBQTlsQixFQUFBLElBQUEsR0FBQSxFQUFBLEtBQUEybkIsRUFBQSxPQUFBbjBCLEVBQUF3TSxFQUFBLEVBQUF4TSxFQUFBd00sRUFBQSxHQUFBLEVBQUEsS0FBQTJuQixFQUFBLE9BQUFuMEIsRUFBQXdNLEVBQUEsRUFBQXhNLEVBQUF3TSxFQUFBLEdBQUEsR0FBQSxFQUFBLEtBQUEybkIsRUFBQSxPQUFBbjBCLEVBQUF3TSxFQUFBLEdBQUF4TSxFQUFBd00sR0FBQSxHQUFBLEdBQUEsRUFBQSxRQUFBLE1BQUEsSUFBQXdNLE1BQUEsbUJBQUEyWCxLQUFBaUQsMEJBQUEsU0FBQWUsR0FBQSxJQUFBLElBQUE3ZSxFQUFBLElBQUFxWSxHQUFBLEdBQUEsR0FBQW51QixFQUFBLEVBQUFBLEVBQUEyMEIsRUFBQTMwQixJQUFBOFYsRUFBQUEsRUFBQThlLFNBQUEsSUFBQXpHLEdBQUEsRUFBQTBHLEVBQUFDLEtBQUE5MEIsSUFBQSxJQUNBLE9BQUE4VixHQUFBbWQsZ0JBQUEsU0FBQTdSLEVBQUFuYyxHQUFBLEdBQUEsR0FBQUEsR0FBQUEsRUFBQSxHQUFBLE9BQUFtYyxHQUFBLEtBQUFrTSxFQUFBMEcsWUFBQSxPQUFBLEdBQUEsS0FBQTFHLEVBQUEyRyxlQUFBLE9BQUEsRUFBQSxLQUFBM0csRUFBQUMsZUFBQSxLQUFBRCxFQUFBNEcsV0FBQSxPQUFBLEVBQUEsUUFBQSxNQUFBLElBQUFsYixNQUFBLFFBQUFvSSxRQUFBLEdBQUFuYyxFQUFBLEdBQUEsT0FBQW1jLEdBQUEsS0FBQWtNLEVBQUEwRyxZQUFBLE9BQUEsR0FBQSxLQUFBMUcsRUFBQTJHLGVBQUEsT0FBQSxHQUFBLEtBQUEzRyxFQUFBQyxlQUFBLE9BQUEsR0FBQSxLQUFBRCxFQUFBNEcsV0FBQSxPQUFBLEdBQUEsUUFBQSxNQUFBLElBQUFsYixNQUFBLFFBQUFvSSxPQUFBLENBQUEsS0FBQW5jLEVBQUEsSUFBQSxNQUFBLElBQUErVCxNQUFBLFFBQUEvVCxHQUFBLE9BQUFtYyxHQUFBLEtBQUFrTSxFQUFBMEcsWUFBQSxPQUFBLEdBQUEsS0FBQTFHLEVBQUEyRyxlQUFBLE9BQUEsR0FBQSxLQUFBM0csRUFBQUMsZUFBQSxPQUFBLEdBQUEsS0FBQUQsRUFBQTRHLFdBQUEsT0FBQSxHQUFBLFFBQUEsTUFBQSxJQUFBbGIsTUFBQSxRQUFBb0ksTUFBQW1RLGFBQUEsU0FBQXdELEdBQUEsSUFBQSxJQUFBL0csRUFBQStHLEVBQUF4RSxpQkFBQWMsRUFBQSxFQUFBaEIsRUFBQSxFQUFBQSxFQUFBckMsRUFBQXFDLElBQUEsSUFBQUMsRUFBQSxFQUFBQSxFQUFBdEMsRUFBQXNDLElBQUEsQ0FBQSxJQUFBLElBQUEwRSxFQUFBLEVBQUFyQyxFQUFBb0MsRUFBQTNFLE9BQUFDLEVBQUFDLEdBQUExbkIsR0FBQSxFQUFBQSxHQUFBLEVBQUFBLElBQUEsS0FBQXluQixFQUFBem5CLEVBQUEsR0FBQW9sQixHQUFBcUMsRUFBQXpuQixHQUNBLElBQUEsSUFBQTJlLEdBQUEsRUFBQUEsR0FBQSxFQUFBQSxJQUFBK0ksRUFBQS9JLEVBQUEsR0FBQXlHLEdBQUFzQyxFQUFBL0ksR0FDQSxHQUFBM2UsR0FBQSxHQUFBMmUsR0FDQW9MLEdBQUFvQyxFQUFBM0UsT0FBQUMsRUFBQXpuQixFQUFBMG5CLEVBQUEvSSxJQUFBeU4sSUFDQUEsRUFBQSxJQUFBM0QsR0FBQSxFQUFBMkQsRUFBQSxHQUNBLElBQUEzRSxFQUFBLEVBQUFBLEVBQUFyQyxFQUFBLEVBQUFxQyxJQUFBLElBQUFDLEVBQUEsRUFBQUEsRUFBQXRDLEVBQUEsRUFBQXNDLElBQUEsQ0FBQSxJQUFBMkUsRUFBQSxFQUFBRixFQUFBM0UsT0FBQUMsRUFBQUMsSUFBQTJFLElBQUFGLEVBQUEzRSxPQUFBQyxFQUFBLEVBQUFDLElBQUEyRSxJQUFBRixFQUFBM0UsT0FBQUMsRUFBQUMsRUFBQSxJQUFBMkUsSUFBQUYsRUFBQTNFLE9BQUFDLEVBQUEsRUFBQUMsRUFBQSxJQUFBMkUsSUFBQSxHQUFBQSxHQUFBLEdBQUFBLElBQUE1RCxHQUFBLEdBQ0EsSUFBQWhCLEVBQUEsRUFBQUEsRUFBQXJDLEVBQUFxQyxJQUFBLElBQUFDLEVBQUEsRUFBQUEsRUFBQXRDLEVBQUEsRUFBQXNDLElBQUF5RSxFQUFBM0UsT0FBQUMsRUFBQUMsS0FBQXlFLEVBQUEzRSxPQUFBQyxFQUFBQyxFQUFBLElBQUF5RSxFQUFBM0UsT0FBQUMsRUFBQUMsRUFBQSxJQUFBeUUsRUFBQTNFLE9BQUFDLEVBQUFDLEVBQUEsSUFBQXlFLEVBQUEzRSxPQUFBQyxFQUFBQyxFQUFBLEtBQUF5RSxFQUFBM0UsT0FBQUMsRUFBQUMsRUFBQSxJQUFBeUUsRUFBQTNFLE9BQUFDLEVBQUFDLEVBQUEsS0FBQWUsR0FBQSxJQUNBLElBQUFmLEVBQUEsRUFBQUEsRUFBQXRDLEVBQUFzQyxJQUFBLElBQUFELEVBQUEsRUFBQUEsRUFBQXJDLEVBQUEsRUFBQXFDLElBQUEwRSxFQUFBM0UsT0FBQUMsRUFBQUMsS0FBQXlFLEVBQUEzRSxPQUFBQyxFQUFBLEVBQUFDLElBQUF5RSxFQUFBM0UsT0FBQUMsRUFBQSxFQUFBQyxJQUFBeUUsRUFBQTNFLE9BQUFDLEVBQUEsRUFBQUMsSUFBQXlFLEVBQUEzRSxPQUFBQyxFQUFBLEVBQUFDLEtBQUF5RSxFQUFBM0UsT0FBQUMsRUFBQSxFQUFBQyxJQUFBeUUsRUFBQTNFLE9BQUFDLEVBQUEsRUFBQUMsS0FBQWUsR0FBQSxJQUNBLElBQUEsSUFBQTZELEVBQUEsRUFBQTVFLEVBQUEsRUFBQUEsRUFBQXRDLEVBQUFzQyxJQUFBLElBQUFELEVBQUEsRUFBQUEsRUFBQXJDLEVBQUFxQyxJQUFBMEUsRUFBQTNFLE9BQUFDLEVBQUFDLElBQUE0RSxJQUNBLE9BQUE3RCxHQUFBLElBQUFwZSxLQUFBa0YsSUFBQSxJQUFBK2MsRUFBQWxILEVBQUFBLEVBQUEsSUFBQSxLQUFBNkcsR0FBQU0sS0FBQSxTQUFBOWIsR0FBQSxHQUFBQSxFQUFBLEVBQUEsTUFBQSxJQUFBTCxNQUFBLFFBQUFLLEVBQUEsS0FDQSxPQUFBd2IsRUFBQU8sVUFBQS9iLElBQUF5YixLQUFBLFNBQUF6YixHQUFBLEtBQUFBLEVBQUEsR0FBQUEsR0FBQSxJQUNBLEtBQUFBLEdBQUEsS0FBQUEsR0FBQSxJQUNBLE9BQUF3YixFQUFBUSxVQUFBaGMsSUFBQWdjLFVBQUEsSUFBQWpmLE1BQUEsS0FBQWdmLFVBQUEsSUFBQWhmLE1BQUEsTUFBQXBXLEVBQUEsRUFBQUEsRUFBQSxFQUFBQSxJQUFBNjBCLEVBQUFRLFVBQUFyMUIsR0FBQSxHQUFBQSxFQUNBLElBQUFBLEVBQUEsRUFBQUEsRUFBQSxJQUFBQSxJQUFBNjBCLEVBQUFRLFVBQUFyMUIsR0FBQTYwQixFQUFBUSxVQUFBcjFCLEVBQUEsR0FBQTYwQixFQUFBUSxVQUFBcjFCLEVBQUEsR0FBQTYwQixFQUFBUSxVQUFBcjFCLEVBQUEsR0FBQTYwQixFQUFBUSxVQUFBcjFCLEVBQUEsR0FDQSxJQUFBQSxFQUFBLEVBQUFBLEVBQUEsSUFBQUEsSUFBQTYwQixFQUFBTyxVQUFBUCxFQUFBUSxVQUFBcjFCLElBQUFBLEVBSUFtdUIsRUFBQTNmLFdBQUFnYyxJQUFBLFNBQUE1UixHQUFBLE9BQUFyUSxLQUFBNmxCLElBQUF4VixJQUFBbVgsVUFBQSxXQUFBLE9BQUF4bkIsS0FBQTZsQixJQUFBbHVCLFFBQUEwMEIsU0FBQSxTQUFBOXZCLEdBQUEsSUFBQSxJQUFBc3BCLEVBQUEsSUFBQWhZLE1BQUE3TixLQUFBd25CLFlBQUFqckIsRUFBQWlyQixZQUFBLEdBQUEvdkIsRUFBQSxFQUFBQSxFQUFBdUksS0FBQXduQixZQUFBL3ZCLElBQUEsSUFBQSxJQUFBd00sRUFBQSxFQUFBQSxFQUFBMUgsRUFBQWlyQixZQUFBdmpCLElBQUE0aEIsRUFBQXB1QixFQUFBd00sSUFBQXFvQixFQUFBQyxLQUFBRCxFQUFBTSxLQUFBNXNCLEtBQUFpaUIsSUFBQXhxQixJQUFBNjBCLEVBQUFNLEtBQUFyd0IsRUFBQTBsQixJQUFBaGUsS0FDQSxPQUFBLElBQUEyaEIsRUFBQUMsRUFBQSxJQUFBaUUsSUFBQSxTQUFBdnRCLEdBQUEsR0FBQXlELEtBQUF3bkIsWUFBQWpyQixFQUFBaXJCLFlBQUEsRUFBQSxPQUFBeG5CLEtBQ0EsSUFBQSxJQUFBK3NCLEVBQUFULEVBQUFNLEtBQUE1c0IsS0FBQWlpQixJQUFBLElBQUFxSyxFQUFBTSxLQUFBcndCLEVBQUEwbEIsSUFBQSxJQUFBNEQsRUFBQSxJQUFBaFksTUFBQTdOLEtBQUF3bkIsYUFBQS92QixFQUFBLEVBQUFBLEVBQUF1SSxLQUFBd25CLFlBQUEvdkIsSUFBQW91QixFQUFBcHVCLEdBQUF1SSxLQUFBaWlCLElBQUF4cUIsR0FDQSxJQUFBQSxFQUFBLEVBQUFBLEVBQUE4RSxFQUFBaXJCLFlBQUEvdkIsSUFBQW91QixFQUFBcHVCLElBQUE2MEIsRUFBQUMsS0FBQUQsRUFBQU0sS0FBQXJ3QixFQUFBMGxCLElBQUF4cUIsSUFBQXMxQixHQUNBLE9BQUEsSUFBQW5ILEVBQUFDLEVBQUEsR0FBQWlFLElBQUF2dEIsS0FDQXdwQixFQUFBaUgsaUJBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLEdBQUEsRUFBQSxJQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsR0FBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsR0FBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsR0FBQSxJQUFBLE1BQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsRUFBQSxJQUFBLElBQUEsR0FBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsRUFBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxJQUFBLElBQUEsRUFBQSxJQUFBLE1BQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUEsR0FBQSxHQUFBLEdBQUEsR0FBQSxHQUFBLEtBQUFqSCxFQUFBMEUsWUFBQSxTQUFBbkYsRUFBQUMs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QXpDQSxDQTBDQXBYLHFCQUFBQSx3QkMzQ0EsSUFBQUEsb0JBQ0EsU0FBQUEsSUF3REFBLEVBQUF1SCxVQUFBdkgsRUFBQXVILGFBckRBbUgsaUJBQUExTyxFQUFBbU8sYUFBQXl4QixJQUNBQyxpQ0FBQSx3RUFDQUMsNkJBQUEsb0RBQ0FDLHNCQUFBLHNCQUNBclAsTUFBQSxRQUNBSSxXQUFBLGFBQ0FGLE9BQUEsU0FDQUMsTUFBQSxRQUNBbVAsTUFBQSxRQUNBQyxLQUFBLE9BQ0FDLGtCQUFBLGtCQUNBQyxpQkFBQSxpQkFDQUMsZ0JBQUEsZ0JBQ0FDLGVBQUEsZUFDQUMsZUFBQSxlQUNBQyxnQkFBQSxnQkFDQUMsZUFBQSxlQUNBQyxvQkFBQSxvQkFDQUMsb0JBQUEsYUFDQUMsYUFBQSxtQkFDQUMsbUJBQUEsb0NBQ0FDLHVCQUFBLG9CQUNBQyxtQkFBQSxtQkFDQUMscUJBQUEsK0RBQ0FDLHVCQUFBLGlEQUNBQyxhQUFBLGFBQ0F2ckUsS0FBQSxPQUNBNGdFLEtBQUEsT0FDQW5qRCxPQUFBLFNBQ0ErdEQsZUFBQSxlQUNBQyxXQUFBLGFBQ0FuTCxNQUFBLFFBQ0FvTCxjQUFBLFNBQ0FDLE9BQUEsU0FDQUMsU0FBQSxXQUNBQyxNQUFBLFFBQ0FodkIsSUFBQSxNQUNBaXZCLGFBQUEsYUFDQUMsZUFBQSxlQUNBQyxZQUFBLFlBQ0FDLGlCQUFBLGlCQUNBQyxtQkFBQSxhQUNBQywwQkFBQSxxQkFDQUMsMkJBQUEsc0JBQ0FDLGVBQUEsaUJBQ0FDLGVBQUEsZUFDQUMsb0JBQUEsb0JBQ0FDLFNBQUEsV0FDQUMsZUFBQSxlQUNBQyxPQUFBLFNBQ0FDLFFBQUEsVUFDQUMsdUJBQUEsMEJBdERBLENBeURBdGlDLHFCQUFBQSIsImZpbGUiOiJyaWRlc3R5bGVyLnNob3djYXNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9UZW1wbGF0ZSBIVE1MXG52YXIgdnNtX3RlbXBsYXRlID0gJzxkaXYgaWQ9XCJ2c21fbW9kYWxfYmFzZVwiIGNsYXNzPVwidnNtLW1vZGFsIHZzbS1oaWRlIHZzbS1mYWRlXCIgc3R5bGU9XCJ6LWluZGV4OiA5OTk5O1wiIHRhYmluZGV4PVwiLTFcIiByb2xlPVwiZGlhbG9nXCI+IDxkaXYgY2xhc3M9XCJ2c20tbW9kYWwtZGlhbG9nXCI+IDxkaXYgY2xhc3M9XCJ2c20tbW9kYWwtY29udGVudFwiPiA8ZGl2IGNsYXNzPVwidnNtLW1vZGFsLWhlYWRlclwiPiA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInZzbS1jbG9zZVwiPiA8L2J1dHRvbj4gPC9kaXY+PGRpdiBjbGFzcz1cInZzbS1tb2RhbC1ib2R5IHZzbS1vcHRpb24tYm9keSB2c20tbGlzdC1ib2R5XCI+IDxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCIgY2xhc3M9XCJ2c20tYmFjay1saW5rIHZzbS1iYWNrLXN0ZXBcIj4gPGkgY2xhc3M9XCJ2c20tYmFjay1hcnJvd1wiPjwvaT4gPC9hPiA8ZGl2IGNsYXNzPVwidnNtLWluLXByb2dyZXNzXCI+IDxwIGNsYXNzPVwidnNtLWhlYWRlciB2c20tY2VudGVyXCI+PC9wPjxkaXYgY2xhc3M9XCJ2c20tbGluZS1zdGVwIGNlbnRlci1waWVjZSB2c20tY29sdW1uc1wiPiA8L2Rpdj48ZGl2IGNsYXNzPVwidnNtLWxpc3QtY29udGFpbmVyXCI+IDxpIGNsYXNzPVwidnNtLWxvYWRlckljb25cIiBhbHQ9XCJMb2FkaW5nIG9wdGlvbnNcIj48L2k+IDwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9XCJ2c20tZmluYWxcIj4gPGRpdiBjbGFzcz1cImNlbnRlci1waWVjZSB2c20tbGluZS1zdGVwIHZzbS1jb2x1bW5zIHZlaGljbGUtcmVzdWx0LXdyYXBcIj4gPGRpdiBjbGFzcz1cInZzbS1jb2x1bW4tMiB2c20tYmVmb3JlXCI+PC9kaXY+PGRpdiBjbGFzcz1cInZzbS1jb2x1bW4tMiBuby1zdHlsZVwiPjxpIGNsYXNzPVwiZG90LXN0eWxlIGRvdC1iZWZvcmUgYWN0aXZlXCI+PC9pPjwvZGl2PjxwIGNsYXNzPVwidmVoaWNsZS1yZXN1bHQtbmFtZVwiPjwvcD48cCBjbGFzcz1cInZlaGljbGUtcmVzdWx0LXNpemVcIj48L3A+PC9kaXY+IDxkaXYgY2xhc3M9XCJjZW50ZXItcGllY2UgdmVoaWNsZS1pbWFnZS13cmFwXCI+IDxkaXYgc3R5bGU9XCJwb3NpdGlvbjogcmVsYXRpdmU7IHRleHQtYWxpZ246IGNlbnRlcjsgbWluLWhlaWdodDogMTIwcHg7XCI+IDxpIGNsYXNzPVwidnNtLWxvYWRlckljb25cIiBhbHQ9XCJMb2FkaW5nIGFuIGltYWdlIG9mIHlvdXIgdmVoaWNsZVwiPjwvaT4gPGltZyBzcmM9XCJcIiBhbHQ9XCJcIiBjbGFzcz1cInZzbS12ZWhpY2xlLWRpc3BsYXlcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+IDwvZGl2PjxhIGhyZWY9XCJqYXZhc2NyaXB0OnZvaWQoMCk7XCIgY2xhc3M9XCJ2c20tYnRuIHZzbS1idG4tZ3JheSB2c20tZnVsbC13aWR0aCB2c20tZmluZFwiPjwvYT4gPC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+PC9kaXY+JztcblxudmFyIF92c21Nb2RhbElEQ291bnRlciA9IDA7XG5mdW5jdGlvbiBSaWRlU3R5bGVyVmVoaWNsZVNlbGVjdGlvbk1vZGFsKG9wdGlvbnMpIHtcbiAgICB2YXIgaW5mb0FycmF5ID0gW10sIC8vS2VlcCB0cmFjayBvZiBzZWxlY3RlZCBvcHRpb25zIGluZm9cbiAgICBkYXRhQXJyYXkgPSBbXSwgLy9LZWVwIHRyYWNrIG9mIHNlbGVjdGVkIG9wdGlvbnMgZGF0YSAoZGF0YSBzZW50IHRvIFZlaGljbGUvU2VsZWN0IGVuZHBvaW50KVxuICAgIG1vZGFsQXJyYXkgPSBbXSwgLy9LZWVwIHRyYWNrIG9mIG1vZGFsIHNjcmVlbiBnZW5lcmF0ZWQgYnkgdGhpcyBpbnN0YW5jZVxuICAgIGRpc0NvdW50aW51ZWQgPSBmYWxzZTsgLy9EZWNpZGUgd2hldGhlciBvciBub3QgY29udGludWUgdG8gbmV4dCBtb2RhbCBzY3JlZW5cblxuICAgIC8vU2ltaWxhciB0byAkLmV4dGVuZFxuICAgIGZ1bmN0aW9uIGV4dGVuZChvdXQpIHtcbiAgICAgICAgb3V0ID0gb3V0IHx8IHt9O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoIWFyZ3VtZW50c1tpXSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGFyZ3VtZW50c1tpXSkge1xuICAgICAgICAgICAgICAgIGlmIChhcmd1bWVudHNbaV0uaGFzT3duUHJvcGVydHkoa2V5KSlcbiAgICAgICAgICAgICAgICBvdXRba2V5XSA9IGFyZ3VtZW50c1tpXVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuXG4gICAgLy8gRXh0ZW5kIGRlZmF1bHQgc2V0dGluZ3NcbiAgICBvcHRpb25zID0gZXh0ZW5kKHtcbiAgICAgICAgQ29uZmlybUJ1dHRvblRleHQ6ICdDb25maXJtIFZlaGljbGUnLFxuICAgICAgICBHcm91cE9wdGlvbnM6IGZhbHNlLFxuICAgICAgICBJbmNsdWRlT0VUaXJlT3B0aW9uOiBmYWxzZSxcbiAgICAgICAgWWVhclNjcmVlbkNvbHVtbnM6IDMsXG4gICAgICAgIE1ha2VTY3JlZW5Db2x1bW5zOiAyLFxuXG4gICAgICAgIGNvbnRhaW5lcjogZG9jdW1lbnQuYm9keSxcblxuICAgICAgICBhZnRlckJhY2tDbGlja2VkOiBudWxsLFxuICAgICAgICBhZnRlck9wdGlvblNlbGVjdGVkOiBudWxsLFxuICAgICAgICBjYWxsYmFjazogbnVsbFxuICAgIH0sIG9wdGlvbnMpO1xuXG4gICAgLy9DaGVjayBpZiB0cmFuc2l0aW9uIGlzIHN1cHBvcnRlZCwgQm9vbGVhblxuICAgIHZhciB0cmFuc2l0aW9uU3VwcG9ydCA9IChmdW5jdGlvbigpe1xuICAgICAgICB2YXIgdGhpc0JvZHkgPSBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcbiAgICAgICAgdGhpc1N0eWxlID0gdGhpc0JvZHkuc3R5bGUsXG4gICAgICAgIHN1cHBvcnQgPSB0aGlzU3R5bGUuV2Via2l0VHJhbnNpdGlvbiAhPT0gdW5kZWZpbmVkIHx8IHRoaXNTdHlsZS5Nb3pUcmFuc2l0aW9uICE9PSB1bmRlZmluZWQgfHwgdGhpc1N0eWxlLk9UcmFuc2l0aW9uICE9PSB1bmRlZmluZWQgfHwgdGhpc1N0eWxlLnRyYW5zaXRpb24gIT09IHVuZGVmaW5lZDtcblxuICAgICAgICByZXR1cm4gc3VwcG9ydDtcbiAgICB9KSgpO1xuXG4gICAgLy8gYWRkIG9uVHJhbnNpdGlvbkVuZE9uY2UgdG8gSFRNTEVsZW1lbnRcbiAgICAoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICB0cmFuc2l0aW9ucyA9IHtcbiAgICAgICAgICAgICd0cmFuc2l0aW9uJzondHJhbnNpdGlvbmVuZCcsXG4gICAgICAgICAgICAnT1RyYW5zaXRpb24nOidvdHJhbnNpdGlvbmVuZCcsXG4gICAgICAgICAgICAnTW96VHJhbnNpdGlvbic6J3RyYW5zaXRpb25lbmQnLFxuICAgICAgICAgICAgJ1dlYmtpdFRyYW5zaXRpb24nOid3ZWJraXRUcmFuc2l0aW9uRW5kJ1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciB0cmFuc2l0aW9uRW5kID0gJyc7XG4gICAgICAgIGZvciAoaSBpbiB0cmFuc2l0aW9ucykge1xuICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25zLmhhc093blByb3BlcnR5KGkpICYmIGVsLnN0eWxlW2ldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uRW5kID0gdHJhbnNpdGlvbnNbaV07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBIVE1MRWxlbWVudC5wcm90b3R5cGUub25UcmFuc2l0aW9uRW5kT25jZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBpZiAodHJhbnNpdGlvbkVuZCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25FbmRXcmFwID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLnR5cGUsIHRyYW5zaXRpb25FbmRXcmFwKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIodHJhbnNpdGlvbkVuZCwgdHJhbnNpdGlvbkVuZFdyYXAsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgIH0oKSk7XG5cbiAgICAvKipcbiAgICAgKiBBZGQgY2VydGFpbiBjbGFzcyB0byBlbGVtZW50c1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7RWxlbWVudHxbRWxlbWVudF19IGVsZW1lbnRzIC0gRWxlbWVudChzKSB0byBzZWFyY2hcbiAgICAgKiBAcGFyYW0gIHtTdHJpbmd9ICBteUNsYXNzIC0gQ2xhc3MgbmFtZSB0byBhZGRcbiAgICAgKiBAcmV0dXJuIHZvaWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50cywgbXlDbGFzcykge1xuICAgICAgICBpZiAoIWVsZW1lbnRzKSB7IHJldHVybjsgfVxuICAgICAgICBpZiAodHlwZW9mKGVsZW1lbnRzKSA9PT0gJ3N0cmluZycpIGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlbGVtZW50cyk7XG4gICAgICAgIGVsc2UgaWYgKGVsZW1lbnRzLnRhZ05hbWUpIGVsZW1lbnRzPVtlbGVtZW50c107XG4gICAgICAgIC8vIGFkZCBjbGFzcyB0byBhbGwgY2hvc2VuIGVsZW1lbnRzXG4gICAgICAgIGZvciAodmFyIGk9MDsgaTxlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGVsZW1lbnRzW2ldLmNsYXNzTmFtZS50cmltKCkgPT0gJycpIGVsZW1lbnRzW2ldLmNsYXNzTmFtZSA9IG15Q2xhc3M7XG4gICAgICAgICAgICBlbHNlIGlmICgoJyAnK2VsZW1lbnRzW2ldLmNsYXNzTmFtZSsnICcpLmluZGV4T2YoJyAnK215Q2xhc3MrJyAnKSA8IDApIHtcbiAgICAgICAgICAgICAgICAvLyBhZGQgY2xhc3NcbiAgICAgICAgICAgICAgICBlbGVtZW50c1tpXS5jbGFzc05hbWUgKz0gJyAnICsgbXlDbGFzcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZSBjZXJ0YWluIGNsYXNzIGZyb20gZWxlbWVudHNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge0VsZW1lbnR8W0VsZW1lbnRdfSBlbGVtZW50cyAtIEVsZW1lbnQocykgdG8gc2VhcmNoXG4gICAgICogQHBhcmFtICB7U3RyaW5nfSAgbXlDbGFzcyAtIENsYXNzIG5hbWUgdG8gbWF0Y2ggYWdhaW5zdFxuICAgICAqIEByZXR1cm4gdm9pZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnRzLCBteUNsYXNzKSB7XG4gICAgICAgIGlmICghZWxlbWVudHMpIHsgcmV0dXJuOyB9XG4gICAgICAgIGlmICh0eXBlb2YoZWxlbWVudHMpID09PSAnc3RyaW5nJykgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGVsZW1lbnRzKTtcbiAgICAgICAgZWxzZSBpZiAoZWxlbWVudHMudGFnTmFtZSkgZWxlbWVudHM9W2VsZW1lbnRzXTtcbiAgICAgICAgdmFyIHJlZzEgPSBuZXcgUmVnRXhwKCcgJytteUNsYXNzKycgJywnZycpO1xuICAgICAgICB2YXIgcmVnMiA9IG5ldyBSZWdFeHAoJyheKScrbXlDbGFzcysnKCR8ICknLCdnJyk7XG4gICAgICAgIHZhciByZWczID0gbmV3IFJlZ0V4cCgnKF58ICknK215Q2xhc3MrJygkKScsJ2cnKTtcbiAgICAgICAgLy8gcmVtb3ZlIGNsYXNzIGZyb20gYWxsIGNob3NlbiBlbGVtZW50c1xuICAgICAgICBmb3IgKHZhciBpPTA7IGk8ZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGVsZW1lbnRzW2ldLmNsYXNzTmFtZSA9IGVsZW1lbnRzW2ldLmNsYXNzTmFtZS5yZXBsYWNlKHJlZzEsJyAnKTtcbiAgICAgICAgICAgIGVsZW1lbnRzW2ldLmNsYXNzTmFtZSA9IGVsZW1lbnRzW2ldLmNsYXNzTmFtZS5yZXBsYWNlKHJlZzIsJycpO1xuICAgICAgICAgICAgZWxlbWVudHNbaV0uY2xhc3NOYW1lID0gZWxlbWVudHNbaV0uY2xhc3NOYW1lLnJlcGxhY2UocmVnMywnJyk7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50c1tpXS5jbGFzc05hbWUudHJpbSgpID09ICcnKSBlbGVtZW50c1tpXS5yZW1vdmVBdHRyaWJ1dGUoJ2NsYXNzJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGNsb3Nlc3QgbWF0Y2hpbmcgZWxlbWVudCB1cCB0aGUgRE9NIHRyZWUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtFbGVtZW50fSBlbGVtZW50IC0gU3RhcnRpbmcgZWxlbWVudFxuICAgICAqIEBwYXJhbSAge1N0cmluZ30gIHNlbGVjdG9yIFNlbGVjdG9yIHRvIG1hdGNoIGFnYWluc3RcbiAgICAgKiBAcmV0dXJuIHtCb29sZWFufEVsZW1lbnR9ICBSZXR1cm5zIG51bGwgaWYgbm8gbWF0Y2ggZm91bmRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRDbG9zZXN0KGVsZW1lbnQsIHNlbGVjdG9yKSB7XG4gICAgICAgIC8vIEVsZW1lbnQubWF0Y2hlcygpIHBvbHlmaWxsXG4gICAgICAgIGlmICghRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcykge1xuICAgICAgICAgICAgRWxlbWVudC5wcm90b3R5cGUubWF0Y2hlcyA9XG4gICAgICAgICAgICBFbGVtZW50LnByb3RvdHlwZS5tYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgIEVsZW1lbnQucHJvdG90eXBlLm1vek1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgRWxlbWVudC5wcm90b3R5cGUubXNNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgIEVsZW1lbnQucHJvdG90eXBlLm9NYXRjaGVzU2VsZWN0b3IgfHxcbiAgICAgICAgICAgIEVsZW1lbnQucHJvdG90eXBlLndlYmtpdE1hdGNoZXNTZWxlY3RvciB8fFxuICAgICAgICAgICAgZnVuY3Rpb24ocykge1xuICAgICAgICAgICAgICAgIHZhciBtYXRjaGVzID0gKHRoaXMuZG9jdW1lbnQgfHwgdGhpcy5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKHMpLFxuICAgICAgICAgICAgICAgICAgICBpID0gbWF0Y2hlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgd2hpbGUgKC0taSA+PSAwICYmIG1hdGNoZXMuaXRlbShpKSAhPT0gdGhpcykge31cbiAgICAgICAgICAgICAgICByZXR1cm4gaSA+IC0xO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBjbG9zZXN0IG1hdGNoXG4gICAgICAgIGZvciAoIDsgZWxlbWVudCAmJiBlbGVtZW50ICE9PSBkb2N1bWVudDsgZWxlbWVudCA9IGVsZW1lbnQucGFyZW50Tm9kZSApIHtcbiAgICAgICAgICAgIGlmICggZWxlbWVudC5tYXRjaGVzKCBzZWxlY3RvciApICkgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY3JlYXRlQmFja2Ryb3AoKSB7XG4gICAgICAgIHZhciBleGlzdGluZ0JhY2tkcm9wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZzbS1iYWNrZHJvcCcpO1xuICAgICAgICBpZiAoIWV4aXN0aW5nQmFja2Ryb3ApIHtcbiAgICAgICAgICAgIHZhciBiYWNrRHJvcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgYmFja0Ryb3AuaWQgPSAndnNtLWJhY2tkcm9wJztcbiAgICAgICAgICAgIGJhY2tEcm9wLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICAgICAgYmFja0Ryb3Auc3R5bGUudHJhbnNpdGlvbiA9ICdvcGFjaXR5IGxpbmVhciAuM3MnO1xuICAgICAgICAgICAgZ2V0TW9kYWxDb250YWluZXIoKS5hcHBlbmRDaGlsZChiYWNrRHJvcCk7XG5cbiAgICAgICAgICAgIHNob3dCYWNrZHJvcCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2hvd0JhY2tkcm9wKCkge1xuICAgICAgICB2YXIgZXhpc3RpbmdCYWNrZHJvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2c20tYmFja2Ryb3AnKTtcbiAgICAgICAgaWYgKCFleGlzdGluZ0JhY2tkcm9wKSB7XG4gICAgICAgICAgICBjcmVhdGVCYWNrZHJvcCgpO1xuICAgICAgICB9XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGV4aXN0aW5nQmFja2Ryb3Auc3R5bGUub3BhY2l0eSA9IDAuNTVcbiAgICAgICAgICAgIGV4aXN0aW5nQmFja2Ryb3Aub25UcmFuc2l0aW9uRW5kT25jZShmdW5jdGlvbigpe30pO1xuICAgICAgICB9LCAwKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoaWRlQmFja2Ryb3AoKSB7XG4gICAgICAgIHZhciBleGlzdGluZ0JhY2tkcm9wID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZzbS1iYWNrZHJvcCcpO1xuICAgICAgICBpZiAoZXhpc3RpbmdCYWNrZHJvcCkge1xuICAgICAgICAgICAgZXhpc3RpbmdCYWNrZHJvcC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgIGV4aXN0aW5nQmFja2Ryb3Aub25UcmFuc2l0aW9uRW5kT25jZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nQmFja2Ryb3AucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChleGlzdGluZ0JhY2tkcm9wKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGlkZU1vZGFscygpIHtcbiAgICAgICAgdmFyIGFsbE1vZGFscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tbW9kYWw6bm90KCN2c21fbW9kYWxfYmFzZSknKSxcbiAgICAgICAgY3VycmVudEJhc2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLW1vZGFsLmluJylbMF07XG5cbiAgICAgICAgdmFyIGNvcHlPZkFycmF5ID0gaW5mb0FycmF5LnNsaWNlKDApLCBjb3B5T2ZEYXRhQXJyYXkgPSBkYXRhQXJyYXkuc2xpY2UoMCk7XG5cbiAgICAgICAgaW5mb0FycmF5ID0gW107XG4gICAgICAgIGRhdGFBcnJheSA9IFtdO1xuICAgICAgICBkaXNDb3VudGludWVkID0gdHJ1ZTtcblxuICAgICAgICBpZiAobW9kYWxBcnJheS5pbmRleE9mKGN1cnJlbnRCYXNlLmdldEF0dHJpYnV0ZSgnaWQnKSkgPiAtMSkge1xuICAgICAgICAgICAgY3VycmVudEJhc2Uuc3R5bGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICBjdXJyZW50QmFzZS5vblRyYW5zaXRpb25FbmRPbmNlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGFsbE1vZGFscywgZnVuY3Rpb24gKHRoaXNNb2RhbCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc0lEID0gdGhpc01vZGFsLmdldEF0dHJpYnV0ZSgnaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGFsQXJyYXkuaW5kZXhPZih0aGlzSUQpID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNNb2RhbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXNNb2RhbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBpbmZvQmFzZU9iaiA9IHt9O1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3B5T2ZBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgdmFyIHNwbGl0dGVkQXJyYXkgPSBjb3B5T2ZBcnJheVtpXS5zcGxpdCgnOicpO1xuICAgICAgICAgICAgICAgICAgaWYgKHNwbGl0dGVkQXJyYXkubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpbmZvQmFzZU9ialtzcGxpdHRlZEFycmF5WzBdXSA9IHNwbGl0dGVkQXJyYXlbMV07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuY2FsbGJhY2sgJiYgdHlwZW9mIG9wdGlvbnMuY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgb3V0T2JqID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgRmluYWxTZWxlY3Rpb25NYWRlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFZlaGljbGU6IGluZm9CYXNlT2JqLFxuICAgICAgICAgICAgICAgICAgICAgICAgRnVsbFNlbGVjdGlvbkRhdGE6IGNvcHlPZkRhdGFBcnJheVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnMuY2FsbGJhY2sob3V0T2JqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTm8gY2FsbGJhY2sgZnVuY3Rpb24gcHJvdmlkZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoaWRlQmFja2Ryb3AoKTtcbiAgICAgICAgICAgIHJlbW92ZUNsYXNzKGRvY3VtZW50LmJvZHksICd2c20tbW9kYWwtb3BlbicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdUaGlzIHZzbSBpbnN0YW5jZSBpcyBub3Qgc2hvd24geWV0LicpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJuIHRoZSBjb250YWluZXIgdGhhdCBtb2RhbHMgc2hvdWxkIGJlIGFwcGVuZGVkIHRvXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TW9kYWxDb250YWluZXIoKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5jb250YWluZXIgPT09ICdmdW5jdGlvbicpIHJldHVybiBvcHRpb25zLmNvbnRhaW5lcigpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmNvbnRhaW5lcikgcmV0dXJuIG9wdGlvbnMuY29udGFpbmVyO1xuXG4gICAgICAgIHJldHVybiBkb2N1bWVudC5ib2R5O1xuICAgIH1cblxuICAgIC8qTG9hZCBIVE1MIGNvZGUgYW5kIGFwcGVuZCB0byBib2R5Ki9cbiAgICBmdW5jdGlvbiBsb2FkQmFzZSgpIHtcbiAgICAgICAgdmFyIGV4aXN0aW5nTW9kYWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndnNtX21vZGFsX2Jhc2UnKTtcbiAgICAgICAgaWYgKCFleGlzdGluZ01vZGFsKSB7XG4gICAgICAgICAgICB2YXIgZGl2RWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBkaXZFbGUuaW5uZXJIVE1MID0gdnNtX3RlbXBsYXRlO1xuICAgICAgICAgICAgZ2V0TW9kYWxDb250YWluZXIoKS5hcHBlbmRDaGlsZChkaXZFbGUuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhbmQgcHJlcGFyZSBtb2RhbCBzY3JlZW5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSAge0Z1bmN0aW9ufSBwcmVwYXJlRnVuY3Rpb24gLSBUaGUgZnVuY3Rpb24gdG8gcHJlcGFyZSB0aGUgbW9kYWxcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IHByZXBhcmVGdW5jdGlvbk9wdGlvbnMgLSBPcHRpb25zIHRvIHBhc3MgaW5cbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IHRyYW5zaXRpb25Nb2RhbCAtIFRoZSBtb2RhbCBzY3JlZW4gdG8gdHJhbnNpdGlvbiB0b1xuICAgICAqIEByZXR1cm4ge0VsZW1lbnR9ICBSZXR1cm5zIHRoZSBwcmVwYXJlZCBtb2RhbFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2UocHJlcGFyZUZ1bmN0aW9uLCBwcmVwYXJlRnVuY3Rpb25PcHRpb25zLCB0cmFuc2l0aW9uTW9kYWwpIHtcbiAgICAgICAgdmFyIG1vZGFsQmFzZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd2c21fbW9kYWxfYmFzZScpO1xuICAgICAgICBpZiAoIW1vZGFsQmFzZSkgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgLy9NYWtlIGEgY29weSBvZiAjdnNtX21vZGFsX2Jhc2VcbiAgICAgICAgdmFyIG1vZGFsQmFzZUNvcHkgPSBtb2RhbEJhc2UuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgICAgIC8vT3ZlcnJpZGUgaWQgb2YgbW9kYWxCYXNlQ29weSBhbmQgYXBwZW5kIHRvIGJvZHlcbiAgICAgICAgbW9kYWxCYXNlQ29weS5pZCA9ICd2c21fbW9kYWxfJyArIF92c21Nb2RhbElEQ291bnRlcjtcbiAgICAgICAgbW9kYWxBcnJheS5wdXNoKCd2c21fbW9kYWxfJyArIF92c21Nb2RhbElEQ291bnRlcik7XG4gICAgICAgIG1vZGFsQmFzZUNvcHkuY2xhc3NOYW1lICs9ICcgdnNtX21vZGFsXycgKyBfdnNtTW9kYWxJRENvdW50ZXI7XG4gICAgICAgIGdldE1vZGFsQ29udGFpbmVyKCkuYXBwZW5kQ2hpbGQobW9kYWxCYXNlQ29weSk7XG5cbiAgICAgICAgLy9TZXR1cCB0cmFuc2l0aW9uXG4gICAgICAgIGlmICh0eXBlb2YodHJhbnNpdGlvbk1vZGFsKSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHByZXBhcmVGdW5jdGlvbk9wdGlvbnMgPSBleHRlbmQoe1xuICAgICAgICAgICAgICAgIGJhY2tNb2RhbDogdHJhbnNpdGlvbk1vZGFsLFxuICAgICAgICAgICAgICAgIHRoaXNNb2RhbDogbW9kYWxCYXNlQ29weVxuICAgICAgICAgICAgfSwgcHJlcGFyZUZ1bmN0aW9uT3B0aW9ucyk7XG5cbiAgICAgICAgICAgIHZhciBiYWNrTGlua3MgPSBtb2RhbEJhc2VDb3B5LnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tYmFjay1zdGVwJyk7XG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoYmFja0xpbmtzLCBmdW5jdGlvbiAoYmFja0xpbmspIHtcbiAgICAgICAgICAgICAgICB2YXIgYmFja0hhbmRsZXIgPSBmdW5jdGlvbihlKXtcbiAgICAgICAgICAgICAgICAgICAgZS50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLnR5cGUsIGJhY2tIYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJtID0gcHJlcGFyZUZ1bmN0aW9uT3B0aW9ucy5iYWNrTW9kYWwsXG4gICAgICAgICAgICAgICAgICAgIGJjID0gcHJlcGFyZUZ1bmN0aW9uT3B0aW9ucy50aGlzTW9kYWw7XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25Ub01vZGFsKGJtLCBiYywgdHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgLmRvbmUoXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmZvQXJyYXkubGVuZ3RoKSBpbmZvQXJyYXkucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGFBcnJheS5sZW5ndGgpIGRhdGFBcnJheS5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmMucGFyZW50Tm9kZSkgYmMucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChiYyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5hZnRlckJhY2tDbGlja2VkICYmIHR5cGVvZiBvcHRpb25zLmFmdGVyQmFja0NsaWNrZWQgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5mb0Jhc2VPYmogPSB7fTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZm9BcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzcGxpdHRlZEFycmF5ID0gaW5mb0FycmF5W2ldLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNwbGl0dGVkQXJyYXkubGVuZ3RoID09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mb0Jhc2VPYmpbc3BsaXR0ZWRBcnJheVswXV0gPSBzcGxpdHRlZEFycmF5WzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvdXRJbmZvT2JqID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRnVsbFNlbGVjdGlvbjogaW5mb0Jhc2VPYmosXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGdWxsU2VsZWN0aW9uRGF0YTogZGF0YUFycmF5XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmFmdGVyQmFja0NsaWNrZWQob3V0SW5mb09iaik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJhY2tMaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYmFja0hhbmRsZXIsIGZhbHNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9DYWxsIHRoZSBwcmVwYXJlIGZ1bmN0aW9uIHRvIGluaXRpYWxpemUgdGhlIG5ldyBtb2RhbFxuICAgICAgICBpZiAodHlwZW9mIHByZXBhcmVGdW5jdGlvbiA9PT0gXCJmdW5jdGlvblwiKSBwcmVwYXJlRnVuY3Rpb24obW9kYWxCYXNlQ29weSwgcHJlcGFyZUZ1bmN0aW9uT3B0aW9ucyk7XG5cbiAgICAgICAgLy9iaW5kIGNsaWNrIGV2ZW50IHRvIGNsb3NlIHRoZSBtb2RhbFxuICAgICAgICB2YXIgY2xvc2VCdXR0b25zID0gbW9kYWxCYXNlQ29weS5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLWNsb3NlJyk7XG4gICAgICAgIFtdLmZvckVhY2guY2FsbChjbG9zZUJ1dHRvbnMsIGZ1bmN0aW9uIChjbG9zZUJ1dHRvbikge1xuICAgICAgICAgICAgY2xvc2VCdXR0b24ub25jbGljayA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgaGlkZU1vZGFscygpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgX3ZzbU1vZGFsSURDb3VudGVyKys7XG5cbiAgICAgICAgcmV0dXJuIG1vZGFsQmFzZUNvcHk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJhbnNpdGlvbiBiZXR3ZWVuIG1vZGFsXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtFbGVtZW50fSB0b01vZGFsIC0gVGhlIG1vZGFsIHRvIHRyYW5zaXRpb24gdG9cbiAgICAgKiBAcGFyYW0gIHtFbGVtZW50fSBmcm9tTW9kYWwgLSBUaGUgY3VycmVudCBtb2RhbCB0byB0cmFuc2l0aW9uIGZyb21cbiAgICAgKiBAcGFyYW0gIHtCb29sZWFufSBiYWNrd2FyZHMgLSBzZXQgdG8gdHJ1ZSwgaWYgdHJhbnNpdGlvbiBmcm9tIGhpZ2hlciBpbmRleCB0byBsb3dlciBpbmRleFxuICAgICAqIEByZXR1cm4ge1JpZGVTdHlsZXJQcm9taXNlfSAtIFJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIHdoZW4gdGhlIHRyYW5zaXRpb24gaXMgY29tcGxldGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmFuc2l0aW9uVG9Nb2RhbCh0b01vZGFsLCBmcm9tTW9kYWwsIGJhY2t3YXJkcykge1xuICAgICAgICBiYWNrd2FyZHMgPSAhISBiYWNrd2FyZHM7XG5cbiAgICAgICAgaWYgKCF0b01vZGFsIHx8ICFmcm9tTW9kYWwpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgLyoqIEB0eXBlIHtSaWRlU3R5bGVyUHJvbWlzZX0gKi9cbiAgICAgICAgdmFyIGZyb21BbmltYXRlUHJvbWlzZSA9IHJpZGVzdHlsZXIucHJvbWlzZSgpLFxuICAgICAgICAgICAgdG9BbmltYXRlUHJvbWlzZSA9IHJpZGVzdHlsZXIucHJvbWlzZSgpO1xuXG4gICAgICAgIGlmICghYmFja3dhcmRzKSB7XG4gICAgICAgICAgICB2YXIgZnJvbVogPSBwYXJzZUludChmcm9tTW9kYWwuc3R5bGUuekluZGV4LCAxMCkgfHwgMCxcbiAgICAgICAgICAgICAgICB0b1ogPSBwYXJzZUludCh0b01vZGFsLnN0eWxlLnpJbmRleCwgMTApIHx8IDA7XG4gICAgICAgICAgICBpZiAodG9aIDw9IGZyb21aKSB0b1ogPSBmcm9tWiArIDE7XG4gICAgICAgICAgICB0b01vZGFsLnN0eWxlLnpJbmRleCA9IHRvWjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFuc2l0aW9uU3VwcG9ydCkge1xuICAgICAgICAgICAgaWYgKGJhY2t3YXJkcykge1xuICAgICAgICAgICAgICAgIHRvTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3ModG9Nb2RhbCwgJ2luJyk7XG5cbiAgICAgICAgICAgICAgICB0b0FuaW1hdGVQcm9taXNlLnJlc29sdmUoKTtcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUNsYXNzKGZyb21Nb2RhbCwgJ2luJyk7XG4gICAgICAgICAgICAgICAgICAgIGZyb21Nb2RhbC5vblRyYW5zaXRpb25FbmRPbmNlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb21BbmltYXRlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSwgNTApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9Nb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcblxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZENsYXNzKHRvTW9kYWwsICdpbicpO1xuICAgICAgICAgICAgICAgICAgICB0b01vZGFsLm9uVHJhbnNpdGlvbkVuZE9uY2UoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb21Nb2RhbC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoZnJvbU1vZGFsLCAnaW4nKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdG9BbmltYXRlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tQW5pbWF0ZVByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0sIDUwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChiYWNrd2FyZHMpIHtcbiAgICAgICAgICAgICAgICB0b01vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIGFkZENsYXNzKHRvTW9kYWwsICdpbicpO1xuXG4gICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3MoZnJvbU1vZGFsLCAnaW4nKTtcbiAgICAgICAgICAgICAgICBmcm9tTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRvTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3ModG9Nb2RhbCwgJ2luJyk7XG5cbiAgICAgICAgICAgICAgICBmcm9tTW9kYWwuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzcyhmcm9tTW9kYWwsICdpbicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0b0FuaW1hdGVQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIGZyb21BbmltYXRlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgYWxsUHJvbWlzZSA9IHJpZGVzdHlsZXIucHJvbWlzZSgpO1xuICAgICAgICB2YXIgb25Qcm9taXNlQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRvU3RhdGUgPSB0b0FuaW1hdGVQcm9taXNlLnN0YXRlKCksXG4gICAgICAgICAgICAgICAgZnJvbVN0YXRlID0gZnJvbUFuaW1hdGVQcm9taXNlLnN0YXRlKCk7XG5cbiAgICAgICAgICAgIC8vIFN0aWxsIHdhaXRpbmcgZm9yIHJlc29sdXRpb25cbiAgICAgICAgICAgIGlmICh0b1N0YXRlID09PSAwIHx8IGZyb21TdGF0ZSA9PT0gMCkgcmV0dXJuO1xuXG4gICAgICAgICAgICAvLyBPbmUgcHJvbWlzZSBoYXMgYmVlbiByZWplY3RlZCBidXQgdGhlIG90aGVyIGlzIHJlc29sdmVkXG4gICAgICAgICAgICBpZiAodG9TdGF0ZSA9PT0gMiB8fCBmcm9tU3RhdGUgPT09IDIpIHJldHVybiBhbGxQcm9taXNlLnJlamVjdCgpO1xuXG4gICAgICAgICAgICAvLyBCb3RoIHByb21pc2VzIGFyZSByZXNvbHZlZFxuICAgICAgICAgICAgYWxsUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdG9BbmltYXRlUHJvbWlzZS5hbHdheXMob25Qcm9taXNlQ2hhbmdlKTtcbiAgICAgICAgZnJvbUFuaW1hdGVQcm9taXNlLmFsd2F5cyhvblByb21pc2VDaGFuZ2UpO1xuXG4gICAgICAgIHJldHVybiBhbGxQcm9taXNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vZGFsIHByZXBhcmF0aW9uOiBQcm9jZXNzIHRoZSB2ZWhpY2xlIHNlbGVjdCByZXF1ZXN0XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0gIHtFbGVtZW50fSBtb2RhbCAtIFRoZSBtb2RhbCB0byBwcmVwYXJlXG4gICAgICogQHJldHVybiB2b2lkXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVxdWVzdFN0ZXAobW9kYWwsIHN0ZXBPcHRpb25zKSB7XG4gICAgICAgIHZhciByZXF1ZXN0ID0ge1xuICAgICAgICAgICAgU2VsZWN0aW9uOiBkYXRhQXJyYXlcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoc3RlcE9wdGlvbnMgJiYgc3RlcE9wdGlvbnMuYmVzdENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgICAgIHNob3dTZWxlY3Rpb24obW9kYWwsIHN0ZXBPcHRpb25zLmJlc3RDb25maWd1cmF0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICByaWRlc3R5bGVyLmFqYXguc2VuZCh7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiAnVmVoaWNsZS9TZWxlY3QnLFxuICAgICAgICAgICAgICAgIGRhdGE6IHJlcXVlc3QsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLkJlc3RDb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuSW5jbHVkZU9FVGlyZU9wdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByaWRlc3R5bGVyLmFqYXguc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdWZWhpY2xlL0dldFRpcmVPcHRpb25EZXRhaWxzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsnVmVoaWNsZUNvbmZpZ3VyYXRpb24nOiByZXNwb25zZS5CZXN0Q29uZmlndXJhdGlvbi5WYWx1ZX0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZXN0Q29uZmlndXJhdGlvbjogcmVzcG9uc2UuQmVzdENvbmZpZ3VyYXRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gKGRldGFpbFJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRldGFpbFJlc3BvbnNlLlN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRldGFpbHMgPSBkZXRhaWxSZXNwb25zZS5EZXRhaWxzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiZXN0Q29uZmlndXJhdGlvbiA9IHRoaXMuYmVzdENvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkZXRhaWxzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGV0YWlsU3RyaW5nID0gKGZ1bmN0aW9uIChkZXRhaWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZiA9IGRldGFpbC5Gcm9udFsnRGVzY3JpcHRpb24nXSwgciA9IGRldGFpbC5SZWFyWydEZXNjcmlwdGlvbiddO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmPT1yKSByZXR1cm4gZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHJldHVybiBcIkY6IFwiICsgZiArIFwiIFI6IFwiICsgcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKGRldGFpbHNbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVzdENvbmZpZ3VyYXRpb24uVGlyZU9wdGlvbkJhc2ljID0ge1RpcmVPcHRpb25JRDogZGV0YWlsc1swXVsnVGlyZU9wdGlvbklEJ10sIFRpcmVPcHRpb25TdHJpbmc6IGRldGFpbFN0cmluZ307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93U2VsZWN0aW9uKG1vZGFsLCBiZXN0Q29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uTWVudSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcm91cHM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVzY3JpcHRpb246ICdTZWxlY3QgWW91ciBUaXJlIFNpemUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRpdGxlOiAnVGlyZSBTaXplJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBLZXk6ICd0aXJlb3B0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPcHRpb25zOiBbXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZXRhaWxzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRldGFpbFN0cmluZyA9IChmdW5jdGlvbiAoZGV0YWlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmID0gZGV0YWlsLkZyb250WydEZXNjcmlwdGlvbiddLCByID0gZGV0YWlsLlJlYXJbJ0Rlc2NyaXB0aW9uJ107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmPT1yKSByZXR1cm4gZjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSByZXR1cm4gXCJGOiBcIiArIGYgKyBcIiBSOiBcIiArIHI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkoZGV0YWlsc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uTWVudS5PcHRpb25zLnB1c2goe0dyb3VwOiBudWxsLCBMYWJlbDogZGV0YWlsU3RyaW5nLCBWYWx1ZTogZGV0YWlsc1tpXVsnVGlyZU9wdGlvbklEJ119KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1vZGFsKG1vZGFsLCBvcHRpb25NZW51LCBiZXN0Q29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBzaG93U2VsZWN0aW9uKG1vZGFsLCBiZXN0Q29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3dTZWxlY3Rpb24obW9kYWwsIHJlc3BvbnNlLkJlc3RDb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZU1vZGFsKG1vZGFsLCByZXNwb25zZS5NZW51KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vZGFsIHByZXBhcmF0aW9uOiBVcGRhdGUgbW9kYWwgY29udGVudFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7RWxlbWVudH0gbW9kYWwgLSBUaGUgbW9kYWwgdG8gcHJlcGFyZVxuICAgICAqIEBwYXJhbSAge09iamVjdH0gbWVudSAtIE1lbnUgb2JqZWN0IHRvIHBhc3MgaW4gZm9yIG1vZGFsIGNvbnRlbnQgdXBkYXRlXG4gICAgICogQHJldHVybiB2b2lkXG4gICAgICovXG4gICAgZnVuY3Rpb24gdXBkYXRlTW9kYWwobW9kYWwsIG1lbnUsIGJlc3RDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIHZhciBpdGVtTGlzdENvbnRhaW5lciA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tbGlzdC1jb250YWluZXInKVswXSxcbiAgICAgICAgaGVhZGVyRWxlbWVudCA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20taGVhZGVyJylbMF0sXG4gICAgICAgIGJvZHlFbGVtZW50ID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1tb2RhbC1ib2R5JylbMF0sXG4gICAgICAgIHZzbUxpbmtTdHlsZSA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tbGluZS1zdGVwJylbMF0sXG4gICAgICAgIGZpbmFsU2NyZWVuID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1maW5hbCcpWzBdO1xuXG4gICAgICAgIHZhciBtZW51T3B0aW9ucyA9IG1lbnUuT3B0aW9ucyxcbiAgICAgICAgbWVudUtleSA9IG1lbnUuS2V5LFxuICAgICAgICBtZW51VGl0bGUgPSBtZW51LlRpdGxlLFxuICAgICAgICBtZW51R3JvdXBzID0gbWVudS5Hcm91cHM7XG5cbiAgICAgICAgdmFyIG9uTGlzdEl0ZW1TZWxlY3RlZCA9IGZ1bmN0aW9uKG8pIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25WYWx1ZSA9IG8uZ2V0QXR0cmlidXRlKCdkYXRhLW9wdGlvbnZhbHVlJyk7XG4gICAgICAgICAgICB2YXIgb3B0aW9uS2V5ID0gby5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3B0aW9ua2V5Jyk7XG4gICAgICAgICAgICB2YXIgb3B0aW9uTGFiZWwgPSBvLmdldEF0dHJpYnV0ZSgnZGF0YS1vcHRpb25sYWJlbCcpO1xuICAgICAgICAgICAgdmFyIG9wdGlvblRpdGxlID0gby5nZXRBdHRyaWJ1dGUoJ2RhdGEtbWVudXRpdGxlJyk7XG4gICAgICAgICAgICBkYXRhQXJyYXkucHVzaChvcHRpb25LZXkgKyAnOicgKyBvcHRpb25WYWx1ZSk7XG4gICAgICAgICAgICBpbmZvQXJyYXkucHVzaChvcHRpb25UaXRsZSArICc6JyArIG9wdGlvbkxhYmVsKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYWZ0ZXJPcHRpb25TZWxlY3RlZCAmJiB0eXBlb2Ygb3B0aW9ucy5hZnRlck9wdGlvblNlbGVjdGVkID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW5mb0Jhc2VPYmogPSB7fTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW5mb0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzcGxpdHRlZEFycmF5ID0gaW5mb0FycmF5W2ldLnNwbGl0KCc6Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGxpdHRlZEFycmF5Lmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvQmFzZU9ialtzcGxpdHRlZEFycmF5WzBdXSA9IHNwbGl0dGVkQXJyYXlbMV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgb3V0SW5mb09iaiA9IHtcbiAgICAgICAgICAgICAgICAgICAgQ3VycmVudFNlbGVjdGlvbjoge30sXG4gICAgICAgICAgICAgICAgICAgIEZ1bGxTZWxlY3Rpb246IGluZm9CYXNlT2JqLFxuICAgICAgICAgICAgICAgICAgICBGdWxsU2VsZWN0aW9uRGF0YTogZGF0YUFycmF5XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb3V0SW5mb09iai5DdXJyZW50U2VsZWN0aW9uW29wdGlvblRpdGxlXSA9IG9wdGlvbkxhYmVsO1xuXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5hZnRlck9wdGlvblNlbGVjdGVkKG91dEluZm9PYmopO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIWRpc0NvdW50aW51ZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHJhbnNpdGlvbk9wdGlvbiA9IHt9O1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25LZXkgPT0gJ3RpcmVvcHRpb24nICYmIGJlc3RDb25maWd1cmF0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGJlc3RDb25maWd1cmF0aW9uLlRpcmVPcHRpb25CYXNpYyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFRpcmVPcHRpb25JRDogb3B0aW9uVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBUaXJlT3B0aW9uU3RyaW5nOiBvcHRpb25MYWJlbFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uT3B0aW9uLmJlc3RDb25maWd1cmF0aW9uID0gYmVzdENvbmZpZ3VyYXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyYW5zaXRpb25Ub01vZGFsKFxuICAgICAgICAgICAgICAgICAgICBiYXNlKHJlcXVlc3RTdGVwLCB0cmFuc2l0aW9uT3B0aW9uLCBtb2RhbCksXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgYnVpbGRMaXN0SXRlbSA9IGZ1bmN0aW9uKG9wdE9iaikge1xuICAgICAgICAgICAgdmFyIG9wdGlvbkxhYmVsID0gb3B0T2JqLkxhYmVsLFxuICAgICAgICAgICAgb3B0aW9uVmFsdWUgPSBvcHRPYmouVmFsdWU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbkxhYmVsID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2Ygb3B0aW9uVmFsdWUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIG9wdGlvbkJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKSxcbiAgICAgICAgICAgIG9wdGlvblRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShvcHRpb25MYWJlbCk7XG4gICAgICAgICAgICBvcHRpb25CdG4uY2xhc3NOYW1lID0gJ3ZzbS1vcHRpb24taXRlbSB2c20tYnRuIHZzbS1idG4tZ3JheSc7XG4gICAgICAgICAgICBvcHRpb25CdG4uaHJlZiA9ICdqYXZhc2NyaXB0OnZvaWQoMCknO1xuICAgICAgICAgICAgb3B0aW9uQnRuLnNldEF0dHJpYnV0ZSgnZGF0YS1vcHRpb252YWx1ZScsIG9wdGlvblZhbHVlKTtcbiAgICAgICAgICAgIG9wdGlvbkJ0bi5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3B0aW9ubGFiZWwnLCBvcHRpb25MYWJlbCk7XG4gICAgICAgICAgICBvcHRpb25CdG4uYXBwZW5kQ2hpbGQob3B0aW9uVGV4dCk7XG5cbiAgICAgICAgICAgIG9wdGlvbkJ0bi5vbmNsaWNrID0gZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICBvbkxpc3RJdGVtU2VsZWN0ZWQodGhpcyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbkJ0bjtcbiAgICAgICAgfSxcbiAgICAgICAgYnVpbGRMaXN0SGVhZGVyID0gZnVuY3Rpb24oaGVhZGVyVGV4dCkge1xuICAgICAgICAgICAgdmFyIG1lbnVTdWJIZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyksXG4gICAgICAgICAgICBtZW51U3ViSGVhZGVyVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGhlYWRlclRleHQpO1xuICAgICAgICAgICAgbWVudVN1YkhlYWRlci5jbGFzc05hbWUgPSAndnNtLWdyb3VwLXRpdGxlJztcbiAgICAgICAgICAgIG1lbnVTdWJIZWFkZXIuYXBwZW5kQ2hpbGQobWVudVN1YkhlYWRlclRleHQpO1xuXG4gICAgICAgICAgICByZXR1cm4gbWVudVN1YkhlYWRlcjtcbiAgICAgICAgfTtcblxuICAgICAgICAvL0luIHByb2dyZXNzLCByZW1vdmluZyB0aGUgZmluYWwgc2NyZWVuIGVsZW1lbnQgZnJvbSBsb2FkZWQgbW9kYWxcbiAgICAgICAgZmluYWxTY3JlZW4ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChmaW5hbFNjcmVlbik7XG4gICAgICAgIGFkZENsYXNzKHZzbUxpbmtTdHlsZSwgJ3ZzbS1zaW5nbGUtc3RlcCcpO1xuXG4gICAgICAgIC8vQ3JlYXRlIHJpZ2h0LXNpZGUgcHJvZ3Jlc3MgYmFyXG4gICAgICAgIHZhciBkaXZFTGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgZG90RWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaScpLFxuICAgICAgICBzcGFuRWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBkaXZFTGUuY2xhc3NOYW1lID0gJ3ZzbS1jb2x1bW4tMic7XG4gICAgICAgIGRvdEVsZS5jbGFzc05hbWUgPSAnZG90LXN0eWxlIGRvdC1iZWZvcmUgYWN0aXZlJztcbiAgICAgICAgc3BhbkVsZS5jbGFzc05hbWUgPSAnZG90LWluZm8gZG90LWluZm8tYmVmb3JlIGFjdGl2ZSc7XG4gICAgICAgIC8vc3BhbkVsZS5pbm5lckhUTUwgPSBtZW51VGl0bGU7XG4gICAgICAgIGRpdkVMZS5hcHBlbmRDaGlsZChkb3RFbGUpO1xuICAgICAgICBkaXZFTGUuYXBwZW5kQ2hpbGQoc3BhbkVsZSk7XG5cbiAgICAgICAgLy9DcmVhdGUgbGVmdC1zaWRlIHByb2dyZXNzIGluZm9cbiAgICAgICAgaWYgKCFkYXRhQXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIgbm90U3R5bGVEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIG5vdFN0eWxlRGl2LmNsYXNzTmFtZSA9ICd2c20tY29sdW1uLTIgbm8tc3R5bGUnO1xuICAgICAgICAgICAgdnNtTGlua1N0eWxlLmFwcGVuZENoaWxkKG5vdFN0eWxlRGl2KTtcbiAgICAgICAgICAgIHZzbUxpbmtTdHlsZS5hcHBlbmRDaGlsZChkaXZFTGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgYWRkQ2xhc3MoYm9keUVsZW1lbnQsICd2c20taGFzLWJhY2snKTtcbiAgICAgICAgICAgIHZhciBub3RTdHlsZURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgLypjZWxsRWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpLCovXG4gICAgICAgICAgICAvKmluZm9FbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7Ki9cbiAgICAgICAgICAgIG5vdFN0eWxlRGl2LmNsYXNzTmFtZSA9ICd2c20tY29sdW1uLTIgdnNtLWJlZm9yZSc7XG4gICAgICAgICAgICAvKmNlbGxFbGUuY2xhc3NOYW1lID0gJ3ZzbS10YWJsZS1jZWxsJztcbiAgICAgICAgICAgIGluZm9FbGUuY2xhc3NOYW1lID0gJ3ZzbS1zZWxlY3RlZC1pbmZvJztcbiAgICAgICAgICAgIGNlbGxFbGUuYXBwZW5kQ2hpbGQoaW5mb0VsZSk7XG4gICAgICAgICAgICBub3RTdHlsZURpdi5hcHBlbmRDaGlsZChjZWxsRWxlKTsqL1xuICAgICAgICAgICAgdmFyIGluZm9CYXNlQXJyYXkgPSBpbmZvQXJyYXkubWFwKGZ1bmN0aW9uIChlbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxlICYmIGVsZS5zcGxpdCgnOicpLmxlbmd0aCA9PT0gMiA/IGVsZS5zcGxpdCgnOicpWzFdIDogJyc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8qaW5mb0VsZS5pbm5lckhUTUwgPSBpbmZvQmFzZUFycmF5LmpvaW4oJyAnKTsqL1xuICAgICAgICAgICAgc3BhbkVsZS5pbm5lckhUTUwgPSBpbmZvQmFzZUFycmF5LmpvaW4oJyAnKTtcbiAgICAgICAgICAgIHZzbUxpbmtTdHlsZS5hcHBlbmRDaGlsZChub3RTdHlsZURpdik7XG4gICAgICAgICAgICB2c21MaW5rU3R5bGUuYXBwZW5kQ2hpbGQoZGl2RUxlKTtcblxuICAgICAgICB9XG4gICAgICAgIGhlYWRlckVsZW1lbnQuaW5uZXJIVE1MID0gbWVudS5EZXNjcmlwdGlvbjtcblxuICAgICAgICAvL0NsZWFyIHRoZSBjb250YWluZXJcbiAgICAgICAgd2hpbGUgKGl0ZW1MaXN0Q29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIGl0ZW1MaXN0Q29udGFpbmVyLnJlbW92ZUNoaWxkKGl0ZW1MaXN0Q29udGFpbmVyLmZpcnN0Q2hpbGQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1lbnVPcHRpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgdmFyIGdyb3VwV3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgZ3JvdXBXcmFwLmNsYXNzTmFtZSA9ICd2c20tZ3JvdXAtd3JhcCBjZW50ZXItcGllY2UnO1xuICAgICAgICAgICAgaXRlbUxpc3RDb250YWluZXIuYXBwZW5kQ2hpbGQoZ3JvdXBXcmFwKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuR3JvdXBPcHRpb25zICYmIG1lbnVHcm91cHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWVudUdyb3VwZWRPcHRpb25zID0ge307XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtZW51T3B0aW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGhpc01lbnVPcHRpb24gPSBtZW51T3B0aW9uc1tpXSxcbiAgICAgICAgICAgICAgICAgICAgdGhpc01lbnVPcHRpb25Hcm91cCA9IHRoaXNNZW51T3B0aW9uLkdyb3VwO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpc01lbnVPcHRpb25Hcm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9JZiBHcm91cCB2YWx1ZSBvZiB0aGlzIG9wdGlvbiBpcyBub3QgbnVsbCBvciB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWVudUdyb3VwZWRPcHRpb25zW3RoaXNNZW51T3B0aW9uR3JvdXBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVudUdyb3VwZWRPcHRpb25zW3RoaXNNZW51T3B0aW9uR3JvdXBdID0gW3RoaXNNZW51T3B0aW9uXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lbnVHcm91cGVkT3B0aW9uc1t0aGlzTWVudU9wdGlvbkdyb3VwXS5wdXNoKHRoaXNNZW51T3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vSWYgR3JvdXAgdmFsdWUgb2YgdGhpcyBvcHRpb24gaXMgbnVsbCBvciB1bmRlZmluZWQsIHB1dCB0aGVtIGluIFVuZ3JvdXBlZCBhcnJheVxuICAgICAgICAgICAgICAgICAgICAgICAgLy9NYXkgbmV2ZXIgaGFwcGVuLCBtb3JlIGxpa2UgYW4gZXJyb3IgaGFuZGxpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWVudUdyb3VwZWRPcHRpb25zWydfdW5ncm91cGVkJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW51R3JvdXBlZE9wdGlvbnNbJ191bmdyb3VwZWQnXSA9IFt0aGlzTWVudU9wdGlvbl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZW51R3JvdXBlZE9wdGlvbnNbJ191bmdyb3VwZWQnXS5wdXNoKHRoaXNNZW51T3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvL0dvIHRocm91Z2gga25vd24gR3JvdXBzIGJlZm9yZSBjaGVja2luZyB1bmdyb3VwZWQgb3B0aW9uc1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWVudUdyb3Vwcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVudUdyb3VwID0gbWVudUdyb3Vwc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1Ykdyb3VwID0gbWVudUdyb3VwZWRPcHRpb25zW21lbnVHcm91cF07XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJHcm91cCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGdyb3VwTGlzdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uQ2xhc3MgPSAndnNtLW9uZS1jb250YWluZXInO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lbnUuS2V5ID09ICd5ZWFyJyAmJiBtZW51T3B0aW9ucy5sZW5ndGggPiAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLlllYXJTY3JlZW5Db2x1bW5zID09IDIpIGNvbHVtbkNsYXNzID0gJ3ZzbS1oYWxmLWNvbnRhaW5lcic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuWWVhclNjcmVlbkNvbHVtbnMgPj0gMykgY29sdW1uQ2xhc3MgPSAndnNtLXRoaXJkLWNvbnRhaW5lcic7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVudS5LZXkgPT0gJ21ha2UnICYmIG1lbnVPcHRpb25zLmxlbmd0aCA+IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuTWFrZVNjcmVlbkNvbHVtbnMgPj0gMikgY29sdW1uQ2xhc3MgPSAndnNtLWhhbGYtY29udGFpbmVyJztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwTGlzdC5jbGFzc05hbWUgPSAndnNtLWdyb3VwLWxpc3QgJyArIGNvbHVtbkNsYXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBXcmFwLmFwcGVuZENoaWxkKGJ1aWxkTGlzdEhlYWRlcihtZW51R3JvdXApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwV3JhcC5hcHBlbmRDaGlsZChncm91cExpc3QpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN1Ykdyb3VwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gYnVpbGRMaXN0SXRlbShzdWJHcm91cFtpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsaXN0SXRlbSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLW9wdGlvbmtleScsIG1lbnVLZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtbWVudXRpdGxlJywgbWVudVRpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBMaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy9DaGVjayBpZiBVbmdyb3VwZWQgb3B0aW9ucyBleGlzdFxuICAgICAgICAgICAgICAgIGlmIChtZW51R3JvdXBlZE9wdGlvbnNbJ191bmdyb3VwZWQnXSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ3JvdXBMaXN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbkNsYXNzID0gJ3ZzbS1vbmUtY29udGFpbmVyJztcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1lbnUuS2V5ID09ICd5ZWFyJyAmJiBtZW51T3B0aW9ucy5sZW5ndGggPiAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuWWVhclNjcmVlbkNvbHVtbnMgPT0gMikgY29sdW1uQ2xhc3MgPSAndnNtLWhhbGYtY29udGFpbmVyJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLlllYXJTY3JlZW5Db2x1bW5zID49IDMpIGNvbHVtbkNsYXNzID0gJ3ZzbS10aGlyZC1jb250YWluZXInO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChtZW51LktleSA9PSAnbWFrZScgJiYgbWVudU9wdGlvbnMubGVuZ3RoID4gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLk1ha2VTY3JlZW5Db2x1bW5zID49IDIpIGNvbHVtbkNsYXNzID0gJ3ZzbS1oYWxmLWNvbnRhaW5lcic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBMaXN0LmNsYXNzTmFtZSA9ICd2c20tZ3JvdXAtbGlzdCAnICsgY29sdW1uQ2xhc3M7XG4gICAgICAgICAgICAgICAgICAgIGdyb3VwV3JhcC5hcHBlbmRDaGlsZChidWlsZExpc3RIZWFkZXIoJ1VuZ3JvdXBlZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBXcmFwLmFwcGVuZENoaWxkKGdyb3VwTGlzdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1Ykdyb3VwID0gbWVudUdyb3VwZWRPcHRpb25zWydfdW5ncm91cGVkJ107XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3ViR3JvdXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IGJ1aWxkTGlzdEl0ZW0oc3ViR3JvdXBbaV0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsaXN0SXRlbSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3B0aW9ua2V5JywgbWVudUtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGlzdEl0ZW0uc2V0QXR0cmlidXRlKCdkYXRhLW1lbnV0aXRsZScsIG1lbnVUaXRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBMaXN0LmFwcGVuZENoaWxkKGxpc3RJdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBncm91cExpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcbiAgICAgICAgICAgICAgICBjb2x1bW5DbGFzcyA9ICd2c20tb25lLWNvbnRhaW5lcic7XG4gICAgICAgICAgICAgICAgaWYgKG1lbnUuS2V5ID09ICd5ZWFyJyAmJiBtZW51T3B0aW9ucy5sZW5ndGggPiAxMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5ZZWFyU2NyZWVuQ29sdW1ucyA9PSAyKSBjb2x1bW5DbGFzcyA9ICd2c20taGFsZi1jb250YWluZXInO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5ZZWFyU2NyZWVuQ29sdW1ucyA+PSAzKSBjb2x1bW5DbGFzcyA9ICd2c20tdGhpcmQtY29udGFpbmVyJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG1lbnUuS2V5ID09ICdtYWtlJyAmJiBtZW51T3B0aW9ucy5sZW5ndGggPiAxMCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5NYWtlU2NyZWVuQ29sdW1ucyA+PSAyKSBjb2x1bW5DbGFzcyA9ICd2c20taGFsZi1jb250YWluZXInO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBncm91cExpc3QuY2xhc3NOYW1lID0gJ3ZzbS1ncm91cC1saXN0ICcgKyBjb2x1bW5DbGFzcztcbiAgICAgICAgICAgICAgICBncm91cFdyYXAuYXBwZW5kQ2hpbGQoZ3JvdXBMaXN0KTtcblxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWVudU9wdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gYnVpbGRMaXN0SXRlbShtZW51T3B0aW9uc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbGlzdEl0ZW0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtb3B0aW9ua2V5JywgbWVudUtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaXN0SXRlbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtbWVudXRpdGxlJywgbWVudVRpdGxlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyb3VwTGlzdC5hcHBlbmRDaGlsZChsaXN0SXRlbSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNb2RhbCBwcmVwYXJhdGlvbjogU2hvdyBmaW5hbCB2ZWhpY2xlIHNlbGVjdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtICB7RWxlbWVudH0gbW9kYWwgLSBUaGUgbW9kYWwgdG8gcHJlcGFyZVxuICAgICAqIEBwYXJhbSAge09iamVjdH0gYmVzdENvbmZpZ3VyYXRpb24gLSBiZXN0Q29uZmlndXJhdGlvbiBvYmplY3QgdG8gcGFzcyBpbiBmb3IgbW9kYWwgY29udGVudCB1cGRhdGVcbiAgICAgKiBAcmV0dXJuIHZvaWRcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzaG93U2VsZWN0aW9uKG1vZGFsLCBiZXN0Q29uZmlndXJhdGlvbikge1xuICAgICAgICB2YXIgdmVoaWNsZUltYWdlID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnZzbS12ZWhpY2xlLWRpc3BsYXknKVswXSxcbiAgICAgICAgdmVoaWNsZUxvYWRlciA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoJy52c20tZmluYWwgLnZzbS1sb2FkZXJJY29uJylbMF0sXG4gICAgICAgIG5hbWVFbGVtZW50ID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnZlaGljbGUtcmVzdWx0LW5hbWUnKVswXSxcbiAgICAgICAgc2l6ZUVsZW1lbnQgPSBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcudmVoaWNsZS1yZXN1bHQtc2l6ZScpWzBdLFxuICAgICAgICBjb25maXJtQnV0dG9uID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1maW5kJylbMF0sXG4gICAgICAgIGJvZHlFbGVtZW50ID0gbW9kYWwucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1tb2RhbC1ib2R5JylbMF0sXG4gICAgICAgIGluUHJvZ3Jlc3NTY3JlZW4gPSBtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLWluLXByb2dyZXNzJylbMF07XG5cbiAgICAgICAgYWRkQ2xhc3MoYm9keUVsZW1lbnQsICd2c20taGFzLWJhY2snKTtcbiAgICAgICAgY29uZmlybUJ1dHRvbi5pbm5lckhUTUwgPSBvcHRpb25zLkNvbmZpcm1CdXR0b25UZXh0O1xuXG4gICAgICAgIHZhciBpbmZvQmFzZUFycmF5ID0gW10sIGluZm9CYXNlT2JqID0ge307XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpbmZvQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgc3BsaXR0ZWRBcnJheSA9IGluZm9BcnJheVtpXS5zcGxpdCgnOicpO1xuICAgICAgICAgIGlmIChzcGxpdHRlZEFycmF5Lmxlbmd0aCA9PSAyICYmIHNwbGl0dGVkQXJyYXlbMF0gIT0gJ1RpcmUgU2l6ZScpIHtcbiAgICAgICAgICAgICAgaW5mb0Jhc2VBcnJheS5wdXNoKHNwbGl0dGVkQXJyYXlbMV0pO1xuICAgICAgICAgICAgICBpbmZvQmFzZU9ialtzcGxpdHRlZEFycmF5WzBdXSA9IHNwbGl0dGVkQXJyYXlbMV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1haW5QYXJ0U3RyaW5nID0gaW5mb0Jhc2VBcnJheVswXSxcbiAgICAgICAgbGFzdEl0ZW0gPSBpbmZvQmFzZUFycmF5LnBvcCgpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgaW5mb0Jhc2VBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGkgPj0gMykgYnJlYWs7XG4gICAgICAgICAgICBtYWluUGFydFN0cmluZyArPSAnICcgKyBpbmZvQmFzZUFycmF5W2ldO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHZlaGljbGVEZXNjID0gbWFpblBhcnRTdHJpbmcgKyAnICcgKyBsYXN0SXRlbTtcblxuICAgICAgICBuYW1lRWxlbWVudC5pbm5lckhUTUwgPSB2ZWhpY2xlRGVzYztcblxuICAgICAgICBhZGRDbGFzcyhtb2RhbC5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLW1vZGFsLWJvZHknKVswXSwgJ3ZzbS1maW5hbC1zY3JlZW4nKTtcbiAgICAgICAgaW5Qcm9ncmVzc1NjcmVlbi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGluUHJvZ3Jlc3NTY3JlZW4pO1xuXG4gICAgICAgIHZhciBpbWFnZVNldHRpbmdzID0ge1xuICAgICAgICAgICAgV2lkdGg6IDI2MCxcbiAgICAgICAgICAgIEhlaWdodDogMTIwLFxuICAgICAgICAgICAgUG9zaXRpb25YOiAxLFxuICAgICAgICAgICAgUG9zaXRpb25ZOiAxXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuSW1hZ2VTZXR0aW5ncykge1xuICAgICAgICAgICAgZXh0ZW5kKGltYWdlU2V0dGluZ3MsIFxuICAgICAgICAgICAgICAgICAgIHR5cGVvZiBvcHRpb25zLkltYWdlU2V0dGluZ3MgPT09IFwiZnVuY3Rpb25cIiA/XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLkltYWdlU2V0dGluZ3MuY2FsbCh0aGlzLCBvcHRpb25zKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLkltYWdlU2V0dGluZ3MpO1xuICAgICAgICB9XG5cbiAgICAgICAgaW1hZ2VTZXR0aW5ncy5WZWhpY2xlQ29uZmlndXJhdGlvbiA9IGJlc3RDb25maWd1cmF0aW9uLlZhbHVlO1xuXG4gICAgICAgIHZhciBpbWFnZVVybCA9IHJpZGVzdHlsZXIuYWpheC51cmwoXCJWZWhpY2xlL1JlbmRlclwiLCBpbWFnZVNldHRpbmdzKTtcblxuICAgICAgICB2ZWhpY2xlSW1hZ2Uuc3JjID0gaW1hZ2VVcmw7XG4gICAgICAgIHZlaGljbGVJbWFnZS5zdHlsZS5kaXNwbGF5ID0gJ2lubGluZS1ibG9jayc7XG4gICAgICAgIHZlaGljbGVJbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpe1xuICAgICAgICAgICAgdmVoaWNsZUxvYWRlci5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNvbmZpcm1IYW5kbGVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoZS50eXBlLCBjb25maXJtSGFuZGxlcik7XG4gICAgICAgICAgICAvL0hpZGUgbW9kYWxcbiAgICAgICAgICAgIHZhciBhbGxNb2RhbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudnNtLW1vZGFsOm5vdCgjdnNtX21vZGFsX2Jhc2UpJyksXG4gICAgICAgICAgICBwYXJlbnRCYXNlID0gZ2V0Q2xvc2VzdCh0aGlzLCAnLnZzbS1tb2RhbCcpO1xuXG4gICAgICAgICAgICB2YXIgY29weU9mRGF0YUFycmF5ID0gZGF0YUFycmF5LnNsaWNlKDApO1xuXG4gICAgICAgICAgICBpbmZvQXJyYXkgPSBbXTtcbiAgICAgICAgICAgIGRhdGFBcnJheSA9IFtdO1xuXG4gICAgICAgICAgICBwYXJlbnRCYXNlLnN0eWxlLm9wYWNpdHkgPSAwO1xuICAgICAgICAgICAgcGFyZW50QmFzZS5vblRyYW5zaXRpb25FbmRPbmNlKGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGFsbE1vZGFscywgZnVuY3Rpb24gKHRoaXNNb2RhbCkge3RoaXNNb2RhbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXNNb2RhbCk7fSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdmVoaWNsZUluZm8gPSB7XG4gICAgICAgICAgICAgICAgICAgIEltYWdlVXJsOiBpbWFnZVVybCxcbiAgICAgICAgICAgICAgICAgICAgVmVoaWNsZURlc2NyaXB0aW9uOiB2ZWhpY2xlRGVzYyxcbiAgICAgICAgICAgICAgICAgICAgVmVoaWNsZUNvbmZpZ3VyYXRpb246IGJlc3RDb25maWd1cmF0aW9uLlZhbHVlXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGV4dGVuZCh2ZWhpY2xlSW5mbywgaW5mb0Jhc2VPYmopO1xuICAgICAgICAgICAgICAgIGlmIChiZXN0Q29uZmlndXJhdGlvbi5UaXJlT3B0aW9uQmFzaWMpIGV4dGVuZCh2ZWhpY2xlSW5mbywgYmVzdENvbmZpZ3VyYXRpb24uVGlyZU9wdGlvbkJhc2ljKTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5jYWxsYmFjayAmJiB0eXBlb2Ygb3B0aW9ucy5jYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvdXRPYmogPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBGaW5hbFNlbGVjdGlvbk1hZGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBWZWhpY2xlOiB2ZWhpY2xlSW5mbyxcbiAgICAgICAgICAgICAgICAgICAgICAgIEZ1bGxTZWxlY3Rpb25EYXRhOiBjb3B5T2ZEYXRhQXJyYXlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLmNhbGxiYWNrKG91dE9iaik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoaWRlTW9kYWxzKCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignTm8gY2FsbGJhY2sgZnVuY3Rpb24gcHJvdmlkZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBoaWRlQmFja2Ryb3AoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjb25maXJtSGFuZGxlciwgZmFsc2UpO1xuICAgIH1cblxuICAgIHRoaXMuU2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgbG9hZEJhc2UoKTtcbiAgICAgICAgLy9DaGVjayBmb3IgYW55IGV4aXN0aW5nIG1vZGFsc1xuICAgICAgICB2YXIgYWxsTW9kYWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnZzbS1tb2RhbDpub3QoI3ZzbV9tb2RhbF9iYXNlKScpO1xuICAgICAgICBpZiAoYWxsTW9kYWxzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCdUaGVyZSBpcyBjdXJyZW50bHkgYW5vdGhlciB2c20gaW5zdGFuY2UgcnVubmluZy4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbW9kYWwgPSBiYXNlKCk7XG4gICAgICAgIGNyZWF0ZUJhY2tkcm9wKCk7XG4gICAgICAgIG1vZGFsLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICBkaXNDb3VudGludWVkID0gZmFsc2U7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGFkZENsYXNzKG1vZGFsLCAnaW4nKTtcbiAgICAgICAgICAgIGFkZENsYXNzKGRvY3VtZW50LmJvZHksICd2c20tbW9kYWwtb3BlbicpO1xuICAgICAgICAgICAgbW9kYWwub25UcmFuc2l0aW9uRW5kT25jZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIHJlcXVlc3RTdGVwKG1vZGFsKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0sIDUwKTtcbiAgICB9XG5cbiAgICB0aGlzLkhpZGUgPSBoaWRlTW9kYWxzO1xufSIsIi8qIGV4cG9ydGVkIFJpZGVTdHlsZXJWaWV3cG9ydCAqL1xyXG5mdW5jdGlvbiBSaWRlU3R5bGVyVmlld3BvcnQoZWxlbSwgb3B0aW9ucykge1xyXG4gICAgLy8gVUkgcmVzb3VyY2VzXHJcbiAgICB2YXIgbG9hZGVyRGF0YSA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhJQUFnQVBZQUFQLy8vd0FBQVByNit0YlcxdHJhMnZ6OC9McTZ1b0NBZ0lxS2lzREF3UGIyOXVqbzZJaUlpSDUrZnFDZ29PYm01bkJ3Y0ZKU1VvS0NndVRrNVBMeThueDhmS0tpb3E2dXJqWTJOam82T2tCQVFHcHFhdHpjM1BUMDlIcDZlcWFtcHZqNCtNakl5RHc4UEd4c2JPcnE2cDZlbm5oNGVMNit2dExTMGpRME5EZzRPS3lzck1iR3hzek16Tzd1N3RUVTFEQXdNTFMwdEx5OHZLaW9xUER3OEc1dWJwS1NrdGpZMk9MaTRvYUdoaElTRWhBUUVDUWtKQTRPRGk0dUxwcWFtdURnNE43ZTN1enM3TEN3c0p5Y25KYVdsbUppWW82T2pwU1VsRVpHUmt4TVRGQlFVRVJFUkVwS1NwQ1FrTTdPemtoSVNFSkNRdERRME1MQ3drNU9UcGlZbUJvYUdpZ29LREl5TWhZV0ZoUVVGTGk0dUZwYVdsUlVWS1NrcEhKeWNsaFlXRjVlWG1Sa1pGeGNYRlpXVmlJaUlpQWdJQjRlSGlvcUtzckt5c1RFeEdob2FMYTJ0bVptWml3c0xLcXFxaGdZR0dCZ1lCd2NISFIwZEhaMmRyS3lzaVltSm9TRWhENCtQb3lNakF3TURBQUFBQUFBQUFBQUFBQUFBQUFBQUNIK0drTnlaV0YwWldRZ2QybDBhQ0JoYW1GNGJHOWhaQzVwYm1adkFDSDVCQUFGQUFBQUlmOExUa1ZVVTBOQlVFVXlMakFEQVFBQUFDd0FBQUFBSUFBZ0FBQUgvNEFBZ29PRWhZYUhpSW1LaTR5TmpvK1FrWktFQ3prMk5KT0NEeGNoZ3dVMU9qc1NtUW9RR0NJV2doUWlPejAxbnBBTEVSa1lHUTRBRkJxdFA0SUxOMEFDamdJU0doa3BHRElBTmp3K0tBQkNLTkV1anhNYkdpb3dvd0FFSElJVDBTZ1VrQndqR2lJemhrSXZLRGlTSkNzeHdZWWRtSThLRkIwRmpmcUxBZ1lNRWlTVUVKZW9BSkFCQkFnaUduQ2dRUVVQSmxnb0lnR3VXeUlDQ0Job1JOQkNFYlJvRmhFVlNPREF3b2NUSUJRVndFRWdpTUpFQ2hTa3pOVFBSUWRFRkY0NktzQUJ4WXRwaFVpc0F4THBXN1FKZ2tETXhBRk81eUlDMFY1Z0Vqcmc1a2NVUUIwOThFbENFRlFVUkFINENpTHZFUVVGZzI1RUN3S0xwaUNtS0JDNnVpMGtZSUxjdVhqejZ0M0xkMUlnQUNINUJBQUZBQUVBTEFBQUFBQWdBQ0FBQUFmL2dBQ0NnNFNGaG9lSWlZcUxqSTJPaHc4VGo0NFhLbGhiazRzS0VWWlpYQVdaZ3dzeExZTWRUSjFSQ3FFQUlBMUpTak9DRktoYVVTQ0NvSThrUmtwTVVMSUtWRlphWGFBTE4wQzZqQVZIUzAxUlRGTUFWVmM4WGdCQ0tOc3Vqd3NtUzFBYUNJSlNwUUFUMnlnVWswQWVTMG9YaGtJdktEaWhRakV5eTRRZE5KTWdPcXhxeEM5UkN5SkZrS3dZaUtnQWtBRUUyQ1dpNENDaERTZFNGSkZReDBFUmlDRVdRbHE0b1VqYnRvNktnQ1F3SU9PSkFFVUZjQkFJSW5HUmdJS3NHcnJvZ0loQ3pVY0ZncUI0MGEwUWlYcEFNajFRSjZrVkxnQTQxUDFreEdIYmkzOUhCL0EwaWFLb282TXZTQWdpc0MwcEFHUkJYazRTT09qR3RpQ0RGWENHU29kQ1NNNkdDN3plM2N1M3I5Ky9nQWNGQWdBaCtRUUFCUUFDQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam9Za1RqOFVqNDBTUEdVTWxZc2RTenhtU2lDYmcwSXlLSU0wVFR4blRBcWpBQ0FJWUdORGdoMVVxMUNpQUIyVkxsOWhaR0FYc0dTclhBVUtFak5BQlk0RlJHSmpYVjBzQUQ4K2FCOEFObUl0S0M2UEpBeGlYQkZJQUFJaElZSlZVeWdvbEk4VENOSXhoa0F2S0RpakxpZFR6Z3gxb0xFSnhDNUdBUmVSa0xGaXhaU0Rod29BR1VCQVhpSVdReTZzbU1GQkVRbDRLRG9xZW5LaTVBbCtpWVNBRkptSXdnQVVMNW9wS29DRFFCQ0xNMTg5YzlIckVBV2N6NExBREZlSWhENGdteGFBbkNESW9DQWNJSUV1RWdxVG9ORUJ2VlRDSStySXhZQVhKQVFSZ0ljVXdJSWJRUVFVUEhpRDdLQ0VPaE1CVElBbkpHN0VCVnp0NnQzTHQ2L2Z2WUVBQUNINUJBQUZBQU1BTEFBQUFBQWdBQ0FBQUFmL2dBQ0NnNFNGaG9lSWlZcUxqSTJPaGlSVkRoU1BqUWhZUGtlVml3cGpXRzVkSUp1REJUZEJneFJrV0doS0NxT0NLMThRVzRJZFhLc1JvZ0FQSFk4Rk5sOGJHMndBSUVhclJnVUtEVzRST0k4WEhsOXJiUzBBRGhrWWJ3QklXajF3VTQ4dVB4NFFZZzRBQlMxcGdtMDlaVWMwbFF0RTVTZUdSMWhFejVzVUlXa0ZEQWtBSXE5U0FRR09BaklDOFlMRkZCUUlFeFVBTW9BQUpVVTQxb1ZRczBBUkNSUWdPU3lhQUJLa0MwVkNTb3BVSkFESGpSc1RGaFhBUVNESVJabXZFcnJvZFlqQ1RWOUJVTHc0V1lqRUN4UkFObjBFR2JOWVJCd2xmeklpS1ZTZTBSdTlVcHFzUkdIQUFCS0NDSUJNQ21DQnFZaVBCS0M5TVpaVVRrSlVFSVc4UFZSZ0FkRzVlUFBxM2N0WGJ5QUFJZmtFQUFVQUJBQXNBQUFBQUNBQUlBQUFCLytBQUlLRGhJV0doNGlKaW91TWpZNkdRaFpESFkrTlNGRWlSWldMQ210UkdYRWdtNFFnQ29NZFlob1pZS2FqQUE5RVRtcUNuUm9xWTZJQUN5NlZDUWdIRFFrQUlCQWFHQ01BQ2hJcFNoeVBUellNRFI0b0FETlFVVU1BVlhKWk9qK1BIUmRPT1I0ckFBVlNUNElqM2pvWGxTN2pPU3lHTm5BN1lSU2JIU2d2aHlBTXZCSGlxbEVCZ3hOdTNNQ3hxQUNRQVFUMktYS0JvaUlLR29wSVdIUTIwZUpGUlVJMk5zU2hjTUpJQWtFa05peG8wQVdsUXhSVVBpb1F4Qit2UWlSZW9BQ3lTV05GazhNRUNNSmhVU2FqQ1JWZllNeDVnMUxJaWpjZEtTQXdnSVFnQWhWNTZyb0JSR2lsQWdjRjNjZzZLQ3hMQUVoUkVEeGJxQUNKcUd3STQ4cWRTN2Z1cUVBQUlma0VBQVVBQlFBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2R0xpdHNDbytOSlJGVU01V0xJQ1lSVFNNQ200a2RjNTlpSUlJZ0x3K1ZUMndvZ2dwMEVWQnJvZ3RmYmxGU2poTmVQMGhwQUFJTkVVbDBBQXBmWldkeVRyNHJGa1ZPQkFCMVlCRnNBRDkyemxaMWppQlRidzQyV3dBRkw3RUNSbVp5Y0VZVWp4UnFieVc5aFVmd1JpU2JJRUdDSEtMd3hvS1FVWTFBVUNqUWlBUUJBaE1XRldqUmdrQ0hSUlJRYUVSQlF4R0pqUnd3YnVTb1NBaElSZzl1M0lpb3FBQU9Ba0F1TW1LSXNGRUJGeklOVVppM3FVQVFGQzljR0NLeERzaW1qeHBaZ2hBRkFNZEdubzRlYUh6UmtlaU5peVkxQ24wRWdzQUFmd0FJYURRS1lNRU5JRXdyMFFSd1kreWd0VFVVQVV6UWVEQ3VvUUlrdHRyZHk3ZXYzNzk5QXdFQUlma0VBQVVBQmdBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2R0JRTURqNDVzSTIweWxJc2dERzFqQndXYWlRcDNubDhnZ2lBeVF4U1BKQ2dQcVoxY2RBSUFKQjRwYmtlT0Ntb3hGNU1DUjIxY0VnQUtGVEJvZG1PMmpCMGhxek00QURJalJwa09LY3c4UDQ4Y0xBWXJJUUFGTjVNRkkyNTJaUnV0amlBRUxGc2Noa1ZYWldza21nVWtDNGNvWFBqZ1FsUWpFRGo0TVNKQmdNQ0VSUlBBMk1sZ1lKR0NGeWd5MGxDRTVNd1ZIMjFRamNLb1VSRUJOZ2xZM0dDMDRNYU5oNG9LNENBQVJJSEJtNGdLdU9pQWlBSThTZ1dDb0hoUnNCQUpqRUEwdmNvSUU4UXpIQmxSL0d6MElPT0xqVWR2OEJRU3RXZzhBamNVRXNpWUZFQkxJTStBRHJwQmRsQW9uSUlSSm1RVUFoY1NDYTkxOCtyZHk3ZXZxRUFBSWZrRUFBVUFCd0FzQUFBQUFDQUFJQUFBQi8rQUFJS0RoSVdHaDRpSmlvdU1qWTZISUFLUGprRkZQMENUakI4Vlh4K1ppZ0kvRlJBTWtnQUNDV3dkandWQ05JSUNSS01Ia2tKM1VSbElqMEZQSVRnQUJRNFZOVWNGSURsNEtpbGlwb3NDTHlndFV5UUFJWGQwTFFBenVDbFlEbzlBS0ZJaE40SVRtQVYwR1Nrd1g2dU9JQnppQzRaRUtUNFFRcG10cjRZZGRTdGNmR29FWW9JK1JrSUlFSml3YUVJWU54cGtMQUlCRFFXS2Zvank2TmlZUklFaWloWXZLanJTbzJRVEVJc1czTGpCVU5FREQxU29oQmdJcWxtakFpN2VHYUpBNFZPQklDaGVDQ3hFQWhxbVNTUkN0b3drQ0VmSW5vOGVXSHp4cXVpTlZVSkNEb1ZINEFZMUFBUXNIbFVKcElEUFFUZkVEakpMYzlBRWl3Y1AyeFlxUUdLcjNMdDQ4K3JkaXpjUUFDSDVCQUFGQUFnQUxBQUFBQUFnQUNBQUFBZi9nQUNDZzRTRmhvZUlpWXFMakkyT2o1Q0hDbWtoQ3BHTFUwZ01NcGVKQlVPYVB3V0NBaXd5SFpBZGxnQUNGMGc1TmdJQUxrY1JUU1dQRXk4RFFnQUZkVWgzdUNCT1ZGQk1FTEtNQlRjb0tDOFVBQzgvQ0M4QVExMU5UQm96ajBET0tBK0NKT0lGRXRwNEZhaU9JQnpQTG9aZVRIZ2U4SkFGTHRHR0hWdDFOSjJNUUV6b3hVZ0lBUUlURmoxb2c0RUptMFVDQm9EN2w4aUdIQ3RXbElCUUZIR2lJaHRaUW1wY1pQQkdRa1VQeEloWThoRGdvUUlVbERuQ3Q4NFFCWDMzZ3J3elJPSUZDaUNSU0lBN0NVSVpEbkE0R3oxdzl1SmZ6eHVvaElDeng0N0FEUktDQ0RnRENtREJEUnlqSW9VRjBPem5vTEV1SnpnajZMSlFBUkpVQ3R2S25VdTNydDI1Z1FBQUlma0VBQVVBQ1FBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2UGtJZ2tDNUdNSEVNek41V0tMQmNPUTRNQ0wyb0trQ0FnZ2dXZEpSOEZBRFJFYldNZmp5UXZBMEtDYVJkRUZ3QUNKVVpjWFEydWpSd29LQzhVQUVCMUZod0FCckpkUzc2T09Na29ENEkwSklKT1kxMVVPYVdPSU1ndk5JWVhaT1Rya0FVdXpJWUtKMXZ3bTRvQ0QwRkN4b21FRUNBd1lSR1FHaHBVSlBtU3o1Q0FBZG9hR3JwanB5S1BLeklTRllDWVRHSWhCR1pDbXJGalFKRUxBamNLS25xd0lRb1RKazRFNkROVW9JUE5SL0k2SUdJeFJHZThJTXBjR0NLUjRFc2JvYlcwcVFRaEUwQTJLUTVRUUhxUVRCMEFXemQwQ3RHVzZ4RUlsTjhBRUVnR1JOQ0NHemdBNGh4MGcrd2d0Zm9USmlUck9yTlFBUkpJNityZHk3ZXZYNzZCQUFBaCtRUUFCUUFLQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam8rUWlDQUNrWXhDVHl3a2xZb0VhVElzZ3dVY1FKRWdCWU0zYVFZeWdoMXZIaVl0ajBJdk4wS0NuVnRUQUFVckpoQnJEbzhjS0NndkZBQkNMUVlUQUdvVndHSmJqempGS0ErQ0NqU0NEbDlyUmtnS2p5REVMOXVGV3h0eE51ZVBCUzdJaGlBc0ovR2JpZ0lMUUVEMmlFSUVCSm9wNGpDSFNoSW1ZbEFrRWpEQVdydERPVktrd0VJUndpbEVCQndxdXVPbVkwY0lpbHdRdUNFd0VRNElTcFJRbVVQZ25xRUNIV0plWlBTdXd5RVFRNGJZaEZRZ2lERVhoaHhvMFRJRzZDTVMxZ1JPRXBRR2loNGRNU0E5S0dZT0FJbGFOb1VZd0tPSENDUVFJelVCeUlpQ0ZJQUZNaXFVZEllcW1GbGVMaFFIVFNoMksyNmhBaVNNMnQzTHQ2L2Z2NXNDQVFBaCtRUUFCUUFMQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam8rUWlBV1JqUlEzQkFxVWlod29LQnlFSUpPUUJhSUFCSjB2Z2dvSlJCZVpqalEzTjBLQ3AxSURBQVV5UnprSEtJOUJxQlFBUWdNb0xnQlNOZ3dORForT09KMG9DNElncjNYTUpsNmxqQ0NjTDhPRmFnZDBEaDJSQlM3aGhTQlBJZWVhaXdJa09EanJpQzRFQkJPTFFBZGpaTHBBd0pYb1ZDY2FpbzR3aWNKUWd3ZEZCbEVnVEpRbmcwV0xEeE5SSUhDRG42SUpIc2lBQVZQaFdUeENCVHAwZU5Vb0hieENBbUxFZU9tb1FMQVh5QW94c0NMSFNFNUhKS1I1QkNGQVVKZ2RXcXl3Z2ZRQUZVSVNMMjZjUTZJRHFRTklJRGlTcU5VSkNBQUZEZHlJOFRocTBJMnVneDRVUFFsZ1FpZGFiQTRMRlNEeE02N2R1M2p6NnFVVUNBQWgrUVFBQlFBTUFDd0FBQUFBSUFBZ0FBQUgvNEFBZ29PRWhZYUhpSW1LaTR5TmpvK1FrWktFQ2tCQUFwT0pRQ2dvRDVtREJRV0RCSndjZ2dVRFV3U1FIVGMzUW9La0tFR0NUek1PRGpTUE9Kd3ZIUUJDQXdNVUFFRXJEa1ZWTG84VG5DZ0xnZ0lnZ2l3V1JVZDFrQ0FjS0MvRWhWSlZlUmNLa1FVdTM0VUNOd1BsbjRrRlFnOFB2NG9VQkFRVGl4TjVOVzFpRFZZbGtvVkNWNklmWkxwMGlSQWhoeUtDQmhFVmFVS1I0aDE3Qkc3b1UvVGdqcGlQT1dpOW82VEFYYU56OWRSdDJaTFNVWUVnM1pZVnlzUGp5b2FJalVnNDJ3Z0NFd0FqVnM3WU1RRHBRUzlkSkY3YytGWEVTbEF2MmpLU2lNVUpDQUFGRXJCd01XVnUwSTJxZ3haTWU5Y01CYXlSaEFxUWtJbTJyZHUzY0FUak5nb0VBQ0g1QkFBRkFBMEFMQUFBQUFBZ0FDQUFBQWYvZ0FDQ2c0U0Zob2VJaVlxTGpJMk9qNUNSa29RS1FEZ0NrNGs0S0NnUG1ZTUZCWU1FbkJ5REpCd1VrQjAzTjBLQ3BDaEJna0FzQmlHUUU1d3ZIUUJDQXdPcUpDRXlkV3lZamcrY0tBdUNBaUNDSE1VenVJOENIQ2d2cW9VNGRSOEowSkFGTHR1R09FSGhuNGdGTkNRa3lJa1VCQVFUaXd0RUJ4NG1TRUNLc1NnMEZIM1lzS2FOUVNUK2xnVk01R0RNbURBT2JTaVNkNk9lSWhKSHZueVpZd09IdWtJS0ZLUmpOSzZYSVFwdkxwaDhWQ0JJTmhlR2pyakJNdWZWSXhMTExJSUlLSUFMRHpRKzZDaDRwQ3hiUUJJdnZyQUJnSVFIanl0WVRqd0NRZUFHQ1Znb1BKQXBvT0JMbWFkZUlva1NkQU1Ga2EwQWFIakFvbVRBSjEwWEZJaUE0bkQxVXdFU0MwWiszTXUzcjkrL2tBSUJBQ0g1QkFBRkFBNEFMQUFBQUFBZ0FDQUFBQWYvZ0FDQ2c0U0Zob2VJaVlxTGpJMk9qNUNSa29RQ0V3c0ZrNGs0S0NnTG1ZT1lnd1NjSElNVUxwRWRCRGRDZ3FNb1FZSVRMeWc0a0JPY0x4MEFRZ01ERkx5Y0xTK1FDNXlkZ2dJZ3NpZ3Rha0NRQlJ3b0w4Q0ZRaTFUS0tHUEJTN1doa0tYbjR1bkhkeUlGQVFFRTR0Q0swVk9OaCt0aWE4b05Jb3hCdzBWRlI1YkZOM0xsK2pDbDRNSFl5aFNkNk9kSWlGRUpOeTU0d0FWT1VJZ01uWnpzY3VRaXhWc09uWUxRczBpSVJzWk5EUXcyWWpFTVlkUFNpbmdna1VGbmdNaUdUM0lsUStJQ2pRQnEvakFnZ0dQbDBjZ1ZwRVE5RUxGampFRlFIZ1lpbUdFZ0dpRFd2allRUWFURUFnK1V2ejQ5T0tLamlLbTJJVDhST0ZJbFp3WENPUEtuVXUzTHFSQUFDSDVCQUFGQUE4QUxBQUFBQUFnQUNBQUFBZi9nQUNDZzRTRmhvZUlpWXFMakkyT2o1Q1Jrb1FGSkNTVGlqZ29LQXVZaUFTYkhJTWRIWkVLSEFSQ2dxQW9RWUlUTHkrWGp3K2JMNlZDQXdNVUFFS2JyWkFMdjUwQUFpQ3Z2NnFQQlJ3b0w3eUZ2aWc0a2dVdTBJWVVOSjZNQ2hUSGl4UUVCQk9MSFZNckh5dFNpNndvMjRrc1ZVVklTRC93bjcvNGgxTU0vZ3cyWENnU2Q2UGN3RGRJYkJCaHg2MlFBQVVDbHJrb1pZaEdEQmtLSWhVSTRreGdvUjlOSWlEWXg0akVyM0lDV3JnQ0lVWURGQ3A1S0RhcTVXeGJEamxZREFCd0lFSkRFaW9ySG9FZ2NPTVNCUlU2NEJncEFFSkN6eVFtQ2tDU0NvQUVqS1JocExyd0lDS0tCVTl0a3Y0WVJNRUFSazhUanZ5UTJiQ3QyN2R3Qk9OR0NnUUFJZmtFQUFVQUVBQXNBQUFBQUNBQUlBQUFCLytBQUlLRGhJV0doNGlKaW91TWpZNlBrSkdTaEFVa0pKT0tFeWdvQzVpSUJKc2NneUFna1FvY0JFS0NvQ2hCZ2c4dkF6U1FENXN2SFFCQ0F6Y1V1WnNvT0pBTHY1MEFBZ0tDbXB1cWp3VWNLQys5aFVLYndaRUZMdEtHRkxPZWl3SWdCWXdVQkFRVDN5OXFDU3pNaWF3bzNZZzNkVU1YRnllTDcvR0hVaGIrRmdZV1VlQnc0NXlpRGdabXZJbHh5VnNoQWVLYXVjQmxpSVlNTmFVZ0ZRZ0N6WVVoTDJQYVZOSFdpTVN2Y3dLZUFBRUE0a3NFTG5HcUtIaFVDOW9zQkR4RTRQdEFKUUtZT0RFZWdTQnc0eElGUEZiS2JDZ0FJbzhTbnpraU9vb29CRVBTTnVKbzNLSFM1WTJuRVZaNGxCalVJYzJVbVpnbTJIQ0ExcUhidDNBRjQ4cVZGQWdBSWZrRUFBVUFFUUFzQUFBQUFDQUFJQUFBQi8rQUFJS0RoSVdHaDRpSmlvdU1qWTZQa0pHU2hBVWtRcE9LRHlnb0M1aUlCSnNjZ3lBRmtRb2NCSmNBb0NoQmdnOHZOeDJRbWlndnMwSUROeFFBUXBzb0Q1QUx2NTBBQWdLQ0U3K3FqZ1VjdHJ5RlFpOG9PSklGTHRHR0hUU2VqQVdsakJRRUJCT0xCVUFEQTBESWlxd28zWWtQVHkxcGFkYnV2L0dJUVRMK01xNFVVZUJ3dzV3aUVDMU9uSkFDd3BzaGNKQ3d6ZHJHNGtuRGlFRlFTQWxoNkFJRUR4OG1Pbkt4NmNnY1l5RlFHRHZRcGdhZER4Y2JhWHFEeFFzQUp6N3dHQUF3SkU2YkVYTVNQQUx4UWd3REFSU1MySUZod2xpVk1EOS9RQkpRREFjV096N2FJS1BneEVpYkdKZ1dxTUNxVlpDQ2pURWpVVkJpeDgwZGg0VVFMdUNoa2dadW9RY2s3T3JkeTVkUUlBQWgrUVFBQlFBU0FDd0FBQUFBSUFBZ0FBQUgvNEFBZ29PRWhZYUhpSW1LaTR5TmpvK1FrWktFQlNRdWs0b1BLQ2drbUlnRW14eURBZ1dSQ2h3RVFvS2dLRUdDRHdNRUlKQ2FLQzhkQUVJRE54UzVteWdMa0F1L3dRQ2tnaE8vcW84RkhMYTloVUl2S0RpU0JTN1FoaDAwbm95bGpSUUVCQk9MQlVDNzFZdXNLTnlKdzcvWm43L3RpTytiOFljVUhEZmtpZ1ZCTHdhazYwYndXaEFCaGtDZ3VJRVFVck1pV0g0WWtzSEF4aFlGa0lRZ01MTURnckUwTDR3NXFYRG5DSnVHaldaWTZRRm5Cb0FpR1pRa0FHQmdEc2s4TFI2bHllQW1qNEFPUzFMZ3VXUE15eHdQRXRoQUl2RkFFQWttS1VSOEtkWEJnb2s3VWpBOWpWcmptNEFicmpDNWFKSWlnd21DaFR4RWZZT1cwSUlTYndnd3RwMUx0NjZnUUFBaCtRUUFCUUFUQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam8rUWtaS0VCVUl1azRvUEtDZ2ttSWdFbXh5REJaSUtIQVJDZ3FBb1FZSVBBeHdDa0pvb0x4MEFRZ00zRkxpYktLbVBDNzRMZ2dLa0FCTyt2SThGSExYTGhFSXZLRGlTQlM3UWhSMDBub3pIakJRRUJCT0xCVUM2eEl1cktOeUp3cHUyNnI3dGlFSys4WW9VSERma2lnVTRCRGdBNjBZUVNBa1pzZ29KQ0lMam02TUpTWHJJS1dFb2hJTVZhUkk2cXJKREI1dzVBQVE4dVNGb2hvMFNIMXBBTXFFalM1a1ZBSWcwR2NNQ2dCb0VOb2g4ZVBDb2hZWVVUZ1IwR0JObGlSTUFCZXJnSkFJRWtwQjBRcFpFb1hLQUZJZ3RQd3lBd0JRMWlwSUszMjU1b2tIRzZ4MkNoZTU0cllPV0VJa1BkUWkydHAxTHQ2NmdRQUFoK1FRQUJRQVVBQ3dBQUFBQUlBQWdBQUFILzRBQWdvT0VoWWFIaUltS2k0eU5qbytRa1pLRUJVSXVrNG9QS0Nna21JZ0VteHlEQlpJS0hBUkNncUFvUVlJTE4wRUNrSm9vTHgwQVFnTTNGTGliS0ttUEM3NExnZ0trQUJPK3ZJOEZITFhMaEVJdktEaVNCUzdRaFIwMG5vekhqQlFFQkJPTEJVQzZuWXVyS055Sndwc0Rzb3JyN1loQ3Z2R0xGQnczNUlvRk9BaHdxTmV0R3c0SEorUVZJbkVwMGdRbFdYaFlNSFJEQm9zZzN4b2RnU09uVEFVQUJWNjBBbkJpeFpZcEl4MTVrR1BHelJBQVhyalVlQUpBaW9VVmJOU0FlUFFFQ3A0aUFoU3M2V0trQk1ncFhsYWMyUGxJQ0RFQUxzSjBpWE9FbElBWENhcGhjaEduUzVnOEdidlJFT1BWUnNGQ1I3d2FPQnZ0Z2dHbWJBYmp5cDBMSUJBQUlma0VBQVVBRlFBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2UGtKR1NoQVZDTHBPS0R5Z29KSmlJQkpzY2d3V1NDaHdFUW9LZ0tFR0NDemRBcEkrYUtDOGRBRUlETnhTNG15aThqd3UrQzRJQ3NoTyt3STRGSExYS2cwSXZLRGlTQlM3UGhCMDBub3l5akJRRUJCT0xCVUM2cVl1cktOdUpKTDQzM29nRGFna3huWWxDNy9HSExXRk5KcmNTRmNCQklBaTdSUjJFN09OR0NBZVJJU0FPdWJnVUtVZ1hNMjRjR0tJVjZ4R0pNR1d1K0pBQW9BQUJhZ0JRaEpDQzRzRWpCeUhkcUZnQjRFSU5DUU1BQkRteGtzQWpDWGJjcE1nalFJR0pOU1pvcHVRcHlwR1VDRkdLM0tKUll3MGRqU1dCQUZFQXljVTRRVFFnckpsRGhDRWhDblBXZkxGZ2xwQUR0V29OMmc2aUlJT0ZBTGw0OCtZTkJBQWgrUVFBQlFBV0FDd0FBQUFBSUFBZ0FBQUgvNEFBZ29PRWhZYUhpSW1LaTR5TmpvK1FrWktFQlVJdWs0b1BLQ2drbUlnRW14eURCWklLSEFSQ2dxQW9RWUlMTjBDa2o1b29MeDBBUWdNM0ZMaWJLTHlQQzc0TGdnS3lFNzdBamdVY3RjcURRaThvT0pJRkxzK0VIVFNlakxLTXVUY1Rpd1ZBdXBlS1FtQktOUkkzaWlTK0JJc2tLVDA5T3gvbzhZd1hUQ2sxMkFvVndFRWdTTUJESFZ4NDQyWm9nb1VZSUE2NU9BY0p5QmdmS3ZJVmdvY2kxaU1oYlh5a0VKRUhBRGxpQUlBTWUrUUV4a2dvZFFCc2tWQ2xGVWNVb2hxQjRKSWlReFFIQlVBd2FPRGtoS0FKMGg0OFlwQkJnNU9JRkNRMHlCTlRFQVdLalNqSU9LSEE2cDBHQ0lZd0pBUWlEOWd0WXdrWk9PQWtaMXFUSEFlb3ZaMUxsMjRnQUNINUJBQUZBQmNBTEFBQUFBQWdBQ0FBQUFmL2dBQ0NnNFNGaG9lSWlZcUxqSTJPajVDUmtvUUZRaTZUaWc4b0tDU1lpQVNiSEo0QUNrRUVRb0tnS0VHQ0pBUkFCWkNhS0M4ZEFFSUROeFMzbXlpN2p3dTlDNElDc1FBVHZiK09CUnkweW9OQ0x5ZzRrZ1V1ejRRZE5KRkNxSTNHakNzWU1HdWRpUVZBdWR1S1FoZzc3MitLSkwwRWl5UVpXVmx3TSt5OW9vdERtb2lZZzYxUUFSd0VnaFE4cE1BRnVGR0dIc3d3QU9JUWhZV0xjTFFSQWVXQ0lSTFNZRDBTQWdFUEV5cFZXbDBDQUVUWW95b21sWEF4QUVETmp5SERoUFFDNGdoRUd5Wk51c3dvSUlCSWtSbFNCRDE0OGNKYkl5ZE5JaENwU01OR2tROHNCblZRQUtuREZEVmNBWFFvVXNTTEdvaUVCSHdvWWdFRldrSTREUzRrV1BkVzBNTzZlUFBXRFFRQUlma0VBQVVBR0FBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2UGtKR1NoQVZDTHBPS0R5Z29KSmlJQkpzY25nQUtRUVJDZ3FBb1FZSWtCRUFGa0pvb0x4MEFRZ00zRkxlYktMdVBDNzBMZ2dLeEFCTzl2NDRGSExUS2cwSXZLRGlTQlM3UGhCMDBrUzZvamNhTVF5SVlJNTJKQlVBREJOaUdRbmhXY0hBWGlpUzlvb3BDVVdabVpXLzQ5b3hpZEVuaWdSMGxIQVNDR0RTa2dBYTRVWVlXWEVnZzRCQ0ZoWW9tekZIQ2hZMGhFdEtBUUhKUmdRcVpPRjRFMFZBZ0NFZ3ZiNDBjTENFVFpvUWFBRkppcE5rbHBOY0VSeURtMEZ3VG80Q0FJVVBVVUFQdzRNVUFqSWFJaEduenBtS0hHVU9tM0NNRkFsS0hFQzJNZ2Jnd0pNRldpSUpZRERreERPMGdCVGNLZnJxZFM3ZXVYVU9CQUFBaCtRUUFCUUFaQUN3QUFBQUFJQUFnQUFBSC80QUFnb09FaFlhSGlJbUtpNHlOam8rUWtaS0VCVUl1azRvUEtDZ2ttSWdFbXh5ZUFBcEJCRUtDb0NoQmdpUUVRQVdRTWkwb0x4MEFRZ00zRkxpYktMeVBPUkMwQzRJQ3NRQVR2c0NPUUZCZlQ4eURRaThvT0pJNERzV0hIVFNQQlM0a1FnS055SW9rWHhvWklodW9pUVZBQXdTM2lWNTJkanc4WlE3bnZxS0pNOXdJRk9oRmtSQmZyQktSb05NRXlwSUdsOTdoZUtWZ1VTVVNFVWNoSXNFbUJEbERGS1E1V25BZ1RvMEVoa2hVQXdLSkJvSTRHK2pVRWFRQWhDQWd2dHcxZW1Oa3d4d0pUd0FFZVRMZzFzRk4yeGdKa0xEaFM0VVRBQXF3b01VU3dBTjVGUjNOY01xR25BQTF0UDRCT0FaSmdaUVh5QXFrb2FxeEVKQW5MdzFFdHFXUXRhM2R1M2p6S2dvRUFDSDVCQUFGQUJvQUxBQUFBQUFnQUNBQUFBZi9nQUNDZzRTRmhvZUlpWXFMakkyT2o1Q1Jrb1FGUWk2VGlnOG9LQ1NZZ3gwRmd3U2JISjRBYVUwL1FvS2pLRUdDSkFSQW9ZOXpQU2tHSFFCQ0F6Y1V1NXNvdjQ4U096MUdENElDdEJQQnc0NDRTVHRsVDRaQ0x5ZzRramcvYkxTRkhUU1BCVFNXQW8zZmlTd2JUVXhKWDUySkJVQURCTHFJSUVaWSt6QXdTSW9rZ3IzQ3R5R0RRWU1PRkFrSkJrUlJpdzFreUl4aEVBOVJBUnl5UUN3Q0lVU0lPRk9KWENSNGttNFFoV2VQU0RpWmM2ZUZJUkxZR2o2aVVJWE9nVHdKQklIUUNBQkhzSStOMkpnNGdPREhEUUF3QitoYXVHbkJJeUlIR0NCeENhQ1Z6QVgxZURaU2s2ZUltbEFGYm13YUNLQkFTVVlUa29uYXBBMGtJVjRFRFJTNExXUjJydDI3ZVBNZUNnUUFJZmtFQUFVQUd3QXNBQUFBQUNBQUlBQUFCLytBQUlLRGhJV0doNGlKaW91TWpZNlBrSkdTaEFWQ0xwT0tEeWdvSkppREZFS0RCSnNjbmdBdFRTbEZncU1vUVlJa0JFQUZrQjVaT2xZR0FFSUROeFM3bXlpL2p3eHdXanNTZ2dLMEFCUEJ3NDQ0VkhCbkY0WkNMeWc0a2hNbFc4eUZIVFNQQlRSQ05PQ0s2WWhwYzJSTEVSNmhpUVZBQXdRZGlTQTFVVkVhR25pSUtDSVI3QlVpQVhTYUtGUTRRNUdRWUVBVVNUSFJwczBJRy9NUUZjQWhDOFFpRUM1Y1FETjFpRWFhRytzRVVSanB5SVdGUEQ5dUdDS1JMZUlqRUcrT1ZQbUFRaEFJandCd0JCdm5DSVdUS2w1aVBBQkFjMEMraDVzNkZhMWk0Y0lBVnB0c0xyZ0h0SkdDRTJ4a0FpaHdZNVBCc1NrWkNTREVZZE1Da29VT0tIRGcwQld1M2J0NDgrcGRGQWdBSWZrRUFBVUFIQUFzQUFBQUFDQUFJQUFBQi8rQUFJS0RoSVdHaDRpSmlvdU1qWTZQa0pHU2hBVkNMcE9LRHlnb0pKaURORUtEQkpzY25nQXRVQmxWZ3FNb1FZSWtCRUFGa0FkbVZtVXlBRUlETnhTN215aS9qMGM4WjFZNWdnSzBBQlBCdzQ0VFpEeDJkWVpDTHlnNGtoTmVNc3lGSFRTUEJSUXVOT0NLNlloU0IySmhjVG5qaVFWQUF3UUtpUUlWWFYwUlMwc3VLQ0lSRElpK08yTVNKaHlpU0VoQlJRTVltRERSd01FOFJBVnd5QUt4U0FBRkdoMU1LZXJ3d3VBaEN0QWVVWWpoaGMwRFF5U3ltWHgwNGtPZEtkc0FnT0FJQU1lelJ5UlcxRG54WkZ6TUFTRWRicnJreUFVYkdXbGVBbWhsY3NHTklBSWcyZXNFb01DTlRhOEVyWnNVWk5NQ2tZVVVCSmt3RnEzYnQzQUY0OHBGRkFnQUlma0VBQVVBSFFBc0FBQUFBQ0FBSUFBQUIvK0FBSUtEaElXR2g0aUppb3VNalk2UGtKR1NoQThYTHBPRUN4T0VYMDFTSkpnQVUwbDRKWUlVS2twU0hLRVZibGR1UkFBVUdXUW9RWUlrQkVBRmowNHdiblpvQmdCT2JUY1VBRUlvek1tT0QyRXdhRHdWZ2hPOUFCUE1LTTZPTjlFK0ZvWkNMeWc0a2c4ZkZ3S0hIVFNRN2hUWWkvT0pMMGR6RUJCTzc0a0ZRQU1JS0Vna0lNK2FObTNFR0dHamlNUTJJUDZRZkprNGtWaWlaY3dnSnVKUUJRRUNKeGU2SFNxQVl4ZUlSUUk2VUJnWVNwRUNIRUlRVVJEcENFU0lCRTh1RlNKUlR1T2pGMU9lb05nRUFNUkpBRGkyMFhRWlF1aUxkendIZEZDMlRXZWpBZ05RdkFBRmdFQkdRUXR1NEtqSFNNRUNxemVZNFJKRWRoSVFaZ3NQV2hvU01PR2EzTHQ0OCtyZGl5a1FBQ0g1QkFBRkFCNEFMQUFBQUFBZ0FDQUFBQWYvZ0FDQ2c0U0Zob2VJaVlxTGpJMk9qNUNSa29RTFJUTUtrNEpDRnlHRWREczZSNWtDQnhnaUZvSVVlRHM5SnBrMFhCa3BLZzRBRkJxc1JJSWtCRUFGand3YUdWZ1lNZ0EyUEZnb0FFSW96aFNQRXhzYUtqQVNnZ1FQZ2hQT0tOQ1BIQ01hSWpPR1FpOG9PSklrS3pFQ2h4MDBrQW9VSGIrTTk0cENGamtTRWlYZkVCVUFNb0FBcGtSREdsVHc0TUZFQWtVa3VnRlJGSU9CUllzczlFbFU1SUtOQXdjZlRuUlFWQUJITHhDTUZDaEFtV21SQUJjakQxRUkrS2dBQnhRdlhCZ2lnVzRpSkc3T0pnZ0N3UkpITjVxTUNEaDdJWS9uZ0pITm5rRUNncE1FTm1jK0Y5eFFCNm1BaTRNQWJqZ0xNaWhmUzZNb3JMWTBKT0NCMnJWd0IrUEtuVXRYYmlBQU93QUFBQUFBQUFBQUFEeGljaUF2UGdvOFlqNVhZWEp1YVc1blBDOWlQam9nSUcxNWMzRnNYM0YxWlhKNUtDa2dXenhoSUdoeVpXWTlKMloxYm1OMGFXOXVMbTE1YzNGc0xYRjFaWEo1Sno1bWRXNWpkR2x2Ymk1dGVYTnhiQzF4ZFdWeWVUd3ZZVDVkT2lCRFlXNG5kQ0JqYjI1dVpXTjBJSFJ2SUd4dlkyRnNJRTE1VTFGTUlITmxjblpsY2lCMGFISnZkV2RvSUhOdlkydGxkQ0FuTDNaaGNpOXlkVzR2YlhsemNXeGtMMjE1YzNGc1pDNXpiMk5ySnlBb01pa2dhVzRnUEdJK0wyaHZiV1V2WVdwaGVHeHZZV1F2ZDNkM0wyeHBZbkpoYVhKcFpYTXZZMnhoYzNNdWJYbHpjV3d1Y0dod1BDOWlQaUJ2YmlCc2FXNWxJRHhpUGpZNFBDOWlQanhpY2lBdlBnbzhZbklnTHo0S1BHSStWMkZ5Ym1sdVp6d3ZZajQ2SUNCdGVYTnhiRjl4ZFdWeWVTZ3BJRnM4WVNCb2NtVm1QU2RtZFc1amRHbHZiaTV0ZVhOeGJDMXhkV1Z5ZVNjK1puVnVZM1JwYjI0dWJYbHpjV3d0Y1hWbGNuazhMMkUrWFRvZ1FTQnNhVzVySUhSdklIUm9aU0J6WlhKMlpYSWdZMjkxYkdRZ2JtOTBJR0psSUdWemRHRmliR2x6YUdWa0lHbHVJRHhpUGk5b2IyMWxMMkZxWVhoc2IyRmtMM2QzZHk5c2FXSnlZV2x5YVdWekwyTnNZWE56TG0xNWMzRnNMbkJvY0R3dllqNGdiMjRnYkdsdVpTQThZajQyT0R3dllqNDhZbklnTHo0S1BHSnlJQzgrQ2p4aVBsZGhjbTVwYm1jOEwySStPaUFnYlhsemNXeGZjWFZsY25rb0tTQmJQR0VnYUhKbFpqMG5ablZ1WTNScGIyNHViWGx6Y1d3dGNYVmxjbmtuUG1aMWJtTjBhVzl1TG0xNWMzRnNMWEYxWlhKNVBDOWhQbDA2SUVOaGJpZDBJR052Ym01bFkzUWdkRzhnYkc5allXd2dUWGxUVVV3Z2MyVnlkbVZ5SUhSb2NtOTFaMmdnYzI5amEyVjBJQ2N2ZG1GeUwzSjFiaTl0ZVhOeGJHUXZiWGx6Y1d4a0xuTnZZMnNuSUNneUtTQnBiaUE4WWo0dmFHOXRaUzloYW1GNGJHOWhaQzkzZDNjdmJHbGljbUZwY21sbGN5OWpiR0Z6Y3k1dGVYTnhiQzV3YUhBOEwySStJRzl1SUd4cGJtVWdQR0krTmpnOEwySStQR0p5SUM4K0NqeGljaUF2UGdvOFlqNVhZWEp1YVc1blBDOWlQam9nSUcxNWMzRnNYM0YxWlhKNUtDa2dXenhoSUdoeVpXWTlKMloxYm1OMGFXOXVMbTE1YzNGc0xYRjFaWEo1Sno1bWRXNWpkR2x2Ymk1dGVYTnhiQzF4ZFdWeWVUd3ZZVDVkT2lCQklHeHBibXNnZEc4Z2RHaGxJSE5sY25abGNpQmpiM1ZzWkNCdWIzUWdZbVVnWlhOMFlXSnNhWE5vWldRZ2FXNGdQR0krTDJodmJXVXZZV3BoZUd4dllXUXZkM2QzTDJ4cFluSmhhWEpwWlhNdlkyeGhjM011YlhsemNXd3VjR2h3UEM5aVBpQnZiaUJzYVc1bElEeGlQalk0UEM5aVBqeGljaUF2UGdvOFluSWdMejRLUEdJK1YyRnlibWx1Wnp3dllqNDZJQ0J0ZVhOeGJGOXhkV1Z5ZVNncElGczhZU0JvY21WbVBTZG1kVzVqZEdsdmJpNXRlWE54YkMxeGRXVnllU2MrWm5WdVkzUnBiMjR1YlhsemNXd3RjWFZsY25rOEwyRStYVG9nUTJGdUozUWdZMjl1Ym1WamRDQjBieUJzYjJOaGJDQk5lVk5SVENCelpYSjJaWElnZEdoeWIzVm5hQ0J6YjJOclpYUWdKeTkyWVhJdmNuVnVMMjE1YzNGc1pDOXRlWE54YkdRdWMyOWpheWNnS0RJcElHbHVJRHhpUGk5b2IyMWxMMkZxWVhoc2IyRmtMM2QzZHk5c2FXSnlZV2x5YVdWekwyTnNZWE56TG0xNWMzRnNMbkJvY0R3dllqNGdiMjRnYkdsdVpTQThZajQyT0R3dllqNDhZbklnTHo0S1BHSnlJQzgrQ2p4aVBsZGhjbTVwYm1jOEwySStPaUFnYlhsemNXeGZjWFZsY25rb0tTQmJQR0VnYUhKbFpqMG5ablZ1WTNScGIyNHViWGx6Y1d3dGNYVmxjbmtuUG1aMWJtTjBhVzl1TG0xNWMzRnNMWEYxWlhKNVBDOWhQbDA2SUVFZ2JHbHVheUIwYnlCMGFHVWdjMlZ5ZG1WeUlHTnZkV3hrSUc1dmRDQmlaU0JsYzNSaFlteHBjMmhsWkNCcGJpQThZajR2YUc5dFpTOWhhbUY0Ykc5aFpDOTNkM2N2YkdsaWNtRnBjbWxsY3k5amJHRnpjeTV0ZVhOeGJDNXdhSEE4TDJJK0lHOXVJR3hwYm1VZ1BHSStOamc4TDJJK1BHSnlJQzgrQ2c9PSc7XHJcblxyXG4gICAgLy8gVmlld3BvcnQgZWxlbWVudHNcclxuICAgIC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovXHJcbiAgICB2YXIgY29udGFpbmVyICA9IG51bGw7XHJcbiAgICB2YXIgbG9hZGVyID0gbnVsbDtcclxuICAgIHZhciByZW5kZXJlciA9IG51bGw7XHJcblxyXG4gICAgLy8gU3RvcmVzIHRoZSBjdXJyZW50IHZlaGljbGUgc3RhdGUgZm9yIHRoZSB2ZWhpY2xlXHJcbiAgICB2YXIgYWN0aXZlID0gZmFsc2U7XHJcbiAgICB2YXIgc3RhdGUgPSB7IH07XHJcblxyXG4gICAgLy8gTWFrZSBzdXJlIG91ciBvcHRpb25zIG9iamVjdCBpcyBpbml0aWFsaXplZFxyXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcblxyXG4gICAgaWYgKG9wdGlvbnMuc3RhdGUpIHtcclxuICAgICAgICBzdGF0ZSA9IG9wdGlvbnMuc3RhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQXR0ZW1wdCB0byBmaW5kIG91ciBjb250YWluZXIgYmFzZWQgb24gdGhlIHNlbGVjdGlvbiBzdHJpbmcgaWYgd2UgY2FuXHJcbiAgICBpZiAodHlwZW9mIGVsZW0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtWzBdID09PSAnLicpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShlbGVtLnN1YnN0cmluZygxKSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtWzBdID09PSAnIycpIHtcclxuICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbS5zdWJzdHJpbmcoMSkpO1xyXG4gICAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW0gPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgLy8gSXMgdGhpcyBhIERPTSBlbGVtZW50XHJcbiAgICAgICAgaWYgKGVsZW0udGFnTmFtZSkge1xyXG4gICAgICAgICAgICBjb250YWluZXIgPSBlbGVtO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBNYWtlIHN1cmUgd2UgY2FuIGZpbmQgb3VyIGVsZW1lbnQgdGhhdCB3ZSBhcmUgdHJ5aW5nIHRvIHVzZSBmb3IgdGhpcyB2aWV3ZXJcclxuICAgIGlmICghY29udGFpbmVyKSBjb25zb2xlLmVycm9yKCdDb3VsZCBub3QgZmluZCBlbGVtZW50IHNwZWNpZmllZCBmb3I6ICcgKyBlbGVtKTtcclxuXHJcbiAgICAvLyBQcmVwYXJlIHRoZSBjb250YWluZXIgc28gaXQgY2FuIHByb3Blcmx5IHdyYXAgdGhlIGNvbnRlbnRzXHJcbiAgICB2YXIgaXNPZmZzZXRQb3NpdGlvbmVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9IGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbjtcclxuICAgICAgICB2YXIgaXNPZmZzZXRQb3NpdGlvblZhbHVlID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSA9PT0gJ2ZpeGVkJyB8fCB2YWx1ZSA9PT0gJ2Fic29sdXRlJyB8fCB2YWx1ZSA9PT0gJ3JlbGF0aXZlJztcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAoaXNPZmZzZXRQb3NpdGlvblZhbHVlKHBvc2l0aW9uKSkgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgIC8qKiBAdHlwZSB7Q1NTU3R5bGVEZWNsYXJhdGlvbn0gKi9cclxuICAgICAgICB2YXIgY2FsY3VsYXRlZFN0eWxlID0gJ2dldENvbXB1dGVkU3R5bGUnIGluIHdpbmRvdyA/IGdldENvbXB1dGVkU3R5bGUoY29udGFpbmVyKSA6IGNvbnRhaW5lci5ydW50aW1lU3R5bGU7XHJcblxyXG4gICAgICAgIGlmICghY2FsY3VsYXRlZFN0eWxlKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIHJldHVybiBpc09mZnNldFBvc2l0aW9uVmFsdWUoY2FsY3VsYXRlZFN0eWxlLnBvc2l0aW9uKTtcclxuICAgIH0oKTtcclxuXHJcbiAgICAvLyBJZiB3ZSdyZSBub3QgcG9zaXRpb25lZCB1c2luZyBvZmZzZXQgcG9zaXRpb25pbmcsIHNldCByZWxhdGl2ZSBwb3NpdGlvbmluZyBvbiB0aGUgY29udGFpbmVyXHJcbiAgICBpZiAoIWlzT2Zmc2V0UG9zaXRpb25lZClcclxuICAgICAgICBjb250YWluZXIuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xyXG5cclxuICAgIC8vIENyZWF0ZSBvdXIgb3RoZXIgcmVxdWlyZWQgZWxlbWVudHNcclxuICAgIGNyZWF0ZUxvYWRlckVsZW1lbnQoKTtcclxuXHJcbiAgICAvLyBGaWd1cmUgb3V0IHdoaWNoIHZlcnNpb24gb2Ygb3VyIHZpZXdlciB3ZSB3YW50IHRvIHVzZVxyXG4gICAgLypcclxuICAgIGlmIChpc0NhbnZhc1N1cHBvcnRlZCgpID09IGZhbHNlKSB7IC8vIFRPRE86IE5FRUQgVE8gUkVNT1ZFIFRIRSBGQUxTRSBSRVFVSVJFTUVOVCAtIFdFIEFSRSBGTElQUElORyBGT1IgREVCVUdcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlbmRlcmVyID0gbmV3IFJpZGVTdHlsZXJJbWFnZVJlbmRlcmVyKGNvbnRhaW5lcik7XHJcbiAgICB9XHJcbiAgICAqL1xyXG5cclxuICAgIC8vIFdlIGFyZSBhbHdheXMgdXNpbmcgdGhlIGltYWdlIHJlbmRlcmVyIHNpbmNlIHRoYXQgaXMgYWxsIHRoYXQgaXMgc3VwcG9ydGVkIGN1cnJlbnRseVxyXG4gICAgcmVuZGVyZXIgPSBuZXcgUmlkZVN0eWxlckltYWdlUmVuZGVyZXIoY29udGFpbmVyKTtcclxuXHJcbiAgICB2YXIgZGVzaXJlZEFzcGVjdEhlaWdodCA9IG51bGw7XHJcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuY29udGFpbmVyQXNwZWN0UmF0aW8gPT09ICdudW1iZXInKSB7XHJcbiAgICAgICAgZGVzaXJlZEFzcGVjdEhlaWdodCA9IG9wdGlvbnMuY29udGFpbmVyQXNwZWN0UmF0aW87XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGxhc3RDbGllbnRXaWR0aCA9IDA7XHJcbiAgICB2YXIgcmVmcmVzaFRpbWVvdXQgPSAwO1xyXG4gICAgdGhpcy5SZXNpemVSZW5kZXJBcmVhID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKGNvbnRhaW5lci5jbGllbnRXaWR0aCAhPSBsYXN0Q2xpZW50V2lkdGgpIHtcclxuICAgICAgICAgICAgbGFzdENsaWVudFdpZHRoID0gY29udGFpbmVyLmNsaWVudFdpZHRoO1xyXG4gICAgICAgICAgICBzdGF0ZVsnd2lkdGgnXSA9IGxhc3RDbGllbnRXaWR0aDtcclxuXHJcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBtYWludGFpbmluZyB0aGUgYXNwZWN0IHJhdGlvIHdlIG5lZWQgdG8gdXBkYXRlIHRoYXRcclxuICAgICAgICAgICAgaWYgKGRlc2lyZWRBc3BlY3RIZWlnaHQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IE1hdGgucm91bmQobGFzdENsaWVudFdpZHRoICogZGVzaXJlZEFzcGVjdEhlaWdodCk7XHJcbiAgICAgICAgICAgICAgICBjb250YWluZXIuc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0IC0gMjAwICsgJ3B4JztcclxuICAgICAgICAgICAgICAgIHN0YXRlWydoZWlnaHQnXSA9IGhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIG91ciByZW5kZXJlciBpcyBhY3RpdmUgYmVmb3JlIGF0dGVtcHQgdG8gcmVkcmF3XHJcbiAgICAgICAgICAgIGlmIChhY3RpdmUpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChyZWZyZXNoVGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICByZWZyZXNoVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBhIHJlZnJlc2ggb24gdGhlIHJlbmRlcmVyXHJcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyZXIuUmVuZGVyKHN0YXRlKTtcclxuICAgICAgICAgICAgICAgIH0sIDE1MCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENoZWNrIHRvIHNlZSBpZiB3ZSBzaG91bGQgYmUgY29udHJvbGxpbmcgdGhlIGNvbnRhaW5lciBhc3BlY3QgcmF0aW9cclxuICAgIGlmIChvcHRpb25zLnJlc3BvbnNpdmUgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgc2V0SW50ZXJ2YWwodGhpcy5SZXNpemVSZW5kZXJBcmVhLCAxMDApO1xyXG4gICAgICAgIHRoaXMuUmVzaXplUmVuZGVyQXJlYSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuVXBkYXRlID0gZnVuY3Rpb24oaW5zdHJ1Y3Rpb25zKSB7XHJcbiAgICAgICAgLy8gTGV0IG91ciBzeXN0ZW0ga25vdyB0aGF0IHdlIGFyZSByZWFkeSB0byByb2NrXHJcbiAgICAgICAgYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgIFxyXG4gICAgICAgIC8vIE1ha2Ugc3VyZSBvdXIgaW5zdHJ1Y3Rpb25zIGFyZSBpbiBhbiBvYmplY3QgZm9ybWF0XHJcbiAgICAgICAgaW5zdHJ1Y3Rpb25zID0gcHJlcGFyZUFyZ3VtZW50cyhpbnN0cnVjdGlvbnMpO1xyXG5cclxuICAgICAgICAvLyBJbmplY3Qgb3VyIHZhcmlhYmxlcyBiYXNlZCBvbiBnbG9iYWwgcGFyYW1zXHJcbiAgICAgICAgaW5zdHJ1Y3Rpb25zWyd3aWR0aCddID0gY29udGFpbmVyLmNsaWVudFdpZHRoO1xyXG4gICAgICAgIGluc3RydWN0aW9uc1snaGVpZ2h0J10gPSBjb250YWluZXIuY2xpZW50SGVpZ2h0O1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgb3VyIGludGVybmFsIHN0YXRlIGFuZCB3YXRjaCBmb3IgY2hhbmdlc1xyXG4gICAgICAgIHZhciBoYXNDaGFuZ2VzID0gZmFsc2U7XHJcbiAgICAgICAgZm9yKHZhciB4IGluIGluc3RydWN0aW9ucykge1xyXG4gICAgICAgICAgICB2YXIgdjEgPSBzdGF0ZVt4XTtcclxuICAgICAgICAgICAgdmFyIHYyID0gaW5zdHJ1Y3Rpb25zW3hdO1xyXG4gICAgICAgICAgICBpZiAodjEgIT0gdjIpIHtcclxuICAgICAgICAgICAgICAgIHN0YXRlW3hdID0gdjI7XHJcbiAgICAgICAgICAgICAgICBoYXNDaGFuZ2VzID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiB3ZSBkaWRuJ3QgbWFrZSBhbnkgY2hhbmdlcyB0byBvdXIgaW50ZXJuYWwgc3RhdGUgd2UgZG9uJ3QgbmVlZCB0byBwZXJmb3JtIGFuIHVwZGF0ZVxyXG4gICAgICAgIGlmIChoYXNDaGFuZ2VzID09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gcmlkZXN0eWxlci5wcm9taXNlKCk7XHJcblxyXG4gICAgICAgICAgICBwcm9taXNlLnJlc29sdmUoKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVuZGVyZXIuUmVuZGVyKHN0YXRlKTtcclxuICAgIH07XHJcblxyXG5cclxuICAgIHRoaXMuUmVzZXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBzdGF0ZSA9IHt9O1xyXG4gICAgICAgIGlmICh0eXBlb2YgcmVuZGVyZXIuUmVzZXQgPT09ICdmdW5jdGlvbicpIHJlbmRlcmVyLlJlc2V0KCk7XHJcbiAgICB9O1xyXG5cclxuXHJcbiAgICBmdW5jdGlvbiBwcmVwYXJlQXJndW1lbnRzKGFyZ3MpIHtcclxuICAgICAgICB2YXIgdmFsdWVzID0ge307XHJcblxyXG4gICAgICAgIGlmICh0eXBlb2YgYXJncyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgdmFyIHRva2VucyA9IGFyZ3Muc3BsaXQoJz8nKTtcclxuICAgICAgICAgICAgdG9rZW5zID0gKHRva2Vucy5sZW5ndGggPT0gMSA/IHRva2Vuc1swXSA6IHRva2Vuc1sxXSkuc3BsaXQoJyYnKTtcclxuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRva2Vucy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGt2ID0gdG9rZW5zW2ldLnNwbGl0KCc9Jyk7XHJcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gZGVjb2RlVVJJQ29tcG9uZW50KGt2WzBdKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIC8vIFNraXAgb3ZlciB2YXJpYWJsZXMgdGhhdCBhcmUgbm90IHVzZWQgZm9yIHJlbmRlcmluZ1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleSA9PSAna2V5JyB8fCBrZXkgPT0gJ3Rva2VuJykgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFsdWVzW2tleV0gPSBkZWNvZGVVUklDb21wb25lbnQoa3ZbMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIGFsbCBrZXlzIGFyZSBpbiBsb3dlciBjYXNlXHJcbiAgICAgICAgICAgIGZvcih2YXIgayBpbiBhcmdzKSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZXNbay50b0xvd2VyQ2FzZSgpXSA9IGFyZ3Nba107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB2YWx1ZXM7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNDYW52YXNTdXBwb3J0ZWQoKSB7XHJcbiAgICAgICAgdmFyIGVsZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICByZXR1cm4gISEoZWxlbS5nZXRDb250ZXh0ICYmIGVsZW0uZ2V0Q29udGV4dCgnMmQnKSk7XHJcbiAgICB9IFxyXG5cclxuICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJJbWFnZVJlbmRlcmVyKGNvbnRhaW5lcikge1xyXG4gICAgICAgIHZhciBhY3RpdmVJbWFnZSA9IG51bGw7XHJcbiAgICAgICAgdmFyIHJldGlyZWRJbWFnZXMgPSBbXTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQHJldHVybiB7UmlkZVN0eWxlclByb21pc2V9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5SZW5kZXIgPSBmdW5jdGlvbihpbnN0cnVjdGlvbnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZU5ld0xheWVyKGluc3RydWN0aW9ucyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgdGhpcy5SZXNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGFjdGl2ZUltYWdlICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChhY3RpdmVJbWFnZSk7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVJbWFnZSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcmV0dXJuIHtSaWRlU3R5bGVyUHJvbWlzZX1cclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVOZXdMYXllcihpbnN0cnVjdGlvbnMpIHtcclxuICAgICAgICAgICAgdmFyIHByb21pc2UgPSByaWRlc3R5bGVyLnByb21pc2UoKTtcclxuICAgICAgICAgICAgLy8gU2hvdyBvdXIgbG9hZGVyIHNpbmNlIHdlIGFyZSBjcmVhdGluZyBhIG5ldyBsYXllclxyXG4gICAgICAgICAgICBzaG93TG9hZGVyRWxlbWVudCgpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIFJldGlyZSBvdXIgYWN0aXZlIGltYWdlIGlmIGl0IGlzIGF2YWlsYWJsZVxyXG4gICAgICAgICAgICBpZiAoYWN0aXZlSW1hZ2UgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgLy8gaGlkZU9sZFZlaGljbGUoKTtcclxuICAgICAgICAgICAgICAgIHJldGlyZWRJbWFnZXMucHVzaChhY3RpdmVJbWFnZSk7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVJbWFnZSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIEZpbmQgYWxsIG9mIG91ciBvbGQgaW1hZ2VzIGFuZCBmYWRlIHRoZW0gdG8gaGFsZiB0cmFuc3BhcmVudCAoaWYgdGhleSBhcmUgdmlzaWJsZSlcclxuICAgICAgICAgICAgZm9yKHZhciBpID0gcmV0aXJlZEltYWdlcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG9pbWcgPSByZXRpcmVkSW1hZ2VzW2ldO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFBhcnRpYWxseSBmYWRlIG91dCBvdXIgcmV0aXJlZCBpbWFnZXNcclxuICAgICAgICAgICAgICAgIGlmIChvaW1nLnN0eWxlLm9wYWNpdHkgPiAwLjUpIG9pbWcuc3R5bGUub3BhY2l0eSA9IDAuNTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdmFyIGltYWdlVXJsID0gcmlkZXN0eWxlci5hamF4LnVybCgnVmVoaWNsZS9SZW5kZXInLCBpbnN0cnVjdGlvbnMpO1xyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhIG5ldyBpbWFnZSBlbGVtZW50IGZvciB0aGUgY3VycmVudCByZW5kZXIgcmVzdWx0XHJcbiAgICAgICAgICAgIHZhciBpbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcclxuICAgICAgICAgICAgaW1nLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcclxuICAgICAgICAgICAgaW1nLnN0eWxlLmxlZnQgPSAwO1xyXG4gICAgICAgICAgICBpbWcuc3R5bGUudG9wID0gMDtcclxuICAgICAgICAgICAgaW1nLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgICAgICBpbWcuc3R5bGUudHJhbnNpdGlvbiA9ICdvcGFjaXR5IGxpbmVhciAzMDBtcyc7XHJcblxyXG4gICAgICAgICAgICAvLyBBZGQgb3VyIG5ldyBpbWFnZSBsYXllciB0byB0aGUgRE9NXHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChhY3RpdmVJbWFnZSA9IGltZyk7XHJcblxyXG4gICAgICAgICAgICAvLyBMaXN0ZW4gZm9yIG91ciBuZXcgbGF5ZXIgdG8gYmVjb21lIHJlYWR5IGFuZCBkaXNwbGF5IGl0IHRvIHRoZSB1c2VyLiBBbHNvLCBjbGVhbnVwIGFueSBsZWdhY3kgbGF5ZXJzLlxyXG4gICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBPbmx5IGZhZGUgaW4gdGhpcyBJTUcgaWYgaXQgaGFzbid0IGFscmVhZHkgYmVlbiByZXBsYWNlZC5cclxuICAgICAgICAgICAgICAgIGlmIChpbWcgPT0gYWN0aXZlSW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGVyRWxlbWVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGltZy5zdHlsZS5vcGFjaXR5ID0gMTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbW92ZWRJbWFnZXMgPSByZXRpcmVkSW1hZ2VzLnNwbGljZSgwLCByZXRpcmVkSW1hZ2VzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmFkZSBhbGwgb2Ygb3VyIG9sZCBpbWFnZXMgb3V0IG9mIHZpZXdcclxuICAgICAgICAgICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgcmVtb3ZlZEltYWdlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVkSW1hZ2VzW2ldLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBlbGVtZW50cyBhZnRlciB0aGV5IGhhdmUgaGFkIGEgY2hhbmNlIHRvIGZhZGUgb3V0XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHJlbW92ZWRJbWFnZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChyZW1vdmVkSW1hZ2VzW2ldKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9LCAzMDApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgaW1nLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBwcm9taXNlLnJlamVjdCgpO1xyXG4gICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgLy8gU3RhcnQgbG9hZGluZyBvdXIgaW1hZ2VcclxuICAgICAgICAgICAgaW1nLnNyYyA9IGltYWdlVXJsO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNyZWF0ZUxvYWRlckVsZW1lbnQoKSB7XHJcbiAgICAgICAgbG9hZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XHJcblxyXG4gICAgICAgIC8vIFNldCBvdXIgaW1hZ2VcclxuICAgICAgICBsb2FkZXIuc3JjID0gbG9hZGVyRGF0YTtcclxuXHJcbiAgICAgICAgLy8gU2V0dXAgc3R5bGUgb2YgdGhlIGVsZW1lbnRcclxuICAgICAgICBsb2FkZXIuc3R5bGUucGFkZGluZyA9ICc1cHgnO1xyXG4gICAgICAgIGxvYWRlci5zdHlsZS5ib3JkZXJSYWRpdXMgPSAnMjFweCc7XHJcbiAgICAgICAgbG9hZGVyLnN0eWxlLmJhY2tncm91bmQgPSAnI2ZmZic7XHJcbiAgICAgICAgbG9hZGVyLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgICAgIGxvYWRlci5zdHlsZS50cmFuc2l0aW9uID0gJ29wYWNpdHkgbGluZWFyIDMwMG1zJztcclxuXHJcbiAgICAgICAgLy8gUG9zaXRpb24gaW4gb3VyIGNvbnRhaW5lclxyXG4gICAgICAgIGxvYWRlci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XHJcbiAgICAgICAgbG9hZGVyLnN0eWxlLmxlZnQgPSAnNTAlJztcclxuICAgICAgICBsb2FkZXIuc3R5bGUudG9wID0gJzUwJSc7XHJcbiAgICAgICAgbG9hZGVyLnN0eWxlLnpJbmRleCA9ICc1MCc7XHJcblxyXG4gICAgICAgIC8vIE9mZnNldCBmb3Igc2l6ZVxyXG4gICAgICAgIGxvYWRlci5zdHlsZS5tYXJnaW5MZWZ0ID0gJy0yMXB4JztcclxuICAgICAgICBsb2FkZXIuc3R5bGUubWFyZ2luVG9wID0gJy0yMXB4JztcclxuXHJcbiAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGxvYWRlcik7XHJcbiAgICAgICAgc2hvd0xvYWRlckVsZW1lbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzaG93TG9hZGVyRWxlbWVudCgpIHtcclxuICAgICAgICBsb2FkZXIuc3R5bGUub3BhY2l0eSA9IDAuNzU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaGlkZUxvYWRlckVsZW1lbnQoKSB7XHJcbiAgICAgICAgbG9hZGVyLnN0eWxlLm9wYWNpdHkgPSAwO1xyXG4gICAgfVxyXG59XHJcblxyXG4iLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgZXZlbnRzO1xuICAgIChmdW5jdGlvbiAoZXZlbnRzKSB7XG4gICAgICAgIDtcblxuICAgICAgICB2YXIgRXZlbnRIYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gRXZlbnRIYW5kbGVyKCkge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBFdmVudEhhbmRsZXIpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIExpc3RlbiBmb3IgYW4gZXZlbnRcbiAgICAgICAgICAgICAqIEBwYXJhbSBldmVudE5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50IHRvIGxpc3RlbiBmb3JcbiAgICAgICAgICAgICAqIEBwYXJhbSBjYWxsYmFjayAgVGhlIGNhbGxiYWNrIHRvIHJ1biB3aGVuIHRoZSBldmVudCBpcyB0cmlnZ2VyZWRcbiAgICAgICAgICAgICAqL1xuXG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhFdmVudEhhbmRsZXIsIFt7XG4gICAgICAgICAgICAgICAga2V5OiAnb24nLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudE5hbWUgaW4gdGhpcy5ldmVudEhhbmRsZXJzID09PSBmYWxzZSkgdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0ucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFN0b3AgbGlzdGVuaW5nIGZvciBhbiBldmVudFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBldmVudE5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50IHRvIHN0b3AgbGlzdGVuaW5nIHRvXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0aGF0IHdhcyBvcmlnaW5hbGx5IHJlZ2lzdGVyZWRcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ29mZicsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9mZihldmVudE5hbWUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudE5hbWUgaW4gdGhpcy5ldmVudEhhbmRsZXJzID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnNbZXZlbnROYW1lXSA9IFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlci5yZW1vdmUodGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0sIGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogVHJpZ2dlciBhbiBldmVudFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBldmVudE5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50IHRvIHRyaWdnZXJcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gZXYgICAgICAgIFRoZSBkYXRhIHRvIHNlbmQgdG8gdGhlIGV2ZW50IGhhbmRsZXJzXG4gICAgICAgICAgICAgICAgICogQHJldHVybnMgICAgICAgICBmYWxzZSwgaWYgdGhlIGV2ZW50IGhhcyBiZWVuIGNhbmNlbGxlZCBieSBhIGhhbmRsZXIsIG90aGVyd2lzZSB0cnVlXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICd0cmlnZ2VyJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdHJpZ2dlcihldmVudE5hbWUsIGV2KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5kZWJ1Z0NhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB0aGlzLmRlYnVnQ2FsbGJhY2soZXZlbnROYW1lLCBldiwgdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50TmFtZV0gfHwgW10pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnROYW1lIGluIHRoaXMuZXZlbnRIYW5kbGVycyA9PT0gZmFsc2UpIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudE5hbWVdW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBldmVudEhhbmRsZXIgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChldmVudEhhbmRsZXIoZXYpID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gRXZlbnRIYW5kbGVyO1xuICAgICAgICB9KCk7XG5cbiAgICAgICAgZXZlbnRzLkV2ZW50SGFuZGxlciA9IEV2ZW50SGFuZGxlcjtcbiAgICB9KShldmVudHMgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuZXZlbnRzIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuZXZlbnRzID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBmaWx0ZXJzO1xuICAgIChmdW5jdGlvbiAoZmlsdGVyc18xKSB7XG4gICAgICAgIHZhciBGaWx0ZXJDb250cm9sbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gRmlsdGVyQ29udHJvbGxlcigpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmlsdGVyQ29udHJvbGxlcik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbEZpbHRlcnMgPSBuZXcgR2xvYmFsRmlsdGVyUHJvdmlkZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRpcmVGaWx0ZXJzID0gbmV3IFRpcmVGaWx0ZXJQcm92aWRlcih0aGlzLmdsb2JhbEZpbHRlcnMpO1xuICAgICAgICAgICAgICAgIHRoaXMud2hlZWxGaWx0ZXJzID0gbmV3IFdoZWVsRmlsdGVyUHJvdmlkZXIodGhpcy5nbG9iYWxGaWx0ZXJzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKEZpbHRlckNvbnRyb2xsZXIsIFt7XG4gICAgICAgICAgICAgICAga2V5OiAnc2V0VmVoaWNsZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFZlaGljbGUodmVoaWNsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsZWFyRmlsdGVycyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRmlsdGVycy5zZXRWZWhpY2xlKHZlaGljbGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdjbGVhckZpbHRlcnMnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhckZpbHRlcnModHJpZ2dlckNoYW5nZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbEZpbHRlcnMuY2xlYXIodHJpZ2dlckNoYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGlyZUZpbHRlcnMuY2xlYXIodHJpZ2dlckNoYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMud2hlZWxGaWx0ZXJzLmNsZWFyKHRyaWdnZXJDaGFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgcmV0dXJuIEZpbHRlckNvbnRyb2xsZXI7XG4gICAgICAgIH0oKTtcblxuICAgICAgICBmaWx0ZXJzXzEuRmlsdGVyQ29udHJvbGxlciA9IEZpbHRlckNvbnRyb2xsZXI7XG5cbiAgICAgICAgdmFyIEZpbHRlclByb3ZpZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gRmlsdGVyUHJvdmlkZXIodHlwZSwgZ2xvYmFsRmlsdGVyUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRmlsdGVyUHJvdmlkZXIpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRGaWx0ZXJzID0ge307XG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxGaWx0ZXJQcm92aWRlciA9IGdsb2JhbEZpbHRlclByb3ZpZGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUcmlnZ2VyIHRoZSBmaWx0ZXIgY2hhbmdlZCBjYWxsYmFja1xuICAgICAgICAgICAgICovXG5cblxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKEZpbHRlclByb3ZpZGVyLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ3RyaWdnZXJGaWx0ZXJDaGFuZ2UnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0cmlnZ2VyRmlsdGVyQ2hhbmdlKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub25GaWx0ZXJzQ2hhbmdlZCA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5vbkZpbHRlcnNDaGFuZ2VkKHRoaXMuZ2V0RmlsdGVycygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmV0dXJucyBhIGZpbHRlciBtb2RlbCB3aXRoIHRoZSBzcGVjaWZpZWQgZmlsdGVyIHZhbHVlcyBzZXQsXG4gICAgICAgICAgICAgICAgICogd2l0aG91dCBhY3R1YWxseSBzZXR0aW5nIHRoZW1cbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ3ByZXZpZXdGaWx0ZXJzJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcHJldmlld0ZpbHRlcnMoZmlsdGVyVmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnbG9iYWxGaWx0ZXJzID0gdGhpcy5nbG9iYWxGaWx0ZXJQcm92aWRlciA/IHRoaXMuZ2xvYmFsRmlsdGVyUHJvdmlkZXIuZ2V0RmlsdGVycygpIDoge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJzID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBiYXNlRmlsdGVycyA9IHRoaXMuYmFzZUZpbHRlcnM7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gZmlsdGVyVmFsdWVzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJWYWx1ZSA9IF9zdGVwLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBmaWx0ZXJWYWx1ZS5rZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZmlsdGVyVmFsdWUudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEZpbHRlcihrZXksIHZhbHVlLCBmaWx0ZXJzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbih7fSwgdGhpcy5iYXNlRmlsdGVycywgZ2xvYmFsRmlsdGVycywgZmlsdGVycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnRseSBhcHBsaWVkIGZpbHRlcnNcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ2dldEZpbHRlcnMnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGaWx0ZXJzKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZ2xvYmFsRmlsdGVycyA9IHRoaXMuZ2xvYmFsRmlsdGVyUHJvdmlkZXIgPyB0aGlzLmdsb2JhbEZpbHRlclByb3ZpZGVyLmdldEZpbHRlcnMoKSA6IHt9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24oe30sIHRoaXMuYmFzZUZpbHRlcnMsIGdsb2JhbEZpbHRlcnMsIHRoaXMuY3VycmVudEZpbHRlcnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZXRyaWV2ZSB0aGUgb3B0aW9ucyBmb3IgYSBmaWx0ZXJcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gZmlsdGVyIFRoZSBmaWx0ZXJcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ3JldHJpZXZlT3B0aW9ucycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJldHJpZXZlT3B0aW9ucyhmaWx0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlci5yZXRyaWV2ZU9wdGlvbnModGhpcy5nbG9iYWxGaWx0ZXJQcm92aWRlci5nZXRGaWx0ZXJzKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBTZXQgYSBmaWx0ZXIgb3B0aW9uLCBvbiBhIHNwZWNpZmljIGZpbHRlciBtb2RlbFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBrZXkgVGhlIGZpbHRlciBrZXkgdG8gYXBwbHlcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIHRvIGFwcGx5IHRvIHRoZSBmaWx0ZXJcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gZmlsdGVycyBUaGUgZmlsdGVycyB0byBhcHBseSB0aGVtIHRvXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdzZXRGaWx0ZXInLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGaWx0ZXIoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVycyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogdGhpcy5jdXJyZW50RmlsdGVycztcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVyT3B0aW9uID0gdGhpcy5maW5kRmlsdGVyT3B0aW9uKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJPcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlck9wdGlvbi5hcHBseShmaWx0ZXJzLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmV0dXJucyB0aGUgZmlsdGVyIG9wdGlvbiBmb3IgdGhlIHNwZWNpZmllZCBrZXlcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0ga2V5IFRoZSBmaWx0ZXIga2V5XG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdmaW5kRmlsdGVyT3B0aW9uJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmluZEZpbHRlck9wdGlvbihrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gdGhpcy5maWx0ZXJPcHRpb25zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlciA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIua2V5ID09PSBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnc2V0RmlsdGVycycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZpbHRlcnMoc2VsZWN0ZWRGaWx0ZXJzT3JLZXksIHZhbHVlLCB0cmlnZ2VyQ2hhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdGaWx0ZXJzID0ge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZEZpbHRlcnMgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2VsZWN0ZWRGaWx0ZXJzT3JLZXkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZEZpbHRlcnMgPSBbe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogc2VsZWN0ZWRGaWx0ZXJzT3JLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9XTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkRmlsdGVycyA9IHNlbGVjdGVkRmlsdGVyc09yS2V5O1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB0cmlnZ2VyQ2hhbmdlID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gc2VsZWN0ZWRGaWx0ZXJzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkRmlsdGVyID0gX3N0ZXAzLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBzZWxlY3RlZEZpbHRlci5rZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF92YWx1ZSA9IHNlbGVjdGVkRmlsdGVyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRGaWx0ZXIoa2V5LCBfdmFsdWUsIG5ld0ZpbHRlcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IzO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBoYXNDaGFuZ2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBuZXdGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3RmlsdGVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0ZpbHRlclZhbHVlID0gbmV3RmlsdGVyc1trZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50RmlsdGVyVmFsdWUgPSB0aGlzLmN1cnJlbnRGaWx0ZXJzW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0ZpbHRlclZhbHVlICE9PSBjdXJyZW50RmlsdGVyVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RmlsdGVyc1trZXldID0gbmV3RmlsdGVyVmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NoYW5nZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRyaWdnZXJDaGFuZ2UgPT09ICd1bmRlZmluZWQnKSB0cmlnZ2VyQ2hhbmdlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0NoYW5nZWQgJiYgdHJpZ2dlckNoYW5nZSkgdGhpcy50cmlnZ2VyRmlsdGVyQ2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBoYXNDaGFuZ2VkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdjbGVhcicsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdHJpZ2dlckNoYW5nZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRGaWx0ZXJzID0ge307XG4gICAgICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyQ2hhbmdlKSB0aGlzLnRyaWdnZXJGaWx0ZXJDaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBGaWx0ZXJQcm92aWRlcjtcbiAgICAgICAgfSgpO1xuXG4gICAgICAgIGZpbHRlcnNfMS5GaWx0ZXJQcm92aWRlciA9IEZpbHRlclByb3ZpZGVyO1xuICAgICAgICB2YXIgdmVoaWNsZUNvbmZpZ0ZpbHRlcktleSA9ICd2ZWhpY2xlLWNvbmZpZyc7XG5cbiAgICAgICAgdmFyIEdsb2JhbEZpbHRlclByb3ZpZGVyID0gZnVuY3Rpb24gKF9GaWx0ZXJQcm92aWRlcikge1xuICAgICAgICAgICAgX2luaGVyaXRzKEdsb2JhbEZpbHRlclByb3ZpZGVyLCBfRmlsdGVyUHJvdmlkZXIpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBHbG9iYWxGaWx0ZXJQcm92aWRlcigpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgR2xvYmFsRmlsdGVyUHJvdmlkZXIpO1xuXG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEdsb2JhbEZpbHRlclByb3ZpZGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoR2xvYmFsRmlsdGVyUHJvdmlkZXIpKS5jYWxsKHRoaXMsICdnbG9iYWwnLCB1bmRlZmluZWQpKTtcblxuICAgICAgICAgICAgICAgIF90aGlzLmJhc2VGaWx0ZXJzID0ge1xuICAgICAgICAgICAgICAgICAgICBIYXNGaXRtZW50czogdHJ1ZVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgX3RoaXMuY3VycmVudEZpbHRlcnMgPSB7fTtcbiAgICAgICAgICAgICAgICBfdGhpcy5maWx0ZXJPcHRpb25zID0gW1xuICAgICAgICAgICAgICAgIC8vIFZlaGljbGVDb25maWd1cmF0aW9uICYgVmVoaWNsZVRpcmVPcHRpb25cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtleTogdmVoaWNsZUNvbmZpZ0ZpbHRlcktleSxcbiAgICAgICAgICAgICAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGFwcGx5OiBmdW5jdGlvbiBhcHBseShmaWx0ZXJzLCB2ZWhpY2xlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdmVoaWNsZUNvbmZpZ3VyYXRpb25JRCA9IHZlaGljbGUudmVoaWNsZUNvbmZpZ3VyYXRpb25JRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWhpY2xlVGlyZU9wdGlvbklEID0gdmVoaWNsZS52ZWhpY2xlVGlyZU9wdGlvbklEO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmVoaWNsZUNvbmZpZ3VyYXRpb25JRCkgZmlsdGVycy5WZWhpY2xlQ29uZmlndXJhdGlvbiA9IHZlaGljbGVDb25maWd1cmF0aW9uSUQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodmVoaWNsZVRpcmVPcHRpb25JRCkgZmlsdGVycy5WZWhpY2xlVGlyZU9wdGlvbiA9IHZlaGljbGVUaXJlT3B0aW9uSUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFwcGxpZXMgYSB2ZWhpY2xlIHNlbGVjdGlvbiB0byBhbGxcbiAgICAgICAgICAgICAqIEBwYXJhbSB2ZWhpY2xlIFRoZSB2ZWhpY2xlIHRvIGFwcGx5IHRvIGZpbHRlciBxdWVyaWVzXG4gICAgICAgICAgICAgKi9cblxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoR2xvYmFsRmlsdGVyUHJvdmlkZXIsIFt7XG4gICAgICAgICAgICAgICAga2V5OiAnc2V0VmVoaWNsZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFZlaGljbGUodmVoaWNsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldEZpbHRlcih2ZWhpY2xlQ29uZmlnRmlsdGVyS2V5LCB2ZWhpY2xlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnZ2V0Q291bnQnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb3VudCgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UnbGwgbmV2ZXIgY2FsbCBnZXRDb3VudCBvbiB0aGUgR2xvYmFsRmlsdGVyTW9kZWxcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgJ0Nhbm5vdCBjb3VudCBHbG9iYWxGaWx0ZXJNb2RlbCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gR2xvYmFsRmlsdGVyUHJvdmlkZXI7XG4gICAgICAgIH0oRmlsdGVyUHJvdmlkZXIpO1xuXG4gICAgICAgIGZpbHRlcnNfMS5HbG9iYWxGaWx0ZXJQcm92aWRlciA9IEdsb2JhbEZpbHRlclByb3ZpZGVyO1xuXG4gICAgICAgIHZhciBUaXJlRmlsdGVyUHJvdmlkZXIgPSBmdW5jdGlvbiAoX0ZpbHRlclByb3ZpZGVyMikge1xuICAgICAgICAgICAgX2luaGVyaXRzKFRpcmVGaWx0ZXJQcm92aWRlciwgX0ZpbHRlclByb3ZpZGVyMik7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIFRpcmVGaWx0ZXJQcm92aWRlcihnbG9iYWxGaWx0ZXJQcm92aWRlcikge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUaXJlRmlsdGVyUHJvdmlkZXIpO1xuXG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUaXJlRmlsdGVyUHJvdmlkZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUaXJlRmlsdGVyUHJvdmlkZXIpKS5jYWxsKHRoaXMsICd0aXJlJywgZ2xvYmFsRmlsdGVyUHJvdmlkZXIpKTtcblxuICAgICAgICAgICAgICAgIF90aGlzMi5iYXNlRmlsdGVycyA9IHtcbiAgICAgICAgICAgICAgICAgICAgUmVxdWlyZWRGaXRtZW50UmVzb3VyY2VUeXBlczogWzIgLyogQ2F0YWxvZyAqL1xuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfdGhpczIuZmlsdGVyT3B0aW9ucyA9IFtcbiAgICAgICAgICAgICAgICAvLyBCcmFuZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnYnJhbmRzJyksXG4gICAgICAgICAgICAgICAgICAgIHVuc2VsZWN0ZWRPcHRpb25MYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdhbGwtYnJhbmRzJyksXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3RpcmUtYnJhbmQnLFxuICAgICAgICAgICAgICAgICAgICByZXRyaWV2ZU9wdGlvbnM6IGZ1bmN0aW9uIHJldHJpZXZlT3B0aW9ucyhnbG9iYWxGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXF1ZXN0IEJyYW5kc1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KCd0aXJlL2dldGJyYW5kcycsIGdsb2JhbEZpbHRlcnMpLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXAgYnJhbmRzIHRvIElGaWx0ZXJPcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlci5tYXAocmVzcG9uc2UuQnJhbmRzLCBmdW5jdGlvbiAoYnJhbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBicmFuZC5UaXJlQnJhbmROYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGJyYW5kLlRpcmVCcmFuZElEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0VmFsdWVGcm9tRmlsdGVyczogZnVuY3Rpb24gZ2V0VmFsdWVGcm9tRmlsdGVycyhmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVycy5UaXJlQnJhbmQ7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFwcGx5OiBmdW5jdGlvbiBhcHBseShmaWx0ZXJzLCB0aXJlQnJhbmRJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVycy5UaXJlQnJhbmQgPSB0aXJlQnJhbmRJRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgLy8gQXR0cmlidXRlc1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnZmVhdHVyZXMnKSxcbiAgICAgICAgICAgICAgICAgICAgdW5zZWxlY3RlZE9wdGlvbkxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2FueS1mZWF0dXJlcycpLFxuICAgICAgICAgICAgICAgICAgICBrZXk6ICd0aXJlLW1vZGVsLWF0dHJpYnV0ZScsXG4gICAgICAgICAgICAgICAgICAgIHJldHJpZXZlT3B0aW9uczogZnVuY3Rpb24gcmV0cmlldmVPcHRpb25zKGdsb2JhbEZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlcXVlc3QgU3BlZWQgUmF0aW5nc1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KCd0aXJlL2dldG1vZGVsYXR0cmlidXRlcycsIGdsb2JhbEZpbHRlcnMpLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXAgYnJhbmRzIHRvIElGaWx0ZXJPcHRpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlci5tYXAocmVzcG9uc2UuQXR0cmlidXRlcywgZnVuY3Rpb24gKGF0dHJpYnV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGF0dHJpYnV0ZS5UaXJlTW9kZWxBdHRyaWJ1dGVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGF0dHJpYnV0ZS5UaXJlTW9kZWxBdHRyaWJ1dGVJRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldFZhbHVlRnJvbUZpbHRlcnM6IGZ1bmN0aW9uIGdldFZhbHVlRnJvbUZpbHRlcnMoZmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcnMuUmVxdWlyZWRUaXJlTW9kZWxBdHRyaWJ1dGU7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFwcGx5OiBmdW5jdGlvbiBhcHBseShmaWx0ZXJzLCBhdHRyaWJ1dGVJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVycy5SZXF1aXJlZFRpcmVNb2RlbEF0dHJpYnV0ZSA9IGF0dHJpYnV0ZUlEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBTcGVlZCBSYXRpbmdcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3NwZWVkLXJhdGluZycpLFxuICAgICAgICAgICAgICAgICAgICB1bnNlbGVjdGVkT3B0aW9uTGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnYW55LXNwZWVkLXJhdGluZ3MnKSxcbiAgICAgICAgICAgICAgICAgICAga2V5OiAndGlyZS1zcGVlZC1yYXRpbmcnLFxuICAgICAgICAgICAgICAgICAgICByZXRyaWV2ZU9wdGlvbnM6IGZ1bmN0aW9uIHJldHJpZXZlT3B0aW9ucyhnbG9iYWxGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXF1ZXN0IFNwZWVkIFJhdGluZ3NcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdCgndGlyZS9nZXRzcGVlZHJhdGluZ3MnLCBnbG9iYWxGaWx0ZXJzKSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFwIGJyYW5kcyB0byBJRmlsdGVyT3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuQXJyYXlIZWxwZXIubWFwKHJlc3BvbnNlLlNwZWVkUmF0aW5ncywgZnVuY3Rpb24gKGJyYW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogYnJhbmQuVGlyZVNwZWVkUmF0aW5nQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBicmFuZC5UaXJlU3BlZWRSYXRpbmdJRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldFZhbHVlRnJvbUZpbHRlcnM6IGZ1bmN0aW9uIGdldFZhbHVlRnJvbUZpbHRlcnMoZmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcnMuU3BlZWRSYXRpbmc7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGFwcGx5OiBmdW5jdGlvbiBhcHBseShmaWx0ZXJzLCBzcGVlZFJhdGluZ0lEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzLlNwZWVkUmF0aW5nID0gc3BlZWRSYXRpbmdJRDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1dO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhUaXJlRmlsdGVyUHJvdmlkZXIsIFt7XG4gICAgICAgICAgICAgICAga2V5OiAnZ2V0Q291bnQnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDb3VudChmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdChcInRpcmUvY291bnRtb2RlbHNcIiwgZmlsdGVycyksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLkNvdW50O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBUaXJlRmlsdGVyUHJvdmlkZXI7XG4gICAgICAgIH0oRmlsdGVyUHJvdmlkZXIpO1xuXG4gICAgICAgIGZpbHRlcnNfMS5UaXJlRmlsdGVyUHJvdmlkZXIgPSBUaXJlRmlsdGVyUHJvdmlkZXI7XG5cbiAgICAgICAgdmFyIFdoZWVsRmlsdGVyUHJvdmlkZXIgPSBmdW5jdGlvbiAoX0ZpbHRlclByb3ZpZGVyMykge1xuICAgICAgICAgICAgX2luaGVyaXRzKFdoZWVsRmlsdGVyUHJvdmlkZXIsIF9GaWx0ZXJQcm92aWRlcjMpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBXaGVlbEZpbHRlclByb3ZpZGVyKGdsb2JhbEZpbHRlclByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFdoZWVsRmlsdGVyUHJvdmlkZXIpO1xuXG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChXaGVlbEZpbHRlclByb3ZpZGVyLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoV2hlZWxGaWx0ZXJQcm92aWRlcikpLmNhbGwodGhpcywgJ3doZWVsJywgZ2xvYmFsRmlsdGVyUHJvdmlkZXIpKTtcblxuICAgICAgICAgICAgICAgIF90aGlzMy5iYXNlRmlsdGVycyA9IHtcbiAgICAgICAgICAgICAgICAgICAgRml0bWVudFJlc291cmNlVHlwZXM6IFsyIC8qIEFuZ2xlZCAqL1xuICAgICAgICAgICAgICAgICAgICAsIDMgLyogQ2F0YWxvZyAqL1xuICAgICAgICAgICAgICAgICAgICAsIDEgLyogU2lkZSAqL1xuICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBfdGhpczMuZmlsdGVyT3B0aW9ucyA9IFtcbiAgICAgICAgICAgICAgICAvLyBCcmFuZFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnYnJhbmRzJyksXG4gICAgICAgICAgICAgICAgICAgIHVuc2VsZWN0ZWRPcHRpb25MYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdhbGwtYnJhbmRzJyksXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3doZWVsLWJyYW5kJyxcbiAgICAgICAgICAgICAgICAgICAgcmV0cmlldmVPcHRpb25zOiBmdW5jdGlvbiByZXRyaWV2ZU9wdGlvbnMoZ2xvYmFsRmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVxdWVzdCBCcmFuZHNcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdCgnd2hlZWwvZ2V0YnJhbmRzJywgZ2xvYmFsRmlsdGVycyksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcCBicmFuZHMgdG8gSUZpbHRlck9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyLm1hcChyZXNwb25zZS5CcmFuZHMsIGZ1bmN0aW9uIChicmFuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFiZWw6IGJyYW5kLldoZWVsQnJhbmROYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IGJyYW5kLldoZWVsQnJhbmRJRFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldFZhbHVlRnJvbUZpbHRlcnM6IGZ1bmN0aW9uIGdldFZhbHVlRnJvbUZpbHRlcnMoZmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZpbHRlcnMuV2hlZWxCcmFuZDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KGZpbHRlcnMsIHdoZWVsQnJhbmRJRCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVycy5XaGVlbEJyYW5kID0gd2hlZWxCcmFuZElEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBGaW5pc2hcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2ZpbmlzaGVzJyksXG4gICAgICAgICAgICAgICAgICAgIHVuc2VsZWN0ZWRPcHRpb25MYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdhbGwtZmluaXNoZXMnKSxcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnd2hlZWwtZmluaXNoJyxcbiAgICAgICAgICAgICAgICAgICAgcmV0cmlldmVPcHRpb25zOiBmdW5jdGlvbiByZXRyaWV2ZU9wdGlvbnMoZ2xvYmFsRmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVxdWVzdCBmaW5pc2hlc1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KCd3aGVlbC9nZXRmaW5pc2hlcycsIGdsb2JhbEZpbHRlcnMpLCBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBNYXAgZmluaXNoZXMgdG8gSUZpbHRlck9wdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyLm1hcChyZXNwb25zZS5GaW5pc2hlcywgZnVuY3Rpb24gKGZpbmlzaENhdGVnb3J5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZmluaXNoQ2F0ZWdvcnkuV2hlZWxGaW5pc2hDYXRlZ29yeU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZmluaXNoQ2F0ZWdvcnkuV2hlZWxGaW5pc2hDYXRlZ29yeUlEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0VmFsdWVGcm9tRmlsdGVyczogZnVuY3Rpb24gZ2V0VmFsdWVGcm9tRmlsdGVycyhmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsdGVycy5XaGVlbEZpbmlzaENhdGVnb3J5O1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBhcHBseTogZnVuY3Rpb24gYXBwbHkoZmlsdGVycywgd2hlZWxGaW5pc2hDYXRlZ29yeUlEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzLldoZWVsRmluaXNoQ2F0ZWdvcnkgPSB3aGVlbEZpbmlzaENhdGVnb3J5SUQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIERpYW1ldGVyXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzaXplcycpLFxuICAgICAgICAgICAgICAgICAgICB1bnNlbGVjdGVkT3B0aW9uTGFiZWw6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnYWxsLXNpemVzJyksXG4gICAgICAgICAgICAgICAgICAgIGtleTogJ3doZWVsLXNpemUnLFxuICAgICAgICAgICAgICAgICAgICByZXRyaWV2ZU9wdGlvbnM6IGZ1bmN0aW9uIHJldHJpZXZlT3B0aW9ucyhnbG9iYWxGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXF1ZXN0IGRpYW1ldGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KCd3aGVlbC9nZXRkaWFtZXRlcnMnLCBnbG9iYWxGaWx0ZXJzKSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFwIGRpYW1ldGVycyB0byBJRmlsdGVyT3B0aW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuQXJyYXlIZWxwZXIubWFwKHJlc3BvbnNlLkRpYW1ldGVycywgZnVuY3Rpb24gKGRpYW1ldGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogZGlhbWV0ZXIudG9TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBkaWFtZXRlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGdldFZhbHVlRnJvbUZpbHRlcnM6IGZ1bmN0aW9uIGdldFZhbHVlRnJvbUZpbHRlcnMoZmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGdldEZpdG1lbnRGaWx0ZXJWYWx1ZShmaWx0ZXJzLCAnRGlhbWV0ZXInKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYXBwbHk6IGZ1bmN0aW9uIGFwcGx5KGZpbHRlcnMsIGRpYW1ldGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZpbHRlcnMuRml0bWVudEZpbHRlcnMpIGZpbHRlcnMuRml0bWVudEZpbHRlcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5Rml0bWVudEZpbHRlcihmaWx0ZXJzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgRGlhbWV0ZXI6IGRpYW1ldGVyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1dO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhXaGVlbEZpbHRlclByb3ZpZGVyLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ2dldENvdW50JyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q291bnQoZmlsdGVycykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoXCJ3aGVlbC9jb3VudG1vZGVsc1wiLCBmaWx0ZXJzKSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgcmV0dXJuIFdoZWVsRmlsdGVyUHJvdmlkZXI7XG4gICAgICAgIH0oRmlsdGVyUHJvdmlkZXIpO1xuXG4gICAgICAgIGZpbHRlcnNfMS5XaGVlbEZpbHRlclByb3ZpZGVyID0gV2hlZWxGaWx0ZXJQcm92aWRlcjtcbiAgICAgICAgZnVuY3Rpb24gZ2V0Rml0bWVudEZpbHRlclZhbHVlKGZpbHRlcnMsIGtleSkge1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNCA9IChmaWx0ZXJzLkZpdG1lbnRGaWx0ZXJzIHx8IFtdKVtTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IChfc3RlcDQgPSBfaXRlcmF0b3I0Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZml0bWVudEZpbHRlciA9IF9zdGVwNC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZml0bWVudEZpbHRlci5Hcm91cEtleSA9PT0gZml0bWVudEZpbHRlckdyb3VwS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZml0bWVudEZpbHRlcltrZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjQgPSBlcnI7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgJiYgX2l0ZXJhdG9yNC5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZpdG1lbnRGaWx0ZXJHcm91cEtleSA9IFwicmlkZXN0eWxlci1zaG93Y2FzZS1maWx0ZXJzXCI7XG4gICAgICAgIGZ1bmN0aW9uIGFwcGx5Rml0bWVudEZpbHRlcihmaWx0ZXJzLCBmaXRtZW50RmlsdGVyKSB7XG4gICAgICAgICAgICB2YXIgZml0bWVudEZpbHRlcnMgPSBmaWx0ZXJzLkZpdG1lbnRGaWx0ZXJzIHx8IFtdO1xuICAgICAgICAgICAgdmFyIGV4aXN0aW5nRml0bWVudEZpbHRlckdyb3VwID0gdm9pZCAwO1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjUgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjUgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNSA9IGZpdG1lbnRGaWx0ZXJzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA1OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gKF9zdGVwNSA9IF9pdGVyYXRvcjUubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcHBsaWVkRml0bWVudEZpbHRlciA9IF9zdGVwNS52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoYXBwbGllZEZpdG1lbnRGaWx0ZXIuR3JvdXBLZXkgPT09IGZpdG1lbnRGaWx0ZXJHcm91cEtleSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdGaXRtZW50RmlsdGVyR3JvdXAgPSBhcHBsaWVkRml0bWVudEZpbHRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I1ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjUgPSBlcnI7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgJiYgX2l0ZXJhdG9yNS5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjUucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I1KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghZXhpc3RpbmdGaXRtZW50RmlsdGVyR3JvdXApIHtcbiAgICAgICAgICAgICAgICBmaXRtZW50RmlsdGVyLkdyb3VwS2V5ID0gZml0bWVudEZpbHRlckdyb3VwS2V5O1xuICAgICAgICAgICAgICAgIGZpdG1lbnRGaWx0ZXJzLnB1c2goZml0bWVudEZpbHRlcik7XG4gICAgICAgICAgICAgICAgLy8gV2UndmUgbW9kaWZpZWQgdGhlIGFycmF5IHNvIHVwZGF0ZSB0aGUgYXJyYXkgaW4gdGhlIGZpbHRlcnNcbiAgICAgICAgICAgICAgICBmaWx0ZXJzLkZpdG1lbnRGaWx0ZXJzID0gZml0bWVudEZpbHRlcnM7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKGV4aXN0aW5nRml0bWVudEZpbHRlckdyb3VwLCBmaXRtZW50RmlsdGVyKTtcbiAgICAgICAgICAgICAgICBleGlzdGluZ0ZpdG1lbnRGaWx0ZXJHcm91cC5Hcm91cEtleSA9IGZpdG1lbnRGaWx0ZXJHcm91cEtleTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pKGZpbHRlcnMgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuZmlsdGVycyB8fCAoUmlkZVN0eWxlclNob3djYXNlLmZpbHRlcnMgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBTdGF0ZXMgPSB2b2lkIDA7XG4gICAgKGZ1bmN0aW9uIChTdGF0ZXMpIHtcbiAgICAgICAgU3RhdGVzW1N0YXRlc1tcIkNob29zZVZlaGljbGVcIl0gPSAwXSA9IFwiQ2hvb3NlVmVoaWNsZVwiO1xuICAgICAgICBTdGF0ZXNbU3RhdGVzW1wiVmlzdWFsaXplXCJdID0gMV0gPSBcIlZpc3VhbGl6ZVwiO1xuICAgIH0pKFN0YXRlcyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5TdGF0ZXMgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5TdGF0ZXMgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgc3RhdGU7XG4gICAgKGZ1bmN0aW9uIChzdGF0ZV8xKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHJlZ2lzdGVyIGhvbGRpbmcgdGhlIGV4aXQvZW50ZXIgY2FsbGJhY2tzIGZvciBhIHNwZWNpZmljIHN0YXRlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgU3RhdGVDYWxsYmFja1JlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gU3RhdGVDYWxsYmFja1JlZ2lzdGVyKHN0YXRlKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0YXRlQ2FsbGJhY2tSZWdpc3Rlcik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy5leGl0Q2FsbGJhY2tzID0gW107XG4gICAgICAgICAgICAgICAgdGhpcy5lbnRlckNhbGxiYWNrcyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBUcmlnZ2VyIGFsbCBvZiB0aGUgZXhpdCBjYWxsYmFja3MgZm9yIHRoaXMgc3RhdGUuIElmIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZSxcbiAgICAgICAgICAgICAqIHNraXAgdHJpZ2dlcmluZyB0aGUgcmVtYWluaW5nIGNhbGxiYWNrcyBhbmQgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICovXG5cblxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKFN0YXRlQ2FsbGJhY2tSZWdpc3RlciwgW3tcbiAgICAgICAgICAgICAgICBrZXk6IFwidHJpZ2dlckV4aXRDYWxsYmFja3NcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdHJpZ2dlckV4aXRDYWxsYmFja3MoY3VycmVudFN0YXRlLCBuZXdTdGF0ZSwgbmV3RGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuZXhpdENhbGxiYWNrc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXhpdENhbGxiYWNrID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXhpdENhbGxiYWNrKGN1cnJlbnRTdGF0ZSwgbmV3U3RhdGUsIG5ld0RhdGEpID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFRyaWdnZXIgYWxsIG9mIHRoZSBlbnRlciBjYWxsYmFja3MgZm9yIHRoaXMgc3RhdGUuIElmIGEgY2FsbGJhY2sgcmV0dXJucyBmYWxzZSxcbiAgICAgICAgICAgICAgICAgKiBza2lwIHRyaWdnZXJpbmcgdGhlIHJlbWFpbmluZyBjYWxsYmFja3MgYW5kIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJ0cmlnZ2VyRW50ZXJDYWxsYmFja3NcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdHJpZ2dlckVudGVyQ2FsbGJhY2tzKG9sZFN0YXRlLCBjdXJyZW50U3RhdGUsIG5ld0RhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gdGhpcy5lbnRlckNhbGxiYWNrc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlbnRlckNhbGxiYWNrID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVudGVyQ2FsbGJhY2sob2xkU3RhdGUsIGN1cnJlbnRTdGF0ZSwgbmV3RGF0YSkgPT09IGZhbHNlKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IyLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gU3RhdGVDYWxsYmFja1JlZ2lzdGVyO1xuICAgICAgICB9KCk7XG5cbiAgICAgICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlU3RhdGUoaW5pdGlhbFN0YXRlKSB7XG4gICAgICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZVN0YXRlKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudERhdGEgPSB7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZWhpY2xlQ29uZmlndXJhdGlvbklEOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZWhpY2xlRGVzY3JpcHRpb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgdmVoaWNsZUhhc0FuZ2xlZEltYWdlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIHZlaGljbGVIYXNTaWRlSW1hZ2U6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVUaXJlT3B0aW9uRGVzY3JpcHRpb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVUaXJlT3B0aW9uSUQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhaW50U2NoZW1lOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUaXJlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRXaGVlbDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2hlZWxGaXRtZW50OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUaXJlT3B0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZWhpY2xlRGVzY3JpcHRpb25Nb2RlbDogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBBIGRpY3Rpb25hcnkgb2YgU3RhdGVzIHRvIFN0YXRlQ2FsbGJhY2tSZWdpc3RlcnNcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrcyA9IHt9O1xuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFN0YXRlIGNoYW5nZWQgY2FsbGJhY2tzXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VDYWxsYmFja3MgPSBbXTtcbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBEYXRhIGNoYW5nZWQgY2FsbGJhY2tzXG4gICAgICAgICAgICAgICAgICovXG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhQ2hhbmdlZENhbGxiYWNrcyA9IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFN0YXRlID0gaW5pdGlhbFN0YXRlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlU3RhdGUsIFt7XG4gICAgICAgICAgICAgICAga2V5OiBcImdldERhdGFcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGF0YSgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudERhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJzZXREYXRhXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldERhdGEobmV3RGF0YSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmVmb3JlQ2FsbGJhY2tzID0gW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBhZnRlckNhbGxiYWNrcyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSB0aGlzLmRhdGFDaGFuZ2VkQ2FsbGJhY2tzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGFDaGFuZ2VkQ2FsbGJhY2sgPSBfc3RlcDMudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gZGF0YUNoYW5nZWRDYWxsYmFjay5jYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlID0gZGF0YUNoYW5nZWRDYWxsYmFjay5iZWZvcmU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmVmb3JlKSBiZWZvcmVDYWxsYmFja3MucHVzaChjYWxsYmFjayk7ZWxzZSBhZnRlckNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjQgPSBiZWZvcmVDYWxsYmFja3NbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDQ7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSAoX3N0ZXA0ID0gX2l0ZXJhdG9yNC5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBfc3RlcDQudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhuZXdEYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3I0ID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ICYmIF9pdGVyYXRvcjQucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjQucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3I0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnREYXRhID0gbmV3RGF0YTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb241ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yNSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I1ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3I1ID0gYWZ0ZXJDYWxsYmFja3NbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDU7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgPSAoX3N0ZXA1ID0gX2l0ZXJhdG9yNS5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNSA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2NhbGxiYWNrID0gX3N0ZXA1LnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NhbGxiYWNrKHRoaXMuY3VycmVudERhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yNSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjUgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjUgJiYgX2l0ZXJhdG9yNS5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yNS5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I1O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiZXh0ZW5kRGF0YVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBleHRlbmREYXRhKGRhdGFFeHRlbnNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhhc0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0RhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnREYXRhID0gdGhpcy5jdXJyZW50RGF0YTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGN1cnJlbnREYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudERhdGEuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBjdXJyZW50RGF0YVtrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IGRhdGFFeHRlbnNpb25ba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5IGluIGRhdGFFeHRlbnNpb24gJiYgY3VycmVudFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDaGFuZ2VkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YVtrZXldID0gbmV3VmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RGF0YVtrZXldID0gY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXREYXRhKG5ld0RhdGEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnREYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZXR1cm5zIGFuIGV4aXRpbmcgY2FsbGJhY2sgcmVnaXN0ZXIgZm9yIHRoZSBzcGVjaWZpZWQgc3RhdGUgb3IgY3JlYXRlc1xuICAgICAgICAgICAgICAgICAqIGEgbmV3IG9uZVxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBzdGF0ZSBUaGUgc3RhdGUgdG8gcmV0dXJuIGEgY2FsbGJhY2sgcmVnaXN0ZXIgZm9yXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiY2FsbGJhY2tzRm9yU3RhdGVcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2FsbGJhY2tzRm9yU3RhdGUoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXRlIGluIHRoaXMuY2FsbGJhY2tzKSByZXR1cm4gdGhpcy5jYWxsYmFja3Nbc3RhdGVdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jYWxsYmFja3Nbc3RhdGVdID0gbmV3IFN0YXRlQ2FsbGJhY2tSZWdpc3RlcihzdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJlZ2lzdGVyIGEgY2FsbGJhY2sgdGhhdCBpcyB0cmlnZ2VyZWQgd2hlbiBleGl0aW5nIGEgc3BlY2lmaWMgc3RhdGVcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gc3RhdGUgVGhlIHN0YXRlIHRvIHJlZ2lzdGVyIGEgZXhpdCBjYWxsYmFjayBmb3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiBleGl0aW5nIHRoZSBzdGF0ZVxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIm9uRXhpdFwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkV4aXQoc3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzRm9yU3RhdGUoc3RhdGUpLmV4aXRDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJlZ2lzdGVyIGEgY2FsbGJhY2sgdGhhdCBpcyB0cmlnZ2VyZWQgd2hlbiBlbnRlcmluZyBhIHNwZWNpZmljIHN0YXRlXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIHN0YXRlIFRoZSBzdGF0ZSB0byByZWdpc3RlciBhbiBlbnRlciBjYWxsYmFjayBmb3JcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiBlbnRlcmluZyB0aGUgc3RhdGVcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJvbkVudGVyXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uRW50ZXIoc3RhdGUsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2tzRm9yU3RhdGUoc3RhdGUpLmVudGVyQ2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBSZWdpc3RlciBhIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiB0aGUgc3RhdGUgaGFzIGJlZW4gY2hhbmdlZFxuICAgICAgICAgICAgICAgICAqIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgdG8gcnVuXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwib25DaGFuZ2VcIixcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25DaGFuZ2UoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VDYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFJlZ2lzdGVyIGEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIGJlZm9yZSB0aGUgc3RhdGUgZGF0YSBoYXMgYmVlbiBjaGFuZ2VkLlxuICAgICAgICAgICAgICAgICAqIFRoaXMgYWxsb3dzIGNhbGxiYWNrIGZ1bmN0aW9ucyB0byBtb2RpZnkgdGhlIGRhdGEgYmVmb3JlIGl0J3Mgc2VudCB0byBvdGhlciBjYWxsYmFja3MuXG4gICAgICAgICAgICAgICAgICogQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayB0byBydW5cbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJiZWZvcmVEYXRhQ2hhbmdlXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJlZm9yZURhdGFDaGFuZ2UoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhQ2hhbmdlZENhbGxiYWNrcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogUmVnaXN0ZXIgYSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgYWZ0ZXIgdGhlIHN0YXRlIGRhdGEgaGFzIGNoYW5nZWRcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIHRvIHJ1blxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcImFmdGVyRGF0YUNoYW5nZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZnRlckRhdGFDaGFuZ2UoY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhQ2hhbmdlZENhbGxiYWNrcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrOiBjYWxsYmFjayxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZTogZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogXCJjaGFuZ2VTdGF0ZVwiLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjaGFuZ2VTdGF0ZShuZXdTdGF0ZSwgbmV3RGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50U3RhdGUgPT09IG5ld1N0YXRlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmV2aW91c1N0YXRlID0gdGhpcy5jdXJyZW50U3RhdGU7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldCBvdXIgc3RhdGUgZGF0YVxuICAgICAgICAgICAgICAgICAgICBpZiAobmV3RGF0YSkgdGhpcy5zZXREYXRhKG5ld0RhdGEpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhdGVDaGFuZ2VkRXZlbnQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRTdGF0ZTogcHJldmlvdXNTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld1N0YXRlOiBuZXdTdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0RhdGE6IHRoaXMuY3VycmVudERhdGFcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmRlYnVnQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHRoaXMuZGVidWdDYWxsYmFjayhzdGF0ZUNoYW5nZWRFdmVudCwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIHRoZSBzdGF0ZS1jaGFuZ2VkIGV2ZW50LCBjYW5jZWwgc3RhdGUgY2hhbmdlIGlmIGNhbmNlbGxlZFxuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjYgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3I2ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjYgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjYgPSB0aGlzLmNoYW5nZUNhbGxiYWNrc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiA9IChfc3RlcDYgPSBfaXRlcmF0b3I2Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb242ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IF9zdGVwNi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY2FsbGJhY2soc3RhdGVDaGFuZ2VkRXZlbnQpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcmlnZ2VyIGV4aXQgY2FsbGJhY2tzXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3I2ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yNiA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNiAmJiBfaXRlcmF0b3I2LnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I2LnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjY7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzRm9yU3RhdGUocHJldmlvdXNTdGF0ZSkudHJpZ2dlckV4aXRDYWxsYmFja3MocHJldmlvdXNTdGF0ZSwgbmV3U3RhdGUsIHRoaXMuY3VycmVudERhdGEpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gT25lIG9mIHRoZSBleGl0IGNhbGxiYWNrcyBjYW5jZWxlZCB0aGUgc3RhdGUgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVHJpZ2dlciBlbnRlciBjYWxsYmFja3NcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FsbGJhY2tzRm9yU3RhdGUobmV3U3RhdGUpLnRyaWdnZXJFbnRlckNhbGxiYWNrcyhwcmV2aW91c1N0YXRlLCBuZXdTdGF0ZSwgdGhpcy5jdXJyZW50RGF0YSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBPbmUgb2YgdGhlIGVudGVyIGNhbGxiYWNrcyBjYW5jZWxlZCB0aGUgc3RhdGUgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmRlYnVnQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHRoaXMuZGVidWdDYWxsYmFjayhzdGF0ZUNoYW5nZWRFdmVudCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFsbCBvZiB0aGUgY2FsbGJhY2tzIGhhdmUgYmVlbiByYW4sIGNoYW5nZSB0aGUgc3RhdGVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50U3RhdGUgPSBuZXdTdGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XSk7XG5cbiAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VTdGF0ZTtcbiAgICAgICAgfSgpO1xuXG4gICAgICAgIHN0YXRlXzEuUmlkZVN0eWxlclNob3djYXNlU3RhdGUgPSBSaWRlU3R5bGVyU2hvd2Nhc2VTdGF0ZTtcbiAgICB9KShzdGF0ZSA9IFJpZGVTdHlsZXJTaG93Y2FzZS5zdGF0ZSB8fCAoUmlkZVN0eWxlclNob3djYXNlLnN0YXRlID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgZGVmYXVsdExhbmd1YWdlRm9ybWF0UHJvdmlkZXIgPSB7XG4gICAgICAgIGN1cnJlbmN5OiBmdW5jdGlvbiBjdXJyZW5jeShudW1iZXIsIHN5bWJvbCkge1xuICAgICAgICAgICAgcmV0dXJuIHN5bWJvbCArICgrbnVtYmVyLnRvRml4ZWQoMikpLnRvTG9jYWxlU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEEgbGlzdCBvZiBhY2NlcHRhYmxlIGxhbmd1YWdlc1xuICAgICAqL1xuICAgIHZhciBMYW5ndWFnZUtleXMgPSB2b2lkIDA7XG4gICAgKGZ1bmN0aW9uIChMYW5ndWFnZUtleXMpIHtcbiAgICAgICAgTGFuZ3VhZ2VLZXlzW0xhbmd1YWdlS2V5c1tcIkVuXCJdID0gMF0gPSBcIkVuXCI7XG4gICAgfSkoTGFuZ3VhZ2VLZXlzID0gUmlkZVN0eWxlclNob3djYXNlLkxhbmd1YWdlS2V5cyB8fCAoUmlkZVN0eWxlclNob3djYXNlLkxhbmd1YWdlS2V5cyA9IHt9KSk7XG4gICAgLyoqXG4gICAgICogQW4gaW50ZXJuYWwgc3RydWN0dXJlIGZvciBob2xkaW5nIGxhbmd1YWdlIGRhdGFcbiAgICAgKi9cblxuICAgIHZhciBMYW5ndWFnZVJlZ2lzdGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGEgcmVnaXN0ZXIgZm9yIGEgbGFuZ3VhZ2VcbiAgICAgICAgICogQHBhcmFtIGxhbmd1YWdlIFRoZSBsYW5ndWFnZSBkZWZpbml0aW9uXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBMYW5ndWFnZVJlZ2lzdGVyKGxhbmd1YWdlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGFuZ3VhZ2VSZWdpc3Rlcik7XG5cbiAgICAgICAgICAgIHRoaXMubGFuZ3VhZ2UgPSBsYW5ndWFnZTtcbiAgICAgICAgICAgIHRoaXMuZm9ybWF0ID0gbGFuZ3VhZ2UuZm9ybWF0O1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSBrZXkgZnJvbSB0aGUgbGFuZ3VhZ2UgZGljdGlvbmFyeVxuICAgICAgICAgKiBAcGFyYW0ga2V5IFRoZSBzdHJpbmcga2V5XG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKExhbmd1YWdlUmVnaXN0ZXIsIFt7XG4gICAgICAgICAgICBrZXk6IFwiZ2V0U3RyaW5nXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U3RyaW5nKGtleSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxhbmd1YWdlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gTGFuZ3VhZ2VSZWdpc3RlcjtcbiAgICB9KCk7XG4gICAgLyoqXG4gICAgICogVGhlIGRlZmF1bHQgbGFuZ3VhZ2UgdG8gdXNlIGlmIG9uZSBpcyBub3QgcHJvdmlkZWQgdG8gZ2V0U3RyaW5nc1xuICAgICAqL1xuXG5cbiAgICB2YXIgZGVmYXVsdExhbmd1YWdlID0gdm9pZCAwO1xuICAgIC8qKlxuICAgICAqIEFuIGludGVybmFsIGxpc3Qgb2YgYWxsIHJlZ2lzdGVyZWQgbGFuZ3VhZ2VzIGFuZCB0aGVpciBzdHJpbmdzXG4gICAgICovXG4gICAgdmFyIGxhbmd1YWdlUmVnaXN0ZXJzID0ge307XG4gICAgdmFyIHN0cmluZ3MgPSB2b2lkIDA7XG4gICAgKGZ1bmN0aW9uIChzdHJpbmdzKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWdpc3RlciBhIGxhbmd1YWdlIHRvIGJlIHVzZWQgaW4gdGhlIHNob3djYXNlXG4gICAgICAgICAqIEBwYXJhbSBsYW5ndWFnZUtleSBUaGUga2V5IG9mIHRoZSBsYW5ndWFnZSB5b3UgYXJlIHJlZ2lzdGVyaW5nXG4gICAgICAgICAqIEBwYXJhbSBsYW5ndWFnZSBUaGUgbGFuZ3VhZ2UgcHJvdmlkZXJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHJlZ2lzdGVyTGFuZ3VhZ2UobGFuZ3VhZ2VLZXksIGxhbmd1YWdlLCBzZXRBc0RlZmF1bHQpIHtcbiAgICAgICAgICAgIC8vIFNldCBkZWZhdWx0IGZvcm1hdCBwcm92aWRlclxuICAgICAgICAgICAgaWYgKCFsYW5ndWFnZS5mb3JtYXQpIGxhbmd1YWdlLmZvcm1hdCA9IGRlZmF1bHRMYW5ndWFnZUZvcm1hdFByb3ZpZGVyO2Vsc2UgZm9yICh2YXIga2V5IGluIGRlZmF1bHRMYW5ndWFnZUZvcm1hdFByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGRlZmF1bHRMYW5ndWFnZVByb3ZpZGVyIGhhcyBhIGZvcm1hdCBmdW5jdGlvbiB0aGF0IGlzIG1pc3Npbmcgb24gdGhlIGxhbmd1YWdlJ3MgZm9ybWF0IHByb3ZpZGVyLFxuICAgICAgICAgICAgICAgIC8vIGltcGxlbWVudCBpdCBpbiB0aGUgbGFuZ3VhZ2UncyBmb3JtYXQgcHJvdmlkZXJcbiAgICAgICAgICAgICAgICBpZiAoZGVmYXVsdExhbmd1YWdlRm9ybWF0UHJvdmlkZXIuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBrZXkgaW4gbGFuZ3VhZ2UuZm9ybWF0ID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZS5mb3JtYXRba2V5XSA9IGRlZmF1bHRMYW5ndWFnZUZvcm1hdFByb3ZpZGVyW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGxhbmd1YWdlUmVnaXN0ZXIgPSBsYW5ndWFnZVJlZ2lzdGVyc1tsYW5ndWFnZUtleV0gPSBuZXcgTGFuZ3VhZ2VSZWdpc3RlcihsYW5ndWFnZSk7XG4gICAgICAgICAgICBpZiAoc2V0QXNEZWZhdWx0IHx8ICFkZWZhdWx0TGFuZ3VhZ2UpIGRlZmF1bHRMYW5ndWFnZSA9IGxhbmd1YWdlUmVnaXN0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgc3RyaW5ncy5yZWdpc3Rlckxhbmd1YWdlID0gcmVnaXN0ZXJMYW5ndWFnZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBhIGxhbmd1YWdlIHRvIGJlIHVzZWQgYnkgZGVmYXVsdCwgd2hlbiBubyBrZXkgaXMgcGFzc2VkIGludG8gZ2V0U3RyaW5nc1xuICAgICAgICAgKiBAcGFyYW0gbGFuZ3VhZ2VLZXkgVGhlIGxhbmd1YWdlIGtleSB0byB1c2UgYnkgZGVmYXVsdFxuICAgICAgICAgKiBAcmV0dXJucyB0cnVlLCBpZiB0aGUgbGFuZ3VhZ2UgaXMgcmVnaXN0ZXJlZCBhbmQgc2V0IGFzIGRlZmF1bHQ7IG90aGVyd2lzZSBmYWxzZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc2V0RGVmYXVsdExhbmd1YWdlKGxhbmd1YWdlS2V5KSB7XG4gICAgICAgICAgICBpZiAobGFuZ3VhZ2VLZXkgaW4gbGFuZ3VhZ2VSZWdpc3RlcnMpIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0TGFuZ3VhZ2UgPSBsYW5ndWFnZVJlZ2lzdGVyc1tsYW5ndWFnZUtleV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgc3RyaW5ncy5zZXREZWZhdWx0TGFuZ3VhZ2UgPSBzZXREZWZhdWx0TGFuZ3VhZ2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZWxscyB5b3Ugd2hldGhlciBvciBub3QgYSBsYW5ndWFnZSBpcyByZWdpc3RlcmVkXG4gICAgICAgICAqIEBwYXJhbSBsYW5ndWFnZUtleSBUaGUga2V5IGZvciB0aGUgbGFuZ3VhZ2VcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGxhbmd1YWdlSXNSZWdpc3RlcmVkKGxhbmd1YWdlS2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gbGFuZ3VhZ2VLZXkgaW4gbGFuZ3VhZ2VSZWdpc3RlcnM7XG4gICAgICAgIH1cbiAgICAgICAgc3RyaW5ncy5sYW5ndWFnZUlzUmVnaXN0ZXJlZCA9IGxhbmd1YWdlSXNSZWdpc3RlcmVkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgc3BlY2lmaWVkIGxhbmd1YWdlLCBvciB0aGUgZGVmYXVsdCBsYW5ndWFnZSBpZiBpdCBjb3VsZCBub3QgYmUgZm91bmRcbiAgICAgICAgICogQHBhcmFtIGxhbmd1YWdlS2V5IFRoZSBrZXkgb2YgdGhlIGxhbmd1YWdlIHRvIHJldHJpZXZlXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBnZXRMYW5ndWFnZShsYW5ndWFnZUtleSkge1xuICAgICAgICAgICAgcmV0dXJuIGxhbmd1YWdlS2V5IGluIGxhbmd1YWdlUmVnaXN0ZXJzID8gbGFuZ3VhZ2VSZWdpc3RlcnNbbGFuZ3VhZ2VLZXldIDogZGVmYXVsdExhbmd1YWdlO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSBzdHJpbmcgZnJvbSB0aGUgcmVnaXN0ZXJlZCBzdHJpbmdzXG4gICAgICAgICAqIEBwYXJhbSBrZXkgVGhlIHN0cmluZyBrZXkgdG8gcmV0dXJuIGEgc3RyaW5nIGZvclxuICAgICAgICAgKiBAcGFyYW0gbGFuZ3VhZ2VLZXkgVGhlIGxhbmd1YWdlIHlvdSB3YW50IHRvIHVzZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0U3RyaW5nKGtleSwgbGFuZ3VhZ2VLZXkpIHtcbiAgICAgICAgICAgIHZhciBsYW5ndWFnZVJlZ2lzdGVyID0gZ2V0TGFuZ3VhZ2UobGFuZ3VhZ2VLZXkpO1xuICAgICAgICAgICAgdmFyIHN0cmluZyA9IHZvaWQgMDtcbiAgICAgICAgICAgIC8vIElmIHdlIGRvbid0IGhhdmUgYSBsYW5ndWFnZSwgb3IgY291bGQgbm90IGdldCB0aGUgc3RyaW5nIGZyb20gdGhlIHJlZ2lzdGVyIFxuICAgICAgICAgICAgaWYgKCEoc3RyaW5nID0gbGFuZ3VhZ2VSZWdpc3Rlci5nZXRTdHJpbmcoa2V5KSkpIHJldHVybiBrZXk7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICAgIHN0cmluZ3MuZ2V0U3RyaW5nID0gZ2V0U3RyaW5nO1xuICAgICAgICBmdW5jdGlvbiBmb3JtYXQobGFuZ3VhZ2VLZXkpIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRMYW5ndWFnZShsYW5ndWFnZUtleSkuZm9ybWF0O1xuICAgICAgICB9XG4gICAgICAgIHN0cmluZ3MuZm9ybWF0ID0gZm9ybWF0O1xuICAgIH0pKHN0cmluZ3MgPSBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncyB8fCAoUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBzdHlsZXM7XG4gICAgKGZ1bmN0aW9uIChzdHlsZXMpIHtcbiAgICAgICAgdmFyIHdpZHRoQnJlYWtwb2ludHMgPSBbWydwaG9uZS1wb3J0cmFpdCcsIDBdLCBbJ3Bob25lLWxhbmRzY2FwZScsIDQyMF0sIFsndGFibGV0JywgNzY4XSwgWydwaG9uZS1sYW5kc2NhcGUnLCA4MTJdLCBbJ3RhYmxldCcsIDgyNF0sIFsnZGVza3RvcCcsIDk5Ml0sIFsnZGVza3RvcC14bCcsIDEyMDBdLCBbJ3R2JywgMTYwMF1dO1xuXG4gICAgICAgIHZhciBTdHlsZU1hbmFnZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBTdHlsZU1hbmFnZXIoZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdHlsZU1hbmFnZXIpO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gcmlkZXN0eWxlci5wcm9taXNlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplQnJlYWtwb2ludHMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLndhdGNoU2l6ZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZUNTUygpO1xuICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZU9uRE9NTG9hZCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZVN0eWxlQ2xhc3NlcygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoU3R5bGVNYW5hZ2VyLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ3Jlc29sdmVPbkRPTUxvYWQnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvbHZlT25ET01Mb2FkKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgRE9NIGlzIGFscmVhZHkgbG9hZGVkXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVkLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgRE9NIHRvIGxvYWRcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuaW5pdGlhbGl6ZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIExvYWQgdGhlIENTUyBmcm9tIHtAbGluayBSaWRlU3R5bGVyU2hvd2Nhc2UuY3NzfSBpbnRvIHRoZSBmaXJzdCBIRUFEIGVsZW1lbnRcbiAgICAgICAgICAgICAgICAgKiBmb3VuZCBpbiB0aGUgZG9jdW1lbnQgb2YgdGhlIGNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAqL1xuXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZUNTUycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVDU1MoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLmlzT2Zmc2V0UG9zaXRpb25lZCh0aGlzLmVsZW1lbnQpKSB0aGlzLmVsZW1lbnQuc3R5bGUucG9zaXRpb24gPSAncmVsYXRpdmUnO1xuICAgICAgICAgICAgICAgICAgICBpZiAoJ2NzcycgaW4gUmlkZVN0eWxlclNob3djYXNlID09PSBmYWxzZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyRG9jdW1lbnQgPSB0aGlzLmVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlYWQgPSBjb250YWluZXJEb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImhlYWRcIikuaXRlbSgwKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgZG9uJ3QgaGF2ZSBhIEhFQUQgZWxlbWVudCwgY3JlYXRlIG9uZSBhbmQgYWRkIGl0IHRvIHRoZSBET01cbiAgICAgICAgICAgICAgICAgICAgaWYgKCFoZWFkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaGVhZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50Lmluc2VydEJlZm9yZShoZWFkLCBjb250YWluZXJEb2N1bWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB2YXIgc3R5bGVzaGVldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFkZCBvdXIgQ1NTIHRvIHRoZSBzdHlsZXNoZWV0XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlc2hlZXQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoUmlkZVN0eWxlclNob3djYXNlLmNzcykpO1xuICAgICAgICAgICAgICAgICAgICAvLyBBZGQgdGhlIENTUyB0byB0aGUgaGVhZGVyIGJlZm9yZSB0aGUgZmlyc3QgSEVBRCBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgIGhlYWQuaW5zZXJ0QmVmb3JlKHN0eWxlc2hlZXQsIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmZpcnN0Q2hpbGRXaXRoVGFnKGhlYWQsIFwiU1RZTEVcIikpO1xuICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIENTUyBmcm9tIG91ciBvYmplY3Qgc28gaXQncyBub3Qgc3BlY2lmaWVkIHR3aWNlXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBSaWRlU3R5bGVyU2hvd2Nhc2UuY3NzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplU3R5bGVDbGFzc2VzJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZVN0eWxlQ2xhc3NlcygpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5pc1RvdWNoRGV2aWNlKSB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaXMtdG91Y2gnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZUJyZWFrcG9pbnRzJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUJyZWFrcG9pbnRzKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICAvLyBNYWtlIHN1cmUgb3VyIGJyZWFrcG9pbnRzIGFyZSBzb3J0ZWRcbiAgICAgICAgICAgICAgICAgICAgd2lkdGhCcmVha3BvaW50cy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVsxXSAtIGJbMV07XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5QnJlYWtwb2ludENsYXNzZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChkb2N1bWVudC5yZWFkeVN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwibG9hZGluZ1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmdldERvY3VtZW50KHRoaXMuZWxlbWVudCkuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmFwcGx5QnJlYWtwb2ludENsYXNzZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJpbnRlcmFjdGl2ZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmdldFdpbmRvdyh0aGlzLmVsZW1lbnQpLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5hcHBseUJyZWFrcG9pbnRDbGFzc2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAncmVzaXplJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVzaXplKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGx5QnJlYWtwb2ludENsYXNzZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uUmVzaXplID09PSAnZnVuY3Rpb24nKSB0aGlzLm9uUmVzaXplKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ3Jlc2l6ZWQnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXNpemVkKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub25SZXNpemVkID09PSAnZnVuY3Rpb24nKSB0aGlzLm9uUmVzaXplZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdicmVha3BvaW50Q2hhbmdlZCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJyZWFrcG9pbnRDaGFuZ2VkKG5ld0JyZWFrcG9pbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uQnJlYWtwb2ludENoYW5nZWQgPT09ICdmdW5jdGlvbicpIHRoaXMub25CcmVha3BvaW50Q2hhbmdlZChuZXdCcmVha3BvaW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnd2F0Y2hTaXplJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gd2F0Y2hTaXplKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuZWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRpbWVyID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzaXplZEV2ZW50RGVsYXkgPSAyMDA7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50U2l6ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBlbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBlbGVtZW50LmNsaWVudEhlaWdodFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5nZXRXaW5kb3coZWxlbWVudCkuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0VsZW1lbnRTaXplID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiBlbGVtZW50LmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogZWxlbWVudC5jbGllbnRIZWlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobmV3RWxlbWVudFNpemUud2lkdGggIT09IGVsZW1lbnRTaXplLndpZHRoIHx8IG5ld0VsZW1lbnRTaXplLmhlaWdodCAhPT0gZWxlbWVudFNpemUuaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGVsZW1lbnQncyBzaXplIGhhcyBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudFNpemUgPSBuZXdFbGVtZW50U2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMucmVzaXplKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczMucmVzaXplZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJlc2l6ZWRFdmVudERlbGF5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdnZXRDdXJyZW50QnJlYWtwb2ludCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1cnJlbnRCcmVha3BvaW50KCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50QnJlYWtwb2ludDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAga2V5OiAnYXBwbHlCcmVha3BvaW50Q2xhc3NlcycsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGx5QnJlYWtwb2ludENsYXNzZXMoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBlbGVtZW50ID0gdGhpcy5lbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICB2YXIgaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvbid0IHJ1biBpZiB3ZSBkb24ndCBoYXZlIGEgaGVpZ2h0IG9yIHdpZHRoIHlldFxuICAgICAgICAgICAgICAgICAgICBpZiAoIWhlaWdodCB8fCAhd2lkdGgpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0JyZWFrcG9pbnQgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBuZXcgYnJlYWtwb2ludCBpcyB0aGUgbmV4dCBsb3dlc3QgdmFsdWUgaW4gdGhlIGFycmF5XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gd2lkdGhCcmVha3BvaW50cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWR0aEJyZWFrcG9pbnRzW2ldWzFdIDw9IHdpZHRoKSBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1uZXdCcmVha3BvaW50ID0gaSA+PSAwID8gd2lkdGhCcmVha3BvaW50c1tpXSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY3VycmVudCBicmVha3BvaW50IGhhc24ndCBjaGFuZ2VkLCBkb24ndCBydW4gdGhlIHJlc3Qgb2YgdGhpcyBsb2dpY1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3QnJlYWtwb2ludCA9PT0gdGhpcy5jdXJyZW50QnJlYWtwb2ludCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAvLyBTZXQgb3VyIGN1cnJlbnQgYnJlYWtwb2ludCB0byB0aGUgbmV3bHkgZGVmaW5lZCBvbmVcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50QnJlYWtwb2ludCA9IG5ld0JyZWFrcG9pbnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvcmlnaW5hbENsYXNzTmFtZSA9IGVsZW1lbnQuY2xhc3NOYW1lO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2xhc3NOYW1lID0gb3JpZ2luYWxDbGFzc05hbWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBhbnkgYnJlYWtwb2ludCBjbGFzc2VzIGZyb20gdGhlIGVsZW1lbnQncyBjbGFzc1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUucmVwbGFjZSgvXFxicmlkZXN0eWxlci1zaG93Y2FzZS1icmVha3BvaW50LS4rPyg/PSB8JCkvZ2ksIFwiXCIpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGluIHRoZSBicmVha3BvaW50IGNsYXNzIGlmIHdlIGhhdmUgb25lXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXdCcmVha3BvaW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWUgKz0gJyByaWRlc3R5bGVyLXNob3djYXNlLWJyZWFrcG9pbnQtJyArIG5ld0JyZWFrcG9pbnRbMF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIGNsYXNzTmFtZSBoYXNuJ3QgY2hhbmdlZCBkbyBub3RoaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGFzc05hbWUgPT09IG9yaWdpbmFsQ2xhc3NOYW1lKSByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gY2xhc3NOYW1lO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJyZWFrcG9pbnRDaGFuZ2VkKG5ld0JyZWFrcG9pbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgcmV0dXJuIFN0eWxlTWFuYWdlcjtcbiAgICAgICAgfSgpO1xuXG4gICAgICAgIHN0eWxlcy5TdHlsZU1hbmFnZXIgPSBTdHlsZU1hbmFnZXI7XG4gICAgfSkoc3R5bGVzID0gUmlkZVN0eWxlclNob3djYXNlLnN0eWxlcyB8fCAoUmlkZVN0eWxlclNob3djYXNlLnN0eWxlcyA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZUluc3RhbmNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VJbnN0YW5jZShjb250YWluZXIsIHNldHRpbmdzKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlSW5zdGFuY2UpO1xuXG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUxvYWRpbmdTZXNzaW9uS2V5cyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzIHx8IHt9O1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5kZWJ1ZyA9IHRoaXMuc2V0dGluZ3MuZGVidWcgfHwge307XG4gICAgICAgICAgICB0aGlzLmV2ZW50cyA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuZXZlbnRzLkV2ZW50SGFuZGxlcigpO1xuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVidWcuZXZlbnRzID09PSB0cnVlKSB0aGlzLmV2ZW50cy5kZWJ1Z0NhbGxiYWNrID0gZnVuY3Rpb24gKG5hbWUsIGUsIGhhbmRsZXJzKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT09ICdyZXNpemUnKSByZXR1cm47XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tSaWRlU3R5bGVyU2hvd2Nhc2UgRXZlbnRdIE5hbWU6JyArIG5hbWUgKyAnIERhdGE6JywgZSwgaGFuZGxlcnMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRhaW5lciA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250YWluZXIpIGNvbnNvbGUuZXJyb3IoJ1RoZSBJRCBcIicgKyBjb250YWluZXIgKyAnXCIgY291bGQgbm90IGJlIGZvdW5kIGluIHRoZSBET00uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZShjb250YWluZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWdpc3RlciB0aGUgbWFpbiBjb21wb25lbnRzIHVzZWQgYnkgdGhlIHNob3djYXNlXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZUluc3RhbmNlLCBbe1xuICAgICAgICAgICAga2V5OiAncmVnaXN0ZXJDb21wb25lbnRzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZWdpc3RlckNvbXBvbmVudHMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50SGFuZGxlciA9IHRoaXMuZXZlbnRzO1xuICAgICAgICAgICAgICAgIC8vIFJlZ2lzdGVyIG90aGVyIGNvbXBvbmVudHMgdG8gYmUgZGlzcGxheWVkXG4gICAgICAgICAgICAgICAgdGhpcy5vdGhlckNvbXBvbmVudHMgPSBbbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kKHRoaXMpXTtcbiAgICAgICAgICAgICAgICAvLyBSZWdpc3RlciBvdXIgbWFwcGluZyBvZiBzdGF0ZXMgdG8gbWFpbiBjb21wb25lbnRzXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZUNvbXBvbmVudE1hcHBpbmcgPSB7fTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXRlQ29tcG9uZW50TWFwcGluZ1tSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzLkNob29zZVZlaGljbGVdID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlU2VsZWN0aW9uKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGVDb21wb25lbnRNYXBwaW5nW1JpZGVTdHlsZXJTaG93Y2FzZS5TdGF0ZXMuVmlzdWFsaXplXSA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb24odGhpcyk7XG4gICAgICAgICAgICAgICAgLy8gR2VuZXJhdGUgbWFpbkNvbXBvbmVudHMgZnJvbSB0aGUgc3RhdGVDb21wb25lbnRNYXBwaW5nXG4gICAgICAgICAgICAgICAgdGhpcy5tYWluQ29tcG9uZW50cyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIHN0YXRlIGluIHRoaXMuc3RhdGVDb21wb25lbnRNYXBwaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWFpbkNvbXBvbmVudHMucHVzaCh0aGlzLnN0YXRlQ29tcG9uZW50TWFwcGluZ1tzdGF0ZV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0IHRoZSBjb250YWluZXIgb2YgdGhpcyBzaG93Y2FzZSBpbnN0YW5jZSBhbmQgaW5pdGlhbGl6ZSAob3IgcmUtaW5pdGlhbGl6ZSkgaXRcbiAgICAgICAgICAgICAqIEBwYXJhbSBjb250YWluZXIgVGhlIGNvbnRhaW5lciB0byBpbml0aWFsaXplIHRoaXMgc2hvd2Nhc2UgaW5cbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemUoY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIGlmICghY29udGFpbmVyKSB0aHJvdyBcIkNhbm5vdCBpbml0aWFsaXplIHNob3djYXNlIHdpdGhvdXQgYSBjb250YWluZXIgdG8gcHV0IGl0IGluLlwiO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24oY29udGFpbmVyLCB7XG4gICAgICAgICAgICAgICAgICAgIHJpZGVzdHlsZXJTaG93Y2FzZTogdGhpc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZVN0YXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpc3RlckNvbXBvbmVudHMoKTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLmluaXRpYWxpemUodGhpcy5zZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplU3R5bGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVGaWx0ZXJzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplQ29tcG9uZW50cygpO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uKFwidmVoaWNsZS1zZWxlY3RlZFwiLCBmdW5jdGlvbiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXRlLmNoYW5nZVN0YXRlKFJpZGVTdHlsZXJTaG93Y2FzZS5TdGF0ZXMuVmlzdWFsaXplLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVoaWNsZUNvbmZpZ3VyYXRpb25JRDogc2VsZWN0aW9uLlZlaGljbGVDb25maWd1cmF0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbjogc2VsZWN0aW9uLlZlaGljbGVEZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRWZWhpY2xlVGlyZU9wdGlvbklEOiBzZWxlY3Rpb24uVGlyZU9wdGlvbklELFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVUaXJlT3B0aW9uRGVzY3JpcHRpb246IHNlbGVjdGlvbi5UaXJlT3B0aW9uU3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhaW50U2NoZW1lOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWhpY2xlSGFzQW5nbGVkSW1hZ2U6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlaGljbGVIYXNTaWRlSW1hZ2U6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUaXJlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2hlZWw6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRXaGVlbEZpdG1lbnQ6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUaXJlT3B0aW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uTW9kZWw6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIHNldHRpbmdzUmV0cmlldmVkID0gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIudGhlbihSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLmF1dGhlbnRpY2F0ZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkuc2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5kb25lKGZ1bmN0aW9uIChzZXR0aW5nc0Zyb21BUEkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnNldHRpbmdzRnJvbUFQSSA9IHNldHRpbmdzRnJvbUFQSTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIuYWxsKFt0aGlzLnN0eWxlLmluaXRpYWxpemVkLCBzZXR0aW5nc1JldHJpZXZlZF0pLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ldmVudHMudHJpZ2dlcignaW5pdGlhbGl6ZWQnLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMub25TdGF0ZUNoYW5nZWQoe1xuICAgICAgICAgICAgICAgICAgICBuZXdTdGF0ZTogdGhpcy5zdGF0ZS5jdXJyZW50U3RhdGUsXG4gICAgICAgICAgICAgICAgICAgIG9sZFN0YXRlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIG5ld0RhdGE6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplU3RhdGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVTdGF0ZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUgPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLnN0YXRlLlJpZGVTdHlsZXJTaG93Y2FzZVN0YXRlKFJpZGVTdHlsZXJTaG93Y2FzZS5TdGF0ZXMuQ2hvb3NlVmVoaWNsZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZGVidWcuc3RhdGUgPT09IHRydWUpIHRoaXMuc3RhdGUuZGVidWdDYWxsYmFjayA9IGZ1bmN0aW9uIChlLCBmaW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmluaXNoZWRTdHJpbmcgPSBmaW5pc2hlZCA/ICdGaW5pc2hlZCcgOiAnQmVnaW5uaW5nJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXRlQ2hhbmdlID0gXCJ0byBcIiArIFJpZGVTdHlsZXJTaG93Y2FzZS5TdGF0ZXNbZS5uZXdTdGF0ZV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZS5vbGRTdGF0ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ2hhbmdlID0gXCJmcm9tIFwiICsgUmlkZVN0eWxlclNob3djYXNlLlN0YXRlc1tlLm9sZFN0YXRlXSArIFwiIFwiICsgc3RhdGVDaGFuZ2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1tSaWRlU3R5bGVyU2hvd2Nhc2UgU3RhdGVdICcgKyBzdGF0ZUNoYW5nZSArICcgJyArIGZpbmlzaGVkU3RyaW5nLCBlKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUub25DaGFuZ2UoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5ldmVudHMudHJpZ2dlcihcInN0YXRlLWNoYW5nZWRcIiwgZSkgJiYgX3RoaXMyLm9uU3RhdGVDaGFuZ2VkKGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplU3R5bGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVTdHlsZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGUgPSBuZXcgUmlkZVN0eWxlclNob3djYXNlLnN0eWxlcy5TdHlsZU1hbmFnZXIodGhpcy5jb250YWluZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3R5bGUub25SZXNpemUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuZXZlbnRzLnRyaWdnZXIoJ3Jlc2l6ZScsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlLm9uUmVzaXplZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5ldmVudHMudHJpZ2dlcigncmVzaXplZCcsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLnN0eWxlLm9uQnJlYWtwb2ludENoYW5nZWQgPSBmdW5jdGlvbiAobmV3QnJlYWtwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLmV2ZW50cy50cmlnZ2VyKCdicmVha3BvaW50LWNoYW5nZWQnLCBuZXdCcmVha3BvaW50KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb250YWluZXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdyaWRlc3R5bGVyLXNob3djYXNlJykpIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3JpZGVzdHlsZXItc2hvd2Nhc2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZUZpbHRlcnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVGaWx0ZXJzKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJzID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5maWx0ZXJzLkZpbHRlckNvbnRyb2xsZXIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vbihcInZlaGljbGUtc2VsZWN0ZWRcIiwgZnVuY3Rpb24gKHNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQuZmlsdGVycy5zZXRWZWhpY2xlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlaGljbGVDb25maWd1cmF0aW9uSUQ6IHNlbGVjdGlvbi5WZWhpY2xlQ29uZmlndXJhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlaGljbGVUaXJlT3B0aW9uSUQ6IHNlbGVjdGlvbi5UaXJlT3B0aW9uSURcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVDb21wb25lbnRzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplQ29tcG9uZW50cygpIHtcbiAgICAgICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5jb250YWluZXI7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMub3RoZXJDb21wb25lbnRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY29tcG9uZW50LmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gdGhpcy5tYWluQ29tcG9uZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9jb21wb25lbnQgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9jb21wb25lbnQuc2V0VmlzaWJsZShmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoX2NvbXBvbmVudC5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblN0YXRlQ2hhbmdlZCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25TdGF0ZUNoYW5nZWQoZXYpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRDb21wb25lbnQoZXYpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd1cGRhdGVDdXJyZW50Q29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVDdXJyZW50Q29tcG9uZW50KGV2KSB7XG4gICAgICAgICAgICAgICAgdmFyIG5ld0NvbXBvbmVudCA9IHRoaXMuc3RhdGVDb21wb25lbnRNYXBwaW5nW2V2Lm5ld1N0YXRlXTtcbiAgICAgICAgICAgICAgICB2YXIgb2xkQ29tcG9uZW50ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHZhciBzdGF0ZUNsYXNzUHJlZml4ID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2Utc3RhdGUtJztcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGV2Lm9sZFN0YXRlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgICAgICBvbGRDb21wb25lbnQgPSB0aGlzLnN0YXRlQ29tcG9uZW50TWFwcGluZ1tldi5vbGRTdGF0ZV07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoc3RhdGVDbGFzc1ByZWZpeCArIFJpZGVTdHlsZXJTaG93Y2FzZS5TdGF0ZXNbZXYub2xkU3RhdGVdLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKHN0YXRlQ2xhc3NQcmVmaXggKyBSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzW2V2Lm5ld1N0YXRlXS50b0xvd2VyQ2FzZSgpKTtcbiAgICAgICAgICAgICAgICBpZiAob2xkQ29tcG9uZW50ICYmIG9sZENvbXBvbmVudC5pc1Zpc2libGUoKSkge1xuICAgICAgICAgICAgICAgICAgICBvbGRDb21wb25lbnQuaGlkZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDb21wb25lbnQuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXdDb21wb25lbnQuc2hvdygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VJbnN0YW5jZTtcbiAgICB9KCk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlSW5zdGFuY2UgPSBSaWRlU3R5bGVyU2hvd2Nhc2VJbnN0YW5jZTtcbiAgICBmdW5jdGlvbiBjcmVhdGUoY29udGFpbmVyLCBzZXR0aW5ncykge1xuICAgICAgICByZXR1cm4gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZUluc3RhbmNlKGNvbnRhaW5lciwgc2V0dGluZ3MpO1xuICAgIH1cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuY3JlYXRlID0gY3JlYXRlO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBDb21wb25lbnRCYXNlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBDb21wb25lbnRCYXNlKHNob3djYXNlSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDb21wb25lbnRCYXNlKTtcblxuICAgICAgICAgICAgdGhpcy5zaG93Y2FzZSA9IHNob3djYXNlSW5zdGFuY2U7XG4gICAgICAgICAgICB0aGlzLmV2ZW50cyA9IHNob3djYXNlSW5zdGFuY2UuZXZlbnRzO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHNob3djYXNlSW5zdGFuY2Uuc3RhdGU7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVDb21wb25lbnQoKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQSBvdmVycmlkYWJsZSBmdW5jdGlvbiBjYWxsZWQgYWZ0ZXIgdGhlIGJhc2UgY29tcG9uZW50IGlzIGluaXRpYWxpemVkXG4gICAgICAgICAqIEB2aXJ0dWFsXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKENvbXBvbmVudEJhc2UsIFt7XG4gICAgICAgICAgICBrZXk6IFwiaW5pdGlhbGl6ZUNvbXBvbmVudFwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVDb21wb25lbnQoKSB7fVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIENvbXBvbmVudEJhc2U7XG4gICAgfSgpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UgPSBDb21wb25lbnRCYXNlO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIE1haW5Db21wb25lbnRCYXNlID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoTWFpbkNvbXBvbmVudEJhc2UsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkQyk7XG5cbiAgICAgICAgZnVuY3Rpb24gTWFpbkNvbXBvbmVudEJhc2Uoc2hvd2Nhc2VJbnN0YW5jZSkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE1haW5Db21wb25lbnRCYXNlKTtcblxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE1haW5Db21wb25lbnRCYXNlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTWFpbkNvbXBvbmVudEJhc2UpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UpKTtcblxuICAgICAgICAgICAgX3RoaXMuY29tcG9uZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBfdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LmFkZCgncmlkZXN0eWxlci1zaG93Y2FzZS1tYWluLWNvbXBvbmVudCcpO1xuICAgICAgICAgICAgaWYgKFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci50cmFuc2l0aW9uc1N1cHBvcnRlZCkgX3RoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLnRyYW5zaXRpb25FbmRFdmVudCwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IHRyYW5zaXRpb25zIG9uIHRoaXMgY29tcG9uZW50IGVsZW1lbnRcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQgIT09IF90aGlzLmNvbXBvbmVudCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIF90aGlzLm9uVHJhbnNpdGlvbkVuZCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpcy5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIF90aGlzLmJ1aWxkQ29tcG9uZW50KF90aGlzLmNvbXBvbmVudCk7XG4gICAgICAgICAgICBfdGhpcy5pbml0aWFsaXplTWFpbkNvbXBvbmVudCgpO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG92ZXJyaWRhYmxlIGZ1bmN0aW9uIGNhbGxlZCBhZnRlciB0aGUgYmFzZSBjb21wb25lbnQgaXMgY29uc3RydWN0ZWRcbiAgICAgICAgICogQHZpcnR1YWxcbiAgICAgICAgICovXG5cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoTWFpbkNvbXBvbmVudEJhc2UsIFt7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplQ29tcG9uZW50KCkge31cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQSBvdmVycmlkYWJsZSBmdW5jdGlvbiBjYWxsZWQgYWZ0ZXIgdGhlIG1haW4gY29tcG9uZW50IGlzIGNvbnN0cnVjdGVkXG4gICAgICAgICAgICAgKiBAdmlydHVhbFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZU1haW5Db21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVNYWluQ29tcG9uZW50KCkge31cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogV2hldGhlciBvciBub3QgdGhpcyBjb21wb25lbnQgaXMgdmlzaWJsZVxuICAgICAgICAgICAgICogQHJldHVybiB0cnVlLCBpZiB0aGlzIGNvbXBvbmVudCBpcyB2aXNpYmxlLCBvdGhlcndpc2UgZmFsc2VcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2lzVmlzaWJsZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNWaXNpYmxlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl92aXNpYmxlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBIaWRlL3Nob3cgdGhlIGNvbXBvbmVudCB3aXRob3V0IGFuaW1hdGlvblxuICAgICAgICAgICAgICogQHBhcmFtIHZpc2libGUgSWYgdHJ1ZSwgc2hvdyB0aGUgY29tcG9uZW50LCBvdGhlcndpc2UgaGlkZSB0aGUgY29tcG9uZW50XG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRWaXNpYmxlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWaXNpYmxlKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl92aXNpYmxlID09PSB2aXNpYmxlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlzaWJsZSA9IHZpc2libGU7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaXNpYmxlU3R5bGluZyh2aXNpYmxlKTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIuc2tpcFRyYW5zaXRpb24odGhpcy5jb21wb25lbnQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZpc2libGUgPyBfdGhpczIuc2hvdygpIDogX3RoaXMyLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0VmlzaWJsZVN0eWxpbmcnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFZpc2libGVTdHlsaW5nKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGVzID0gdGhpcy5jb21wb25lbnQuc3R5bGU7XG4gICAgICAgICAgICAgICAgaWYgKHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc3R5bGVzLnZpc2liaWxpdHkgPSAndmlzaWJsZSc7XG4gICAgICAgICAgICAgICAgICAgIHN0eWxlcy50b3AgPSAnJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzdHlsZXMudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICAgICAgICAgICAgICBzdHlsZXMudG9wID0gJzEwMDAlJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NhbGxXaGVuRG9uZUFuaW1hdGluZycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2FsbFdoZW5Eb25lQW5pbWF0aW5nKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAvLyBDYWxsIHRoZSBjYWxsYmFjayBhZnRlciB0aGUgdmlldyBoYXMgYmVlbiBhbmltYXRlZCBpbiBcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYW5pbWF0aW5nKSBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIub25OZXh0VHJhbnNpdGlvbkVuZCh0aGlzLmNvbXBvbmVudCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FsbGJhY2suY2FsbChfdGhpczMpO1xuICAgICAgICAgICAgICAgIH0pO2Vsc2UgY2FsbGJhY2suY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FsbGVkIGJlZm9yZSB0aGlzIGNvbXBvbmVudCBpcyBzaG93blxuICAgICAgICAgICAgICogQHZpcnR1YWxcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uU2hvdycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25TaG93KCkge31cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FsbGVkIGJlZm9yZSB0aGlzIGNvbXBvbmVudCBpcyBzaG93biBidXQgYWZ0ZXIgaXQgaGFzIHJlY2VpdmVkIGRpbWVuc2lvbnNcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uRGlzcGxheScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25EaXNwbGF5KCkge31cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FsbGVkIGFmdGVyIHRoZSBjb21wb25lbnQgaXMgc2hvd25cbiAgICAgICAgICAgICAqIEB2aXJ0dWFsXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblNob3duJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblNob3duKCkge31cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FsbGVkIGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIGhpZGRlblxuICAgICAgICAgICAgICogQHZpcnR1YWxcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uSGlkZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25IaWRlKCkge31cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FsbGVkIGFmdGVyIHRoZSBjb21wb25lbnQgaXMgaGlkZGVuXG4gICAgICAgICAgICAgKiBAdmlydHVhbFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25IaWRkZW4nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uSGlkZGVuKCkge31cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQW5pbWF0ZSB0aGUgY29tcG9uZW50IGludG8gdGhlIHZpZXdcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3Nob3cnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2luJykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGNvbXBvbmVudCBpcyBhbHJlYWR5IHZpc2libGUsIHRyaWdnZXIgdGhlIGNhbGxiYWNrIGFzIG5lZWRlZFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl92aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsV2hlbkRvbmVBbmltYXRpbmcoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2FuaW1hdGluZykge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHZpZXcgaXMgYW5pbWF0aW5nIG91dCwgc2hvdyBpdCBhZnRlciBpdCdzIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLm9uTmV4dFRyYW5zaXRpb25FbmQodGhpcy5jb21wb25lbnQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuc2hvdyhjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3Zpc2libGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2FuaW1hdGluZyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci50cmFuc2l0aW9uc1N1cHBvcnRlZDtcbiAgICAgICAgICAgICAgICB0aGlzLm9uU2hvdygpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VmlzaWJsZVN0eWxpbmcodHJ1ZSk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLnRyaWdnZXJSZWZsb3codGhpcy5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMub25EaXNwbGF5KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsV2hlbkRvbmVBbmltYXRpbmcoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uU2hvd24oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2suY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QuYWRkKCdpbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBbmltYXRlIHRoZSBjb21wb25lbnQgb3V0IG9mIHRoZSB2aWV3XG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdoaWRlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBoaWRlKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5jb250YWlucygnaW4nKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBBbHJlYWR5IGhpZGRlblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl92aXNpYmxlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbFdoZW5Eb25lQW5pbWF0aW5nKGNhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hbmltYXRpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyB2aWV3IGlzIGFuaW1hdGluZyBpbiwgc2hvdyBpdCBhZnRlciBpdCdzIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLm9uTmV4dFRyYW5zaXRpb25FbmQodGhpcy5jb21wb25lbnQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuaGlkZShjYWxsYmFjayk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX3Zpc2libGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hbmltYXRpbmcgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIudHJhbnNpdGlvbnNTdXBwb3J0ZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5vbkhpZGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNhbGxXaGVuRG9uZUFuaW1hdGluZyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25IaWRkZW4oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgY2FsbGJhY2suY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QucmVtb3ZlKCdpbicpO1xuICAgICAgICAgICAgICAgIGlmICghUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLnRyYW5zaXRpb25zU3VwcG9ydGVkKSB0aGlzLnNldFZpc2libGVTdHlsaW5nKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSGlkZSBjb21wb25lbnRzIGFmdGVyIHRyYW5zaXRpb24gb3V0XG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblRyYW5zaXRpb25FbmQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uVHJhbnNpdGlvbkVuZCgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5jb250YWlucygnaW4nKSkgdGhpcy5zZXRWaXNpYmxlU3R5bGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fYW5pbWF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gTWFpbkNvbXBvbmVudEJhc2U7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuTWFpbkNvbXBvbmVudEJhc2UgPSBNYWluQ29tcG9uZW50QmFzZTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX3NsaWNlZFRvQXJyYXkgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIHNsaWNlSXRlcmF0b3IoYXJyLCBpKSB7IHZhciBfYXJyID0gW107IHZhciBfbiA9IHRydWU7IHZhciBfZCA9IGZhbHNlOyB2YXIgX2UgPSB1bmRlZmluZWQ7IHRyeSB7IGZvciAodmFyIF9pID0gYXJyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3M7ICEoX24gPSAoX3MgPSBfaS5uZXh0KCkpLmRvbmUpOyBfbiA9IHRydWUpIHsgX2Fyci5wdXNoKF9zLnZhbHVlKTsgaWYgKGkgJiYgX2Fyci5sZW5ndGggPT09IGkpIGJyZWFrOyB9IH0gY2F0Y2ggKGVycikgeyBfZCA9IHRydWU7IF9lID0gZXJyOyB9IGZpbmFsbHkgeyB0cnkgeyBpZiAoIV9uICYmIF9pW1wicmV0dXJuXCJdKSBfaVtcInJldHVyblwiXSgpOyB9IGZpbmFsbHkgeyBpZiAoX2QpIHRocm93IF9lOyB9IH0gcmV0dXJuIF9hcnI7IH0gcmV0dXJuIGZ1bmN0aW9uIChhcnIsIGkpIHsgaWYgKEFycmF5LmlzQXJyYXkoYXJyKSkgeyByZXR1cm4gYXJyOyB9IGVsc2UgaWYgKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QoYXJyKSkgeyByZXR1cm4gc2xpY2VJdGVyYXRvcihhcnIsIGkpOyB9IGVsc2UgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGRlc3RydWN0dXJlIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKTsgfSB9OyB9KCk7XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGRlZmF1bHRTaXplID0ge1xuICAgICAgICB3aWR0aDogMjAwLFxuICAgICAgICBoZWlnaHQ6IDIwMFxuICAgIH07XG4gICAgdmFyIG1pbmltdW1TaXplID0ge1xuICAgICAgICB3aWR0aDogNTAsXG4gICAgICAgIGhlaWdodDogNTBcbiAgICB9O1xuICAgIHZhciBtYXhpbXVtU2l6ZSA9IHtcbiAgICAgICAgd2lkdGg6IDgwMCxcbiAgICAgICAgaGVpZ2h0OiA4MDBcbiAgICB9O1xuICAgIHZhciBkZWZhdWx0UG9zaXRpb24gPSB7XG4gICAgICAgIFBvc2l0aW9uWTogMCAvKiBOZWFyICovXG4gICAgICAgICwgUG9zaXRpb25YOiAwIC8qIE5lYXIgKi8gLy8gTGVmdFxuICAgIH07XG5cbiAgICB2YXIgUmVzaXplYWJsZVJlc291cmNlSW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gY29udGFpbmVyIFRoZSBjb250YWluZXIgdG8gcmVuZGVyIHRoZSBpbWFnZSBpblxuICAgICAgICAgKiBAcGFyYW0gb3B0aW9uc1xuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gUmVzaXplYWJsZVJlc291cmNlSW1hZ2UoY29udGFpbmVyLCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmVzaXplYWJsZVJlc291cmNlSW1hZ2UpO1xuXG4gICAgICAgICAgICB0aGlzLnJlc2l6ZUNhbGxiYWNrID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICAgICAgdGhpcy5hY3Rpb24gPSBvcHRpb25zLmFjdGlvbjtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgICAgICAgICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuaW1hZ2UpO1xuICAgICAgICAgICAgdGhpcy5ldmVudHMgPSBbXTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnRyYW5zaXRpb25DbGFzcykge1xuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2UuY2xhc3NMaXN0LmFkZChvcHRpb25zLnRyYW5zaXRpb25DbGFzcyk7XG4gICAgICAgICAgICAgICAgdGhpcy51c2VUcmFuc2l0aW9ucyA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnRyYW5zaXRpb25JbkNsYXNzID0gb3B0aW9ucy50cmFuc2l0aW9uSW5DbGFzcztcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wYWRkaW5nID09PSAndW5kZWZpbmVkJykgdGhpcy5wYWRkaW5nID0gUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLmNhbGN1bGF0ZVBhZGRpbmc7ZWxzZSBpZiAob3B0aW9ucy5wYWRkaW5nID09PSBmYWxzZSkgdGhpcy5wYWRkaW5nID0geyB3aWR0aDogMCwgaGVpZ2h0OiAwIH07ZWxzZSB0aGlzLnBhZGRpbmcgPSBvcHRpb25zLnBhZGRpbmc7XG4gICAgICAgICAgICB0aGlzLmltYWdlTG9hZENhbGxiYWNrID0gb3B0aW9ucy5vbkxvYWQ7XG4gICAgICAgICAgICB0aGlzLmltYWdlRXJyb3JDYWxsYmFjayA9IG9wdGlvbnMub25FcnJvcjtcbiAgICAgICAgICAgIHRoaXMuaW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMub25JbWFnZUVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5pbWFnZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9uSW1hZ2VMb2FkKGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKF90eXBlb2Yob3B0aW9ucy5iYXNlSW5zdHJ1Y3Rpb25zKSA9PT0gJ29iamVjdCcpIHRoaXMuYmFzZUluc3RydWN0aW9ucyA9IG9wdGlvbnMuYmFzZUluc3RydWN0aW9ucztcbiAgICAgICAgICAgIGlmICh0aGlzLmluc3RydWN0aW9ucyAmJiBvcHRpb25zLmxvYWRJbml0aWFsbHkgIT09IGZhbHNlKSB0aGlzLnVwZGF0ZSh0aGlzLmluc3RydWN0aW9ucyk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5saXN0ZW5Ub1dpbmRvd1Jlc2l6ZSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGltZW91dCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB2YXIgd2FpdE1zID0gNTAwO1xuICAgICAgICAgICAgICAgIHZhciByZXNpemVDYWxsYmFjayA9IGZ1bmN0aW9uIHJlc2l6ZUNhbGxiYWNrKCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LCB3YWl0TXMpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHJlc2l6ZUNhbGxiYWNrLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMucHVzaChbd2luZG93LCAncmVzaXplJywgcmVzaXplQ2FsbGJhY2tdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbCB0aGlzIGZ1bmN0aW9uIGFmdGVyIHRoZSBjb21wb25lbnQgd2lsbCBubyBsb25nZXIgYmUgdXNlZFxuICAgICAgICAgKiB0byByZW1vdmUgYW55IGludGVybmFsbHkgYXR0YWNoZWQgZXZlbnQgaGFuZGxlcnNcbiAgICAgICAgICovXG5cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmVzaXplYWJsZVJlc291cmNlSW1hZ2UsIFt7XG4gICAgICAgICAgICBrZXk6ICdkZXN0cm95JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXN0cm95KCkge1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB0aGlzLmV2ZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWdpc3RlcmVkRXZlbnQgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9yZWdpc3RlcmVkRXZlbnQgPSBfc2xpY2VkVG9BcnJheShyZWdpc3RlcmVkRXZlbnQsIDMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9IF9yZWdpc3RlcmVkRXZlbnRbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlID0gX3JlZ2lzdGVyZWRFdmVudFsxXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IF9yZWdpc3RlcmVkRXZlbnRbMl07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50VHlwZSwgbGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEF0dGFjaGVkIHRvIHRoZSBpbWFnZSBlcnJvciBldmVudFxuICAgICAgICAgICAgICogQHBhcmFtIGVycm9yRXZlbnQgVGhlIGVycm9yIGV2ZW50XG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkltYWdlRXJyb3InLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uSW1hZ2VFcnJvcihlcnJvckV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLmltYWdlRXJyb3JDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5pbWFnZUVycm9yQ2FsbGJhY2sodGhpcy5pbWFnZSwgZXJyb3JFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEF0dGFjaGVkIHRvIHRoZSBpbWFnZSBsb2FkIGV2ZW50XG4gICAgICAgICAgICAgKiBAcGFyYW0gZXZlbnQgVGhlIGltYWdlIGxvYWQgZXZlbnRcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uSW1hZ2VMb2FkJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkltYWdlTG9hZChldmVudCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5pbWFnZUxvYWRDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5pbWFnZUxvYWRDYWxsYmFjayh0aGlzLmltYWdlLCBldmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnZpc2libGUpIHRoaXMuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTaG93IHRoZSBpbWFnZVxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2hvdycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpc2libGUpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy51c2VUcmFuc2l0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuVmlzaWJpbGl0eUhlbHBlci5zaG93KHRoaXMuaW1hZ2UsIHRoaXMudHJhbnNpdGlvbkluQ2xhc3MpLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpczIuaW1hZ2VEaXNwbGF5Q2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIF90aGlzMi5pbWFnZURpc3BsYXlDYWxsYmFjayhfdGhpczIuaW1hZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FsY3VsYXRlIHRoZSBzaXplIG9mIHRoZSBpbWFnZSBmcm9tIHRoZSBjb250YWluZXJcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NhbGN1bGF0ZVJlbmRlclNpemUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNhbGN1bGF0ZVJlbmRlclNpemUoKSB7XG4gICAgICAgICAgICAgICAgLy8gR3JhYiB0aGUgc2l6ZSBvZiB0aGUgY29udGFpbmVyXG4gICAgICAgICAgICAgICAgdmFyIF9jb250YWluZXIgPSB0aGlzLmNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgY2xpZW50V2lkdGggPSBfY29udGFpbmVyLmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBjbGllbnRIZWlnaHQgPSBfY29udGFpbmVyLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm4gZGVmYXVsdCBzaXplIGlmIHRoZSBjb250YWluZXIgd2FzIG5vdCBhYmxlIHRvIGJlIGRldGVjdGVkXG5cbiAgICAgICAgICAgICAgICBpZiAoIWNsaWVudEhlaWdodCB8fCAhY2xpZW50V2lkdGgpIHJldHVybiBkZWZhdWx0U2l6ZTtcbiAgICAgICAgICAgICAgICAvLyBHcmFiIHRoZSBwYWRkaW5nIHNpemVcbiAgICAgICAgICAgICAgICB2YXIgcGFkZGluZyA9IHR5cGVvZiB0aGlzLnBhZGRpbmcgPT09ICdmdW5jdGlvbicgPyB0aGlzLnBhZGRpbmcodGhpcy5jb250YWluZXIpIDogdGhpcy5wYWRkaW5nO1xuICAgICAgICAgICAgICAgIC8vIFRoZSBkZXRlY3RlZCBzaXplIG9mIHRoZSBjb250YWluZXIgbWludXMgcGFkZGluZ1xuICAgICAgICAgICAgICAgIHZhciBkZXRlY3RlZFNpemUgPSB7XG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiBjbGllbnRXaWR0aCAtIHBhZGRpbmcud2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogY2xpZW50SGVpZ2h0IC0gcGFkZGluZy5oZWlnaHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgcGl4ZWwgcmF0aW8gZm9yIHJldGluYSBzY3JlZW5zXG4gICAgICAgICAgICAgICAgdmFyIHBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxO1xuICAgICAgICAgICAgICAgIC8vIEFkanVzdCB0aGUgZGV0ZWN0ZWQgc2l6ZSB0byBhY2NvdW50IGZvciBwaXhlbCByYXRpb1xuICAgICAgICAgICAgICAgIGRldGVjdGVkU2l6ZS53aWR0aCAqPSBwaXhlbFJhdGlvO1xuICAgICAgICAgICAgICAgIGRldGVjdGVkU2l6ZS5oZWlnaHQgKj0gcGl4ZWxSYXRpbztcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLkJveEhlbHBlci5mbG9vcihSaWRlU3R5bGVyU2hvd2Nhc2UuQm94SGVscGVyLmJvdW5kKGRldGVjdGVkU2l6ZSwgbWluaW11bVNpemUsIG1heGltdW1TaXplKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NpemVJc0RpZmZlcmVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2l6ZUlzRGlmZmVyZW50KGJveCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXJyZW50U2l6ZSkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9jdXJyZW50U2l6ZSA9IHRoaXMuY3VycmVudFNpemUsXG4gICAgICAgICAgICAgICAgICAgIHRoaXNXaWR0aCA9IF9jdXJyZW50U2l6ZS53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgdGhpc0hlaWdodCA9IF9jdXJyZW50U2l6ZS5oZWlnaHQ7XG4gICAgICAgICAgICAgICAgdmFyIGJveFdpZHRoID0gYm94LndpZHRoLFxuICAgICAgICAgICAgICAgICAgICBib3hIZWlnaHQgPSBib3guaGVpZ2h0O1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXNXaWR0aCAhPT0gYm94V2lkdGggfHwgdGhpc0hlaWdodCAhPT0gYm94SGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVcGRhdGUgb3IgY3JlYXRlIHRoZSBpbWFnZVxuICAgICAgICAgICAgICogQHBhcmFtIGluc3RydWN0aW9ucyBOZXcgaW5zdHJ1Y3Rpb25zIHRvIHJlbmRlciB0aGUgaW1hZ2Ugd2l0aFxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndXBkYXRlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoaW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5lZWRzVXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgLy8gVXBkYXRlIGluc3RydWN0aW9uc1xuICAgICAgICAgICAgICAgIGlmIChpbnN0cnVjdGlvbnMgJiYgdGhpcy5pbnN0cnVjdGlvbnMgIT09IGluc3RydWN0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmluc3RydWN0aW9ucyA9IGluc3RydWN0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgbmVlZHNVcGRhdGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgc2l6ZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlbmRlclNpemUgPSB0aGlzLmNhbGN1bGF0ZVJlbmRlclNpemUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2l6ZUlzRGlmZmVyZW50KHJlbmRlclNpemUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRTaXplID0gcmVuZGVyU2l6ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5lZWRzVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobmVlZHNVcGRhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9jdXJyZW50U2l6ZTIgPSB0aGlzLmN1cnJlbnRTaXplLFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggPSBfY3VycmVudFNpemUyLndpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gX2N1cnJlbnRTaXplMi5oZWlnaHQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSByaWRlc3R5bGVyLmFqYXgudXJsKHRoaXMuYWN0aW9uLCBSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBXaWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBIZWlnaHQ6IGhlaWdodFxuICAgICAgICAgICAgICAgICAgICB9LCBkZWZhdWx0UG9zaXRpb24sIHRoaXMuYmFzZUluc3RydWN0aW9ucywgdGhpcy5pbnN0cnVjdGlvbnMpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmVzaXplYWJsZVJlc291cmNlSW1hZ2U7XG4gICAgfSgpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJlc2l6ZWFibGVSZXNvdXJjZUltYWdlID0gUmVzaXplYWJsZVJlc291cmNlSW1hZ2U7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlQmFja2dyb3VuZCA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJEMpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkQyk7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlQmFja2dyb3VuZCgpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kKTtcblxuICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VCYWNrZ3JvdW5kLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlQmFja2dyb3VuZCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQsIFt7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplQ29tcG9uZW50KCkge1xuICAgICAgICAgICAgICAgIHZhciBiYWNrZ3JvdW5kRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1iYWNrZ3JvdW5kJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBiYWNrZ3JvdW5kVGV4dHVyZSA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1iYWNrZ3JvdW5kLXRleHR1cmUnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogYmFja2dyb3VuZEVsZW1lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IGJhY2tncm91bmRFbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQ7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlQmFja2dyb3VuZCA9IFJpZGVTdHlsZXJTaG93Y2FzZUJhY2tncm91bmQ7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtYnV0dG9uLXBpY2tlcic7XG4gICAgdmFyIG9wdGlvbkNsYXNzID0gY2xhc3NOYW1lICsgJy1vcHRpb24nO1xuICAgIHZhciBhY3RpdmVDbGFzcyA9IG9wdGlvbkNsYXNzICsgJy1hY3RpdmUnO1xuICAgIHZhciBvcHRpb25zQ291bnQgPSAxO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZUJ1dHRvblBpY2tlciA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJEMpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZUJ1dHRvblBpY2tlciwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VCdXR0b25QaWNrZXIoc2hvd2Nhc2VJbnN0YW5jZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZUJ1dHRvblBpY2tlcik7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VCdXR0b25QaWNrZXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VCdXR0b25QaWNrZXIpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UpKTtcblxuICAgICAgICAgICAgX3RoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzIuNWVtJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy10aXRsZScsXG4gICAgICAgICAgICAgICAgdGV4dDogb3B0aW9ucy50aXRsZSxcbiAgICAgICAgICAgICAgICBhcHBlbmRUbzogX3RoaXMuY29tcG9uZW50XG4gICAgICAgICAgICB9KS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vcHRpb25Db250YWluZXIuc3R5bGUub3BhY2l0eSA9IF90aGlzLm9wdGlvbkNvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID09ICcwJyA/ICcxJyA6ICcwJztcbiAgICAgICAgICAgICAgICBfdGhpcy5vcHRpb25Db250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gX3RoaXMub3B0aW9uQ29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9PSAnc2NhbGVZKDApJyA/ICdzY2FsZVkoMSknIDogJ3NjYWxlWSgwKSc7XG4gICAgICAgICAgICAgICAgX3RoaXMub3B0aW9uQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9IF90aGlzLm9wdGlvbkNvbnRhaW5lci5zdHlsZS5oZWlnaHQgPT0gJzBweCcgPyAnYXV0bycgOiAnMHB4JztcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9wdGlvbnNDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb21wb25lbnQuc3R5bGUuaGVpZ2h0ID0gX3RoaXMuY29tcG9uZW50LnN0eWxlLmhlaWdodCA9PSAnMi41ZW0nID8gJzQuNWVtJyA6ICcyLjVlbSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29tcG9uZW50LnN0eWxlLmhlaWdodCA9IF90aGlzLmNvbXBvbmVudC5zdHlsZS5oZWlnaHQgPT0gJzIuNWVtJyA/ICc3ZW0nIDogJzIuNWVtJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb21wb25lbnQuc3R5bGUuaGVpZ2h0ID0gX3RoaXMuY29tcG9uZW50LnN0eWxlLmhlaWdodCA9PSAnMi41ZW0nID8gJzkuMjVlbScgOiAnMi41ZW0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbXBvbmVudC5zdHlsZS5oZWlnaHQgPSBfdGhpcy5jb21wb25lbnQuc3R5bGUuaGVpZ2h0ID09ICcyLjVlbScgPyAnMTEuMjVlbScgOiAnMi41ZW0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb21wb25lbnQuc3R5bGUuaGVpZ2h0ID0gJzIuNWVtJztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLm9wdGlvbkNvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctb3B0aW9uLWNvbnRhaW5lcicsXG4gICAgICAgICAgICAgICAgYXBwZW5kVG86IF90aGlzLmNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICBvcGFjaXR5OiAnMCcsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodDogJzBweCcsXG4gICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3NjYWxlWSgwKSdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLm9wdGlvbkNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5vbk9wdGlvbkNsaWNrKGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgX3RoaXMub3B0aW9uQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ0RPTU5vZGVJbnNlcnRlZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5vcHRpb25Db250YWluZXIuc3R5bGUub3BhY2l0eSA9ICcxJztcbiAgICAgICAgICAgICAgICBfdGhpcy5vcHRpb25Db250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWSgxKSc7XG4gICAgICAgICAgICAgICAgX3RoaXMub3B0aW9uQ29udGFpbmVyLnN0eWxlLmhlaWdodCA9ICdhdXRvJztcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9wdGlvbnNDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb21wb25lbnQuc3R5bGUuaGVpZ2h0ID0gJzQuNWVtJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5jb21wb25lbnQuc3R5bGUuaGVpZ2h0ID0gJzdlbSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuY29tcG9uZW50LnN0eWxlLmhlaWdodCA9ICc5LjI1ZW0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbXBvbmVudC5zdHlsZS5oZWlnaHQgPSAnMTEuMjVlbSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmNvbXBvbmVudC5zdHlsZS5oZWlnaHQgPSAnMi41ZW0nO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMub3B0aW9uQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vcHRpb25Db250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlWSgwKSc7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5vcHRpb25Db250YWluZXIuc3R5bGUuaGVpZ2h0ID0gJzBweCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyLCBbe1xuICAgICAgICAgICAga2V5OiAnc2V0T3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuZW1wdHkodGhpcy5vcHRpb25Db250YWluZXIpO1xuICAgICAgICAgICAgICAgIG9wdGlvbnNDb3VudCA9IG9wdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHZhciBmcmFnbWVudCA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gb3B0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbkVsZW1lbnQgPSBPYmplY3QuYXNzaWduKFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG9wdGlvbkNsYXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IG9wdGlvbi5sYWJlbFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb3B0aW9uLnZhbHVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb24uYWN0aXZlKSBvcHRpb25FbGVtZW50LmNsYXNzTGlzdC5hZGQoYWN0aXZlQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZnJhZ21lbnQuYXBwZW5kQ2hpbGQob3B0aW9uRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25PcHRpb25DbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25PcHRpb25DbGljayhldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBwYXJlbnRzIHVudGlsIHdlJ3ZlIHJlYWNoZWQgdGhlIGJvdW5kIGVsZW1lbnRcbiAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudFRhcmdldCAhPT0gdGhpcy5vcHRpb25Db250YWluZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKG9wdGlvbkNsYXNzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQW4gb3B0aW9uIHdhcyBjbGlja2VkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGFjdGl2ZSBjbGFzcyBmcm9tIHRoZSBvbGQgb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY2hpbGRyZW5XaXRoQ2xhc3Nlcyh0aGlzLm9wdGlvbkNvbnRhaW5lciwgYWN0aXZlQ2xhc3MpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZC5jbGFzc0xpc3QucmVtb3ZlKGFjdGl2ZUNsYXNzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IC8vIEFkZCBpdCB0byB0aGUgbmV3IG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjIgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgJiYgX2l0ZXJhdG9yMi5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmFkZChhY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9uU2VsZWN0ZWRDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5vcHRpb25TZWxlY3RlZENhbGxiYWNrKGN1cnJlbnRUYXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUYXJnZXQgPSBjdXJyZW50VGFyZ2V0LnBhcmVudEVsZW1lbnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZUJ1dHRvblBpY2tlcjtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5Db21wb25lbnRCYXNlKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VCdXR0b25QaWNrZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2VCdXR0b25QaWNrZXI7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlQ2hhbmdlV2hlZWxTaXplID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkUikge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlQ2hhbmdlV2hlZWxTaXplLCBfUmlkZVN0eWxlclNob3djYXNlJFIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZShzaG93Y2FzZUluc3RhbmNlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlQ2hhbmdlV2hlZWxTaXplKTtcblxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZUNoYW5nZVdoZWVsU2l6ZSkpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSwge1xuICAgICAgICAgICAgICAgIHRpdGxlOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2NoYW5nZS13aGVlbC1zaXplJylcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgX3RoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5hZGQoJ3JpZGVzdHlsZXItc2hvd2Nhc2UtY2hhbmdlLXdoZWVsLXNpemUnKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VDaGFuZ2VXaGVlbFNpemUsIFt7XG4gICAgICAgICAgICBrZXk6ICdzZXRGaXRtZW50T3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0Rml0bWVudE9wdGlvbnMoZml0bWVudHMsIGFjdGl2ZUZpdG1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VlbkRpYW1ldGVycyA9IHt9O1xuICAgICAgICAgICAgICAgIHZhciBkaWFtZXRlckZpdG1lbnRzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGZpdG1lbnRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpdG1lbnQgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRpYW1ldGVyID0gZml0bWVudC5EaWFtZXRlck1pbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWFtZXRlciBpbiBzZWVuRGlhbWV0ZXJzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlZW5EaWFtZXRlcnNbZGlhbWV0ZXJdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFtZXRlckZpdG1lbnRzLnB1c2goW2RpYW1ldGVyLCBmaXRtZW50XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGRpYW1ldGVyRml0bWVudHMuc29ydChmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYVswXSAtIGJbMF07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGRpYW1ldGVyRml0bWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2V0T3B0aW9ucyhSaWRlU3R5bGVyU2hvd2Nhc2UuQXJyYXlIZWxwZXIubWFwKGRpYW1ldGVyRml0bWVudHMsIGZ1bmN0aW9uIChkaWFtZXRlckZpdG1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBkaWFtZXRlckZpdG1lbnRbMF0gKyAn4oCzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBkaWFtZXRlckZpdG1lbnRbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IGRpYW1ldGVyRml0bWVudFsxXSA9PT0gYWN0aXZlRml0bWVudFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VDaGFuZ2VXaGVlbFNpemU7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlQnV0dG9uUGlja2VyKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VDaGFuZ2VXaGVlbFNpemUgPSBSaWRlU3R5bGVyU2hvd2Nhc2VDaGFuZ2VXaGVlbFNpemU7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgbW9kYWxDbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLW1vZGFsJztcbiAgICB2YXIgYmFja2Ryb3BDbGFzcyA9IG1vZGFsQ2xhc3MgKyAnLWJhY2tkcm9wJztcblxuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJEMpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsLCBfUmlkZVN0eWxlclNob3djYXNlJEMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsKHNob3djYXNlSW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsKSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlKSk7XG5cbiAgICAgICAgICAgIF90aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBiYWNrZHJvcCBpZiBuZWVkZWRcbiAgICAgICAgICAgIF90aGlzLmNyZWF0ZUJhY2tkcm9wSWZOZWVkZWQoKTtcbiAgICAgICAgICAgIC8vIENyZWF0ZSB0aGUgbW9kYWxcbiAgICAgICAgICAgIF90aGlzLmJ1aWxkTW9kYWwoKTtcbiAgICAgICAgICAgIC8vIE1vZGFscyBzdGFydCBvZmYgaGlkZGVuIHVudGlsIHNob3duXG4gICAgICAgICAgICBfdGhpcy5zZXRWaXNpYmlsaXR5KGZhbHNlKTtcbiAgICAgICAgICAgIC8vIE1vZGFscyBhcmUgYXBwZW5kZWQgdG8gdGhlIHNob3djYXNlIGNvbnRhaW5lclxuICAgICAgICAgICAgX3RoaXMucGFyZW50ID0gc2hvd2Nhc2VJbnN0YW5jZS5jb250YWluZXI7XG4gICAgICAgICAgICBfdGhpcy5wYXJlbnQuYXBwZW5kQ2hpbGQoX3RoaXMuY29tcG9uZW50KTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAgICAgICAgICogQnVpbGQgdGhlIG1vZGFsIERPTSBzdHJ1Y3R1cmVcbiAgICAgICAgICovXG5cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlTW9kYWwsIFt7XG4gICAgICAgICAgICBrZXk6ICdidWlsZE1vZGFsJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZE1vZGFsKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSBPYmplY3QuYXNzaWduKFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBtb2RhbENsYXNzXG4gICAgICAgICAgICAgICAgfSksIHtcbiAgICAgICAgICAgICAgICAgICAgbW9kYWw6IHRoaXNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmZ1bGwpIHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5hZGQobW9kYWxDbGFzcyArICctZnVsbCcpO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBtb2RhbENsYXNzICsgJy1jbG9zZScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIuaGlkZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYWN0aW9ucykgdGhpcy5idWlsZEFjdGlvbnModGhpcy5vcHRpb25zLmFjdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdidWlsZEFjdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkQWN0aW9ucyhhY3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB2YXIgYWN0aW9uQ29udGFpbmVyID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG1vZGFsQ2xhc3MgKyAnLWFjdGlvbnMnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGFjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aW9uQnV0dG9uID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlQnV0dG9uKFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBhY3Rpb25Db250YWluZXJcbiAgICAgICAgICAgICAgICAgICAgfSwgYWN0aW9uKSk7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYWN0aW9uLmFjdGlvbiA9PT0gJ2Z1bmN0aW9uJykgYWN0aW9uLmFjdGlvbigpO2Vsc2UgaWYgKGFjdGlvbi5hY3Rpb24gPT09ICdoaWRlLW1vZGFsJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gYWN0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhY3Rpb24gPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3AoYWN0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDYWxsZWQgd2hlbiB0aGlzIG1vZGFsIGlzIGxheWVkLW91dCBhbmQgYWJvdXQgdG8gdHJhbnNpdGlvbiBpblxuICAgICAgICAgICAgICogQHZpcnR1YWxcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uU2hvdycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25TaG93KCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnRyaWdnZXIoJ21vZGFsLXNob3cnLCB7IG1vZGFsOiB0aGlzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDYWxsZWQgd2hlbiB0aGlzIG1vZGFsIGlzIHZpc2libGVcbiAgICAgICAgICAgICAqIEB2aXJ0dWFsXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblNob3duJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblNob3duKCkge31cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FsbGVkIHdoZW4gdGhpcyBtb2RhbCBpcyBhYm91dCB0byB0cmFuc2l0aW9uIG91dFxuICAgICAgICAgICAgICogQHZpcnR1YWxcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uSGlkZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25IaWRlKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnRyaWdnZXIoJ21vZGFsLWhpZGUnLCB7IG1vZGFsOiB0aGlzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDYWxsZWQgd2hlbiB0aGlzIG1vZGFsIGlzIGhpZGRlblxuICAgICAgICAgICAgICogQHZpcnR1YWxcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uSGlkZGVuJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkhpZGRlbigpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnJlbW92ZU9uSGlkZGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGFyZW50LnJlbW92ZUNoaWxkKHRoaXMuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3Nob3cnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IFJpZGVTdHlsZXJTaG93Y2FzZS5WaXNpYmlsaXR5SGVscGVyLnNob3codGhpcy5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMub25TaG93KCk7XG4gICAgICAgICAgICAgICAgcHJvbWlzZS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5vblNob3duKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2hpZGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB2YXIgcHJvbWlzZSA9IFJpZGVTdHlsZXJTaG93Y2FzZS5WaXNpYmlsaXR5SGVscGVyLmhpZGUodGhpcy5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMub25IaWRlKCk7XG4gICAgICAgICAgICAgICAgcHJvbWlzZS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5vbkhpZGRlbigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRWaXNpYmlsaXR5JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRWaXNpYmlsaXR5KHZpc2libGUpIHtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuVmlzaWJpbGl0eUhlbHBlci5zZXRWaXNpYmlsaXR5KHRoaXMuY29tcG9uZW50LCB2aXNpYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ3JlYXRlcyB0aGUgYmFja2Ryb3AgaWYgbmVlZGVkXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdjcmVhdGVCYWNrZHJvcElmTmVlZGVkJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVCYWNrZHJvcElmTmVlZGVkKCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gcHJldmlvdXNseSBleGlzdGluZyBiYWNrZHJvcCBjcmVhdGUgYSBuZXcgb25lXG4gICAgICAgICAgICAgICAgaWYgKCFSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5oYXNDaGlsZFdpdGhDbGFzcyh0aGlzLnNob3djYXNlLmNvbnRhaW5lciwgYmFja2Ryb3BDbGFzcykpIG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbEJhY2tkcm9wKHRoaXMuc2hvd2Nhc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsID0gUmlkZVN0eWxlclNob3djYXNlTW9kYWw7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcCA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJEMyKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbEJhY2tkcm9wLCBfUmlkZVN0eWxlclNob3djYXNlJEMyKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbEJhY2tkcm9wKHNob3djYXNlSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbEJhY2tkcm9wKTtcblxuICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBiYWNrZHJvcFxuICAgICAgICAgICAgdmFyIF90aGlzNiA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbEJhY2tkcm9wLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcCkpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSkpO1xuXG4gICAgICAgICAgICBfdGhpczYuYnVpbGRCYWNrZHJvcCgpO1xuICAgICAgICAgICAgLy8gVGhlIGJhY2tkcm9wIHN0YXJ0cyBvZmYgaGlkZGVuXG4gICAgICAgICAgICBfdGhpczYuc2V0VmlzaWJpbGl0eShmYWxzZSk7XG4gICAgICAgICAgICAvLyBBcHBlbmQgdGhlIGJhY2tkcm9wIHRvIHRoZSBzaG93Y2FzZSBjb250YWluZXJcbiAgICAgICAgICAgIHNob3djYXNlSW5zdGFuY2UuY29udGFpbmVyLmFwcGVuZENoaWxkKF90aGlzNi5jb21wb25lbnQpO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzNjtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbEJhY2tkcm9wLCBbe1xuICAgICAgICAgICAga2V5OiAnYnVpbGRCYWNrZHJvcCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRCYWNrZHJvcCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM3ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudFdpdGhDbGFzcygnZGl2JywgYmFja2Ryb3BDbGFzcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0b3BWaXNpYmxlTW9kYWwgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5sYXN0U2libGluZ1dpdGhDbGFzcyhfdGhpczcuY29tcG9uZW50LCBtb2RhbENsYXNzLCAnaW4nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvcFZpc2libGVNb2RhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wVmlzaWJsZU1vZGFsLm1vZGFsLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplQ29tcG9uZW50KCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczggPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMub24oJ21vZGFsLXNob3cnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM4LnVwZGF0ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uKCdtb2RhbC1oaWRlJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzOC51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSGlkZSBvciBzaG93IHRoZSBiYWNrZHJvcCBiYXNlZCBvZmYgdGhlIG51bWJlciBvZiB2aXNpYmxlIG1vZGFsc1xuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndXBkYXRlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGUoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhhc1Zpc2libGVNb2RhbCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmhhc1NpYmxpbmdXaXRoQ2xhc3ModGhpcy5jb21wb25lbnQsIG1vZGFsQ2xhc3MsICdpbicpO1xuICAgICAgICAgICAgICAgIHRoaXNbaGFzVmlzaWJsZU1vZGFsID8gJ3Nob3cnIDogJ2hpZGUnXSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzaG93JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93KCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuVmlzaWJpbGl0eUhlbHBlci5zaG93KHRoaXMuY29tcG9uZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnaGlkZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGlkZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlZpc2liaWxpdHlIZWxwZXIuaGlkZSh0aGlzLmNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldFZpc2liaWxpdHknLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFZpc2liaWxpdHkodmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5WaXNpYmlsaXR5SGVscGVyLnNldFZpc2liaWxpdHkodGhpcy5jb21wb25lbnQsIHZpc2libGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsQmFja2Ryb3A7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlTW9kYWxCYWNrZHJvcCA9IFJpZGVTdHlsZXJTaG93Y2FzZU1vZGFsQmFja2Ryb3A7XG4gICAgKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCkge1xuICAgICAgICA7XG4gICAgfSkoUmlkZVN0eWxlclNob3djYXNlTW9kYWwgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlTW9kYWwgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIG9wdGlvbk1lbnVDbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLW9wdGlvbi1tZW51JztcbiAgICB2YXIgb3B0aW9uTWVudU9wdGlvbkNsYXNzID0gb3B0aW9uTWVudUNsYXNzICsgJy1vcHRpb24nO1xuICAgIHZhciBvcHRpb25NZW51T3B0aW9uQWN0aXZlQ2xhc3MgPSBvcHRpb25NZW51T3B0aW9uQ2xhc3MgKyAnLWFjdGl2ZSc7XG4gICAgdmFyIG9wdGlvbk1lbnVMb2FkaW5nQ2xhc3MgPSBvcHRpb25NZW51Q2xhc3MgKyAnLWxvYWRpbmcnO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZU9wdGlvbk1lbnUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZU9wdGlvbk1lbnUobmFtZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZU9wdGlvbk1lbnUpO1xuXG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG9wdGlvbk1lbnVDbGFzc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChjbGlja0V2ZW50KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9uQ2xpY2tlZChjbGlja0V2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMpIHRoaXMuc2V0T3B0aW9ucyhvcHRpb25zKTtlbHNlIHRoaXMuc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51LCBbe1xuICAgICAgICAgICAga2V5OiAnc2V0TG9hZGluZycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TG9hZGluZyhsb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LnRvZ2dsZShvcHRpb25NZW51TG9hZGluZ0NsYXNzLCBsb2FkaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZ2VuZXJhdGVPcHRpb25FbGVtZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZU9wdGlvbkVsZW1lbnQob3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9wdGlvbkVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogb3B0aW9uTWVudU9wdGlvbkNsYXNzLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBvcHRpb24ubGFiZWxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBvcHRpb25FbGVtZW50LnZhbHVlID0gb3B0aW9uLnZhbHVlO1xuICAgICAgICAgICAgICAgIHJldHVybiBvcHRpb25FbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdjbGVhck9wdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNsZWFyT3B0aW9ucygpIHtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5lbXB0eSh0aGlzLmNvbXBvbmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2FwcGVuZE9wdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFwcGVuZE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBvcHRpb25zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hcHBlbmRDaGlsZCh0aGlzLmdlbmVyYXRlT3B0aW9uRWxlbWVudChvcHRpb24pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRPcHRpb25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyT3B0aW9ucygpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kT3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRWYWx1ZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdGhpcy5jb21wb25lbnQuY2hpbGRyZW4ubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb25FbGVtZW50ID0gdGhpcy5jb21wb25lbnQuY2hpbGRyZW5baW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYWN0aXZlID0gb3B0aW9uRWxlbWVudC52YWx1ZSA9PT0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbkVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShvcHRpb25NZW51T3B0aW9uQWN0aXZlQ2xhc3MsIGFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmUpIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uQ2xpY2tlZCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25DbGlja2VkKGNsaWNrRXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0ID0gY2xpY2tFdmVudC50YXJnZXQ7XG4gICAgICAgICAgICAgICAgaWYgKCF0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKG9wdGlvbk1lbnVPcHRpb25DbGFzcykpIHJldHVybjsgLy8gVGhlIGNsaWNrIHdhcyBub3Qgb24gYW4gb3B0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMob3B0aW9uTWVudU9wdGlvbkFjdGl2ZUNsYXNzKSkgcmV0dXJuOyAvLyBUaGUgY2xpY2sgd2FzIG9uIGFuIGFjdGl2ZSBvcHRpb25cbiAgICAgICAgICAgICAgICB2YXIgcHJldmlvdXNseVNlbGVjdGVkT3B0aW9uID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuZmlyc3RDaGlsZFdpdGhDbGFzcyh0aGlzLmNvbXBvbmVudCwgb3B0aW9uTWVudU9wdGlvbkFjdGl2ZUNsYXNzKTtcbiAgICAgICAgICAgICAgICB2YXIgbmV3U2VsZWN0ZWRPcHRpb24gPSB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZpb3VzbHlTZWxlY3RlZE9wdGlvbikgcHJldmlvdXNseVNlbGVjdGVkT3B0aW9uLmNsYXNzTGlzdC5yZW1vdmUob3B0aW9uTWVudU9wdGlvbkFjdGl2ZUNsYXNzKTtcbiAgICAgICAgICAgICAgICBuZXdTZWxlY3RlZE9wdGlvbi5jbGFzc0xpc3QuYWRkKG9wdGlvbk1lbnVPcHRpb25BY3RpdmVDbGFzcyk7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG5ld1NlbGVjdGVkT3B0aW9uLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vbkNoYW5nZSA9PT0gJ2Z1bmN0aW9uJykgdGhpcy5vbkNoYW5nZShuZXdTZWxlY3RlZE9wdGlvbi52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlT3B0aW9uTWVudTtcbiAgICB9KCk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlT3B0aW9uTWVudSA9IFJpZGVTdHlsZXJTaG93Y2FzZU9wdGlvbk1lbnU7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgcHJldkJ1dHRvbkNsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi1wcmV2JztcbiAgICB2YXIgbmV4dEJ1dHRvbkNsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi1uZXh0JztcbiAgICB2YXIgb3B0aW9uQ2xhc3MgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbic7XG4gICAgdmFyIG9wdGlvblNlbGVjdGVkQ2xhc3MgPSBvcHRpb25DbGFzcyArICctc2VsZWN0ZWQnO1xuICAgIHZhciBvcHRpb25Mb2FkaW5nQ2xhc3MgPSBvcHRpb25DbGFzcyArICctbG9hZGluZyc7XG4gICAgdmFyIG9wdGlvbkxvYWRlckNsYXNzID0gb3B0aW9uQ2xhc3MgKyAnLWxvYWRlcic7XG4gICAgdmFyIG5vUmVzdWx0c0NsYXNzID0gb3B0aW9uQ2xhc3MgKyAnLW5vLXJlc3VsdHMnO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRDKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VQYWdpbmF0aW9uQ29tcG9uZW50LCBfUmlkZVN0eWxlclNob3djYXNlJEMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQoKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudCk7XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdHJ1ZSwgdGhpcyBoYXMgbW9yZSByZXN1bHRzIHRoYXQgaXQgY2FuIGxvYWRcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VQYWdpbmF0aW9uQ29tcG9uZW50KSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgICAgIF90aGlzLmhhc01vcmVSZXN1bHRzID0gdHJ1ZTtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogSWYgdHJ1ZSwgdGhpcyBpcyBsb2FkaW5nXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF90aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBJZiB0cnVlLCB0aGUgZmlyc3QgbG9hZCBpcyBiZWluZyBwcmVmb3JtZWQgb3IgaGFzbid0IGJlZW4gcHJlZm9ybWVkIHlldC5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgX3RoaXMuaXNGaXJzdExvYWQgPSB0cnVlO1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXQgdGhpcyB0byBmYWxzZSB0byBub3Qgc2hvdyB0aGUgbm8gcmVzdWx0cyBtZXNzYWdlXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIF90aGlzLmVuYWJsZVNob3dOb1Jlc3VsdHMgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQsIFt7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplQ29tcG9uZW50KCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbidcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbkNvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLXdyYXBwZXInLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZCdXR0b24gPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdidXR0b24nLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogcHJldkJ1dHRvbkNsYXNzLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZDogUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlSWNvbignY2hldnJvbi1sZWZ0JylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRCdXR0b24gPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdidXR0b24nLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogbmV4dEJ1dHRvbkNsYXNzLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnQsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZDogUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlSWNvbignY2hldnJvbi1yaWdodCcpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gTGlzdGVuIGZvciBjbGlja3Mgb24gb3B0aW9uc1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25Db21wb25lbnRDbGljayhldmVudCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gUnVuIGNsZWFyIG9wdGlvbnMgdG8gZ2V0IHRoZSBsb2FkZXJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyT3B0aW9ucygpO1xuICAgICAgICAgICAgICAgIC8vIExvYWQgcGFnaW5hdGlvbiBhZnRlciB0aGlzIGNvbXBvbmVudCBoYXMgYmVlbiBzZXR1cFxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmxvYWRNb3JlKCk7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLlNjcm9sbEhlbHBlci5hdHRhY2hXaGVlbExpc3RlbmVyKHRoaXMuY29tcG9uZW50LCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gZXZlbnQuZGVsdGFYIHx8IGV2ZW50LmRlbHRhWTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9vcHRpb25Db250YWluZXIgPSBfdGhpczIub3B0aW9uQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsTGVmdCA9IF9vcHRpb25Db250YWluZXIuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbFdpZHRoID0gX29wdGlvbkNvbnRhaW5lci5zY3JvbGxXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldFdpZHRoID0gX29wdGlvbkNvbnRhaW5lci5vZmZzZXRXaWR0aDtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBNYXRoLm1pbihzY3JvbGxMZWZ0ICsgZGVsdGEsIHNjcm9sbFdpZHRoIC0gb2Zmc2V0V2lkdGgpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIub3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnRvdWNoU2Nyb2xsSGFuZGxlci5zZXRWYWx1ZXMobmV3VmFsdWUsIDApO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIub25TY3JvbGwoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoU2Nyb2xsSGFuZGxlciA9IG5ldyBJbXBldHVzKHtcbiAgICAgICAgICAgICAgICAgICAgc291cmNlOiB0aGlzLm9wdGlvbkNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAgICAgYm91bmNlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbXVsdGlwbGllcjogLTEsXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKHgsIHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5vcHRpb25Db250YWluZXIuc2Nyb2xsTGVmdCA9IE1hdGguZmxvb3IoeCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIub3B0aW9uQ29udGFpbmVyLnNjcm9sbFRvcCA9IHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIub25TY3JvbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgYm91bmRZOiBbMCwgMF1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnbG9hZE1vcmUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGxvYWRNb3JlKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRNb3JlKCkuYWx3YXlzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmNsZWFyT3B0aW9uTG9hZGVyKCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMy51cGRhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndXBkYXRlQm91bmRzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVCb3VuZHMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9vcHRpb25Db250YWluZXIyID0gdGhpcy5vcHRpb25Db250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFdpZHRoID0gX29wdGlvbkNvbnRhaW5lcjIuc2Nyb2xsV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldFdpZHRoID0gX29wdGlvbkNvbnRhaW5lcjIub2Zmc2V0V2lkdGg7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRvdWNoU2Nyb2xsSGFuZGxlci5zZXRCb3VuZFgoWzAsIHNjcm9sbFdpZHRoIC0gb2Zmc2V0V2lkdGhdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25TY3JvbGwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2Nyb2xsKCkge1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGFnaW5hdGlvbkJ1dHRvbnMoKTtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uQ29udGFpbmVyID0gdGhpcy5vcHRpb25Db250YWluZXI7XG4gICAgICAgICAgICAgICAgdmFyIHJlYWNoZWRFbmRUb2xlcmFuY2UgPSAxMDtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgPj0gb3B0aW9uQ29udGFpbmVyLnNjcm9sbFdpZHRoIC0gb3B0aW9uQ29udGFpbmVyLm9mZnNldFdpZHRoIC0gcmVhY2hlZEVuZFRvbGVyYW5jZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRW5kVmlzaWJsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUJvdW5kcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkVuZFZpc2libGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uRW5kVmlzaWJsZSgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuaXNMb2FkaW5nICYmIHRoaXMuaGFzTW9yZVJlc3VsdHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRPcHRpb25Mb2FkZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkTW9yZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25Db21wb25lbnRDbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25Db21wb25lbnRDbGljayhldmVudCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAgICAgICAgIC8vIEl0ZXJhdGUgdGhyb3VnaCBwYXJlbnRzIHVudGlsIHdlJ3ZlIHJlYWNoZWQgdGhlIGJvdW5kIGVsZW1lbnRcbiAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudFRhcmdldCAhPT0gdGhpcy5jb21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKG9wdGlvbkNsYXNzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbk9wdGlvbkNsaWNrKGN1cnJlbnRUYXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGN1cnJlbnRUYXJnZXQgPT09IHRoaXMucHJldkJ1dHRvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmV2aW91c1BhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjdXJyZW50VGFyZ2V0ID09PSB0aGlzLm5leHRCdXR0b24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmV4dFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndXBkYXRlUGFnaW5hdGlvbkJ1dHRvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVBhZ2luYXRpb25CdXR0b25zKCkge1xuICAgICAgICAgICAgICAgIHZhciBvcHRpb25Db250YWluZXIgPSB0aGlzLm9wdGlvbkNvbnRhaW5lcjtcbiAgICAgICAgICAgICAgICB0aGlzLnByZXZCdXR0b24uZGlzYWJsZWQgPSBvcHRpb25Db250YWluZXIuc2Nyb2xsTGVmdCA9PT0gMDtcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRCdXR0b24uZGlzYWJsZWQgPSBvcHRpb25Db250YWluZXIuc2Nyb2xsTGVmdCA+PSBvcHRpb25Db250YWluZXIuc2Nyb2xsV2lkdGggLSBvcHRpb25Db250YWluZXIuY2xpZW50V2lkdGggLSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBBZGRzIGEgc3Bpbm5lciB0byB0aGUgZW5kIG9mIHRoZSBsaXN0IGluZGljYXRpbmcgc29tZXRoaW5nIGlzIGxvYWRpbmdcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2FkZE9wdGlvbkxvYWRlcicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkT3B0aW9uTG9hZGVyKCkge1xuICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBvcHRpb25DbGFzcyArICcgJyArIG9wdGlvbkxvYWRlckNsYXNzXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdjbGVhck9wdGlvbkxvYWRlcicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJPcHRpb25Mb2FkZXIoKSB7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIucmVtb3ZlQ2hpbGRyZW5XaXRoQ2xhc3Nlcyh0aGlzLm9wdGlvbkNvbnRhaW5lciwgb3B0aW9uTG9hZGVyQ2xhc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdhZGRPcHRpb25FbGVtZW50cycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYWRkT3B0aW9uRWxlbWVudHMoZWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaGFzTm9SZXN1bHRzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKGVsZW1lbnRzIGluc3RhbmNlb2YgRG9jdW1lbnRGcmFnbWVudCkge1xuICAgICAgICAgICAgICAgICAgICBoYXNOb1Jlc3VsdHMgPSBlbGVtZW50cy5jaGlsZE5vZGVzLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25Db250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbWVudHMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZWxlbWVudHMgaW5zdGFuY2VvZiBOb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFzTm9SZXN1bHRzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGVsZW1lbnRzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWxlbWVudCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9uQ29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGhhc05vUmVzdWx0cykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dOb1Jlc3VsdHMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhck9wdGlvbkxvYWRlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0ZpcnN0TG9hZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzaG93Tm9SZXN1bHRzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaG93Tm9SZXN1bHRzKCkge1xuICAgICAgICAgICAgICAgIHRoaXMubm9SZXN1bHRzRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBvcHRpb25DbGFzcyArICcgJyArIG5vUmVzdWx0c0NsYXNzLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ25vLXJlc3VsdHMnKSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMub3B0aW9uQ29udGFpbmVyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NsZWFyT3B0aW9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJPcHRpb25zKCkge1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmVtcHR5KHRoaXMub3B0aW9uQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE9wdGlvbkxvYWRlcigpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNGaXJzdExvYWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd1cGRhdGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZ2luYXRpb25CdXR0b25zKCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVCb3VuZHMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2Nyb2xsVG8nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNjcm9sbFRvKG5ld0xlZnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHZhciBzdGFydExlZnQgPSB0aGlzLm9wdGlvbkNvbnRhaW5lci5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IE1hdGguYWJzKHN0YXJ0TGVmdCAtIG5ld0xlZnQpIC8gMjtcbiAgICAgICAgICAgICAgICBUaW55QW5pbWF0ZS5hbmltYXRlKHN0YXJ0TGVmdCwgbmV3TGVmdCwgZHVyYXRpb24sIGZ1bmN0aW9uIChjdXJyZW50TGVmdCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQub3B0aW9uQ29udGFpbmVyLnNjcm9sbExlZnQgPSBjdXJyZW50TGVmdDtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnRvdWNoU2Nyb2xsSGFuZGxlci5zZXRWYWx1ZXMobmV3TGVmdCwgMCk7XG4gICAgICAgICAgICAgICAgfSwgJ2Vhc2VPdXRDdWJpYycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNC51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAncHJldmlvdXNQYWdlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBwcmV2aW91c1BhZ2UoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxUbyh0aGlzLm9wdGlvbkNvbnRhaW5lci5zY3JvbGxMZWZ0IC0gdGhpcy5vcHRpb25Db250YWluZXIuY2xpZW50V2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICduZXh0UGFnZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gbmV4dFBhZ2UoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxUbyh0aGlzLm9wdGlvbkNvbnRhaW5lci5zY3JvbGxMZWZ0ICsgdGhpcy5vcHRpb25Db250YWluZXIuY2xpZW50V2lkdGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZWxlY3RPcHRpb24nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNlbGVjdE9wdGlvbihvcHRpb25FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRPcHRpb24gPT09IG9wdGlvbkVsZW1lbnQpIHJldHVybjsgLy8gQWxyZWFkeSBzZWxlY3RlZFxuICAgICAgICAgICAgICAgIHZhciBvbGRPcHRpb25FbGVtZW50ID0gdGhpcy5zZWxlY3RlZE9wdGlvbjtcbiAgICAgICAgICAgICAgICBpZiAob2xkT3B0aW9uRWxlbWVudCkgb2xkT3B0aW9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKG9wdGlvblNlbGVjdGVkQ2xhc3MsIG9wdGlvbkxvYWRpbmdDbGFzcyk7XG4gICAgICAgICAgICAgICAgb3B0aW9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKG9wdGlvblNlbGVjdGVkQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRPcHRpb24gPSBvcHRpb25FbGVtZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBTZXQgb3IgcmVtb3ZlIHRoZSBsb2FkaW5nIGNsYXNzIGZyb20gdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBvcHRpb25cbiAgICAgICAgICAgICAqIEBwYXJhbSBpc0xvYWRpbmcgSWYgdHJ1ZSwgYWRkIHRoZSBsb2FkaW5nIGNsYXNzLCBvdGhlcndpc2UgcmVtb3ZlIGl0XG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRPcHRpb25Jc0xvYWRpbmcnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldE9wdGlvbklzTG9hZGluZyhpc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuc2VsZWN0ZWRPcHRpb24pIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3B0aW9uLmNsYXNzTGlzdFtpc0xvYWRpbmcgPyAnYWRkJyA6ICdyZW1vdmUnXShvcHRpb25Mb2FkaW5nQ2xhc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDYWxsZWQgd2hlbiBhbiBvcHRpb24gZWxlbWVudCBpcyBjbGlja2VkIG9uLlxuICAgICAgICAgICAgICogQHBhcmFtIG9wdGlvbkVsZW1lbnQgVGhlIG9wdGlvbiBlbGVtZW50IHRoYXQgd2FzIGNsaWNrZWQgb25cbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uT3B0aW9uQ2xpY2snLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uT3B0aW9uQ2xpY2sob3B0aW9uRWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0T3B0aW9uKG9wdGlvbkVsZW1lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQ7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUGFnaW5hdGlvbkNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQ7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IHJldHVybiBnZXQocGFyZW50LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpOyB9IH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9O1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciByZXN1bHRzUGVyUmVxdWVzdCA9IDIwO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3IgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRSKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yLCBfUmlkZVN0eWxlclNob3djYXNlJFIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3Ioc2hvd2Nhc2VJbnN0YW5jZSkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3IpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3Rvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3IpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UpKTtcblxuICAgICAgICAgICAgdmFyIF9zaG93Y2FzZUluc3RhbmNlJHN0YSA9IHNob3djYXNlSW5zdGFuY2Uuc3RhdGUuZ2V0RGF0YSgpLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRWZWhpY2xlQ29uZmlndXJhdGlvbklEID0gX3Nob3djYXNlSW5zdGFuY2Ukc3RhLmN1cnJlbnRWZWhpY2xlQ29uZmlndXJhdGlvbklEO1xuXG4gICAgICAgICAgICBfdGhpcy52ZWhpY2xlQ29uZmlndXJhdGlvbklEID0gY3VycmVudFZlaGljbGVDb25maWd1cmF0aW9uSUQ7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3RvciwgW3tcbiAgICAgICAgICAgIGtleTogJ19sb2FkTW9yZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2xvYWRNb3JlKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5oYXNNb3JlUmVzdWx0cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyBMb2FkIHBhaW50IHNjaGVtZXMgZm9yIHRoZSB2ZWhpY2xlXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdChcInZlaGljbGUvZ2V0cGFpbnRzY2hlbWVkZXNjcmlwdGlvbnNcIiwge1xuICAgICAgICAgICAgICAgICAgICBWZWhpY2xlQ29uZmlndXJhdGlvbjogdGhpcy52ZWhpY2xlQ29uZmlndXJhdGlvbklEXG4gICAgICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5jcmVhdGVPcHRpb25zKHJlc3BvbnNlLlNjaGVtZXMpO1xuICAgICAgICAgICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NyZWF0ZU9wdGlvbnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNyZWF0ZU9wdGlvbnMoc2NoZW1lcykge1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBhIGZyYWdtZW50IHNvIHdlIGFkZCBhbGwgb3B0aW9ucyB0byB0aGUgZWxlbWVudCBhdCBvbmNlXG4gICAgICAgICAgICAgICAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICAgICAgICAgIC8vIENyZWF0ZSBlYWNoIG9wdGlvbiBhbmQgYWRkIGl0IHRvIHRoZSBmcmFnbWVudFxuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBzY2hlbWVzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHNjaGVtZSA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb3B0aW9uID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi1vcHRpb24gcmlkZXN0eWxlci1zaG93Y2FzZS1wYWludC1vcHRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBmcmFnbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24ucGFpbnRTY2hlbWUgPSBzY2hlbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGUgbWFpbiBjb2xvciB0byBiZSByZXByZXNlbnRlZCBpbiB0aGUgc3dhdGNoXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBtdWx0aS1jb2xvciBwYWludCBzY2hlbWVzXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBzY2hlbWUuQ29sb3JzWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gXCJzd2F0Y2hcIjogVGhlIGRpc3BsYXkgb2YgdGhlIHBhaW50IGNvbG9yXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3dhdGNoID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi1vcHRpb24tZGlzcGxheSByaWRlc3R5bGVyLXNob3djYXNlLXBhaW50LXN3YXRjaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBjb2xvci5IZXhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIG5hbWUgb2YgdGhlIHBhaW50IHNjaGVtZSBhcyB0aGUgbGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi1vcHRpb24tbGFiZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHNjaGVtZS5TY2hlbWVOYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXR0cmlidXRlcyBvZiB0aGUgY29sb3IgZm9yIHRoZSBzZWNvbmRhcnkgbGFiZWxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVzID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi1vcHRpb24tbGFiZWwtc2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBSaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yLmNyZWF0ZUF0dHJpYnV0ZUxhYmVsKGNvbG9yLkF0dHJpYnV0ZXMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIENsZWFyIG91dCBvdXIgc2xpZGVXcmFwcGVyIG9mIGFsbCBlbGVtZW50c1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuZW1wdHkodGhpcy5vcHRpb25Db250YWluZXIpO1xuICAgICAgICAgICAgICAgIC8vIEFkZCBhbGwgb3B0aW9ucyB0byB0aGUgc2xpZGVXcmFwcGVyIGF0IG9uY2VcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbkNvbnRhaW5lci5hcHBlbmRDaGlsZChmcmFnbWVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25PcHRpb25DbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25PcHRpb25DbGljayhvcHRpb25FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhaW50U2NoZW1lID0gb3B0aW9uRWxlbWVudC5wYWludFNjaGVtZTtcbiAgICAgICAgICAgICAgICBpZiAocGFpbnRTY2hlbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgX2dldChSaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVBhaW50U2VsZWN0b3IucHJvdG90eXBlKSwgJ29uT3B0aW9uQ2xpY2snLCB0aGlzKS5jYWxsKHRoaXMsIG9wdGlvbkVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN0YXRlLmV4dGVuZERhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFBhaW50U2NoZW1lOiBwYWludFNjaGVtZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9uUGFpbnRTY2hlbWVTZWxlY3RlZCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblBhaW50U2NoZW1lU2VsZWN0ZWQocGFpbnRTY2hlbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XSwgW3tcbiAgICAgICAgICAgIGtleTogJ2NyZWF0ZUF0dHJpYnV0ZUxhYmVsJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVBdHRyaWJ1dGVMYWJlbChhdHRyaWJ1dGVzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRlZmF1bHRBdHRyaWJ1dGVTdHJpbmcgPSAnR2xvc3N5JztcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlcyA9PT0gMCAvKiBOb25lICovKSByZXR1cm4gZGVmYXVsdEF0dHJpYnV0ZVN0cmluZztcbiAgICAgICAgICAgICAgICB2YXIgc3RyaW5nQXR0cmlidXRlcyA9IFtdO1xuICAgICAgICAgICAgICAgIC8vIEFkZCBlYWNoIHNlbGVjdGVkIHBhaW50IGF0dHJpYnV0ZSBmbGFnIGZvciB0aGUgY29sb3IgdG8gdGhlIGxpc3RcbiAgICAgICAgICAgICAgICBpZiAoYXR0cmlidXRlcyAmJiA0IC8qIE1hdHRlICovID09PSA0IC8qIE1hdHRlICovKSBzdHJpbmdBdHRyaWJ1dGVzLnB1c2goJ01hdHRlJyk7XG4gICAgICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMgJiYgMSAvKiBNZXRhbGxpYyAqLyA9PT0gMSAvKiBNZXRhbGxpYyAqLykgc3RyaW5nQXR0cmlidXRlcy5wdXNoKCdNZXRhbGxpYycpO1xuICAgICAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVzICYmIDIgLyogUGVhcmxlc2NlbnQgKi8gPT09IDIgLyogUGVhcmxlc2NlbnQgKi8pIHN0cmluZ0F0dHJpYnV0ZXMucHVzaCgnUGVhcmxlc2NlbnQnKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RyaW5nQXR0cmlidXRlcy5sZW5ndGggPT09IDApIHJldHVybiBkZWZhdWx0QXR0cmlidXRlU3RyaW5nO1xuICAgICAgICAgICAgICAgIHJldHVybiBzdHJpbmdBdHRyaWJ1dGVzLmpvaW4oJywgJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3RvcjtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VQYWdpbmF0aW9uQ29tcG9uZW50KTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VQYWludFNlbGVjdG9yID0gUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3Rvcjtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgcG9wb3ZlckNsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcG9wb3Zlcic7XG4gICAgdmFyIHBvcG92ZXJJbkNsYXNzID0gJ2luJztcblxuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VQb3BvdmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VQb3BvdmVyKCkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZVBvcG92ZXIpO1xuXG4gICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogcG9wb3ZlckNsYXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VQb3BvdmVyLCBbe1xuICAgICAgICAgICAga2V5OiAnc2hvdycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvdygpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpc2libGUodHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2hpZGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhpZGUoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRWaXNpYmxlKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0VmlzaWJsZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmlzaWJsZSh2aXNpYmxlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LnRvZ2dsZShwb3BvdmVySW5DbGFzcywgdmlzaWJsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2lzVmlzaWJsZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNWaXNpYmxlKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QuY29udGFpbnMocG9wb3ZlckluQ2xhc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd0b2dnbGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHRvZ2dsZSgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFZpc2libGUodGhpcy5pc1Zpc2libGUoKSA/IGZhbHNlIDogdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlUG9wb3ZlcjtcbiAgICB9KCk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUG9wb3ZlciA9IFJpZGVTdHlsZXJTaG93Y2FzZVBvcG92ZXI7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxudmFyIF9nZXQgPSBmdW5jdGlvbiBnZXQob2JqZWN0LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpIHsgaWYgKG9iamVjdCA9PT0gbnVsbCkgb2JqZWN0ID0gRnVuY3Rpb24ucHJvdG90eXBlOyB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBwcm9wZXJ0eSk7IGlmIChkZXNjID09PSB1bmRlZmluZWQpIHsgdmFyIHBhcmVudCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpOyBpZiAocGFyZW50ID09PSBudWxsKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gZWxzZSB7IHJldHVybiBnZXQocGFyZW50LCBwcm9wZXJ0eSwgcmVjZWl2ZXIpOyB9IH0gZWxzZSBpZiAoXCJ2YWx1ZVwiIGluIGRlc2MpIHsgcmV0dXJuIGRlc2MudmFsdWU7IH0gZWxzZSB7IHZhciBnZXR0ZXIgPSBkZXNjLmdldDsgaWYgKGdldHRlciA9PT0gdW5kZWZpbmVkKSB7IHJldHVybiB1bmRlZmluZWQ7IH0gcmV0dXJuIGdldHRlci5jYWxsKHJlY2VpdmVyKTsgfSB9O1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBwcm9kdWN0TW9kYWxDbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXByb2R1Y3QtbW9kYWwnO1xuICAgIHZhciB0aXRsZUNsYXNzID0gcHJvZHVjdE1vZGFsQ2xhc3MgKyAnLXRpdGxlJztcbiAgICB2YXIgcGFnZUNsYXNzID0gcHJvZHVjdE1vZGFsQ2xhc3MgKyAnLXBhZ2UnO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbCA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJFIpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbCwgX1JpZGVTdHlsZXJTaG93Y2FzZSRSKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0TW9kYWwoc2hvd2Nhc2VJbnN0YW5jZSkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbCk7XG5cbiAgICAgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsKSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlLCB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlT25IaWRkZW46IHRydWVcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0TW9kYWwsIFt7XG4gICAgICAgICAgICBrZXk6ICdidWlsZE1vZGFsJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZE1vZGFsKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgX2dldChSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0TW9kYWwucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdE1vZGFsLnByb3RvdHlwZSksICdidWlsZE1vZGFsJywgdGhpcykuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QuYWRkKHByb2R1Y3RNb2RhbENsYXNzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvbiA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVG9nZ2xlQnV0dG9uKHRoaXMuc2hvd2Nhc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uLm9uQ2hhbmdlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBTaG93IHRoZSBjb3JyZWN0IHBhZ2Ugd2hlbiB0aGUgdG9nZ2xlIGJ1dHRvbiBpcyBjaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gX3RoaXMyLnBhZ2VzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYWdlID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFnZS5sYWJlbCA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNob3dQYWdlKHBhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hcHBlbmRDaGlsZCh0aGlzLnRvZ2dsZUJ1dHRvbi5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2gxJywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRpdGxlQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kOiBbdGhpcy5icmFuZFRpdGxlRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MoJ3NwYW4nLCB0aXRsZUNsYXNzICsgJy1icmFuZCcpLCB0aGlzLnRpdGxlRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKSwgdGhpcy5zdWJ0aXRsZUVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50V2l0aENsYXNzKCdzcGFuJywgdGl0bGVDbGFzcyArICctc3VidGl0bGUnKV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnN1bW1hcnlDb250YWluZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBwcm9kdWN0TW9kYWxDbGFzcyArICctc3VtbWFyeS1jb250YWluZXInXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5pbWFnZUNvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHByb2R1Y3RNb2RhbENsYXNzICsgJy1pbWFnZScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLnN1bW1hcnlDb250YWluZXJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlID0gdGhpcy5jcmVhdGVJbWFnZSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuc3VtbWFyeUVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBwcm9kdWN0TW9kYWxDbGFzcyArICctc3VtbWFyeScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLnN1bW1hcnlDb250YWluZXJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFBhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBsYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzdW1tYXJ5JyksXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogdGhpcy5zdW1tYXJ5Q29udGFpbmVyXG4gICAgICAgICAgICAgICAgfSwgdHJ1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEFkZCBhIG5ldyBwYWdlIHRvIHRoZSBwcm9kdWN0IG1vZGFsIGFuZCB0b2dnbGUgYnV0dG9uXG4gICAgICAgICAgICAgKiBAcGFyYW0gcGFnZSBUaGUgbmV3IHBhZ2VcbiAgICAgICAgICAgICAqIEBwYXJhbSBzZXRWaXNpYmxlIElmIHRydWUsIHNob3cgdGhlIHBhZ2UgYWZ0ZXIgYWRkaW5nIGl0XG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdhZGRQYWdlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhZGRQYWdlKHBhZ2UpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2V0VmlzaWJsZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMucGFnZXMpIHRoaXMucGFnZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2VzLnB1c2gocGFnZSk7XG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVCdXR0b24uYWRkT3B0aW9uKHtcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHBhZ2UubGFiZWwsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwYWdlLmxhYmVsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHNldFZpc2libGUpIHRoaXMuc2hvd1BhZ2UocGFnZSk7ZWxzZSBSaWRlU3R5bGVyU2hvd2Nhc2UuVmlzaWJpbGl0eUhlbHBlci5zZXRWaXNpYmlsaXR5KHBhZ2UuY29udGFpbmVyLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgcGFnZS5jb250YWluZXIuY2xhc3NMaXN0LmFkZChwYWdlQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmFwcGVuZENoaWxkKHBhZ2UuY29udGFpbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2V0IHRoZSBwYWdlIGFzIHZpc2libGUgYW5kIGhpZGUgdGhlIG90aGVyIHBhZ2VzLCB1cGRhdGUgdGhlIHN0YXRlIG9mIHRoZSB0b2dnbGUgYnV0dG9uXG4gICAgICAgICAgICAgKiBAcGFyYW0gbmV3UGFnZSBUaGUgcGFnZSB0byBzaG93XG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzaG93UGFnZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd1BhZ2UobmV3UGFnZSkge1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gdGhpcy5wYWdlc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhZ2UgPSBfc3RlcDIudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5WaXNpYmlsaXR5SGVscGVyLnNldFZpc2liaWxpdHkocGFnZS5jb250YWluZXIsIHBhZ2UgPT09IG5ld1BhZ2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy50b2dnbGVCdXR0b24uc2V0VmFsdWUobmV3UGFnZS5sYWJlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uSGlkZGVuJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkhpZGRlbigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmltYWdlLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0TW9kYWw7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlTW9kYWwpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbCA9IFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RNb2RhbDtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG52YXIgX2dldCA9IGZ1bmN0aW9uIGdldChvYmplY3QsIHByb3BlcnR5LCByZWNlaXZlcikgeyBpZiAob2JqZWN0ID09PSBudWxsKSBvYmplY3QgPSBGdW5jdGlvbi5wcm90b3R5cGU7IHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHByb3BlcnR5KTsgaWYgKGRlc2MgPT09IHVuZGVmaW5lZCkgeyB2YXIgcGFyZW50ID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iamVjdCk7IGlmIChwYXJlbnQgPT09IG51bGwpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSBlbHNlIHsgcmV0dXJuIGdldChwYXJlbnQsIHByb3BlcnR5LCByZWNlaXZlcik7IH0gfSBlbHNlIGlmIChcInZhbHVlXCIgaW4gZGVzYykgeyByZXR1cm4gZGVzYy52YWx1ZTsgfSBlbHNlIHsgdmFyIGdldHRlciA9IGRlc2MuZ2V0OyBpZiAoZ2V0dGVyID09PSB1bmRlZmluZWQpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSByZXR1cm4gZ2V0dGVyLmNhbGwocmVjZWl2ZXIpOyB9IH07XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3RvciA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJFIpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3RvciwgX1JpZGVTdHlsZXJTaG93Y2FzZSRSKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0U2VsZWN0b3IoKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yKTtcblxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3Rvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3RvcikpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgICAgICBfdGhpcy5yZXN1bHRzUGVyTG9hZCA9IDIwO1xuICAgICAgICAgICAgX3RoaXMuY291bnQgPSAtMTtcbiAgICAgICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0U2VsZWN0b3IsIFt7XG4gICAgICAgICAgICBrZXk6ICdfbG9hZE1vcmUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9sb2FkTW9yZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgY291bnRQcm9taXNlID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvdW50ID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgY291bnRQcm9taXNlID0gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIucmVzb2x2ZWQodGhpcy5jb3VudCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY291bnRQcm9taXNlID0gdGhpcy5jb3VudFJlc3VsdHModGhpcy5jdXJyZW50RmlsdGVycyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciByZXN1bHRzUGVyTG9hZCA9IHRoaXMucmVzdWx0c1BlckxvYWQ7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oY291bnRQcm9taXNlLCBmdW5jdGlvbiAocHJvZHVjdENvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5jb3VudCA9IHByb2R1Y3RDb3VudDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlcnMgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbih7XG4gICAgICAgICAgICAgICAgICAgICAgICBTdGFydDogX3RoaXMyLmluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgQ291bnQ6IHJlc3VsdHNQZXJMb2FkXG4gICAgICAgICAgICAgICAgICAgIH0sIF90aGlzMi5jdXJyZW50RmlsdGVycyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2V0UmVzdWx0cyhmaWx0ZXJzKS5kb25lKGZ1bmN0aW9uIChwcm9kdWN0cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmluZGV4ICs9IHJlc3VsdHNQZXJMb2FkO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmhhc01vcmVSZXN1bHRzID0gX3RoaXMyLmluZGV4ICsgcmVzdWx0c1BlckxvYWQgPCBwcm9kdWN0Q291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuY3JlYXRlT3B0aW9ucyhwcm9kdWN0cyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNldCBmaWx0ZXJzIGFuZCByZWxvYWRcbiAgICAgICAgICAgICAqIEBwYXJhbSBuZXdGaWx0ZXJzIFRoZSBuZXcgZmlsdGVyc1xuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0RmlsdGVycycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0RmlsdGVycyhuZXdGaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhck9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAvLyBSZXNldCBvdXIgY291bnRcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50ID0gLTE7XG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgb3VyIGluZGV4XG4gICAgICAgICAgICAgICAgdGhpcy5pbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgLy8gU2V0IG91ciBmaWx0ZXJzXG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50RmlsdGVycyA9IG5ld0ZpbHRlcnM7XG4gICAgICAgICAgICAgICAgLy8gTG9hZCBmaXJzdCByZXN1bHQgc2V0XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkTW9yZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVcGRhdGUgZmlsdGVycyBhbmQgcmVsb2FkXG4gICAgICAgICAgICAgKiBAcGFyYW0gZmlsdGVyVXBkYXRlcyBUaGUgZmlsdGVyIHByb3BlcnRpZXMgdG8gdXBkYXRlXG4gICAgICAgICAgICAgKi9cblxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd1cGRhdGVGaWx0ZXJzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVGaWx0ZXJzKGZpbHRlclVwZGF0ZXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEZpbHRlcnMoUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24odGhpcy5jdXJyZW50RmlsdGVycywgZmlsdGVyVXBkYXRlcykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdjcmVhdGVPcHRpb25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVPcHRpb25zKHByb2R1Y3RzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyYWdtZW50ID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBwcm9kdWN0c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwcm9kdWN0ID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5wcm9kdWN0RmlsdGVyKHByb2R1Y3QpKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1wYWdpbmF0aW9uLW9wdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IGZyYWdtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi5wcm9kdWN0ID0gcHJvZHVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlU291cmNlID0gdGhpcy5wcm9kdWN0SW1hZ2VTb3VyY2UocHJvZHVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGltYWdlU291cmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2ltZycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi1vcHRpb24tZGlzcGxheScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogb3B0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNyYzogaW1hZ2VTb3VyY2VcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByb2R1Y3RJbWFnZUxhYmVscyA9IHRoaXMucHJvZHVjdEltYWdlTGFiZWxzKHByb2R1Y3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi1vcHRpb24tbGFiZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHByb2R1Y3RJbWFnZUxhYmVscy5wcmltYXJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByb2R1Y3RJbWFnZUxhYmVscy5zZWNvbmRhcnkpIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLXBhZ2luYXRpb24tb3B0aW9uLWxhYmVsLXNlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogcHJvZHVjdEltYWdlTGFiZWxzLnNlY29uZGFyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogb3B0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwcm9kdWN0SW1hZ2VMYWJlbHMudGVydGlhcnkpIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLXBhZ2luYXRpb24tb3B0aW9uLWxhYmVsLXRlcnRpYXJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBwcm9kdWN0SW1hZ2VMYWJlbHMudGVydGlhcnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IG9wdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuYWRkT3B0aW9uRWxlbWVudHMoZnJhZ21lbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbk9wdGlvbkNsaWNrJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbk9wdGlvbkNsaWNrKG9wdGlvbkVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvZHVjdCA9IG9wdGlvbkVsZW1lbnQucHJvZHVjdDtcbiAgICAgICAgICAgICAgICBpZiAocHJvZHVjdCkge1xuICAgICAgICAgICAgICAgICAgICBfZ2V0KFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3Rvci5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0U2VsZWN0b3IucHJvdG90eXBlKSwgJ29uT3B0aW9uQ2xpY2snLCB0aGlzKS5jYWxsKHRoaXMsIG9wdGlvbkVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uUHJvZHVjdENsaWNrKHByb2R1Y3QpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25Qcm9kdWN0Q2xpY2snLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uUHJvZHVjdENsaWNrKHByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJvZHVjdFNlbGVjdGVkQ2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHRoaXMucHJvZHVjdFNlbGVjdGVkQ2FsbGJhY2socHJvZHVjdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVBhZ2luYXRpb25Db21wb25lbnQpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3RvciA9IFJpZGVTdHlsZXJTaG93Y2FzZVByb2R1Y3RTZWxlY3Rvcjtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcXItZGlzcGxheSc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlUVJDb2RlQ29tcG9uZW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VRUkNvZGVDb21wb25lbnQobGluaykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZVFSQ29kZUNvbXBvbmVudCk7XG5cbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMucXJDb2RlRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2EnLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLWltYWdlJyxcbiAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnQsXG4gICAgICAgICAgICAgICAgcHJvcGVydGllczoge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6ICdfYmxhbmsnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnFyQ29kZSA9IG5ldyBRUkNvZGUodGhpcy5xckNvZGVFbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChsaW5rKSB0aGlzLmRpc3BsYXlVUkwobGluayk7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlUVJDb2RlQ29tcG9uZW50LCBbe1xuICAgICAgICAgICAga2V5OiAnZGlzcGxheVVSTCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZGlzcGxheVVSTCh1cmwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnFyQ29kZUVsZW1lbnQuaHJlZiA9IHVybDtcbiAgICAgICAgICAgICAgICB0aGlzLnFyQ29kZS5tYWtlQ29kZSh1cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZVFSQ29kZUNvbXBvbmVudDtcbiAgICB9KCk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUVJDb2RlQ29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlUVJDb2RlQ29tcG9uZW50O1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KG9iamVjdCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTsgfSB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfTtcblxudmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgc2hhcmU7XG4gICAgKGZ1bmN0aW9uIChzaGFyZSkge1xuICAgICAgICB2YXIgYnV0dG9uQ2xhc3MgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1zaGFyZS1idXR0b24nO1xuXG4gICAgICAgIHZhciBTaGFyZUJ1dHRvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIFNoYXJlQnV0dG9uKHNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTaGFyZUJ1dHRvbik7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogYnV0dG9uQ2xhc3NcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MuY2xhc3NOYW1lKSB0aGlzLmNvbXBvbmVudC5jbGFzc0xpc3QuYWRkKHNldHRpbmdzLmNsYXNzTmFtZSk7XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLnRpdGxlKSB0aGlzLmNvbXBvbmVudC50aXRsZSA9IHNldHRpbmdzLnRpdGxlO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMub25DbGljaygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVcGRhdGUgdGhlIFVSTCBmb3IgdGhpcyBzaGFyZSBidXR0b24gdG8gc2hhcmVcbiAgICAgICAgICAgICAqIEBwYXJhbSB1cmwgVGhlIFVSTCB0byBzaGFyZVxuICAgICAgICAgICAgICovXG5cblxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKFNoYXJlQnV0dG9uLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ3NldFVSTCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFVSTCh1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VVJMID0gdXJsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAgICAgKiBBdHRhY2ggdGFncyB0byB0aGUgbWVzc2FnZSBiZWluZyBzaGFyZWRcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gdGFncyBUaGUgdGFncyB0byBhdHRhY2ggdG8gdGhlIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ3NldFRhZ3MnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRUYWdzKHRhZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWdzID0gdGFncztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogU2V0IGEgbWVzc2FnZSB0byBzaGFyZSB3aXRoIHRoZSBVUkxcbiAgICAgICAgICAgICAgICAgKiBAcGFyYW0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBzaGFyZSBhbG9uZyB3aXRoIHRoZSBVUkxcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ3NldE1lc3NhZ2UnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogQ2FsbGVkIGV2ZXJ5IHRpbWUgdGhlIHNoYXJlIGJ1dHRvbiBpcyBjbGlja2VkXG4gICAgICAgICAgICAgICAgICogQHZpcnR1YWxcbiAgICAgICAgICAgICAgICAgKi9cblxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGtleTogJ29uQ2xpY2snLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY3VycmVudFVSTCkgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNoYXJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAqIFNoYXJlIHRoZSBjdXJyZW50IFVSTFxuICAgICAgICAgICAgICAgICAqIEB2aXJ0dWFsXG4gICAgICAgICAgICAgICAgICovXG5cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdzaGFyZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNoYXJlKCkge31cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdvcGVuTmV3V2luZG93JyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb3Blbk5ld1dpbmRvdyh1cmwsIHNldHRpbmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzID0gc2V0dGluZ3MgfHwge307XG4gICAgICAgICAgICAgICAgICAgIHZhciBkZWZhdWx0SGVpZ2h0ID0gNDIwLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFdpZHRoID0gNTUwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBzZXR0aW5ncy53aWR0aCB8fCBkZWZhdWx0V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBzZXR0aW5ncy5oZWlnaHQgfHwgZGVmYXVsdEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjcmVlbkhlaWdodCA9IHNjcmVlbi5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JlZW5XaWR0aCA9IHNjcmVlbi53aWR0aDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvcCA9IHNjcmVlbkhlaWdodCA+IGhlaWdodCA/IE1hdGgucm91bmQoc2NyZWVuSGVpZ2h0IC8gMiAtIGhlaWdodCAvIDIpIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgPSBNYXRoLnJvdW5kKHNjcmVlbldpZHRoIC8gMiAtIHdpZHRoIC8gMik7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBzZXR0aW5ncy50YXJnZXQgfHwgJ3NoYXJlJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIHdpbmRvd1NldHRpbmdzID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZhciBhZGRTZXR0aW5nID0gZnVuY3Rpb24gYWRkU2V0dGluZyhuYW1lLCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvd1NldHRpbmdzLnB1c2gobmFtZSArICc9JyArIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFkZEJvb2xlYW5TZXR0aW5nID0gZnVuY3Rpb24gYWRkQm9vbGVhblNldHRpbmcobmFtZSwgZW5hYmxlZCwgZW5hYmxlZEJ5RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBlbmFibGVkICE9PSAnYm9vbGVhbicpIGVuYWJsZWQgPSBlbmFibGVkQnlEZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkU2V0dGluZyhuYW1lLCBlbmFibGVkID8gJ3llcycgOiAnbm8nKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgYWRkQm9vbGVhblNldHRpbmcoJ3Njcm9sbGJhcnMnLCBzZXR0aW5ncy5lbmFibGVTY3JvbGxiYXJzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkQm9vbGVhblNldHRpbmcoJ3Jlc2l6YWJsZScsIHNldHRpbmdzLmVuYWJsZVJlc2l6ZWFibGUsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBhZGRCb29sZWFuU2V0dGluZygndG9vbGJhcicsIHNldHRpbmdzLmVuYWJsZVRvb2xiYXIsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkQm9vbGVhblNldHRpbmcoJ2xvY2F0aW9uJywgc2V0dGluZ3MuZW5hYmxlTG9jYXRpb24sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBhZGRTZXR0aW5nKCd3aWR0aCcsIHdpZHRoLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICBhZGRTZXR0aW5nKCdoZWlnaHQnLCBoZWlnaHQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIGFkZFNldHRpbmcoJ3RvcCcsIHRvcC50b1N0cmluZygpKTtcbiAgICAgICAgICAgICAgICAgICAgYWRkU2V0dGluZygnbGVmdCcsIGxlZnQudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKHVybCwgdGFyZ2V0LCB0YXJnZXQgIT09ICdfYmxhbmsnID8gd2luZG93U2V0dGluZ3Muam9pbignLCcpIDogJycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdnZXRTaGFyZVJlZGlyZWN0VVJMJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0U2hhcmVSZWRpcmVjdFVSTCgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFwcFVSTCA9ICdodHRwczovL2FwcC5yaWRlc3R5bGVyLm5ldCc7XG4gICAgICAgICAgICAgICAgICAgIGlmIChSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLmVudmlyb25tZW50ID09PSBSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLkVudmlyb25tZW50LkFscGhhKSBhcHBVUkwgPSAnaHR0cDovL2FwcC1hbHBoYS5yaWRlc3R5bGVyLm5ldCc7ZWxzZSBpZiAoUmlkZVN0eWxlclNob3djYXNlLmFwaS5lbnZpcm9ubWVudCA9PT0gUmlkZVN0eWxlclNob3djYXNlLmFwaS5FbnZpcm9ubWVudC5CZXRhKSBhcHBVUkwgPSAnaHR0cDovL2FwcC1iZXRhLnJpZGVzdHlsZXIubmV0JztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwcFVSTCArICcvc2hhcmVkLmh0bWwnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgcmV0dXJuIFNoYXJlQnV0dG9uO1xuICAgICAgICB9KCk7XG5cbiAgICAgICAgc2hhcmUuU2hhcmVCdXR0b24gPSBTaGFyZUJ1dHRvbjtcbiAgICAgICAgdmFyIHR3aXR0ZXJJbnRlbnRVUkwgPSAnJztcblxuICAgICAgICB2YXIgVHdpdHRlclNoYXJlQnV0dG9uID0gZnVuY3Rpb24gKF9TaGFyZUJ1dHRvbikge1xuICAgICAgICAgICAgX2luaGVyaXRzKFR3aXR0ZXJTaGFyZUJ1dHRvbiwgX1NoYXJlQnV0dG9uKTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gVHdpdHRlclNoYXJlQnV0dG9uKCkge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBUd2l0dGVyU2hhcmVCdXR0b24pO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUd2l0dGVyU2hhcmVCdXR0b24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihUd2l0dGVyU2hhcmVCdXR0b24pKS5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBidXR0b25DbGFzcyArICctdHdpdHRlcicsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnVHdpdHRlcidcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNoYXJlIHRoZSBjdXJyZW50IFVSTCB2aWEgVHdpdHRlclxuICAgICAgICAgICAgICovXG5cblxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKFR3aXR0ZXJTaGFyZUJ1dHRvbiwgW3tcbiAgICAgICAgICAgICAgICBrZXk6ICdzaGFyZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNoYXJlKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gJ2h0dHBzOi8vdHdpdHRlci5jb20vaW50ZW50L3R3ZWV0Pyc7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0d2l0dGVySW50ZW50UGFyYW1ldGVycyA9IFsndXJsPScgKyBlbmNvZGVVUklDb21wb25lbnQodGhpcy5jdXJyZW50VVJMKV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lc3NhZ2UpIHR3aXR0ZXJJbnRlbnRQYXJhbWV0ZXJzLnB1c2goJ3RleHQ9JyArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLm1lc3NhZ2UpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGFncyAmJiB0aGlzLnRhZ3MubGVuZ3RoKSB0d2l0dGVySW50ZW50UGFyYW1ldGVycy5wdXNoKCdoYXNodGFncz0nICsgUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyLm1hcCh0aGlzLnRhZ3MsIGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQodGFnKTtcbiAgICAgICAgICAgICAgICAgICAgfSkuam9pbignLCcpKTtcbiAgICAgICAgICAgICAgICAgICAgdXJsICs9IHR3aXR0ZXJJbnRlbnRQYXJhbWV0ZXJzLmpvaW4oJyYnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuTmV3V2luZG93KHVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gVHdpdHRlclNoYXJlQnV0dG9uO1xuICAgICAgICB9KFNoYXJlQnV0dG9uKTtcblxuICAgICAgICBzaGFyZS5Ud2l0dGVyU2hhcmVCdXR0b24gPSBUd2l0dGVyU2hhcmVCdXR0b247XG5cbiAgICAgICAgdmFyIEZhY2Vib29rU2hhcmVCdXR0b24gPSBmdW5jdGlvbiAoX1NoYXJlQnV0dG9uMikge1xuICAgICAgICAgICAgX2luaGVyaXRzKEZhY2Vib29rU2hhcmVCdXR0b24sIF9TaGFyZUJ1dHRvbjIpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBGYWNlYm9va1NoYXJlQnV0dG9uKCkge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGYWNlYm9va1NoYXJlQnV0dG9uKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRmFjZWJvb2tTaGFyZUJ1dHRvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEZhY2Vib29rU2hhcmVCdXR0b24pKS5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBidXR0b25DbGFzcyArICctZmFjZWJvb2snLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0ZhY2Vib29rJ1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogU2hhcmUgdGhlIGN1cnJlbnQgVVJMIHZpYSBGYWNlYm9va1xuICAgICAgICAgICAgICovXG5cblxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKEZhY2Vib29rU2hhcmVCdXR0b24sIFt7XG4gICAgICAgICAgICAgICAga2V5OiAnc2hhcmUnLFxuICAgICAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzaGFyZSgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9ICdodHRwczovL3d3dy5mYWNlYm9vay5jb20vZGlhbG9nL3NoYXJlPyc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmYWNlYm9va0RpYWxvZ1BhcmFtZXRlcnMgPSBbJ2FwcF9pZD0xNTc2MzgwNDEyNTgyODQ1JywgJ2Rpc3BsYXk9cG9wdXAnLCAnaHJlZj0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuY3VycmVudFVSTCksICdyZWRpcmVjdF91cmk9JyArIGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmdldFNoYXJlUmVkaXJlY3RVUkwoKSldO1xuICAgICAgICAgICAgICAgICAgICAvLyBGYWNlYm9vayBvbmx5IGxldHMgeW91IHNwZWNpZnkgb25lIGhhc2h0YWcsIHNvIHdlIHVzZSB0aGUgZmlyc3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMudGFncyAmJiB0aGlzLnRhZ3MubGVuZ3RoKSBmYWNlYm9va0RpYWxvZ1BhcmFtZXRlcnMucHVzaCgnaGFzaHRhZz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KCcjJyArIHRoaXMudGFnc1swXSkpO1xuICAgICAgICAgICAgICAgICAgICB1cmwgKz0gZmFjZWJvb2tEaWFsb2dQYXJhbWV0ZXJzLmpvaW4oJyYnKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuTmV3V2luZG93KHVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gRmFjZWJvb2tTaGFyZUJ1dHRvbjtcbiAgICAgICAgfShTaGFyZUJ1dHRvbik7XG5cbiAgICAgICAgc2hhcmUuRmFjZWJvb2tTaGFyZUJ1dHRvbiA9IEZhY2Vib29rU2hhcmVCdXR0b247XG5cbiAgICAgICAgdmFyIE5ld1dpbmRvd1NoYXJlQnV0dG9uID0gZnVuY3Rpb24gKF9TaGFyZUJ1dHRvbjMpIHtcbiAgICAgICAgICAgIF9pbmhlcml0cyhOZXdXaW5kb3dTaGFyZUJ1dHRvbiwgX1NoYXJlQnV0dG9uMyk7XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIE5ld1dpbmRvd1NoYXJlQnV0dG9uKCkge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBOZXdXaW5kb3dTaGFyZUJ1dHRvbik7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKE5ld1dpbmRvd1NoYXJlQnV0dG9uLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTmV3V2luZG93U2hhcmVCdXR0b24pKS5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBidXR0b25DbGFzcyArICctbGluaydcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNoYXJlIHRoZSBjdXJyZW50IFVSTCBieSBvcGVuaW5nIGl0IGluIGEgbmV3IHdpbmRvd1xuICAgICAgICAgICAgICovXG5cblxuICAgICAgICAgICAgX2NyZWF0ZUNsYXNzKE5ld1dpbmRvd1NoYXJlQnV0dG9uLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ3NoYXJlJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hhcmUoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3Blbk5ld1dpbmRvdyh0aGlzLmN1cnJlbnRVUkwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldDogJ19ibGFuaydcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV0pO1xuXG4gICAgICAgICAgICByZXR1cm4gTmV3V2luZG93U2hhcmVCdXR0b247XG4gICAgICAgIH0oU2hhcmVCdXR0b24pO1xuXG4gICAgICAgIHNoYXJlLk5ld1dpbmRvd1NoYXJlQnV0dG9uID0gTmV3V2luZG93U2hhcmVCdXR0b247XG5cbiAgICAgICAgdmFyIFFSU2hhcmVCdXR0b24gPSBmdW5jdGlvbiAoX1NoYXJlQnV0dG9uNCkge1xuICAgICAgICAgICAgX2luaGVyaXRzKFFSU2hhcmVCdXR0b24sIF9TaGFyZUJ1dHRvbjQpO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiBRUlNoYXJlQnV0dG9uKCkge1xuICAgICAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBRUlNoYXJlQnV0dG9uKTtcblxuICAgICAgICAgICAgICAgIHZhciBfdGhpczUgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUVJTaGFyZUJ1dHRvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFFSU2hhcmVCdXR0b24pKS5jYWxsKHRoaXMsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBidXR0b25DbGFzcyArICctcXItY29kZSdcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgICAgICBfdGhpczUucG9wb3ZlciA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUG9wb3ZlcigpO1xuICAgICAgICAgICAgICAgIF90aGlzNS5jb21wb25lbnQuYXBwZW5kQ2hpbGQoX3RoaXM1LnBvcG92ZXIuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICBfdGhpczUucXJDb2RlID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VRUkNvZGVDb21wb25lbnQoKTtcbiAgICAgICAgICAgICAgICBfdGhpczUucG9wb3Zlci5jb21wb25lbnQuYXBwZW5kQ2hpbGQoX3RoaXM1LnFyQ29kZS5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIF9jcmVhdGVDbGFzcyhRUlNoYXJlQnV0dG9uLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ3NldFVSTCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFVSTCh1cmwpIHtcbiAgICAgICAgICAgICAgICAgICAgX2dldChRUlNoYXJlQnV0dG9uLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFFSU2hhcmVCdXR0b24ucHJvdG90eXBlKSwgJ3NldFVSTCcsIHRoaXMpLmNhbGwodGhpcywgdXJsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5xckNvZGUuZGlzcGxheVVSTCh1cmwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBrZXk6ICdvbkNsaWNrJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25DbGljaygpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3BvdmVyLnRvZ2dsZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgcmV0dXJuIFFSU2hhcmVCdXR0b247XG4gICAgICAgIH0oU2hhcmVCdXR0b24pO1xuXG4gICAgICAgIHNoYXJlLlFSU2hhcmVCdXR0b24gPSBRUlNoYXJlQnV0dG9uO1xuICAgIH0pKHNoYXJlID0gUmlkZVN0eWxlclNob3djYXNlLnNoYXJlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2Uuc2hhcmUgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbnZhciBfZ2V0ID0gZnVuY3Rpb24gZ2V0KG9iamVjdCwgcHJvcGVydHksIHJlY2VpdmVyKSB7IGlmIChvYmplY3QgPT09IG51bGwpIG9iamVjdCA9IEZ1bmN0aW9uLnByb3RvdHlwZTsgdmFyIGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgcHJvcGVydHkpOyBpZiAoZGVzYyA9PT0gdW5kZWZpbmVkKSB7IHZhciBwYXJlbnQgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Yob2JqZWN0KTsgaWYgKHBhcmVudCA9PT0gbnVsbCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IGVsc2UgeyByZXR1cm4gZ2V0KHBhcmVudCwgcHJvcGVydHksIHJlY2VpdmVyKTsgfSB9IGVsc2UgaWYgKFwidmFsdWVcIiBpbiBkZXNjKSB7IHJldHVybiBkZXNjLnZhbHVlOyB9IGVsc2UgeyB2YXIgZ2V0dGVyID0gZGVzYy5nZXQ7IGlmIChnZXR0ZXIgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9IHJldHVybiBnZXR0ZXIuY2FsbChyZWNlaXZlcik7IH0gfTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgc2hhcmVNb2RhbENsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2Utc2hhcmUnO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRSKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsLCBfUmlkZVN0eWxlclNob3djYXNlJFIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwoc2hvd2Nhc2VJbnN0YW5jZSwgdmVoaWNsZVJlbmRlckluc3RydWN0aW9ucykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UsIHtcbiAgICAgICAgICAgICAgICByZW1vdmVPbkhpZGRlbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBmdWxsOiB0cnVlXG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIF90aGlzLmltYWdlVHlwZSA9IDIgLyogQW5nbGUgKi87XG4gICAgICAgICAgICBfdGhpcy5yZXNpemVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnVwZGF0ZVZpZXdwb3J0KCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gQ29weSB0aGUgcmVuZGVyIGluc3RydWN0aW9uc1xuICAgICAgICAgICAgX3RoaXMudmVoaWNsZVJlbmRlckluc3RydWN0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIHZlaGljbGVSZW5kZXJJbnN0cnVjdGlvbnMpO1xuICAgICAgICAgICAgX3RoaXMub25JbnN0cnVjdGlvbnNDaGFuZ2VkKCk7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1aWxkIHRoZSBET00gc3RydWN0dXJlXG4gICAgICAgICAqL1xuXG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwsIFt7XG4gICAgICAgICAgICBrZXk6ICdidWlsZE1vZGFsJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZE1vZGFsKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgX2dldChSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsLnByb3RvdHlwZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwucHJvdG90eXBlKSwgJ2J1aWxkTW9kYWwnLCB0aGlzKS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50LmNsYXNzTGlzdC5hZGQoc2hhcmVNb2RhbENsYXNzKTtcbiAgICAgICAgICAgICAgICB2YXIgYmFja2dyb3VuZCA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlQmFja2dyb3VuZCh0aGlzLnNob3djYXNlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hcHBlbmRDaGlsZChiYWNrZ3JvdW5kLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnaDEnLCB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzaGFyZS1teS12ZWhpY2xlJylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBJbnN0cnVjdGlvbnNcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdwJywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLXNoYXJlLWluc3RydWN0aW9ucycsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc2hhcmUtaW5zdHJ1Y3Rpb25zJyksXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlU2hhcmVCdXR0b25zKCk7XG4gICAgICAgICAgICAgICAgLy8gUm90YXRlIFVJXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FuU3dpdGNoQW5nbGUoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLXJvdGF0ZS12ZWhpY2xlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yb3RhdGVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5zd2l0Y2hBbmdsZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NyZWF0ZVNoYXJlQnV0dG9ucycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY3JlYXRlU2hhcmVCdXR0b25zKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2hhcmVCdXR0b25zID0gW25ldyBSaWRlU3R5bGVyU2hvd2Nhc2Uuc2hhcmUuRmFjZWJvb2tTaGFyZUJ1dHRvbigpLCBuZXcgUmlkZVN0eWxlclNob3djYXNlLnNoYXJlLlR3aXR0ZXJTaGFyZUJ1dHRvbigpLCBuZXcgUmlkZVN0eWxlclNob3djYXNlLnNoYXJlLlFSU2hhcmVCdXR0b24oKSwgbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5zaGFyZS5OZXdXaW5kb3dTaGFyZUJ1dHRvbigpXTtcbiAgICAgICAgICAgICAgICB2YXIgc2hhcmVCdXR0b25Db250YWluZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBzaGFyZU1vZGFsQ2xhc3MgKyAnLWJ1dHRvbnMnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gdGhpcy5zaGFyZUJ1dHRvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hhcmVCdXR0b24gPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVCdXR0b25Db250YWluZXIuYXBwZW5kQ2hpbGQoc2hhcmVCdXR0b24uY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblNob3cnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uU2hvdygpIHtcbiAgICAgICAgICAgICAgICBfZ2V0KFJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWwucHJvdG90eXBlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbC5wcm90b3R5cGUpLCAnb25TaG93JywgdGhpcykuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHVwVmlld3BvcnQoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vbigncmVzaXplZCcsIHRoaXMucmVzaXplZENhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25IaWRkZW4nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uSGlkZGVuKCkge1xuICAgICAgICAgICAgICAgIF9nZXQoUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbC5wcm90b3R5cGUuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsLnByb3RvdHlwZSksICdvbkhpZGRlbicsIHRoaXMpLmNhbGwodGhpcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudHMub2ZmKCdyZXNpemVkJywgdGhpcy5yZXNpemVkQ2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd1cGRhdGVWaWV3cG9ydCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVmlld3BvcnQoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlVmlld3BvcnQuVXBkYXRlKHRoaXMudmVoaWNsZVJlbmRlckluc3RydWN0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dldFNoYXJlVVJMJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTaGFyZVVSTCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXBwVVJMID0gJ2h0dHBzOi8vYXBwLnJpZGVzdHlsZXIubmV0JztcbiAgICAgICAgICAgICAgICBpZiAoUmlkZVN0eWxlclNob3djYXNlLmFwaS5lbnZpcm9ubWVudCA9PT0gUmlkZVN0eWxlclNob3djYXNlLmFwaS5FbnZpcm9ubWVudC5BbHBoYSkgYXBwVVJMID0gJ2h0dHA6Ly9hcHAtYWxwaGEucmlkZXN0eWxlci5uZXQnO2Vsc2UgaWYgKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkuZW52aXJvbm1lbnQgPT09IFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkuRW52aXJvbm1lbnQuQmV0YSkgYXBwVVJMID0gJ2h0dHA6Ly9hcHAtYmV0YS5yaWRlc3R5bGVyLm5ldCc7XG4gICAgICAgICAgICAgICAgdmFyIHNoYXJlUGF0aCA9ICcvc2hhcmUuY3NodG1sPyc7XG4gICAgICAgICAgICAgICAgdmFyIHNoYXJlUGFyYW1zID0gcmlkZXN0eWxlci51dGlscy50b1BhcmFtU3RyaW5nKFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHJpZGVzdHlsZXIuYXV0aC5hdXRoZW50aWNhdGVEYXRhKG51bGwpLCB0aGlzLnZlaGljbGVSZW5kZXJJbnN0cnVjdGlvbnMpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwVVJMICsgc2hhcmVQYXRoICsgc2hhcmVQYXJhbXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldHVwVmlld3BvcnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldHVwVmlld3BvcnQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB2YXIgdmlld3BvcnRFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudFdpdGhDbGFzcygnZGl2JywgJ3JpZGVzdHlsZXItc2hvd2Nhc2Utdmlld3BvcnQnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hcHBlbmRDaGlsZCh2aWV3cG9ydEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHZpZXdwb3J0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5zd2l0Y2hBbmdsZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZVZpZXdwb3J0ID0gbmV3IFJpZGVTdHlsZXJWaWV3cG9ydCh2aWV3cG9ydEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIHZhciB2aWV3cG9ydFVwZGF0ZWQgPSB0aGlzLnZlaGljbGVWaWV3cG9ydC5VcGRhdGUodGhpcy52ZWhpY2xlUmVuZGVySW5zdHJ1Y3Rpb25zKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5yb3RhdGVFbGVtZW50KSB2aWV3cG9ydFVwZGF0ZWQuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMy5yb3RhdGVFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2luJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NhblN3aXRjaEFuZ2xlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5Td2l0Y2hBbmdsZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3N0YXRlJGdldERhdGEgPSB0aGlzLnN0YXRlLmdldERhdGEoKSxcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbk1vZGVsID0gX3N0YXRlJGdldERhdGEuY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbk1vZGVsO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRWZWhpY2xlRGVzY3JpcHRpb25Nb2RlbC5IYXNBbmdsZWRJbWFnZSAmJiBjdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uTW9kZWwuSGFzU2lkZUltYWdlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkluc3RydWN0aW9uc0NoYW5nZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uSW5zdHJ1Y3Rpb25zQ2hhbmdlZCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHZhciBzaGFyZVVSTCA9IHRoaXMuZ2V0U2hhcmVVUkwoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldEVuYWJsZWQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdChcImxpbmsvY3JlYXRlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgVVJMOiB0aGlzLmdldFNoYXJlVVJMKClcbiAgICAgICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczQudXBkYXRlVVJMKHJlc3BvbnNlLlNob3J0VVJMKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM0LnNldEVuYWJsZWQodHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3NldEVuYWJsZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldEVuYWJsZWQoZW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gdGhpcy5zaGFyZUJ1dHRvbnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaGFyZUJ1dHRvbiA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgc2hhcmVCdXR0b24uY29tcG9uZW50LmRpc2FibGVkID0gIWVuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZVVSTCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVVJMKHNoYXJlVVJMKSB7XG4gICAgICAgICAgICAgICAgdmFyIHNoYXJlVGFncyA9IFsndmVoaWNsZSddO1xuICAgICAgICAgICAgICAgIHZhciBzaGFyZU1lc3NhZ2UgPSBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2NoZWNrLW91dC1teS12ZWhpY2xlJyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmVoaWNsZVJlbmRlckluc3RydWN0aW9ucy5XaGVlbEZpdG1lbnQpIHNoYXJlVGFncy5wdXNoKCd3aGVlbHMnKTtcbiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgdGhlIHNoYXJlIGJ1dHRvbnNcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IHRoaXMuc2hhcmVCdXR0b25zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2hhcmVCdXR0b24gPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHNoYXJlQnV0dG9uLnNldFVSTChzaGFyZVVSTCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFyZUJ1dHRvbi5zZXRUYWdzKHNoYXJlVGFncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzaGFyZUJ1dHRvbi5zZXRNZXNzYWdlKHNoYXJlTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3N3aXRjaEFuZ2xlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzd2l0Y2hBbmdsZSgpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuY2FuU3dpdGNoQW5nbGUoKSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmltYWdlVHlwZSA9PT0gMiAvKiBBbmdsZSAqLykgdGhpcy5pbWFnZVR5cGUgPSAxIC8qIFNpZGUgKi87ZWxzZSB0aGlzLmltYWdlVHlwZSA9IDIgLyogQW5nbGUgKi87XG4gICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlUmVuZGVySW5zdHJ1Y3Rpb25zLlR5cGUgPSB0aGlzLmltYWdlVHlwZTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVWaWV3cG9ydC5VcGRhdGUoe1xuICAgICAgICAgICAgICAgICAgICBUeXBlOiB0aGlzLmltYWdlVHlwZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMub25JbnN0cnVjdGlvbnNDaGFuZ2VkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbDtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VNb2RhbCk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlU2hhcmVNb2RhbCA9IFJpZGVTdHlsZXJTaG93Y2FzZVNoYXJlTW9kYWw7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2Utc3VzcGVuc2lvbi1zZWxlY3Rvcic7XG4gICAgdmFyIGVsZW1lbnRDbGFzc05hbWUgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1zdXNwZW5zaW9uLXNlbGVjdG9yLWVsZW1lbnQnO1xuICAgIHZhciBkZWZhdWx0U3VzcGVuc2lvblJhbmdlID0ge1xuICAgICAgICBNaW46IC00LFxuICAgICAgICBNYXg6IDBcbiAgICB9O1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3RvciA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJEMpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3RvciwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VTdXNwZW5zaW9uU2VsZWN0b3IoKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlU3VzcGVuc2lvblNlbGVjdG9yKTtcblxuICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VTdXNwZW5zaW9uU2VsZWN0b3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VTdXNwZW5zaW9uU2VsZWN0b3IpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VTdXNwZW5zaW9uU2VsZWN0b3IsIFt7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplQ29tcG9uZW50KCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIHZlaGljbGVEZXNjcmlwdGlvbiA9IHRoaXMuc3RhdGUuZ2V0RGF0YSgpLmN1cnJlbnRWZWhpY2xlRGVzY3JpcHRpb25Nb2RlbDtcbiAgICAgICAgICAgICAgICB2YXIgc3VzcGVuc2lvbk9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIG1pbjogZGVmYXVsdFN1c3BlbnNpb25SYW5nZS5NaW4sXG4gICAgICAgICAgICAgICAgICAgIG1heDogZGVmYXVsdFN1c3BlbnNpb25SYW5nZS5NYXgsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICAgICAgICAgICAgICBzdGVwOiAxLFxuICAgICAgICAgICAgICAgICAgICBkZWNpbWFsUGxhY2VzOiAxLFxuICAgICAgICAgICAgICAgICAgICB1bml0QWJicmV2aWF0aW9uOiAn4oCzJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gUmV0cmlldmUgc3VzcGVuc2lvbiBmcm9tIEFQSSBzZXR0aW5nc1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1c3BlbnNpb25SYW5nZXMgPSB0aGlzLnNob3djYXNlLnNldHRpbmdzRnJvbUFQSS5TdXNwZW5zaW9uUmFuZ2VzO1xuICAgICAgICAgICAgICAgICAgICB2YXIgU3R5bGVUeXBlID0gdmVoaWNsZURlc2NyaXB0aW9uLlN0eWxlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIERyaXZlVHlwZSA9IHZlaGljbGVEZXNjcmlwdGlvbi5Ecml2ZVR5cGU7XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIHN1c3BlbnNpb25SYW5nZUtleSA9IFN0eWxlVHlwZSArIERyaXZlVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1c3BlbnNpb25SYW5nZUtleSBpbiBzdXNwZW5zaW9uUmFuZ2VzID09PSBmYWxzZSkgc3VzcGVuc2lvblJhbmdlS2V5ID0gJ0RlZmF1bHQnO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3VzcGVuc2lvblJhbmdlID0gc3VzcGVuc2lvblJhbmdlc1tzdXNwZW5zaW9uUmFuZ2VLZXldIHx8IGRlZmF1bHRTdXNwZW5zaW9uUmFuZ2U7XG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNpb25PcHRpb25zLm1pbiA9IHN1c3BlbnNpb25SYW5nZS5NaW47XG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNpb25PcHRpb25zLm1heCA9IHN1c3BlbnNpb25SYW5nZS5NYXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuZnJvbnRBbmRSZWFyID0gbmV3IE5vVUlTdXNwZW5zaW9uRWxlbWVudCh0aGlzLnNob3djYXNlLCBSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbih7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3N1c3BlbnNpb24nKVxuICAgICAgICAgICAgICAgIH0sIHN1c3BlbnNpb25PcHRpb25zKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5mcm9udEFuZFJlYXIuc3VzcGVuc2lvbkNoYW5nZWRDYWxsYmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpczIuc3VzcGVuc2lvbkNoYW5nZUNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBfdGhpczIuc3VzcGVuc2lvbkNoYW5nZUNhbGxiYWNrKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFN1c3BlbnNpb246IF90aGlzMi5mcm9udEFuZFJlYXIudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5hcHBlbmRDaGlsZCh0aGlzLmZyb250QW5kUmVhci5jb21wb25lbnQpO1xuICAgICAgICAgICAgICAgIC8vIGxldCBmcm9udE9wdGlvbnM6U3VzcGVuc2lvblVJRWxlbWVudE9wdGlvbnMgPSBPYmplY3RIZWxwZXIuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAvLyAgICAgbGFiZWw6IHN0cmluZ3MuZ2V0U3RyaW5nKCdmcm9udCcpXG4gICAgICAgICAgICAgICAgLy8gfSwgc3VzcGVuc2lvbk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuZnJvbnQgPSBuZXcgTm9VSVN1c3BlbnNpb25FbGVtZW50KHRoaXMuc2hvd2Nhc2UsIGZyb250T3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgLy8gbGV0IHJlYXJPcHRpb25zOlN1c3BlbnNpb25VSUVsZW1lbnRPcHRpb25zID0gT2JqZWN0SGVscGVyLmFzc2lnbih7XG4gICAgICAgICAgICAgICAgLy8gICAgIGxhYmVsOiBzdHJpbmdzLmdldFN0cmluZygncmVhcicpXG4gICAgICAgICAgICAgICAgLy8gfSwgc3VzcGVuc2lvbk9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMucmVhciA9IG5ldyBOb1VJU3VzcGVuc2lvbkVsZW1lbnQodGhpcy5zaG93Y2FzZSwgcmVhck9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuY29tcG9uZW50LmFwcGVuZENoaWxkKHRoaXMuZnJvbnQuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmNvbXBvbmVudC5hcHBlbmRDaGlsZCh0aGlzLnJlYXIuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICAvLyB0aGlzLmZyb250LnN1c3BlbnNpb25DaGFuZ2VkQ2FsbGJhY2sgPSB0aGlzLnJlYXIuc3VzcGVuc2lvbkNoYW5nZWRDYWxsYmFjayA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyAgICAgaWYgKHR5cGVvZiB0aGlzLnN1c3BlbnNpb25DaGFuZ2VDYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgdGhpcy5zdXNwZW5zaW9uQ2hhbmdlQ2FsbGJhY2soe1xuICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIFN1c3BlbnNpb25Gcm9udDogdGhpcy5mcm9udC52YWx1ZSxcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBTdXNwZW5zaW9uUmVhcjogdGhpcy5yZWFyLnZhbHVlXG4gICAgICAgICAgICAgICAgLy8gICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyAgICAgfVxuICAgICAgICAgICAgICAgIC8vIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlU3VzcGVuc2lvblNlbGVjdG9yO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3RvciA9IFJpZGVTdHlsZXJTaG93Y2FzZVN1c3BlbnNpb25TZWxlY3RvcjtcbiAgICAvKipcbiAgICAgKiBBIGdlbmVyYWwgaW50ZXJmYWNlIGZvciBVSSBjb21wb25lbnRzIHRoYXQgbW9kaWZ5IHN1c3BlbnNpb25cbiAgICAgKi9cblxuICAgIHZhciBTdXNwZW5zaW9uVUlFbGVtZW50ID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQzIpIHtcbiAgICAgICAgX2luaGVyaXRzKFN1c3BlbnNpb25VSUVsZW1lbnQsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkQzIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFN1c3BlbnNpb25VSUVsZW1lbnQoc2hvd2Nhc2VJbnN0YW5jZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN1c3BlbnNpb25VSUVsZW1lbnQpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFN1c3BlbnNpb25VSUVsZW1lbnQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTdXNwZW5zaW9uVUlFbGVtZW50KSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlKSk7XG5cbiAgICAgICAgICAgIF90aGlzMy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgICAgIF90aGlzMy52YWx1ZSA9IG9wdGlvbnMuc3RhcnQ7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXMzO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFN1c3BlbnNpb25VSUVsZW1lbnQsIFt7XG4gICAgICAgICAgICBrZXk6ICdvblN1c3BlbnNpb25DaGFuZ2VkJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblN1c3BlbnNpb25DaGFuZ2VkKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IG5ld1ZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5zdXNwZW5zaW9uQ2hhbmdlZENhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB0aGlzLnN1c3BlbnNpb25DaGFuZ2VkQ2FsbGJhY2sobmV3VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFN1c3BlbnNpb25VSUVsZW1lbnQ7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICB2YXIgTm9VSVN1c3BlbnNpb25FbGVtZW50ID0gZnVuY3Rpb24gKF9TdXNwZW5zaW9uVUlFbGVtZW50KSB7XG4gICAgICAgIF9pbmhlcml0cyhOb1VJU3VzcGVuc2lvbkVsZW1lbnQsIF9TdXNwZW5zaW9uVUlFbGVtZW50KTtcblxuICAgICAgICBmdW5jdGlvbiBOb1VJU3VzcGVuc2lvbkVsZW1lbnQoc2hvd2Nhc2VJbnN0YW5jZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIE5vVUlTdXNwZW5zaW9uRWxlbWVudCk7XG5cbiAgICAgICAgICAgIHZhciBfdGhpczQgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoTm9VSVN1c3BlbnNpb25FbGVtZW50Ll9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoTm9VSVN1c3BlbnNpb25FbGVtZW50KSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlLCBvcHRpb25zKSk7XG5cbiAgICAgICAgICAgIF90aGlzNC5jb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBlbGVtZW50Q2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIGFwcGVuZDogUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGVsZW1lbnRDbGFzc05hbWUgKyAnLWxhYmVsJyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogb3B0aW9ucy5sYWJlbFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBzbGlkZXJFbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogZWxlbWVudENsYXNzTmFtZSArICctc2xpZGVyJyxcbiAgICAgICAgICAgICAgICBhcHBlbmRUbzogX3RoaXM0LmNvbXBvbmVudFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBub1VpU2xpZGVyLmNyZWF0ZShzbGlkZXJFbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IG9wdGlvbnMuc3RhcnQsXG4gICAgICAgICAgICAgICAgcmFuZ2U6IHtcbiAgICAgICAgICAgICAgICAgICAgbWluOiBvcHRpb25zLm1pbixcbiAgICAgICAgICAgICAgICAgICAgbWF4OiBvcHRpb25zLm1heFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc3RlcDogb3B0aW9ucy5zdGVwLFxuICAgICAgICAgICAgICAgIHBpcHM6IHtcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogJ3N0ZXBzJyxcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcG9zdGZpeCA9IG9wdGlvbnMudW5pdEFiYnJldmlhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkZWNpbWFsUGxhY2VzID0gb3B0aW9ucy5kZWNpbWFsUGxhY2VzO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bzogZnVuY3Rpb24gdG8odmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnRvRml4ZWQoZGVjaW1hbFBsYWNlcykgKyBwb3N0Zml4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogZnVuY3Rpb24gZnJvbSh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZS5yZXBsYWNlKG5ldyBSZWdFeHAoUmlkZVN0eWxlclNob3djYXNlLlN0cmluZ0hlbHBlci5lc2NhcGVSZWdFeHAocG9zdGZpeCkgKyAnJCcpLCBcIlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBfdGhpczQuc2xpZGVyRWxlbWVudCA9IHNsaWRlckVsZW1lbnQ7XG4gICAgICAgICAgICBfdGhpczQuc2xpZGVyID0gX3RoaXM0LnNsaWRlckVsZW1lbnQubm9VaVNsaWRlcjtcbiAgICAgICAgICAgIF90aGlzNC5zbGlkZXIub24oJ3VwZGF0ZScsIGZ1bmN0aW9uIChmb3JtYXR0ZWRWYWx1ZXMsIGhhbmRsZSwgdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgX3RoaXM0Lm9uU3VzcGVuc2lvbkNoYW5nZWQodmFsdWVzWzBdKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzNDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBOb1VJU3VzcGVuc2lvbkVsZW1lbnQ7XG4gICAgfShTdXNwZW5zaW9uVUlFbGVtZW50KTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBiYXJDbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXRhYi1iYXInO1xuICAgIHZhciB0YWJDbGFzcyA9IGJhckNsYXNzICsgJy10YWInO1xuICAgIHZhciB0YWJCYWNrZ3JvdW5kQ2xhc3MgPSB0YWJDbGFzcyArICctYmFja2dyb3VuZCc7XG4gICAgdmFyIGFjdGl2ZVRhYkNsYXNzID0gdGFiQ2xhc3MgKyAnLWFjdGl2ZSc7XG4gICAgdmFyIG1vZGVDbGFzcyA9IGJhckNsYXNzICsgJy0nO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhciA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJEMpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhciwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIoKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlVGFiQmFyKTtcblxuICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIsIFt7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplQ29tcG9uZW50KCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogYmFyQ2xhc3NcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldE1vZGUoJ3ZlcnRpY2FsJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25DbGljayhlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0TW9kZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TW9kZShtb2RlKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nIGlmIHRoZSBtb2RlcyBhcmUgdGhlIHNhbWVcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tb2RlID09PSBtb2RlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdmFyIHRvZ2dsZSA9IGZ1bmN0aW9uIHRvZ2dsZShjbGFzc05hbWUsIGZvcmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczMuY29tcG9uZW50LmNsYXNzTGlzdC50b2dnbGUoY2xhc3NOYW1lLCBmb3JjZSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGN1cnJlbnQgbW9kZSBjbGFzc1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5tb2RlID09PSAnc3RyaW5nJykgdG9nZ2xlKG1vZGVDbGFzcyArIHRoaXMubW9kZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIC8vIFNldCB0aGUgbmV3IG1vZGVcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgY3VycmVudCBtb2RlIGNsYXNzXG4gICAgICAgICAgICAgICAgdG9nZ2xlKG1vZGVDbGFzcyArIG1vZGUsIHRydWUpO1xuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdGFicycgbW9kZVxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGFiRGlzcGxheSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd1cGRhdGVUYWJEaXNwbGF5JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB1cGRhdGVUYWJEaXNwbGF5KCkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy50YWJzKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdmFyIHRhYlBlcmNlbnQgPSAxMDAgLyB0aGlzLnRhYnMubGVuZ3RoICsgJyUnO1xuICAgICAgICAgICAgICAgIHZhciBtb2RlID0gdGhpcy5tb2RlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB0aGlzLnRhYnNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFiID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtb2RlID09PSAndmVydGljYWwnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFiLmVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gdGFiUGVyY2VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWIuZWxlbWVudC5zdHlsZS53aWR0aCA9ICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWIuZWxlbWVudC5zdHlsZS5oZWlnaHQgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWIuZWxlbWVudC5zdHlsZS53aWR0aCA9IHRhYlBlcmNlbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWIudXBkYXRlQmFja2dyb3VuZFBvbHlnb24obW9kZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0VGFicycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VGFicyh0YWJzT3JUYWJDcmVhdGVPcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhYnMgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgaWYgKHRhYnNPclRhYkNyZWF0ZU9wdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhYnMgPSBbXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhYnNPclRhYkNyZWF0ZU9wdGlvbnNbMF0gaW5zdGFuY2VvZiBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIuVGFiKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhYnMgPSB0YWJzT3JUYWJDcmVhdGVPcHRpb25zO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhYnMgPSBuZXcgQXJyYXkodGFic09yVGFiQ3JlYXRlT3B0aW9ucy5sZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgdGFic09yVGFiQ3JlYXRlT3B0aW9ucy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjcmVhdGVPcHRpb25zID0gdGFic09yVGFiQ3JlYXRlT3B0aW9uc1tpbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJzW2luZGV4XSA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIuVGFiKGNyZWF0ZU9wdGlvbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMudGFicyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlci5jb3B5KHRhYnMpO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmVtcHR5KHRoaXMuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICB2YXIgdGFiUGVyY2VudCA9IDEwMCAvIHRhYnMubGVuZ3RoICsgJyUnO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gdGFic1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYiA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYXBwZW5kQ2hpbGQodGFiLmVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVUYWJEaXNwbGF5KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jdXJyZW50VGFiID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlVGFiKHRhYnNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdjbGVhckFjdGl2ZVRhYicsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJBY3RpdmVUYWIoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmVUYWIodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0QWN0aXZlVGFiJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBY3RpdmVUYWIobmV3VGFiKSB7XG4gICAgICAgICAgICAgICAgdmFyIG9sZFRhYiA9IHRoaXMuY3VycmVudFRhYjtcbiAgICAgICAgICAgICAgICBpZiAob2xkVGFiID09PSBuZXdUYWIpIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRUYWIgPSBuZXdUYWI7XG4gICAgICAgICAgICAgICAgLy8gU3dpdGNoIHRoZSBhY3RpdmUgY2xhc3NcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbGRUYWIpIG9sZFRhYi5lbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoYWN0aXZlVGFiQ2xhc3MpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmV3VGFiKSBuZXdUYWIuZWxlbWVudC5jbGFzc0xpc3QuYWRkKGFjdGl2ZVRhYkNsYXNzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2VuZCBvZmYgdGhlIGNhbGxiYWNrXG4gICAgICAgICAgICAgICAgaWYgKG5ld1RhYiAmJiB0eXBlb2YgdGhpcy50YWJTd2l0Y2hlZENhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB0aGlzLnRhYlN3aXRjaGVkQ2FsbGJhY2soe1xuICAgICAgICAgICAgICAgICAgICBvbGRUYWI6IG9sZFRhYixcbiAgICAgICAgICAgICAgICAgICAgbmV3VGFiOiBuZXdUYWJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25DbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25DbGljayhlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsaWNrVGFyZ2V0ID0gZS50YXJnZXQ7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRFbGVtZW50ID0gY2xpY2tUYXJnZXQ7XG4gICAgICAgICAgICAgICAgLy8gR28gdXAgdGhyb3VnaCB0aGUgcGFyZW50IGVsZW1lbnRzIHVudGlsIHdlIHJlYWNoIHRoZSB0YWIgYmFyXG4gICAgICAgICAgICAgICAgd2hpbGUgKGN1cnJlbnRFbGVtZW50ICE9PSB0aGlzLmNvbXBvbmVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgY3VycmVudCBlbGVtZW50IGlzIGEgdGFiXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnModGFiQ2xhc3MpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uVGFiQ2xpY2sodGhpcy50YWJGb3JFbGVtZW50KGN1cnJlbnRFbGVtZW50KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY3VycmVudEVsZW1lbnQgPSBjdXJyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25UYWJDbGljaycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25UYWJDbGljayh0YWIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRhYikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlVGFiKHRhYik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3RhYkZvckxhYmVsJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0YWJGb3JMYWJlbChsYWJlbCkge1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IzID0gdGhpcy50YWJzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFiID0gX3N0ZXAzLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFiLmxhYmVsID09PSBsYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YWI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd0YWJGb3JFbGVtZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiB0YWJGb3JFbGVtZW50KGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNCA9IHRoaXMudGFic1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwNDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uNCA9IChfc3RlcDQgPSBfaXRlcmF0b3I0Lm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYiA9IF9zdGVwNC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhYi5lbGVtZW50ID09PSBlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjQgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgJiYgX2l0ZXJhdG9yNC5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlVGFiQmFyO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhciA9IFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhcjtcbiAgICAoZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhcikge1xuICAgICAgICB2YXIgVGFiID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gVGFiKGNyZWF0ZU9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGFiKTtcblxuICAgICAgICAgICAgICAgIHRoaXMubGFiZWwgPSBjcmVhdGVPcHRpb25zLmxhYmVsO1xuICAgICAgICAgICAgICAgIHRoaXMuaWNvbkNsYXNzID0gY3JlYXRlT3B0aW9ucy5pY29uO1xuICAgICAgICAgICAgICAgIHRoaXMua2V5ID0gY3JlYXRlT3B0aW9ucy5rZXk7XG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kTW9kZSA9ICdob3Jpem9udGFsJztcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogdGFiQ2xhc3NcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVJY29uKHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogY3JlYXRlT3B0aW9ucy5pY29uLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5lbGVtZW50LFxuICAgICAgICAgICAgICAgICAgICB3cmFwOiBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50V2l0aENsYXNzKCdkaXYnLCB0YWJDbGFzcyArICctaWNvbicpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIGJhY2tncm91bmQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiB0YWJCYWNrZ3JvdW5kQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmVsZW1lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLnN2Z1N1cHBvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVTVkdFbGVtZW50KCdzdmcnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmVzZXJ2ZUFzcGVjdFJhdGlvOiAnbm9uZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlld0JveDogJzAgMCAxMDAgMTAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZDogdGhpcy5iYWNrZ3JvdW5kUG9seWdvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZVNWR0VsZW1lbnQoJ3BvbHlnb24nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiAnYmxhY2snXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogYmFja2dyb3VuZFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLmNsYXNzTGlzdC5hZGQodGFiQmFja2dyb3VuZENsYXNzICsgJy1ub3N2ZycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQudGl0bGUgPSBjcmVhdGVPcHRpb25zLmxhYmVsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBfY3JlYXRlQ2xhc3MoVGFiLCBbe1xuICAgICAgICAgICAgICAgIGtleTogJ3VwZGF0ZUJhY2tncm91bmRQb2x5Z29uJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlQmFja2dyb3VuZFBvbHlnb24obW9kZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuYmFja2dyb3VuZFBvbHlnb24pIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICAgICAqIFRoZSBoZWlnaHQgaW4gcGVyY2VudGFnZSBvZiB0aGUgdHJpYW5nbGUgc2l6ZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyaWFuZ2xlSGVpZ2h0ID0gbW9kZSA9PT0gJ3ZlcnRpY2FsJyA/IDMwIDogMTU7XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICAgICAgICAgKiBUaGUgd2lkdGggaW4gcGVyY2VudGFnZSBvZiB0aGUgdHJpYW5nbGUgc2l6ZVxuICAgICAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICAgICAgdmFyIHRyaWFuZ2xlV2lkdGggPSBtb2RlID09PSAndmVydGljYWwnID8gMTUgOiAzMDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrZ3JvdW5kUG9seWdvbi5zZXRBdHRyaWJ1dGUoJ3BvaW50cycsIG1vZGUgPT09ICd2ZXJ0aWNhbCcgPyAnMCwwIDEwMCwwIDEwMCwnICsgKDUwIC0gdHJpYW5nbGVIZWlnaHQgLyAyKSArICcgJyArICgxMDAgLSB0cmlhbmdsZVdpZHRoKSArICcsNTAgMTAwLCcgKyAoNTAgKyB0cmlhbmdsZUhlaWdodCAvIDIpICsgJyAxMDAsMTAwIDAsMTAwJyA6ICcwLDAgJyArICg1MCAtIHRyaWFuZ2xlSGVpZ2h0IC8gMikgKyAnLDAgNTAsJyArIHRyaWFuZ2xlSGVpZ2h0ICsgJyAnICsgKDUwICsgdHJpYW5nbGVIZWlnaHQgLyAyKSArICcsMCAxMDAsMCAxMDAsMTAwLCAwLDEwMCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1dKTtcblxuICAgICAgICAgICAgcmV0dXJuIFRhYjtcbiAgICAgICAgfSgpO1xuXG4gICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhci5UYWIgPSBUYWI7XG4gICAgfSkoUmlkZVN0eWxlclNob3djYXNlVGFiQmFyID0gUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhciB8fCAoUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRhYkJhciA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgdGFibGVDbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXRhYmxlJztcbiAgICB2YXIgaGVhZENsYXNzID0gdGFibGVDbGFzcyArICctaGVhZCc7XG4gICAgdmFyIGJvZHlDbGFzcyA9IHRhYmxlQ2xhc3MgKyAnLWJvZHknO1xuICAgIHZhciBib2R5TG9hZGluZ0NsYXNzID0gYm9keUNsYXNzICsgJy1sb2FkaW5nJztcbiAgICB2YXIgY29udGFpbmVyQ2xhc3MgPSB0YWJsZUNsYXNzICsgJy1jb250YWluZXInO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlVGFibGUsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkQyk7XG5cbiAgICAgICAgZnVuY3Rpb24gUmlkZVN0eWxlclNob3djYXNlVGFibGUoc2hvd2Nhc2VJbnN0YW5jZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlKTtcblxuICAgICAgICAgICAgb3B0aW9ucyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHt9LCBvcHRpb25zKTtcblxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoUmlkZVN0eWxlclNob3djYXNlVGFibGUpKS5jYWxsKHRoaXMsIHNob3djYXNlSW5zdGFuY2UpKTtcblxuICAgICAgICAgICAgX3RoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgICAgICBfdGhpcy5jb2x1bW5zID0gb3B0aW9ucy5jb2x1bW5zO1xuICAgICAgICAgICAgdmFyIHRhYmxlID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgndGFibGUnLCB7XG4gICAgICAgICAgICAgICAgYXBwZW5kVG86IF90aGlzLmNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRhYmxlQ2xhc3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdmFyIHRoZWFkID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgndGhlYWQnLCB7XG4gICAgICAgICAgICAgICAgYXBwZW5kVG86IHRhYmxlLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogaGVhZENsYXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLnRib2R5ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgndGJvZHknLCB7XG4gICAgICAgICAgICAgICAgYXBwZW5kVG86IHRhYmxlLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogYm9keUNsYXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLmdlbmVyYXRlSGVhZGVycyh0aGVhZCk7XG4gICAgICAgICAgICBfdGhpcy5jb21wb25lbnQgPSB0YWJsZTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnJvd3MpIF90aGlzLmFwcGVuZFJvd3Mob3B0aW9ucy5yb3dzKTtlbHNlIGlmIChvcHRpb25zLnN0YXJ0TG9hZGluZykgX3RoaXMuc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZSwgW3tcbiAgICAgICAgICAgIGtleTogJ2dlbmVyYXRlSGVhZGVyQ2VsbCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVIZWFkZXJDZWxsKGNvbHVtbikge1xuICAgICAgICAgICAgICAgIHZhciBoZWFkZXIgPSBjb2x1bW4uaGVhZGVyO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaGVhZGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnZW5lcmF0ZWRIZWFkZXIgPSBoZWFkZXIoY29sdW1uKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBnZW5lcmF0ZWRIZWFkZXIgPT09ICdzdHJpbmcnID8gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgndGgnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBnZW5lcmF0ZWRIZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgfSkgOiBnZW5lcmF0ZWRIZWFkZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciB0aCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ3RoJywge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBoZWFkZXJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dlbmVyYXRlSGVhZGVycycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVIZWFkZXJzKHRoZWFkKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhlYWRlclJvdyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuY29sdW1uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2x1bW4gPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyUm93LmFwcGVuZENoaWxkKHRoaXMuZ2VuZXJhdGVIZWFkZXJDZWxsKGNvbHVtbikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGVhZC5hcHBlbmRDaGlsZChoZWFkZXJSb3cpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdnZW5lcmF0ZVJvd0NlbGwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdlbmVyYXRlUm93Q2VsbChyb3csIGNvbHVtbikge1xuICAgICAgICAgICAgICAgIHZhciBjZWxsID0gY29sdW1uLmNlbGw7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjZWxsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBnZW5lcmF0ZWRDZWxsID0gY2VsbChyb3csIGNvbHVtbik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZ2VuZXJhdGVkQ2VsbCA9PT0gJ3N0cmluZycgPyBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCd0ZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGdlbmVyYXRlZENlbGxcbiAgICAgICAgICAgICAgICAgICAgfSkgOiBnZW5lcmF0ZWRDZWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdGQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCd0ZCcsIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogcm93W2NlbGxdLnRvU3RyaW5nKClcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dlbmVyYXRlUm93JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZVJvdyhyb3cpIHtcbiAgICAgICAgICAgICAgICB2YXIgdHIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCd0cicpO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gdGhpcy5jb2x1bW5zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29sdW1uID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB0ci5hcHBlbmRDaGlsZCh0aGlzLmdlbmVyYXRlUm93Q2VsbChyb3csIGNvbHVtbikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdhcHBlbmRSb3dzJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBlbmRSb3dzKHJvd3MpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHZhciByb3dzRnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSByb3dzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93ID0gX3N0ZXAzLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByb3dzRnJhZ21lbnQuYXBwZW5kQ2hpbGQodGhpcy5nZW5lcmF0ZVJvdyhyb3cpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IzLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMudGJvZHkuYXBwZW5kQ2hpbGQocm93c0ZyYWdtZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0TG9hZGluZycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0TG9hZGluZyhsb2FkaW5nKSB7XG4gICAgICAgICAgICAgICAgdGhpcy50Ym9keS5jbGFzc0xpc3QudG9nZ2xlKGJvZHlMb2FkaW5nQ2xhc3MsIGxvYWRpbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSwgW3tcbiAgICAgICAgICAgIGtleTogJ2Zvcm1hdENlbGwnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZvcm1hdENlbGwob2JqZWN0LCBrZXksIHBvc3RmaXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RyaW5nID0gb2JqZWN0W2tleV0udG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgndGQnLCB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHN0cmluZyA/IHBvc3RmaXggPyBzdHJpbmcgKyBwb3N0Zml4IDogc3RyaW5nIDogUmlkZVN0eWxlclNob3djYXNlVGFibGUuZW1wdHlDZWxsU3RyaW5nXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlVGFibGU7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZS5lbXB0eUNlbGxTdHJpbmcgPSAnLSc7XG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlID0gUmlkZVN0eWxlclNob3djYXNlVGFibGU7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkUikge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yLCBfUmlkZVN0eWxlclNob3djYXNlJFIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVRpcmVTZWxlY3RvcihzaG93Y2FzZUluc3RhbmNlKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlVGlyZVNlbGVjdG9yKTtcblxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVRpcmVTZWxlY3Rvci5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVRpcmVTZWxlY3RvcikpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSkpO1xuXG4gICAgICAgICAgICB2YXIgc3RhdGVEYXRhID0gc2hvd2Nhc2VJbnN0YW5jZS5zdGF0ZS5nZXREYXRhKCk7XG4gICAgICAgICAgICBfdGhpcy5zdXBwb3J0ZWRWZWhpY2xlSW1hZ2VyeSA9IHtcbiAgICAgICAgICAgICAgICBhbmdsZWQ6IHN0YXRlRGF0YS52ZWhpY2xlSGFzQW5nbGVkSW1hZ2UsXG4gICAgICAgICAgICAgICAgc2lkZTogc3RhdGVEYXRhLnZlaGljbGVIYXNTaWRlSW1hZ2VcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBfdGhpcy52ZWhpY2xlVGlyZU9wdGlvbklEID0gc3RhdGVEYXRhLmN1cnJlbnRWZWhpY2xlVGlyZU9wdGlvbklEO1xuICAgICAgICAgICAgX3RoaXMuZGVmYXVsdEZpbHRlcnMgPSB7XG4gICAgICAgICAgICAgICAgVmVoaWNsZVRpcmVPcHRpb246IF90aGlzLnZlaGljbGVUaXJlT3B0aW9uSUQsXG4gICAgICAgICAgICAgICAgSGFzQ2F0YWxvZ0ltYWdlOiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgX3RoaXMuY3VycmVudEZpbHRlcnMgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyLmFzc2lnbih7fSwgX3RoaXMuZGVmYXVsdEZpbHRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFJpZGVTdHlsZXJTaG93Y2FzZVRpcmVTZWxlY3RvciwgW3tcbiAgICAgICAgICAgIGtleTogXCJjb3VudFJlc3VsdHNcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb3VudFJlc3VsdHMoZmlsdGVycykge1xuICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdChcInRpcmUvY291bnRtb2RlbHNcIiwgZmlsdGVycyksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuQ291bnQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJnZXRSZXN1bHRzXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UmVzdWx0cyhmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwidGlyZS9nZXRtb2RlbGRlc2NyaXB0aW9uc1wiLCBmaWx0ZXJzKSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5Nb2RlbHM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJwcm9kdWN0RmlsdGVyXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcHJvZHVjdEZpbHRlcihwcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJwcm9kdWN0SW1hZ2VTb3VyY2VcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9kdWN0SW1hZ2VTb3VyY2UocHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByaWRlc3R5bGVyLnRpcmUuaW1hZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBUaXJlRml0bWVudFJlc291cmNlVHlwZTogMiAvKiBDYXRhbG9nICovXG4gICAgICAgICAgICAgICAgICAgICwgVGlyZU1vZGVsOiBwcm9kdWN0LlRpcmVNb2RlbElELFxuICAgICAgICAgICAgICAgICAgICBXaWR0aDogMTAwLFxuICAgICAgICAgICAgICAgICAgICBIZWlnaHQ6IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgUG9zaXRpb25YOiAxIC8qIENlbnRlciAqL1xuICAgICAgICAgICAgICAgICAgICAsIFBvc2l0aW9uWTogMSAvKiBDZW50ZXIgKi9cbiAgICAgICAgICAgICAgICAgICAgLCBJbmNsdWRlU2hhZG93OiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJwcm9kdWN0SW1hZ2VMYWJlbHNcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9kdWN0SW1hZ2VMYWJlbHMocHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHByaW1hcnk6IHByb2R1Y3QuVGlyZUJyYW5kTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kYXJ5OiBwcm9kdWN0LlRpcmVNb2RlbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHRlcnRpYXJ5OiBwcm9kdWN0LkF0dHJpYnV0ZXMgJiYgcHJvZHVjdC5BdHRyaWJ1dGVzLmxlbmd0aCA/IHByb2R1Y3QuQXR0cmlidXRlcy5qb2luKCcsICcpIDogJydcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZVRpcmVTZWxlY3RvcjtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0U2VsZWN0b3IpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRpcmVTZWxlY3RvciA9IFJpZGVTdHlsZXJTaG93Y2FzZVRpcmVTZWxlY3Rvcjtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciB0b2dnbGVCdXR0b25DbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXRvZ2dsZS1idXR0b24nO1xuICAgIHZhciBvcHRpb25DbGFzcyA9IHRvZ2dsZUJ1dHRvbkNsYXNzICsgJy1vcHRpb24nO1xuICAgIHZhciBvcHRpb25BY3RpdmVDbGFzcyA9IG9wdGlvbkNsYXNzICsgJy1hY3RpdmUnO1xuXG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVRvZ2dsZUJ1dHRvbiA9IGZ1bmN0aW9uIChfUmlkZVN0eWxlclNob3djYXNlJEMpIHtcbiAgICAgICAgX2luaGVyaXRzKFJpZGVTdHlsZXJTaG93Y2FzZVRvZ2dsZUJ1dHRvbiwgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VUb2dnbGVCdXR0b24oKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlVG9nZ2xlQnV0dG9uKTtcblxuICAgICAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VUb2dnbGVCdXR0b24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VUb2dnbGVCdXR0b24pKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VUb2dnbGVCdXR0b24sIFt7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplQ29tcG9uZW50JyxcblxuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBDcmVhdGUgdGhlIERPTSBmb3IgdGhlIHRvZ2dsZSBidXR0b25cbiAgICAgICAgICAgICAqXG4gICAgICAgICAgICAgKiBAb3ZlcnJpZGVcbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVDb21wb25lbnQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IHRvZ2dsZUJ1dHRvbkNsYXNzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoY2xpY2tFdmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLm9uQ2xpY2tlZChjbGlja0V2ZW50KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ2FsbGVkIHdoZW4gdGhlIHRvZ2dsZSBidXR0b24gaXMgY2xpY2tlZCBvblxuICAgICAgICAgICAgICovXG5cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25DbGlja2VkJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkNsaWNrZWQoY2xpY2tFdmVudCkge1xuICAgICAgICAgICAgICAgIHZhciB0YXJnZXQgPSBjbGlja0V2ZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICBpZiAoIXRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMob3B0aW9uQ2xhc3MpKSByZXR1cm47IC8vIFRoZSBjbGljayB3YXMgbm90IG9uIGFuIG9wdGlvblxuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKG9wdGlvbkFjdGl2ZUNsYXNzKSkgcmV0dXJuOyAvLyBUaGUgY2xpY2sgd2FzIG9uIGFuIGFjdGl2ZSBvcHRpb25cbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdE9wdGlvbkVsZW1lbnQodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2VsZWN0T3B0aW9uRWxlbWVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0T3B0aW9uRWxlbWVudChvcHRpb25FbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHRyaWdnZXJDaGFuZ2UgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHRydWU7XG5cbiAgICAgICAgICAgICAgICB2YXIgbmV3VmFsdWUgPSBvcHRpb25FbGVtZW50LnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlID09PSBuZXdWYWx1ZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjaGlsZEluZGV4ID0gMDsgY2hpbGRJbmRleCA8IHRoaXMuY29tcG9uZW50LmNoaWxkcmVuLmxlbmd0aDsgY2hpbGRJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZE9wdGlvbkVsZW1lbnQgPSB0aGlzLmNvbXBvbmVudC5jaGlsZHJlbltjaGlsZEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgY2hpbGRPcHRpb25FbGVtZW50LmNsYXNzTGlzdC50b2dnbGUob3B0aW9uQWN0aXZlQ2xhc3MsIGNoaWxkT3B0aW9uRWxlbWVudCA9PT0gb3B0aW9uRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5vbkNoYW5nZWQgPT09ICdmdW5jdGlvbicgJiYgdHJpZ2dlckNoYW5nZSkgdGhpcy5vbkNoYW5nZWQobmV3VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRWYWx1ZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gdmFsdWUpIHJldHVybjtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBjaGlsZEluZGV4ID0gMDsgY2hpbGRJbmRleCA8IHRoaXMuY29tcG9uZW50LmNoaWxkcmVuLmxlbmd0aDsgY2hpbGRJbmRleCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaGlsZE9wdGlvbkVsZW1lbnQgPSB0aGlzLmNvbXBvbmVudC5jaGlsZHJlbltjaGlsZEluZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoaWxkT3B0aW9uRWxlbWVudC52YWx1ZSA9PT0gdmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0T3B0aW9uRWxlbWVudChjaGlsZE9wdGlvbkVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRPcHRpb25zJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5lbXB0eSh0aGlzLmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gb3B0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBvcHRpb24gPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRPcHRpb24ob3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdhZGRPcHRpb24nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE9wdGlvbihvcHRpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgb3B0aW9uRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ3NwYW4nLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogb3B0aW9uQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IG9wdGlvbi5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSksIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG9wdGlvbi52YWx1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlID09PSB1bmRlZmluZWQpIHRoaXMuc2VsZWN0T3B0aW9uRWxlbWVudChvcHRpb25FbGVtZW50LCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlVG9nZ2xlQnV0dG9uO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRvZ2dsZUJ1dHRvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZVRvZ2dsZUJ1dHRvbjtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlU2VsZWN0aW9uID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkTSkge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVNlbGVjdGlvbiwgX1JpZGVTdHlsZXJTaG93Y2FzZSRNKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlU2VsZWN0aW9uKCkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb24pO1xuXG4gICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlU2VsZWN0aW9uKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgICAgIH1cblxuICAgICAgICBfY3JlYXRlQ2xhc3MoUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVNlbGVjdGlvbiwgW3tcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVNYWluQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpbml0aWFsaXplTWFpbkNvbXBvbmVudCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMubW9kYWwgPSBuZXcgUmlkZVN0eWxlclZlaGljbGVTZWxlY3Rpb25Nb2RhbCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogZnVuY3Rpb24gY29udGFpbmVyKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5jb21wb25lbnQucGFyZW50RWxlbWVudDtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKHNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGVjdGlvbi5GaW5hbFNlbGVjdGlvbk1hZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIub25WZWhpY2xlU2VsZWN0ZWQoc2VsZWN0aW9uLlZlaGljbGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBJbWFnZVNldHRpbmdzOiBmdW5jdGlvbiBJbWFnZVNldHRpbmdzKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2VuZXJhdGVWZWhpY2xlUHJldmlld1NldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIEluY2x1ZGVPRVRpcmVPcHRpb246IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLmFmdGVyQXV0aGVudGljYXRlZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25BdXRoZW50aWNhdGVkKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2J1aWxkQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZENvbXBvbmVudChjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdyaWRlc3R5bGVyLXNob3djYXNlLXZlaGljbGUtc2VsZWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50Q29udGFpbmVyID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLWNvbnRlbnQgcmlkZXN0eWxlci1zaG93Y2FzZS12ZWhpY2xlLXNlbGVjdGlvbi1jb250ZW50JyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IGNvbnRhaW5lclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuYnVpbGRDb3B5KCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaG9vc2VWZWhpY2xlQnV0dG9uID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlQnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzZWxlY3QteW91ci12ZWhpY2xlJyksXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbnRlbnRDb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIGRpc2FibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBsYXJnZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6ICdyaWRlc3R5bGVyLXNob3djYXNlLXNlbGVjdC15b3VyLXZlaGljbGUnLFxuICAgICAgICAgICAgICAgICAgICB3cmFwOiBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50V2l0aElEKCdkaXYnLCAncmlkZXN0eWxlci1zaG93Y2FzZS1zZWxlY3QteW91ci12ZWhpY2xlLXdyYXBwZXInKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hvb3NlVmVoaWNsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLm1vZGFsLlNob3coKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnYnVpbGRDb3B5JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZENvcHkoKSB7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gZW1ib2xkZW5GaXJzdFdvcmQoc3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaXJzdFdvcmQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuU3RyaW5nSGVscGVyLmdldEZpcnN0V29yZChzdHJpbmcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVtYWluaW5nU3RyaW5nID0gc3RyaW5nLnN1YnN0cihmaXJzdFdvcmQubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50V2l0aFRleHQoJ3N0cm9uZycsIGZpcnN0V29yZCksIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZVRleHRFbGVtZW50KHJlbWFpbmluZ1N0cmluZyldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdmlzdWFsaXplU3RyaW5nID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnaDEnLCB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZDogZW1ib2xkZW5GaXJzdFdvcmQoUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKFwidmVoaWNsZS1zZWxlY3QtdmlzdWFsaXplLWludHJvXCIpKSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29udGVudENvbnRhaW5lclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBzaGFyZVN0cmluZyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2gxJywge1xuICAgICAgICAgICAgICAgICAgICBhcHBlbmQ6IGVtYm9sZGVuRmlyc3RXb3JkKFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZyhcInZlaGljbGUtc2VsZWN0LXNoYXJlLWludHJvXCIpKSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29udGVudENvbnRhaW5lclxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkF1dGhlbnRpY2F0ZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uQXV0aGVudGljYXRlZCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuY2hvb3NlVmVoaWNsZUJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdChcIndoZWVsL2dldG1vZGVsc1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIENvdW50OiAzLFxuICAgICAgICAgICAgICAgICAgICBIYXNDYXRhbG9nSW1hZ2U6IHRydWVcbiAgICAgICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LnNob3dXaGVlbHMocmVzcG9uc2UuTW9kZWxzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25WZWhpY2xlU2VsZWN0ZWQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uVmVoaWNsZVNlbGVjdGVkKHNlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIC8vIFRoZSB1c2VyIGhhcyBzZWxlY3RlZCBhIHZlaGljbGUgdXNpbmcgdGhlIHZlaGljbGUgc2VsZWN0aW9uIG1vZGFsLlxuICAgICAgICAgICAgICAgIC8vIE5vdyB3ZSBuZWVkIHRvIG9idGFpbiBhIE9FIHRpcmUgb3B0aW9uIGZvciB0aGVtLlxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLnRyaWdnZXIoXCJ2ZWhpY2xlLXNlbGVjdGVkXCIsIHNlbGVjdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIFNob3cgdGhlIHBhc3NlZCBpbiB3aGVlbCBtb2RlbHMgaW4gdGhlIHdoZWVsIHNob3djYXNlIHNlY3Rpb24gb2YgdGhlIHZlaGljbGUgc2VsZWN0aW9uIHNjcmVlblxuICAgICAgICAgICAgICogQHBhcmFtIG1vZGVscyBUaGUgd2hlZWwgbW9kZWxzIHRvIHNob3dcbiAgICAgICAgICAgICAqL1xuXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3Nob3dXaGVlbHMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dXaGVlbHMobW9kZWxzKSB7XG4gICAgICAgICAgICAgICAgdmFyIHdoZWVsQ29udGFpbmVyID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy53aGVlbENvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICB3aGVlbENvbnRhaW5lciA9IHRoaXMud2hlZWxDb250YWluZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLXZlaGljbGUtc2VsZWN0aW9uLXdoZWVsLXNob3djYXNlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB3aGVlbENvbnRhaW5lciA9IHRoaXMud2hlZWxDb250YWluZXI7XG4gICAgICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmVtcHR5KHdoZWVsQ29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG1vZGVsSW1hZ2VzID0gW107XG4gICAgICAgICAgICAgICAgdmFyIG9uTW9kZWxJbWFnZUxvYWQgPSBmdW5jdGlvbiBvbk1vZGVsSW1hZ2VMb2FkKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IG1vZGVsSW1hZ2VzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RlbEltYWdlID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIW1vZGVsSW1hZ2UuY29tcGxldGUpIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHdoZWVsQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAnMSc7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IG1vZGVsc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwMjsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IChfc3RlcDIgPSBfaXRlcmF0b3IyLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG1vZGVsID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZWxJbWFnZVNvdXJjZSA9IHJpZGVzdHlsZXIud2hlZWwuaW1hZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdoZWVsTW9kZWw6IG1vZGVsLldoZWVsTW9kZWxJRCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBXaWR0aDogNDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEhlaWdodDogNDAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBvc2l0aW9uWDogMSAvKiBDZW50ZXIgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIFBvc2l0aW9uWTogMSAvKiBDZW50ZXIgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAsIFdoZWVsRml0bWVudFJlc291cmNlVHlwZTogMyAvKiBDYXRhbG9nICovXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLCBJbmNsdWRlU2hhZG93OiB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtb2RlbEltYWdlID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbEltYWdlLmNsYXNzTmFtZSA9ICdyaWRlc3R5bGVyLXNob3djYXNlLXZlaGljbGUtc2VsZWN0aW9uLXdoZWVsLXNob3djYXNlLWltYWdlJztcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGVsSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIG9uTW9kZWxJbWFnZUxvYWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxJbWFnZXMucHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxJbWFnZS5zcmMgPSBtb2RlbEltYWdlU291cmNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hlZWxDb250YWluZXIuYXBwZW5kQ2hpbGQobW9kZWxJbWFnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dlbmVyYXRlVmVoaWNsZVByZXZpZXdTZXR0aW5ncycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2VuZXJhdGVWZWhpY2xlUHJldmlld1NldHRpbmdzKCkge1xuICAgICAgICAgICAgICAgIHZhciBzY2FsZSA9IE1hdGgubWF4KHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDAsIDEpO1xuICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmNvbXBvbmVudDtcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGhUb0hlaWdodCA9IC41O1xuICAgICAgICAgICAgICAgIHZhciBtYXhSZXF1ZXN0UmVzb2x1dGlvbiA9IDE5MjA7XG4gICAgICAgICAgICAgICAgLy8gV2lkdGggaXMgODAlIG9mIHRoZSBjb250YWluZXIgd2lkdGhcbiAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBjb250YWluZXIuY2xpZW50V2lkdGggKiAuODA7XG4gICAgICAgICAgICAgICAgLy8gV2lkdGggaXMgNTAwIGlmIG5vdCBmb3VuZFxuICAgICAgICAgICAgICAgIGlmICghd2lkdGgpIHdpZHRoID0gNTAwO1xuICAgICAgICAgICAgICAgIC8vIEFwcGx5IG91ciBzY2FsZVxuICAgICAgICAgICAgICAgIHdpZHRoICo9IHNjYWxlO1xuICAgICAgICAgICAgICAgIC8vIExpbWl0IHdpZHRoIHRvIG1heCByZXF1ZXN0IHJlc29sdXRpb25cbiAgICAgICAgICAgICAgICBpZiAod2lkdGggPiBtYXhSZXF1ZXN0UmVzb2x1dGlvbikgd2lkdGggPSBtYXhSZXF1ZXN0UmVzb2x1dGlvbjtcbiAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmUgaGVpZ2h0XG4gICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IHdpZHRoICogd2lkdGhUb0hlaWdodDtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBXaWR0aDogfn53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgSGVpZ2h0OiB+fmhlaWdodFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVNlbGVjdGlvbjtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5NYWluQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVNlbGVjdGlvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVTZWxlY3Rpb247XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgY3VzdG9taXphdGlvbnNDbGFzcyA9ICdyaWRlc3R5bGVyLXNob3djYXNlLWN1c3RvbWl6YXRpb25zJztcbiAgICB2YXIgbG9hZGluZ0NsYXNzID0gY3VzdG9taXphdGlvbnNDbGFzcyArICctbG9hZGluZyc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlVmVoaWNsZVZpc3VhbGl6YXRpb24gPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRNKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbiwgX1JpZGVTdHlsZXJTaG93Y2FzZSRNKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbigpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbik7XG5cbiAgICAgICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbi5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVWaXN1YWxpemF0aW9uKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgICAgIF90aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRPcmRlciA9IFsncGFpbnQnLCAnd2hlZWxzJywgJ3RpcmVzJywgJ3N1c3BlbnNpb24nXTtcbiAgICAgICAgICAgIF90aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRTZXR0aW5ncyA9IHtcbiAgICAgICAgICAgICAgICBwYWludDoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzZWxlY3QtcGFpbnQnKSxcbiAgICAgICAgICAgICAgICAgICAgc2hvd0ZpbHRlckJ1dHRvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHdoZWVsczoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzZWxlY3Qtd2hlZWxzJyksXG4gICAgICAgICAgICAgICAgICAgIHNob3dGaWx0ZXJCdXR0b246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGVuYWJsZWQ6IHRydWVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRpcmVzOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3NlbGVjdC10aXJlcycpLFxuICAgICAgICAgICAgICAgICAgICBzaG93RmlsdGVyQnV0dG9uOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBzdXNwZW5zaW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2FkanVzdC1zdXNwZW5zaW9uJyksXG4gICAgICAgICAgICAgICAgICAgIHNob3dGaWx0ZXJCdXR0b246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbiwgW3tcbiAgICAgICAgICAgIGtleTogJ2J1aWxkQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBidWlsZENvbXBvbmVudChjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIC8vIFdhaXQgZm9yIGluaXRpYWxpemF0aW9uIGJlZm9yZSBjcmVhdGluZyB0aGUgdmlld3BvcnQgYmVjYXVzZSBpdCBkZXRlY3RzXG4gICAgICAgICAgICAgICAgLy8gdGhlIG9mZnNldCBwb3NpdGlvbmluZyBvZiB0aGUgdmlld3BvcnQgZWxlbWVudCB3aGVuIGNyZWF0ZWQgYW5kIG91ciBDU1NcbiAgICAgICAgICAgICAgICAvLyBpc24ndCBndWFyYW50ZWVkIHRvIGJlIGxvYWRlZCB1bnRpbCB0aGUgaW5pdGlhbGl6ZWQgZXZlbnRcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vbignaW5pdGlhbGl6ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXR1cFZpZXdwb3J0KGNvbnRhaW5lcik7XG4gICAgICAgICAgICAgICAgICAgIC8vIFNldHVwIGluaXRpYWwgdGFiIGxheW91dFxuICAgICAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlVGFiTGF5b3V0KCk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5ldmVudHMub24oJ3ZlaGljbGUtc2VsZWN0ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMyLnZlaGljbGVEaWZmZXJlbnRGcm9tU3RhdGUoKSkgX3RoaXMyLnZpZXdwb3J0LlJlc2V0KCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAvLyBIaWRlIHRoZSBzaGFyZSBidXR0b24gaWYgc2hhcmluZyBpcyBkaXNhYmxlZFxuICAgICAgICAgICAgICAgICAgICBpZiAoIV90aGlzMi5zaG93Y2FzZS5zZXR0aW5nc0Zyb21BUEkuRW5hYmxlU2hhcmluZykgc2hhcmVCdXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50VGlyZUJyYW5kcyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdChcInRpcmUvY291bnRicmFuZHNcIiwgX3RoaXMyLnNob3djYXNlLmZpbHRlcnMudGlyZUZpbHRlcnMuZ2V0RmlsdGVycygpKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50V2hlZWxCcmFuZHMgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuYXBpLnJlcXVlc3QoXCJ3aGVlbC9jb3VudGJyYW5kc1wiLCBfdGhpczIuc2hvd2Nhc2UuZmlsdGVycy53aGVlbEZpbHRlcnMuZ2V0RmlsdGVycygpKTtcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIuYWxsKFtjb3VudFRpcmVCcmFuZHMsIGNvdW50V2hlZWxCcmFuZHNdKS5kb25lKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGlyZUJyYW5kQ291bnQgPSByZXN1bHRzWzBdLkNvdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdoZWVsQnJhbmRDb3VudCA9IHJlc3VsdHNbMV0uQ291bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXRpcmVCcmFuZENvdW50KSBfdGhpczIuY3VzdG9taXphdGlvbkNvbXBvbmVudFNldHRpbmdzLnRpcmVzLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2hlZWxCcmFuZENvdW50KSBfdGhpczIuY3VzdG9taXphdGlvbkNvbXBvbmVudFNldHRpbmdzLndoZWVscy5lbmFibGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlVGFicygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNldHVwVGFicygpO1xuICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlV2hlZWxTaXplID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VDaGFuZ2VXaGVlbFNpemUodGhpcy5zaG93Y2FzZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VXaGVlbFNpemUub3B0aW9uU2VsZWN0ZWRDYWxsYmFjayA9IGZ1bmN0aW9uIChuZXdPcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnN0YXRlLmV4dGVuZERhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFdoZWVsRml0bWVudDogbmV3T3B0aW9uXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlVmlld3BvcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgV2hlZWxGaXRtZW50OiBuZXdPcHRpb24uV2hlZWxGaXRtZW50SURcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudHMgPSBbdGhpcy52ZWhpY2xlRGV0YWlscyA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuVmVoaWNsZURldGFpbHModGhpcy5zaG93Y2FzZSksIG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuV2hlZWxEZXRhaWxzKHRoaXMuc2hvd2Nhc2UpLCBuZXcgUmlkZVN0eWxlclNob3djYXNlLlRpcmVEZXRhaWxzKHRoaXMuc2hvd2Nhc2UpLCB0aGlzLnRhYkJhciwgdGhpcy5jaGFuZ2VXaGVlbFNpemVdO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudENvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjdXN0b21pemF0aW9uc0NsYXNzLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBBcHBlbmQgYW55IHN1YiBjb21wb25lbnRzXG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvciA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IHRoaXMuY29tcG9uZW50c1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb21wb25lbnQgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuYXBwZW5kQ2hpbGQoY29tcG9uZW50LmNvbXBvbmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1yb3RhdGUtdmVoaWNsZScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnN3aXRjaEFuZ2xlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2UtY3VzdG9taXphdGlvbi1jb21wb25lbnQtdGl0bGUtY29udGFpbmVyJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50LFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmQ6IFt0aGlzLnRpdGxlRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaG93Y2FzZS1jdXN0b21pemF0aW9uLWNvbXBvbmVudC10aXRsZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICAgICAgfSksIHRoaXMuZmlsdGVyQnV0dG9uID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlQnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnZmlsdGVyLXJlc3VsdHMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNraW5ueTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KV1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNob3dGaWx0ZXJzKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIHNoYXJlQnV0dG9uID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlQnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAncmlkZXN0eWxlci1zaGFyZS1teS12ZWhpY2xlLWJ1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc2hhcmUtbXktdmVoaWNsZScpLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzaGFyZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VTaGFyZU1vZGFsKF90aGlzMi5zaG93Y2FzZSwgX3RoaXMyLmN1cnJlbnRSZW5kZXJJbnN0cnVjdGlvbnMpLnNob3coKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBTdGFydCBsaXN0ZW5pbmcgZm9yIHJlc2l6ZSBldmVudHNcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5vbigncmVzaXplZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzMi5pc1Zpc2libGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnVwZGF0ZVZpZXdwb3J0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBTdGFydCBsaXN0ZW5pbmcgZm9yIGJyZWFrcG9pbnQgY2hhbmdlc1xuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRzLm9uKCdicmVha3BvaW50LWNoYW5nZWQnLCBmdW5jdGlvbiAobmV3QnJlYWtwb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczIudXBkYXRlVGFiTGF5b3V0KCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlRGV0YWlscy5wYWludFN3YXRjaENsaWNrQ2FsbGJhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXRBY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50KF90aGlzMi5jdXN0b21pemF0aW9uQ29tcG9uZW50cy5wYWludCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2V0dXBWaWV3cG9ydCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0dXBWaWV3cG9ydChjb250YWluZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHZhciB2aWV3cG9ydEVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3JpZGVzdHlsZXItc2hvd2Nhc2Utdmlld3BvcnQnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogY29udGFpbmVyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczMuc3dpdGNoQW5nbGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdwb3J0ID0gbmV3IFJpZGVTdHlsZXJWaWV3cG9ydCh2aWV3cG9ydEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIC8vTGlzdGVucyBmb3IgbmV3IGNhciBzZWxlY3Rpb24gYW5kIGhpZGVzIHZlaGljbGUgYmV0d2VlbiB1cGRhdGVzXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZVRhYnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZVRhYnMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhYnMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudE9yZGVyW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5ID0gX3N0ZXAyLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGRpc2FibGVkIGNvbXBvbmVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50U2V0dGluZ3Nba2V5XS5lbmFibGVkKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYnMucHVzaCh0aGlzLnRhYnNba2V5XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnRhYkJhci5zZXRUYWJzKHRhYnMpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGFiTGF5b3V0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3VwZGF0ZVRhYkxheW91dCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVGFiTGF5b3V0KCkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50QnJlYWtwb2ludCA9IHRoaXMuc2hvd2Nhc2Uuc3R5bGUuZ2V0Q3VycmVudEJyZWFrcG9pbnQoKTtcbiAgICAgICAgICAgICAgICB2YXIgaG9yaXpvbnRhbCA9IGN1cnJlbnRCcmVha3BvaW50ICYmIGN1cnJlbnRCcmVha3BvaW50WzBdID09PSAncGhvbmUtcG9ydHJhaXQnO1xuICAgICAgICAgICAgICAgIHRoaXMudGFiQmFyLnNldE1vZGUoaG9yaXpvbnRhbCA/ICdob3Jpem9udGFsJyA6ICd2ZXJ0aWNhbCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXR1cFRhYnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldHVwVGFicygpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMudGFiQmFyID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIodGhpcy5zaG93Y2FzZSk7XG4gICAgICAgICAgICAgICAgLy8gRGVmaW5lIG91ciB0YWJzXG4gICAgICAgICAgICAgICAgdGhpcy50YWJzID0ge1xuICAgICAgICAgICAgICAgICAgICBwYWludDogbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIuVGFiKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdwYWludCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdwYWludCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdwYWludCcpXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB3aGVlbHM6IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFiQmFyLlRhYih7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnd2hlZWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiAnd2hlZWxzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3doZWVscycpXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICB0aXJlczogbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJCYXIuVGFiKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICd0aXJlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogJ3RpcmVzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3RpcmVzJylcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIHN1c3BlbnNpb246IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFiQmFyLlRhYih7XG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uOiAnc3VzcGVuc2lvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk6ICdzdXNwZW5zaW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ3N1c3BlbnNpb24nKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gU3dpdGNoIHRoZSBib3R0b20gdmlldywgdGhlIGN1c3RvbWl6YXRpb24gY29tcG9uZW50IHdoZW4gYSB0YWIgaXMgY2xpY2tlZCBvblxuICAgICAgICAgICAgICAgIHRoaXMudGFiQmFyLnRhYlN3aXRjaGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV3VGFiID0gZS5uZXdUYWI7XG4gICAgICAgICAgICAgICAgICAgIHZhciBrZXkgPSBuZXdUYWIua2V5O1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LmN1c3RvbWl6YXRpb25Db21wb25lbnRzICYmIGtleSBpbiBfdGhpczQuY3VzdG9taXphdGlvbkNvbXBvbmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRBY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50KF90aGlzNC5jdXN0b21pemF0aW9uQ29tcG9uZW50c1trZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ3ZlaGljbGVEaWZmZXJlbnRGcm9tU3RhdGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHZlaGljbGVEaWZmZXJlbnRGcm9tU3RhdGUoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlRGF0YSA9IHRoaXMuc3RhdGUuZ2V0RGF0YSgpO1xuICAgICAgICAgICAgICAgIGlmICghc3RhdGVEYXRhLmN1cnJlbnRWZWhpY2xlQ29uZmlndXJhdGlvbklEIHx8ICFzdGF0ZURhdGEuY3VycmVudFZlaGljbGVUaXJlT3B0aW9uSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignVHJ5aW5nIHRvIHNob3cgdGhlIHZpc3VhbGl6ZSBzY3JlZW4gd2l0aG91dCBhIHZlaGljbGUgY29uZmlndXJhdGlvbiBvciB0aXJlIG9wdGlvbi4nKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHZlaGljbGVDaGFuZ2VkID0gIVJpZGVTdHlsZXJTaG93Y2FzZS5HVUlESGVscGVyLmFyZUVxdWFsKHN0YXRlRGF0YS5jdXJyZW50VmVoaWNsZUNvbmZpZ3VyYXRpb25JRCwgdGhpcy52ZWhpY2xlQ29uZmlndXJhdGlvbklEKTtcbiAgICAgICAgICAgICAgICB2YXIgdGlyZU9wdGlvbkNoYW5nZWQgPSAhUmlkZVN0eWxlclNob3djYXNlLkdVSURIZWxwZXIuYXJlRXF1YWwoc3RhdGVEYXRhLmN1cnJlbnRWZWhpY2xlVGlyZU9wdGlvbklELCB0aGlzLnZlaGljbGVUaXJlT3B0aW9uSUQpO1xuICAgICAgICAgICAgICAgIHJldHVybiB2ZWhpY2xlQ2hhbmdlZCB8fCB0aXJlT3B0aW9uQ2hhbmdlZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnb25EaXNwbGF5JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvbkRpc3BsYXkoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmVoaWNsZURpZmZlcmVudEZyb21TdGF0ZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdGF0ZURhdGEgPSB0aGlzLnN0YXRlLmdldERhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52ZWhpY2xlQ29uZmlndXJhdGlvbklEID0gc3RhdGVEYXRhLmN1cnJlbnRWZWhpY2xlQ29uZmlndXJhdGlvbklEO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVEZXNjcmlwdGlvbiA9IHN0YXRlRGF0YS5jdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVUaXJlT3B0aW9uSUQgPSBzdGF0ZURhdGEuY3VycmVudFZlaGljbGVUaXJlT3B0aW9uSUQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZVRpcmVPcHRpb25EZXNjcmlwdGlvbiA9IHN0YXRlRGF0YS5jdXJyZW50VmVoaWNsZVRpcmVPcHRpb25EZXNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJCYXIuY2xlYXJBY3RpdmVUYWIoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vblZlaGljbGVDaGFuZ2VkKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvblZlaGljbGVDaGFuZ2VkJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBvblZlaGljbGVDaGFuZ2VkKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuZW1wdHkodGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50Q29udGFpbmVyKTtcbiAgICAgICAgICAgICAgICAvLyBTZXQgdGhlIGN1c3RvbWl6YXRpb24gY29udGFpbmVyIGFzIGxvYWRpbmcgd2hpbGUgd2UncmUgbG9hZGluZyBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gICAgICAgICAgICAgICAgLy8gYWJvdXQgdGhlIHZlaGljbGVcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRDb250YWluZXIuY2xhc3NMaXN0LmFkZChsb2FkaW5nQ2xhc3MpO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVGFicygpO1xuICAgICAgICAgICAgICAgIC8vIERlc2VsZWN0IGFueSBhY3RpdmUgdGFiXG4gICAgICAgICAgICAgICAgdGhpcy50YWJCYXIuY2xlYXJBY3RpdmVUYWIoKTtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdGF0ZUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaW4nKTtcbiAgICAgICAgICAgICAgICAvLyBMb2FkIHRoZSB2ZWhpY2xlJ3MgZGVzY3JpcHRpb24gbW9kZWxcbiAgICAgICAgICAgICAgICB2YXIgZ2V0VmVoaWNsZURlc2NyaXB0aW9uID0gUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwidmVoaWNsZS9nZXRkZXNjcmlwdGlvbnNcIiwge1xuICAgICAgICAgICAgICAgICAgICBDb3VudDogMSxcbiAgICAgICAgICAgICAgICAgICAgVmVoaWNsZUNvbmZpZ3VyYXRpb246IHRoaXMudmVoaWNsZUNvbmZpZ3VyYXRpb25JRFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBnZXRWZWhpY2xlVGlyZU9wdGlvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdCgndmVoaWNsZS9nZXR0aXJlb3B0aW9uZGV0YWlscycsIHtcbiAgICAgICAgICAgICAgICAgICAgVmVoaWNsZUNvbmZpZ3VyYXRpb246IHRoaXMudmVoaWNsZUNvbmZpZ3VyYXRpb25JRFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLmFsbChbZ2V0VmVoaWNsZURlc2NyaXB0aW9uLCBnZXRWZWhpY2xlVGlyZU9wdGlvbl0pLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlcykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdmVoaWNsZURlc2NyaXB0aW9uID0gX3RoaXM1LnZlaGljbGVEZXNjcmlwdGlvbk1vZGVsID0gcmVzcG9uc2VzWzBdLkRlc2NyaXB0aW9uc1swXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZlaGljbGVUaXJlT3B0aW9uID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRUaXJlT3B0aW9uSUQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuR1VJREhlbHBlci5wYXJzZShfdGhpczUudmVoaWNsZVRpcmVPcHRpb25JRCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMyA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IHJlc3BvbnNlc1sxXS5EZXRhaWxzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAzOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gKF9zdGVwMyA9IF9pdGVyYXRvcjMubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpcmVPcHRpb24gPSBfc3RlcDMudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoUmlkZVN0eWxlclNob3djYXNlLkdVSURIZWxwZXIuYXJlRXF1YWwodGlyZU9wdGlvbi5UaXJlT3B0aW9uSUQsIHNlbGVjdGVkVGlyZU9wdGlvbklEKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2ZWhpY2xlVGlyZU9wdGlvbiA9IHRpcmVPcHRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IzID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zICYmIF9pdGVyYXRvcjMucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBfdGhpczUudmVoaWNsZVRpcmVPcHRpb24gPSB2ZWhpY2xlVGlyZU9wdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM1LnN0YXRlLmV4dGVuZERhdGEoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdmVoaWNsZUhhc0FuZ2xlZEltYWdlOiB2ZWhpY2xlRGVzY3JpcHRpb24uSGFzQW5nbGVkSW1hZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB2ZWhpY2xlSGFzU2lkZUltYWdlOiB2ZWhpY2xlRGVzY3JpcHRpb24uSGFzU2lkZUltYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFRpcmVPcHRpb246IHZlaGljbGVUaXJlT3B0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFZlaGljbGVEZXNjcmlwdGlvbk1vZGVsOiB2ZWhpY2xlRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNS5pbml0aWFsaXplRm9yTmV3VmVoaWNsZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdpbml0aWFsaXplRm9yTmV3VmVoaWNsZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUZvck5ld1ZlaGljbGUoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzNiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRSZW5kZXJJbnN0cnVjdGlvbnMgPSB7fTtcbiAgICAgICAgICAgICAgICB0aGlzLnRhYkJhci5zZXRBY3RpdmVUYWIodGhpcy50YWJzLnBhaW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdwb3J0LlJlc2V0KCk7XG4gICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBjb21wb25lbnRzIHRoYXQgd2lsbCBiZSBzd2l0Y2hlZCB3aXRoIHRoZSB0YWJzXG4gICAgICAgICAgICAgICAgdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50cyA9IHtcbiAgICAgICAgICAgICAgICAgICAgcGFpbnQ6IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUGFpbnRTZWxlY3Rvcih0aGlzLnNob3djYXNlKSxcbiAgICAgICAgICAgICAgICAgICAgd2hlZWxzOiBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsU2VsZWN0b3IodGhpcy5zaG93Y2FzZSksXG4gICAgICAgICAgICAgICAgICAgIHRpcmVzOiBuZXcgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRpcmVTZWxlY3Rvcih0aGlzLnNob3djYXNlKSxcbiAgICAgICAgICAgICAgICAgICAgc3VzcGVuc2lvbjogbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VTdXNwZW5zaW9uU2VsZWN0b3IodGhpcy5zaG93Y2FzZSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd2Nhc2UuZmlsdGVycy53aGVlbEZpbHRlcnMub25GaWx0ZXJzQ2hhbmdlZCA9IGZ1bmN0aW9uIChmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNi5jdXN0b21pemF0aW9uQ29tcG9uZW50cy53aGVlbHMuc2V0RmlsdGVycyhmaWx0ZXJzKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd2Nhc2UuZmlsdGVycy50aXJlRmlsdGVycy5vbkZpbHRlcnNDaGFuZ2VkID0gZnVuY3Rpb24gKGZpbHRlcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmN1c3RvbWl6YXRpb25Db21wb25lbnRzLnRpcmVzLnNldEZpbHRlcnMoZmlsdGVycyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRzLnBhaW50Lm9uUGFpbnRTY2hlbWVTZWxlY3RlZCA9IGZ1bmN0aW9uIChwYWludFNjaGVtZSkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczYuY3VzdG9taXphdGlvbkNvbXBvbmVudHMucGFpbnQuc2V0T3B0aW9uSXNMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBfdGhpczYudXBkYXRlVmlld3BvcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgUGFpbnRDb2xvcjogcGFpbnRTY2hlbWUuQ29sb3JzWzBdLkhleFxuICAgICAgICAgICAgICAgICAgICB9KS5hbHdheXMoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmN1c3RvbWl6YXRpb25Db21wb25lbnRzLnBhaW50LnNldE9wdGlvbklzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50cy53aGVlbHMucHJvZHVjdFNlbGVjdGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAobW9kZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmN1c3RvbWl6YXRpb25Db21wb25lbnRzLndoZWVscy5zZXRPcHRpb25Jc0xvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjYW5SZW5kZXJPbkN1cnJlbnRBbmdsZSA9IF90aGlzNi5pbWFnZVR5cGUgPT09IDIgLyogQW5nbGUgKi8gJiYgbW9kZWwuSGFzQW5nbGVJbWFnZSB8fCBfdGhpczYuaW1hZ2VUeXBlID09PSAxIC8qIFNpZGUgKi8gJiYgbW9kZWwuSGFzU2lkZUltYWdlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNhblJlbmRlck9uQ3VycmVudEFuZ2xlKSBfdGhpczYuc3dpdGNoQW5nbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KCd3aGVlbC9nZXRmaXRtZW50ZGVzY3JpcHRpb25zJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgVmVoaWNsZUNvbmZpZ3VyYXRpb246IF90aGlzNi52ZWhpY2xlQ29uZmlndXJhdGlvbklELFxuICAgICAgICAgICAgICAgICAgICAgICAgV2hlZWxNb2RlbDogbW9kZWwuV2hlZWxNb2RlbElEXG4gICAgICAgICAgICAgICAgICAgIH0pLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZml0bWVudHMgPSByZXNwb25zZS5GaXRtZW50cztcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiZXN0Rml0bWVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXJnZXREaWFtZXRlciA9IF90aGlzNi52ZWhpY2xlVGlyZU9wdGlvbi5Gcm9udC5JbnNpZGVEaWFtZXRlcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpdG1lbnRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYURpZmYgPSBNYXRoLmFicyhhLkRpYW1ldGVyTWluIC0gdGFyZ2V0RGlhbWV0ZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiRGlmZiA9IE1hdGguYWJzKGIuRGlhbWV0ZXJNaW4gLSB0YXJnZXREaWFtZXRlcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFEaWZmIC0gYkRpZmY7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlc3RGaXRtZW50ID0gZml0bWVudHNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuc3RhdGUuZXh0ZW5kRGF0YSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFdoZWVsOiBtb2RlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50V2hlZWxGaXRtZW50OiBiZXN0Rml0bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuY2hhbmdlV2hlZWxTaXplLnNldEZpdG1lbnRPcHRpb25zKGZpdG1lbnRzLCBiZXN0Rml0bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuY2hhbmdlV2hlZWxTaXplLmNvbXBvbmVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYudXBkYXRlVmlld3BvcnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFdoZWVsRml0bWVudDogYmVzdEZpdG1lbnQuV2hlZWxGaXRtZW50SURcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmFsd2F5cyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM2LmN1c3RvbWl6YXRpb25Db21wb25lbnRzLndoZWVscy5zZXRPcHRpb25Jc0xvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pLmZhaWwoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi5jdXN0b21pemF0aW9uQ29tcG9uZW50cy53aGVlbHMuc2V0T3B0aW9uSXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRzLnRpcmVzLnByb2R1Y3RTZWxlY3RlZENhbGxiYWNrID0gZnVuY3Rpb24gKG1vZGVsKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNi5zdGF0ZS5leHRlbmREYXRhKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRUaXJlOiBtb2RlbFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudHMuc3VzcGVuc2lvbi5zdXNwZW5zaW9uQ2hhbmdlQ2FsbGJhY2sgPSBmdW5jdGlvbiAocmVuZGVyVXBkYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNi51cGRhdGVWaWV3cG9ydChyZW5kZXJVcGRhdGUpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50KHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudHMud2hlZWxzKTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3I0ID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yNCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuZ2V0VmFsdWVzKHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudHMpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA0OyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb240ID0gKF9zdGVwNCA9IF9pdGVyYXRvcjQubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY3VzdG9taXphdGlvbkNvbXBvbmVudCA9IF9zdGVwNC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY3VzdG9taXphdGlvbkNvbXBvbmVudC5jb21wb25lbnQuY2xhc3NMaXN0LmFkZCgncmlkZXN0eWxlci1zaG93Y2FzZS1jdXN0b21pemF0aW9uLWNvbXBvbmVudCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50Q29udGFpbmVyLmFwcGVuZENoaWxkKGN1c3RvbWl6YXRpb25Db21wb25lbnQuY29tcG9uZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjQgPSBlcnI7XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjQgJiYgX2l0ZXJhdG9yNC5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3I0LnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMuaW1hZ2VUeXBlID0gMiAvKiBBbmdsZSAqLztcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudmVoaWNsZURlc2NyaXB0aW9uTW9kZWwuSGFzQW5nbGVkSW1hZ2UpIHRoaXMuaW1hZ2VUeXBlID0gMSAvKiBTaWRlICovO1xuICAgICAgICAgICAgICAgIHRoaXMucm90YXRlRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gdGhpcy5jYW5Td2l0Y2hBbmdsZSgpID8gJycgOiAnbm9uZSc7XG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVWaWV3cG9ydCh7XG4gICAgICAgICAgICAgICAgICAgIFZlaGljbGVDb25maWd1cmF0aW9uOiB0aGlzLnZlaGljbGVDb25maWd1cmF0aW9uSUQsXG4gICAgICAgICAgICAgICAgICAgIFZlaGljbGVUaXJlT3B0aW9uOiB0aGlzLnZlaGljbGVUaXJlT3B0aW9uSUQsXG4gICAgICAgICAgICAgICAgICAgIFBvc2l0aW9uWDogMSAvKiBDZW50ZXIgKi9cbiAgICAgICAgICAgICAgICAgICAgLCBQb3NpdGlvblk6IDIgLyogRmFyICovXG4gICAgICAgICAgICAgICAgICAgICwgVHlwZTogdGhpcy5pbWFnZVR5cGVcbiAgICAgICAgICAgICAgICB9KS5kb25lKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXM2LnJvdGF0ZUVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaW4nKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmN1c3RvbWl6YXRpb25Db21wb25lbnRDb250YWluZXIuY2xhc3NMaXN0LnJlbW92ZShsb2FkaW5nQ2xhc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRBY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50JyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRBY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50KGN1c3RvbWl6YXRpb25Db21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgc3RhdGVEYXRhID0gdGhpcy5zdGF0ZS5nZXREYXRhKCk7XG4gICAgICAgICAgICAgICAgdmFyIGNvbXBvbmVudEtleSA9IHRoaXMuZ2V0Q29tcG9uZW50S2V5KGN1c3RvbWl6YXRpb25Db21wb25lbnQpO1xuICAgICAgICAgICAgICAgIHZhciBzZXR0aW5ncyA9IHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudFNldHRpbmdzW2NvbXBvbmVudEtleV07XG4gICAgICAgICAgICAgICAgdmFyIHRhYiA9IHRoaXMudGFic1tjb21wb25lbnRLZXldO1xuICAgICAgICAgICAgICAgIGlmICh0YWIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YWJCYXIuc2V0QWN0aXZlVGFiKHRhYik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50LmNvbXBvbmVudC5jbGFzc0xpc3QucmVtb3ZlKCdpbicpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXN0b21pemF0aW9uQ29tcG9uZW50LmNvbXBvbmVudC5jbGFzc0xpc3QuYWRkKCdpbicpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlQ3VzdG9taXphdGlvbkNvbXBvbmVudCA9IGN1c3RvbWl6YXRpb25Db21wb25lbnQ7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjdXN0b21pemF0aW9uQ29tcG9uZW50LnVwZGF0ZSA9PT0gJ2Z1bmN0aW9uJykgY3VzdG9taXphdGlvbkNvbXBvbmVudC51cGRhdGUoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZVdoZWVsU2l6ZS5jb21wb25lbnQuc3R5bGUuZGlzcGxheSA9IGN1c3RvbWl6YXRpb25Db21wb25lbnQgaW5zdGFuY2VvZiBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3RvciAmJiBzdGF0ZURhdGEuY3VycmVudFdoZWVsID8gJycgOiAnbm9uZSc7XG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJCdXR0b24uc3R5bGUuZGlzcGxheSA9IHNldHRpbmdzLnNob3dGaWx0ZXJCdXR0b24gPyAnJyA6ICdub25lJztcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5zZXRUZXh0KHRoaXMudGl0bGVFbGVtZW50LCBzZXR0aW5ncy50aXRsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dldENvbXBvbmVudEtleScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Q29tcG9uZW50S2V5KGN1c3RvbWl6YXRpb25Db21wb25lbnQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50cykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29tcG9uZW50ID0gdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50c1trZXldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcG9uZW50ID09PSBjdXN0b21pemF0aW9uQ29tcG9uZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICd1cGRhdGVWaWV3cG9ydCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gdXBkYXRlVmlld3BvcnQoaW5zdHJ1Y3Rpb25zKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0aGlzLmN1cnJlbnRSZW5kZXJJbnN0cnVjdGlvbnMsIGluc3RydWN0aW9ucyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlld3BvcnQuVXBkYXRlKGluc3RydWN0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NhblN3aXRjaEFuZ2xlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjYW5Td2l0Y2hBbmdsZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy52ZWhpY2xlRGVzY3JpcHRpb25Nb2RlbC5IYXNBbmdsZWRJbWFnZSAmJiB0aGlzLnZlaGljbGVEZXNjcmlwdGlvbk1vZGVsLkhhc1NpZGVJbWFnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnc2hvd0ZpbHRlcnMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNob3dGaWx0ZXJzKCkge1xuICAgICAgICAgICAgICAgIHZhciBhY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50ID0gdGhpcy5hY3RpdmVDdXN0b21pemF0aW9uQ29tcG9uZW50O1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJNb2RhbCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aXZlQ3VzdG9taXphdGlvbkNvbXBvbmVudCA9PT0gdGhpcy5jdXN0b21pemF0aW9uQ29tcG9uZW50cy50aXJlcykge1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJNb2RhbCA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwodGhpcy5zaG93Y2FzZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyUHJvdmlkZXI6IHRoaXMuc2hvd2Nhc2UuZmlsdGVycy50aXJlRmlsdGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb3VudFRleHRGb3JtYXQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc2hvdy1jb3VudC1mb3JtYXQtdGlyZXMnKVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGl2ZUN1c3RvbWl6YXRpb25Db21wb25lbnQgPT09IHRoaXMuY3VzdG9taXphdGlvbkNvbXBvbmVudHMud2hlZWxzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlck1vZGFsID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbCh0aGlzLnNob3djYXNlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJQcm92aWRlcjogdGhpcy5zaG93Y2FzZS5maWx0ZXJzLndoZWVsRmlsdGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dDb3VudFRleHRGb3JtYXQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc2hvdy1jb3VudC1mb3JtYXQtd2hlZWxzJylcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJNb2RhbCkge1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJNb2RhbC5zaG93KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzd2l0Y2hBbmdsZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc3dpdGNoQW5nbGUoKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmNhblN3aXRjaEFuZ2xlKCkpIHJldHVybjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pbWFnZVR5cGUgPT09IDIgLyogQW5nbGUgKi8pIHRoaXMuaW1hZ2VUeXBlID0gMSAvKiBTaWRlICovO2Vsc2UgdGhpcy5pbWFnZVR5cGUgPSAyIC8qIEFuZ2xlICovO1xuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlVmlld3BvcnQoe1xuICAgICAgICAgICAgICAgICAgICBUeXBlOiB0aGlzLmltYWdlVHlwZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVWaXN1YWxpemF0aW9uO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLk1haW5Db21wb25lbnRCYXNlKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VWZWhpY2xlVmlzdWFsaXphdGlvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZVZlaGljbGVWaXN1YWxpemF0aW9uO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRSKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsLCBfUmlkZVN0eWxlclNob3djYXNlJFIpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwoc2hvd2Nhc2VJbnN0YW5jZSwgd2hlZWxNb2RlbCkge1xuICAgICAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwpO1xuXG4gICAgICAgICAgICAvLyBJbWFnZVxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsKSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlKSk7XG5cbiAgICAgICAgICAgIF90aGlzLmltYWdlLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgV2hlZWxGaXRtZW50UmVzb3VyY2VUeXBlOiAzIC8qIENhdGFsb2cgKi9cbiAgICAgICAgICAgICAgICAsIFdoZWVsTW9kZWw6IHdoZWVsTW9kZWwuV2hlZWxNb2RlbElEXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIEJyYW5kXG4gICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5zZXRUZXh0KF90aGlzLmJyYW5kVGl0bGVFbGVtZW50LCB3aGVlbE1vZGVsLldoZWVsQnJhbmROYW1lKTtcbiAgICAgICAgICAgIC8vIE1vZGVsIE5hbWVcbiAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLnNldFRleHQoX3RoaXMudGl0bGVFbGVtZW50LCB3aGVlbE1vZGVsLldoZWVsTW9kZWxOYW1lKTtcbiAgICAgICAgICAgIC8vIEZpbmlzaFxuICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuc2V0VGV4dChfdGhpcy5zdWJ0aXRsZUVsZW1lbnQsIHdoZWVsTW9kZWwuV2hlZWxNb2RlbEZpbmlzaERlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgIC8vIFN1bW1hcnkgVGFibGVcbiAgICAgICAgICAgIF90aGlzLnN1bW1hcnlUYWJsZSA9IG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFibGUoX3RoaXMuc2hvd2Nhc2UsIHtcbiAgICAgICAgICAgICAgICBjb2x1bW5zOiBbe1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc2l6ZScpLFxuICAgICAgICAgICAgICAgICAgICBjZWxsOiAnc2l6ZSdcbiAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcjogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdwcmljZScpLFxuICAgICAgICAgICAgICAgICAgICBjZWxsOiAncHJpY2UnXG4gICAgICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICAgICAgc3RhcnRMb2FkaW5nOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLnN1bW1hcnlFbGVtZW50LmFwcGVuZENoaWxkKF90aGlzLnN1bW1hcnlUYWJsZS5jb21wb25lbnQpO1xuICAgICAgICAgICAgX3RoaXMuYnVpbGRTcGVjc1BhZ2UoKTtcbiAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdCgnd2hlZWwvZ2V0Zml0bWVudGRlc2NyaXB0aW9ucycsIHtcbiAgICAgICAgICAgICAgICBXaGVlbE1vZGVsOiB3aGVlbE1vZGVsLldoZWVsTW9kZWxJRCxcbiAgICAgICAgICAgICAgICBJbmNsdWRlUHJvbW90aW9uczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBJbmNsdWRlUHJpY2luZzogdHJ1ZVxuICAgICAgICAgICAgfSkuZG9uZShmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5zdW1tYXJ5VGFibGUuYXBwZW5kUm93cyhfdGhpcy5idWlsZFN1bW1hcnlUYWJsZShyZXNwb25zZS5GaXRtZW50cykpO1xuICAgICAgICAgICAgICAgIF90aGlzLnNwZWNzVGFibGUuYXBwZW5kUm93cyhyZXNwb25zZS5GaXRtZW50cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsLCBbe1xuICAgICAgICAgICAga2V5OiAnYnVpbGRTdW1tYXJ5VGFibGUnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkU3VtbWFyeVRhYmxlKGZpdG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFsbFNpemVQcmljZUNvbWJpbmF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgIC8vIEdldCBhIGxpc3Qgb2YgZWFjaCBmaXRtZW50IHNpemUvcHJpY2UgY29tYmluYXRpb25cbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gZml0bWVudHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZml0bWVudCA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZml0bWVudFByaWNlID0gUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbC5nZXRGaXRtZW50UmV0YWlsUHJpY2VEYXRhT2JqZWN0KGZpdG1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpdG1lbnRQcmljZUFtb3VudCA9IGZpdG1lbnRQcmljZSA/IGZpdG1lbnRQcmljZS5XaGVlbFByaWNpbmdBbW91bnQgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTaXplUHJpY2VDb21iaW5hdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbWV0ZXI6IGZpdG1lbnQuRGlhbWV0ZXJNaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGZpdG1lbnQuV2lkdGhNaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IGZpdG1lbnRQcmljZUFtb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTaXplUHJpY2VDb21iaW5hdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbWV0ZXI6IGZpdG1lbnQuRGlhbWV0ZXJNaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGZpdG1lbnQuV2lkdGhNYXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IGZpdG1lbnRQcmljZUFtb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTaXplUHJpY2VDb21iaW5hdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbWV0ZXI6IGZpdG1lbnQuRGlhbWV0ZXJNYXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGZpdG1lbnQuV2lkdGhNaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IGZpdG1lbnRQcmljZUFtb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbGxTaXplUHJpY2VDb21iaW5hdGlvbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbWV0ZXI6IGZpdG1lbnQuRGlhbWV0ZXJNYXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IGZpdG1lbnQuV2lkdGhNYXgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2U6IGZpdG1lbnRQcmljZUFtb3VudFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvciA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uICYmIF9pdGVyYXRvci5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHZhciBzaXplUHJpY2VSYW5nZXMgPSB7fTtcbiAgICAgICAgICAgICAgICAvLyBHZW5lcmF0ZSBwcmljZSByYW5nZXMgZm9yIGVhY2ggdW5pcXVlIHNpemUgZGVzY3JpcHRpb24gY3JlYXRlZCBhYm92ZVxuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gYWxsU2l6ZVByaWNlQ29tYmluYXRpb25zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZVByaWNlQ29tYm8gPSBfc3RlcDIudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlhbWV0ZXIgPSBzaXplUHJpY2VDb21iby5kaWFtZXRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZSA9IHNpemVQcmljZUNvbWJvLnByaWNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoID0gc2l6ZVByaWNlQ29tYm8ud2lkdGg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBzaXplID0gZGlhbWV0ZXIgKyAn4oCzIHggJyArIHdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHByaWNlUmFuZ2UgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2l6ZSBpbiBzaXplUHJpY2VSYW5nZXMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpY2VSYW5nZSA9IHNpemVQcmljZVJhbmdlc1tzaXplXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluOiBJbmZpbml0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4OiAtSW5maW5pdHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcmljZVJhbmdlID0gc2l6ZVByaWNlUmFuZ2VzW3NpemVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHByaWNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLk51bWJlckhlbHBlci5leHRlbmRSYW5nZShwcmljZSwgcHJpY2VSYW5nZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gVHJhbnNsYXRlIHNpemVQcmljZVJhbmdlcyBpbnRvIFN1bW1hcnlUYWJsZVJvd3NcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB2YXIgc3VtbWFyeVRhYmxlUm93cyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBwcmljZUlzVW5zcGVjaWZpZWQgPSBmdW5jdGlvbiBwcmljZUlzVW5zcGVjaWZpZWQocHJpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJpY2UgbXVzdCBiZSBhIG51bWJlciwgYW5kIG5vdCArLSBpbmZpbml0eVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHByaWNlICE9PSAnbnVtYmVyJyB8fCBpc05hTihwcmljZSkgfHwgcHJpY2UgPT09IEluZmluaXR5IHx8IHByaWNlID09PSAtSW5maW5pdHk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzaXplIGluIHNpemVQcmljZVJhbmdlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXNpemVQcmljZVJhbmdlcy5oYXNPd25Qcm9wZXJ0eShzaXplKSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmljZVJhbmdlID0gc2l6ZVByaWNlUmFuZ2VzW3NpemVdO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJpY2VTdHJpbmcgPSB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmljZUlzVW5zcGVjaWZpZWQocHJpY2VSYW5nZS5taW4pIHx8IHByaWNlSXNVbnNwZWNpZmllZChwcmljZVJhbmdlLm1heCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByaWNlU3RyaW5nID0gUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdjYWxsJyk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJpY2VSYW5nZS5taW4gPT09IHByaWNlUmFuZ2UubWF4KSBwcmljZVN0cmluZyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmZvcm1hdCgpLmN1cnJlbmN5KHByaWNlUmFuZ2UubWluLCAnJCcpO2Vsc2UgcHJpY2VTdHJpbmcgPSBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5mb3JtYXQoKS5jdXJyZW5jeShwcmljZVJhbmdlLm1pbiwgJyQnKSArICcgLSAnICsgUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZm9ybWF0KCkuY3VycmVuY3kocHJpY2VSYW5nZS5tYXgsICckJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeVRhYmxlUm93cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemU6IHNpemUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogcHJpY2VTdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdW1tYXJ5VGFibGVSb3dzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdidWlsZFNwZWNzUGFnZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYnVpbGRTcGVjc1BhZ2UoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zcGVjc1RhYmxlID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZSh0aGlzLnNob3djYXNlLCB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHVtbnM6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnc2l6ZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbDogUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbC5nZXRGaXRtZW50U2l6ZURlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdvZmZzZXQnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGw6IGZ1bmN0aW9uIGNlbGwoZml0bWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlVGFibGUuZm9ybWF0Q2VsbChmaXRtZW50LCAnT2Zmc2V0TWluJywgJ21tJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcjogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdib2x0LXBhdHRlcm4nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbGw6ICdCb2x0UGF0dGVybkRlc2NyaXB0aW9uJ1xuICAgICAgICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnY2VudGVyYm9yZScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbDogZnVuY3Rpb24gY2VsbChmaXRtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZS5mb3JtYXRDZWxsKGZpdG1lbnQsICdDZW50ZXJib3JlTU0nLCAnbW0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiAnUHJpY2UnLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VsbDogUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbC5nZXRGaXRtZW50UHJpY2VcbiAgICAgICAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyOiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ2l0ZW0tbnVtYmVyJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjZWxsOiBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsLmdldEZpdG1lbnRJdGVtTnVtYmVyXG4gICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdmFyIHNwZWNzQ29udGFpbmVyID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCh7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ3Njcm9sbGFibGUnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmQ6IHRoaXMuc3BlY3NUYWJsZS5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFBhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6IHNwZWNzQ29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdzcGVjaWZpY2F0aW9ucycpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2NyZWF0ZUltYWdlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjcmVhdGVJbWFnZSgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SZXNpemVhYmxlUmVzb3VyY2VJbWFnZSh0aGlzLmltYWdlQ29udGFpbmVyLCB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogXCJ3aGVlbC9pbWFnZVwiLFxuICAgICAgICAgICAgICAgICAgICBiYXNlSW5zdHJ1Y3Rpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBQb3NpdGlvblg6IDEgLyogQ2VudGVyICovXG4gICAgICAgICAgICAgICAgICAgICAgICAsIFBvc2l0aW9uWTogMCAvKiBOZWFyICovXG4gICAgICAgICAgICAgICAgICAgICAgICAsIEluY2x1ZGVTaGFkb3c6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSwgW3tcbiAgICAgICAgICAgIGtleTogJ2dldEZpdG1lbnRSZXRhaWxQcmljZURhdGFPYmplY3QnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZpdG1lbnRSZXRhaWxQcmljZURhdGFPYmplY3QoZml0bWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmaXRtZW50LlByaWNpbmcgJiYgZml0bWVudC5QcmljaW5nWydSZXRhaWwnXSB8fCB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dldEZpdG1lbnRTaXplRGVzY3JpcHRpb24nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZpdG1lbnRTaXplRGVzY3JpcHRpb24oZml0bWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBEaWFtZXRlck1pbiA9IGZpdG1lbnQuRGlhbWV0ZXJNaW4sXG4gICAgICAgICAgICAgICAgICAgIFdpZHRoTWluID0gZml0bWVudC5XaWR0aE1pbjtcblxuICAgICAgICAgICAgICAgIGlmICghRGlhbWV0ZXJNaW4gfHwgIVdpZHRoTWluKSByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVRhYmxlLmVtcHR5Q2VsbFN0cmluZztcbiAgICAgICAgICAgICAgICByZXR1cm4gRGlhbWV0ZXJNaW4gKyAnXFx1MjAzMyB4ICcgKyBXaWR0aE1pbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZ2V0Rml0bWVudFByaWNlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGaXRtZW50UHJpY2UoZml0bWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBub1ByaWNlU3RyaW5nID0gUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdjYWxsJyk7XG4gICAgICAgICAgICAgICAgdmFyIHJldGFpbFByaWNlRGF0YU9iamVjdCA9IFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwuZ2V0Rml0bWVudFJldGFpbFByaWNlRGF0YU9iamVjdChmaXRtZW50KTtcbiAgICAgICAgICAgICAgICBpZiAoIXJldGFpbFByaWNlRGF0YU9iamVjdCkgcmV0dXJuIG5vUHJpY2VTdHJpbmc7XG4gICAgICAgICAgICAgICAgdmFyIHByaWNlID0gcmV0YWlsUHJpY2VEYXRhT2JqZWN0LldoZWVsUHJpY2luZ0Ftb3VudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJpY2UgPyBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5mb3JtYXQoKS5jdXJyZW5jeShwcmljZSwgJyQnKSA6IG5vUHJpY2VTdHJpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dldEZpdG1lbnRJdGVtTnVtYmVyJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRGaXRtZW50SXRlbU51bWJlcihmaXRtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIHJldGFpbFByaWNlRGF0YU9iamVjdCA9IFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwuZ2V0Rml0bWVudFJldGFpbFByaWNlRGF0YU9iamVjdChmaXRtZW50KTtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbU51bWJlciA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAvLyBJdGVtIG51bWJlciBpcyB0aGUgcmV0YWlsIHByaWNpbmcgaXRlbSBudW1iZXIgYnkgZGVmYXVsdFxuICAgICAgICAgICAgICAgIGlmIChyZXRhaWxQcmljZURhdGFPYmplY3QpIGl0ZW1OdW1iZXIgPSByZXRhaWxQcmljZURhdGFPYmplY3QuV2hlZWxQcmljaW5nSXRlbU51bWJlcjtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIHJldGFpbCBwcmljaW5nLCBvciB0aGUgcmV0YWlsIHByaWNlIGRvZXNuJ3QgaGF2ZSBhIGl0ZW0gbnVtYmVyIHVzZSB0aGUgZml0bWVudCdzIHBhcnQgbnVtYmVyXG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtTnVtYmVyKSBpdGVtTnVtYmVyID0gZml0bWVudC5QYXJ0TnVtYmVyO1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtTnVtYmVyIHx8IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VUYWJsZS5lbXB0eUNlbGxTdHJpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbDtcbiAgICB9KFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VQcm9kdWN0TW9kYWwpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsTW9kYWwgPSBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbE1vZGFsO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIG9wdGlvbkNsYXNzID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtcGFnaW5hdGlvbi1vcHRpb24nO1xuICAgIHZhciBub1Jlc3VsdHNDbGFzcyA9IG9wdGlvbkNsYXNzICsgJy1uby1yZXN1bHRzJztcblxuICAgIHZhciBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkUikge1xuICAgICAgICBfaW5oZXJpdHMoUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3RvciwgX1JpZGVTdHlsZXJTaG93Y2FzZSRSKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yKHNob3djYXNlSW5zdGFuY2UpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yKTtcblxuICAgICAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsU2VsZWN0b3IuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yKSkuY2FsbCh0aGlzLCBzaG93Y2FzZUluc3RhbmNlKSk7XG5cbiAgICAgICAgICAgIHZhciBzdGF0ZURhdGEgPSBzaG93Y2FzZUluc3RhbmNlLnN0YXRlLmdldERhdGEoKTtcbiAgICAgICAgICAgIF90aGlzLnN1cHBvcnRlZFZlaGljbGVJbWFnZXJ5ID0ge1xuICAgICAgICAgICAgICAgIGFuZ2xlZDogc3RhdGVEYXRhLnZlaGljbGVIYXNBbmdsZWRJbWFnZSxcbiAgICAgICAgICAgICAgICBzaWRlOiBzdGF0ZURhdGEudmVoaWNsZUhhc1NpZGVJbWFnZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLnZlaGljbGVDb25maWd1cmF0aW9uSUQgPSBzdGF0ZURhdGEuY3VycmVudFZlaGljbGVDb25maWd1cmF0aW9uSUQ7XG4gICAgICAgICAgICBfdGhpcy5kZWZhdWx0RmlsdGVycyA9IHtcbiAgICAgICAgICAgICAgICBWZWhpY2xlQ29uZmlndXJhdGlvbjogc3RhdGVEYXRhLmN1cnJlbnRWZWhpY2xlQ29uZmlndXJhdGlvbklELFxuICAgICAgICAgICAgICAgIEhhc0NhdGFsb2dJbWFnZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBIYXNGaXRtZW50czogdHJ1ZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLmN1cnJlbnRGaWx0ZXJzID0gUmlkZVN0eWxlclNob3djYXNlLk9iamVjdEhlbHBlci5hc3NpZ24oe30sIF90aGlzLmRlZmF1bHRGaWx0ZXJzKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yLCBbe1xuICAgICAgICAgICAga2V5OiAnc2hvd05vUmVzdWx0cycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd05vUmVzdWx0cygpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMubm9SZXN1bHRzRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBvcHRpb25DbGFzcyArICcgJyArIG5vUmVzdWx0c0NsYXNzLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncy5nZXRTdHJpbmcoJ25vLXdoZWVsLXJlc3VsdHMnKSArICcgJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMub3B0aW9uQ29udGFpbmVyXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlQnV0dG9uKHtcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMubm9SZXN1bHRzRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdjaGFuZ2UtdmVoaWNsZScpLFxuICAgICAgICAgICAgICAgICAgICBsaW5rOiB0cnVlXG4gICAgICAgICAgICAgICAgfSkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5zdGF0ZS5jaGFuZ2VTdGF0ZShSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzLkNob29zZVZlaGljbGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdjb3VudFJlc3VsdHMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvdW50UmVzdWx0cyhmaWx0ZXJzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLnRoZW4oUmlkZVN0eWxlclNob3djYXNlLmFwaS5yZXF1ZXN0KFwid2hlZWwvY291bnRtb2RlbHNcIiwgZmlsdGVycyksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuQ291bnQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dldFJlc3VsdHMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldFJlc3VsdHMoZmlsdGVycykge1xuICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKFJpZGVTdHlsZXJTaG93Y2FzZS5hcGkucmVxdWVzdChcIndoZWVsL2dldG1vZGVsZGVzY3JpcHRpb25zXCIsIFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKHtcbiAgICAgICAgICAgICAgICAgICAgSW5jbHVkZU1ldGFLZXlzOiBbJ0Rlc2NyaXB0aW9uJywgJ0hpZ2hsaWdodHMnXSxcbiAgICAgICAgICAgICAgICAgICAgSGFzRml0bWVudHM6IHRydWVcbiAgICAgICAgICAgICAgICB9LCBmaWx0ZXJzKSksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuTW9kZWxzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdwcm9kdWN0RmlsdGVyJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9kdWN0RmlsdGVyKHByb2R1Y3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAncHJvZHVjdEltYWdlU291cmNlJyxcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBwcm9kdWN0SW1hZ2VTb3VyY2UocHJvZHVjdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByaWRlc3R5bGVyLndoZWVsLmltYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgV2hlZWxGaXRtZW50UmVzb3VyY2VUeXBlOiAzIC8qIENhdGFsb2cgKi9cbiAgICAgICAgICAgICAgICAgICAgLCBXaGVlbE1vZGVsOiBwcm9kdWN0LldoZWVsTW9kZWxJRCxcbiAgICAgICAgICAgICAgICAgICAgV2lkdGg6IDEwMCxcbiAgICAgICAgICAgICAgICAgICAgSGVpZ2h0OiAxMDAsXG4gICAgICAgICAgICAgICAgICAgIFBvc2l0aW9uWDogMSAvKiBDZW50ZXIgKi9cbiAgICAgICAgICAgICAgICAgICAgLCBQb3NpdGlvblk6IDEgLyogQ2VudGVyICovXG4gICAgICAgICAgICAgICAgICAgICwgSW5jbHVkZVNoYWRvdzogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdwcm9kdWN0SW1hZ2VMYWJlbHMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByb2R1Y3RJbWFnZUxhYmVscyhwcm9kdWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcHJpbWFyeTogcHJvZHVjdC5XaGVlbEJyYW5kTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kYXJ5OiBwcm9kdWN0LldoZWVsTW9kZWxOYW1lLFxuICAgICAgICAgICAgICAgICAgICB0ZXJ0aWFyeTogcHJvZHVjdC5XaGVlbE1vZGVsRmluaXNoRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZVdoZWVsU2VsZWN0b3I7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlUHJvZHVjdFNlbGVjdG9yKTtcblxuICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VXaGVlbFNlbGVjdG9yID0gUmlkZVN0eWxlclNob3djYXNlV2hlZWxTZWxlY3Rvcjtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBjbGFzc05hbWUgPSAncmlkZXN0eWxlci1zaG93Y2FzZS10aXJlLWRldGFpbHMnO1xuXG4gICAgdmFyIFRpcmVEZXRhaWxzID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoVGlyZURldGFpbHMsIF9SaWRlU3R5bGVyU2hvd2Nhc2UkQyk7XG5cbiAgICAgICAgZnVuY3Rpb24gVGlyZURldGFpbHMoKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGlyZURldGFpbHMpO1xuXG4gICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFRpcmVEZXRhaWxzLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoVGlyZURldGFpbHMpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhUaXJlRGV0YWlscywgW3tcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVDb21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVDb21wb25lbnQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MoJ2RpdicsIGNsYXNzTmFtZSArIFwiIHJpZGVzdHlsZXItc2hvd2Nhc2UtZGV0YWlsc1wiKTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy10aXRsZScgKyBcIiByaWRlc3R5bGVyLXNob3djYXNlLWRldGFpbHMtdGl0bGVcIixcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCd0aXJlLWRldGFpbHMnKSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy50aXJlTmFtZUVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy1uYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy50aXJlRGVzY3JpcHRpb25FbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctZGVzY3JpcHRpb24gcmlkZXN0eWxlci1zaG93Y2FzZS1kZXRhaWxzLXNlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuYWZ0ZXJEYXRhQ2hhbmdlKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25EYXRhQ2hhbmdlKGRhdGEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdvbkRhdGFDaGFuZ2UnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIG9uRGF0YUNoYW5nZShkYXRhKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRUaXJlID0gZGF0YS5jdXJyZW50VGlyZTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5zdHlsZS5kaXNwbGF5ID0gY3VycmVudFRpcmUgPyAnJyA6ICdub25lJztcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudFRpcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuc2V0VGV4dCh0aGlzLnRpcmVOYW1lRWxlbWVudCwgY3VycmVudFRpcmUuVGlyZUJyYW5kTmFtZSArICcgJyArIGN1cnJlbnRUaXJlLlRpcmVNb2RlbE5hbWUpO1xuICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5zZXRUZXh0KHRoaXMudGlyZURlc2NyaXB0aW9uRWxlbWVudCwgY3VycmVudFRpcmUuQXR0cmlidXRlcyAmJiBjdXJyZW50VGlyZS5BdHRyaWJ1dGVzLmxlbmd0aCA/IGN1cnJlbnRUaXJlLkF0dHJpYnV0ZXMuam9pbignLCAnKSA6ICcnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gVGlyZURldGFpbHM7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuVGlyZURldGFpbHMgPSBUaXJlRGV0YWlscztcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX2NyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkgeyBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH0gcmV0dXJuIGZ1bmN0aW9uIChDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7IHJldHVybiBDb25zdHJ1Y3RvcjsgfTsgfSgpO1xuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBjbGFzc05hbWUgPSAncmlkZXN0eWxlci1zaG93Y2FzZS12ZWhpY2xlLWRldGFpbHMnO1xuICAgIHZhciBmaXJzdFBhaW50Q29sb3IgPSAnIzk5OSc7XG5cbiAgICB2YXIgVmVoaWNsZURldGFpbHMgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRDKSB7XG4gICAgICAgIF9pbmhlcml0cyhWZWhpY2xlRGV0YWlscywgX1JpZGVTdHlsZXJTaG93Y2FzZSRDKTtcblxuICAgICAgICBmdW5jdGlvbiBWZWhpY2xlRGV0YWlscygpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBWZWhpY2xlRGV0YWlscyk7XG5cbiAgICAgICAgICAgIHJldHVybiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoVmVoaWNsZURldGFpbHMuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihWZWhpY2xlRGV0YWlscykpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFZlaGljbGVEZXRhaWxzLCBbe1xuICAgICAgICAgICAga2V5OiAnaW5pdGlhbGl6ZUNvbXBvbmVudCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaW5pdGlhbGl6ZUNvbXBvbmVudCgpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudFdpdGhDbGFzcygnZGl2JywgY2xhc3NOYW1lICsgXCIgcmlkZXN0eWxlci1zaG93Y2FzZS1kZXRhaWxzXCIpO1xuICAgICAgICAgICAgICAgIC8vIFRpdGxlXG4gICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctdGl0bGUnICsgXCIgcmlkZXN0eWxlci1zaG93Y2FzZS1kZXRhaWxzLXRpdGxlXCIsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygndmVoaWNsZS1kZXRhaWxzJyksXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIFZlaGljbGUgRGVzY3JpcHRpb24vUGFpbnQgU3dhdGNoIENvbnRhaW5lclxuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLXZlaGljbGUnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmQ6IFtcbiAgICAgICAgICAgICAgICAgICAgLy8gUGFpbnQgU3dhdGNoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZVBhaW50U3dhdGNoRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy12ZWhpY2xlLXN3YXRjaCByaWRlc3R5bGVyLXNob3djYXNlLXBhaW50LXN3YXRjaCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogZmlyc3RQYWludENvbG9yXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAvLyBWZWhpY2xlIERlc2NyaXB0aW9uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZURlc2NyaXB0aW9uRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy12ZWhpY2xlLWRldGFpbHMnXG4gICAgICAgICAgICAgICAgICAgIH0pXSxcbiAgICAgICAgICAgICAgICAgICAgYXBwZW5kVG86IHRoaXMuY29tcG9uZW50XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gVGlyZSBTaXplXG4gICAgICAgICAgICAgICAgdGhpcy50aXJlU2l6ZUVsZW1lbnQgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy10aXJlLXNpemUgcmlkZXN0eWxlci1zaG93Y2FzZS1kZXRhaWxzLXNlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIENoYW5nZSBWZWhpY2xlIEJ1dHRvblxuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy1jaGFuZ2UtdmVoaWNsZScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdjaGFuZ2UtdmVoaWNsZScpLFxuICAgICAgICAgICAgICAgICAgICBsaW5rOiB0cnVlXG4gICAgICAgICAgICAgICAgfSkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5zdGF0ZS5jaGFuZ2VTdGF0ZShSaWRlU3R5bGVyU2hvd2Nhc2UuU3RhdGVzLkNob29zZVZlaGljbGUpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIC8vIExpc3RlbiBmb3IgZGF0YSBjaGFuZ2VzXG4gICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5hZnRlckRhdGFDaGFuZ2UoZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5vbkRhdGFDaGFuZ2UoZGF0YSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgLy8gU3dpdGNoIHRvIHBhaW50IHdoZW4gY2xpY2tpbmcgb24gdGhlIHBhaW50IHN3YXRjaFxuICAgICAgICAgICAgICAgIHRoaXMudmVoaWNsZVBhaW50U3dhdGNoRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBfdGhpczIucGFpbnRTd2F0Y2hDbGlja0NhbGxiYWNrID09PSAnZnVuY3Rpb24nKSBfdGhpczIucGFpbnRTd2F0Y2hDbGlja0NhbGxiYWNrKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uRGF0YUNoYW5nZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25EYXRhQ2hhbmdlKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5zZXRUZXh0KHRoaXMudmVoaWNsZURlc2NyaXB0aW9uRWxlbWVudCwgZGF0YS5jdXJyZW50VmVoaWNsZURlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlaGljbGVQYWludFN3YXRjaEVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gZGF0YS5jdXJyZW50UGFpbnRTY2hlbWUgPyBkYXRhLmN1cnJlbnRQYWludFNjaGVtZS5Db2xvcnNbMF0uSGV4IDogZmlyc3RQYWludENvbG9yO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLnNldFRleHQodGhpcy50aXJlU2l6ZUVsZW1lbnQsIGRhdGEuY3VycmVudFZlaGljbGVUaXJlT3B0aW9uRGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XSk7XG5cbiAgICAgICAgcmV0dXJuIFZlaGljbGVEZXRhaWxzO1xuICAgIH0oUmlkZVN0eWxlclNob3djYXNlLkNvbXBvbmVudEJhc2UpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlZlaGljbGVEZXRhaWxzID0gVmVoaWNsZURldGFpbHM7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF9jcmVhdGVDbGFzcyA9IGZ1bmN0aW9uICgpIHsgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9IHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7IGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH07IH0oKTtcblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgY2xhc3NOYW1lID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2Utd2hlZWwtZGV0YWlscyc7XG5cbiAgICB2YXIgV2hlZWxEZXRhaWxzID0gZnVuY3Rpb24gKF9SaWRlU3R5bGVyU2hvd2Nhc2UkQykge1xuICAgICAgICBfaW5oZXJpdHMoV2hlZWxEZXRhaWxzLCBfUmlkZVN0eWxlclNob3djYXNlJEMpO1xuXG4gICAgICAgIGZ1bmN0aW9uIFdoZWVsRGV0YWlscygpIHtcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXaGVlbERldGFpbHMpO1xuXG4gICAgICAgICAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFdoZWVsRGV0YWlscy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFdoZWVsRGV0YWlscykpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICAgICAgICB9XG5cbiAgICAgICAgX2NyZWF0ZUNsYXNzKFdoZWVsRGV0YWlscywgW3tcbiAgICAgICAgICAgIGtleTogJ2luaXRpYWxpemVDb21wb25lbnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGluaXRpYWxpemVDb21wb25lbnQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MoJ2RpdicsIGNsYXNzTmFtZSArIFwiIHJpZGVzdHlsZXItc2hvd2Nhc2UtZGV0YWlsc1wiKTtcbiAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkaXYnLCB7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy10aXRsZScgKyBcIiByaWRlc3R5bGVyLXNob3djYXNlLWRldGFpbHMtdGl0bGVcIixcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCd3aGVlbC1kZXRhaWxzJyksXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMud2hlZWxOYW1lRWxlbWVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWUgKyAnLW5hbWUnLFxuICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogdGhpcy5jb21wb25lbnRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLndoZWVsRGVzY3JpcHRpb25FbGVtZW50ID0gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSArICctZGVzY3JpcHRpb24gcmlkZXN0eWxlci1zaG93Y2FzZS1kZXRhaWxzLXNlY29uZGFyeScsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lICsgJy1mZWF0dXJlcy1zcGVjcycsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCd3aGVlbC1mZWF0dXJlcy1zcGVjcycpLFxuICAgICAgICAgICAgICAgICAgICBsaW5rOiB0cnVlXG4gICAgICAgICAgICAgICAgfSkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMi5zaG93V2hlZWxNb2RhbCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMuc3RhdGUuYWZ0ZXJEYXRhQ2hhbmdlKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIub25EYXRhQ2hhbmdlKGRhdGEpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzaG93V2hlZWxNb2RhbCcsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2hvd1doZWVsTW9kYWwoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0YXRlRGF0YSA9IHRoaXMuc3RhdGUuZ2V0RGF0YSgpO1xuICAgICAgICAgICAgICAgIG5ldyBSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlV2hlZWxNb2RhbCh0aGlzLnNob3djYXNlLCBzdGF0ZURhdGEuY3VycmVudFdoZWVsKS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ29uRGF0YUNoYW5nZScsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gb25EYXRhQ2hhbmdlKGRhdGEpIHtcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudFdoZWVsID0gZGF0YS5jdXJyZW50V2hlZWw7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRXaGVlbEZpdG1lbnQgPSBkYXRhLmN1cnJlbnRXaGVlbEZpdG1lbnQ7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuc3R5bGUuZGlzcGxheSA9IGN1cnJlbnRXaGVlbCA/ICcnIDogJ25vbmUnO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50V2hlZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuc2V0VGV4dCh0aGlzLndoZWVsTmFtZUVsZW1lbnQsIGN1cnJlbnRXaGVlbC5XaGVlbEJyYW5kTmFtZSArICcgJyArIGN1cnJlbnRXaGVlbC5XaGVlbE1vZGVsTmFtZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50V2hlZWxGaXRtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZGlhbWV0ZXIgPSBjdXJyZW50V2hlZWxGaXRtZW50LkRpYW1ldGVyTWluLnRvU3RyaW5nKCkgKyAn4oCzJztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50V2hlZWxGaXRtZW50LkRpYW1ldGVyTWluICE9PSBjdXJyZW50V2hlZWxGaXRtZW50LkRpYW1ldGVyTWF4KSBkaWFtZXRlciA9ICcoJyArIGN1cnJlbnRXaGVlbEZpdG1lbnQuRGlhbWV0ZXJNaW4gKyAnLScgKyBjdXJyZW50V2hlZWxGaXRtZW50LkRpYW1ldGVyTWF4ICsgJynigLMnO1xuICAgICAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuc2V0VGV4dCh0aGlzLndoZWVsRGVzY3JpcHRpb25FbGVtZW50LCBkaWFtZXRlciArICcgJyArIGN1cnJlbnRXaGVlbC5XaGVlbE1vZGVsRmluaXNoRGVzY3JpcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuc2V0VGV4dCh0aGlzLndoZWVsRGVzY3JpcHRpb25FbGVtZW50LCBjdXJyZW50V2hlZWwuV2hlZWxNb2RlbEZpbmlzaERlc2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfV0pO1xuXG4gICAgICAgIHJldHVybiBXaGVlbERldGFpbHM7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuQ29tcG9uZW50QmFzZSk7XG5cbiAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuV2hlZWxEZXRhaWxzID0gV2hlZWxEZXRhaWxzO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBfY3JlYXRlQ2xhc3MgPSBmdW5jdGlvbiAoKSB7IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7IHZhciBkZXNjcmlwdG9yID0gcHJvcHNbaV07IGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTsgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlOyBpZiAoXCJ2YWx1ZVwiIGluIGRlc2NyaXB0b3IpIGRlc2NyaXB0b3Iud3JpdGFibGUgPSB0cnVlOyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBkZXNjcmlwdG9yLmtleSwgZGVzY3JpcHRvcik7IH0gfSByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpOyBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9OyB9KCk7XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGZpbHRlck1vZGFsQ2xhc3MgPSAncmlkZXN0eWxlci1zaG93Y2FzZS1maWx0ZXItbW9kYWwnO1xuICAgIHZhciBmaWx0ZXJNb2RhbE1lbnVUaXRsZUNsYXNzID0gZmlsdGVyTW9kYWxDbGFzcyArICctbWVudS10aXRsZSc7XG4gICAgdmFyIGNvdW50Rm9ybWF0VG9rZW4gPSAne2NvdW50fSc7XG5cbiAgICB2YXIgUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwgPSBmdW5jdGlvbiAoX1JpZGVTdHlsZXJTaG93Y2FzZSRSKSB7XG4gICAgICAgIF9pbmhlcml0cyhSaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbCwgX1JpZGVTdHlsZXJTaG93Y2FzZSRSKTtcblxuICAgICAgICBmdW5jdGlvbiBSaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbChzaG93Y2FzZUluc3RhbmNlLCBvcHRpb25zKSB7XG4gICAgICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwpO1xuXG4gICAgICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWwuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihSaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbCkpLmNhbGwodGhpcywgc2hvd2Nhc2VJbnN0YW5jZSwge1xuICAgICAgICAgICAgICAgIHJlbW92ZU9uSGlkZGVuOiB0cnVlXG4gICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgICAgIF90aGlzLmZpbHRlclByb3ZpZGVyID0gb3B0aW9ucy5maWx0ZXJQcm92aWRlcjtcbiAgICAgICAgICAgIF90aGlzLnNob3dDb3VudFRleHRGb3JtYXQgPSBvcHRpb25zLnNob3dDb3VudFRleHRGb3JtYXQ7XG4gICAgICAgICAgICBfdGhpcy5jb21wb25lbnQuY2xhc3NMaXN0LmFkZChmaWx0ZXJNb2RhbENsYXNzKTtcbiAgICAgICAgICAgIF90aGlzLmJ1aWxkU2hvd0J1dHRvbigpO1xuICAgICAgICAgICAgX3RoaXMuYnVpbGRGaWx0ZXJNZW51cygpLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZUNvdW50KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIF90aGlzLmNvbXBvbmVudC5hcHBlbmRDaGlsZChfdGhpcy5zaG93QnV0dG9uKTtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIF9jcmVhdGVDbGFzcyhSaWRlU3R5bGVyU2hvd2Nhc2VGaWx0ZXJNb2RhbCwgW3tcbiAgICAgICAgICAgIGtleTogJ2J1aWxkRmlsdGVyTWVudXMnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkRmlsdGVyTWVudXMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgICAgICB2YXIgbWVudXNDb250YWluZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBmaWx0ZXJNb2RhbENsYXNzICsgJy1tZW51cycsXG4gICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLmNvbXBvbmVudFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJQcm92aWRlciA9IHRoaXMuZmlsdGVyUHJvdmlkZXI7XG4gICAgICAgICAgICAgICAgdmFyIG1lbnVMb2FkZWRQcm9taXNlcyA9IFtdO1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50RmlsdGVycyA9IGZpbHRlclByb3ZpZGVyLmdldEZpbHRlcnMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLm1lbnVzID0gW107XG5cbiAgICAgICAgICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChmaWx0ZXJPcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3Qgc2hvdyBub24tdmlzaWJsZSBmaWx0ZXIgb3B0aW9ucyBvciBmaWx0ZXIgb3B0aW9ucyB3aXRob3V0IGxhYmVsc1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShmaWx0ZXJPcHRpb24udmlzaWJsZSAhPT0gZmFsc2UgJiYgZmlsdGVyT3B0aW9uLmxhYmVsKSkgcmV0dXJuICdjb250aW51ZSc7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtZW51ID0gbmV3IFJpZGVTdHlsZXJTaG93Y2FzZS5SaWRlU3R5bGVyU2hvd2Nhc2VPcHRpb25NZW51KGZpbHRlck9wdGlvbi5rZXkpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVudUNvbnRhaW5lciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBmaWx0ZXJNb2RhbENsYXNzICsgJy1tZW51LWNvbnRhaW5lcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUbzogbWVudXNDb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmQ6IFtSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IGZpbHRlck1vZGFsTWVudVRpdGxlQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogZmlsdGVyT3B0aW9uLmxhYmVsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSwgbWVudS5jb21wb25lbnRdXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgbWVudUxvYWRlZFByb21pc2UgPSBmaWx0ZXJQcm92aWRlci5yZXRyaWV2ZU9wdGlvbnMoZmlsdGVyT3B0aW9uKS5kb25lKGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zLnVuc2hpZnQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhYmVsOiBmaWx0ZXJPcHRpb24udW5zZWxlY3RlZE9wdGlvbkxhYmVsIHx8IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnYWxsJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZW51LnNldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpbHRlck9wdGlvbi5nZXRWYWx1ZUZyb21GaWx0ZXJzID09PSAnZnVuY3Rpb24nKSBtZW51LnNldFZhbHVlKGZpbHRlck9wdGlvbi5nZXRWYWx1ZUZyb21GaWx0ZXJzKGN1cnJlbnRGaWx0ZXJzKSk7ZWxzZSBtZW51LnNldFZhbHVlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBtZW51Lm9uQ2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnVwZGF0ZUNvdW50KCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIG1lbnVMb2FkZWRQcm9taXNlcy5wdXNoKG1lbnVMb2FkZWRQcm9taXNlKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLm1lbnVzLnB1c2gobWVudSk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSBmaWx0ZXJQcm92aWRlci5maWx0ZXJPcHRpb25zW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlck9wdGlvbiA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JldCA9IF9sb29wKGZpbHRlck9wdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfcmV0ID09PSAnY29udGludWUnKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyLmFsbChtZW51TG9hZGVkUHJvbWlzZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdidWlsZFNob3dCdXR0b24nLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJ1aWxkU2hvd0J1dHRvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0J1dHRvbiA9IFJpZGVTdHlsZXJTaG93Y2FzZS5IVE1MSGVscGVyLmNyZWF0ZUJ1dHRvbih7XG4gICAgICAgICAgICAgICAgICAgIGxhcmdlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBkaXNhYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogUmlkZVN0eWxlclNob3djYXNlLnN0cmluZ3MuZ2V0U3RyaW5nKCdsb2FkaW5nLWVsbGlwc2lzJylcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMy5maWx0ZXJQcm92aWRlci5zZXRGaWx0ZXJzKF90aGlzMy5nZXRWYWx1ZXMoKSk7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzMy5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogJ2dldFZhbHVlcycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsdWVzKCkge1xuICAgICAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IyID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IHRoaXMubWVudXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDI7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSAoX3N0ZXAyID0gX2l0ZXJhdG9yMi5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfbWVudSA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogX21lbnUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogX21lbnUudmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAnZ2V0RmlsdGVycycsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RmlsdGVycygpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maWx0ZXJQcm92aWRlci5wcmV2aWV3RmlsdGVycyh0aGlzLmdldFZhbHVlcygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiAndXBkYXRlQ291bnQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUNvdW50KCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRDb3VudFRleHQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyUHJvdmlkZXIuZ2V0Q291bnQodGhpcy5nZXRGaWx0ZXJzKCkpLmRvbmUoZnVuY3Rpb24gKGNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzNC5zZXRDb3VudFRleHQoY291bnQpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6ICdzZXRDb3VudFRleHQnLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldENvdW50VGV4dChjb3VudCkge1xuICAgICAgICAgICAgICAgIGlmIChjb3VudCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIuc2V0VGV4dCh0aGlzLnNob3dCdXR0b24sIFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzLmdldFN0cmluZygnbG9hZGluZy1lbGxpcHNpcycpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlci5zZXRUZXh0KHRoaXMuc2hvd0J1dHRvbiwgdGhpcy5zaG93Q291bnRUZXh0Rm9ybWF0LnJlcGxhY2UoY291bnRGb3JtYXRUb2tlbiwgY291bnQudG9TdHJpbmcoKSkpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dCdXR0b24uZGlzYWJsZWQgPSBjb3VudCA9PT0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1dKTtcblxuICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWw7XG4gICAgfShSaWRlU3R5bGVyU2hvd2Nhc2UuUmlkZVN0eWxlclNob3djYXNlTW9kYWwpO1xuXG4gICAgUmlkZVN0eWxlclNob3djYXNlLlJpZGVTdHlsZXJTaG93Y2FzZUZpbHRlck1vZGFsID0gUmlkZVN0eWxlclNob3djYXNlRmlsdGVyTW9kYWw7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwiLyohIG5vdWlzbGlkZXIgLSAxMC4xLjAgLSAyMDE3LTA3LTI4IDE3OjExOjE4ICovXG5cbihmdW5jdGlvbiAoZmFjdG9yeSkge1xuXG4gICAgaWYgKCB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgKSB7XG5cbiAgICAgICAgLy8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxuICAgICAgICBkZWZpbmUoW10sIGZhY3RvcnkpO1xuXG4gICAgfSBlbHNlIGlmICggdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICkge1xuXG4gICAgICAgIC8vIE5vZGUvQ29tbW9uSlNcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cbiAgICB9IGVsc2Uge1xuXG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFsc1xuICAgICAgICB3aW5kb3cubm9VaVNsaWRlciA9IGZhY3RvcnkoKTtcbiAgICB9XG5cbn0oZnVuY3Rpb24oICl7XG5cblx0J3VzZSBzdHJpY3QnO1xuXG5cdHZhciBWRVJTSU9OID0gJzEwLjEuMCc7XG5cblxuXHRmdW5jdGlvbiBpc1ZhbGlkRm9ybWF0dGVyICggZW50cnkgKSB7XG5cdFx0cmV0dXJuIHR5cGVvZiBlbnRyeSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGVudHJ5LnRvID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBlbnRyeS5mcm9tID09PSAnZnVuY3Rpb24nO1xuXHR9XG5cblx0ZnVuY3Rpb24gcmVtb3ZlRWxlbWVudCAoIGVsICkge1xuXHRcdGVsLnBhcmVudEVsZW1lbnQucmVtb3ZlQ2hpbGQoZWwpO1xuXHR9XG5cblx0Ly8gQmluZGFibGUgdmVyc2lvblxuXHRmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCAoIGUgKSB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHR9XG5cblx0Ly8gUmVtb3ZlcyBkdXBsaWNhdGVzIGZyb20gYW4gYXJyYXkuXG5cdGZ1bmN0aW9uIHVuaXF1ZSAoIGFycmF5ICkge1xuXHRcdHJldHVybiBhcnJheS5maWx0ZXIoZnVuY3Rpb24oYSl7XG5cdFx0XHRyZXR1cm4gIXRoaXNbYV0gPyB0aGlzW2FdID0gdHJ1ZSA6IGZhbHNlO1xuXHRcdH0sIHt9KTtcblx0fVxuXG5cdC8vIFJvdW5kIGEgdmFsdWUgdG8gdGhlIGNsb3Nlc3QgJ3RvJy5cblx0ZnVuY3Rpb24gY2xvc2VzdCAoIHZhbHVlLCB0byApIHtcblx0XHRyZXR1cm4gTWF0aC5yb3VuZCh2YWx1ZSAvIHRvKSAqIHRvO1xuXHR9XG5cblx0Ly8gQ3VycmVudCBwb3NpdGlvbiBvZiBhbiBlbGVtZW50IHJlbGF0aXZlIHRvIHRoZSBkb2N1bWVudC5cblx0ZnVuY3Rpb24gb2Zmc2V0ICggZWxlbSwgb3JpZW50YXRpb24gKSB7XG5cblx0XHR2YXIgcmVjdCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0dmFyIGRvYyA9IGVsZW0ub3duZXJEb2N1bWVudDtcblx0XHR2YXIgZG9jRWxlbSA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG5cdFx0dmFyIHBhZ2VPZmZzZXQgPSBnZXRQYWdlT2Zmc2V0KGRvYyk7XG5cblx0XHQvLyBnZXRCb3VuZGluZ0NsaWVudFJlY3QgY29udGFpbnMgbGVmdCBzY3JvbGwgaW4gQ2hyb21lIG9uIEFuZHJvaWQuXG5cdFx0Ly8gSSBoYXZlbid0IGZvdW5kIGEgZmVhdHVyZSBkZXRlY3Rpb24gdGhhdCBwcm92ZXMgdGhpcy4gV29yc3QgY2FzZVxuXHRcdC8vIHNjZW5hcmlvIG9uIG1pcy1tYXRjaDogdGhlICd0YXAnIGZlYXR1cmUgb24gaG9yaXpvbnRhbCBzbGlkZXJzIGJyZWFrcy5cblx0XHRpZiAoIC93ZWJraXQuKkNocm9tZS4qTW9iaWxlL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSApIHtcblx0XHRcdHBhZ2VPZmZzZXQueCA9IDA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9yaWVudGF0aW9uID8gKHJlY3QudG9wICsgcGFnZU9mZnNldC55IC0gZG9jRWxlbS5jbGllbnRUb3ApIDogKHJlY3QubGVmdCArIHBhZ2VPZmZzZXQueCAtIGRvY0VsZW0uY2xpZW50TGVmdCk7XG5cdH1cblxuXHQvLyBDaGVja3Mgd2hldGhlciBhIHZhbHVlIGlzIG51bWVyaWNhbC5cblx0ZnVuY3Rpb24gaXNOdW1lcmljICggYSApIHtcblx0XHRyZXR1cm4gdHlwZW9mIGEgPT09ICdudW1iZXInICYmICFpc05hTiggYSApICYmIGlzRmluaXRlKCBhICk7XG5cdH1cblxuXHQvLyBTZXRzIGEgY2xhc3MgYW5kIHJlbW92ZXMgaXQgYWZ0ZXIgW2R1cmF0aW9uXSBtcy5cblx0ZnVuY3Rpb24gYWRkQ2xhc3NGb3IgKCBlbGVtZW50LCBjbGFzc05hbWUsIGR1cmF0aW9uICkge1xuXHRcdGlmIChkdXJhdGlvbiA+IDApIHtcblx0XHRhZGRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpO1xuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRcdFx0XHRyZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpO1xuXHRcdFx0fSwgZHVyYXRpb24pO1xuXHRcdH1cblx0fVxuXG5cdC8vIExpbWl0cyBhIHZhbHVlIHRvIDAgLSAxMDBcblx0ZnVuY3Rpb24gbGltaXQgKCBhICkge1xuXHRcdHJldHVybiBNYXRoLm1heChNYXRoLm1pbihhLCAxMDApLCAwKTtcblx0fVxuXG5cdC8vIFdyYXBzIGEgdmFyaWFibGUgYXMgYW4gYXJyYXksIGlmIGl0IGlzbid0IG9uZSB5ZXQuXG5cdC8vIE5vdGUgdGhhdCBhbiBpbnB1dCBhcnJheSBpcyByZXR1cm5lZCBieSByZWZlcmVuY2UhXG5cdGZ1bmN0aW9uIGFzQXJyYXkgKCBhICkge1xuXHRcdHJldHVybiBBcnJheS5pc0FycmF5KGEpID8gYSA6IFthXTtcblx0fVxuXG5cdC8vIENvdW50cyBkZWNpbWFsc1xuXHRmdW5jdGlvbiBjb3VudERlY2ltYWxzICggbnVtU3RyICkge1xuXHRcdG51bVN0ciA9IFN0cmluZyhudW1TdHIpO1xuXHRcdHZhciBwaWVjZXMgPSBudW1TdHIuc3BsaXQoXCIuXCIpO1xuXHRcdHJldHVybiBwaWVjZXMubGVuZ3RoID4gMSA/IHBpZWNlc1sxXS5sZW5ndGggOiAwO1xuXHR9XG5cblx0Ly8gaHR0cDovL3lvdW1pZ2h0bm90bmVlZGpxdWVyeS5jb20vI2FkZF9jbGFzc1xuXHRmdW5jdGlvbiBhZGRDbGFzcyAoIGVsLCBjbGFzc05hbWUgKSB7XG5cdFx0aWYgKCBlbC5jbGFzc0xpc3QgKSB7XG5cdFx0XHRlbC5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsLmNsYXNzTmFtZSArPSAnICcgKyBjbGFzc05hbWU7XG5cdFx0fVxuXHR9XG5cblx0Ly8gaHR0cDovL3lvdW1pZ2h0bm90bmVlZGpxdWVyeS5jb20vI3JlbW92ZV9jbGFzc1xuXHRmdW5jdGlvbiByZW1vdmVDbGFzcyAoIGVsLCBjbGFzc05hbWUgKSB7XG5cdFx0aWYgKCBlbC5jbGFzc0xpc3QgKSB7XG5cdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzTmFtZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoJyhefFxcXFxiKScgKyBjbGFzc05hbWUuc3BsaXQoJyAnKS5qb2luKCd8JykgKyAnKFxcXFxifCQpJywgJ2dpJyksICcgJyk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gaHR0cHM6Ly9wbGFpbmpzLmNvbS9qYXZhc2NyaXB0L2F0dHJpYnV0ZXMvYWRkaW5nLXJlbW92aW5nLWFuZC10ZXN0aW5nLWZvci1jbGFzc2VzLTkvXG5cdGZ1bmN0aW9uIGhhc0NsYXNzICggZWwsIGNsYXNzTmFtZSApIHtcblx0XHRyZXR1cm4gZWwuY2xhc3NMaXN0ID8gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkgOiBuZXcgUmVnRXhwKCdcXFxcYicgKyBjbGFzc05hbWUgKyAnXFxcXGInKS50ZXN0KGVsLmNsYXNzTmFtZSk7XG5cdH1cblxuXHQvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvV2luZG93L3Njcm9sbFkjTm90ZXNcblx0ZnVuY3Rpb24gZ2V0UGFnZU9mZnNldCAoIGRvYyApIHtcblxuXHRcdHZhciBzdXBwb3J0UGFnZU9mZnNldCA9IHdpbmRvdy5wYWdlWE9mZnNldCAhPT0gdW5kZWZpbmVkO1xuXHRcdHZhciBpc0NTUzFDb21wYXQgPSAoKGRvYy5jb21wYXRNb2RlIHx8IFwiXCIpID09PSBcIkNTUzFDb21wYXRcIik7XG5cdFx0dmFyIHggPSBzdXBwb3J0UGFnZU9mZnNldCA/IHdpbmRvdy5wYWdlWE9mZnNldCA6IGlzQ1NTMUNvbXBhdCA/IGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCA6IGRvYy5ib2R5LnNjcm9sbExlZnQ7XG5cdFx0dmFyIHkgPSBzdXBwb3J0UGFnZU9mZnNldCA/IHdpbmRvdy5wYWdlWU9mZnNldCA6IGlzQ1NTMUNvbXBhdCA/IGRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIDogZG9jLmJvZHkuc2Nyb2xsVG9wO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHg6IHgsXG5cdFx0XHR5OiB5XG5cdFx0fTtcblx0fVxuXG5cdC8vIHdlIHByb3ZpZGUgYSBmdW5jdGlvbiB0byBjb21wdXRlIGNvbnN0YW50cyBpbnN0ZWFkXG5cdC8vIG9mIGFjY2Vzc2luZyB3aW5kb3cuKiBhcyBzb29uIGFzIHRoZSBtb2R1bGUgbmVlZHMgaXRcblx0Ly8gc28gdGhhdCB3ZSBkbyBub3QgY29tcHV0ZSBhbnl0aGluZyBpZiBub3QgbmVlZGVkXG5cdGZ1bmN0aW9uIGdldEFjdGlvbnMgKCApIHtcblxuXHRcdC8vIERldGVybWluZSB0aGUgZXZlbnRzIHRvIGJpbmQuIElFMTEgaW1wbGVtZW50cyBwb2ludGVyRXZlbnRzIHdpdGhvdXRcblx0XHQvLyBhIHByZWZpeCwgd2hpY2ggYnJlYWtzIGNvbXBhdGliaWxpdHkgd2l0aCB0aGUgSUUxMCBpbXBsZW1lbnRhdGlvbi5cblx0XHRyZXR1cm4gd2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCA/IHtcblx0XHRcdHN0YXJ0OiAncG9pbnRlcmRvd24nLFxuXHRcdFx0bW92ZTogJ3BvaW50ZXJtb3ZlJyxcblx0XHRcdGVuZDogJ3BvaW50ZXJ1cCdcblx0XHR9IDogd2luZG93Lm5hdmlnYXRvci5tc1BvaW50ZXJFbmFibGVkID8ge1xuXHRcdFx0c3RhcnQ6ICdNU1BvaW50ZXJEb3duJyxcblx0XHRcdG1vdmU6ICdNU1BvaW50ZXJNb3ZlJyxcblx0XHRcdGVuZDogJ01TUG9pbnRlclVwJ1xuXHRcdH0gOiB7XG5cdFx0XHRzdGFydDogJ21vdXNlZG93biB0b3VjaHN0YXJ0Jyxcblx0XHRcdG1vdmU6ICdtb3VzZW1vdmUgdG91Y2htb3ZlJyxcblx0XHRcdGVuZDogJ21vdXNldXAgdG91Y2hlbmQnXG5cdFx0fTtcblx0fVxuXG5cdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9XSUNHL0V2ZW50TGlzdGVuZXJPcHRpb25zL2Jsb2IvZ2gtcGFnZXMvZXhwbGFpbmVyLm1kXG5cdC8vIElzc3VlICM3ODVcblx0ZnVuY3Rpb24gZ2V0U3VwcG9ydHNQYXNzaXZlICggKSB7XG5cblx0XHR2YXIgc3VwcG9ydHNQYXNzaXZlID0gZmFsc2U7XG5cblx0XHR0cnkge1xuXG5cdFx0XHR2YXIgb3B0cyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ3Bhc3NpdmUnLCB7XG5cdFx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdFx0c3VwcG9ydHNQYXNzaXZlID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cblx0XHRcdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0ZXN0JywgbnVsbCwgb3B0cyk7XG5cblx0XHR9IGNhdGNoIChlKSB7fVxuXG5cdFx0cmV0dXJuIHN1cHBvcnRzUGFzc2l2ZTtcblx0fVxuXG5cdGZ1bmN0aW9uIGdldFN1cHBvcnRzVG91Y2hBY3Rpb25Ob25lICggKSB7XG5cdFx0cmV0dXJuIHdpbmRvdy5DU1MgJiYgQ1NTLnN1cHBvcnRzICYmIENTUy5zdXBwb3J0cygndG91Y2gtYWN0aW9uJywgJ25vbmUnKTtcblx0fVxuXG5cbi8vIFZhbHVlIGNhbGN1bGF0aW9uXG5cblx0Ly8gRGV0ZXJtaW5lIHRoZSBzaXplIG9mIGEgc3ViLXJhbmdlIGluIHJlbGF0aW9uIHRvIGEgZnVsbCByYW5nZS5cblx0ZnVuY3Rpb24gc3ViUmFuZ2VSYXRpbyAoIHBhLCBwYiApIHtcblx0XHRyZXR1cm4gKDEwMCAvIChwYiAtIHBhKSk7XG5cdH1cblxuXHQvLyAocGVyY2VudGFnZSkgSG93IG1hbnkgcGVyY2VudCBpcyB0aGlzIHZhbHVlIG9mIHRoaXMgcmFuZ2U/XG5cdGZ1bmN0aW9uIGZyb21QZXJjZW50YWdlICggcmFuZ2UsIHZhbHVlICkge1xuXHRcdHJldHVybiAodmFsdWUgKiAxMDApIC8gKCByYW5nZVsxXSAtIHJhbmdlWzBdICk7XG5cdH1cblxuXHQvLyAocGVyY2VudGFnZSkgV2hlcmUgaXMgdGhpcyB2YWx1ZSBvbiB0aGlzIHJhbmdlP1xuXHRmdW5jdGlvbiB0b1BlcmNlbnRhZ2UgKCByYW5nZSwgdmFsdWUgKSB7XG5cdFx0cmV0dXJuIGZyb21QZXJjZW50YWdlKCByYW5nZSwgcmFuZ2VbMF0gPCAwID9cblx0XHRcdHZhbHVlICsgTWF0aC5hYnMocmFuZ2VbMF0pIDpcblx0XHRcdFx0dmFsdWUgLSByYW5nZVswXSApO1xuXHR9XG5cblx0Ly8gKHZhbHVlKSBIb3cgbXVjaCBpcyB0aGlzIHBlcmNlbnRhZ2Ugb24gdGhpcyByYW5nZT9cblx0ZnVuY3Rpb24gaXNQZXJjZW50YWdlICggcmFuZ2UsIHZhbHVlICkge1xuXHRcdHJldHVybiAoKHZhbHVlICogKCByYW5nZVsxXSAtIHJhbmdlWzBdICkpIC8gMTAwKSArIHJhbmdlWzBdO1xuXHR9XG5cblxuLy8gUmFuZ2UgY29udmVyc2lvblxuXG5cdGZ1bmN0aW9uIGdldEogKCB2YWx1ZSwgYXJyICkge1xuXG5cdFx0dmFyIGogPSAxO1xuXG5cdFx0d2hpbGUgKCB2YWx1ZSA+PSBhcnJbal0gKXtcblx0XHRcdGogKz0gMTtcblx0XHR9XG5cblx0XHRyZXR1cm4gajtcblx0fVxuXG5cdC8vIChwZXJjZW50YWdlKSBJbnB1dCBhIHZhbHVlLCBmaW5kIHdoZXJlLCBvbiBhIHNjYWxlIG9mIDAtMTAwLCBpdCBhcHBsaWVzLlxuXHRmdW5jdGlvbiB0b1N0ZXBwaW5nICggeFZhbCwgeFBjdCwgdmFsdWUgKSB7XG5cblx0XHRpZiAoIHZhbHVlID49IHhWYWwuc2xpY2UoLTEpWzBdICl7XG5cdFx0XHRyZXR1cm4gMTAwO1xuXHRcdH1cblxuXHRcdHZhciBqID0gZ2V0SiggdmFsdWUsIHhWYWwgKSwgdmEsIHZiLCBwYSwgcGI7XG5cblx0XHR2YSA9IHhWYWxbai0xXTtcblx0XHR2YiA9IHhWYWxbal07XG5cdFx0cGEgPSB4UGN0W2otMV07XG5cdFx0cGIgPSB4UGN0W2pdO1xuXG5cdFx0cmV0dXJuIHBhICsgKHRvUGVyY2VudGFnZShbdmEsIHZiXSwgdmFsdWUpIC8gc3ViUmFuZ2VSYXRpbyAocGEsIHBiKSk7XG5cdH1cblxuXHQvLyAodmFsdWUpIElucHV0IGEgcGVyY2VudGFnZSwgZmluZCB3aGVyZSBpdCBpcyBvbiB0aGUgc3BlY2lmaWVkIHJhbmdlLlxuXHRmdW5jdGlvbiBmcm9tU3RlcHBpbmcgKCB4VmFsLCB4UGN0LCB2YWx1ZSApIHtcblxuXHRcdC8vIFRoZXJlIGlzIG5vIHJhbmdlIGdyb3VwIHRoYXQgZml0cyAxMDBcblx0XHRpZiAoIHZhbHVlID49IDEwMCApe1xuXHRcdFx0cmV0dXJuIHhWYWwuc2xpY2UoLTEpWzBdO1xuXHRcdH1cblxuXHRcdHZhciBqID0gZ2V0SiggdmFsdWUsIHhQY3QgKSwgdmEsIHZiLCBwYSwgcGI7XG5cblx0XHR2YSA9IHhWYWxbai0xXTtcblx0XHR2YiA9IHhWYWxbal07XG5cdFx0cGEgPSB4UGN0W2otMV07XG5cdFx0cGIgPSB4UGN0W2pdO1xuXG5cdFx0cmV0dXJuIGlzUGVyY2VudGFnZShbdmEsIHZiXSwgKHZhbHVlIC0gcGEpICogc3ViUmFuZ2VSYXRpbyAocGEsIHBiKSk7XG5cdH1cblxuXHQvLyAocGVyY2VudGFnZSkgR2V0IHRoZSBzdGVwIHRoYXQgYXBwbGllcyBhdCBhIGNlcnRhaW4gdmFsdWUuXG5cdGZ1bmN0aW9uIGdldFN0ZXAgKCB4UGN0LCB4U3RlcHMsIHNuYXAsIHZhbHVlICkge1xuXG5cdFx0aWYgKCB2YWx1ZSA9PT0gMTAwICkge1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdHZhciBqID0gZ2V0SiggdmFsdWUsIHhQY3QgKSwgYSwgYjtcblxuXHRcdC8vIElmICdzbmFwJyBpcyBzZXQsIHN0ZXBzIGFyZSB1c2VkIGFzIGZpeGVkIHBvaW50cyBvbiB0aGUgc2xpZGVyLlxuXHRcdGlmICggc25hcCApIHtcblxuXHRcdFx0YSA9IHhQY3Rbai0xXTtcblx0XHRcdGIgPSB4UGN0W2pdO1xuXG5cdFx0XHQvLyBGaW5kIHRoZSBjbG9zZXN0IHBvc2l0aW9uLCBhIG9yIGIuXG5cdFx0XHRpZiAoKHZhbHVlIC0gYSkgPiAoKGItYSkvMikpe1xuXHRcdFx0XHRyZXR1cm4gYjtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGE7XG5cdFx0fVxuXG5cdFx0aWYgKCAheFN0ZXBzW2otMV0gKXtcblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4geFBjdFtqLTFdICsgY2xvc2VzdChcblx0XHRcdHZhbHVlIC0geFBjdFtqLTFdLFxuXHRcdFx0eFN0ZXBzW2otMV1cblx0XHQpO1xuXHR9XG5cblxuLy8gRW50cnkgcGFyc2luZ1xuXG5cdGZ1bmN0aW9uIGhhbmRsZUVudHJ5UG9pbnQgKCBpbmRleCwgdmFsdWUsIHRoYXQgKSB7XG5cblx0XHR2YXIgcGVyY2VudGFnZTtcblxuXHRcdC8vIFdyYXAgbnVtZXJpY2FsIGlucHV0IGluIGFuIGFycmF5LlxuXHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiICkge1xuXHRcdFx0dmFsdWUgPSBbdmFsdWVdO1xuXHRcdH1cblxuXHRcdC8vIFJlamVjdCBhbnkgaW52YWxpZCBpbnB1dCwgYnkgdGVzdGluZyB3aGV0aGVyIHZhbHVlIGlzIGFuIGFycmF5LlxuXHRcdGlmICggT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKCB2YWx1ZSApICE9PSAnW29iamVjdCBBcnJheV0nICl7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdyYW5nZScgY29udGFpbnMgaW52YWxpZCB2YWx1ZS5cIik7XG5cdFx0fVxuXG5cdFx0Ly8gQ292ZXJ0IG1pbi9tYXggc3ludGF4IHRvIDAgYW5kIDEwMC5cblx0XHRpZiAoIGluZGV4ID09PSAnbWluJyApIHtcblx0XHRcdHBlcmNlbnRhZ2UgPSAwO1xuXHRcdH0gZWxzZSBpZiAoIGluZGV4ID09PSAnbWF4JyApIHtcblx0XHRcdHBlcmNlbnRhZ2UgPSAxMDA7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHBlcmNlbnRhZ2UgPSBwYXJzZUZsb2F0KCBpbmRleCApO1xuXHRcdH1cblxuXHRcdC8vIENoZWNrIGZvciBjb3JyZWN0IGlucHV0LlxuXHRcdGlmICggIWlzTnVtZXJpYyggcGVyY2VudGFnZSApIHx8ICFpc051bWVyaWMoIHZhbHVlWzBdICkgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdyYW5nZScgdmFsdWUgaXNuJ3QgbnVtZXJpYy5cIik7XG5cdFx0fVxuXG5cdFx0Ly8gU3RvcmUgdmFsdWVzLlxuXHRcdHRoYXQueFBjdC5wdXNoKCBwZXJjZW50YWdlICk7XG5cdFx0dGhhdC54VmFsLnB1c2goIHZhbHVlWzBdICk7XG5cblx0XHQvLyBOYU4gd2lsbCBldmFsdWF0ZSB0byBmYWxzZSB0b28sIGJ1dCB0byBrZWVwXG5cdFx0Ly8gbG9nZ2luZyBjbGVhciwgc2V0IHN0ZXAgZXhwbGljaXRseS4gTWFrZSBzdXJlXG5cdFx0Ly8gbm90IHRvIG92ZXJyaWRlIHRoZSAnc3RlcCcgc2V0dGluZyB3aXRoIGZhbHNlLlxuXHRcdGlmICggIXBlcmNlbnRhZ2UgKSB7XG5cdFx0XHRpZiAoICFpc05hTiggdmFsdWVbMV0gKSApIHtcblx0XHRcdFx0dGhhdC54U3RlcHNbMF0gPSB2YWx1ZVsxXTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhhdC54U3RlcHMucHVzaCggaXNOYU4odmFsdWVbMV0pID8gZmFsc2UgOiB2YWx1ZVsxXSApO1xuXHRcdH1cblxuXHRcdHRoYXQueEhpZ2hlc3RDb21wbGV0ZVN0ZXAucHVzaCgwKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGhhbmRsZVN0ZXBQb2ludCAoIGksIG4sIHRoYXQgKSB7XG5cblx0XHQvLyBJZ25vcmUgJ2ZhbHNlJyBzdGVwcGluZy5cblx0XHRpZiAoICFuICkge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0Ly8gRmFjdG9yIHRvIHJhbmdlIHJhdGlvXG5cdFx0dGhhdC54U3RlcHNbaV0gPSBmcm9tUGVyY2VudGFnZShbXG5cdFx0XHQgdGhhdC54VmFsW2ldXG5cdFx0XHQsdGhhdC54VmFsW2krMV1cblx0XHRdLCBuKSAvIHN1YlJhbmdlUmF0aW8gKFxuXHRcdFx0dGhhdC54UGN0W2ldLFxuXHRcdFx0dGhhdC54UGN0W2krMV0gKTtcblxuXHRcdHZhciB0b3RhbFN0ZXBzID0gKHRoYXQueFZhbFtpKzFdIC0gdGhhdC54VmFsW2ldKSAvIHRoYXQueE51bVN0ZXBzW2ldO1xuXHRcdHZhciBoaWdoZXN0U3RlcCA9IE1hdGguY2VpbChOdW1iZXIodG90YWxTdGVwcy50b0ZpeGVkKDMpKSAtIDEpO1xuXHRcdHZhciBzdGVwID0gdGhhdC54VmFsW2ldICsgKHRoYXQueE51bVN0ZXBzW2ldICogaGlnaGVzdFN0ZXApO1xuXG5cdFx0dGhhdC54SGlnaGVzdENvbXBsZXRlU3RlcFtpXSA9IHN0ZXA7XG5cdH1cblxuXG4vLyBJbnRlcmZhY2VcblxuXHRmdW5jdGlvbiBTcGVjdHJ1bSAoIGVudHJ5LCBzbmFwLCBzaW5nbGVTdGVwICkge1xuXG5cdFx0dGhpcy54UGN0ID0gW107XG5cdFx0dGhpcy54VmFsID0gW107XG5cdFx0dGhpcy54U3RlcHMgPSBbIHNpbmdsZVN0ZXAgfHwgZmFsc2UgXTtcblx0XHR0aGlzLnhOdW1TdGVwcyA9IFsgZmFsc2UgXTtcblx0XHR0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwID0gW107XG5cblx0XHR0aGlzLnNuYXAgPSBzbmFwO1xuXG5cdFx0dmFyIGluZGV4LCBvcmRlcmVkID0gWyAvKiBbMCwgJ21pbiddLCBbMSwgJzUwJSddLCBbMiwgJ21heCddICovIF07XG5cblx0XHQvLyBNYXAgdGhlIG9iamVjdCBrZXlzIHRvIGFuIGFycmF5LlxuXHRcdGZvciAoIGluZGV4IGluIGVudHJ5ICkge1xuXHRcdFx0aWYgKCBlbnRyeS5oYXNPd25Qcm9wZXJ0eShpbmRleCkgKSB7XG5cdFx0XHRcdG9yZGVyZWQucHVzaChbZW50cnlbaW5kZXhdLCBpbmRleF0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFNvcnQgYWxsIGVudHJpZXMgYnkgdmFsdWUgKG51bWVyaWMgc29ydCkuXG5cdFx0aWYgKCBvcmRlcmVkLmxlbmd0aCAmJiB0eXBlb2Ygb3JkZXJlZFswXVswXSA9PT0gXCJvYmplY3RcIiApIHtcblx0XHRcdG9yZGVyZWQuc29ydChmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhWzBdWzBdIC0gYlswXVswXTsgfSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdG9yZGVyZWQuc29ydChmdW5jdGlvbihhLCBiKSB7IHJldHVybiBhWzBdIC0gYlswXTsgfSk7XG5cdFx0fVxuXG5cblx0XHQvLyBDb252ZXJ0IGFsbCBlbnRyaWVzIHRvIHN1YnJhbmdlcy5cblx0XHRmb3IgKCBpbmRleCA9IDA7IGluZGV4IDwgb3JkZXJlZC5sZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRoYW5kbGVFbnRyeVBvaW50KG9yZGVyZWRbaW5kZXhdWzFdLCBvcmRlcmVkW2luZGV4XVswXSwgdGhpcyk7XG5cdFx0fVxuXG5cdFx0Ly8gU3RvcmUgdGhlIGFjdHVhbCBzdGVwIHZhbHVlcy5cblx0XHQvLyB4U3RlcHMgaXMgc29ydGVkIGluIHRoZSBzYW1lIG9yZGVyIGFzIHhQY3QgYW5kIHhWYWwuXG5cdFx0dGhpcy54TnVtU3RlcHMgPSB0aGlzLnhTdGVwcy5zbGljZSgwKTtcblxuXHRcdC8vIENvbnZlcnQgYWxsIG51bWVyaWMgc3RlcHMgdG8gdGhlIHBlcmNlbnRhZ2Ugb2YgdGhlIHN1YnJhbmdlIHRoZXkgcmVwcmVzZW50LlxuXHRcdGZvciAoIGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLnhOdW1TdGVwcy5sZW5ndGg7IGluZGV4KysgKSB7XG5cdFx0XHRoYW5kbGVTdGVwUG9pbnQoaW5kZXgsIHRoaXMueE51bVN0ZXBzW2luZGV4XSwgdGhpcyk7XG5cdFx0fVxuXHR9XG5cblx0U3BlY3RydW0ucHJvdG90eXBlLmdldE1hcmdpbiA9IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHR2YXIgc3RlcCA9IHRoaXMueE51bVN0ZXBzWzBdO1xuXG5cdFx0aWYgKCBzdGVwICYmICgodmFsdWUgLyBzdGVwKSAlIDEpICE9PSAwICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnbGltaXQnLCAnbWFyZ2luJyBhbmQgJ3BhZGRpbmcnIG11c3QgYmUgZGl2aXNpYmxlIGJ5IHN0ZXAuXCIpO1xuXHRcdH1cblxuXHRcdHJldHVybiB0aGlzLnhQY3QubGVuZ3RoID09PSAyID8gZnJvbVBlcmNlbnRhZ2UodGhpcy54VmFsLCB2YWx1ZSkgOiBmYWxzZTtcblx0fTtcblxuXHRTcGVjdHJ1bS5wcm90b3R5cGUudG9TdGVwcGluZyA9IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cblx0XHR2YWx1ZSA9IHRvU3RlcHBpbmcoIHRoaXMueFZhbCwgdGhpcy54UGN0LCB2YWx1ZSApO1xuXG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9O1xuXG5cdFNwZWN0cnVtLnByb3RvdHlwZS5mcm9tU3RlcHBpbmcgPSBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0cmV0dXJuIGZyb21TdGVwcGluZyggdGhpcy54VmFsLCB0aGlzLnhQY3QsIHZhbHVlICk7XG5cdH07XG5cblx0U3BlY3RydW0ucHJvdG90eXBlLmdldFN0ZXAgPSBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0dmFsdWUgPSBnZXRTdGVwKHRoaXMueFBjdCwgdGhpcy54U3RlcHMsIHRoaXMuc25hcCwgdmFsdWUgKTtcblxuXHRcdHJldHVybiB2YWx1ZTtcblx0fTtcblxuXHRTcGVjdHJ1bS5wcm90b3R5cGUuZ2V0TmVhcmJ5U3RlcHMgPSBmdW5jdGlvbiAoIHZhbHVlICkge1xuXG5cdFx0dmFyIGogPSBnZXRKKHZhbHVlLCB0aGlzLnhQY3QpO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHN0ZXBCZWZvcmU6IHsgc3RhcnRWYWx1ZTogdGhpcy54VmFsW2otMl0sIHN0ZXA6IHRoaXMueE51bVN0ZXBzW2otMl0sIGhpZ2hlc3RTdGVwOiB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW2otMl0gfSxcblx0XHRcdHRoaXNTdGVwOiB7IHN0YXJ0VmFsdWU6IHRoaXMueFZhbFtqLTFdLCBzdGVwOiB0aGlzLnhOdW1TdGVwc1tqLTFdLCBoaWdoZXN0U3RlcDogdGhpcy54SGlnaGVzdENvbXBsZXRlU3RlcFtqLTFdIH0sXG5cdFx0XHRzdGVwQWZ0ZXI6IHsgc3RhcnRWYWx1ZTogdGhpcy54VmFsW2otMF0sIHN0ZXA6IHRoaXMueE51bVN0ZXBzW2otMF0sIGhpZ2hlc3RTdGVwOiB0aGlzLnhIaWdoZXN0Q29tcGxldGVTdGVwW2otMF0gfVxuXHRcdH07XG5cdH07XG5cblx0U3BlY3RydW0ucHJvdG90eXBlLmNvdW50U3RlcERlY2ltYWxzID0gZnVuY3Rpb24gKCkge1xuXHRcdHZhciBzdGVwRGVjaW1hbHMgPSB0aGlzLnhOdW1TdGVwcy5tYXAoY291bnREZWNpbWFscyk7XG5cdFx0cmV0dXJuIE1hdGgubWF4LmFwcGx5KG51bGwsIHN0ZXBEZWNpbWFscyk7XG4gXHR9O1xuXG5cdC8vIE91dHNpZGUgdGVzdGluZ1xuXHRTcGVjdHJ1bS5wcm90b3R5cGUuY29udmVydCA9IGZ1bmN0aW9uICggdmFsdWUgKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0U3RlcCh0aGlzLnRvU3RlcHBpbmcodmFsdWUpKTtcblx0fTtcblxuLypcdEV2ZXJ5IGlucHV0IG9wdGlvbiBpcyB0ZXN0ZWQgYW5kIHBhcnNlZC4gVGhpcydsbCBwcmV2ZW50XG5cdGVuZGxlc3MgdmFsaWRhdGlvbiBpbiBpbnRlcm5hbCBtZXRob2RzLiBUaGVzZSB0ZXN0cyBhcmVcblx0c3RydWN0dXJlZCB3aXRoIGFuIGl0ZW0gZm9yIGV2ZXJ5IG9wdGlvbiBhdmFpbGFibGUuIEFuXG5cdG9wdGlvbiBjYW4gYmUgbWFya2VkIGFzIHJlcXVpcmVkIGJ5IHNldHRpbmcgdGhlICdyJyBmbGFnLlxuXHRUaGUgdGVzdGluZyBmdW5jdGlvbiBpcyBwcm92aWRlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcblx0XHQtIFRoZSBwcm92aWRlZCB2YWx1ZSBmb3IgdGhlIG9wdGlvbjtcblx0XHQtIEEgcmVmZXJlbmNlIHRvIHRoZSBvcHRpb25zIG9iamVjdDtcblx0XHQtIFRoZSBuYW1lIGZvciB0aGUgb3B0aW9uO1xuXG5cdFRoZSB0ZXN0aW5nIGZ1bmN0aW9uIHJldHVybnMgZmFsc2Ugd2hlbiBhbiBlcnJvciBpcyBkZXRlY3RlZCxcblx0b3IgdHJ1ZSB3aGVuIGV2ZXJ5dGhpbmcgaXMgT0suIEl0IGNhbiBhbHNvIG1vZGlmeSB0aGUgb3B0aW9uXG5cdG9iamVjdCwgdG8gbWFrZSBzdXJlIGFsbCB2YWx1ZXMgY2FuIGJlIGNvcnJlY3RseSBsb29wZWQgZWxzZXdoZXJlLiAqL1xuXG5cdHZhciBkZWZhdWx0Rm9ybWF0dGVyID0geyAndG8nOiBmdW5jdGlvbiggdmFsdWUgKXtcblx0XHRyZXR1cm4gdmFsdWUgIT09IHVuZGVmaW5lZCAmJiB2YWx1ZS50b0ZpeGVkKDIpO1xuXHR9LCAnZnJvbSc6IE51bWJlciB9O1xuXG5cdGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0ICggZW50cnkgKSB7XG5cblx0XHQvLyBBbnkgb2JqZWN0IHdpdGggYSB0byBhbmQgZnJvbSBtZXRob2QgaXMgc3VwcG9ydGVkLlxuXHRcdGlmICggaXNWYWxpZEZvcm1hdHRlcihlbnRyeSkgKSB7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cblx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdmb3JtYXQnIHJlcXVpcmVzICd0bycgYW5kICdmcm9tJyBtZXRob2RzLlwiKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RTdGVwICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdGlmICggIWlzTnVtZXJpYyggZW50cnkgKSApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3N0ZXAnIGlzIG5vdCBudW1lcmljLlwiKTtcblx0XHR9XG5cblx0XHQvLyBUaGUgc3RlcCBvcHRpb24gY2FuIHN0aWxsIGJlIHVzZWQgdG8gc2V0IHN0ZXBwaW5nXG5cdFx0Ly8gZm9yIGxpbmVhciBzbGlkZXJzLiBPdmVyd3JpdHRlbiBpZiBzZXQgaW4gJ3JhbmdlJy5cblx0XHRwYXJzZWQuc2luZ2xlU3RlcCA9IGVudHJ5O1xuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdFJhbmdlICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdC8vIEZpbHRlciBpbmNvcnJlY3QgaW5wdXQuXG5cdFx0aWYgKCB0eXBlb2YgZW50cnkgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkoZW50cnkpICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncmFuZ2UnIGlzIG5vdCBhbiBvYmplY3QuXCIpO1xuXHRcdH1cblxuXHRcdC8vIENhdGNoIG1pc3Npbmcgc3RhcnQgb3IgZW5kLlxuXHRcdGlmICggZW50cnkubWluID09PSB1bmRlZmluZWQgfHwgZW50cnkubWF4ID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6IE1pc3NpbmcgJ21pbicgb3IgJ21heCcgaW4gJ3JhbmdlJy5cIik7XG5cdFx0fVxuXG5cdFx0Ly8gQ2F0Y2ggZXF1YWwgc3RhcnQgb3IgZW5kLlxuXHRcdGlmICggZW50cnkubWluID09PSBlbnRyeS5tYXggKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdyYW5nZScgJ21pbicgYW5kICdtYXgnIGNhbm5vdCBiZSBlcXVhbC5cIik7XG5cdFx0fVxuXG5cdFx0cGFyc2VkLnNwZWN0cnVtID0gbmV3IFNwZWN0cnVtKGVudHJ5LCBwYXJzZWQuc25hcCwgcGFyc2VkLnNpbmdsZVN0ZXApO1xuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdFN0YXJ0ICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdGVudHJ5ID0gYXNBcnJheShlbnRyeSk7XG5cblx0XHQvLyBWYWxpZGF0ZSBpbnB1dC4gVmFsdWVzIGFyZW4ndCB0ZXN0ZWQsIGFzIHRoZSBwdWJsaWMgLnZhbCBtZXRob2Rcblx0XHQvLyB3aWxsIGFsd2F5cyBwcm92aWRlIGEgdmFsaWQgbG9jYXRpb24uXG5cdFx0aWYgKCAhQXJyYXkuaXNBcnJheSggZW50cnkgKSB8fCAhZW50cnkubGVuZ3RoICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnc3RhcnQnIG9wdGlvbiBpcyBpbmNvcnJlY3QuXCIpO1xuXHRcdH1cblxuXHRcdC8vIFN0b3JlIHRoZSBudW1iZXIgb2YgaGFuZGxlcy5cblx0XHRwYXJzZWQuaGFuZGxlcyA9IGVudHJ5Lmxlbmd0aDtcblxuXHRcdC8vIFdoZW4gdGhlIHNsaWRlciBpcyBpbml0aWFsaXplZCwgdGhlIC52YWwgbWV0aG9kIHdpbGxcblx0XHQvLyBiZSBjYWxsZWQgd2l0aCB0aGUgc3RhcnQgb3B0aW9ucy5cblx0XHRwYXJzZWQuc3RhcnQgPSBlbnRyeTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RTbmFwICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdC8vIEVuZm9yY2UgMTAwJSBzdGVwcGluZyB3aXRoaW4gc3VicmFuZ2VzLlxuXHRcdHBhcnNlZC5zbmFwID0gZW50cnk7XG5cblx0XHRpZiAoIHR5cGVvZiBlbnRyeSAhPT0gJ2Jvb2xlYW4nICl7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdzbmFwJyBvcHRpb24gbXVzdCBiZSBhIGJvb2xlYW4uXCIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RBbmltYXRlICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdC8vIEVuZm9yY2UgMTAwJSBzdGVwcGluZyB3aXRoaW4gc3VicmFuZ2VzLlxuXHRcdHBhcnNlZC5hbmltYXRlID0gZW50cnk7XG5cblx0XHRpZiAoIHR5cGVvZiBlbnRyeSAhPT0gJ2Jvb2xlYW4nICl7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdhbmltYXRlJyBvcHRpb24gbXVzdCBiZSBhIGJvb2xlYW4uXCIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RBbmltYXRpb25EdXJhdGlvbiAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHRwYXJzZWQuYW5pbWF0aW9uRHVyYXRpb24gPSBlbnRyeTtcblxuXHRcdGlmICggdHlwZW9mIGVudHJ5ICE9PSAnbnVtYmVyJyApe1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnYW5pbWF0aW9uRHVyYXRpb24nIG9wdGlvbiBtdXN0IGJlIGEgbnVtYmVyLlwiKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0Q29ubmVjdCAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHR2YXIgY29ubmVjdCA9IFtmYWxzZV07XG5cdFx0dmFyIGk7XG5cblx0XHQvLyBNYXAgbGVnYWN5IG9wdGlvbnNcblx0XHRpZiAoIGVudHJ5ID09PSAnbG93ZXInICkge1xuXHRcdFx0ZW50cnkgPSBbdHJ1ZSwgZmFsc2VdO1xuXHRcdH1cblxuXHRcdGVsc2UgaWYgKCBlbnRyeSA9PT0gJ3VwcGVyJyApIHtcblx0XHRcdGVudHJ5ID0gW2ZhbHNlLCB0cnVlXTtcblx0XHR9XG5cblx0XHQvLyBIYW5kbGUgYm9vbGVhbiBvcHRpb25zXG5cdFx0aWYgKCBlbnRyeSA9PT0gdHJ1ZSB8fCBlbnRyeSA9PT0gZmFsc2UgKSB7XG5cblx0XHRcdGZvciAoIGkgPSAxOyBpIDwgcGFyc2VkLmhhbmRsZXM7IGkrKyApIHtcblx0XHRcdFx0Y29ubmVjdC5wdXNoKGVudHJ5KTtcblx0XHRcdH1cblxuXHRcdFx0Y29ubmVjdC5wdXNoKGZhbHNlKTtcblx0XHR9XG5cblx0XHQvLyBSZWplY3QgaW52YWxpZCBpbnB1dFxuXHRcdGVsc2UgaWYgKCAhQXJyYXkuaXNBcnJheSggZW50cnkgKSB8fCAhZW50cnkubGVuZ3RoIHx8IGVudHJ5Lmxlbmd0aCAhPT0gcGFyc2VkLmhhbmRsZXMgKyAxICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnY29ubmVjdCcgb3B0aW9uIGRvZXNuJ3QgbWF0Y2ggaGFuZGxlIGNvdW50LlwiKTtcblx0XHR9XG5cblx0XHRlbHNlIHtcblx0XHRcdGNvbm5lY3QgPSBlbnRyeTtcblx0XHR9XG5cblx0XHRwYXJzZWQuY29ubmVjdCA9IGNvbm5lY3Q7XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0T3JpZW50YXRpb24gKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0Ly8gU2V0IG9yaWVudGF0aW9uIHRvIGFuIGEgbnVtZXJpY2FsIHZhbHVlIGZvciBlYXN5XG5cdFx0Ly8gYXJyYXkgc2VsZWN0aW9uLlxuXHRcdHN3aXRjaCAoIGVudHJ5ICl7XG5cdFx0ICBjYXNlICdob3Jpem9udGFsJzpcblx0XHRcdHBhcnNlZC5vcnQgPSAwO1xuXHRcdFx0YnJlYWs7XG5cdFx0ICBjYXNlICd2ZXJ0aWNhbCc6XG5cdFx0XHRwYXJzZWQub3J0ID0gMTtcblx0XHRcdGJyZWFrO1xuXHRcdCAgZGVmYXVsdDpcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ29yaWVudGF0aW9uJyBvcHRpb24gaXMgaW52YWxpZC5cIik7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdE1hcmdpbiAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHRpZiAoICFpc051bWVyaWMoZW50cnkpICl7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdtYXJnaW4nIG9wdGlvbiBtdXN0IGJlIG51bWVyaWMuXCIpO1xuXHRcdH1cblxuXHRcdC8vIElzc3VlICM1ODJcblx0XHRpZiAoIGVudHJ5ID09PSAwICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdHBhcnNlZC5tYXJnaW4gPSBwYXJzZWQuc3BlY3RydW0uZ2V0TWFyZ2luKGVudHJ5KTtcblxuXHRcdGlmICggIXBhcnNlZC5tYXJnaW4gKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdtYXJnaW4nIG9wdGlvbiBpcyBvbmx5IHN1cHBvcnRlZCBvbiBsaW5lYXIgc2xpZGVycy5cIik7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdExpbWl0ICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdGlmICggIWlzTnVtZXJpYyhlbnRyeSkgKXtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ2xpbWl0JyBvcHRpb24gbXVzdCBiZSBudW1lcmljLlwiKTtcblx0XHR9XG5cblx0XHRwYXJzZWQubGltaXQgPSBwYXJzZWQuc3BlY3RydW0uZ2V0TWFyZ2luKGVudHJ5KTtcblxuXHRcdGlmICggIXBhcnNlZC5saW1pdCB8fCBwYXJzZWQuaGFuZGxlcyA8IDIgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdsaW1pdCcgb3B0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIG9uIGxpbmVhciBzbGlkZXJzIHdpdGggMiBvciBtb3JlIGhhbmRsZXMuXCIpO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RQYWRkaW5nICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdGlmICggIWlzTnVtZXJpYyhlbnRyeSkgKXtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IGJlIG51bWVyaWMuXCIpO1xuXHRcdH1cblxuXHRcdGlmICggZW50cnkgPT09IDAgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0cGFyc2VkLnBhZGRpbmcgPSBwYXJzZWQuc3BlY3RydW0uZ2V0TWFyZ2luKGVudHJ5KTtcblxuXHRcdGlmICggIXBhcnNlZC5wYWRkaW5nICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncGFkZGluZycgb3B0aW9uIGlzIG9ubHkgc3VwcG9ydGVkIG9uIGxpbmVhciBzbGlkZXJzLlwiKTtcblx0XHR9XG5cblx0XHRpZiAoIHBhcnNlZC5wYWRkaW5nIDwgMCApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ3BhZGRpbmcnIG9wdGlvbiBtdXN0IGJlIGEgcG9zaXRpdmUgbnVtYmVyLlwiKTtcblx0XHR9XG5cblx0XHRpZiAoIHBhcnNlZC5wYWRkaW5nID49IDUwICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAncGFkZGluZycgb3B0aW9uIG11c3QgYmUgbGVzcyB0aGFuIGhhbGYgdGhlIHJhbmdlLlwiKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0RGlyZWN0aW9uICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdC8vIFNldCBkaXJlY3Rpb24gYXMgYSBudW1lcmljYWwgdmFsdWUgZm9yIGVhc3kgcGFyc2luZy5cblx0XHQvLyBJbnZlcnQgY29ubmVjdGlvbiBmb3IgUlRMIHNsaWRlcnMsIHNvIHRoYXQgdGhlIHByb3BlclxuXHRcdC8vIGhhbmRsZXMgZ2V0IHRoZSBjb25uZWN0L2JhY2tncm91bmQgY2xhc3Nlcy5cblx0XHRzd2l0Y2ggKCBlbnRyeSApIHtcblx0XHQgIGNhc2UgJ2x0cic6XG5cdFx0XHRwYXJzZWQuZGlyID0gMDtcblx0XHRcdGJyZWFrO1xuXHRcdCAgY2FzZSAncnRsJzpcblx0XHRcdHBhcnNlZC5kaXIgPSAxO1xuXHRcdFx0YnJlYWs7XG5cdFx0ICBkZWZhdWx0OlxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnZGlyZWN0aW9uJyBvcHRpb24gd2FzIG5vdCByZWNvZ25pemVkLlwiKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0QmVoYXZpb3VyICggcGFyc2VkLCBlbnRyeSApIHtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGUgaW5wdXQgaXMgYSBzdHJpbmcuXG5cdFx0aWYgKCB0eXBlb2YgZW50cnkgIT09ICdzdHJpbmcnICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnYmVoYXZpb3VyJyBtdXN0IGJlIGEgc3RyaW5nIGNvbnRhaW5pbmcgb3B0aW9ucy5cIik7XG5cdFx0fVxuXG5cdFx0Ly8gQ2hlY2sgaWYgdGhlIHN0cmluZyBjb250YWlucyBhbnkga2V5d29yZHMuXG5cdFx0Ly8gTm9uZSBhcmUgcmVxdWlyZWQuXG5cdFx0dmFyIHRhcCA9IGVudHJ5LmluZGV4T2YoJ3RhcCcpID49IDA7XG5cdFx0dmFyIGRyYWcgPSBlbnRyeS5pbmRleE9mKCdkcmFnJykgPj0gMDtcblx0XHR2YXIgZml4ZWQgPSBlbnRyeS5pbmRleE9mKCdmaXhlZCcpID49IDA7XG5cdFx0dmFyIHNuYXAgPSBlbnRyeS5pbmRleE9mKCdzbmFwJykgPj0gMDtcblx0XHR2YXIgaG92ZXIgPSBlbnRyeS5pbmRleE9mKCdob3ZlcicpID49IDA7XG5cblx0XHRpZiAoIGZpeGVkICkge1xuXG5cdFx0XHRpZiAoIHBhcnNlZC5oYW5kbGVzICE9PSAyICkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdmaXhlZCcgYmVoYXZpb3VyIG11c3QgYmUgdXNlZCB3aXRoIDIgaGFuZGxlc1wiKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gVXNlIG1hcmdpbiB0byBlbmZvcmNlIGZpeGVkIHN0YXRlXG5cdFx0XHR0ZXN0TWFyZ2luKHBhcnNlZCwgcGFyc2VkLnN0YXJ0WzFdIC0gcGFyc2VkLnN0YXJ0WzBdKTtcblx0XHR9XG5cblx0XHRwYXJzZWQuZXZlbnRzID0ge1xuXHRcdFx0dGFwOiB0YXAgfHwgc25hcCxcblx0XHRcdGRyYWc6IGRyYWcsXG5cdFx0XHRmaXhlZDogZml4ZWQsXG5cdFx0XHRzbmFwOiBzbmFwLFxuXHRcdFx0aG92ZXI6IGhvdmVyXG5cdFx0fTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRlc3RNdWx0aXRvdWNoICggcGFyc2VkLCBlbnRyeSApIHtcblx0XHRwYXJzZWQubXVsdGl0b3VjaCA9IGVudHJ5O1xuXG5cdFx0aWYgKCB0eXBlb2YgZW50cnkgIT09ICdib29sZWFuJyApe1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAnbXVsdGl0b3VjaCcgb3B0aW9uIG11c3QgYmUgYSBib29sZWFuLlwiKTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0VG9vbHRpcHMgKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0aWYgKCBlbnRyeSA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0ZWxzZSBpZiAoIGVudHJ5ID09PSB0cnVlICkge1xuXG5cdFx0XHRwYXJzZWQudG9vbHRpcHMgPSBbXTtcblxuXHRcdFx0Zm9yICggdmFyIGkgPSAwOyBpIDwgcGFyc2VkLmhhbmRsZXM7IGkrKyApIHtcblx0XHRcdFx0cGFyc2VkLnRvb2x0aXBzLnB1c2godHJ1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0ZWxzZSB7XG5cblx0XHRcdHBhcnNlZC50b29sdGlwcyA9IGFzQXJyYXkoZW50cnkpO1xuXG5cdFx0XHRpZiAoIHBhcnNlZC50b29sdGlwcy5sZW5ndGggIT09IHBhcnNlZC5oYW5kbGVzICkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6IG11c3QgcGFzcyBhIGZvcm1hdHRlciBmb3IgYWxsIGhhbmRsZXMuXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHRwYXJzZWQudG9vbHRpcHMuZm9yRWFjaChmdW5jdGlvbihmb3JtYXR0ZXIpe1xuXHRcdFx0XHRpZiAoIHR5cGVvZiBmb3JtYXR0ZXIgIT09ICdib29sZWFuJyAmJiAodHlwZW9mIGZvcm1hdHRlciAhPT0gJ29iamVjdCcgfHwgdHlwZW9mIGZvcm1hdHRlci50byAhPT0gJ2Z1bmN0aW9uJykgKSB7XG5cdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAndG9vbHRpcHMnIG11c3QgYmUgcGFzc2VkIGEgZm9ybWF0dGVyIG9yICdmYWxzZScuXCIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0QXJpYUZvcm1hdCAoIHBhcnNlZCwgZW50cnkgKSB7XG5cdFx0cGFyc2VkLmFyaWFGb3JtYXQgPSBlbnRyeTtcblx0XHR2YWxpZGF0ZUZvcm1hdChlbnRyeSk7XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0Rm9ybWF0ICggcGFyc2VkLCBlbnRyeSApIHtcblx0XHRwYXJzZWQuZm9ybWF0ID0gZW50cnk7XG5cdFx0dmFsaWRhdGVGb3JtYXQoZW50cnkpO1xuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdENzc1ByZWZpeCAoIHBhcnNlZCwgZW50cnkgKSB7XG5cblx0XHRpZiAoIGVudHJ5ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIGVudHJ5ICE9PSAnc3RyaW5nJyAmJiBlbnRyeSAhPT0gZmFsc2UgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdjc3NQcmVmaXgnIG11c3QgYmUgYSBzdHJpbmcgb3IgYGZhbHNlYC5cIik7XG5cdFx0fVxuXG5cdFx0cGFyc2VkLmNzc1ByZWZpeCA9IGVudHJ5O1xuXHR9XG5cblx0ZnVuY3Rpb24gdGVzdENzc0NsYXNzZXMgKCBwYXJzZWQsIGVudHJ5ICkge1xuXG5cdFx0aWYgKCBlbnRyeSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBlbnRyeSAhPT0gJ29iamVjdCcgKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICdjc3NDbGFzc2VzJyBtdXN0IGJlIGFuIG9iamVjdC5cIik7XG5cdFx0fVxuXG5cdFx0aWYgKCB0eXBlb2YgcGFyc2VkLmNzc1ByZWZpeCA9PT0gJ3N0cmluZycgKSB7XG5cdFx0XHRwYXJzZWQuY3NzQ2xhc3NlcyA9IHt9O1xuXG5cdFx0XHRmb3IgKCB2YXIga2V5IGluIGVudHJ5ICkge1xuXHRcdFx0XHRpZiAoICFlbnRyeS5oYXNPd25Qcm9wZXJ0eShrZXkpICkgeyBjb250aW51ZTsgfVxuXG5cdFx0XHRcdHBhcnNlZC5jc3NDbGFzc2VzW2tleV0gPSBwYXJzZWQuY3NzUHJlZml4ICsgZW50cnlba2V5XTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0cGFyc2VkLmNzc0NsYXNzZXMgPSBlbnRyeTtcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXN0VXNlUmFmICggcGFyc2VkLCBlbnRyeSApIHtcblx0XHRpZiAoIGVudHJ5ID09PSB0cnVlIHx8IGVudHJ5ID09PSBmYWxzZSApIHtcblx0XHRcdHBhcnNlZC51c2VSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBlbnRyeTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiAndXNlUmVxdWVzdEFuaW1hdGlvbkZyYW1lJyBvcHRpb24gc2hvdWxkIGJlIHRydWUgKGRlZmF1bHQpIG9yIGZhbHNlLlwiKTtcblx0XHR9XG5cdH1cblxuXHQvLyBUZXN0IGFsbCBkZXZlbG9wZXIgc2V0dGluZ3MgYW5kIHBhcnNlIHRvIGFzc3VtcHRpb24tc2FmZSB2YWx1ZXMuXG5cdGZ1bmN0aW9uIHRlc3RPcHRpb25zICggb3B0aW9ucyApIHtcblxuXHRcdC8vIFRvIHByb3ZlIGEgZml4IGZvciAjNTM3LCBmcmVlemUgb3B0aW9ucyBoZXJlLlxuXHRcdC8vIElmIHRoZSBvYmplY3QgaXMgbW9kaWZpZWQsIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duLlxuXHRcdC8vIE9iamVjdC5mcmVlemUob3B0aW9ucyk7XG5cblx0XHR2YXIgcGFyc2VkID0ge1xuXHRcdFx0bWFyZ2luOiAwLFxuXHRcdFx0bGltaXQ6IDAsXG5cdFx0XHRwYWRkaW5nOiAwLFxuXHRcdFx0YW5pbWF0ZTogdHJ1ZSxcblx0XHRcdGFuaW1hdGlvbkR1cmF0aW9uOiAzMDAsXG5cdFx0XHRhcmlhRm9ybWF0OiBkZWZhdWx0Rm9ybWF0dGVyLFxuXHRcdFx0Zm9ybWF0OiBkZWZhdWx0Rm9ybWF0dGVyXG5cdFx0fTtcblxuXHRcdC8vIFRlc3RzIGFyZSBleGVjdXRlZCBpbiB0aGUgb3JkZXIgdGhleSBhcmUgcHJlc2VudGVkIGhlcmUuXG5cdFx0dmFyIHRlc3RzID0ge1xuXHRcdFx0J3N0ZXAnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0U3RlcCB9LFxuXHRcdFx0J3N0YXJ0JzogeyByOiB0cnVlLCB0OiB0ZXN0U3RhcnQgfSxcblx0XHRcdCdjb25uZWN0JzogeyByOiB0cnVlLCB0OiB0ZXN0Q29ubmVjdCB9LFxuXHRcdFx0J2RpcmVjdGlvbic6IHsgcjogdHJ1ZSwgdDogdGVzdERpcmVjdGlvbiB9LFxuXHRcdFx0J3NuYXAnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0U25hcCB9LFxuXHRcdFx0J2FuaW1hdGUnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0QW5pbWF0ZSB9LFxuXHRcdFx0J2FuaW1hdGlvbkR1cmF0aW9uJzogeyByOiBmYWxzZSwgdDogdGVzdEFuaW1hdGlvbkR1cmF0aW9uIH0sXG5cdFx0XHQncmFuZ2UnOiB7IHI6IHRydWUsIHQ6IHRlc3RSYW5nZSB9LFxuXHRcdFx0J29yaWVudGF0aW9uJzogeyByOiBmYWxzZSwgdDogdGVzdE9yaWVudGF0aW9uIH0sXG5cdFx0XHQnbWFyZ2luJzogeyByOiBmYWxzZSwgdDogdGVzdE1hcmdpbiB9LFxuXHRcdFx0J2xpbWl0JzogeyByOiBmYWxzZSwgdDogdGVzdExpbWl0IH0sXG5cdFx0XHQncGFkZGluZyc6IHsgcjogZmFsc2UsIHQ6IHRlc3RQYWRkaW5nIH0sXG5cdFx0XHQnYmVoYXZpb3VyJzogeyByOiB0cnVlLCB0OiB0ZXN0QmVoYXZpb3VyIH0sXG5cdFx0XHQnbXVsdGl0b3VjaCc6IHsgcjogdHJ1ZSwgdDogdGVzdE11bHRpdG91Y2ggfSxcblx0XHRcdCdhcmlhRm9ybWF0JzogeyByOiBmYWxzZSwgdDogdGVzdEFyaWFGb3JtYXQgfSxcblx0XHRcdCdmb3JtYXQnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0Rm9ybWF0IH0sXG5cdFx0XHQndG9vbHRpcHMnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0VG9vbHRpcHMgfSxcblx0XHRcdCdjc3NQcmVmaXgnOiB7IHI6IGZhbHNlLCB0OiB0ZXN0Q3NzUHJlZml4IH0sXG5cdFx0XHQnY3NzQ2xhc3Nlcyc6IHsgcjogZmFsc2UsIHQ6IHRlc3RDc3NDbGFzc2VzIH0sXG5cdFx0XHQndXNlUmVxdWVzdEFuaW1hdGlvbkZyYW1lJzogeyByOiBmYWxzZSwgdDogdGVzdFVzZVJhZiB9XG5cdFx0fTtcblxuXHRcdHZhciBkZWZhdWx0cyA9IHtcblx0XHRcdCdjb25uZWN0JzogZmFsc2UsXG5cdFx0XHQnZGlyZWN0aW9uJzogJ2x0cicsXG5cdFx0XHQnYmVoYXZpb3VyJzogJ3RhcCcsXG5cdFx0XHQnbXVsdGl0b3VjaCc6IGZhbHNlLFxuXHRcdFx0J29yaWVudGF0aW9uJzogJ2hvcml6b250YWwnLFxuXHRcdFx0J2Nzc1ByZWZpeCcgOiAnbm9VaS0nLFxuXHRcdFx0J2Nzc0NsYXNzZXMnOiB7XG5cdFx0XHRcdHRhcmdldDogJ3RhcmdldCcsXG5cdFx0XHRcdGJhc2U6ICdiYXNlJyxcblx0XHRcdFx0b3JpZ2luOiAnb3JpZ2luJyxcblx0XHRcdFx0aGFuZGxlOiAnaGFuZGxlJyxcblx0XHRcdFx0aGFuZGxlTG93ZXI6ICdoYW5kbGUtbG93ZXInLFxuXHRcdFx0XHRoYW5kbGVVcHBlcjogJ2hhbmRsZS11cHBlcicsXG5cdFx0XHRcdGhvcml6b250YWw6ICdob3Jpem9udGFsJyxcblx0XHRcdFx0dmVydGljYWw6ICd2ZXJ0aWNhbCcsXG5cdFx0XHRcdGJhY2tncm91bmQ6ICdiYWNrZ3JvdW5kJyxcblx0XHRcdFx0Y29ubmVjdDogJ2Nvbm5lY3QnLFxuXHRcdFx0XHRsdHI6ICdsdHInLFxuXHRcdFx0XHRydGw6ICdydGwnLFxuXHRcdFx0XHRkcmFnZ2FibGU6ICdkcmFnZ2FibGUnLFxuXHRcdFx0XHRkcmFnOiAnc3RhdGUtZHJhZycsXG5cdFx0XHRcdHRhcDogJ3N0YXRlLXRhcCcsXG5cdFx0XHRcdGFjdGl2ZTogJ2FjdGl2ZScsXG5cdFx0XHRcdHRvb2x0aXA6ICd0b29sdGlwJyxcblx0XHRcdFx0cGlwczogJ3BpcHMnLFxuXHRcdFx0XHRwaXBzSG9yaXpvbnRhbDogJ3BpcHMtaG9yaXpvbnRhbCcsXG5cdFx0XHRcdHBpcHNWZXJ0aWNhbDogJ3BpcHMtdmVydGljYWwnLFxuXHRcdFx0XHRtYXJrZXI6ICdtYXJrZXInLFxuXHRcdFx0XHRtYXJrZXJIb3Jpem9udGFsOiAnbWFya2VyLWhvcml6b250YWwnLFxuXHRcdFx0XHRtYXJrZXJWZXJ0aWNhbDogJ21hcmtlci12ZXJ0aWNhbCcsXG5cdFx0XHRcdG1hcmtlck5vcm1hbDogJ21hcmtlci1ub3JtYWwnLFxuXHRcdFx0XHRtYXJrZXJMYXJnZTogJ21hcmtlci1sYXJnZScsXG5cdFx0XHRcdG1hcmtlclN1YjogJ21hcmtlci1zdWInLFxuXHRcdFx0XHR2YWx1ZTogJ3ZhbHVlJyxcblx0XHRcdFx0dmFsdWVIb3Jpem9udGFsOiAndmFsdWUtaG9yaXpvbnRhbCcsXG5cdFx0XHRcdHZhbHVlVmVydGljYWw6ICd2YWx1ZS12ZXJ0aWNhbCcsXG5cdFx0XHRcdHZhbHVlTm9ybWFsOiAndmFsdWUtbm9ybWFsJyxcblx0XHRcdFx0dmFsdWVMYXJnZTogJ3ZhbHVlLWxhcmdlJyxcblx0XHRcdFx0dmFsdWVTdWI6ICd2YWx1ZS1zdWInXG5cdFx0XHR9LFxuXHRcdFx0J3VzZVJlcXVlc3RBbmltYXRpb25GcmFtZSc6IHRydWVcblx0XHR9O1xuXG5cdFx0Ly8gQXJpYUZvcm1hdCBkZWZhdWx0cyB0byByZWd1bGFyIGZvcm1hdCwgaWYgYW55LlxuXHRcdGlmICggb3B0aW9ucy5mb3JtYXQgJiYgIW9wdGlvbnMuYXJpYUZvcm1hdCApIHtcblx0XHRcdG9wdGlvbnMuYXJpYUZvcm1hdCA9IG9wdGlvbnMuZm9ybWF0O1xuXHRcdH1cblxuXHRcdC8vIFJ1biBhbGwgb3B0aW9ucyB0aHJvdWdoIGEgdGVzdGluZyBtZWNoYW5pc20gdG8gZW5zdXJlIGNvcnJlY3Rcblx0XHQvLyBpbnB1dC4gSXQgc2hvdWxkIGJlIG5vdGVkIHRoYXQgb3B0aW9ucyBtaWdodCBnZXQgbW9kaWZpZWQgdG9cblx0XHQvLyBiZSBoYW5kbGVkIHByb3Blcmx5LiBFLmcuIHdyYXBwaW5nIGludGVnZXJzIGluIGFycmF5cy5cblx0XHRPYmplY3Qua2V5cyh0ZXN0cykuZm9yRWFjaChmdW5jdGlvbiggbmFtZSApe1xuXG5cdFx0XHQvLyBJZiB0aGUgb3B0aW9uIGlzbid0IHNldCwgYnV0IGl0IGlzIHJlcXVpcmVkLCB0aHJvdyBhbiBlcnJvci5cblx0XHRcdGlmICggb3B0aW9uc1tuYW1lXSA9PT0gdW5kZWZpbmVkICYmIGRlZmF1bHRzW25hbWVdID09PSB1bmRlZmluZWQgKSB7XG5cblx0XHRcdFx0aWYgKCB0ZXN0c1tuYW1lXS5yICkge1xuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogJ1wiICsgbmFtZSArIFwiJyBpcyByZXF1aXJlZC5cIik7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0dGVzdHNbbmFtZV0udCggcGFyc2VkLCBvcHRpb25zW25hbWVdID09PSB1bmRlZmluZWQgPyBkZWZhdWx0c1tuYW1lXSA6IG9wdGlvbnNbbmFtZV0gKTtcblx0XHR9KTtcblxuXHRcdC8vIEZvcndhcmQgcGlwcyBvcHRpb25zXG5cdFx0cGFyc2VkLnBpcHMgPSBvcHRpb25zLnBpcHM7XG5cblx0XHR2YXIgc3R5bGVzID0gW1snbGVmdCcsICd0b3AnXSwgWydyaWdodCcsICdib3R0b20nXV07XG5cblx0XHQvLyBQcmUtZGVmaW5lIHRoZSBzdHlsZXMuXG5cdFx0cGFyc2VkLnN0eWxlID0gc3R5bGVzW3BhcnNlZC5kaXJdW3BhcnNlZC5vcnRdO1xuXHRcdHBhcnNlZC5zdHlsZU9wb3NpdGUgPSBzdHlsZXNbcGFyc2VkLmRpcj8wOjFdW3BhcnNlZC5vcnRdO1xuXG5cdFx0cmV0dXJuIHBhcnNlZDtcblx0fVxuXG5cbmZ1bmN0aW9uIGNsb3N1cmUgKCB0YXJnZXQsIG9wdGlvbnMsIG9yaWdpbmFsT3B0aW9ucyApe1xuXG5cdHZhciBhY3Rpb25zID0gZ2V0QWN0aW9ucygpO1xuXHR2YXIgc3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUgPSBnZXRTdXBwb3J0c1RvdWNoQWN0aW9uTm9uZSgpO1xuXHR2YXIgc3VwcG9ydHNQYXNzaXZlID0gc3VwcG9ydHNUb3VjaEFjdGlvbk5vbmUgJiYgZ2V0U3VwcG9ydHNQYXNzaXZlKCk7XG5cblx0Ly8gQWxsIHZhcmlhYmxlcyBsb2NhbCB0byAnY2xvc3VyZScgYXJlIHByZWZpeGVkIHdpdGggJ3Njb3BlXydcblx0dmFyIHNjb3BlX1RhcmdldCA9IHRhcmdldDtcblx0dmFyIHNjb3BlX0xvY2F0aW9ucyA9IFtdO1xuXHR2YXIgc2NvcGVfQmFzZTtcblx0dmFyIHNjb3BlX0hhbmRsZXM7XG5cdHZhciBzY29wZV9IYW5kbGVOdW1iZXJzID0gW107XG5cdHZhciBzY29wZV9BY3RpdmVIYW5kbGVzQ291bnQgPSAwO1xuXHR2YXIgc2NvcGVfQ29ubmVjdHM7XG5cdHZhciBzY29wZV9TcGVjdHJ1bSA9IG9wdGlvbnMuc3BlY3RydW07XG5cdHZhciBzY29wZV9WYWx1ZXMgPSBbXTtcblx0dmFyIHNjb3BlX0V2ZW50cyA9IHt9O1xuXHR2YXIgc2NvcGVfU2VsZjtcblx0dmFyIHNjb3BlX1BpcHM7XG5cdHZhciBzY29wZV9Eb2N1bWVudCA9IHRhcmdldC5vd25lckRvY3VtZW50O1xuXHR2YXIgc2NvcGVfRG9jdW1lbnRFbGVtZW50ID0gc2NvcGVfRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXHR2YXIgc2NvcGVfQm9keSA9IHNjb3BlX0RvY3VtZW50LmJvZHk7XG5cblxuXHQvLyBDcmVhdGVzIGEgbm9kZSwgYWRkcyBpdCB0byB0YXJnZXQsIHJldHVybnMgdGhlIG5ldyBub2RlLlxuXHRmdW5jdGlvbiBhZGROb2RlVG8gKCB0YXJnZXQsIGNsYXNzTmFtZSApIHtcblxuXHRcdHZhciBkaXYgPSBzY29wZV9Eb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuXHRcdGlmICggY2xhc3NOYW1lICkge1xuXHRcdFx0YWRkQ2xhc3MoZGl2LCBjbGFzc05hbWUpO1xuXHRcdH1cblxuXHRcdHRhcmdldC5hcHBlbmRDaGlsZChkaXYpO1xuXG5cdFx0cmV0dXJuIGRpdjtcblx0fVxuXG5cdC8vIEFwcGVuZCBhIG9yaWdpbiB0byB0aGUgYmFzZVxuXHRmdW5jdGlvbiBhZGRPcmlnaW4gKCBiYXNlLCBoYW5kbGVOdW1iZXIgKSB7XG5cblx0XHR2YXIgb3JpZ2luID0gYWRkTm9kZVRvKGJhc2UsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5vcmlnaW4pO1xuXHRcdHZhciBoYW5kbGUgPSBhZGROb2RlVG8ob3JpZ2luLCBvcHRpb25zLmNzc0NsYXNzZXMuaGFuZGxlKTtcblxuXHRcdGhhbmRsZS5zZXRBdHRyaWJ1dGUoJ2RhdGEtaGFuZGxlJywgaGFuZGxlTnVtYmVyKTtcblxuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvR2xvYmFsX2F0dHJpYnV0ZXMvdGFiaW5kZXhcblx0XHQvLyAwID0gZm9jdXNhYmxlIGFuZCByZWFjaGFibGVcblx0XHRoYW5kbGUuc2V0QXR0cmlidXRlKCd0YWJpbmRleCcsICcwJyk7XG5cdFx0aGFuZGxlLnNldEF0dHJpYnV0ZSgncm9sZScsICdzbGlkZXInKTtcblx0XHRoYW5kbGUuc2V0QXR0cmlidXRlKCdhcmlhLW9yaWVudGF0aW9uJywgb3B0aW9ucy5vcnQgPyAndmVydGljYWwnIDogJ2hvcml6b250YWwnKTtcblxuXHRcdGlmICggaGFuZGxlTnVtYmVyID09PSAwICkge1xuXHRcdFx0YWRkQ2xhc3MoaGFuZGxlLCBvcHRpb25zLmNzc0NsYXNzZXMuaGFuZGxlTG93ZXIpO1xuXHRcdH1cblxuXHRcdGVsc2UgaWYgKCBoYW5kbGVOdW1iZXIgPT09IG9wdGlvbnMuaGFuZGxlcyAtIDEgKSB7XG5cdFx0XHRhZGRDbGFzcyhoYW5kbGUsIG9wdGlvbnMuY3NzQ2xhc3Nlcy5oYW5kbGVVcHBlcik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG9yaWdpbjtcblx0fVxuXG5cdC8vIEluc2VydCBub2RlcyBmb3IgY29ubmVjdCBlbGVtZW50c1xuXHRmdW5jdGlvbiBhZGRDb25uZWN0ICggYmFzZSwgYWRkICkge1xuXG5cdFx0aWYgKCAhYWRkICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHJldHVybiBhZGROb2RlVG8oYmFzZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmNvbm5lY3QpO1xuXHR9XG5cblx0Ly8gQWRkIGhhbmRsZXMgdG8gdGhlIHNsaWRlciBiYXNlLlxuXHRmdW5jdGlvbiBhZGRFbGVtZW50cyAoIGNvbm5lY3RPcHRpb25zLCBiYXNlICkge1xuXG5cdFx0c2NvcGVfSGFuZGxlcyA9IFtdO1xuXHRcdHNjb3BlX0Nvbm5lY3RzID0gW107XG5cblx0XHRzY29wZV9Db25uZWN0cy5wdXNoKGFkZENvbm5lY3QoYmFzZSwgY29ubmVjdE9wdGlvbnNbMF0pKTtcblxuXHRcdC8vIFs6Ojo6Tz09PT1PPT09PU89PT09XVxuXHRcdC8vIGNvbm5lY3RPcHRpb25zID0gWzAsIDEsIDEsIDFdXG5cblx0XHRmb3IgKCB2YXIgaSA9IDA7IGkgPCBvcHRpb25zLmhhbmRsZXM7IGkrKyApIHtcblx0XHRcdC8vIEtlZXAgYSBsaXN0IG9mIGFsbCBhZGRlZCBoYW5kbGVzLlxuXHRcdFx0c2NvcGVfSGFuZGxlcy5wdXNoKGFkZE9yaWdpbihiYXNlLCBpKSk7XG5cdFx0XHRzY29wZV9IYW5kbGVOdW1iZXJzW2ldID0gaTtcblx0XHRcdHNjb3BlX0Nvbm5lY3RzLnB1c2goYWRkQ29ubmVjdChiYXNlLCBjb25uZWN0T3B0aW9uc1tpICsgMV0pKTtcblx0XHR9XG5cdH1cblxuXHQvLyBJbml0aWFsaXplIGEgc2luZ2xlIHNsaWRlci5cblx0ZnVuY3Rpb24gYWRkU2xpZGVyICggdGFyZ2V0ICkge1xuXG5cdFx0Ly8gQXBwbHkgY2xhc3NlcyBhbmQgZGF0YSB0byB0aGUgdGFyZ2V0LlxuXHRcdGFkZENsYXNzKHRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRhcmdldCk7XG5cblx0XHRpZiAoIG9wdGlvbnMuZGlyID09PSAwICkge1xuXHRcdFx0YWRkQ2xhc3ModGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMubHRyKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YWRkQ2xhc3ModGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMucnRsKTtcblx0XHR9XG5cblx0XHRpZiAoIG9wdGlvbnMub3J0ID09PSAwICkge1xuXHRcdFx0YWRkQ2xhc3ModGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMuaG9yaXpvbnRhbCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFkZENsYXNzKHRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnZlcnRpY2FsKTtcblx0XHR9XG5cblx0XHRzY29wZV9CYXNlID0gYWRkTm9kZVRvKHRhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLmJhc2UpO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBhZGRUb29sdGlwICggaGFuZGxlLCBoYW5kbGVOdW1iZXIgKSB7XG5cblx0XHRpZiAoICFvcHRpb25zLnRvb2x0aXBzW2hhbmRsZU51bWJlcl0gKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGFkZE5vZGVUbyhoYW5kbGUuZmlyc3RDaGlsZCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRvb2x0aXApO1xuXHR9XG5cblx0Ly8gVGhlIHRvb2x0aXBzIG9wdGlvbiBpcyBhIHNob3J0aGFuZCBmb3IgdXNpbmcgdGhlICd1cGRhdGUnIGV2ZW50LlxuXHRmdW5jdGlvbiB0b29sdGlwcyAoICkge1xuXG5cdFx0Ly8gVG9vbHRpcHMgYXJlIGFkZGVkIHdpdGggb3B0aW9ucy50b29sdGlwcyBpbiBvcmlnaW5hbCBvcmRlci5cblx0XHR2YXIgdGlwcyA9IHNjb3BlX0hhbmRsZXMubWFwKGFkZFRvb2x0aXApO1xuXG5cdFx0YmluZEV2ZW50KCd1cGRhdGUnLCBmdW5jdGlvbih2YWx1ZXMsIGhhbmRsZU51bWJlciwgdW5lbmNvZGVkKSB7XG5cblx0XHRcdGlmICggIXRpcHNbaGFuZGxlTnVtYmVyXSApIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgZm9ybWF0dGVkVmFsdWUgPSB2YWx1ZXNbaGFuZGxlTnVtYmVyXTtcblxuXHRcdFx0aWYgKCBvcHRpb25zLnRvb2x0aXBzW2hhbmRsZU51bWJlcl0gIT09IHRydWUgKSB7XG5cdFx0XHRcdGZvcm1hdHRlZFZhbHVlID0gb3B0aW9ucy50b29sdGlwc1toYW5kbGVOdW1iZXJdLnRvKHVuZW5jb2RlZFtoYW5kbGVOdW1iZXJdKTtcblx0XHRcdH1cblxuXHRcdFx0dGlwc1toYW5kbGVOdW1iZXJdLmlubmVySFRNTCA9IGZvcm1hdHRlZFZhbHVlO1xuXHRcdH0pO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBhcmlhICggKSB7XG5cblx0XHRiaW5kRXZlbnQoJ3VwZGF0ZScsIGZ1bmN0aW9uICggdmFsdWVzLCBoYW5kbGVOdW1iZXIsIHVuZW5jb2RlZCwgdGFwLCBwb3NpdGlvbnMgKSB7XG5cblx0XHRcdC8vIFVwZGF0ZSBBcmlhIFZhbHVlcyBmb3IgYWxsIGhhbmRsZXMsIGFzIGEgY2hhbmdlIGluIG9uZSBjaGFuZ2VzIG1pbiBhbmQgbWF4IHZhbHVlcyBmb3IgdGhlIG5leHQuXG5cdFx0XHRzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oIGhhbmRsZU51bWJlciApe1xuXG5cdFx0XHRcdHZhciBoYW5kbGUgPSBzY29wZV9IYW5kbGVzW2hhbmRsZU51bWJlcl07XG5cblx0XHRcdFx0dmFyIG1pbiA9IGNoZWNrSGFuZGxlUG9zaXRpb24oc2NvcGVfTG9jYXRpb25zLCBoYW5kbGVOdW1iZXIsIDAsIHRydWUsIHRydWUsIHRydWUpO1xuXHRcdFx0XHR2YXIgbWF4ID0gY2hlY2tIYW5kbGVQb3NpdGlvbihzY29wZV9Mb2NhdGlvbnMsIGhhbmRsZU51bWJlciwgMTAwLCB0cnVlLCB0cnVlLCB0cnVlKTtcblxuXHRcdFx0XHR2YXIgbm93ID0gcG9zaXRpb25zW2hhbmRsZU51bWJlcl07XG5cdFx0XHRcdHZhciB0ZXh0ID0gb3B0aW9ucy5hcmlhRm9ybWF0LnRvKHVuZW5jb2RlZFtoYW5kbGVOdW1iZXJdKTtcblxuXHRcdFx0XHRoYW5kbGUuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbWluJywgbWluLnRvRml4ZWQoMSkpO1xuXHRcdFx0XHRoYW5kbGUuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbWF4JywgbWF4LnRvRml4ZWQoMSkpO1xuXHRcdFx0XHRoYW5kbGUuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVlbm93Jywgbm93LnRvRml4ZWQoMSkpO1xuXHRcdFx0XHRoYW5kbGUuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKCdhcmlhLXZhbHVldGV4dCcsIHRleHQpO1xuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdH1cblxuXG5cdGZ1bmN0aW9uIGdldEdyb3VwICggbW9kZSwgdmFsdWVzLCBzdGVwcGVkICkge1xuXG5cdFx0Ly8gVXNlIHRoZSByYW5nZS5cblx0XHRpZiAoIG1vZGUgPT09ICdyYW5nZScgfHwgbW9kZSA9PT0gJ3N0ZXBzJyApIHtcblx0XHRcdHJldHVybiBzY29wZV9TcGVjdHJ1bS54VmFsO1xuXHRcdH1cblxuXHRcdGlmICggbW9kZSA9PT0gJ2NvdW50JyApIHtcblxuXHRcdFx0aWYgKCAhdmFsdWVzICkge1xuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJub1VpU2xpZGVyIChcIiArIFZFUlNJT04gKyBcIik6ICd2YWx1ZXMnIHJlcXVpcmVkIGZvciBtb2RlICdjb3VudCcuXCIpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBEaXZpZGUgMCAtIDEwMCBpbiAnY291bnQnIHBhcnRzLlxuXHRcdFx0dmFyIHNwcmVhZCA9ICggMTAwIC8gKHZhbHVlcyAtIDEpICk7XG5cdFx0XHR2YXIgdjtcblx0XHRcdHZhciBpID0gMDtcblxuXHRcdFx0dmFsdWVzID0gW107XG5cblx0XHRcdC8vIExpc3QgdGhlc2UgcGFydHMgYW5kIGhhdmUgdGhlbSBoYW5kbGVkIGFzICdwb3NpdGlvbnMnLlxuXHRcdFx0d2hpbGUgKCAodiA9IGkrKyAqIHNwcmVhZCkgPD0gMTAwICkge1xuXHRcdFx0XHR2YWx1ZXMucHVzaCh2KTtcblx0XHRcdH1cblxuXHRcdFx0bW9kZSA9ICdwb3NpdGlvbnMnO1xuXHRcdH1cblxuXHRcdGlmICggbW9kZSA9PT0gJ3Bvc2l0aW9ucycgKSB7XG5cblx0XHRcdC8vIE1hcCBhbGwgcGVyY2VudGFnZXMgdG8gb24tcmFuZ2UgdmFsdWVzLlxuXHRcdFx0cmV0dXJuIHZhbHVlcy5tYXAoZnVuY3Rpb24oIHZhbHVlICl7XG5cdFx0XHRcdHJldHVybiBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcoIHN0ZXBwZWQgPyBzY29wZV9TcGVjdHJ1bS5nZXRTdGVwKCB2YWx1ZSApIDogdmFsdWUgKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGlmICggbW9kZSA9PT0gJ3ZhbHVlcycgKSB7XG5cblx0XHRcdC8vIElmIHRoZSB2YWx1ZSBtdXN0IGJlIHN0ZXBwZWQsIGl0IG5lZWRzIHRvIGJlIGNvbnZlcnRlZCB0byBhIHBlcmNlbnRhZ2UgZmlyc3QuXG5cdFx0XHRpZiAoIHN0ZXBwZWQgKSB7XG5cblx0XHRcdFx0cmV0dXJuIHZhbHVlcy5tYXAoZnVuY3Rpb24oIHZhbHVlICl7XG5cblx0XHRcdFx0XHQvLyBDb252ZXJ0IHRvIHBlcmNlbnRhZ2UsIGFwcGx5IHN0ZXAsIHJldHVybiB0byB2YWx1ZS5cblx0XHRcdFx0XHRyZXR1cm4gc2NvcGVfU3BlY3RydW0uZnJvbVN0ZXBwaW5nKCBzY29wZV9TcGVjdHJ1bS5nZXRTdGVwKCBzY29wZV9TcGVjdHJ1bS50b1N0ZXBwaW5nKCB2YWx1ZSApICkgKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdH1cblxuXHRcdFx0Ly8gT3RoZXJ3aXNlLCB3ZSBjYW4gc2ltcGx5IHVzZSB0aGUgdmFsdWVzLlxuXHRcdFx0cmV0dXJuIHZhbHVlcztcblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBnZW5lcmF0ZVNwcmVhZCAoIGRlbnNpdHksIG1vZGUsIGdyb3VwICkge1xuXG5cdFx0ZnVuY3Rpb24gc2FmZUluY3JlbWVudCh2YWx1ZSwgaW5jcmVtZW50KSB7XG5cdFx0XHQvLyBBdm9pZCBmbG9hdGluZyBwb2ludCB2YXJpYW5jZSBieSBkcm9wcGluZyB0aGUgc21hbGxlc3QgZGVjaW1hbCBwbGFjZXMuXG5cdFx0XHRyZXR1cm4gKHZhbHVlICsgaW5jcmVtZW50KS50b0ZpeGVkKDcpIC8gMTtcblx0XHR9XG5cblx0XHR2YXIgaW5kZXhlcyA9IHt9O1xuXHRcdHZhciBmaXJzdEluUmFuZ2UgPSBzY29wZV9TcGVjdHJ1bS54VmFsWzBdO1xuXHRcdHZhciBsYXN0SW5SYW5nZSA9IHNjb3BlX1NwZWN0cnVtLnhWYWxbc2NvcGVfU3BlY3RydW0ueFZhbC5sZW5ndGgtMV07XG5cdFx0dmFyIGlnbm9yZUZpcnN0ID0gZmFsc2U7XG5cdFx0dmFyIGlnbm9yZUxhc3QgPSBmYWxzZTtcblx0XHR2YXIgcHJldlBjdCA9IDA7XG5cblx0XHQvLyBDcmVhdGUgYSBjb3B5IG9mIHRoZSBncm91cCwgc29ydCBpdCBhbmQgZmlsdGVyIGF3YXkgYWxsIGR1cGxpY2F0ZXMuXG5cdFx0Z3JvdXAgPSB1bmlxdWUoZ3JvdXAuc2xpY2UoKS5zb3J0KGZ1bmN0aW9uKGEsIGIpeyByZXR1cm4gYSAtIGI7IH0pKTtcblxuXHRcdC8vIE1ha2Ugc3VyZSB0aGUgcmFuZ2Ugc3RhcnRzIHdpdGggdGhlIGZpcnN0IGVsZW1lbnQuXG5cdFx0aWYgKCBncm91cFswXSAhPT0gZmlyc3RJblJhbmdlICkge1xuXHRcdFx0Z3JvdXAudW5zaGlmdChmaXJzdEluUmFuZ2UpO1xuXHRcdFx0aWdub3JlRmlyc3QgPSB0cnVlO1xuXHRcdH1cblxuXHRcdC8vIExpa2V3aXNlIGZvciB0aGUgbGFzdCBvbmUuXG5cdFx0aWYgKCBncm91cFtncm91cC5sZW5ndGggLSAxXSAhPT0gbGFzdEluUmFuZ2UgKSB7XG5cdFx0XHRncm91cC5wdXNoKGxhc3RJblJhbmdlKTtcblx0XHRcdGlnbm9yZUxhc3QgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGdyb3VwLmZvckVhY2goZnVuY3Rpb24gKCBjdXJyZW50LCBpbmRleCApIHtcblxuXHRcdFx0Ly8gR2V0IHRoZSBjdXJyZW50IHN0ZXAgYW5kIHRoZSBsb3dlciArIHVwcGVyIHBvc2l0aW9ucy5cblx0XHRcdHZhciBzdGVwO1xuXHRcdFx0dmFyIGk7XG5cdFx0XHR2YXIgcTtcblx0XHRcdHZhciBsb3cgPSBjdXJyZW50O1xuXHRcdFx0dmFyIGhpZ2ggPSBncm91cFtpbmRleCsxXTtcblx0XHRcdHZhciBuZXdQY3Q7XG5cdFx0XHR2YXIgcGN0RGlmZmVyZW5jZTtcblx0XHRcdHZhciBwY3RQb3M7XG5cdFx0XHR2YXIgdHlwZTtcblx0XHRcdHZhciBzdGVwcztcblx0XHRcdHZhciByZWFsU3RlcHM7XG5cdFx0XHR2YXIgc3RlcHNpemU7XG5cblx0XHRcdC8vIFdoZW4gdXNpbmcgJ3N0ZXBzJyBtb2RlLCB1c2UgdGhlIHByb3ZpZGVkIHN0ZXBzLlxuXHRcdFx0Ly8gT3RoZXJ3aXNlLCB3ZSdsbCBzdGVwIG9uIHRvIHRoZSBuZXh0IHN1YnJhbmdlLlxuXHRcdFx0aWYgKCBtb2RlID09PSAnc3RlcHMnICkge1xuXHRcdFx0XHRzdGVwID0gc2NvcGVfU3BlY3RydW0ueE51bVN0ZXBzWyBpbmRleCBdO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBEZWZhdWx0IHRvIGEgJ2Z1bGwnIHN0ZXAuXG5cdFx0XHRpZiAoICFzdGVwICkge1xuXHRcdFx0XHRzdGVwID0gaGlnaC1sb3c7XG5cdFx0XHR9XG5cblx0XHRcdC8vIExvdyBjYW4gYmUgMCwgc28gdGVzdCBmb3IgZmFsc2UuIElmIGhpZ2ggaXMgdW5kZWZpbmVkLFxuXHRcdFx0Ly8gd2UgYXJlIGF0IHRoZSBsYXN0IHN1YnJhbmdlLiBJbmRleCAwIGlzIGFscmVhZHkgaGFuZGxlZC5cblx0XHRcdGlmICggbG93ID09PSBmYWxzZSB8fCBoaWdoID09PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gTWFrZSBzdXJlIHN0ZXAgaXNuJ3QgMCwgd2hpY2ggd291bGQgY2F1c2UgYW4gaW5maW5pdGUgbG9vcCAoIzY1NClcblx0XHRcdHN0ZXAgPSBNYXRoLm1heChzdGVwLCAwLjAwMDAwMDEpO1xuXG5cdFx0XHQvLyBGaW5kIGFsbCBzdGVwcyBpbiB0aGUgc3VicmFuZ2UuXG5cdFx0XHRmb3IgKCBpID0gbG93OyBpIDw9IGhpZ2g7IGkgPSBzYWZlSW5jcmVtZW50KGksIHN0ZXApICkge1xuXG5cdFx0XHRcdC8vIEdldCB0aGUgcGVyY2VudGFnZSB2YWx1ZSBmb3IgdGhlIGN1cnJlbnQgc3RlcCxcblx0XHRcdFx0Ly8gY2FsY3VsYXRlIHRoZSBzaXplIGZvciB0aGUgc3VicmFuZ2UuXG5cdFx0XHRcdG5ld1BjdCA9IHNjb3BlX1NwZWN0cnVtLnRvU3RlcHBpbmcoIGkgKTtcblx0XHRcdFx0cGN0RGlmZmVyZW5jZSA9IG5ld1BjdCAtIHByZXZQY3Q7XG5cblx0XHRcdFx0c3RlcHMgPSBwY3REaWZmZXJlbmNlIC8gZGVuc2l0eTtcblx0XHRcdFx0cmVhbFN0ZXBzID0gTWF0aC5yb3VuZChzdGVwcyk7XG5cblx0XHRcdFx0Ly8gVGhpcyByYXRpbyByZXByZXNlbnRzIHRoZSBhbW1vdW50IG9mIHBlcmNlbnRhZ2Utc3BhY2UgYSBwb2ludCBpbmRpY2F0ZXMuXG5cdFx0XHRcdC8vIEZvciBhIGRlbnNpdHkgMSB0aGUgcG9pbnRzL3BlcmNlbnRhZ2UgPSAxLiBGb3IgZGVuc2l0eSAyLCB0aGF0IHBlcmNlbnRhZ2UgbmVlZHMgdG8gYmUgcmUtZGV2aWRlZC5cblx0XHRcdFx0Ly8gUm91bmQgdGhlIHBlcmNlbnRhZ2Ugb2Zmc2V0IHRvIGFuIGV2ZW4gbnVtYmVyLCB0aGVuIGRpdmlkZSBieSB0d29cblx0XHRcdFx0Ly8gdG8gc3ByZWFkIHRoZSBvZmZzZXQgb24gYm90aCBzaWRlcyBvZiB0aGUgcmFuZ2UuXG5cdFx0XHRcdHN0ZXBzaXplID0gcGN0RGlmZmVyZW5jZS9yZWFsU3RlcHM7XG5cblx0XHRcdFx0Ly8gRGl2aWRlIGFsbCBwb2ludHMgZXZlbmx5LCBhZGRpbmcgdGhlIGNvcnJlY3QgbnVtYmVyIHRvIHRoaXMgc3VicmFuZ2UuXG5cdFx0XHRcdC8vIFJ1biB1cCB0byA8PSBzbyB0aGF0IDEwMCUgZ2V0cyBhIHBvaW50LCBldmVudCBpZiBpZ25vcmVMYXN0IGlzIHNldC5cblx0XHRcdFx0Zm9yICggcSA9IDE7IHEgPD0gcmVhbFN0ZXBzOyBxICs9IDEgKSB7XG5cblx0XHRcdFx0XHQvLyBUaGUgcmF0aW8gYmV0d2VlbiB0aGUgcm91bmRlZCB2YWx1ZSBhbmQgdGhlIGFjdHVhbCBzaXplIG1pZ2h0IGJlIH4xJSBvZmYuXG5cdFx0XHRcdFx0Ly8gQ29ycmVjdCB0aGUgcGVyY2VudGFnZSBvZmZzZXQgYnkgdGhlIG51bWJlciBvZiBwb2ludHNcblx0XHRcdFx0XHQvLyBwZXIgc3VicmFuZ2UuIGRlbnNpdHkgPSAxIHdpbGwgcmVzdWx0IGluIDEwMCBwb2ludHMgb24gdGhlXG5cdFx0XHRcdFx0Ly8gZnVsbCByYW5nZSwgMiBmb3IgNTAsIDQgZm9yIDI1LCBldGMuXG5cdFx0XHRcdFx0cGN0UG9zID0gcHJldlBjdCArICggcSAqIHN0ZXBzaXplICk7XG5cdFx0XHRcdFx0aW5kZXhlc1twY3RQb3MudG9GaXhlZCg1KV0gPSBbJ3gnLCAwXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIERldGVybWluZSB0aGUgcG9pbnQgdHlwZS5cblx0XHRcdFx0dHlwZSA9IChncm91cC5pbmRleE9mKGkpID4gLTEpID8gMSA6ICggbW9kZSA9PT0gJ3N0ZXBzJyA/IDIgOiAwICk7XG5cblx0XHRcdFx0Ly8gRW5mb3JjZSB0aGUgJ2lnbm9yZUZpcnN0JyBvcHRpb24gYnkgb3ZlcndyaXRpbmcgdGhlIHR5cGUgZm9yIDAuXG5cdFx0XHRcdGlmICggIWluZGV4ICYmIGlnbm9yZUZpcnN0ICkge1xuXHRcdFx0XHRcdHR5cGUgPSAwO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCAhKGkgPT09IGhpZ2ggJiYgaWdub3JlTGFzdCkpIHtcblx0XHRcdFx0XHQvLyBNYXJrIHRoZSAndHlwZScgb2YgdGhpcyBwb2ludC4gMCA9IHBsYWluLCAxID0gcmVhbCB2YWx1ZSwgMiA9IHN0ZXAgdmFsdWUuXG5cdFx0XHRcdFx0aW5kZXhlc1tuZXdQY3QudG9GaXhlZCg1KV0gPSBbaSwgdHlwZV07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBVcGRhdGUgdGhlIHBlcmNlbnRhZ2UgY291bnQuXG5cdFx0XHRcdHByZXZQY3QgPSBuZXdQY3Q7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gaW5kZXhlcztcblx0fVxuXG5cdGZ1bmN0aW9uIGFkZE1hcmtpbmcgKCBzcHJlYWQsIGZpbHRlckZ1bmMsIGZvcm1hdHRlciApIHtcblxuXHRcdHZhciBlbGVtZW50ID0gc2NvcGVfRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5cblx0XHR2YXIgdmFsdWVTaXplQ2xhc3NlcyA9IFtcblx0XHRcdG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZU5vcm1hbCxcblx0XHRcdG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZUxhcmdlLFxuXHRcdFx0b3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlU3ViXG5cdFx0XTtcblx0XHR2YXIgbWFya2VyU2l6ZUNsYXNzZXMgPSBbXG5cdFx0XHRvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyTm9ybWFsLFxuXHRcdFx0b3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlckxhcmdlLFxuXHRcdFx0b3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlclN1YlxuXHRcdF07XG5cdFx0dmFyIHZhbHVlT3JpZW50YXRpb25DbGFzc2VzID0gW1xuXHRcdFx0b3B0aW9ucy5jc3NDbGFzc2VzLnZhbHVlSG9yaXpvbnRhbCxcblx0XHRcdG9wdGlvbnMuY3NzQ2xhc3Nlcy52YWx1ZVZlcnRpY2FsXG5cdFx0XTtcblx0XHR2YXIgbWFya2VyT3JpZW50YXRpb25DbGFzc2VzID0gW1xuXHRcdFx0b3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlckhvcml6b250YWwsXG5cdFx0XHRvcHRpb25zLmNzc0NsYXNzZXMubWFya2VyVmVydGljYWxcblx0XHRdO1xuXG5cdFx0YWRkQ2xhc3MoZWxlbWVudCwgb3B0aW9ucy5jc3NDbGFzc2VzLnBpcHMpO1xuXHRcdGFkZENsYXNzKGVsZW1lbnQsIG9wdGlvbnMub3J0ID09PSAwID8gb3B0aW9ucy5jc3NDbGFzc2VzLnBpcHNIb3Jpem9udGFsIDogb3B0aW9ucy5jc3NDbGFzc2VzLnBpcHNWZXJ0aWNhbCk7XG5cblx0XHRmdW5jdGlvbiBnZXRDbGFzc2VzKCB0eXBlLCBzb3VyY2UgKXtcblx0XHRcdHZhciBhID0gc291cmNlID09PSBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWU7XG5cdFx0XHR2YXIgb3JpZW50YXRpb25DbGFzc2VzID0gYSA/IHZhbHVlT3JpZW50YXRpb25DbGFzc2VzIDogbWFya2VyT3JpZW50YXRpb25DbGFzc2VzO1xuXHRcdFx0dmFyIHNpemVDbGFzc2VzID0gYSA/IHZhbHVlU2l6ZUNsYXNzZXMgOiBtYXJrZXJTaXplQ2xhc3NlcztcblxuXHRcdFx0cmV0dXJuIHNvdXJjZSArICcgJyArIG9yaWVudGF0aW9uQ2xhc3Nlc1tvcHRpb25zLm9ydF0gKyAnICcgKyBzaXplQ2xhc3Nlc1t0eXBlXTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBhZGRTcHJlYWQgKCBvZmZzZXQsIHZhbHVlcyApe1xuXG5cdFx0XHQvLyBBcHBseSB0aGUgZmlsdGVyIGZ1bmN0aW9uLCBpZiBpdCBpcyBzZXQuXG5cdFx0XHR2YWx1ZXNbMV0gPSAodmFsdWVzWzFdICYmIGZpbHRlckZ1bmMpID8gZmlsdGVyRnVuYyh2YWx1ZXNbMF0sIHZhbHVlc1sxXSkgOiB2YWx1ZXNbMV07XG5cblx0XHRcdC8vIEFkZCBhIG1hcmtlciBmb3IgZXZlcnkgcG9pbnRcblx0XHRcdHZhciBub2RlID0gYWRkTm9kZVRvKGVsZW1lbnQsIGZhbHNlKTtcblx0XHRcdFx0bm9kZS5jbGFzc05hbWUgPSBnZXRDbGFzc2VzKHZhbHVlc1sxXSwgb3B0aW9ucy5jc3NDbGFzc2VzLm1hcmtlcik7XG5cdFx0XHRcdG5vZGUuc3R5bGVbb3B0aW9ucy5zdHlsZV0gPSBvZmZzZXQgKyAnJSc7XG5cblx0XHRcdC8vIFZhbHVlcyBhcmUgb25seSBhcHBlbmRlZCBmb3IgcG9pbnRzIG1hcmtlZCAnMScgb3IgJzInLlxuXHRcdFx0aWYgKCB2YWx1ZXNbMV0gKSB7XG5cdFx0XHRcdG5vZGUgPSBhZGROb2RlVG8oZWxlbWVudCwgZmFsc2UpO1xuXHRcdFx0XHRub2RlLmNsYXNzTmFtZSA9IGdldENsYXNzZXModmFsdWVzWzFdLCBvcHRpb25zLmNzc0NsYXNzZXMudmFsdWUpO1xuXHRcdFx0XHRub2RlLnN0eWxlW29wdGlvbnMuc3R5bGVdID0gb2Zmc2V0ICsgJyUnO1xuXHRcdFx0XHRub2RlLmlubmVyVGV4dCA9IGZvcm1hdHRlci50byh2YWx1ZXNbMF0pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIEFwcGVuZCBhbGwgcG9pbnRzLlxuXHRcdE9iamVjdC5rZXlzKHNwcmVhZCkuZm9yRWFjaChmdW5jdGlvbihhKXtcblx0XHRcdGFkZFNwcmVhZChhLCBzcHJlYWRbYV0pO1xuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIGVsZW1lbnQ7XG5cdH1cblxuXHRmdW5jdGlvbiByZW1vdmVQaXBzICggKSB7XG5cdFx0aWYgKCBzY29wZV9QaXBzICkge1xuXHRcdFx0cmVtb3ZlRWxlbWVudChzY29wZV9QaXBzKTtcblx0XHRcdHNjb3BlX1BpcHMgPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIHBpcHMgKCBncmlkICkge1xuXG5cdFx0Ly8gRml4ICM2Njlcblx0XHRyZW1vdmVQaXBzKCk7XG5cblx0XHR2YXIgbW9kZSA9IGdyaWQubW9kZTtcblx0XHR2YXIgZGVuc2l0eSA9IGdyaWQuZGVuc2l0eSB8fCAxO1xuXHRcdHZhciBmaWx0ZXIgPSBncmlkLmZpbHRlciB8fCBmYWxzZTtcblx0XHR2YXIgdmFsdWVzID0gZ3JpZC52YWx1ZXMgfHwgZmFsc2U7XG5cdFx0dmFyIHN0ZXBwZWQgPSBncmlkLnN0ZXBwZWQgfHwgZmFsc2U7XG5cdFx0dmFyIGdyb3VwID0gZ2V0R3JvdXAoIG1vZGUsIHZhbHVlcywgc3RlcHBlZCApO1xuXHRcdHZhciBzcHJlYWQgPSBnZW5lcmF0ZVNwcmVhZCggZGVuc2l0eSwgbW9kZSwgZ3JvdXAgKTtcblx0XHR2YXIgZm9ybWF0ID0gZ3JpZC5mb3JtYXQgfHwge1xuXHRcdFx0dG86IE1hdGgucm91bmRcblx0XHR9O1xuXG5cdFx0c2NvcGVfUGlwcyA9IHNjb3BlX1RhcmdldC5hcHBlbmRDaGlsZChhZGRNYXJraW5nKFxuXHRcdFx0c3ByZWFkLFxuXHRcdFx0ZmlsdGVyLFxuXHRcdFx0Zm9ybWF0XG5cdFx0KSk7XG5cblx0XHRyZXR1cm4gc2NvcGVfUGlwcztcblx0fVxuXG5cblx0Ly8gU2hvcnRoYW5kIGZvciBiYXNlIGRpbWVuc2lvbnMuXG5cdGZ1bmN0aW9uIGJhc2VTaXplICggKSB7XG5cdFx0dmFyIHJlY3QgPSBzY29wZV9CYXNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCBhbHQgPSAnb2Zmc2V0JyArIFsnV2lkdGgnLCAnSGVpZ2h0J11bb3B0aW9ucy5vcnRdO1xuXHRcdHJldHVybiBvcHRpb25zLm9ydCA9PT0gMCA/IChyZWN0LndpZHRofHxzY29wZV9CYXNlW2FsdF0pIDogKHJlY3QuaGVpZ2h0fHxzY29wZV9CYXNlW2FsdF0pO1xuXHR9XG5cblx0Ly8gSGFuZGxlciBmb3IgYXR0YWNoaW5nIGV2ZW50cyB0cm91Z2ggYSBwcm94eS5cblx0ZnVuY3Rpb24gYXR0YWNoRXZlbnQgKCBldmVudHMsIGVsZW1lbnQsIGNhbGxiYWNrLCBkYXRhICkge1xuXG5cdFx0Ly8gVGhpcyBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byAnZmlsdGVyJyBldmVudHMgdG8gdGhlIHNsaWRlci5cblx0XHQvLyBlbGVtZW50IGlzIGEgbm9kZSwgbm90IGEgbm9kZUxpc3RcblxuXHRcdHZhciBtZXRob2QgPSBmdW5jdGlvbiAoIGUgKXtcblxuXHRcdFx0aWYgKCBzY29wZV9UYXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFN0b3AgaWYgYW4gYWN0aXZlICd0YXAnIHRyYW5zaXRpb24gaXMgdGFraW5nIHBsYWNlLlxuXHRcdFx0aWYgKCBoYXNDbGFzcyhzY29wZV9UYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlcy50YXApICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGUgPSBmaXhFdmVudChlLCBkYXRhLnBhZ2VPZmZzZXQsIGRhdGEudGFyZ2V0IHx8IGVsZW1lbnQpO1xuXG5cdFx0XHQvLyBIYW5kbGUgcmVqZWN0IG9mIG11bHRpdG91Y2hcblx0XHRcdGlmICggIWUgKSB7XG5cdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gSWdub3JlIHJpZ2h0IG9yIG1pZGRsZSBjbGlja3Mgb24gc3RhcnQgIzQ1NFxuXHRcdFx0aWYgKCBldmVudHMgPT09IGFjdGlvbnMuc3RhcnQgJiYgZS5idXR0b25zICE9PSB1bmRlZmluZWQgJiYgZS5idXR0b25zID4gMSApIHtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZ25vcmUgcmlnaHQgb3IgbWlkZGxlIGNsaWNrcyBvbiBzdGFydCAjNDU0XG5cdFx0XHRpZiAoIGRhdGEuaG92ZXIgJiYgZS5idXR0b25zICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vICdzdXBwb3J0c1Bhc3NpdmUnIGlzIG9ubHkgdHJ1ZSBpZiBhIGJyb3dzZXIgYWxzbyBzdXBwb3J0cyB0b3VjaC1hY3Rpb246IG5vbmUgaW4gQ1NTLlxuXHRcdFx0Ly8gaU9TIHNhZmFyaSBkb2VzIG5vdCwgc28gaXQgZG9lc24ndCBnZXQgdG8gYmVuZWZpdCBmcm9tIHBhc3NpdmUgc2Nyb2xsaW5nLiBpT1MgZG9lcyBzdXBwb3J0XG5cdFx0XHQvLyB0b3VjaC1hY3Rpb246IG1hbmlwdWxhdGlvbiwgYnV0IHRoYXQgYWxsb3dzIHBhbm5pbmcsIHdoaWNoIGJyZWFrc1xuXHRcdFx0Ly8gc2xpZGVycyBhZnRlciB6b29taW5nL29uIG5vbi1yZXNwb25zaXZlIHBhZ2VzLlxuXHRcdFx0Ly8gU2VlOiBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTMzMTEyXG5cdFx0XHRpZiAoICFzdXBwb3J0c1Bhc3NpdmUgKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH1cblxuXHRcdFx0ZS5jYWxjUG9pbnQgPSBlLnBvaW50c1sgb3B0aW9ucy5vcnQgXTtcblxuXHRcdFx0Ly8gQ2FsbCB0aGUgZXZlbnQgaGFuZGxlciB3aXRoIHRoZSBldmVudCBbIGFuZCBhZGRpdGlvbmFsIGRhdGEgXS5cblx0XHRcdGNhbGxiYWNrICggZSwgZGF0YSApO1xuXHRcdH07XG5cblx0XHR2YXIgbWV0aG9kcyA9IFtdO1xuXG5cdFx0Ly8gQmluZCBhIGNsb3N1cmUgb24gdGhlIHRhcmdldCBmb3IgZXZlcnkgZXZlbnQgdHlwZS5cblx0XHRldmVudHMuc3BsaXQoJyAnKS5mb3JFYWNoKGZ1bmN0aW9uKCBldmVudE5hbWUgKXtcblx0XHRcdGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIG1ldGhvZCwgc3VwcG9ydHNQYXNzaXZlID8geyBwYXNzaXZlOiB0cnVlIH0gOiBmYWxzZSk7XG5cdFx0XHRtZXRob2RzLnB1c2goW2V2ZW50TmFtZSwgbWV0aG9kXSk7XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gbWV0aG9kcztcblx0fVxuXG5cdC8vIFByb3ZpZGUgYSBjbGVhbiBldmVudCB3aXRoIHN0YW5kYXJkaXplZCBvZmZzZXQgdmFsdWVzLlxuXHRmdW5jdGlvbiBmaXhFdmVudCAoIGUsIHBhZ2VPZmZzZXQsIHRhcmdldCApIHtcblxuXHRcdC8vIEZpbHRlciB0aGUgZXZlbnQgdG8gcmVnaXN0ZXIgdGhlIHR5cGUsIHdoaWNoIGNhbiBiZVxuXHRcdC8vIHRvdWNoLCBtb3VzZSBvciBwb2ludGVyLiBPZmZzZXQgY2hhbmdlcyBuZWVkIHRvIGJlXG5cdFx0Ly8gbWFkZSBvbiBhbiBldmVudCBzcGVjaWZpYyBiYXNpcy5cblx0XHR2YXIgdG91Y2ggPSBlLnR5cGUuaW5kZXhPZigndG91Y2gnKSA9PT0gMDtcblx0XHR2YXIgbW91c2UgPSBlLnR5cGUuaW5kZXhPZignbW91c2UnKSA9PT0gMDtcblx0XHR2YXIgcG9pbnRlciA9IGUudHlwZS5pbmRleE9mKCdwb2ludGVyJykgPT09IDA7XG5cblx0XHR2YXIgeDtcblx0XHR2YXIgeTtcblxuXHRcdC8vIElFMTAgaW1wbGVtZW50ZWQgcG9pbnRlciBldmVudHMgd2l0aCBhIHByZWZpeDtcblx0XHRpZiAoIGUudHlwZS5pbmRleE9mKCdNU1BvaW50ZXInKSA9PT0gMCApIHtcblx0XHRcdHBvaW50ZXIgPSB0cnVlO1xuXHRcdH1cblxuXG5cdFx0Ly8gSW4gdGhlIGV2ZW50IHRoYXQgbXVsdGl0b3VjaCBpcyBhY3RpdmF0ZWQsIHRoZSBvbmx5IHRoaW5nIG9uZSBoYW5kbGUgc2hvdWxkIGJlIGNvbmNlcm5lZFxuXHRcdC8vIGFib3V0IGlzIHRoZSB0b3VjaGVzIHRoYXQgb3JpZ2luYXRlZCBvbiB0b3Agb2YgaXQuXG5cdFx0aWYgKCB0b3VjaCAmJiBvcHRpb25zLm11bHRpdG91Y2ggKSB7XG5cdFx0XHQvLyBSZXR1cm5zIHRydWUgaWYgYSB0b3VjaCBvcmlnaW5hdGVkIG9uIHRoZSB0YXJnZXQuXG5cdFx0XHR2YXIgaXNUb3VjaE9uVGFyZ2V0ID0gZnVuY3Rpb24gKHRvdWNoKSB7XG5cdFx0XHRcdHJldHVybiB0b3VjaC50YXJnZXQgPT09IHRhcmdldCB8fCB0YXJnZXQuY29udGFpbnModG91Y2gudGFyZ2V0KTtcblx0XHRcdH07XG5cdFx0XHQvLyBJbiB0aGUgY2FzZSBvZiB0b3VjaHN0YXJ0IGV2ZW50cywgd2UgbmVlZCB0byBtYWtlIHN1cmUgdGhlcmUgaXMgc3RpbGwgbm8gbW9yZSB0aGFuIG9uZVxuXHRcdFx0Ly8gdG91Y2ggb24gdGhlIHRhcmdldCBzbyB3ZSBsb29rIGFtb25nc3QgYWxsIHRvdWNoZXMuXG5cdFx0XHRpZiAoZS50eXBlID09PSAndG91Y2hzdGFydCcpIHtcblx0XHRcdFx0dmFyIHRhcmdldFRvdWNoZXMgPSBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoZS50b3VjaGVzLCBpc1RvdWNoT25UYXJnZXQpO1xuXHRcdFx0XHQvLyBEbyBub3Qgc3VwcG9ydCBtb3JlIHRoYW4gb25lIHRvdWNoIHBlciBoYW5kbGUuXG5cdFx0XHRcdGlmICggdGFyZ2V0VG91Y2hlcy5sZW5ndGggPiAxICkge1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0XHR4ID0gdGFyZ2V0VG91Y2hlc1swXS5wYWdlWDtcblx0XHRcdFx0eSA9IHRhcmdldFRvdWNoZXNbMF0ucGFnZVk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gSW4gdGhlIG90aGVyIGNhc2VzLCBmaW5kIG9uIGNoYW5nZWRUb3VjaGVzIGlzIGVub3VnaC5cblx0XHRcdFx0dmFyIHRhcmdldFRvdWNoID0gQXJyYXkucHJvdG90eXBlLmZpbmQuY2FsbChlLmNoYW5nZWRUb3VjaGVzLCBpc1RvdWNoT25UYXJnZXQpO1xuXHRcdFx0XHQvLyBDYW5jZWwgaWYgdGhlIHRhcmdldCB0b3VjaCBoYXMgbm90IG1vdmVkLlxuXHRcdFx0XHRpZiAoICF0YXJnZXRUb3VjaCApIHtcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdH1cblx0XHRcdFx0eCA9IHRhcmdldFRvdWNoLnBhZ2VYO1xuXHRcdFx0XHR5ID0gdGFyZ2V0VG91Y2gucGFnZVk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIGlmICggdG91Y2ggKSB7XG5cdFx0XHQvLyBGaXggYnVnIHdoZW4gdXNlciB0b3VjaGVzIHdpdGggdHdvIG9yIG1vcmUgZmluZ2VycyBvbiBtb2JpbGUgZGV2aWNlcy5cblx0XHRcdC8vIEl0J3MgdXNlZnVsIHdoZW4geW91IGhhdmUgdHdvIG9yIG1vcmUgc2xpZGVycyBvbiBvbmUgcGFnZSxcblx0XHRcdC8vIHRoYXQgY2FuIGJlIHRvdWNoZWQgc2ltdWx0YW5lb3VzbHkuXG5cdFx0XHQvLyAjNjQ5LCAjNjYzLCAjNjY4XG5cdFx0XHRpZiAoIGUudG91Y2hlcy5sZW5ndGggPiAxICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdC8vIG5vVWlTbGlkZXIgc3VwcG9ydHMgb25lIG1vdmVtZW50IGF0IGEgdGltZSxcblx0XHRcdC8vIHNvIHdlIGNhbiBzZWxlY3QgdGhlIGZpcnN0ICdjaGFuZ2VkVG91Y2gnLlxuXHRcdFx0eCA9IGUuY2hhbmdlZFRvdWNoZXNbMF0ucGFnZVg7XG5cdFx0XHR5ID0gZS5jaGFuZ2VkVG91Y2hlc1swXS5wYWdlWTtcblx0XHR9XG5cblx0XHRwYWdlT2Zmc2V0ID0gcGFnZU9mZnNldCB8fCBnZXRQYWdlT2Zmc2V0KHNjb3BlX0RvY3VtZW50KTtcblxuXHRcdGlmICggbW91c2UgfHwgcG9pbnRlciApIHtcblx0XHRcdHggPSBlLmNsaWVudFggKyBwYWdlT2Zmc2V0Lng7XG5cdFx0XHR5ID0gZS5jbGllbnRZICsgcGFnZU9mZnNldC55O1xuXHRcdH1cblxuXHRcdGUucGFnZU9mZnNldCA9IHBhZ2VPZmZzZXQ7XG5cdFx0ZS5wb2ludHMgPSBbeCwgeV07XG5cdFx0ZS5jdXJzb3IgPSBtb3VzZSB8fCBwb2ludGVyOyAvLyBGaXggIzQzNVxuXG5cdFx0cmV0dXJuIGU7XG5cdH1cblxuXHQvLyBUcmFuc2xhdGUgYSBjb29yZGluYXRlIGluIHRoZSBkb2N1bWVudCB0byBhIHBlcmNlbnRhZ2Ugb24gdGhlIHNsaWRlclxuXHRmdW5jdGlvbiBjYWxjUG9pbnRUb1BlcmNlbnRhZ2UgKCBjYWxjUG9pbnQgKSB7XG5cdFx0dmFyIGxvY2F0aW9uID0gY2FsY1BvaW50IC0gb2Zmc2V0KHNjb3BlX0Jhc2UsIG9wdGlvbnMub3J0KTtcblx0XHR2YXIgcHJvcG9zYWwgPSAoIGxvY2F0aW9uICogMTAwICkgLyBiYXNlU2l6ZSgpO1xuXHRcdHJldHVybiBvcHRpb25zLmRpciA/IDEwMCAtIHByb3Bvc2FsIDogcHJvcG9zYWw7XG5cdH1cblxuXHQvLyBGaW5kIGhhbmRsZSBjbG9zZXN0IHRvIGEgY2VydGFpbiBwZXJjZW50YWdlIG9uIHRoZSBzbGlkZXJcblx0ZnVuY3Rpb24gZ2V0Q2xvc2VzdEhhbmRsZSAoIHByb3Bvc2FsICkge1xuXG5cdFx0dmFyIGNsb3Nlc3QgPSAxMDA7XG5cdFx0dmFyIGhhbmRsZU51bWJlciA9IGZhbHNlO1xuXG5cdFx0c2NvcGVfSGFuZGxlcy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZSwgaW5kZXgpe1xuXG5cdFx0XHQvLyBEaXNhYmxlZCBoYW5kbGVzIGFyZSBpZ25vcmVkXG5cdFx0XHRpZiAoIGhhbmRsZS5oYXNBdHRyaWJ1dGUoJ2Rpc2FibGVkJykgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHBvcyA9IE1hdGguYWJzKHNjb3BlX0xvY2F0aW9uc1tpbmRleF0gLSBwcm9wb3NhbCk7XG5cblx0XHRcdGlmICggcG9zIDwgY2xvc2VzdCApIHtcblx0XHRcdFx0aGFuZGxlTnVtYmVyID0gaW5kZXg7XG5cdFx0XHRcdGNsb3Nlc3QgPSBwb3M7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gaGFuZGxlTnVtYmVyO1xuXHR9XG5cblx0Ly8gTW92ZXMgaGFuZGxlKHMpIGJ5IGEgcGVyY2VudGFnZVxuXHQvLyAoYm9vbCwgJSB0byBtb3ZlLCBbJSB3aGVyZSBoYW5kbGUgc3RhcnRlZCwgLi4uXSwgW2luZGV4IGluIHNjb3BlX0hhbmRsZXMsIC4uLl0pXG5cdGZ1bmN0aW9uIG1vdmVIYW5kbGVzICggdXB3YXJkLCBwcm9wb3NhbCwgbG9jYXRpb25zLCBoYW5kbGVOdW1iZXJzICkge1xuXG5cdFx0dmFyIHByb3Bvc2FscyA9IGxvY2F0aW9ucy5zbGljZSgpO1xuXG5cdFx0dmFyIGIgPSBbIXVwd2FyZCwgdXB3YXJkXTtcblx0XHR2YXIgZiA9IFt1cHdhcmQsICF1cHdhcmRdO1xuXG5cdFx0Ly8gQ29weSBoYW5kbGVOdW1iZXJzIHNvIHdlIGRvbid0IGNoYW5nZSB0aGUgZGF0YXNldFxuXHRcdGhhbmRsZU51bWJlcnMgPSBoYW5kbGVOdW1iZXJzLnNsaWNlKCk7XG5cblx0XHQvLyBDaGVjayB0byBzZWUgd2hpY2ggaGFuZGxlIGlzICdsZWFkaW5nJy5cblx0XHQvLyBJZiB0aGF0IG9uZSBjYW4ndCBtb3ZlIHRoZSBzZWNvbmQgY2FuJ3QgZWl0aGVyLlxuXHRcdGlmICggdXB3YXJkICkge1xuXHRcdFx0aGFuZGxlTnVtYmVycy5yZXZlcnNlKCk7XG5cdFx0fVxuXG5cdFx0Ly8gU3RlcCAxOiBnZXQgdGhlIG1heGltdW0gcGVyY2VudGFnZSB0aGF0IGFueSBvZiB0aGUgaGFuZGxlcyBjYW4gbW92ZVxuXHRcdGlmICggaGFuZGxlTnVtYmVycy5sZW5ndGggPiAxICkge1xuXG5cdFx0XHRoYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyLCBvKSB7XG5cblx0XHRcdFx0dmFyIHRvID0gY2hlY2tIYW5kbGVQb3NpdGlvbihwcm9wb3NhbHMsIGhhbmRsZU51bWJlciwgcHJvcG9zYWxzW2hhbmRsZU51bWJlcl0gKyBwcm9wb3NhbCwgYltvXSwgZltvXSwgZmFsc2UpO1xuXG5cdFx0XHRcdC8vIFN0b3AgaWYgb25lIG9mIHRoZSBoYW5kbGVzIGNhbid0IG1vdmUuXG5cdFx0XHRcdGlmICggdG8gPT09IGZhbHNlICkge1xuXHRcdFx0XHRcdHByb3Bvc2FsID0gMDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRwcm9wb3NhbCA9IHRvIC0gcHJvcG9zYWxzW2hhbmRsZU51bWJlcl07XG5cdFx0XHRcdFx0cHJvcG9zYWxzW2hhbmRsZU51bWJlcl0gPSB0bztcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Ly8gSWYgdXNpbmcgb25lIGhhbmRsZSwgY2hlY2sgYmFja3dhcmQgQU5EIGZvcndhcmRcblx0XHRlbHNlIHtcblx0XHRcdGIgPSBmID0gW3RydWVdO1xuXHRcdH1cblxuXHRcdHZhciBzdGF0ZSA9IGZhbHNlO1xuXG5cdFx0Ly8gU3RlcCAyOiBUcnkgdG8gc2V0IHRoZSBoYW5kbGVzIHdpdGggdGhlIGZvdW5kIHBlcmNlbnRhZ2Vcblx0XHRoYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyLCBvKSB7XG5cdFx0XHRzdGF0ZSA9IHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIGxvY2F0aW9uc1toYW5kbGVOdW1iZXJdICsgcHJvcG9zYWwsIGJbb10sIGZbb10pIHx8IHN0YXRlO1xuXHRcdH0pO1xuXG5cdFx0Ly8gU3RlcCAzOiBJZiBhIGhhbmRsZSBtb3ZlZCwgZmlyZSBldmVudHNcblx0XHRpZiAoIHN0YXRlICkge1xuXHRcdFx0aGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcil7XG5cdFx0XHRcdGZpcmVFdmVudCgndXBkYXRlJywgaGFuZGxlTnVtYmVyKTtcblx0XHRcdFx0ZmlyZUV2ZW50KCdzbGlkZScsIGhhbmRsZU51bWJlcik7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvLyBFeHRlcm5hbCBldmVudCBoYW5kbGluZ1xuXHRmdW5jdGlvbiBmaXJlRXZlbnQgKCBldmVudE5hbWUsIGhhbmRsZU51bWJlciwgdGFwICkge1xuXG5cdFx0T2JqZWN0LmtleXMoc2NvcGVfRXZlbnRzKS5mb3JFYWNoKGZ1bmN0aW9uKCB0YXJnZXRFdmVudCApIHtcblxuXHRcdFx0dmFyIGV2ZW50VHlwZSA9IHRhcmdldEV2ZW50LnNwbGl0KCcuJylbMF07XG5cblx0XHRcdGlmICggZXZlbnROYW1lID09PSBldmVudFR5cGUgKSB7XG5cdFx0XHRcdHNjb3BlX0V2ZW50c1t0YXJnZXRFdmVudF0uZm9yRWFjaChmdW5jdGlvbiggY2FsbGJhY2sgKSB7XG5cblx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKFxuXHRcdFx0XHRcdFx0Ly8gVXNlIHRoZSBzbGlkZXIgcHVibGljIEFQSSBhcyB0aGUgc2NvcGUgKCd0aGlzJylcblx0XHRcdFx0XHRcdHNjb3BlX1NlbGYsXG5cdFx0XHRcdFx0XHQvLyBSZXR1cm4gdmFsdWVzIGFzIGFycmF5LCBzbyBhcmdfMVthcmdfMl0gaXMgYWx3YXlzIHZhbGlkLlxuXHRcdFx0XHRcdFx0c2NvcGVfVmFsdWVzLm1hcChvcHRpb25zLmZvcm1hdC50byksXG5cdFx0XHRcdFx0XHQvLyBIYW5kbGUgaW5kZXgsIDAgb3IgMVxuXHRcdFx0XHRcdFx0aGFuZGxlTnVtYmVyLFxuXHRcdFx0XHRcdFx0Ly8gVW5mb3JtYXR0ZWQgc2xpZGVyIHZhbHVlc1xuXHRcdFx0XHRcdFx0c2NvcGVfVmFsdWVzLnNsaWNlKCksXG5cdFx0XHRcdFx0XHQvLyBFdmVudCBpcyBmaXJlZCBieSB0YXAsIHRydWUgb3IgZmFsc2Vcblx0XHRcdFx0XHRcdHRhcCB8fCBmYWxzZSxcblx0XHRcdFx0XHRcdC8vIExlZnQgb2Zmc2V0IG9mIHRoZSBoYW5kbGUsIGluIHJlbGF0aW9uIHRvIHRoZSBzbGlkZXJcblx0XHRcdFx0XHRcdHNjb3BlX0xvY2F0aW9ucy5zbGljZSgpXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXG5cdC8vIEZpcmUgJ2VuZCcgd2hlbiBhIG1vdXNlIG9yIHBlbiBsZWF2ZXMgdGhlIGRvY3VtZW50LlxuXHRmdW5jdGlvbiBkb2N1bWVudExlYXZlICggZXZlbnQsIGRhdGEgKSB7XG5cdFx0aWYgKCBldmVudC50eXBlID09PSBcIm1vdXNlb3V0XCIgJiYgZXZlbnQudGFyZ2V0Lm5vZGVOYW1lID09PSBcIkhUTUxcIiAmJiBldmVudC5yZWxhdGVkVGFyZ2V0ID09PSBudWxsICl7XG5cdFx0XHRldmVudEVuZCAoZXZlbnQsIGRhdGEpO1xuXHRcdH1cblx0fVxuXG5cdC8vIEhhbmRsZSBtb3ZlbWVudCBvbiBkb2N1bWVudCBmb3IgaGFuZGxlIGFuZCByYW5nZSBkcmFnLlxuXHRmdW5jdGlvbiBldmVudE1vdmUgKCBldmVudCwgZGF0YSApIHtcblxuXHRcdC8vIEZpeCAjNDk4XG5cdFx0Ly8gQ2hlY2sgdmFsdWUgb2YgLmJ1dHRvbnMgaW4gJ3N0YXJ0JyB0byB3b3JrIGFyb3VuZCBhIGJ1ZyBpbiBJRTEwIG1vYmlsZSAoZGF0YS5idXR0b25zUHJvcGVydHkpLlxuXHRcdC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvOTI3MDA1L21vYmlsZS1pZTEwLXdpbmRvd3MtcGhvbmUtYnV0dG9ucy1wcm9wZXJ0eS1vZi1wb2ludGVybW92ZS1ldmVudC1hbHdheXMtemVyb1xuXHRcdC8vIElFOSBoYXMgLmJ1dHRvbnMgYW5kIC53aGljaCB6ZXJvIG9uIG1vdXNlbW92ZS5cblx0XHQvLyBGaXJlZm94IGJyZWFrcyB0aGUgc3BlYyBNRE4gZGVmaW5lcy5cblx0XHRpZiAoIG5hdmlnYXRvci5hcHBWZXJzaW9uLmluZGV4T2YoXCJNU0lFIDlcIikgPT09IC0xICYmIGV2ZW50LmJ1dHRvbnMgPT09IDAgJiYgZGF0YS5idXR0b25zUHJvcGVydHkgIT09IDAgKSB7XG5cdFx0XHRyZXR1cm4gZXZlbnRFbmQoZXZlbnQsIGRhdGEpO1xuXHRcdH1cblxuXHRcdC8vIENoZWNrIGlmIHdlIGFyZSBtb3ZpbmcgdXAgb3IgZG93blxuXHRcdHZhciBtb3ZlbWVudCA9IChvcHRpb25zLmRpciA/IC0xIDogMSkgKiAoZXZlbnQuY2FsY1BvaW50IC0gZGF0YS5zdGFydENhbGNQb2ludCk7XG5cblx0XHQvLyBDb252ZXJ0IHRoZSBtb3ZlbWVudCBpbnRvIGEgcGVyY2VudGFnZSBvZiB0aGUgc2xpZGVyIHdpZHRoL2hlaWdodFxuXHRcdHZhciBwcm9wb3NhbCA9IChtb3ZlbWVudCAqIDEwMCkgLyBkYXRhLmJhc2VTaXplO1xuXG5cdFx0bW92ZUhhbmRsZXMobW92ZW1lbnQgPiAwLCBwcm9wb3NhbCwgZGF0YS5sb2NhdGlvbnMsIGRhdGEuaGFuZGxlTnVtYmVycyk7XG5cdH1cblxuXHQvLyBVbmJpbmQgbW92ZSBldmVudHMgb24gZG9jdW1lbnQsIGNhbGwgY2FsbGJhY2tzLlxuXHRmdW5jdGlvbiBldmVudEVuZCAoIGV2ZW50LCBkYXRhICkge1xuXG5cdFx0Ly8gVGhlIGhhbmRsZSBpcyBubyBsb25nZXIgYWN0aXZlLCBzbyByZW1vdmUgdGhlIGNsYXNzLlxuXHRcdGlmICggZGF0YS5oYW5kbGUgKSB7XG5cdFx0XHRyZW1vdmVDbGFzcyhkYXRhLmhhbmRsZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmFjdGl2ZSk7XG5cdFx0XHRzY29wZV9BY3RpdmVIYW5kbGVzQ291bnQgLT0gMTtcblx0XHR9XG5cblx0XHQvLyBVbmJpbmQgdGhlIG1vdmUgYW5kIGVuZCBldmVudHMsIHdoaWNoIGFyZSBhZGRlZCBvbiAnc3RhcnQnLlxuXHRcdGRhdGEubGlzdGVuZXJzLmZvckVhY2goZnVuY3Rpb24oIGMgKSB7XG5cdFx0XHRzY29wZV9Eb2N1bWVudEVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihjWzBdLCBjWzFdKTtcblx0XHR9KTtcblxuXHRcdGlmICggc2NvcGVfQWN0aXZlSGFuZGxlc0NvdW50ID09PSAwICkge1xuXHRcdFx0Ly8gUmVtb3ZlIGRyYWdnaW5nIGNsYXNzLlxuXHRcdFx0cmVtb3ZlQ2xhc3Moc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMuZHJhZyk7XG5cdFx0XHRzZXRaaW5kZXgoKTtcblxuXHRcdFx0Ly8gUmVtb3ZlIGN1cnNvciBzdHlsZXMgYW5kIHRleHQtc2VsZWN0aW9uIGV2ZW50cyBib3VuZCB0byB0aGUgYm9keS5cblx0XHRcdGlmICggZXZlbnQuY3Vyc29yICkge1xuXHRcdFx0XHRzY29wZV9Cb2R5LnN0eWxlLmN1cnNvciA9ICcnO1xuXHRcdFx0XHRzY29wZV9Cb2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0JywgcHJldmVudERlZmF1bHQpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGRhdGEuaGFuZGxlTnVtYmVycy5mb3JFYWNoKGZ1bmN0aW9uKGhhbmRsZU51bWJlcil7XG5cdFx0XHRmaXJlRXZlbnQoJ2NoYW5nZScsIGhhbmRsZU51bWJlcik7XG5cdFx0XHRmaXJlRXZlbnQoJ3NldCcsIGhhbmRsZU51bWJlcik7XG5cdFx0XHRmaXJlRXZlbnQoJ2VuZCcsIGhhbmRsZU51bWJlcik7XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBCaW5kIG1vdmUgZXZlbnRzIG9uIGRvY3VtZW50LlxuXHRmdW5jdGlvbiBldmVudFN0YXJ0ICggZXZlbnQsIGRhdGEgKSB7XG5cblx0XHR2YXIgaGFuZGxlO1xuXHRcdGlmICggZGF0YS5oYW5kbGVOdW1iZXJzLmxlbmd0aCA9PT0gMSApIHtcblxuXHRcdFx0dmFyIGhhbmRsZU9yaWdpbiA9IHNjb3BlX0hhbmRsZXNbZGF0YS5oYW5kbGVOdW1iZXJzWzBdXTtcblxuXHRcdFx0Ly8gSWdub3JlICdkaXNhYmxlZCcgaGFuZGxlc1xuXHRcdFx0aWYgKCBoYW5kbGVPcmlnaW4uaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpICkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHRcdGhhbmRsZSA9IGhhbmRsZU9yaWdpbi5jaGlsZHJlblswXTtcblx0XHRcdHNjb3BlX0FjdGl2ZUhhbmRsZXNDb3VudCArPSAxO1xuXG5cdFx0XHQvLyBNYXJrIHRoZSBoYW5kbGUgYXMgJ2FjdGl2ZScgc28gaXQgY2FuIGJlIHN0eWxlZC5cblx0XHRcdGFkZENsYXNzKGhhbmRsZSwgb3B0aW9ucy5jc3NDbGFzc2VzLmFjdGl2ZSk7XG5cdFx0fVxuXG5cdFx0Ly8gQSBkcmFnIHNob3VsZCBuZXZlciBwcm9wYWdhdGUgdXAgdG8gdGhlICd0YXAnIGV2ZW50LlxuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG5cdFx0Ly8gUmVjb3JkIHRoZSBldmVudCBsaXN0ZW5lcnMuXG5cdFx0dmFyIGxpc3RlbmVycyA9IFtdO1xuXG5cdFx0Ly8gQXR0YWNoIHRoZSBtb3ZlIGFuZCBlbmQgZXZlbnRzLlxuXHRcdHZhciBtb3ZlRXZlbnQgPSBhdHRhY2hFdmVudChhY3Rpb25zLm1vdmUsIHNjb3BlX0RvY3VtZW50RWxlbWVudCwgZXZlbnRNb3ZlLCB7XG5cdFx0XHQvLyBUaGUgZXZlbnQgdGFyZ2V0IGhhcyBjaGFuZ2VkIHNvIHdlIG5lZWQgdG8gcHJvcGFnYXRlIHRoZSBvcmlnaW5hbCBvbmUgc28gdGhhdCB3ZSBrZWVwXG5cdFx0XHQvLyByZWx5aW5nIG9uIGl0IHRvIGV4dHJhY3QgdGFyZ2V0IHRvdWNoZXMuXG5cdFx0XHR0YXJnZXQ6IGV2ZW50LnRhcmdldCxcblx0XHRcdGhhbmRsZTogaGFuZGxlLFxuXHRcdFx0bGlzdGVuZXJzOiBsaXN0ZW5lcnMsXG5cdFx0XHRzdGFydENhbGNQb2ludDogZXZlbnQuY2FsY1BvaW50LFxuXHRcdFx0YmFzZVNpemU6IGJhc2VTaXplKCksXG5cdFx0XHRwYWdlT2Zmc2V0OiBldmVudC5wYWdlT2Zmc2V0LFxuXHRcdFx0aGFuZGxlTnVtYmVyczogZGF0YS5oYW5kbGVOdW1iZXJzLFxuXHRcdFx0YnV0dG9uc1Byb3BlcnR5OiBldmVudC5idXR0b25zLFxuXHRcdFx0bG9jYXRpb25zOiBzY29wZV9Mb2NhdGlvbnMuc2xpY2UoKVxuXHRcdH0pO1xuXG5cdFx0dmFyIGVuZEV2ZW50ID0gYXR0YWNoRXZlbnQoYWN0aW9ucy5lbmQsIHNjb3BlX0RvY3VtZW50RWxlbWVudCwgZXZlbnRFbmQsIHtcblx0XHRcdHRhcmdldDogZXZlbnQudGFyZ2V0LFxuXHRcdFx0aGFuZGxlOiBoYW5kbGUsXG5cdFx0XHRsaXN0ZW5lcnM6IGxpc3RlbmVycyxcblx0XHRcdGhhbmRsZU51bWJlcnM6IGRhdGEuaGFuZGxlTnVtYmVyc1xuXHRcdH0pO1xuXG5cdFx0dmFyIG91dEV2ZW50ID0gYXR0YWNoRXZlbnQoXCJtb3VzZW91dFwiLCBzY29wZV9Eb2N1bWVudEVsZW1lbnQsIGRvY3VtZW50TGVhdmUsIHtcblx0XHRcdHRhcmdldDogZXZlbnQudGFyZ2V0LFxuXHRcdFx0aGFuZGxlOiBoYW5kbGUsXG5cdFx0XHRsaXN0ZW5lcnM6IGxpc3RlbmVycyxcblx0XHRcdGhhbmRsZU51bWJlcnM6IGRhdGEuaGFuZGxlTnVtYmVyc1xuXHRcdH0pO1xuXG5cdFx0Ly8gV2Ugd2FudCB0byBtYWtlIHN1cmUgd2UgcHVzaGVkIHRoZSBsaXN0ZW5lcnMgaW4gdGhlIGxpc3RlbmVyIGxpc3QgcmF0aGVyIHRoYW4gY3JlYXRpbmdcblx0XHQvLyBhIG5ldyBvbmUgYXMgaXQgaGFzIGFscmVhZHkgYmVlbiBwYXNzZWQgdG8gdGhlIGV2ZW50IGhhbmRsZXJzLlxuXHRcdGxpc3RlbmVycy5wdXNoLmFwcGx5KGxpc3RlbmVycywgbW92ZUV2ZW50LmNvbmNhdChlbmRFdmVudCwgb3V0RXZlbnQpKTtcblxuXHRcdC8vIFRleHQgc2VsZWN0aW9uIGlzbid0IGFuIGlzc3VlIG9uIHRvdWNoIGRldmljZXMsXG5cdFx0Ly8gc28gYWRkaW5nIGN1cnNvciBzdHlsZXMgY2FuIGJlIHNraXBwZWQuXG5cdFx0aWYgKCBldmVudC5jdXJzb3IgKSB7XG5cblx0XHRcdC8vIFByZXZlbnQgdGhlICdJJyBjdXJzb3IgYW5kIGV4dGVuZCB0aGUgcmFuZ2UtZHJhZyBjdXJzb3IuXG5cdFx0XHRzY29wZV9Cb2R5LnN0eWxlLmN1cnNvciA9IGdldENvbXB1dGVkU3R5bGUoZXZlbnQudGFyZ2V0KS5jdXJzb3I7XG5cblx0XHRcdC8vIE1hcmsgdGhlIHRhcmdldCB3aXRoIGEgZHJhZ2dpbmcgc3RhdGUuXG5cdFx0XHRpZiAoIHNjb3BlX0hhbmRsZXMubGVuZ3RoID4gMSApIHtcblx0XHRcdFx0YWRkQ2xhc3Moc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMuZHJhZyk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFByZXZlbnQgdGV4dCBzZWxlY3Rpb24gd2hlbiBkcmFnZ2luZyB0aGUgaGFuZGxlcy5cblx0XHRcdC8vIEluIG5vVWlTbGlkZXIgPD0gOS4yLjAsIHRoaXMgd2FzIGhhbmRsZWQgYnkgY2FsbGluZyBwcmV2ZW50RGVmYXVsdCBvbiBtb3VzZS90b3VjaCBzdGFydC9tb3ZlLFxuXHRcdFx0Ly8gd2hpY2ggaXMgc2Nyb2xsIGJsb2NraW5nLiBUaGUgc2VsZWN0c3RhcnQgZXZlbnQgaXMgc3VwcG9ydGVkIGJ5IEZpcmVGb3ggc3RhcnRpbmcgZnJvbSB2ZXJzaW9uIDUyLFxuXHRcdFx0Ly8gbWVhbmluZyB0aGUgb25seSBob2xkb3V0IGlzIGlPUyBTYWZhcmkuIFRoaXMgZG9lc24ndCBtYXR0ZXI6IHRleHQgc2VsZWN0aW9uIGlzbid0IHRyaWdnZXJlZCB0aGVyZS5cblx0XHRcdC8vIFRoZSAnY3Vyc29yJyBmbGFnIGlzIGZhbHNlLlxuXHRcdFx0Ly8gU2VlOiBodHRwOi8vY2FuaXVzZS5jb20vI3NlYXJjaD1zZWxlY3RzdGFydFxuXHRcdFx0c2NvcGVfQm9keS5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3RzdGFydCcsIHByZXZlbnREZWZhdWx0LCBmYWxzZSk7XG5cdFx0fVxuXG5cdFx0ZGF0YS5oYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyKXtcblx0XHRcdGZpcmVFdmVudCgnc3RhcnQnLCBoYW5kbGVOdW1iZXIpO1xuXHRcdH0pO1xuXHR9XG5cblx0Ly8gTW92ZSBjbG9zZXN0IGhhbmRsZSB0byB0YXBwZWQgbG9jYXRpb24uXG5cdGZ1bmN0aW9uIGV2ZW50VGFwICggZXZlbnQgKSB7XG5cblx0XHQvLyBUaGUgdGFwIGV2ZW50IHNob3VsZG4ndCBwcm9wYWdhdGUgdXBcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuXHRcdHZhciBwcm9wb3NhbCA9IGNhbGNQb2ludFRvUGVyY2VudGFnZShldmVudC5jYWxjUG9pbnQpO1xuXHRcdHZhciBoYW5kbGVOdW1iZXIgPSBnZXRDbG9zZXN0SGFuZGxlKHByb3Bvc2FsKTtcblxuXHRcdC8vIFRhY2tsZSB0aGUgY2FzZSB0aGF0IGFsbCBoYW5kbGVzIGFyZSAnZGlzYWJsZWQnLlxuXHRcdGlmICggaGFuZGxlTnVtYmVyID09PSBmYWxzZSApIHtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHQvLyBGbGFnIHRoZSBzbGlkZXIgYXMgaXQgaXMgbm93IGluIGEgdHJhbnNpdGlvbmFsIHN0YXRlLlxuXHRcdC8vIFRyYW5zaXRpb24gdGFrZXMgYSBjb25maWd1cmFibGUgYW1vdW50IG9mIG1zIChkZWZhdWx0IDMwMCkuIFJlLWVuYWJsZSB0aGUgc2xpZGVyIGFmdGVyIHRoYXQuXG5cdFx0aWYgKCAhb3B0aW9ucy5ldmVudHMuc25hcCApIHtcblx0XHRcdGFkZENsYXNzRm9yKHNjb3BlX1RhcmdldCwgb3B0aW9ucy5jc3NDbGFzc2VzLnRhcCwgb3B0aW9ucy5hbmltYXRpb25EdXJhdGlvbik7XG5cdFx0fVxuXG5cdFx0c2V0SGFuZGxlKGhhbmRsZU51bWJlciwgcHJvcG9zYWwsIHRydWUsIHRydWUpO1xuXG5cdFx0c2V0WmluZGV4KCk7XG5cblx0XHRmaXJlRXZlbnQoJ3NsaWRlJywgaGFuZGxlTnVtYmVyLCB0cnVlKTtcblx0XHRmaXJlRXZlbnQoJ3VwZGF0ZScsIGhhbmRsZU51bWJlciwgdHJ1ZSk7XG5cdFx0ZmlyZUV2ZW50KCdjaGFuZ2UnLCBoYW5kbGVOdW1iZXIsIHRydWUpO1xuXHRcdGZpcmVFdmVudCgnc2V0JywgaGFuZGxlTnVtYmVyLCB0cnVlKTtcblxuXHRcdGlmICggb3B0aW9ucy5ldmVudHMuc25hcCApIHtcblx0XHRcdGV2ZW50U3RhcnQoZXZlbnQsIHsgaGFuZGxlTnVtYmVyczogW2hhbmRsZU51bWJlcl0gfSk7XG5cdFx0fVxuXHR9XG5cblx0Ly8gRmlyZXMgYSAnaG92ZXInIGV2ZW50IGZvciBhIGhvdmVyZWQgbW91c2UvcGVuIHBvc2l0aW9uLlxuXHRmdW5jdGlvbiBldmVudEhvdmVyICggZXZlbnQgKSB7XG5cblx0XHR2YXIgcHJvcG9zYWwgPSBjYWxjUG9pbnRUb1BlcmNlbnRhZ2UoZXZlbnQuY2FsY1BvaW50KTtcblxuXHRcdHZhciB0byA9IHNjb3BlX1NwZWN0cnVtLmdldFN0ZXAocHJvcG9zYWwpO1xuXHRcdHZhciB2YWx1ZSA9IHNjb3BlX1NwZWN0cnVtLmZyb21TdGVwcGluZyh0byk7XG5cblx0XHRPYmplY3Qua2V5cyhzY29wZV9FdmVudHMpLmZvckVhY2goZnVuY3Rpb24oIHRhcmdldEV2ZW50ICkge1xuXHRcdFx0aWYgKCAnaG92ZXInID09PSB0YXJnZXRFdmVudC5zcGxpdCgnLicpWzBdICkge1xuXHRcdFx0XHRzY29wZV9FdmVudHNbdGFyZ2V0RXZlbnRdLmZvckVhY2goZnVuY3Rpb24oIGNhbGxiYWNrICkge1xuXHRcdFx0XHRcdGNhbGxiYWNrLmNhbGwoIHNjb3BlX1NlbGYsIHZhbHVlICk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0Ly8gQXR0YWNoIGV2ZW50cyB0byBzZXZlcmFsIHNsaWRlciBwYXJ0cy5cblx0ZnVuY3Rpb24gYmluZFNsaWRlckV2ZW50cyAoIGJlaGF2aW91ciApIHtcblxuXHRcdC8vIEF0dGFjaCB0aGUgc3RhbmRhcmQgZHJhZyBldmVudCB0byB0aGUgaGFuZGxlcy5cblx0XHRpZiAoICFiZWhhdmlvdXIuZml4ZWQgKSB7XG5cblx0XHRcdHNjb3BlX0hhbmRsZXMuZm9yRWFjaChmdW5jdGlvbiggaGFuZGxlLCBpbmRleCApe1xuXG5cdFx0XHRcdC8vIFRoZXNlIGV2ZW50cyBhcmUgb25seSBib3VuZCB0byB0aGUgdmlzdWFsIGhhbmRsZVxuXHRcdFx0XHQvLyBlbGVtZW50LCBub3QgdGhlICdyZWFsJyBvcmlnaW4gZWxlbWVudC5cblx0XHRcdFx0YXR0YWNoRXZlbnQgKCBhY3Rpb25zLnN0YXJ0LCBoYW5kbGUuY2hpbGRyZW5bMF0sIGV2ZW50U3RhcnQsIHtcblx0XHRcdFx0XHRoYW5kbGVOdW1iZXJzOiBbaW5kZXhdXG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0Ly8gQXR0YWNoIHRoZSB0YXAgZXZlbnQgdG8gdGhlIHNsaWRlciBiYXNlLlxuXHRcdGlmICggYmVoYXZpb3VyLnRhcCApIHtcblx0XHRcdGF0dGFjaEV2ZW50IChhY3Rpb25zLnN0YXJ0LCBzY29wZV9CYXNlLCBldmVudFRhcCwge30pO1xuXHRcdH1cblxuXHRcdC8vIEZpcmUgaG92ZXIgZXZlbnRzXG5cdFx0aWYgKCBiZWhhdmlvdXIuaG92ZXIgKSB7XG5cdFx0XHRhdHRhY2hFdmVudCAoYWN0aW9ucy5tb3ZlLCBzY29wZV9CYXNlLCBldmVudEhvdmVyLCB7IGhvdmVyOiB0cnVlIH0pO1xuXHRcdH1cblxuXHRcdC8vIE1ha2UgdGhlIHJhbmdlIGRyYWdnYWJsZS5cblx0XHRpZiAoIGJlaGF2aW91ci5kcmFnICl7XG5cblx0XHRcdHNjb3BlX0Nvbm5lY3RzLmZvckVhY2goZnVuY3Rpb24oIGNvbm5lY3QsIGluZGV4ICl7XG5cblx0XHRcdFx0aWYgKCBjb25uZWN0ID09PSBmYWxzZSB8fCBpbmRleCA9PT0gMCB8fCBpbmRleCA9PT0gc2NvcGVfQ29ubmVjdHMubGVuZ3RoIC0gMSApIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR2YXIgaGFuZGxlQmVmb3JlID0gc2NvcGVfSGFuZGxlc1tpbmRleCAtIDFdO1xuXHRcdFx0XHR2YXIgaGFuZGxlQWZ0ZXIgPSBzY29wZV9IYW5kbGVzW2luZGV4XTtcblx0XHRcdFx0dmFyIGV2ZW50SG9sZGVycyA9IFtjb25uZWN0XTtcblxuXHRcdFx0XHRhZGRDbGFzcyhjb25uZWN0LCBvcHRpb25zLmNzc0NsYXNzZXMuZHJhZ2dhYmxlKTtcblxuXHRcdFx0XHQvLyBXaGVuIHRoZSByYW5nZSBpcyBmaXhlZCwgdGhlIGVudGlyZSByYW5nZSBjYW5cblx0XHRcdFx0Ly8gYmUgZHJhZ2dlZCBieSB0aGUgaGFuZGxlcy4gVGhlIGhhbmRsZSBpbiB0aGUgZmlyc3Rcblx0XHRcdFx0Ly8gb3JpZ2luIHdpbGwgcHJvcGFnYXRlIHRoZSBzdGFydCBldmVudCB1cHdhcmQsXG5cdFx0XHRcdC8vIGJ1dCBpdCBuZWVkcyB0byBiZSBib3VuZCBtYW51YWxseSBvbiB0aGUgb3RoZXIuXG5cdFx0XHRcdGlmICggYmVoYXZpb3VyLmZpeGVkICkge1xuXHRcdFx0XHRcdGV2ZW50SG9sZGVycy5wdXNoKGhhbmRsZUJlZm9yZS5jaGlsZHJlblswXSk7XG5cdFx0XHRcdFx0ZXZlbnRIb2xkZXJzLnB1c2goaGFuZGxlQWZ0ZXIuY2hpbGRyZW5bMF0pO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0ZXZlbnRIb2xkZXJzLmZvckVhY2goZnVuY3Rpb24oIGV2ZW50SG9sZGVyICkge1xuXHRcdFx0XHRcdGF0dGFjaEV2ZW50ICggYWN0aW9ucy5zdGFydCwgZXZlbnRIb2xkZXIsIGV2ZW50U3RhcnQsIHtcblx0XHRcdFx0XHRcdGhhbmRsZXM6IFtoYW5kbGVCZWZvcmUsIGhhbmRsZUFmdGVyXSxcblx0XHRcdFx0XHRcdGhhbmRsZU51bWJlcnM6IFtpbmRleCAtIDEsIGluZGV4XVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cblx0Ly8gU3BsaXQgb3V0IHRoZSBoYW5kbGUgcG9zaXRpb25pbmcgbG9naWMgc28gdGhlIE1vdmUgZXZlbnQgY2FuIHVzZSBpdCwgdG9vXG5cdGZ1bmN0aW9uIGNoZWNrSGFuZGxlUG9zaXRpb24gKCByZWZlcmVuY2UsIGhhbmRsZU51bWJlciwgdG8sIGxvb2tCYWNrd2FyZCwgbG9va0ZvcndhcmQsIGdldFZhbHVlICkge1xuXG5cdFx0Ly8gRm9yIHNsaWRlcnMgd2l0aCBtdWx0aXBsZSBoYW5kbGVzLCBsaW1pdCBtb3ZlbWVudCB0byB0aGUgb3RoZXIgaGFuZGxlLlxuXHRcdC8vIEFwcGx5IHRoZSBtYXJnaW4gb3B0aW9uIGJ5IGFkZGluZyBpdCB0byB0aGUgaGFuZGxlIHBvc2l0aW9ucy5cblx0XHRpZiAoIHNjb3BlX0hhbmRsZXMubGVuZ3RoID4gMSApIHtcblxuXHRcdFx0aWYgKCBsb29rQmFja3dhcmQgJiYgaGFuZGxlTnVtYmVyID4gMCApIHtcblx0XHRcdFx0dG8gPSBNYXRoLm1heCh0bywgcmVmZXJlbmNlW2hhbmRsZU51bWJlciAtIDFdICsgb3B0aW9ucy5tYXJnaW4pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGxvb2tGb3J3YXJkICYmIGhhbmRsZU51bWJlciA8IHNjb3BlX0hhbmRsZXMubGVuZ3RoIC0gMSApIHtcblx0XHRcdFx0dG8gPSBNYXRoLm1pbih0bywgcmVmZXJlbmNlW2hhbmRsZU51bWJlciArIDFdIC0gb3B0aW9ucy5tYXJnaW4pO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFRoZSBsaW1pdCBvcHRpb24gaGFzIHRoZSBvcHBvc2l0ZSBlZmZlY3QsIGxpbWl0aW5nIGhhbmRsZXMgdG8gYVxuXHRcdC8vIG1heGltdW0gZGlzdGFuY2UgZnJvbSBhbm90aGVyLiBMaW1pdCBtdXN0IGJlID4gMCwgYXMgb3RoZXJ3aXNlXG5cdFx0Ly8gaGFuZGxlcyB3b3VsZCBiZSB1bm1vdmVhYmxlLlxuXHRcdGlmICggc2NvcGVfSGFuZGxlcy5sZW5ndGggPiAxICYmIG9wdGlvbnMubGltaXQgKSB7XG5cblx0XHRcdGlmICggbG9va0JhY2t3YXJkICYmIGhhbmRsZU51bWJlciA+IDAgKSB7XG5cdFx0XHRcdHRvID0gTWF0aC5taW4odG8sIHJlZmVyZW5jZVtoYW5kbGVOdW1iZXIgLSAxXSArIG9wdGlvbnMubGltaXQpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGxvb2tGb3J3YXJkICYmIGhhbmRsZU51bWJlciA8IHNjb3BlX0hhbmRsZXMubGVuZ3RoIC0gMSApIHtcblx0XHRcdFx0dG8gPSBNYXRoLm1heCh0bywgcmVmZXJlbmNlW2hhbmRsZU51bWJlciArIDFdIC0gb3B0aW9ucy5saW1pdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Ly8gVGhlIHBhZGRpbmcgb3B0aW9uIGtlZXBzIHRoZSBoYW5kbGVzIGEgY2VydGFpbiBkaXN0YW5jZSBmcm9tIHRoZVxuXHRcdC8vIGVkZ2VzIG9mIHRoZSBzbGlkZXIuIFBhZGRpbmcgbXVzdCBiZSA+IDAuXG5cdFx0aWYgKCBvcHRpb25zLnBhZGRpbmcgKSB7XG5cblx0XHRcdGlmICggaGFuZGxlTnVtYmVyID09PSAwICkge1xuXHRcdFx0XHR0byA9IE1hdGgubWF4KHRvLCBvcHRpb25zLnBhZGRpbmcpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGhhbmRsZU51bWJlciA9PT0gc2NvcGVfSGFuZGxlcy5sZW5ndGggLSAxICkge1xuXHRcdFx0XHR0byA9IE1hdGgubWluKHRvLCAxMDAgLSBvcHRpb25zLnBhZGRpbmcpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHRvID0gc2NvcGVfU3BlY3RydW0uZ2V0U3RlcCh0byk7XG5cblx0XHQvLyBMaW1pdCBwZXJjZW50YWdlIHRvIHRoZSAwIC0gMTAwIHJhbmdlXG5cdFx0dG8gPSBsaW1pdCh0byk7XG5cblx0XHQvLyBSZXR1cm4gZmFsc2UgaWYgaGFuZGxlIGNhbid0IG1vdmVcblx0XHRpZiAoIHRvID09PSByZWZlcmVuY2VbaGFuZGxlTnVtYmVyXSAmJiAhZ2V0VmFsdWUgKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHRvO1xuXHR9XG5cblx0ZnVuY3Rpb24gdG9QY3QgKCBwY3QgKSB7XG5cdFx0cmV0dXJuIHBjdCArICclJztcblx0fVxuXG5cdC8vIFVwZGF0ZXMgc2NvcGVfTG9jYXRpb25zIGFuZCBzY29wZV9WYWx1ZXMsIHVwZGF0ZXMgdmlzdWFsIHN0YXRlXG5cdGZ1bmN0aW9uIHVwZGF0ZUhhbmRsZVBvc2l0aW9uICggaGFuZGxlTnVtYmVyLCB0byApIHtcblxuXHRcdC8vIFVwZGF0ZSBsb2NhdGlvbnMuXG5cdFx0c2NvcGVfTG9jYXRpb25zW2hhbmRsZU51bWJlcl0gPSB0bztcblxuXHRcdC8vIENvbnZlcnQgdGhlIHZhbHVlIHRvIHRoZSBzbGlkZXIgc3RlcHBpbmcvcmFuZ2UuXG5cdFx0c2NvcGVfVmFsdWVzW2hhbmRsZU51bWJlcl0gPSBzY29wZV9TcGVjdHJ1bS5mcm9tU3RlcHBpbmcodG8pO1xuXG5cdFx0Ly8gQ2FsbGVkIHN5bmNocm9ub3VzbHkgb3Igb24gdGhlIG5leHQgYW5pbWF0aW9uRnJhbWVcblx0XHR2YXIgc3RhdGVVcGRhdGUgPSBmdW5jdGlvbigpIHtcblx0XHRcdHNjb3BlX0hhbmRsZXNbaGFuZGxlTnVtYmVyXS5zdHlsZVtvcHRpb25zLnN0eWxlXSA9IHRvUGN0KHRvKTtcblx0XHRcdHVwZGF0ZUNvbm5lY3QoaGFuZGxlTnVtYmVyKTtcblx0XHRcdHVwZGF0ZUNvbm5lY3QoaGFuZGxlTnVtYmVyICsgMSk7XG5cdFx0fTtcblxuXHRcdC8vIFNldCB0aGUgaGFuZGxlIHRvIHRoZSBuZXcgcG9zaXRpb24uXG5cdFx0Ly8gVXNlIHJlcXVlc3RBbmltYXRpb25GcmFtZSBmb3IgZWZmaWNpZW50IHBhaW50aW5nLlxuXHRcdC8vIE5vIHNpZ25pZmljYW50IGVmZmVjdCBpbiBDaHJvbWUsIEVkZ2Ugc2VlcyBkcmFtYXRpYyBwZXJmb3JtYWNlIGltcHJvdmVtZW50cy5cblx0XHQvLyBPcHRpb24gdG8gZGlzYWJsZSBpcyB1c2VmdWwgZm9yIHVuaXQgdGVzdHMsIGFuZCBzaW5nbGUtc3RlcCBkZWJ1Z2dpbmcuXG5cdFx0aWYgKCB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lICYmIG9wdGlvbnMudXNlUmVxdWVzdEFuaW1hdGlvbkZyYW1lICkge1xuXHRcdFx0d2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShzdGF0ZVVwZGF0ZSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0YXRlVXBkYXRlKCk7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gc2V0WmluZGV4ICggKSB7XG5cblx0XHRzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyKXtcblx0XHRcdC8vIEhhbmRsZXMgYmVmb3JlIHRoZSBzbGlkZXIgbWlkZGxlIGFyZSBzdGFja2VkIGxhdGVyID0gaGlnaGVyLFxuXHRcdFx0Ly8gSGFuZGxlcyBhZnRlciB0aGUgbWlkZGxlIGxhdGVyIGlzIGxvd2VyXG5cdFx0XHQvLyBbWzddIFs4XSAuLi4uLi4uLi4uIHwgLi4uLi4uLi4uLiBbNV0gWzRdXG5cdFx0XHR2YXIgZGlyID0gKHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdID4gNTAgPyAtMSA6IDEpO1xuXHRcdFx0dmFyIHpJbmRleCA9IDMgKyAoc2NvcGVfSGFuZGxlcy5sZW5ndGggKyAoZGlyICogaGFuZGxlTnVtYmVyKSk7XG5cdFx0XHRzY29wZV9IYW5kbGVzW2hhbmRsZU51bWJlcl0uY2hpbGROb2Rlc1swXS5zdHlsZS56SW5kZXggPSB6SW5kZXg7XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBUZXN0IHN1Z2dlc3RlZCB2YWx1ZXMgYW5kIGFwcGx5IG1hcmdpbiwgc3RlcC5cblx0ZnVuY3Rpb24gc2V0SGFuZGxlICggaGFuZGxlTnVtYmVyLCB0bywgbG9va0JhY2t3YXJkLCBsb29rRm9yd2FyZCApIHtcblxuXHRcdHRvID0gY2hlY2tIYW5kbGVQb3NpdGlvbihzY29wZV9Mb2NhdGlvbnMsIGhhbmRsZU51bWJlciwgdG8sIGxvb2tCYWNrd2FyZCwgbG9va0ZvcndhcmQsIGZhbHNlKTtcblxuXHRcdGlmICggdG8gPT09IGZhbHNlICkge1xuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdHVwZGF0ZUhhbmRsZVBvc2l0aW9uKGhhbmRsZU51bWJlciwgdG8pO1xuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvLyBVcGRhdGVzIHN0eWxlIGF0dHJpYnV0ZSBmb3IgY29ubmVjdCBub2Rlc1xuXHRmdW5jdGlvbiB1cGRhdGVDb25uZWN0ICggaW5kZXggKSB7XG5cblx0XHQvLyBTa2lwIGNvbm5lY3RzIHNldCB0byBmYWxzZVxuXHRcdGlmICggIXNjb3BlX0Nvbm5lY3RzW2luZGV4XSApIHtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHR2YXIgbCA9IDA7XG5cdFx0dmFyIGggPSAxMDA7XG5cblx0XHRpZiAoIGluZGV4ICE9PSAwICkge1xuXHRcdFx0bCA9IHNjb3BlX0xvY2F0aW9uc1tpbmRleCAtIDFdO1xuXHRcdH1cblxuXHRcdGlmICggaW5kZXggIT09IHNjb3BlX0Nvbm5lY3RzLmxlbmd0aCAtIDEgKSB7XG5cdFx0XHRoID0gc2NvcGVfTG9jYXRpb25zW2luZGV4XTtcblx0XHR9XG5cblx0XHRzY29wZV9Db25uZWN0c1tpbmRleF0uc3R5bGVbb3B0aW9ucy5zdHlsZV0gPSB0b1BjdChsKTtcblx0XHRzY29wZV9Db25uZWN0c1tpbmRleF0uc3R5bGVbb3B0aW9ucy5zdHlsZU9wb3NpdGVdID0gdG9QY3QoMTAwIC0gaCk7XG5cdH1cblxuXHQvLyAuLi5cblx0ZnVuY3Rpb24gc2V0VmFsdWUgKCB0bywgaGFuZGxlTnVtYmVyICkge1xuXG5cdFx0Ly8gU2V0dGluZyB3aXRoIG51bGwgaW5kaWNhdGVzIGFuICdpZ25vcmUnLlxuXHRcdC8vIElucHV0dGluZyAnZmFsc2UnIGlzIGludmFsaWQuXG5cdFx0aWYgKCB0byA9PT0gbnVsbCB8fCB0byA9PT0gZmFsc2UgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gSWYgYSBmb3JtYXR0ZWQgbnVtYmVyIHdhcyBwYXNzZWQsIGF0dGVtdCB0byBkZWNvZGUgaXQuXG5cdFx0aWYgKCB0eXBlb2YgdG8gPT09ICdudW1iZXInICkge1xuXHRcdFx0dG8gPSBTdHJpbmcodG8pO1xuXHRcdH1cblxuXHRcdHRvID0gb3B0aW9ucy5mb3JtYXQuZnJvbSh0byk7XG5cblx0XHQvLyBSZXF1ZXN0IGFuIHVwZGF0ZSBmb3IgYWxsIGxpbmtzIGlmIHRoZSB2YWx1ZSB3YXMgaW52YWxpZC5cblx0XHQvLyBEbyBzbyB0b28gaWYgc2V0dGluZyB0aGUgaGFuZGxlIGZhaWxzLlxuXHRcdGlmICggdG8gIT09IGZhbHNlICYmICFpc05hTih0bykgKSB7XG5cdFx0XHRzZXRIYW5kbGUoaGFuZGxlTnVtYmVyLCBzY29wZV9TcGVjdHJ1bS50b1N0ZXBwaW5nKHRvKSwgZmFsc2UsIGZhbHNlKTtcblx0XHR9XG5cdH1cblxuXHQvLyBTZXQgdGhlIHNsaWRlciB2YWx1ZS5cblx0ZnVuY3Rpb24gdmFsdWVTZXQgKCBpbnB1dCwgZmlyZVNldEV2ZW50ICkge1xuXG5cdFx0dmFyIHZhbHVlcyA9IGFzQXJyYXkoaW5wdXQpO1xuXHRcdHZhciBpc0luaXQgPSBzY29wZV9Mb2NhdGlvbnNbMF0gPT09IHVuZGVmaW5lZDtcblxuXHRcdC8vIEV2ZW50IGZpcmVzIGJ5IGRlZmF1bHRcblx0XHRmaXJlU2V0RXZlbnQgPSAoZmlyZVNldEV2ZW50ID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFmaXJlU2V0RXZlbnQpO1xuXG5cdFx0dmFsdWVzLmZvckVhY2goc2V0VmFsdWUpO1xuXG5cdFx0Ly8gQW5pbWF0aW9uIGlzIG9wdGlvbmFsLlxuXHRcdC8vIE1ha2Ugc3VyZSB0aGUgaW5pdGlhbCB2YWx1ZXMgd2VyZSBzZXQgYmVmb3JlIHVzaW5nIGFuaW1hdGVkIHBsYWNlbWVudC5cblx0XHRpZiAoIG9wdGlvbnMuYW5pbWF0ZSAmJiAhaXNJbml0ICkge1xuXHRcdFx0YWRkQ2xhc3NGb3Ioc2NvcGVfVGFyZ2V0LCBvcHRpb25zLmNzc0NsYXNzZXMudGFwLCBvcHRpb25zLmFuaW1hdGlvbkR1cmF0aW9uKTtcblx0XHR9XG5cblx0XHQvLyBOb3cgdGhhdCBhbGwgYmFzZSB2YWx1ZXMgYXJlIHNldCwgYXBwbHkgY29uc3RyYWludHNcblx0XHRzY29wZV9IYW5kbGVOdW1iZXJzLmZvckVhY2goZnVuY3Rpb24oaGFuZGxlTnVtYmVyKXtcblx0XHRcdHNldEhhbmRsZShoYW5kbGVOdW1iZXIsIHNjb3BlX0xvY2F0aW9uc1toYW5kbGVOdW1iZXJdLCB0cnVlLCBmYWxzZSk7XG5cdFx0fSk7XG5cblx0XHRzZXRaaW5kZXgoKTtcblxuXHRcdHNjb3BlX0hhbmRsZU51bWJlcnMuZm9yRWFjaChmdW5jdGlvbihoYW5kbGVOdW1iZXIpe1xuXG5cdFx0XHRmaXJlRXZlbnQoJ3VwZGF0ZScsIGhhbmRsZU51bWJlcik7XG5cblx0XHRcdC8vIEZpcmUgdGhlIGV2ZW50IG9ubHkgZm9yIGhhbmRsZXMgdGhhdCByZWNlaXZlZCBhIG5ldyB2YWx1ZSwgYXMgcGVyICM1Nzlcblx0XHRcdGlmICggdmFsdWVzW2hhbmRsZU51bWJlcl0gIT09IG51bGwgJiYgZmlyZVNldEV2ZW50ICkge1xuXHRcdFx0XHRmaXJlRXZlbnQoJ3NldCcsIGhhbmRsZU51bWJlcik7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBSZXNldCBzbGlkZXIgdG8gaW5pdGlhbCB2YWx1ZXNcblx0ZnVuY3Rpb24gdmFsdWVSZXNldCAoIGZpcmVTZXRFdmVudCApIHtcblx0XHR2YWx1ZVNldChvcHRpb25zLnN0YXJ0LCBmaXJlU2V0RXZlbnQpO1xuXHR9XG5cblx0Ly8gR2V0IHRoZSBzbGlkZXIgdmFsdWUuXG5cdGZ1bmN0aW9uIHZhbHVlR2V0ICggKSB7XG5cblx0XHR2YXIgdmFsdWVzID0gc2NvcGVfVmFsdWVzLm1hcChvcHRpb25zLmZvcm1hdC50byk7XG5cblx0XHQvLyBJZiBvbmx5IG9uZSBoYW5kbGUgaXMgdXNlZCwgcmV0dXJuIGEgc2luZ2xlIHZhbHVlLlxuXHRcdGlmICggdmFsdWVzLmxlbmd0aCA9PT0gMSApe1xuXHRcdFx0cmV0dXJuIHZhbHVlc1swXTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdmFsdWVzO1xuXHR9XG5cblx0Ly8gUmVtb3ZlcyBjbGFzc2VzIGZyb20gdGhlIHJvb3QgYW5kIGVtcHRpZXMgaXQuXG5cdGZ1bmN0aW9uIGRlc3Ryb3kgKCApIHtcblxuXHRcdGZvciAoIHZhciBrZXkgaW4gb3B0aW9ucy5jc3NDbGFzc2VzICkge1xuXHRcdFx0aWYgKCAhb3B0aW9ucy5jc3NDbGFzc2VzLmhhc093blByb3BlcnR5KGtleSkgKSB7IGNvbnRpbnVlOyB9XG5cdFx0XHRyZW1vdmVDbGFzcyhzY29wZV9UYXJnZXQsIG9wdGlvbnMuY3NzQ2xhc3Nlc1trZXldKTtcblx0XHR9XG5cblx0XHR3aGlsZSAoc2NvcGVfVGFyZ2V0LmZpcnN0Q2hpbGQpIHtcblx0XHRcdHNjb3BlX1RhcmdldC5yZW1vdmVDaGlsZChzY29wZV9UYXJnZXQuZmlyc3RDaGlsZCk7XG5cdFx0fVxuXG5cdFx0ZGVsZXRlIHNjb3BlX1RhcmdldC5ub1VpU2xpZGVyO1xuXHR9XG5cblx0Ly8gR2V0IHRoZSBjdXJyZW50IHN0ZXAgc2l6ZSBmb3IgdGhlIHNsaWRlci5cblx0ZnVuY3Rpb24gZ2V0Q3VycmVudFN0ZXAgKCApIHtcblxuXHRcdC8vIENoZWNrIGFsbCBsb2NhdGlvbnMsIG1hcCB0aGVtIHRvIHRoZWlyIHN0ZXBwaW5nIHBvaW50LlxuXHRcdC8vIEdldCB0aGUgc3RlcCBwb2ludCwgdGhlbiBmaW5kIGl0IGluIHRoZSBpbnB1dCBsaXN0LlxuXHRcdHJldHVybiBzY29wZV9Mb2NhdGlvbnMubWFwKGZ1bmN0aW9uKCBsb2NhdGlvbiwgaW5kZXggKXtcblxuXHRcdFx0dmFyIG5lYXJieVN0ZXBzID0gc2NvcGVfU3BlY3RydW0uZ2V0TmVhcmJ5U3RlcHMoIGxvY2F0aW9uICk7XG5cdFx0XHR2YXIgdmFsdWUgPSBzY29wZV9WYWx1ZXNbaW5kZXhdO1xuXHRcdFx0dmFyIGluY3JlbWVudCA9IG5lYXJieVN0ZXBzLnRoaXNTdGVwLnN0ZXA7XG5cdFx0XHR2YXIgZGVjcmVtZW50ID0gbnVsbDtcblxuXHRcdFx0Ly8gSWYgdGhlIG5leHQgdmFsdWUgaW4gdGhpcyBzdGVwIG1vdmVzIGludG8gdGhlIG5leHQgc3RlcCxcblx0XHRcdC8vIHRoZSBpbmNyZW1lbnQgaXMgdGhlIHN0YXJ0IG9mIHRoZSBuZXh0IHN0ZXAgLSB0aGUgY3VycmVudCB2YWx1ZVxuXHRcdFx0aWYgKCBpbmNyZW1lbnQgIT09IGZhbHNlICkge1xuXHRcdFx0XHRpZiAoIHZhbHVlICsgaW5jcmVtZW50ID4gbmVhcmJ5U3RlcHMuc3RlcEFmdGVyLnN0YXJ0VmFsdWUgKSB7XG5cdFx0XHRcdFx0aW5jcmVtZW50ID0gbmVhcmJ5U3RlcHMuc3RlcEFmdGVyLnN0YXJ0VmFsdWUgLSB2YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cblx0XHRcdC8vIElmIHRoZSB2YWx1ZSBpcyBiZXlvbmQgdGhlIHN0YXJ0aW5nIHBvaW50XG5cdFx0XHRpZiAoIHZhbHVlID4gbmVhcmJ5U3RlcHMudGhpc1N0ZXAuc3RhcnRWYWx1ZSApIHtcblx0XHRcdFx0ZGVjcmVtZW50ID0gbmVhcmJ5U3RlcHMudGhpc1N0ZXAuc3RlcDtcblx0XHRcdH1cblxuXHRcdFx0ZWxzZSBpZiAoIG5lYXJieVN0ZXBzLnN0ZXBCZWZvcmUuc3RlcCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdGRlY3JlbWVudCA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBhIGhhbmRsZSBpcyBhdCB0aGUgc3RhcnQgb2YgYSBzdGVwLCBpdCBhbHdheXMgc3RlcHMgYmFjayBpbnRvIHRoZSBwcmV2aW91cyBzdGVwIGZpcnN0XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0ZGVjcmVtZW50ID0gdmFsdWUgLSBuZWFyYnlTdGVwcy5zdGVwQmVmb3JlLmhpZ2hlc3RTdGVwO1xuXHRcdFx0fVxuXG5cblx0XHRcdC8vIE5vdywgaWYgYXQgdGhlIHNsaWRlciBlZGdlcywgdGhlcmUgaXMgbm90IGluL2RlY3JlbWVudFxuXHRcdFx0aWYgKCBsb2NhdGlvbiA9PT0gMTAwICkge1xuXHRcdFx0XHRpbmNyZW1lbnQgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRlbHNlIGlmICggbG9jYXRpb24gPT09IDAgKSB7XG5cdFx0XHRcdGRlY3JlbWVudCA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFzIHBlciAjMzkxLCB0aGUgY29tcGFyaXNvbiBmb3IgdGhlIGRlY3JlbWVudCBzdGVwIGNhbiBoYXZlIHNvbWUgcm91bmRpbmcgaXNzdWVzLlxuXHRcdFx0dmFyIHN0ZXBEZWNpbWFscyA9IHNjb3BlX1NwZWN0cnVtLmNvdW50U3RlcERlY2ltYWxzKCk7XG5cblx0XHRcdC8vIFJvdW5kIHBlciAjMzkxXG5cdFx0XHRpZiAoIGluY3JlbWVudCAhPT0gbnVsbCAmJiBpbmNyZW1lbnQgIT09IGZhbHNlICkge1xuXHRcdFx0XHRpbmNyZW1lbnQgPSBOdW1iZXIoaW5jcmVtZW50LnRvRml4ZWQoc3RlcERlY2ltYWxzKSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggZGVjcmVtZW50ICE9PSBudWxsICYmIGRlY3JlbWVudCAhPT0gZmFsc2UgKSB7XG5cdFx0XHRcdGRlY3JlbWVudCA9IE51bWJlcihkZWNyZW1lbnQudG9GaXhlZChzdGVwRGVjaW1hbHMpKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIFtkZWNyZW1lbnQsIGluY3JlbWVudF07XG5cdFx0fSk7XG5cdH1cblxuXHQvLyBBdHRhY2ggYW4gZXZlbnQgdG8gdGhpcyBzbGlkZXIsIHBvc3NpYmx5IGluY2x1ZGluZyBhIG5hbWVzcGFjZVxuXHRmdW5jdGlvbiBiaW5kRXZlbnQgKCBuYW1lc3BhY2VkRXZlbnQsIGNhbGxiYWNrICkge1xuXHRcdHNjb3BlX0V2ZW50c1tuYW1lc3BhY2VkRXZlbnRdID0gc2NvcGVfRXZlbnRzW25hbWVzcGFjZWRFdmVudF0gfHwgW107XG5cdFx0c2NvcGVfRXZlbnRzW25hbWVzcGFjZWRFdmVudF0ucHVzaChjYWxsYmFjayk7XG5cblx0XHQvLyBJZiB0aGUgZXZlbnQgYm91bmQgaXMgJ3VwZGF0ZSwnIGZpcmUgaXQgaW1tZWRpYXRlbHkgZm9yIGFsbCBoYW5kbGVzLlxuXHRcdGlmICggbmFtZXNwYWNlZEV2ZW50LnNwbGl0KCcuJylbMF0gPT09ICd1cGRhdGUnICkge1xuXHRcdFx0c2NvcGVfSGFuZGxlcy5mb3JFYWNoKGZ1bmN0aW9uKGEsIGluZGV4KXtcblx0XHRcdFx0ZmlyZUV2ZW50KCd1cGRhdGUnLCBpbmRleCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvLyBVbmRvIGF0dGFjaG1lbnQgb2YgZXZlbnRcblx0ZnVuY3Rpb24gcmVtb3ZlRXZlbnQgKCBuYW1lc3BhY2VkRXZlbnQgKSB7XG5cblx0XHR2YXIgZXZlbnQgPSBuYW1lc3BhY2VkRXZlbnQgJiYgbmFtZXNwYWNlZEV2ZW50LnNwbGl0KCcuJylbMF07XG5cdFx0dmFyIG5hbWVzcGFjZSA9IGV2ZW50ICYmIG5hbWVzcGFjZWRFdmVudC5zdWJzdHJpbmcoZXZlbnQubGVuZ3RoKTtcblxuXHRcdE9iamVjdC5rZXlzKHNjb3BlX0V2ZW50cykuZm9yRWFjaChmdW5jdGlvbiggYmluZCApe1xuXG5cdFx0XHR2YXIgdEV2ZW50ID0gYmluZC5zcGxpdCgnLicpWzBdLFxuXHRcdFx0XHR0TmFtZXNwYWNlID0gYmluZC5zdWJzdHJpbmcodEV2ZW50Lmxlbmd0aCk7XG5cblx0XHRcdGlmICggKCFldmVudCB8fCBldmVudCA9PT0gdEV2ZW50KSAmJiAoIW5hbWVzcGFjZSB8fCBuYW1lc3BhY2UgPT09IHROYW1lc3BhY2UpICkge1xuXHRcdFx0XHRkZWxldGUgc2NvcGVfRXZlbnRzW2JpbmRdO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0Ly8gVXBkYXRlYWJsZTogbWFyZ2luLCBsaW1pdCwgcGFkZGluZywgc3RlcCwgcmFuZ2UsIGFuaW1hdGUsIHNuYXBcblx0ZnVuY3Rpb24gdXBkYXRlT3B0aW9ucyAoIG9wdGlvbnNUb1VwZGF0ZSwgZmlyZVNldEV2ZW50ICkge1xuXG5cdFx0Ly8gU3BlY3RydW0gaXMgY3JlYXRlZCB1c2luZyB0aGUgcmFuZ2UsIHNuYXAsIGRpcmVjdGlvbiBhbmQgc3RlcCBvcHRpb25zLlxuXHRcdC8vICdzbmFwJyBhbmQgJ3N0ZXAnIGNhbiBiZSB1cGRhdGVkLlxuXHRcdC8vIElmICdzbmFwJyBhbmQgJ3N0ZXAnIGFyZSBub3QgcGFzc2VkLCB0aGV5IHNob3VsZCByZW1haW4gdW5jaGFuZ2VkLlxuXHRcdHZhciB2ID0gdmFsdWVHZXQoKTtcblxuXHRcdHZhciB1cGRhdGVBYmxlID0gWydtYXJnaW4nLCAnbGltaXQnLCAncGFkZGluZycsICdyYW5nZScsICdhbmltYXRlJywgJ3NuYXAnLCAnc3RlcCcsICdmb3JtYXQnXTtcblxuXHRcdC8vIE9ubHkgY2hhbmdlIG9wdGlvbnMgdGhhdCB3ZSdyZSBhY3R1YWxseSBwYXNzZWQgdG8gdXBkYXRlLlxuXHRcdHVwZGF0ZUFibGUuZm9yRWFjaChmdW5jdGlvbihuYW1lKXtcblx0XHRcdGlmICggb3B0aW9uc1RvVXBkYXRlW25hbWVdICE9PSB1bmRlZmluZWQgKSB7XG5cdFx0XHRcdG9yaWdpbmFsT3B0aW9uc1tuYW1lXSA9IG9wdGlvbnNUb1VwZGF0ZVtuYW1lXTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdHZhciBuZXdPcHRpb25zID0gdGVzdE9wdGlvbnMob3JpZ2luYWxPcHRpb25zKTtcblxuXHRcdC8vIExvYWQgbmV3IG9wdGlvbnMgaW50byB0aGUgc2xpZGVyIHN0YXRlXG5cdFx0dXBkYXRlQWJsZS5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUpe1xuXHRcdFx0aWYgKCBvcHRpb25zVG9VcGRhdGVbbmFtZV0gIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0b3B0aW9uc1tuYW1lXSA9IG5ld09wdGlvbnNbbmFtZV07XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRzY29wZV9TcGVjdHJ1bSA9IG5ld09wdGlvbnMuc3BlY3RydW07XG5cblx0XHQvLyBMaW1pdCwgbWFyZ2luIGFuZCBwYWRkaW5nIGRlcGVuZCBvbiB0aGUgc3BlY3RydW0gYnV0IGFyZSBzdG9yZWQgb3V0c2lkZSBvZiBpdC4gKCM2NzcpXG5cdFx0b3B0aW9ucy5tYXJnaW4gPSBuZXdPcHRpb25zLm1hcmdpbjtcblx0XHRvcHRpb25zLmxpbWl0ID0gbmV3T3B0aW9ucy5saW1pdDtcblx0XHRvcHRpb25zLnBhZGRpbmcgPSBuZXdPcHRpb25zLnBhZGRpbmc7XG5cblx0XHQvLyBVcGRhdGUgcGlwcywgcmVtb3ZlcyBleGlzdGluZy5cblx0XHRpZiAoIG9wdGlvbnMucGlwcyApIHtcblx0XHRcdHBpcHMob3B0aW9ucy5waXBzKTtcblx0XHR9XG5cblx0XHQvLyBJbnZhbGlkYXRlIHRoZSBjdXJyZW50IHBvc2l0aW9uaW5nIHNvIHZhbHVlU2V0IGZvcmNlcyBhbiB1cGRhdGUuXG5cdFx0c2NvcGVfTG9jYXRpb25zID0gW107XG5cdFx0dmFsdWVTZXQob3B0aW9uc1RvVXBkYXRlLnN0YXJ0IHx8IHYsIGZpcmVTZXRFdmVudCk7XG5cdH1cblxuXHQvLyBUaHJvdyBhbiBlcnJvciBpZiB0aGUgc2xpZGVyIHdhcyBhbHJlYWR5IGluaXRpYWxpemVkLlxuXHRpZiAoIHNjb3BlX1RhcmdldC5ub1VpU2xpZGVyICkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIm5vVWlTbGlkZXIgKFwiICsgVkVSU0lPTiArIFwiKTogU2xpZGVyIHdhcyBhbHJlYWR5IGluaXRpYWxpemVkLlwiKTtcblx0fVxuXG5cdC8vIENyZWF0ZSB0aGUgYmFzZSBlbGVtZW50LCBpbml0aWFsaXNlIEhUTUwgYW5kIHNldCBjbGFzc2VzLlxuXHQvLyBBZGQgaGFuZGxlcyBhbmQgY29ubmVjdCBlbGVtZW50cy5cblx0YWRkU2xpZGVyKHNjb3BlX1RhcmdldCk7XG5cdGFkZEVsZW1lbnRzKG9wdGlvbnMuY29ubmVjdCwgc2NvcGVfQmFzZSk7XG5cblx0c2NvcGVfU2VsZiA9IHtcblx0XHRkZXN0cm95OiBkZXN0cm95LFxuXHRcdHN0ZXBzOiBnZXRDdXJyZW50U3RlcCxcblx0XHRvbjogYmluZEV2ZW50LFxuXHRcdG9mZjogcmVtb3ZlRXZlbnQsXG5cdFx0Z2V0OiB2YWx1ZUdldCxcblx0XHRzZXQ6IHZhbHVlU2V0LFxuXHRcdHJlc2V0OiB2YWx1ZVJlc2V0LFxuXHRcdC8vIEV4cG9zZWQgZm9yIHVuaXQgdGVzdGluZywgZG9uJ3QgdXNlIHRoaXMgaW4geW91ciBhcHBsaWNhdGlvbi5cblx0XHRfX21vdmVIYW5kbGVzOiBmdW5jdGlvbihhLCBiLCBjKSB7IG1vdmVIYW5kbGVzKGEsIGIsIHNjb3BlX0xvY2F0aW9ucywgYyk7IH0sXG5cdFx0b3B0aW9uczogb3JpZ2luYWxPcHRpb25zLCAvLyBJc3N1ZSAjNjAwLCAjNjc4XG5cdFx0dXBkYXRlT3B0aW9uczogdXBkYXRlT3B0aW9ucyxcblx0XHR0YXJnZXQ6IHNjb3BlX1RhcmdldCwgLy8gSXNzdWUgIzU5N1xuXHRcdHJlbW92ZVBpcHM6IHJlbW92ZVBpcHMsXG5cdFx0cGlwczogcGlwcyAvLyBJc3N1ZSAjNTk0XG5cdH07XG5cblx0Ly8gQXR0YWNoIHVzZXIgZXZlbnRzLlxuXHRiaW5kU2xpZGVyRXZlbnRzKG9wdGlvbnMuZXZlbnRzKTtcblxuXHQvLyBVc2UgdGhlIHB1YmxpYyB2YWx1ZSBtZXRob2QgdG8gc2V0IHRoZSBzdGFydCB2YWx1ZXMuXG5cdHZhbHVlU2V0KG9wdGlvbnMuc3RhcnQpO1xuXG5cdGlmICggb3B0aW9ucy5waXBzICkge1xuXHRcdHBpcHMob3B0aW9ucy5waXBzKTtcblx0fVxuXG5cdGlmICggb3B0aW9ucy50b29sdGlwcyApIHtcblx0XHR0b29sdGlwcygpO1xuXHR9XG5cblx0YXJpYSgpO1xuXG5cdHJldHVybiBzY29wZV9TZWxmO1xuXG59XG5cblxuXHQvLyBSdW4gdGhlIHN0YW5kYXJkIGluaXRpYWxpemVyXG5cdGZ1bmN0aW9uIGluaXRpYWxpemUgKCB0YXJnZXQsIG9yaWdpbmFsT3B0aW9ucyApIHtcblxuXHRcdGlmICggIXRhcmdldCB8fCAhdGFyZ2V0Lm5vZGVOYW1lICkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwibm9VaVNsaWRlciAoXCIgKyBWRVJTSU9OICsgXCIpOiBjcmVhdGUgcmVxdWlyZXMgYSBzaW5nbGUgZWxlbWVudCwgZ290OiBcIiArIHRhcmdldCk7XG5cdFx0fVxuXG5cdFx0Ly8gVGVzdCB0aGUgb3B0aW9ucyBhbmQgY3JlYXRlIHRoZSBzbGlkZXIgZW52aXJvbm1lbnQ7XG5cdFx0dmFyIG9wdGlvbnMgPSB0ZXN0T3B0aW9ucyggb3JpZ2luYWxPcHRpb25zLCB0YXJnZXQgKTtcblx0XHR2YXIgYXBpID0gY2xvc3VyZSggdGFyZ2V0LCBvcHRpb25zLCBvcmlnaW5hbE9wdGlvbnMgKTtcblxuXHRcdHRhcmdldC5ub1VpU2xpZGVyID0gYXBpO1xuXG5cdFx0cmV0dXJuIGFwaTtcblx0fVxuXG5cdC8vIFVzZSBhbiBvYmplY3QgaW5zdGVhZCBvZiBhIGZ1bmN0aW9uIGZvciBmdXR1cmUgZXhwYW5zaWJpbGl0eTtcblx0cmV0dXJuIHtcblx0XHR2ZXJzaW9uOiBWRVJTSU9OLFxuXHRcdGNyZWF0ZTogaW5pdGlhbGl6ZVxuXHR9O1xuXG59KSk7IiwiLyoqXG4gKiBAZmlsZW92ZXJ2aWV3XG4gKiAtIFVzaW5nIHRoZSAnUVJDb2RlIGZvciBKYXZhc2NyaXB0IGxpYnJhcnknXG4gKiAtIEZpeGVkIGRhdGFzZXQgb2YgJ1FSQ29kZSBmb3IgSmF2YXNjcmlwdCBsaWJyYXJ5JyBmb3Igc3VwcG9ydCBmdWxsLXNwZWMuXG4gKiAtIHRoaXMgbGlicmFyeSBoYXMgbm8gZGVwZW5kZW5jaWVzLlxuICogXG4gKiBAYXV0aG9yIGRhdmlkc2hpbWpzXG4gKiBAc2VlIDxhIGhyZWY9XCJodHRwOi8vd3d3LmQtcHJvamVjdC5jb20vXCIgdGFyZ2V0PVwiX2JsYW5rXCI+aHR0cDovL3d3dy5kLXByb2plY3QuY29tLzwvYT5cbiAqIEBzZWUgPGEgaHJlZj1cImh0dHA6Ly9qZXJvbWVldGllbm5lLmdpdGh1Yi5jb20vanF1ZXJ5LXFyY29kZS9cIiB0YXJnZXQ9XCJfYmxhbmtcIj5odHRwOi8vamVyb21lZXRpZW5uZS5naXRodWIuY29tL2pxdWVyeS1xcmNvZGUvPC9hPlxuICovXG52YXIgUVJDb2RlO1xuXG4oZnVuY3Rpb24gKCkge1xuXHQvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHQvLyBRUkNvZGUgZm9yIEphdmFTY3JpcHRcblx0Ly9cblx0Ly8gQ29weXJpZ2h0IChjKSAyMDA5IEthenVoaWtvIEFyYXNlXG5cdC8vXG5cdC8vIFVSTDogaHR0cDovL3d3dy5kLXByb2plY3QuY29tL1xuXHQvL1xuXHQvLyBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6XG5cdC8vICAgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0Ly9cblx0Ly8gVGhlIHdvcmQgXCJRUiBDb2RlXCIgaXMgcmVnaXN0ZXJlZCB0cmFkZW1hcmsgb2YgXG5cdC8vIERFTlNPIFdBVkUgSU5DT1JQT1JBVEVEXG5cdC8vICAgaHR0cDovL3d3dy5kZW5zby13YXZlLmNvbS9xcmNvZGUvZmFxcGF0ZW50LWUuaHRtbFxuXHQvL1xuXHQvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRmdW5jdGlvbiBRUjhiaXRCeXRlKGRhdGEpIHtcblx0XHR0aGlzLm1vZGUgPSBRUk1vZGUuTU9ERV84QklUX0JZVEU7XG5cdFx0dGhpcy5kYXRhID0gZGF0YTtcblx0XHR0aGlzLnBhcnNlZERhdGEgPSBbXTtcblxuXHRcdC8vIEFkZGVkIHRvIHN1cHBvcnQgVVRGLTggQ2hhcmFjdGVyc1xuXHRcdGZvciAodmFyIGkgPSAwLCBsID0gdGhpcy5kYXRhLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuXHRcdFx0dmFyIGJ5dGVBcnJheSA9IFtdO1xuXHRcdFx0dmFyIGNvZGUgPSB0aGlzLmRhdGEuY2hhckNvZGVBdChpKTtcblxuXHRcdFx0aWYgKGNvZGUgPiAweDEwMDAwKSB7XG5cdFx0XHRcdGJ5dGVBcnJheVswXSA9IDB4RjAgfCAoKGNvZGUgJiAweDFDMDAwMCkgPj4+IDE4KTtcblx0XHRcdFx0Ynl0ZUFycmF5WzFdID0gMHg4MCB8ICgoY29kZSAmIDB4M0YwMDApID4+PiAxMik7XG5cdFx0XHRcdGJ5dGVBcnJheVsyXSA9IDB4ODAgfCAoKGNvZGUgJiAweEZDMCkgPj4+IDYpO1xuXHRcdFx0XHRieXRlQXJyYXlbM10gPSAweDgwIHwgKGNvZGUgJiAweDNGKTtcblx0XHRcdH0gZWxzZSBpZiAoY29kZSA+IDB4ODAwKSB7XG5cdFx0XHRcdGJ5dGVBcnJheVswXSA9IDB4RTAgfCAoKGNvZGUgJiAweEYwMDApID4+PiAxMik7XG5cdFx0XHRcdGJ5dGVBcnJheVsxXSA9IDB4ODAgfCAoKGNvZGUgJiAweEZDMCkgPj4+IDYpO1xuXHRcdFx0XHRieXRlQXJyYXlbMl0gPSAweDgwIHwgKGNvZGUgJiAweDNGKTtcblx0XHRcdH0gZWxzZSBpZiAoY29kZSA+IDB4ODApIHtcblx0XHRcdFx0Ynl0ZUFycmF5WzBdID0gMHhDMCB8ICgoY29kZSAmIDB4N0MwKSA+Pj4gNik7XG5cdFx0XHRcdGJ5dGVBcnJheVsxXSA9IDB4ODAgfCAoY29kZSAmIDB4M0YpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ynl0ZUFycmF5WzBdID0gY29kZTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5wYXJzZWREYXRhLnB1c2goYnl0ZUFycmF5KTtcblx0XHR9XG5cblx0XHR0aGlzLnBhcnNlZERhdGEgPSBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLCB0aGlzLnBhcnNlZERhdGEpO1xuXG5cdFx0aWYgKHRoaXMucGFyc2VkRGF0YS5sZW5ndGggIT0gdGhpcy5kYXRhLmxlbmd0aCkge1xuXHRcdFx0dGhpcy5wYXJzZWREYXRhLnVuc2hpZnQoMTkxKTtcblx0XHRcdHRoaXMucGFyc2VkRGF0YS51bnNoaWZ0KDE4Nyk7XG5cdFx0XHR0aGlzLnBhcnNlZERhdGEudW5zaGlmdCgyMzkpO1xuXHRcdH1cblx0fVxuXG5cdFFSOGJpdEJ5dGUucHJvdG90eXBlID0ge1xuXHRcdGdldExlbmd0aDogZnVuY3Rpb24gKGJ1ZmZlcikge1xuXHRcdFx0cmV0dXJuIHRoaXMucGFyc2VkRGF0YS5sZW5ndGg7XG5cdFx0fSxcblx0XHR3cml0ZTogZnVuY3Rpb24gKGJ1ZmZlcikge1xuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIGwgPSB0aGlzLnBhcnNlZERhdGEubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG5cdFx0XHRcdGJ1ZmZlci5wdXQodGhpcy5wYXJzZWREYXRhW2ldLCA4KTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0ZnVuY3Rpb24gUVJDb2RlTW9kZWwodHlwZU51bWJlciwgZXJyb3JDb3JyZWN0TGV2ZWwpIHtcblx0XHR0aGlzLnR5cGVOdW1iZXIgPSB0eXBlTnVtYmVyO1xuXHRcdHRoaXMuZXJyb3JDb3JyZWN0TGV2ZWwgPSBlcnJvckNvcnJlY3RMZXZlbDtcblx0XHR0aGlzLm1vZHVsZXMgPSBudWxsO1xuXHRcdHRoaXMubW9kdWxlQ291bnQgPSAwO1xuXHRcdHRoaXMuZGF0YUNhY2hlID0gbnVsbDtcblx0XHR0aGlzLmRhdGFMaXN0ID0gW107XG5cdH1cblxuXHRRUkNvZGVNb2RlbC5wcm90b3R5cGU9e2FkZERhdGE6ZnVuY3Rpb24oZGF0YSl7dmFyIG5ld0RhdGE9bmV3IFFSOGJpdEJ5dGUoZGF0YSk7dGhpcy5kYXRhTGlzdC5wdXNoKG5ld0RhdGEpO3RoaXMuZGF0YUNhY2hlPW51bGw7fSxpc0Rhcms6ZnVuY3Rpb24ocm93LGNvbCl7aWYocm93PDB8fHRoaXMubW9kdWxlQ291bnQ8PXJvd3x8Y29sPDB8fHRoaXMubW9kdWxlQ291bnQ8PWNvbCl7dGhyb3cgbmV3IEVycm9yKHJvdytcIixcIitjb2wpO31cblx0cmV0dXJuIHRoaXMubW9kdWxlc1tyb3ddW2NvbF07fSxnZXRNb2R1bGVDb3VudDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1vZHVsZUNvdW50O30sbWFrZTpmdW5jdGlvbigpe3RoaXMubWFrZUltcGwoZmFsc2UsdGhpcy5nZXRCZXN0TWFza1BhdHRlcm4oKSk7fSxtYWtlSW1wbDpmdW5jdGlvbih0ZXN0LG1hc2tQYXR0ZXJuKXt0aGlzLm1vZHVsZUNvdW50PXRoaXMudHlwZU51bWJlcio0KzE3O3RoaXMubW9kdWxlcz1uZXcgQXJyYXkodGhpcy5tb2R1bGVDb3VudCk7Zm9yKHZhciByb3c9MDtyb3c8dGhpcy5tb2R1bGVDb3VudDtyb3crKyl7dGhpcy5tb2R1bGVzW3Jvd109bmV3IEFycmF5KHRoaXMubW9kdWxlQ291bnQpO2Zvcih2YXIgY29sPTA7Y29sPHRoaXMubW9kdWxlQ291bnQ7Y29sKyspe3RoaXMubW9kdWxlc1tyb3ddW2NvbF09bnVsbDt9fVxuXHR0aGlzLnNldHVwUG9zaXRpb25Qcm9iZVBhdHRlcm4oMCwwKTt0aGlzLnNldHVwUG9zaXRpb25Qcm9iZVBhdHRlcm4odGhpcy5tb2R1bGVDb3VudC03LDApO3RoaXMuc2V0dXBQb3NpdGlvblByb2JlUGF0dGVybigwLHRoaXMubW9kdWxlQ291bnQtNyk7dGhpcy5zZXR1cFBvc2l0aW9uQWRqdXN0UGF0dGVybigpO3RoaXMuc2V0dXBUaW1pbmdQYXR0ZXJuKCk7dGhpcy5zZXR1cFR5cGVJbmZvKHRlc3QsbWFza1BhdHRlcm4pO2lmKHRoaXMudHlwZU51bWJlcj49Nyl7dGhpcy5zZXR1cFR5cGVOdW1iZXIodGVzdCk7fVxuXHRpZih0aGlzLmRhdGFDYWNoZT09bnVsbCl7dGhpcy5kYXRhQ2FjaGU9UVJDb2RlTW9kZWwuY3JlYXRlRGF0YSh0aGlzLnR5cGVOdW1iZXIsdGhpcy5lcnJvckNvcnJlY3RMZXZlbCx0aGlzLmRhdGFMaXN0KTt9XG5cdHRoaXMubWFwRGF0YSh0aGlzLmRhdGFDYWNoZSxtYXNrUGF0dGVybik7fSxzZXR1cFBvc2l0aW9uUHJvYmVQYXR0ZXJuOmZ1bmN0aW9uKHJvdyxjb2wpe2Zvcih2YXIgcj0tMTtyPD03O3IrKyl7aWYocm93K3I8PS0xfHx0aGlzLm1vZHVsZUNvdW50PD1yb3crciljb250aW51ZTtmb3IodmFyIGM9LTE7Yzw9NztjKyspe2lmKGNvbCtjPD0tMXx8dGhpcy5tb2R1bGVDb3VudDw9Y29sK2MpY29udGludWU7aWYoKDA8PXImJnI8PTYmJihjPT0wfHxjPT02KSl8fCgwPD1jJiZjPD02JiYocj09MHx8cj09NikpfHwoMjw9ciYmcjw9NCYmMjw9YyYmYzw9NCkpe3RoaXMubW9kdWxlc1tyb3crcl1bY29sK2NdPXRydWU7fWVsc2V7dGhpcy5tb2R1bGVzW3JvdytyXVtjb2wrY109ZmFsc2U7fX19fSxnZXRCZXN0TWFza1BhdHRlcm46ZnVuY3Rpb24oKXt2YXIgbWluTG9zdFBvaW50PTA7dmFyIHBhdHRlcm49MDtmb3IodmFyIGk9MDtpPDg7aSsrKXt0aGlzLm1ha2VJbXBsKHRydWUsaSk7dmFyIGxvc3RQb2ludD1RUlV0aWwuZ2V0TG9zdFBvaW50KHRoaXMpO2lmKGk9PTB8fG1pbkxvc3RQb2ludD5sb3N0UG9pbnQpe21pbkxvc3RQb2ludD1sb3N0UG9pbnQ7cGF0dGVybj1pO319XG5cdHJldHVybiBwYXR0ZXJuO30sY3JlYXRlTW92aWVDbGlwOmZ1bmN0aW9uKHRhcmdldF9tYyxpbnN0YW5jZV9uYW1lLGRlcHRoKXt2YXIgcXJfbWM9dGFyZ2V0X21jLmNyZWF0ZUVtcHR5TW92aWVDbGlwKGluc3RhbmNlX25hbWUsZGVwdGgpO3ZhciBjcz0xO3RoaXMubWFrZSgpO2Zvcih2YXIgcm93PTA7cm93PHRoaXMubW9kdWxlcy5sZW5ndGg7cm93Kyspe3ZhciB5PXJvdypjcztmb3IodmFyIGNvbD0wO2NvbDx0aGlzLm1vZHVsZXNbcm93XS5sZW5ndGg7Y29sKyspe3ZhciB4PWNvbCpjczt2YXIgZGFyaz10aGlzLm1vZHVsZXNbcm93XVtjb2xdO2lmKGRhcmspe3FyX21jLmJlZ2luRmlsbCgwLDEwMCk7cXJfbWMubW92ZVRvKHgseSk7cXJfbWMubGluZVRvKHgrY3MseSk7cXJfbWMubGluZVRvKHgrY3MseStjcyk7cXJfbWMubGluZVRvKHgseStjcyk7cXJfbWMuZW5kRmlsbCgpO319fVxuXHRyZXR1cm4gcXJfbWM7fSxzZXR1cFRpbWluZ1BhdHRlcm46ZnVuY3Rpb24oKXtmb3IodmFyIHI9ODtyPHRoaXMubW9kdWxlQ291bnQtODtyKyspe2lmKHRoaXMubW9kdWxlc1tyXVs2XSE9bnVsbCl7Y29udGludWU7fVxuXHR0aGlzLm1vZHVsZXNbcl1bNl09KHIlMj09MCk7fVxuXHRmb3IodmFyIGM9ODtjPHRoaXMubW9kdWxlQ291bnQtODtjKyspe2lmKHRoaXMubW9kdWxlc1s2XVtjXSE9bnVsbCl7Y29udGludWU7fVxuXHR0aGlzLm1vZHVsZXNbNl1bY109KGMlMj09MCk7fX0sc2V0dXBQb3NpdGlvbkFkanVzdFBhdHRlcm46ZnVuY3Rpb24oKXt2YXIgcG9zPVFSVXRpbC5nZXRQYXR0ZXJuUG9zaXRpb24odGhpcy50eXBlTnVtYmVyKTtmb3IodmFyIGk9MDtpPHBvcy5sZW5ndGg7aSsrKXtmb3IodmFyIGo9MDtqPHBvcy5sZW5ndGg7aisrKXt2YXIgcm93PXBvc1tpXTt2YXIgY29sPXBvc1tqXTtpZih0aGlzLm1vZHVsZXNbcm93XVtjb2xdIT1udWxsKXtjb250aW51ZTt9XG5cdGZvcih2YXIgcj0tMjtyPD0yO3IrKyl7Zm9yKHZhciBjPS0yO2M8PTI7YysrKXtpZihyPT0tMnx8cj09Mnx8Yz09LTJ8fGM9PTJ8fChyPT0wJiZjPT0wKSl7dGhpcy5tb2R1bGVzW3JvdytyXVtjb2wrY109dHJ1ZTt9ZWxzZXt0aGlzLm1vZHVsZXNbcm93K3JdW2NvbCtjXT1mYWxzZTt9fX19fX0sc2V0dXBUeXBlTnVtYmVyOmZ1bmN0aW9uKHRlc3Qpe3ZhciBiaXRzPVFSVXRpbC5nZXRCQ0hUeXBlTnVtYmVyKHRoaXMudHlwZU51bWJlcik7Zm9yKHZhciBpPTA7aTwxODtpKyspe3ZhciBtb2Q9KCF0ZXN0JiYoKGJpdHM+PmkpJjEpPT0xKTt0aGlzLm1vZHVsZXNbTWF0aC5mbG9vcihpLzMpXVtpJTMrdGhpcy5tb2R1bGVDb3VudC04LTNdPW1vZDt9XG5cdGZvcih2YXIgaT0wO2k8MTg7aSsrKXt2YXIgbW9kPSghdGVzdCYmKChiaXRzPj5pKSYxKT09MSk7dGhpcy5tb2R1bGVzW2klMyt0aGlzLm1vZHVsZUNvdW50LTgtM11bTWF0aC5mbG9vcihpLzMpXT1tb2Q7fX0sc2V0dXBUeXBlSW5mbzpmdW5jdGlvbih0ZXN0LG1hc2tQYXR0ZXJuKXt2YXIgZGF0YT0odGhpcy5lcnJvckNvcnJlY3RMZXZlbDw8Myl8bWFza1BhdHRlcm47dmFyIGJpdHM9UVJVdGlsLmdldEJDSFR5cGVJbmZvKGRhdGEpO2Zvcih2YXIgaT0wO2k8MTU7aSsrKXt2YXIgbW9kPSghdGVzdCYmKChiaXRzPj5pKSYxKT09MSk7aWYoaTw2KXt0aGlzLm1vZHVsZXNbaV1bOF09bW9kO31lbHNlIGlmKGk8OCl7dGhpcy5tb2R1bGVzW2krMV1bOF09bW9kO31lbHNle3RoaXMubW9kdWxlc1t0aGlzLm1vZHVsZUNvdW50LTE1K2ldWzhdPW1vZDt9fVxuXHRmb3IodmFyIGk9MDtpPDE1O2krKyl7dmFyIG1vZD0oIXRlc3QmJigoYml0cz4+aSkmMSk9PTEpO2lmKGk8OCl7dGhpcy5tb2R1bGVzWzhdW3RoaXMubW9kdWxlQ291bnQtaS0xXT1tb2Q7fWVsc2UgaWYoaTw5KXt0aGlzLm1vZHVsZXNbOF1bMTUtaS0xKzFdPW1vZDt9ZWxzZXt0aGlzLm1vZHVsZXNbOF1bMTUtaS0xXT1tb2Q7fX1cblx0dGhpcy5tb2R1bGVzW3RoaXMubW9kdWxlQ291bnQtOF1bOF09KCF0ZXN0KTt9LG1hcERhdGE6ZnVuY3Rpb24oZGF0YSxtYXNrUGF0dGVybil7dmFyIGluYz0tMTt2YXIgcm93PXRoaXMubW9kdWxlQ291bnQtMTt2YXIgYml0SW5kZXg9Nzt2YXIgYnl0ZUluZGV4PTA7Zm9yKHZhciBjb2w9dGhpcy5tb2R1bGVDb3VudC0xO2NvbD4wO2NvbC09Mil7aWYoY29sPT02KWNvbC0tO3doaWxlKHRydWUpe2Zvcih2YXIgYz0wO2M8MjtjKyspe2lmKHRoaXMubW9kdWxlc1tyb3ddW2NvbC1jXT09bnVsbCl7dmFyIGRhcms9ZmFsc2U7aWYoYnl0ZUluZGV4PGRhdGEubGVuZ3RoKXtkYXJrPSgoKGRhdGFbYnl0ZUluZGV4XT4+PmJpdEluZGV4KSYxKT09MSk7fVxuXHR2YXIgbWFzaz1RUlV0aWwuZ2V0TWFzayhtYXNrUGF0dGVybixyb3csY29sLWMpO2lmKG1hc2spe2Rhcms9IWRhcms7fVxuXHR0aGlzLm1vZHVsZXNbcm93XVtjb2wtY109ZGFyaztiaXRJbmRleC0tO2lmKGJpdEluZGV4PT0tMSl7Ynl0ZUluZGV4Kys7Yml0SW5kZXg9Nzt9fX1cblx0cm93Kz1pbmM7aWYocm93PDB8fHRoaXMubW9kdWxlQ291bnQ8PXJvdyl7cm93LT1pbmM7aW5jPS1pbmM7YnJlYWs7fX19fX07UVJDb2RlTW9kZWwuUEFEMD0weEVDO1FSQ29kZU1vZGVsLlBBRDE9MHgxMTtRUkNvZGVNb2RlbC5jcmVhdGVEYXRhPWZ1bmN0aW9uKHR5cGVOdW1iZXIsZXJyb3JDb3JyZWN0TGV2ZWwsZGF0YUxpc3Qpe3ZhciByc0Jsb2Nrcz1RUlJTQmxvY2suZ2V0UlNCbG9ja3ModHlwZU51bWJlcixlcnJvckNvcnJlY3RMZXZlbCk7dmFyIGJ1ZmZlcj1uZXcgUVJCaXRCdWZmZXIoKTtmb3IodmFyIGk9MDtpPGRhdGFMaXN0Lmxlbmd0aDtpKyspe3ZhciBkYXRhPWRhdGFMaXN0W2ldO2J1ZmZlci5wdXQoZGF0YS5tb2RlLDQpO2J1ZmZlci5wdXQoZGF0YS5nZXRMZW5ndGgoKSxRUlV0aWwuZ2V0TGVuZ3RoSW5CaXRzKGRhdGEubW9kZSx0eXBlTnVtYmVyKSk7ZGF0YS53cml0ZShidWZmZXIpO31cblx0dmFyIHRvdGFsRGF0YUNvdW50PTA7Zm9yKHZhciBpPTA7aTxyc0Jsb2Nrcy5sZW5ndGg7aSsrKXt0b3RhbERhdGFDb3VudCs9cnNCbG9ja3NbaV0uZGF0YUNvdW50O31cblx0aWYoYnVmZmVyLmdldExlbmd0aEluQml0cygpPnRvdGFsRGF0YUNvdW50Kjgpe3Rocm93IG5ldyBFcnJvcihcImNvZGUgbGVuZ3RoIG92ZXJmbG93LiAoXCJcblx0K2J1ZmZlci5nZXRMZW5ndGhJbkJpdHMoKVxuXHQrXCI+XCJcblx0K3RvdGFsRGF0YUNvdW50Kjhcblx0K1wiKVwiKTt9XG5cdGlmKGJ1ZmZlci5nZXRMZW5ndGhJbkJpdHMoKSs0PD10b3RhbERhdGFDb3VudCo4KXtidWZmZXIucHV0KDAsNCk7fVxuXHR3aGlsZShidWZmZXIuZ2V0TGVuZ3RoSW5CaXRzKCklOCE9MCl7YnVmZmVyLnB1dEJpdChmYWxzZSk7fVxuXHR3aGlsZSh0cnVlKXtpZihidWZmZXIuZ2V0TGVuZ3RoSW5CaXRzKCk+PXRvdGFsRGF0YUNvdW50Kjgpe2JyZWFrO31cblx0YnVmZmVyLnB1dChRUkNvZGVNb2RlbC5QQUQwLDgpO2lmKGJ1ZmZlci5nZXRMZW5ndGhJbkJpdHMoKT49dG90YWxEYXRhQ291bnQqOCl7YnJlYWs7fVxuXHRidWZmZXIucHV0KFFSQ29kZU1vZGVsLlBBRDEsOCk7fVxuXHRyZXR1cm4gUVJDb2RlTW9kZWwuY3JlYXRlQnl0ZXMoYnVmZmVyLHJzQmxvY2tzKTt9O1FSQ29kZU1vZGVsLmNyZWF0ZUJ5dGVzPWZ1bmN0aW9uKGJ1ZmZlcixyc0Jsb2Nrcyl7dmFyIG9mZnNldD0wO3ZhciBtYXhEY0NvdW50PTA7dmFyIG1heEVjQ291bnQ9MDt2YXIgZGNkYXRhPW5ldyBBcnJheShyc0Jsb2Nrcy5sZW5ndGgpO3ZhciBlY2RhdGE9bmV3IEFycmF5KHJzQmxvY2tzLmxlbmd0aCk7Zm9yKHZhciByPTA7cjxyc0Jsb2Nrcy5sZW5ndGg7cisrKXt2YXIgZGNDb3VudD1yc0Jsb2Nrc1tyXS5kYXRhQ291bnQ7dmFyIGVjQ291bnQ9cnNCbG9ja3Nbcl0udG90YWxDb3VudC1kY0NvdW50O21heERjQ291bnQ9TWF0aC5tYXgobWF4RGNDb3VudCxkY0NvdW50KTttYXhFY0NvdW50PU1hdGgubWF4KG1heEVjQ291bnQsZWNDb3VudCk7ZGNkYXRhW3JdPW5ldyBBcnJheShkY0NvdW50KTtmb3IodmFyIGk9MDtpPGRjZGF0YVtyXS5sZW5ndGg7aSsrKXtkY2RhdGFbcl1baV09MHhmZiZidWZmZXIuYnVmZmVyW2krb2Zmc2V0XTt9XG5cdG9mZnNldCs9ZGNDb3VudDt2YXIgcnNQb2x5PVFSVXRpbC5nZXRFcnJvckNvcnJlY3RQb2x5bm9taWFsKGVjQ291bnQpO3ZhciByYXdQb2x5PW5ldyBRUlBvbHlub21pYWwoZGNkYXRhW3JdLHJzUG9seS5nZXRMZW5ndGgoKS0xKTt2YXIgbW9kUG9seT1yYXdQb2x5Lm1vZChyc1BvbHkpO2VjZGF0YVtyXT1uZXcgQXJyYXkocnNQb2x5LmdldExlbmd0aCgpLTEpO2Zvcih2YXIgaT0wO2k8ZWNkYXRhW3JdLmxlbmd0aDtpKyspe3ZhciBtb2RJbmRleD1pK21vZFBvbHkuZ2V0TGVuZ3RoKCktZWNkYXRhW3JdLmxlbmd0aDtlY2RhdGFbcl1baV09KG1vZEluZGV4Pj0wKT9tb2RQb2x5LmdldChtb2RJbmRleCk6MDt9fVxuXHR2YXIgdG90YWxDb2RlQ291bnQ9MDtmb3IodmFyIGk9MDtpPHJzQmxvY2tzLmxlbmd0aDtpKyspe3RvdGFsQ29kZUNvdW50Kz1yc0Jsb2Nrc1tpXS50b3RhbENvdW50O31cblx0dmFyIGRhdGE9bmV3IEFycmF5KHRvdGFsQ29kZUNvdW50KTt2YXIgaW5kZXg9MDtmb3IodmFyIGk9MDtpPG1heERjQ291bnQ7aSsrKXtmb3IodmFyIHI9MDtyPHJzQmxvY2tzLmxlbmd0aDtyKyspe2lmKGk8ZGNkYXRhW3JdLmxlbmd0aCl7ZGF0YVtpbmRleCsrXT1kY2RhdGFbcl1baV07fX19XG5cdGZvcih2YXIgaT0wO2k8bWF4RWNDb3VudDtpKyspe2Zvcih2YXIgcj0wO3I8cnNCbG9ja3MubGVuZ3RoO3IrKyl7aWYoaTxlY2RhdGFbcl0ubGVuZ3RoKXtkYXRhW2luZGV4KytdPWVjZGF0YVtyXVtpXTt9fX1cblx0cmV0dXJuIGRhdGE7fTt2YXIgUVJNb2RlPXtNT0RFX05VTUJFUjoxPDwwLE1PREVfQUxQSEFfTlVNOjE8PDEsTU9ERV84QklUX0JZVEU6MTw8MixNT0RFX0tBTkpJOjE8PDN9O3ZhciBRUkVycm9yQ29ycmVjdExldmVsPXtMOjEsTTowLFE6MyxIOjJ9O3ZhciBRUk1hc2tQYXR0ZXJuPXtQQVRURVJOMDAwOjAsUEFUVEVSTjAwMToxLFBBVFRFUk4wMTA6MixQQVRURVJOMDExOjMsUEFUVEVSTjEwMDo0LFBBVFRFUk4xMDE6NSxQQVRURVJOMTEwOjYsUEFUVEVSTjExMTo3fTt2YXIgUVJVdGlsPXtQQVRURVJOX1BPU0lUSU9OX1RBQkxFOltbXSxbNiwxOF0sWzYsMjJdLFs2LDI2XSxbNiwzMF0sWzYsMzRdLFs2LDIyLDM4XSxbNiwyNCw0Ml0sWzYsMjYsNDZdLFs2LDI4LDUwXSxbNiwzMCw1NF0sWzYsMzIsNThdLFs2LDM0LDYyXSxbNiwyNiw0Niw2Nl0sWzYsMjYsNDgsNzBdLFs2LDI2LDUwLDc0XSxbNiwzMCw1NCw3OF0sWzYsMzAsNTYsODJdLFs2LDMwLDU4LDg2XSxbNiwzNCw2Miw5MF0sWzYsMjgsNTAsNzIsOTRdLFs2LDI2LDUwLDc0LDk4XSxbNiwzMCw1NCw3OCwxMDJdLFs2LDI4LDU0LDgwLDEwNl0sWzYsMzIsNTgsODQsMTEwXSxbNiwzMCw1OCw4NiwxMTRdLFs2LDM0LDYyLDkwLDExOF0sWzYsMjYsNTAsNzQsOTgsMTIyXSxbNiwzMCw1NCw3OCwxMDIsMTI2XSxbNiwyNiw1Miw3OCwxMDQsMTMwXSxbNiwzMCw1Niw4MiwxMDgsMTM0XSxbNiwzNCw2MCw4NiwxMTIsMTM4XSxbNiwzMCw1OCw4NiwxMTQsMTQyXSxbNiwzNCw2Miw5MCwxMTgsMTQ2XSxbNiwzMCw1NCw3OCwxMDIsMTI2LDE1MF0sWzYsMjQsNTAsNzYsMTAyLDEyOCwxNTRdLFs2LDI4LDU0LDgwLDEwNiwxMzIsMTU4XSxbNiwzMiw1OCw4NCwxMTAsMTM2LDE2Ml0sWzYsMjYsNTQsODIsMTEwLDEzOCwxNjZdLFs2LDMwLDU4LDg2LDExNCwxNDIsMTcwXV0sRzE1OigxPDwxMCl8KDE8PDgpfCgxPDw1KXwoMTw8NCl8KDE8PDIpfCgxPDwxKXwoMTw8MCksRzE4OigxPDwxMil8KDE8PDExKXwoMTw8MTApfCgxPDw5KXwoMTw8OCl8KDE8PDUpfCgxPDwyKXwoMTw8MCksRzE1X01BU0s6KDE8PDE0KXwoMTw8MTIpfCgxPDwxMCl8KDE8PDQpfCgxPDwxKSxnZXRCQ0hUeXBlSW5mbzpmdW5jdGlvbihkYXRhKXt2YXIgZD1kYXRhPDwxMDt3aGlsZShRUlV0aWwuZ2V0QkNIRGlnaXQoZCktUVJVdGlsLmdldEJDSERpZ2l0KFFSVXRpbC5HMTUpPj0wKXtkXj0oUVJVdGlsLkcxNTw8KFFSVXRpbC5nZXRCQ0hEaWdpdChkKS1RUlV0aWwuZ2V0QkNIRGlnaXQoUVJVdGlsLkcxNSkpKTt9XG5cdHJldHVybigoZGF0YTw8MTApfGQpXlFSVXRpbC5HMTVfTUFTSzt9LGdldEJDSFR5cGVOdW1iZXI6ZnVuY3Rpb24oZGF0YSl7dmFyIGQ9ZGF0YTw8MTI7d2hpbGUoUVJVdGlsLmdldEJDSERpZ2l0KGQpLVFSVXRpbC5nZXRCQ0hEaWdpdChRUlV0aWwuRzE4KT49MCl7ZF49KFFSVXRpbC5HMTg8PChRUlV0aWwuZ2V0QkNIRGlnaXQoZCktUVJVdGlsLmdldEJDSERpZ2l0KFFSVXRpbC5HMTgpKSk7fVxuXHRyZXR1cm4oZGF0YTw8MTIpfGQ7fSxnZXRCQ0hEaWdpdDpmdW5jdGlvbihkYXRhKXt2YXIgZGlnaXQ9MDt3aGlsZShkYXRhIT0wKXtkaWdpdCsrO2RhdGE+Pj49MTt9XG5cdHJldHVybiBkaWdpdDt9LGdldFBhdHRlcm5Qb3NpdGlvbjpmdW5jdGlvbih0eXBlTnVtYmVyKXtyZXR1cm4gUVJVdGlsLlBBVFRFUk5fUE9TSVRJT05fVEFCTEVbdHlwZU51bWJlci0xXTt9LGdldE1hc2s6ZnVuY3Rpb24obWFza1BhdHRlcm4saSxqKXtzd2l0Y2gobWFza1BhdHRlcm4pe2Nhc2UgUVJNYXNrUGF0dGVybi5QQVRURVJOMDAwOnJldHVybihpK2opJTI9PTA7Y2FzZSBRUk1hc2tQYXR0ZXJuLlBBVFRFUk4wMDE6cmV0dXJuIGklMj09MDtjYXNlIFFSTWFza1BhdHRlcm4uUEFUVEVSTjAxMDpyZXR1cm4gaiUzPT0wO2Nhc2UgUVJNYXNrUGF0dGVybi5QQVRURVJOMDExOnJldHVybihpK2opJTM9PTA7Y2FzZSBRUk1hc2tQYXR0ZXJuLlBBVFRFUk4xMDA6cmV0dXJuKE1hdGguZmxvb3IoaS8yKStNYXRoLmZsb29yKGovMykpJTI9PTA7Y2FzZSBRUk1hc2tQYXR0ZXJuLlBBVFRFUk4xMDE6cmV0dXJuKGkqaiklMisoaSpqKSUzPT0wO2Nhc2UgUVJNYXNrUGF0dGVybi5QQVRURVJOMTEwOnJldHVybigoaSpqKSUyKyhpKmopJTMpJTI9PTA7Y2FzZSBRUk1hc2tQYXR0ZXJuLlBBVFRFUk4xMTE6cmV0dXJuKChpKmopJTMrKGkraiklMiklMj09MDtkZWZhdWx0OnRocm93IG5ldyBFcnJvcihcImJhZCBtYXNrUGF0dGVybjpcIittYXNrUGF0dGVybik7fX0sZ2V0RXJyb3JDb3JyZWN0UG9seW5vbWlhbDpmdW5jdGlvbihlcnJvckNvcnJlY3RMZW5ndGgpe3ZhciBhPW5ldyBRUlBvbHlub21pYWwoWzFdLDApO2Zvcih2YXIgaT0wO2k8ZXJyb3JDb3JyZWN0TGVuZ3RoO2krKyl7YT1hLm11bHRpcGx5KG5ldyBRUlBvbHlub21pYWwoWzEsUVJNYXRoLmdleHAoaSldLDApKTt9XG5cdHJldHVybiBhO30sZ2V0TGVuZ3RoSW5CaXRzOmZ1bmN0aW9uKG1vZGUsdHlwZSl7aWYoMTw9dHlwZSYmdHlwZTwxMCl7c3dpdGNoKG1vZGUpe2Nhc2UgUVJNb2RlLk1PREVfTlVNQkVSOnJldHVybiAxMDtjYXNlIFFSTW9kZS5NT0RFX0FMUEhBX05VTTpyZXR1cm4gOTtjYXNlIFFSTW9kZS5NT0RFXzhCSVRfQllURTpyZXR1cm4gODtjYXNlIFFSTW9kZS5NT0RFX0tBTkpJOnJldHVybiA4O2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwibW9kZTpcIittb2RlKTt9fWVsc2UgaWYodHlwZTwyNyl7c3dpdGNoKG1vZGUpe2Nhc2UgUVJNb2RlLk1PREVfTlVNQkVSOnJldHVybiAxMjtjYXNlIFFSTW9kZS5NT0RFX0FMUEhBX05VTTpyZXR1cm4gMTE7Y2FzZSBRUk1vZGUuTU9ERV84QklUX0JZVEU6cmV0dXJuIDE2O2Nhc2UgUVJNb2RlLk1PREVfS0FOSkk6cmV0dXJuIDEwO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwibW9kZTpcIittb2RlKTt9fWVsc2UgaWYodHlwZTw0MSl7c3dpdGNoKG1vZGUpe2Nhc2UgUVJNb2RlLk1PREVfTlVNQkVSOnJldHVybiAxNDtjYXNlIFFSTW9kZS5NT0RFX0FMUEhBX05VTTpyZXR1cm4gMTM7Y2FzZSBRUk1vZGUuTU9ERV84QklUX0JZVEU6cmV0dXJuIDE2O2Nhc2UgUVJNb2RlLk1PREVfS0FOSkk6cmV0dXJuIDEyO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwibW9kZTpcIittb2RlKTt9fWVsc2V7dGhyb3cgbmV3IEVycm9yKFwidHlwZTpcIit0eXBlKTt9fSxnZXRMb3N0UG9pbnQ6ZnVuY3Rpb24ocXJDb2RlKXt2YXIgbW9kdWxlQ291bnQ9cXJDb2RlLmdldE1vZHVsZUNvdW50KCk7dmFyIGxvc3RQb2ludD0wO2Zvcih2YXIgcm93PTA7cm93PG1vZHVsZUNvdW50O3JvdysrKXtmb3IodmFyIGNvbD0wO2NvbDxtb2R1bGVDb3VudDtjb2wrKyl7dmFyIHNhbWVDb3VudD0wO3ZhciBkYXJrPXFyQ29kZS5pc0Rhcmsocm93LGNvbCk7Zm9yKHZhciByPS0xO3I8PTE7cisrKXtpZihyb3crcjwwfHxtb2R1bGVDb3VudDw9cm93K3Ipe2NvbnRpbnVlO31cblx0Zm9yKHZhciBjPS0xO2M8PTE7YysrKXtpZihjb2wrYzwwfHxtb2R1bGVDb3VudDw9Y29sK2Mpe2NvbnRpbnVlO31cblx0aWYocj09MCYmYz09MCl7Y29udGludWU7fVxuXHRpZihkYXJrPT1xckNvZGUuaXNEYXJrKHJvdytyLGNvbCtjKSl7c2FtZUNvdW50Kys7fX19XG5cdGlmKHNhbWVDb3VudD41KXtsb3N0UG9pbnQrPSgzK3NhbWVDb3VudC01KTt9fX1cblx0Zm9yKHZhciByb3c9MDtyb3c8bW9kdWxlQ291bnQtMTtyb3crKyl7Zm9yKHZhciBjb2w9MDtjb2w8bW9kdWxlQ291bnQtMTtjb2wrKyl7dmFyIGNvdW50PTA7aWYocXJDb2RlLmlzRGFyayhyb3csY29sKSljb3VudCsrO2lmKHFyQ29kZS5pc0Rhcmsocm93KzEsY29sKSljb3VudCsrO2lmKHFyQ29kZS5pc0Rhcmsocm93LGNvbCsxKSljb3VudCsrO2lmKHFyQ29kZS5pc0Rhcmsocm93KzEsY29sKzEpKWNvdW50Kys7aWYoY291bnQ9PTB8fGNvdW50PT00KXtsb3N0UG9pbnQrPTM7fX19XG5cdGZvcih2YXIgcm93PTA7cm93PG1vZHVsZUNvdW50O3JvdysrKXtmb3IodmFyIGNvbD0wO2NvbDxtb2R1bGVDb3VudC02O2NvbCsrKXtpZihxckNvZGUuaXNEYXJrKHJvdyxjb2wpJiYhcXJDb2RlLmlzRGFyayhyb3csY29sKzEpJiZxckNvZGUuaXNEYXJrKHJvdyxjb2wrMikmJnFyQ29kZS5pc0Rhcmsocm93LGNvbCszKSYmcXJDb2RlLmlzRGFyayhyb3csY29sKzQpJiYhcXJDb2RlLmlzRGFyayhyb3csY29sKzUpJiZxckNvZGUuaXNEYXJrKHJvdyxjb2wrNikpe2xvc3RQb2ludCs9NDA7fX19XG5cdGZvcih2YXIgY29sPTA7Y29sPG1vZHVsZUNvdW50O2NvbCsrKXtmb3IodmFyIHJvdz0wO3Jvdzxtb2R1bGVDb3VudC02O3JvdysrKXtpZihxckNvZGUuaXNEYXJrKHJvdyxjb2wpJiYhcXJDb2RlLmlzRGFyayhyb3crMSxjb2wpJiZxckNvZGUuaXNEYXJrKHJvdysyLGNvbCkmJnFyQ29kZS5pc0Rhcmsocm93KzMsY29sKSYmcXJDb2RlLmlzRGFyayhyb3crNCxjb2wpJiYhcXJDb2RlLmlzRGFyayhyb3crNSxjb2wpJiZxckNvZGUuaXNEYXJrKHJvdys2LGNvbCkpe2xvc3RQb2ludCs9NDA7fX19XG5cdHZhciBkYXJrQ291bnQ9MDtmb3IodmFyIGNvbD0wO2NvbDxtb2R1bGVDb3VudDtjb2wrKyl7Zm9yKHZhciByb3c9MDtyb3c8bW9kdWxlQ291bnQ7cm93Kyspe2lmKHFyQ29kZS5pc0Rhcmsocm93LGNvbCkpe2RhcmtDb3VudCsrO319fVxuXHR2YXIgcmF0aW89TWF0aC5hYnMoMTAwKmRhcmtDb3VudC9tb2R1bGVDb3VudC9tb2R1bGVDb3VudC01MCkvNTtsb3N0UG9pbnQrPXJhdGlvKjEwO3JldHVybiBsb3N0UG9pbnQ7fX07dmFyIFFSTWF0aD17Z2xvZzpmdW5jdGlvbihuKXtpZihuPDEpe3Rocm93IG5ldyBFcnJvcihcImdsb2coXCIrbitcIilcIik7fVxuXHRyZXR1cm4gUVJNYXRoLkxPR19UQUJMRVtuXTt9LGdleHA6ZnVuY3Rpb24obil7d2hpbGUobjwwKXtuKz0yNTU7fVxuXHR3aGlsZShuPj0yNTYpe24tPTI1NTt9XG5cdHJldHVybiBRUk1hdGguRVhQX1RBQkxFW25dO30sRVhQX1RBQkxFOm5ldyBBcnJheSgyNTYpLExPR19UQUJMRTpuZXcgQXJyYXkoMjU2KX07Zm9yKHZhciBpPTA7aTw4O2krKyl7UVJNYXRoLkVYUF9UQUJMRVtpXT0xPDxpO31cblx0Zm9yKHZhciBpPTg7aTwyNTY7aSsrKXtRUk1hdGguRVhQX1RBQkxFW2ldPVFSTWF0aC5FWFBfVEFCTEVbaS00XV5RUk1hdGguRVhQX1RBQkxFW2ktNV1eUVJNYXRoLkVYUF9UQUJMRVtpLTZdXlFSTWF0aC5FWFBfVEFCTEVbaS04XTt9XG5cdGZvcih2YXIgaT0wO2k8MjU1O2krKyl7UVJNYXRoLkxPR19UQUJMRVtRUk1hdGguRVhQX1RBQkxFW2ldXT1pO31cblx0ZnVuY3Rpb24gUVJQb2x5bm9taWFsKG51bSxzaGlmdCl7aWYobnVtLmxlbmd0aD09dW5kZWZpbmVkKXt0aHJvdyBuZXcgRXJyb3IobnVtLmxlbmd0aCtcIi9cIitzaGlmdCk7fVxuXHR2YXIgb2Zmc2V0PTA7d2hpbGUob2Zmc2V0PG51bS5sZW5ndGgmJm51bVtvZmZzZXRdPT0wKXtvZmZzZXQrKzt9XG5cdHRoaXMubnVtPW5ldyBBcnJheShudW0ubGVuZ3RoLW9mZnNldCtzaGlmdCk7Zm9yKHZhciBpPTA7aTxudW0ubGVuZ3RoLW9mZnNldDtpKyspe3RoaXMubnVtW2ldPW51bVtpK29mZnNldF07fX1cblx0UVJQb2x5bm9taWFsLnByb3RvdHlwZT17Z2V0OmZ1bmN0aW9uKGluZGV4KXtyZXR1cm4gdGhpcy5udW1baW5kZXhdO30sZ2V0TGVuZ3RoOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubnVtLmxlbmd0aDt9LG11bHRpcGx5OmZ1bmN0aW9uKGUpe3ZhciBudW09bmV3IEFycmF5KHRoaXMuZ2V0TGVuZ3RoKCkrZS5nZXRMZW5ndGgoKS0xKTtmb3IodmFyIGk9MDtpPHRoaXMuZ2V0TGVuZ3RoKCk7aSsrKXtmb3IodmFyIGo9MDtqPGUuZ2V0TGVuZ3RoKCk7aisrKXtudW1baStqXV49UVJNYXRoLmdleHAoUVJNYXRoLmdsb2codGhpcy5nZXQoaSkpK1FSTWF0aC5nbG9nKGUuZ2V0KGopKSk7fX1cblx0cmV0dXJuIG5ldyBRUlBvbHlub21pYWwobnVtLDApO30sbW9kOmZ1bmN0aW9uKGUpe2lmKHRoaXMuZ2V0TGVuZ3RoKCktZS5nZXRMZW5ndGgoKTwwKXtyZXR1cm4gdGhpczt9XG5cdHZhciByYXRpbz1RUk1hdGguZ2xvZyh0aGlzLmdldCgwKSktUVJNYXRoLmdsb2coZS5nZXQoMCkpO3ZhciBudW09bmV3IEFycmF5KHRoaXMuZ2V0TGVuZ3RoKCkpO2Zvcih2YXIgaT0wO2k8dGhpcy5nZXRMZW5ndGgoKTtpKyspe251bVtpXT10aGlzLmdldChpKTt9XG5cdGZvcih2YXIgaT0wO2k8ZS5nZXRMZW5ndGgoKTtpKyspe251bVtpXV49UVJNYXRoLmdleHAoUVJNYXRoLmdsb2coZS5nZXQoaSkpK3JhdGlvKTt9XG5cdHJldHVybiBuZXcgUVJQb2x5bm9taWFsKG51bSwwKS5tb2QoZSk7fX07ZnVuY3Rpb24gUVJSU0Jsb2NrKHRvdGFsQ291bnQsZGF0YUNvdW50KXt0aGlzLnRvdGFsQ291bnQ9dG90YWxDb3VudDt0aGlzLmRhdGFDb3VudD1kYXRhQ291bnQ7fVxuXHRRUlJTQmxvY2suUlNfQkxPQ0tfVEFCTEU9W1sxLDI2LDE5XSxbMSwyNiwxNl0sWzEsMjYsMTNdLFsxLDI2LDldLFsxLDQ0LDM0XSxbMSw0NCwyOF0sWzEsNDQsMjJdLFsxLDQ0LDE2XSxbMSw3MCw1NV0sWzEsNzAsNDRdLFsyLDM1LDE3XSxbMiwzNSwxM10sWzEsMTAwLDgwXSxbMiw1MCwzMl0sWzIsNTAsMjRdLFs0LDI1LDldLFsxLDEzNCwxMDhdLFsyLDY3LDQzXSxbMiwzMywxNSwyLDM0LDE2XSxbMiwzMywxMSwyLDM0LDEyXSxbMiw4Niw2OF0sWzQsNDMsMjddLFs0LDQzLDE5XSxbNCw0MywxNV0sWzIsOTgsNzhdLFs0LDQ5LDMxXSxbMiwzMiwxNCw0LDMzLDE1XSxbNCwzOSwxMywxLDQwLDE0XSxbMiwxMjEsOTddLFsyLDYwLDM4LDIsNjEsMzldLFs0LDQwLDE4LDIsNDEsMTldLFs0LDQwLDE0LDIsNDEsMTVdLFsyLDE0NiwxMTZdLFszLDU4LDM2LDIsNTksMzddLFs0LDM2LDE2LDQsMzcsMTddLFs0LDM2LDEyLDQsMzcsMTNdLFsyLDg2LDY4LDIsODcsNjldLFs0LDY5LDQzLDEsNzAsNDRdLFs2LDQzLDE5LDIsNDQsMjBdLFs2LDQzLDE1LDIsNDQsMTZdLFs0LDEwMSw4MV0sWzEsODAsNTAsNCw4MSw1MV0sWzQsNTAsMjIsNCw1MSwyM10sWzMsMzYsMTIsOCwzNywxM10sWzIsMTE2LDkyLDIsMTE3LDkzXSxbNiw1OCwzNiwyLDU5LDM3XSxbNCw0NiwyMCw2LDQ3LDIxXSxbNyw0MiwxNCw0LDQzLDE1XSxbNCwxMzMsMTA3XSxbOCw1OSwzNywxLDYwLDM4XSxbOCw0NCwyMCw0LDQ1LDIxXSxbMTIsMzMsMTEsNCwzNCwxMl0sWzMsMTQ1LDExNSwxLDE0NiwxMTZdLFs0LDY0LDQwLDUsNjUsNDFdLFsxMSwzNiwxNiw1LDM3LDE3XSxbMTEsMzYsMTIsNSwzNywxM10sWzUsMTA5LDg3LDEsMTEwLDg4XSxbNSw2NSw0MSw1LDY2LDQyXSxbNSw1NCwyNCw3LDU1LDI1XSxbMTEsMzYsMTJdLFs1LDEyMiw5OCwxLDEyMyw5OV0sWzcsNzMsNDUsMyw3NCw0Nl0sWzE1LDQzLDE5LDIsNDQsMjBdLFszLDQ1LDE1LDEzLDQ2LDE2XSxbMSwxMzUsMTA3LDUsMTM2LDEwOF0sWzEwLDc0LDQ2LDEsNzUsNDddLFsxLDUwLDIyLDE1LDUxLDIzXSxbMiw0MiwxNCwxNyw0MywxNV0sWzUsMTUwLDEyMCwxLDE1MSwxMjFdLFs5LDY5LDQzLDQsNzAsNDRdLFsxNyw1MCwyMiwxLDUxLDIzXSxbMiw0MiwxNCwxOSw0MywxNV0sWzMsMTQxLDExMyw0LDE0MiwxMTRdLFszLDcwLDQ0LDExLDcxLDQ1XSxbMTcsNDcsMjEsNCw0OCwyMl0sWzksMzksMTMsMTYsNDAsMTRdLFszLDEzNSwxMDcsNSwxMzYsMTA4XSxbMyw2Nyw0MSwxMyw2OCw0Ml0sWzE1LDU0LDI0LDUsNTUsMjVdLFsxNSw0MywxNSwxMCw0NCwxNl0sWzQsMTQ0LDExNiw0LDE0NSwxMTddLFsxNyw2OCw0Ml0sWzE3LDUwLDIyLDYsNTEsMjNdLFsxOSw0NiwxNiw2LDQ3LDE3XSxbMiwxMzksMTExLDcsMTQwLDExMl0sWzE3LDc0LDQ2XSxbNyw1NCwyNCwxNiw1NSwyNV0sWzM0LDM3LDEzXSxbNCwxNTEsMTIxLDUsMTUyLDEyMl0sWzQsNzUsNDcsMTQsNzYsNDhdLFsxMSw1NCwyNCwxNCw1NSwyNV0sWzE2LDQ1LDE1LDE0LDQ2LDE2XSxbNiwxNDcsMTE3LDQsMTQ4LDExOF0sWzYsNzMsNDUsMTQsNzQsNDZdLFsxMSw1NCwyNCwxNiw1NSwyNV0sWzMwLDQ2LDE2LDIsNDcsMTddLFs4LDEzMiwxMDYsNCwxMzMsMTA3XSxbOCw3NSw0NywxMyw3Niw0OF0sWzcsNTQsMjQsMjIsNTUsMjVdLFsyMiw0NSwxNSwxMyw0NiwxNl0sWzEwLDE0MiwxMTQsMiwxNDMsMTE1XSxbMTksNzQsNDYsNCw3NSw0N10sWzI4LDUwLDIyLDYsNTEsMjNdLFszMyw0NiwxNiw0LDQ3LDE3XSxbOCwxNTIsMTIyLDQsMTUzLDEyM10sWzIyLDczLDQ1LDMsNzQsNDZdLFs4LDUzLDIzLDI2LDU0LDI0XSxbMTIsNDUsMTUsMjgsNDYsMTZdLFszLDE0NywxMTcsMTAsMTQ4LDExOF0sWzMsNzMsNDUsMjMsNzQsNDZdLFs0LDU0LDI0LDMxLDU1LDI1XSxbMTEsNDUsMTUsMzEsNDYsMTZdLFs3LDE0NiwxMTYsNywxNDcsMTE3XSxbMjEsNzMsNDUsNyw3NCw0Nl0sWzEsNTMsMjMsMzcsNTQsMjRdLFsxOSw0NSwxNSwyNiw0NiwxNl0sWzUsMTQ1LDExNSwxMCwxNDYsMTE2XSxbMTksNzUsNDcsMTAsNzYsNDhdLFsxNSw1NCwyNCwyNSw1NSwyNV0sWzIzLDQ1LDE1LDI1LDQ2LDE2XSxbMTMsMTQ1LDExNSwzLDE0NiwxMTZdLFsyLDc0LDQ2LDI5LDc1LDQ3XSxbNDIsNTQsMjQsMSw1NSwyNV0sWzIzLDQ1LDE1LDI4LDQ2LDE2XSxbMTcsMTQ1LDExNV0sWzEwLDc0LDQ2LDIzLDc1LDQ3XSxbMTAsNTQsMjQsMzUsNTUsMjVdLFsxOSw0NSwxNSwzNSw0NiwxNl0sWzE3LDE0NSwxMTUsMSwxNDYsMTE2XSxbMTQsNzQsNDYsMjEsNzUsNDddLFsyOSw1NCwyNCwxOSw1NSwyNV0sWzExLDQ1LDE1LDQ2LDQ2LDE2XSxbMTMsMTQ1LDExNSw2LDE0NiwxMTZdLFsxNCw3NCw0NiwyMyw3NSw0N10sWzQ0LDU0LDI0LDcsNTUsMjVdLFs1OSw0NiwxNiwxLDQ3LDE3XSxbMTIsMTUxLDEyMSw3LDE1MiwxMjJdLFsxMiw3NSw0NywyNiw3Niw0OF0sWzM5LDU0LDI0LDE0LDU1LDI1XSxbMjIsNDUsMTUsNDEsNDYsMTZdLFs2LDE1MSwxMjEsMTQsMTUyLDEyMl0sWzYsNzUsNDcsMzQsNzYsNDhdLFs0Niw1NCwyNCwxMCw1NSwyNV0sWzIsNDUsMTUsNjQsNDYsMTZdLFsxNywxNTIsMTIyLDQsMTUzLDEyM10sWzI5LDc0LDQ2LDE0LDc1LDQ3XSxbNDksNTQsMjQsMTAsNTUsMjVdLFsyNCw0NSwxNSw0Niw0NiwxNl0sWzQsMTUyLDEyMiwxOCwxNTMsMTIzXSxbMTMsNzQsNDYsMzIsNzUsNDddLFs0OCw1NCwyNCwxNCw1NSwyNV0sWzQyLDQ1LDE1LDMyLDQ2LDE2XSxbMjAsMTQ3LDExNyw0LDE0OCwxMThdLFs0MCw3NSw0Nyw3LDc2LDQ4XSxbNDMsNTQsMjQsMjIsNTUsMjVdLFsxMCw0NSwxNSw2Nyw0NiwxNl0sWzE5LDE0OCwxMTgsNiwxNDksMTE5XSxbMTgsNzUsNDcsMzEsNzYsNDhdLFszNCw1NCwyNCwzNCw1NSwyNV0sWzIwLDQ1LDE1LDYxLDQ2LDE2XV07UVJSU0Jsb2NrLmdldFJTQmxvY2tzPWZ1bmN0aW9uKHR5cGVOdW1iZXIsZXJyb3JDb3JyZWN0TGV2ZWwpe3ZhciByc0Jsb2NrPVFSUlNCbG9jay5nZXRSc0Jsb2NrVGFibGUodHlwZU51bWJlcixlcnJvckNvcnJlY3RMZXZlbCk7aWYocnNCbG9jaz09dW5kZWZpbmVkKXt0aHJvdyBuZXcgRXJyb3IoXCJiYWQgcnMgYmxvY2sgQCB0eXBlTnVtYmVyOlwiK3R5cGVOdW1iZXIrXCIvZXJyb3JDb3JyZWN0TGV2ZWw6XCIrZXJyb3JDb3JyZWN0TGV2ZWwpO31cblx0dmFyIGxlbmd0aD1yc0Jsb2NrLmxlbmd0aC8zO3ZhciBsaXN0PVtdO2Zvcih2YXIgaT0wO2k8bGVuZ3RoO2krKyl7dmFyIGNvdW50PXJzQmxvY2tbaSozKzBdO3ZhciB0b3RhbENvdW50PXJzQmxvY2tbaSozKzFdO3ZhciBkYXRhQ291bnQ9cnNCbG9ja1tpKjMrMl07Zm9yKHZhciBqPTA7ajxjb3VudDtqKyspe2xpc3QucHVzaChuZXcgUVJSU0Jsb2NrKHRvdGFsQ291bnQsZGF0YUNvdW50KSk7fX1cblx0cmV0dXJuIGxpc3Q7fTtRUlJTQmxvY2suZ2V0UnNCbG9ja1RhYmxlPWZ1bmN0aW9uKHR5cGVOdW1iZXIsZXJyb3JDb3JyZWN0TGV2ZWwpe3N3aXRjaChlcnJvckNvcnJlY3RMZXZlbCl7Y2FzZSBRUkVycm9yQ29ycmVjdExldmVsLkw6cmV0dXJuIFFSUlNCbG9jay5SU19CTE9DS19UQUJMRVsodHlwZU51bWJlci0xKSo0KzBdO2Nhc2UgUVJFcnJvckNvcnJlY3RMZXZlbC5NOnJldHVybiBRUlJTQmxvY2suUlNfQkxPQ0tfVEFCTEVbKHR5cGVOdW1iZXItMSkqNCsxXTtjYXNlIFFSRXJyb3JDb3JyZWN0TGV2ZWwuUTpyZXR1cm4gUVJSU0Jsb2NrLlJTX0JMT0NLX1RBQkxFWyh0eXBlTnVtYmVyLTEpKjQrMl07Y2FzZSBRUkVycm9yQ29ycmVjdExldmVsLkg6cmV0dXJuIFFSUlNCbG9jay5SU19CTE9DS19UQUJMRVsodHlwZU51bWJlci0xKSo0KzNdO2RlZmF1bHQ6cmV0dXJuIHVuZGVmaW5lZDt9fTtmdW5jdGlvbiBRUkJpdEJ1ZmZlcigpe3RoaXMuYnVmZmVyPVtdO3RoaXMubGVuZ3RoPTA7fVxuXHRRUkJpdEJ1ZmZlci5wcm90b3R5cGU9e2dldDpmdW5jdGlvbihpbmRleCl7dmFyIGJ1ZkluZGV4PU1hdGguZmxvb3IoaW5kZXgvOCk7cmV0dXJuKCh0aGlzLmJ1ZmZlcltidWZJbmRleF0+Pj4oNy1pbmRleCU4KSkmMSk9PTE7fSxwdXQ6ZnVuY3Rpb24obnVtLGxlbmd0aCl7Zm9yKHZhciBpPTA7aTxsZW5ndGg7aSsrKXt0aGlzLnB1dEJpdCgoKG51bT4+PihsZW5ndGgtaS0xKSkmMSk9PTEpO319LGdldExlbmd0aEluQml0czpmdW5jdGlvbigpe3JldHVybiB0aGlzLmxlbmd0aDt9LHB1dEJpdDpmdW5jdGlvbihiaXQpe3ZhciBidWZJbmRleD1NYXRoLmZsb29yKHRoaXMubGVuZ3RoLzgpO2lmKHRoaXMuYnVmZmVyLmxlbmd0aDw9YnVmSW5kZXgpe3RoaXMuYnVmZmVyLnB1c2goMCk7fVxuXHRpZihiaXQpe3RoaXMuYnVmZmVyW2J1ZkluZGV4XXw9KDB4ODA+Pj4odGhpcy5sZW5ndGglOCkpO31cblx0dGhpcy5sZW5ndGgrKzt9fTt2YXIgUVJDb2RlTGltaXRMZW5ndGg9W1sxNywxNCwxMSw3XSxbMzIsMjYsMjAsMTRdLFs1Myw0MiwzMiwyNF0sWzc4LDYyLDQ2LDM0XSxbMTA2LDg0LDYwLDQ0XSxbMTM0LDEwNiw3NCw1OF0sWzE1NCwxMjIsODYsNjRdLFsxOTIsMTUyLDEwOCw4NF0sWzIzMCwxODAsMTMwLDk4XSxbMjcxLDIxMywxNTEsMTE5XSxbMzIxLDI1MSwxNzcsMTM3XSxbMzY3LDI4NywyMDMsMTU1XSxbNDI1LDMzMSwyNDEsMTc3XSxbNDU4LDM2MiwyNTgsMTk0XSxbNTIwLDQxMiwyOTIsMjIwXSxbNTg2LDQ1MCwzMjIsMjUwXSxbNjQ0LDUwNCwzNjQsMjgwXSxbNzE4LDU2MCwzOTQsMzEwXSxbNzkyLDYyNCw0NDIsMzM4XSxbODU4LDY2Niw0ODIsMzgyXSxbOTI5LDcxMSw1MDksNDAzXSxbMTAwMyw3NzksNTY1LDQzOV0sWzEwOTEsODU3LDYxMSw0NjFdLFsxMTcxLDkxMSw2NjEsNTExXSxbMTI3Myw5OTcsNzE1LDUzNV0sWzEzNjcsMTA1OSw3NTEsNTkzXSxbMTQ2NSwxMTI1LDgwNSw2MjVdLFsxNTI4LDExOTAsODY4LDY1OF0sWzE2MjgsMTI2NCw5MDgsNjk4XSxbMTczMiwxMzcwLDk4Miw3NDJdLFsxODQwLDE0NTIsMTAzMCw3OTBdLFsxOTUyLDE1MzgsMTExMiw4NDJdLFsyMDY4LDE2MjgsMTE2OCw4OThdLFsyMTg4LDE3MjIsMTIyOCw5NThdLFsyMzAzLDE4MDksMTI4Myw5ODNdLFsyNDMxLDE5MTEsMTM1MSwxMDUxXSxbMjU2MywxOTg5LDE0MjMsMTA5M10sWzI2OTksMjA5OSwxNDk5LDExMzldLFsyODA5LDIyMTMsMTU3OSwxMjE5XSxbMjk1MywyMzMxLDE2NjMsMTI3M11dO1xuXHRcblx0ZnVuY3Rpb24gX2lzU3VwcG9ydENhbnZhcygpIHtcblx0XHRyZXR1cm4gdHlwZW9mIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCAhPSBcInVuZGVmaW5lZFwiO1xuXHR9XG5cdFxuXHQvLyBhbmRyb2lkIDIueCBkb2Vzbid0IHN1cHBvcnQgRGF0YS1VUkkgc3BlY1xuXHRmdW5jdGlvbiBfZ2V0QW5kcm9pZCgpIHtcblx0XHR2YXIgYW5kcm9pZCA9IGZhbHNlO1xuXHRcdHZhciBzQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuXHRcdFxuXHRcdGlmICgvYW5kcm9pZC9pLnRlc3Qoc0FnZW50KSkgeyAvLyBhbmRyb2lkXG5cdFx0XHRhbmRyb2lkID0gdHJ1ZTtcblx0XHRcdHZhciBhTWF0ID0gc0FnZW50LnRvU3RyaW5nKCkubWF0Y2goL2FuZHJvaWQgKFswLTldXFwuWzAtOV0pL2kpO1xuXHRcdFx0XG5cdFx0XHRpZiAoYU1hdCAmJiBhTWF0WzFdKSB7XG5cdFx0XHRcdGFuZHJvaWQgPSBwYXJzZUZsb2F0KGFNYXRbMV0pO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRcblx0XHRyZXR1cm4gYW5kcm9pZDtcblx0fVxuXHRcblx0dmFyIHN2Z0RyYXdlciA9IChmdW5jdGlvbigpIHtcblxuXHRcdHZhciBEcmF3aW5nID0gZnVuY3Rpb24gKGVsLCBodE9wdGlvbikge1xuXHRcdFx0dGhpcy5fZWwgPSBlbDtcblx0XHRcdHRoaXMuX2h0T3B0aW9uID0gaHRPcHRpb247XG5cdFx0fTtcblxuXHRcdERyYXdpbmcucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAob1FSQ29kZSkge1xuXHRcdFx0dmFyIF9odE9wdGlvbiA9IHRoaXMuX2h0T3B0aW9uO1xuXHRcdFx0dmFyIF9lbCA9IHRoaXMuX2VsO1xuXHRcdFx0dmFyIG5Db3VudCA9IG9RUkNvZGUuZ2V0TW9kdWxlQ291bnQoKTtcblx0XHRcdHZhciBuV2lkdGggPSBNYXRoLmZsb29yKF9odE9wdGlvbi53aWR0aCAvIG5Db3VudCk7XG5cdFx0XHR2YXIgbkhlaWdodCA9IE1hdGguZmxvb3IoX2h0T3B0aW9uLmhlaWdodCAvIG5Db3VudCk7XG5cblx0XHRcdHRoaXMuY2xlYXIoKTtcblxuXHRcdFx0ZnVuY3Rpb24gbWFrZVNWRyh0YWcsIGF0dHJzKSB7XG5cdFx0XHRcdHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCB0YWcpO1xuXHRcdFx0XHRmb3IgKHZhciBrIGluIGF0dHJzKVxuXHRcdFx0XHRcdGlmIChhdHRycy5oYXNPd25Qcm9wZXJ0eShrKSkgZWwuc2V0QXR0cmlidXRlKGssIGF0dHJzW2tdKTtcblx0XHRcdFx0cmV0dXJuIGVsO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgc3ZnID0gbWFrZVNWRyhcInN2Z1wiICwgeyd2aWV3Qm94JzogJzAgMCAnICsgU3RyaW5nKG5Db3VudCkgKyBcIiBcIiArIFN0cmluZyhuQ291bnQpLCAnd2lkdGgnOiAnMTAwJScsICdoZWlnaHQnOiAnMTAwJScsICdmaWxsJzogX2h0T3B0aW9uLmNvbG9yTGlnaHR9KTtcblx0XHRcdHN2Zy5zZXRBdHRyaWJ1dGVOUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAveG1sbnMvXCIsIFwieG1sbnM6eGxpbmtcIiwgXCJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rXCIpO1xuXHRcdFx0X2VsLmFwcGVuZENoaWxkKHN2Zyk7XG5cblx0XHRcdHN2Zy5hcHBlbmRDaGlsZChtYWtlU1ZHKFwicmVjdFwiLCB7XCJmaWxsXCI6IF9odE9wdGlvbi5jb2xvckxpZ2h0LCBcIndpZHRoXCI6IFwiMTAwJVwiLCBcImhlaWdodFwiOiBcIjEwMCVcIn0pKTtcblx0XHRcdHN2Zy5hcHBlbmRDaGlsZChtYWtlU1ZHKFwicmVjdFwiLCB7XCJmaWxsXCI6IF9odE9wdGlvbi5jb2xvckRhcmssIFwid2lkdGhcIjogXCIxXCIsIFwiaGVpZ2h0XCI6IFwiMVwiLCBcImlkXCI6IFwidGVtcGxhdGVcIn0pKTtcblxuXHRcdFx0Zm9yICh2YXIgcm93ID0gMDsgcm93IDwgbkNvdW50OyByb3crKykge1xuXHRcdFx0XHRmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBuQ291bnQ7IGNvbCsrKSB7XG5cdFx0XHRcdFx0aWYgKG9RUkNvZGUuaXNEYXJrKHJvdywgY29sKSkge1xuXHRcdFx0XHRcdFx0dmFyIGNoaWxkID0gbWFrZVNWRyhcInVzZVwiLCB7XCJ4XCI6IFN0cmluZyhjb2wpLCBcInlcIjogU3RyaW5nKHJvdyl9KTtcblx0XHRcdFx0XHRcdGNoaWxkLnNldEF0dHJpYnV0ZU5TKFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLCBcImhyZWZcIiwgXCIjdGVtcGxhdGVcIilcblx0XHRcdFx0XHRcdHN2Zy5hcHBlbmRDaGlsZChjaGlsZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fTtcblx0XHREcmF3aW5nLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHdoaWxlICh0aGlzLl9lbC5oYXNDaGlsZE5vZGVzKCkpXG5cdFx0XHRcdHRoaXMuX2VsLnJlbW92ZUNoaWxkKHRoaXMuX2VsLmxhc3RDaGlsZCk7XG5cdFx0fTtcblx0XHRyZXR1cm4gRHJhd2luZztcblx0fSkoKTtcblxuXHR2YXIgdXNlU1ZHID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdmdcIjtcblxuXHQvLyBEcmF3aW5nIGluIERPTSBieSB1c2luZyBUYWJsZSB0YWdcblx0dmFyIERyYXdpbmcgPSB1c2VTVkcgPyBzdmdEcmF3ZXIgOiAhX2lzU3VwcG9ydENhbnZhcygpID8gKGZ1bmN0aW9uICgpIHtcblx0XHR2YXIgRHJhd2luZyA9IGZ1bmN0aW9uIChlbCwgaHRPcHRpb24pIHtcblx0XHRcdHRoaXMuX2VsID0gZWw7XG5cdFx0XHR0aGlzLl9odE9wdGlvbiA9IGh0T3B0aW9uO1xuXHRcdH07XG5cdFx0XHRcblx0XHQvKipcblx0XHQgKiBEcmF3IHRoZSBRUkNvZGVcblx0XHQgKiBcblx0XHQgKiBAcGFyYW0ge1FSQ29kZX0gb1FSQ29kZVxuXHRcdCAqL1xuXHRcdERyYXdpbmcucHJvdG90eXBlLmRyYXcgPSBmdW5jdGlvbiAob1FSQ29kZSkge1xuICAgICAgICAgICAgdmFyIF9odE9wdGlvbiA9IHRoaXMuX2h0T3B0aW9uO1xuICAgICAgICAgICAgdmFyIF9lbCA9IHRoaXMuX2VsO1xuXHRcdFx0dmFyIG5Db3VudCA9IG9RUkNvZGUuZ2V0TW9kdWxlQ291bnQoKTtcblx0XHRcdHZhciBuV2lkdGggPSBNYXRoLmZsb29yKF9odE9wdGlvbi53aWR0aCAvIG5Db3VudCk7XG5cdFx0XHR2YXIgbkhlaWdodCA9IE1hdGguZmxvb3IoX2h0T3B0aW9uLmhlaWdodCAvIG5Db3VudCk7XG5cdFx0XHR2YXIgYUhUTUwgPSBbJzx0YWJsZSBzdHlsZT1cImJvcmRlcjowO2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtcIj4nXTtcblx0XHRcdFxuXHRcdFx0Zm9yICh2YXIgcm93ID0gMDsgcm93IDwgbkNvdW50OyByb3crKykge1xuXHRcdFx0XHRhSFRNTC5wdXNoKCc8dHI+Jyk7XG5cdFx0XHRcdFxuXHRcdFx0XHRmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCBuQ291bnQ7IGNvbCsrKSB7XG5cdFx0XHRcdFx0YUhUTUwucHVzaCgnPHRkIHN0eWxlPVwiYm9yZGVyOjA7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO3BhZGRpbmc6MDttYXJnaW46MDt3aWR0aDonICsgbldpZHRoICsgJ3B4O2hlaWdodDonICsgbkhlaWdodCArICdweDtiYWNrZ3JvdW5kLWNvbG9yOicgKyAob1FSQ29kZS5pc0Rhcmsocm93LCBjb2wpID8gX2h0T3B0aW9uLmNvbG9yRGFyayA6IF9odE9wdGlvbi5jb2xvckxpZ2h0KSArICc7XCI+PC90ZD4nKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRcblx0XHRcdFx0YUhUTUwucHVzaCgnPC90cj4nKTtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0YUhUTUwucHVzaCgnPC90YWJsZT4nKTtcblx0XHRcdF9lbC5pbm5lckhUTUwgPSBhSFRNTC5qb2luKCcnKTtcblx0XHRcdFxuXHRcdFx0Ly8gRml4IHRoZSBtYXJnaW4gdmFsdWVzIGFzIHJlYWwgc2l6ZS5cblx0XHRcdHZhciBlbFRhYmxlID0gX2VsLmNoaWxkTm9kZXNbMF07XG5cdFx0XHR2YXIgbkxlZnRNYXJnaW5UYWJsZSA9IChfaHRPcHRpb24ud2lkdGggLSBlbFRhYmxlLm9mZnNldFdpZHRoKSAvIDI7XG5cdFx0XHR2YXIgblRvcE1hcmdpblRhYmxlID0gKF9odE9wdGlvbi5oZWlnaHQgLSBlbFRhYmxlLm9mZnNldEhlaWdodCkgLyAyO1xuXHRcdFx0XG5cdFx0XHRpZiAobkxlZnRNYXJnaW5UYWJsZSA+IDAgJiYgblRvcE1hcmdpblRhYmxlID4gMCkge1xuXHRcdFx0XHRlbFRhYmxlLnN0eWxlLm1hcmdpbiA9IG5Ub3BNYXJnaW5UYWJsZSArIFwicHggXCIgKyBuTGVmdE1hcmdpblRhYmxlICsgXCJweFwiO1x0XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRcblx0XHQvKipcblx0XHQgKiBDbGVhciB0aGUgUVJDb2RlXG5cdFx0ICovXG5cdFx0RHJhd2luZy5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHR0aGlzLl9lbC5pbm5lckhUTUwgPSAnJztcblx0XHR9O1xuXHRcdFxuXHRcdHJldHVybiBEcmF3aW5nO1xuXHR9KSgpIDogKGZ1bmN0aW9uICgpIHsgLy8gRHJhd2luZyBpbiBDYW52YXNcblx0XHRmdW5jdGlvbiBfb25NYWtlSW1hZ2UoKSB7XG5cdFx0XHR0aGlzLl9lbEltYWdlLnNyYyA9IHRoaXMuX2VsQ2FudmFzLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKTtcblx0XHRcdHRoaXMuX2VsSW1hZ2Uuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblx0XHRcdHRoaXMuX2VsQ2FudmFzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcdFx0XHRcblx0XHR9XG5cdFx0XG5cdFx0Ly8gQW5kcm9pZCAyLjEgYnVnIHdvcmthcm91bmRcblx0XHQvLyBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvYW5kcm9pZC9pc3N1ZXMvZGV0YWlsP2lkPTUxNDFcblx0XHRpZiAodGhpcy5fYW5kcm9pZCAmJiB0aGlzLl9hbmRyb2lkIDw9IDIuMSkge1xuXHQgICAgXHR2YXIgZmFjdG9yID0gMSAvIHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuXHQgICAgICAgIHZhciBkcmF3SW1hZ2UgPSBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQucHJvdG90eXBlLmRyYXdJbWFnZTsgXG5cdCAgICBcdENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRC5wcm90b3R5cGUuZHJhd0ltYWdlID0gZnVuY3Rpb24gKGltYWdlLCBzeCwgc3ksIHN3LCBzaCwgZHgsIGR5LCBkdywgZGgpIHtcblx0ICAgIFx0XHRpZiAoKFwibm9kZU5hbWVcIiBpbiBpbWFnZSkgJiYgL2ltZy9pLnRlc3QoaW1hZ2Uubm9kZU5hbWUpKSB7XG5cdFx0ICAgICAgICBcdGZvciAodmFyIGkgPSBhcmd1bWVudHMubGVuZ3RoIC0gMTsgaSA+PSAxOyBpLS0pIHtcblx0XHQgICAgICAgICAgICBcdGFyZ3VtZW50c1tpXSA9IGFyZ3VtZW50c1tpXSAqIGZhY3Rvcjtcblx0XHQgICAgICAgIFx0fVxuXHQgICAgXHRcdH0gZWxzZSBpZiAodHlwZW9mIGR3ID09IFwidW5kZWZpbmVkXCIpIHtcblx0ICAgIFx0XHRcdGFyZ3VtZW50c1sxXSAqPSBmYWN0b3I7XG5cdCAgICBcdFx0XHRhcmd1bWVudHNbMl0gKj0gZmFjdG9yO1xuXHQgICAgXHRcdFx0YXJndW1lbnRzWzNdICo9IGZhY3Rvcjtcblx0ICAgIFx0XHRcdGFyZ3VtZW50c1s0XSAqPSBmYWN0b3I7XG5cdCAgICBcdFx0fVxuXHQgICAgXHRcdFxuXHQgICAgICAgIFx0ZHJhd0ltYWdlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IFxuXHQgICAgXHR9O1xuXHRcdH1cblx0XHRcblx0XHQvKipcblx0XHQgKiBDaGVjayB3aGV0aGVyIHRoZSB1c2VyJ3MgYnJvd3NlciBzdXBwb3J0cyBEYXRhIFVSSSBvciBub3Rcblx0XHQgKiBcblx0XHQgKiBAcHJpdmF0ZVxuXHRcdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZTdWNjZXNzIE9jY3VycyBpZiBpdCBzdXBwb3J0cyBEYXRhIFVSSVxuXHRcdCAqIEBwYXJhbSB7RnVuY3Rpb259IGZGYWlsIE9jY3VycyBpZiBpdCBkb2Vzbid0IHN1cHBvcnQgRGF0YSBVUklcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBfc2FmZVNldERhdGFVUkkoZlN1Y2Nlc3MsIGZGYWlsKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICBzZWxmLl9mRmFpbCA9IGZGYWlsO1xuICAgICAgICAgICAgc2VsZi5fZlN1Y2Nlc3MgPSBmU3VjY2VzcztcblxuICAgICAgICAgICAgLy8gQ2hlY2sgaXQganVzdCBvbmNlXG4gICAgICAgICAgICBpZiAoc2VsZi5fYlN1cHBvcnREYXRhVVJJID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcbiAgICAgICAgICAgICAgICB2YXIgZk9uRXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fYlN1cHBvcnREYXRhVVJJID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuX2ZGYWlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLl9mRmFpbC5jYWxsKHNlbGYpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB2YXIgZk9uU3VjY2VzcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9iU3VwcG9ydERhdGFVUkkgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxmLl9mU3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5fZlN1Y2Nlc3MuY2FsbChzZWxmKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBlbC5vbmFib3J0ID0gZk9uRXJyb3I7XG4gICAgICAgICAgICAgICAgZWwub25lcnJvciA9IGZPbkVycm9yO1xuICAgICAgICAgICAgICAgIGVsLm9ubG9hZCA9IGZPblN1Y2Nlc3M7XG4gICAgICAgICAgICAgICAgZWwuc3JjID0gXCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFVQUFBQUZDQVlBQUFDTmJ5YmxBQUFBSEVsRVFWUUkxMlA0Ly84L3czOEdJQVhESUJLRTBESHhnbGpOQkFBTzlUWEwwWTRPSHdBQUFBQkpSVTVFcmtKZ2dnPT1cIjsgLy8gdGhlIEltYWdlIGNvbnRhaW5zIDFweCBkYXRhLlxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZi5fYlN1cHBvcnREYXRhVVJJID09PSB0cnVlICYmIHNlbGYuX2ZTdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5fZlN1Y2Nlc3MuY2FsbChzZWxmKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZi5fYlN1cHBvcnREYXRhVVJJID09PSBmYWxzZSAmJiBzZWxmLl9mRmFpbCkge1xuICAgICAgICAgICAgICAgIHNlbGYuX2ZGYWlsLmNhbGwoc2VsZik7XG4gICAgICAgICAgICB9XG5cdFx0fTtcblx0XHRcblx0XHQvKipcblx0XHQgKiBEcmF3aW5nIFFSQ29kZSBieSB1c2luZyBjYW52YXNcblx0XHQgKiBcblx0XHQgKiBAY29uc3RydWN0b3Jcblx0XHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbFxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBodE9wdGlvbiBRUkNvZGUgT3B0aW9ucyBcblx0XHQgKi9cblx0XHR2YXIgRHJhd2luZyA9IGZ1bmN0aW9uIChlbCwgaHRPcHRpb24pIHtcbiAgICBcdFx0dGhpcy5fYklzUGFpbnRlZCA9IGZhbHNlO1xuICAgIFx0XHR0aGlzLl9hbmRyb2lkID0gX2dldEFuZHJvaWQoKTtcblx0XHRcblx0XHRcdHRoaXMuX2h0T3B0aW9uID0gaHRPcHRpb247XG5cdFx0XHR0aGlzLl9lbENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7XG5cdFx0XHR0aGlzLl9lbENhbnZhcy53aWR0aCA9IGh0T3B0aW9uLndpZHRoO1xuXHRcdFx0dGhpcy5fZWxDYW52YXMuaGVpZ2h0ID0gaHRPcHRpb24uaGVpZ2h0O1xuXHRcdFx0ZWwuYXBwZW5kQ2hpbGQodGhpcy5fZWxDYW52YXMpO1xuXHRcdFx0dGhpcy5fZWwgPSBlbDtcblx0XHRcdHRoaXMuX29Db250ZXh0ID0gdGhpcy5fZWxDYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xuXHRcdFx0dGhpcy5fYklzUGFpbnRlZCA9IGZhbHNlO1xuXHRcdFx0dGhpcy5fZWxJbWFnZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG5cdFx0XHR0aGlzLl9lbEltYWdlLmFsdCA9IFwiU2NhbiBtZSFcIjtcblx0XHRcdHRoaXMuX2VsSW1hZ2Uuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXHRcdFx0dGhpcy5fZWwuYXBwZW5kQ2hpbGQodGhpcy5fZWxJbWFnZSk7XG5cdFx0XHR0aGlzLl9iU3VwcG9ydERhdGFVUkkgPSBudWxsO1xuXHRcdH07XG5cdFx0XHRcblx0XHQvKipcblx0XHQgKiBEcmF3IHRoZSBRUkNvZGVcblx0XHQgKiBcblx0XHQgKiBAcGFyYW0ge1FSQ29kZX0gb1FSQ29kZSBcblx0XHQgKi9cblx0XHREcmF3aW5nLnByb3RvdHlwZS5kcmF3ID0gZnVuY3Rpb24gKG9RUkNvZGUpIHtcbiAgICAgICAgICAgIHZhciBfZWxJbWFnZSA9IHRoaXMuX2VsSW1hZ2U7XG4gICAgICAgICAgICB2YXIgX29Db250ZXh0ID0gdGhpcy5fb0NvbnRleHQ7XG4gICAgICAgICAgICB2YXIgX2h0T3B0aW9uID0gdGhpcy5faHRPcHRpb247XG4gICAgICAgICAgICBcblx0XHRcdHZhciBuQ291bnQgPSBvUVJDb2RlLmdldE1vZHVsZUNvdW50KCk7XG5cdFx0XHR2YXIgbldpZHRoID0gX2h0T3B0aW9uLndpZHRoIC8gbkNvdW50O1xuXHRcdFx0dmFyIG5IZWlnaHQgPSBfaHRPcHRpb24uaGVpZ2h0IC8gbkNvdW50O1xuXHRcdFx0dmFyIG5Sb3VuZGVkV2lkdGggPSBNYXRoLnJvdW5kKG5XaWR0aCk7XG5cdFx0XHR2YXIgblJvdW5kZWRIZWlnaHQgPSBNYXRoLnJvdW5kKG5IZWlnaHQpO1xuXG5cdFx0XHRfZWxJbWFnZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdFx0XHR0aGlzLmNsZWFyKCk7XG5cdFx0XHRcblx0XHRcdGZvciAodmFyIHJvdyA9IDA7IHJvdyA8IG5Db3VudDsgcm93KyspIHtcblx0XHRcdFx0Zm9yICh2YXIgY29sID0gMDsgY29sIDwgbkNvdW50OyBjb2wrKykge1xuXHRcdFx0XHRcdHZhciBiSXNEYXJrID0gb1FSQ29kZS5pc0Rhcmsocm93LCBjb2wpO1xuXHRcdFx0XHRcdHZhciBuTGVmdCA9IGNvbCAqIG5XaWR0aDtcblx0XHRcdFx0XHR2YXIgblRvcCA9IHJvdyAqIG5IZWlnaHQ7XG5cdFx0XHRcdFx0X29Db250ZXh0LnN0cm9rZVN0eWxlID0gYklzRGFyayA/IF9odE9wdGlvbi5jb2xvckRhcmsgOiBfaHRPcHRpb24uY29sb3JMaWdodDtcblx0XHRcdFx0XHRfb0NvbnRleHQubGluZVdpZHRoID0gMTtcblx0XHRcdFx0XHRfb0NvbnRleHQuZmlsbFN0eWxlID0gYklzRGFyayA/IF9odE9wdGlvbi5jb2xvckRhcmsgOiBfaHRPcHRpb24uY29sb3JMaWdodDtcdFx0XHRcdFx0XG5cdFx0XHRcdFx0X29Db250ZXh0LmZpbGxSZWN0KG5MZWZ0LCBuVG9wLCBuV2lkdGgsIG5IZWlnaHQpO1xuXHRcdFx0XHRcdFxuXHRcdFx0XHRcdC8vIOyViO2LsCDslajrpqzslrTsi7Eg67Cp7KeAIOyymOumrFxuXHRcdFx0XHRcdF9vQ29udGV4dC5zdHJva2VSZWN0KFxuXHRcdFx0XHRcdFx0TWF0aC5mbG9vcihuTGVmdCkgKyAwLjUsXG5cdFx0XHRcdFx0XHRNYXRoLmZsb29yKG5Ub3ApICsgMC41LFxuXHRcdFx0XHRcdFx0blJvdW5kZWRXaWR0aCxcblx0XHRcdFx0XHRcdG5Sb3VuZGVkSGVpZ2h0XG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcblx0XHRcdFx0XHRfb0NvbnRleHQuc3Ryb2tlUmVjdChcblx0XHRcdFx0XHRcdE1hdGguY2VpbChuTGVmdCkgLSAwLjUsXG5cdFx0XHRcdFx0XHRNYXRoLmNlaWwoblRvcCkgLSAwLjUsXG5cdFx0XHRcdFx0XHRuUm91bmRlZFdpZHRoLFxuXHRcdFx0XHRcdFx0blJvdW5kZWRIZWlnaHRcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHRoaXMuX2JJc1BhaW50ZWQgPSB0cnVlO1xuXHRcdH07XG5cdFx0XHRcblx0XHQvKipcblx0XHQgKiBNYWtlIHRoZSBpbWFnZSBmcm9tIENhbnZhcyBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBEYXRhIFVSSS5cblx0XHQgKi9cblx0XHREcmF3aW5nLnByb3RvdHlwZS5tYWtlSW1hZ2UgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAodGhpcy5fYklzUGFpbnRlZCkge1xuXHRcdFx0XHRfc2FmZVNldERhdGFVUkkuY2FsbCh0aGlzLCBfb25NYWtlSW1hZ2UpO1xuXHRcdFx0fVxuXHRcdH07XG5cdFx0XHRcblx0XHQvKipcblx0XHQgKiBSZXR1cm4gd2hldGhlciB0aGUgUVJDb2RlIGlzIHBhaW50ZWQgb3Igbm90XG5cdFx0ICogXG5cdFx0ICogQHJldHVybiB7Qm9vbGVhbn1cblx0XHQgKi9cblx0XHREcmF3aW5nLnByb3RvdHlwZS5pc1BhaW50ZWQgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5fYklzUGFpbnRlZDtcblx0XHR9O1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIENsZWFyIHRoZSBRUkNvZGVcblx0XHQgKi9cblx0XHREcmF3aW5nLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHRoaXMuX29Db250ZXh0LmNsZWFyUmVjdCgwLCAwLCB0aGlzLl9lbENhbnZhcy53aWR0aCwgdGhpcy5fZWxDYW52YXMuaGVpZ2h0KTtcblx0XHRcdHRoaXMuX2JJc1BhaW50ZWQgPSBmYWxzZTtcblx0XHR9O1xuXHRcdFxuXHRcdC8qKlxuXHRcdCAqIEBwcml2YXRlXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IG5OdW1iZXJcblx0XHQgKi9cblx0XHREcmF3aW5nLnByb3RvdHlwZS5yb3VuZCA9IGZ1bmN0aW9uIChuTnVtYmVyKSB7XG5cdFx0XHRpZiAoIW5OdW1iZXIpIHtcblx0XHRcdFx0cmV0dXJuIG5OdW1iZXI7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdHJldHVybiBNYXRoLmZsb29yKG5OdW1iZXIgKiAxMDAwKSAvIDEwMDA7XG5cdFx0fTtcblx0XHRcblx0XHRyZXR1cm4gRHJhd2luZztcblx0fSkoKTtcblx0XG5cdC8qKlxuXHQgKiBHZXQgdGhlIHR5cGUgYnkgc3RyaW5nIGxlbmd0aFxuXHQgKiBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IHNUZXh0XG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBuQ29ycmVjdExldmVsXG5cdCAqIEByZXR1cm4ge051bWJlcn0gdHlwZVxuXHQgKi9cblx0ZnVuY3Rpb24gX2dldFR5cGVOdW1iZXIoc1RleHQsIG5Db3JyZWN0TGV2ZWwpIHtcdFx0XHRcblx0XHR2YXIgblR5cGUgPSAxO1xuXHRcdHZhciBsZW5ndGggPSBfZ2V0VVRGOExlbmd0aChzVGV4dCk7XG5cdFx0XG5cdFx0Zm9yICh2YXIgaSA9IDAsIGxlbiA9IFFSQ29kZUxpbWl0TGVuZ3RoLmxlbmd0aDsgaSA8PSBsZW47IGkrKykge1xuXHRcdFx0dmFyIG5MaW1pdCA9IDA7XG5cdFx0XHRcblx0XHRcdHN3aXRjaCAobkNvcnJlY3RMZXZlbCkge1xuXHRcdFx0XHRjYXNlIFFSRXJyb3JDb3JyZWN0TGV2ZWwuTCA6XG5cdFx0XHRcdFx0bkxpbWl0ID0gUVJDb2RlTGltaXRMZW5ndGhbaV1bMF07XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgUVJFcnJvckNvcnJlY3RMZXZlbC5NIDpcblx0XHRcdFx0XHRuTGltaXQgPSBRUkNvZGVMaW1pdExlbmd0aFtpXVsxXTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSBRUkVycm9yQ29ycmVjdExldmVsLlEgOlxuXHRcdFx0XHRcdG5MaW1pdCA9IFFSQ29kZUxpbWl0TGVuZ3RoW2ldWzJdO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRjYXNlIFFSRXJyb3JDb3JyZWN0TGV2ZWwuSCA6XG5cdFx0XHRcdFx0bkxpbWl0ID0gUVJDb2RlTGltaXRMZW5ndGhbaV1bM107XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmIChsZW5ndGggPD0gbkxpbWl0KSB7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0blR5cGUrKztcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0aWYgKG5UeXBlID4gUVJDb2RlTGltaXRMZW5ndGgubGVuZ3RoKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJUb28gbG9uZyBkYXRhXCIpO1xuXHRcdH1cblx0XHRcblx0XHRyZXR1cm4gblR5cGU7XG5cdH1cblxuXHRmdW5jdGlvbiBfZ2V0VVRGOExlbmd0aChzVGV4dCkge1xuXHRcdHZhciByZXBsYWNlZFRleHQgPSBlbmNvZGVVUkkoc1RleHQpLnRvU3RyaW5nKCkucmVwbGFjZSgvXFwlWzAtOWEtZkEtRl17Mn0vZywgJ2EnKTtcblx0XHRyZXR1cm4gcmVwbGFjZWRUZXh0Lmxlbmd0aCArIChyZXBsYWNlZFRleHQubGVuZ3RoICE9IHNUZXh0ID8gMyA6IDApO1xuXHR9XG5cdFxuXHQvKipcblx0ICogQGNsYXNzIFFSQ29kZVxuXHQgKiBAY29uc3RydWN0b3Jcblx0ICogQGV4YW1wbGUgXG5cdCAqIG5ldyBRUkNvZGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0ZXN0XCIpLCBcImh0dHA6Ly9qaW5kby5kZXYubmF2ZXIuY29tL2NvbGxpZVwiKTtcblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogdmFyIG9RUkNvZGUgPSBuZXcgUVJDb2RlKFwidGVzdFwiLCB7XG5cdCAqICAgIHRleHQgOiBcImh0dHA6Ly9uYXZlci5jb21cIixcblx0ICogICAgd2lkdGggOiAxMjgsXG5cdCAqICAgIGhlaWdodCA6IDEyOFxuXHQgKiB9KTtcblx0ICogXG5cdCAqIG9RUkNvZGUuY2xlYXIoKTsgLy8gQ2xlYXIgdGhlIFFSQ29kZS5cblx0ICogb1FSQ29kZS5tYWtlQ29kZShcImh0dHA6Ly9tYXAubmF2ZXIuY29tXCIpOyAvLyBSZS1jcmVhdGUgdGhlIFFSQ29kZS5cblx0ICpcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudHxTdHJpbmd9IGVsIHRhcmdldCBlbGVtZW50IG9yICdpZCcgYXR0cmlidXRlIG9mIGVsZW1lbnQuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gdk9wdGlvblxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdk9wdGlvbi50ZXh0IFFSQ29kZSBsaW5rIGRhdGFcblx0ICogQHBhcmFtIHtOdW1iZXJ9IFt2T3B0aW9uLndpZHRoPTI1Nl1cblx0ICogQHBhcmFtIHtOdW1iZXJ9IFt2T3B0aW9uLmhlaWdodD0yNTZdXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbdk9wdGlvbi5jb2xvckRhcms9XCIjMDAwMDAwXCJdXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBbdk9wdGlvbi5jb2xvckxpZ2h0PVwiI2ZmZmZmZlwiXVxuXHQgKiBAcGFyYW0ge1FSQ29kZS5Db3JyZWN0TGV2ZWx9IFt2T3B0aW9uLmNvcnJlY3RMZXZlbD1RUkNvZGUuQ29ycmVjdExldmVsLkhdIFtMfE18UXxIXSBcblx0ICovXG5cdFFSQ29kZSA9IGZ1bmN0aW9uIChlbCwgdk9wdGlvbikge1xuXHRcdHRoaXMuX2h0T3B0aW9uID0ge1xuXHRcdFx0d2lkdGggOiAyNTYsIFxuXHRcdFx0aGVpZ2h0IDogMjU2LFxuXHRcdFx0dHlwZU51bWJlciA6IDQsXG5cdFx0XHRjb2xvckRhcmsgOiBcIiMwMDAwMDBcIixcblx0XHRcdGNvbG9yTGlnaHQgOiBcIiNmZmZmZmZcIixcblx0XHRcdGNvcnJlY3RMZXZlbCA6IFFSRXJyb3JDb3JyZWN0TGV2ZWwuSFxuXHRcdH07XG5cdFx0XG5cdFx0aWYgKHR5cGVvZiB2T3B0aW9uID09PSAnc3RyaW5nJykge1xuXHRcdFx0dk9wdGlvblx0PSB7XG5cdFx0XHRcdHRleHQgOiB2T3B0aW9uXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRcblx0XHQvLyBPdmVyd3JpdGVzIG9wdGlvbnNcblx0XHRpZiAodk9wdGlvbikge1xuXHRcdFx0Zm9yICh2YXIgaSBpbiB2T3B0aW9uKSB7XG5cdFx0XHRcdHRoaXMuX2h0T3B0aW9uW2ldID0gdk9wdGlvbltpXTtcblx0XHRcdH1cblx0XHR9XG5cdFx0XG5cdFx0aWYgKHR5cGVvZiBlbCA9PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsKTtcblx0XHR9XG5cblx0XHRpZiAodGhpcy5faHRPcHRpb24udXNlU1ZHKSB7XG5cdFx0XHREcmF3aW5nID0gc3ZnRHJhd2VyO1xuXHRcdH1cblx0XHRcblx0XHR0aGlzLl9hbmRyb2lkID0gX2dldEFuZHJvaWQoKTtcblx0XHR0aGlzLl9lbCA9IGVsO1xuXHRcdHRoaXMuX29RUkNvZGUgPSBudWxsO1xuXHRcdHRoaXMuX29EcmF3aW5nID0gbmV3IERyYXdpbmcodGhpcy5fZWwsIHRoaXMuX2h0T3B0aW9uKTtcblx0XHRcblx0XHRpZiAodGhpcy5faHRPcHRpb24udGV4dCkge1xuXHRcdFx0dGhpcy5tYWtlQ29kZSh0aGlzLl9odE9wdGlvbi50ZXh0KTtcdFxuXHRcdH1cblx0fTtcblx0XG5cdC8qKlxuXHQgKiBNYWtlIHRoZSBRUkNvZGVcblx0ICogXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBzVGV4dCBsaW5rIGRhdGFcblx0ICovXG5cdFFSQ29kZS5wcm90b3R5cGUubWFrZUNvZGUgPSBmdW5jdGlvbiAoc1RleHQpIHtcblx0XHR0aGlzLl9vUVJDb2RlID0gbmV3IFFSQ29kZU1vZGVsKF9nZXRUeXBlTnVtYmVyKHNUZXh0LCB0aGlzLl9odE9wdGlvbi5jb3JyZWN0TGV2ZWwpLCB0aGlzLl9odE9wdGlvbi5jb3JyZWN0TGV2ZWwpO1xuXHRcdHRoaXMuX29RUkNvZGUuYWRkRGF0YShzVGV4dCk7XG5cdFx0dGhpcy5fb1FSQ29kZS5tYWtlKCk7XG5cdFx0dGhpcy5fZWwudGl0bGUgPSBzVGV4dDtcblx0XHR0aGlzLl9vRHJhd2luZy5kcmF3KHRoaXMuX29RUkNvZGUpO1x0XHRcdFxuXHRcdHRoaXMubWFrZUltYWdlKCk7XG5cdH07XG5cdFxuXHQvKipcblx0ICogTWFrZSB0aGUgSW1hZ2UgZnJvbSBDYW52YXMgZWxlbWVudFxuXHQgKiAtIEl0IG9jY3VycyBhdXRvbWF0aWNhbGx5XG5cdCAqIC0gQW5kcm9pZCBiZWxvdyAzIGRvZXNuJ3Qgc3VwcG9ydCBEYXRhLVVSSSBzcGVjLlxuXHQgKiBcblx0ICogQHByaXZhdGVcblx0ICovXG5cdFFSQ29kZS5wcm90b3R5cGUubWFrZUltYWdlID0gZnVuY3Rpb24gKCkge1xuXHRcdGlmICh0eXBlb2YgdGhpcy5fb0RyYXdpbmcubWFrZUltYWdlID09IFwiZnVuY3Rpb25cIiAmJiAoIXRoaXMuX2FuZHJvaWQgfHwgdGhpcy5fYW5kcm9pZCA+PSAzKSkge1xuXHRcdFx0dGhpcy5fb0RyYXdpbmcubWFrZUltYWdlKCk7XG5cdFx0fVxuXHR9O1xuXHRcblx0LyoqXG5cdCAqIENsZWFyIHRoZSBRUkNvZGVcblx0ICovXG5cdFFSQ29kZS5wcm90b3R5cGUuY2xlYXIgPSBmdW5jdGlvbiAoKSB7XG5cdFx0dGhpcy5fb0RyYXdpbmcuY2xlYXIoKTtcblx0fTtcblx0XG5cdC8qKlxuXHQgKiBAbmFtZSBRUkNvZGUuQ29ycmVjdExldmVsXG5cdCAqL1xuXHRRUkNvZGUuQ29ycmVjdExldmVsID0gUVJFcnJvckNvcnJlY3RMZXZlbDtcbn0pKCk7IiwiLyoqXG4gKiBUaW55QW5pbWF0ZVxuICogIHZlcnNpb24gMC4zLjBcbiAqXG4gKiBTb3VyY2U6ICBodHRwczovL2dpdGh1Yi5jb20vYnJhbm5lbWFuL1RpbnlBbmltYXRlXG4gKiBBdXRob3I6ICBCcmFuIHZhbiBkZXIgTWVlciA8YnJhbm1vdmljQGdtYWlsLmNvbT4gKGh0dHA6Ly9icmFuLm5hbWUvKVxuICogTGljZW5zZTogTUlUXG4gKlxuICogRnVuY3Rpb25zOlxuICogIFRpbnlBbmltYXRlLmFuaW1hdGUoZnJvbSwgdG8sIGR1cmF0aW9uLCB1cGRhdGUsIGVhc2luZywgZG9uZSlcbiAqICBUaW55QW5pbWF0ZS5hbmltYXRlQ1NTKGVsZW1lbnQsIHByb3BlcnR5LCB1bml0LCBmcm9tLCB0bywgZHVyYXRpb24sIGVhc2luZywgZG9uZSlcbiAqICBUaW55QW5pbWF0ZS5jYW5jZWwoYW5pbWF0aW9uKVxuICpcbiAqIFBhcmFtZXRlcnM6XG4gKiAgZWxlbWVudCAgIEhUTUxFbGVtZW50ICAgICAgICBBIGRvbSBub2RlXG4gKiAgcHJvcGVydHkgIHN0cmluZyAgICAgICAgICAgICBQcm9wZXJ0eSBuYW1lLCBhcyBhdmFpbGFibGUgaW4gZWxlbWVudC5zdHlsZSwgaS5lLiAnYm9yZGVyUmFkaXVzJywgbm90ICdib3JkZXItcmFkaXVzJ1xuICogIHVuaXQgICAgICBzdHJpbmcgICAgICAgICAgICAgUHJvcGVydHkgdW5pdCwgbGlrZSAncHgnXG4gKiAgZnJvbSAgICAgIGludCAgICAgICAgICAgICAgICBQcm9wZXJ0eSB2YWx1ZSB0byBhbmltYXRlIGZyb21cbiAqICB0byAgICAgICAgaW50ICAgICAgICAgICAgICAgIFByb3BlcnR5IHZhbHVlIHRvIGFuaW1hdGUgdG9cbiAqICBkdXJhdGlvbiAgaW50ICAgICAgICAgICAgICAgIER1cmF0aW9uIGluIG1pbGxpc2Vjb25kc1xuICogIHVwZGF0ZSAgICBmdW5jdGlvbiAgICAgICAgICAgRnVuY3Rpb24gdG8gaW1wbGVtZW50IHVwZGF0aW5nIHRoZSBET00sIGdldCdzIGNhbGxlZCB3aXRoIGEgdmFsdWUgYmV0d2VlbiBgZnJvbWAgYW5kIGB0b2BcbiAqICBlYXNpbmcgICAgc3RyaW5nIHwgZnVuY3Rpb24gIE9wdGlvbmFsOiBBIHN0cmluZyB3aGVuIHRoZSBlYXNpbmcgZnVuY3Rpb24gaXMgYXZhaWxhYmxlIGluIFRpbnlBbmltYXRlLmVhc2luZ3MsXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgYSBmdW5jdGlvbiB3aXRoIHRoZSBzaWduYXR1cmU6IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHsuLi59XG4gKiAgZG9uZSAgICAgIGZ1bmN0aW9uICAgICAgICAgICBPcHRpb25hbDogVG8gYmUgZXhlY3V0ZWQgd2hlbiB0aGUgYW5pbWF0aW9uIGhhcyBjb21wbGV0ZWQuXG4gKlxuICogUmV0dXJuczpcbiAqICBhbmltYXRpb24gb2JqZWN0ICAgICAgICAgICAgIEFuaW1hdGlvbiBvYmplY3QgdGhhdCBjYW4gYmUgY2FuY2VsZWQuXG4gKi9cblxuLyoqXG4gKiBVbml2ZXJzYWwgTW9kdWxlIERhbmNlXG4gKiAgY29uZmlnOiBDb21tb25KUyBTdHJpY3QsIGV4cG9ydHMgR2xvYmFsLCBzdXBwb3J0cyBjaXJjdWxhciBkZXBlbmRlbmNpZXNcbiAqICBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL1xuICovXG4oZnVuY3Rpb24ocm9vdCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFsnZXhwb3J0cyddLCBmdW5jdGlvbihleHBvcnRzKSB7XG4gICAgICAgICAgICBmYWN0b3J5KChyb290LlRpbnlBbmltYXRlID0gZXhwb3J0cykpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICBmYWN0b3J5KGV4cG9ydHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGZhY3RvcnkoKHJvb3QuVGlueUFuaW1hdGUgPSB7fSkpO1xuICAgIH1cbn0odGhpcywgZnVuY3Rpb24oZXhwb3J0cykge1xuXG4gICAgLyoqXG4gICAgICogVGlueUFuaW1hdGUuYW5pbWF0ZSgpXG4gICAgICovXG4gICAgZXhwb3J0cy5hbmltYXRlID0gZnVuY3Rpb24oZnJvbSwgdG8sIGR1cmF0aW9uLCB1cGRhdGUsIGVhc2luZywgZG9uZSkge1xuXG4gICAgICAgIC8vIEVhcmx5IGJhaWwgb3V0IGlmIGNhbGxlZCBpbmNvcnJlY3RseVxuICAgICAgICBpZiAodHlwZW9mIGZyb20gIT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICB0eXBlb2YgdG8gIT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICB0eXBlb2YgZHVyYXRpb24gIT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICB0eXBlb2YgdXBkYXRlICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIC8vIERldGVybWluZSBlYXNpbmdcbiAgICAgICAgaWYgKHR5cGVvZiBlYXNpbmcgPT09ICdzdHJpbmcnICYmIGVhc2luZ3NbZWFzaW5nXSkge1xuICAgICAgICAgICAgZWFzaW5nID0gZWFzaW5nc1tlYXNpbmddO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgZWFzaW5nICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBlYXNpbmcgPSBlYXNpbmdzLmxpbmVhcjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIENyZWF0ZSBtb2NrIGRvbmUoKSBmdW5jdGlvbiBpZiBuZWNlc3NhcnlcbiAgICAgICAgaWYgKHR5cGVvZiBkb25lICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBkb25lID0gZnVuY3Rpb24oKSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFBpY2sgaW1wbGVtZW50YXRpb24gKHJlcXVlc3RBbmltYXRpb25GcmFtZSB8IHNldFRpbWVvdXQpXG4gICAgICAgIHZhciByQUYgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChjYWxsYmFjaywgMTAwMCAvIDYwKTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBBbmltYXRpb24gbG9vcFxuICAgICAgICB2YXIgY2FuY2VsZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGNoYW5nZSA9IHRvIC0gZnJvbTtcbiAgICAgICAgZnVuY3Rpb24gbG9vcCh0aW1lc3RhbXApIHtcbiAgICAgICAgICAgIGlmIChjYW5jZWxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB0aW1lID0gKHRpbWVzdGFtcCB8fCArbmV3IERhdGUoKSkgLSBzdGFydDtcbiAgICAgICAgICAgIGlmICh0aW1lID49IDApIHtcbiAgICAgICAgICAgICAgICB1cGRhdGUoZWFzaW5nKHRpbWUsIGZyb20sIGNoYW5nZSwgZHVyYXRpb24pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aW1lID49IDAgJiYgdGltZSA+PSBkdXJhdGlvbikge1xuICAgICAgICAgICAgICAgIHVwZGF0ZSh0byk7XG4gICAgICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByQUYobG9vcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlKGZyb20pO1xuXG4gICAgICAgIC8vIFN0YXJ0IGFuaW1hdGlvbiBsb29wXG4gICAgICAgIHZhciBzdGFydCA9IHdpbmRvdy5wZXJmb3JtYW5jZSAmJiB3aW5kb3cucGVyZm9ybWFuY2Uubm93ID8gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpIDogK25ldyBEYXRlKCk7XG5cbiAgICAgICAgckFGKGxvb3ApO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYW5jZWw6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGNhbmNlbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGlueUFuaW1hdGUuYW5pbWF0ZUNTUygpXG4gICAgICogIFNob3J0Y3V0IG1ldGhvZCBmb3IgYW5pbWF0aW5nIGNzcyBwcm9wZXJ0aWVzXG4gICAgICovXG4gICAgZXhwb3J0cy5hbmltYXRlQ1NTID0gZnVuY3Rpb24oZWxlbWVudCwgcHJvcGVydHksIHVuaXQsIGZyb20sIHRvLCBkdXJhdGlvbiwgZWFzaW5nLCBkb25lKSB7XG5cbiAgICAgICAgdmFyIHVwZGF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgICBlbGVtZW50LnN0eWxlW3Byb3BlcnR5XSA9IHZhbHVlICsgdW5pdDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGV4cG9ydHMuYW5pbWF0ZShmcm9tLCB0bywgZHVyYXRpb24sIHVwZGF0ZSwgZWFzaW5nLCBkb25lKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGlueUFuaW1hdGUuY2FuY2VsKClcbiAgICAgKiAgTWV0aG9kIGZvciBjYW5jZWxpbmcgYW5pbWF0aW9uc1xuICAgICAqL1xuICAgIGV4cG9ydHMuY2FuY2VsID0gZnVuY3Rpb24oYW5pbWF0aW9uKSB7XG4gICAgICAgIGlmICghYW5pbWF0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYW5pbWF0aW9uLmNhbmNlbCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaW55QW5pbWF0ZS5lYXNpbmdzXG4gICAgICogIEFkYXB0ZWQgZnJvbSBqUXVlcnkgRWFzaW5nXG4gICAgICovXG4gICAgdmFyIGVhc2luZ3MgPSBleHBvcnRzLmVhc2luZ3MgPSB7fTtcbiAgICBlYXNpbmdzLmxpbmVhciA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIGMgKiB0IC8gZCArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJblF1YWQgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZU91dFF1YWQgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiAtYyAqICh0IC89IGQpICogKHQgLSAyKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbk91dFF1YWQgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCArIGI7XG4gICAgICAgIHJldHVybiAtYyAvIDIgKiAoKC0tdCkgKiAodCAtIDIpIC0gMSkgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5DdWJpYyA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIGMgKiAodCAvPSBkKSAqIHQgKiB0ICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZU91dEN1YmljID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCArIDEpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluT3V0Q3ViaWMgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKyBiO1xuICAgICAgICByZXR1cm4gYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCArIDIpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluUXVhcnQgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogdCAqIHQgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlT3V0UXVhcnQgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiAtYyAqICgodCA9IHQgLyBkIC0gMSkgKiB0ICogdCAqIHQgLSAxKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbk91dFF1YXJ0ID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgICAgIHJldHVybiAtYyAvIDIgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgLSAyKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJblF1aW50ID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gYyAqICh0IC89IGQpICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VPdXRRdWludCA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqIHQgKiB0ICogdCArIDEpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluT3V0UXVpbnQgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIGlmICgodCAvPSBkIC8gMikgPCAxKSByZXR1cm4gYyAvIDIgKiB0ICogdCAqIHQgKiB0ICogdCArIGI7XG4gICAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiB0ICogdCAqIHQgKyAyKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJblNpbmUgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiAtYyAqIE1hdGguY29zKHQgLyBkICogKE1hdGguUEkgLyAyKSkgKyBjICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZU91dFNpbmUgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiBjICogTWF0aC5zaW4odCAvIGQgKiAoTWF0aC5QSSAvIDIpKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbk91dFNpbmUgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiAtYyAvIDIgKiAoTWF0aC5jb3MoTWF0aC5QSSAqIHQgLyBkKSAtIDEpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluRXhwbyA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuICh0ID09IDApID8gYiA6IGMgKiBNYXRoLnBvdygyLCAxMCAqICh0IC8gZCAtIDEpKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VPdXRFeHBvID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gKHQgPT0gZCkgPyBiICsgYyA6IGMgKiAoLU1hdGgucG93KDIsIC0xMCAqIHQgLyBkKSArIDEpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluT3V0RXhwbyA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgaWYgKHQgPT0gMCkgcmV0dXJuIGI7XG4gICAgICAgIGlmICh0ID09IGQpIHJldHVybiBiICsgYztcbiAgICAgICAgaWYgKCh0IC89IGQgLyAyKSA8IDEpIHJldHVybiBjIC8gMiAqIE1hdGgucG93KDIsIDEwICogKHQgLSAxKSkgKyBiO1xuICAgICAgICByZXR1cm4gYyAvIDIgKiAoLU1hdGgucG93KDIsIC0xMCAqIC0tdCkgKyAyKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbkNpcmMgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIHJldHVybiAtYyAqIChNYXRoLnNxcnQoMSAtICh0IC89IGQpICogdCkgLSAxKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VPdXRDaXJjID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICByZXR1cm4gYyAqIE1hdGguc3FydCgxIC0gKHQgPSB0IC8gZCAtIDEpICogdCkgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5PdXRDaXJjID0gZnVuY3Rpb24odCwgYiwgYywgZCkge1xuICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIC1jIC8gMiAqIChNYXRoLnNxcnQoMSAtIHQgKiB0KSAtIDEpICsgYjtcbiAgICAgICAgcmV0dXJuIGMgLyAyICogKE1hdGguc3FydCgxIC0gKHQgLT0gMikgKiB0KSArIDEpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluRWxhc3RpYyA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgdmFyIHAgPSAwO1xuICAgICAgICB2YXIgYSA9IGM7XG4gICAgICAgIGlmICh0ID09IDApIHJldHVybiBiO1xuICAgICAgICBpZiAoKHQgLz0gZCkgPT0gMSkgcmV0dXJuIGIgKyBjO1xuICAgICAgICBpZiAoIXApIHAgPSBkICogLjM7XG4gICAgICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgICAgICAgIGEgPSBjO1xuICAgICAgICAgICAgdmFyIHMgPSBwIC8gNDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHZhciBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuICAgICAgICByZXR1cm4gLShhICogTWF0aC5wb3coMiwgMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSkgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlT3V0RWxhc3RpYyA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgdmFyIHAgPSAwO1xuICAgICAgICB2YXIgYSA9IGM7XG4gICAgICAgIGlmICh0ID09IDApIHJldHVybiBiO1xuICAgICAgICBpZiAoKHQgLz0gZCkgPT0gMSkgcmV0dXJuIGIgKyBjO1xuICAgICAgICBpZiAoIXApIHAgPSBkICogLjM7XG4gICAgICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgICAgICAgIGEgPSBjO1xuICAgICAgICAgICAgdmFyIHMgPSBwIC8gNDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHZhciBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuICAgICAgICByZXR1cm4gYSAqIE1hdGgucG93KDIsIC0xMCAqIHQpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKyBjICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZUluT3V0RWxhc3RpYyA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgdmFyIHAgPSAwO1xuICAgICAgICB2YXIgYSA9IGM7XG4gICAgICAgIGlmICh0ID09IDApIHJldHVybiBiO1xuICAgICAgICBpZiAoKHQgLz0gZCAvIDIpID09IDIpIHJldHVybiBiICsgYztcbiAgICAgICAgaWYgKCFwKSBwID0gZCAqICguMyAqIDEuNSk7XG4gICAgICAgIGlmIChhIDwgTWF0aC5hYnMoYykpIHtcbiAgICAgICAgICAgIGEgPSBjO1xuICAgICAgICAgICAgdmFyIHMgPSBwIC8gNDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHZhciBzID0gcCAvICgyICogTWF0aC5QSSkgKiBNYXRoLmFzaW4oYyAvIGEpO1xuICAgICAgICBpZiAodCA8IDEpIHJldHVybiAtLjUgKiAoYSAqIE1hdGgucG93KDIsIDEwICogKHQgLT0gMSkpICogTWF0aC5zaW4oKHQgKiBkIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkpICsgYjtcbiAgICAgICAgcmV0dXJuIGEgKiBNYXRoLnBvdygyLCAtMTAgKiAodCAtPSAxKSkgKiBNYXRoLnNpbigodCAqIGQgLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSAqIC41ICsgYyArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbkJhY2sgPSBmdW5jdGlvbih0LCBiLCBjLCBkLCBzKSB7XG4gICAgICAgIGlmIChzID09IHVuZGVmaW5lZCkgcyA9IDEuNzAxNTg7XG4gICAgICAgIHJldHVybiBjICogKHQgLz0gZCkgKiB0ICogKChzICsgMSkgKiB0IC0gcykgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlT3V0QmFjayA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQsIHMpIHtcbiAgICAgICAgaWYgKHMgPT0gdW5kZWZpbmVkKSBzID0gMS43MDE1ODtcbiAgICAgICAgcmV0dXJuIGMgKiAoKHQgPSB0IC8gZCAtIDEpICogdCAqICgocyArIDEpICogdCArIHMpICsgMSkgKyBiO1xuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5PdXRCYWNrID0gZnVuY3Rpb24odCwgYiwgYywgZCwgcykge1xuICAgICAgICBpZiAocyA9PSB1bmRlZmluZWQpIHMgPSAxLjcwMTU4O1xuICAgICAgICBpZiAoKHQgLz0gZCAvIDIpIDwgMSkgcmV0dXJuIGMgLyAyICogKHQgKiB0ICogKCgocyAqPSAoMS41MjUpKSArIDEpICogdCAtIHMpKSArIGI7XG4gICAgICAgIHJldHVybiBjIC8gMiAqICgodCAtPSAyKSAqIHQgKiAoKChzICo9ICgxLjUyNSkpICsgMSkgKiB0ICsgcykgKyAyKSArIGI7XG4gICAgfTtcbiAgICBlYXNpbmdzLmVhc2VJbkJvdW5jZSA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgcmV0dXJuIGMgLSBlYXNpbmdzLmVhc2VPdXRCb3VuY2UoZCAtIHQsIDAsIGMsIGQpICsgYjtcbiAgICB9O1xuICAgIGVhc2luZ3MuZWFzZU91dEJvdW5jZSA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgaWYgKCh0IC89IGQpIDwgKDEgLyAyLjc1KSkge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogdCAqIHQpICsgYjtcbiAgICAgICAgfSBlbHNlIGlmICh0IDwgKDIgLyAyLjc1KSkge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDEuNSAvIDIuNzUpKSAqIHQgKyAuNzUpICsgYjtcbiAgICAgICAgfSBlbHNlIGlmICh0IDwgKDIuNSAvIDIuNzUpKSB7XG4gICAgICAgICAgICByZXR1cm4gYyAqICg3LjU2MjUgKiAodCAtPSAoMi4yNSAvIDIuNzUpKSAqIHQgKyAuOTM3NSkgKyBiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGMgKiAoNy41NjI1ICogKHQgLT0gKDIuNjI1IC8gMi43NSkpICogdCArIC45ODQzNzUpICsgYjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgZWFzaW5ncy5lYXNlSW5PdXRCb3VuY2UgPSBmdW5jdGlvbih0LCBiLCBjLCBkKSB7XG4gICAgICAgIGlmICh0IDwgZCAvIDIpIHJldHVybiBlYXNpbmdzLmVhc2VJbkJvdW5jZSh0ICogMiwgMCwgYywgZCkgKiAuNSArIGI7XG4gICAgICAgIHJldHVybiBlYXNpbmdzLmVhc2VPdXRCb3VuY2UodCAqIDIgLSBkLCAwLCBjLCBkKSAqIC41ICsgYyAqIC41ICsgYjtcbiAgICB9O1xuXG59KSk7XG4iLCIoZnVuY3Rpb24gKGdsb2JhbCwgZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgZGVmaW5lKFsnZXhwb3J0cycsICdtb2R1bGUnXSwgZmFjdG9yeSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZmFjdG9yeShleHBvcnRzLCBtb2R1bGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBtb2QgPSB7XG4gICAgICAgICAgICBleHBvcnRzOiB7fVxuICAgICAgICB9O1xuICAgICAgICBmYWN0b3J5KG1vZC5leHBvcnRzLCBtb2QpO1xuICAgICAgICBnbG9iYWwuSW1wZXR1cyA9IG1vZC5leHBvcnRzO1xuICAgIH1cbn0pKHRoaXMsIGZ1bmN0aW9uIChleHBvcnRzLCBtb2R1bGUpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICBmdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvbicpOyB9IH1cblxuICAgIHZhciBzdG9wVGhyZXNob2xkRGVmYXVsdCA9IDAuMztcbiAgICB2YXIgYm91bmNlRGVjZWxlcmF0aW9uID0gMC4wNDtcbiAgICB2YXIgYm91bmNlQWNjZWxlcmF0aW9uID0gMC4xMTtcblxuICAgIC8vIGZpeGVzIHdlaXJkIHNhZmFyaSAxMCBidWcgd2hlcmUgcHJldmVudERlZmF1bHQgaXMgcHJldmVudGVkXG4gICAgLy8gQHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWV0YWZpenp5L2ZsaWNraXR5L2lzc3Vlcy80NTcjaXNzdWVjb21tZW50LTI1NDUwMTM1NlxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoKSB7fSk7XG5cbiAgICB2YXIgSW1wZXR1cyA9IGZ1bmN0aW9uIEltcGV0dXMoX3JlZikge1xuICAgICAgICB2YXIgX3JlZiRzb3VyY2UgPSBfcmVmLnNvdXJjZTtcbiAgICAgICAgdmFyIHNvdXJjZUVsID0gX3JlZiRzb3VyY2UgPT09IHVuZGVmaW5lZCA/IGRvY3VtZW50IDogX3JlZiRzb3VyY2U7XG4gICAgICAgIHZhciB1cGRhdGVDYWxsYmFjayA9IF9yZWYudXBkYXRlO1xuICAgICAgICB2YXIgX3JlZiRtdWx0aXBsaWVyID0gX3JlZi5tdWx0aXBsaWVyO1xuICAgICAgICB2YXIgbXVsdGlwbGllciA9IF9yZWYkbXVsdGlwbGllciA9PT0gdW5kZWZpbmVkID8gMSA6IF9yZWYkbXVsdGlwbGllcjtcbiAgICAgICAgdmFyIF9yZWYkZnJpY3Rpb24gPSBfcmVmLmZyaWN0aW9uO1xuICAgICAgICB2YXIgZnJpY3Rpb24gPSBfcmVmJGZyaWN0aW9uID09PSB1bmRlZmluZWQgPyAwLjkyIDogX3JlZiRmcmljdGlvbjtcbiAgICAgICAgdmFyIGluaXRpYWxWYWx1ZXMgPSBfcmVmLmluaXRpYWxWYWx1ZXM7XG4gICAgICAgIHZhciBib3VuZFggPSBfcmVmLmJvdW5kWDtcbiAgICAgICAgdmFyIGJvdW5kWSA9IF9yZWYuYm91bmRZO1xuICAgICAgICB2YXIgX3JlZiRib3VuY2UgPSBfcmVmLmJvdW5jZTtcbiAgICAgICAgdmFyIGJvdW5jZSA9IF9yZWYkYm91bmNlID09PSB1bmRlZmluZWQgPyB0cnVlIDogX3JlZiRib3VuY2U7XG5cbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEltcGV0dXMpO1xuXG4gICAgICAgIHZhciBib3VuZFhtaW4sIGJvdW5kWG1heCwgYm91bmRZbWluLCBib3VuZFltYXgsIHBvaW50ZXJMYXN0WCwgcG9pbnRlckxhc3RZLCBwb2ludGVyQ3VycmVudFgsIHBvaW50ZXJDdXJyZW50WSwgcG9pbnRlcklkLCBkZWNWZWxYLCBkZWNWZWxZO1xuICAgICAgICB2YXIgdGFyZ2V0WCA9IDA7XG4gICAgICAgIHZhciB0YXJnZXRZID0gMDtcbiAgICAgICAgdmFyIHN0b3BUaHJlc2hvbGQgPSBzdG9wVGhyZXNob2xkRGVmYXVsdCAqIG11bHRpcGxpZXI7XG4gICAgICAgIHZhciB0aWNraW5nID0gZmFsc2U7XG4gICAgICAgIHZhciBwb2ludGVyQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHZhciBwYXVzZWQgPSBmYWxzZTtcbiAgICAgICAgdmFyIGRlY2VsZXJhdGluZyA9IGZhbHNlO1xuICAgICAgICB2YXIgdHJhY2tpbmdQb2ludHMgPSBbXTtcblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbml0aWFsaXplIGluc3RhbmNlXHJcbiAgICAgICAgICovXG4gICAgICAgIChmdW5jdGlvbiBpbml0KCkge1xuICAgICAgICAgICAgc291cmNlRWwgPSB0eXBlb2Ygc291cmNlRWwgPT09ICdzdHJpbmcnID8gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihzb3VyY2VFbCkgOiBzb3VyY2VFbDtcbiAgICAgICAgICAgIGlmICghc291cmNlRWwpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lNUEVUVVM6IHNvdXJjZSBub3QgZm91bmQuJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghdXBkYXRlQ2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0lNUEVUVVM6IHVwZGF0ZSBmdW5jdGlvbiBub3QgZGVmaW5lZC4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGluaXRpYWxWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5pdGlhbFZhbHVlc1swXSkge1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRYID0gaW5pdGlhbFZhbHVlc1swXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGluaXRpYWxWYWx1ZXNbMV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WSA9IGluaXRpYWxWYWx1ZXNbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhbGxVcGRhdGVDYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBJbml0aWFsaXplIGJvdW5kIHZhbHVlc1xuICAgICAgICAgICAgaWYgKGJvdW5kWCkge1xuICAgICAgICAgICAgICAgIGJvdW5kWG1pbiA9IGJvdW5kWFswXTtcbiAgICAgICAgICAgICAgICBib3VuZFhtYXggPSBib3VuZFhbMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYm91bmRZKSB7XG4gICAgICAgICAgICAgICAgYm91bmRZbWluID0gYm91bmRZWzBdO1xuICAgICAgICAgICAgICAgIGJvdW5kWW1heCA9IGJvdW5kWVsxXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc291cmNlRWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uRG93bik7XG4gICAgICAgICAgICBzb3VyY2VFbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvbkRvd24pO1xuICAgICAgICB9KSgpO1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEluIGVkZ2UgY2FzZXMgd2hlcmUgeW91IG1heSBuZWVkIHRvXHJcbiAgICAgICAgICogcmVpbnN0YW5jaWF0ZSBJbXBldHVzIG9uIHRoZSBzYW1lIHNvdXJjZUVsXHJcbiAgICAgICAgICogdGhpcyB3aWxsIHJlbW92ZSB0aGUgcHJldmlvdXMgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNvdXJjZUVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBvbkRvd24pO1xuICAgICAgICAgICAgc291cmNlRWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Eb3duKTtcbiAgICAgICAgICAgIC8vIGhvd2V2ZXIgaXQgd29uJ3QgXCJkZXN0cm95XCIgYSByZWZlcmVuY2VcbiAgICAgICAgICAgIC8vIHRvIGluc3RhbmNlIGlmIHlvdSdkIGxpa2UgdG8gZG8gdGhhdFxuICAgICAgICAgICAgLy8gaXQgcmV0dXJucyBudWxsIGFzIGEgY29udmluaWVuY2UuXG4gICAgICAgICAgICAvLyBleDogYGluc3RhbmNlID0gaW5zdGFuY2UuZGVzdHJveSgpO2BcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIERpc2FibGUgbW92ZW1lbnQgcHJvY2Vzc2luZ1xyXG4gICAgICAgICAqIEBwdWJsaWNcclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYXVzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBvaW50ZXJBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHBhdXNlZCA9IHRydWU7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRW5hYmxlIG1vdmVtZW50IHByb2Nlc3NpbmdcclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmVzdW1lID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcGF1c2VkID0gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVXBkYXRlIHRoZSBjdXJyZW50IHggYW5kIHkgdmFsdWVzXHJcbiAgICAgICAgICogQHB1YmxpY1xyXG4gICAgICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4XHJcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJ9IHlcclxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zZXRWYWx1ZXMgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHRhcmdldFggPSB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiB5ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgICAgIHRhcmdldFkgPSB5O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZSB0aGUgbXVsdGlwbGllciB2YWx1ZVxyXG4gICAgICAgICAqIEBwdWJsaWNcclxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsXHJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2V0TXVsdGlwbGllciA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgICAgIG11bHRpcGxpZXIgPSB2YWw7XG4gICAgICAgICAgICBzdG9wVGhyZXNob2xkID0gc3RvcFRocmVzaG9sZERlZmF1bHQgKiBtdWx0aXBsaWVyO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZSBib3VuZFggdmFsdWVcclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJbXX0gYm91bmRYXHJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2V0Qm91bmRYID0gZnVuY3Rpb24gKGJvdW5kWCkge1xuICAgICAgICAgICAgYm91bmRYbWluID0gYm91bmRYWzBdO1xuICAgICAgICAgICAgYm91bmRYbWF4ID0gYm91bmRYWzFdO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFVwZGF0ZSBib3VuZFkgdmFsdWVcclxuICAgICAgICAgKiBAcHVibGljXHJcbiAgICAgICAgICogQHBhcmFtIHtOdW1iZXJbXX0gYm91bmRZXHJcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc2V0Qm91bmRZID0gZnVuY3Rpb24gKGJvdW5kWSkge1xuICAgICAgICAgICAgYm91bmRZbWluID0gYm91bmRZWzBdO1xuICAgICAgICAgICAgYm91bmRZbWF4ID0gYm91bmRZWzFdO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEV4ZWN1dGVzIHRoZSB1cGRhdGUgZnVuY3Rpb25cclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gY2FsbFVwZGF0ZUNhbGxiYWNrKCkge1xuICAgICAgICAgICAgdXBkYXRlQ2FsbGJhY2suY2FsbChzb3VyY2VFbCwgdGFyZ2V0WCwgdGFyZ2V0WSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDcmVhdGVzIGEgY3VzdG9tIG5vcm1hbGl6ZWQgZXZlbnQgb2JqZWN0IGZyb20gdG91Y2ggYW5kIG1vdXNlIGV2ZW50c1xyXG4gICAgICAgICAqIEBwYXJhbSAge0V2ZW50fSBldlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IHdpdGggeCwgeSwgYW5kIGlkIHByb3BlcnRpZXNcclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gbm9ybWFsaXplRXZlbnQoZXYpIHtcbiAgICAgICAgICAgIGlmIChldi50eXBlID09PSAndG91Y2htb3ZlJyB8fCBldi50eXBlID09PSAndG91Y2hzdGFydCcgfHwgZXYudHlwZSA9PT0gJ3RvdWNoZW5kJykge1xuICAgICAgICAgICAgICAgIHZhciB0b3VjaCA9IGV2LnRhcmdldFRvdWNoZXNbMF0gfHwgZXYuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgeDogdG91Y2guY2xpZW50WCxcbiAgICAgICAgICAgICAgICAgICAgeTogdG91Y2guY2xpZW50WSxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHRvdWNoLmlkZW50aWZpZXJcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBtb3VzZSBldmVudHNcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB4OiBldi5jbGllbnRYLFxuICAgICAgICAgICAgICAgICAgICB5OiBldi5jbGllbnRZLFxuICAgICAgICAgICAgICAgICAgICBpZDogbnVsbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbml0aWFsaXplcyBtb3ZlbWVudCB0cmFja2luZ1xyXG4gICAgICAgICAqIEBwYXJhbSAge09iamVjdH0gZXYgTm9ybWFsaXplZCBldmVudFxyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBvbkRvd24oZXYpIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IG5vcm1hbGl6ZUV2ZW50KGV2KTtcbiAgICAgICAgICAgIGlmICghcG9pbnRlckFjdGl2ZSAmJiAhcGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgcG9pbnRlckFjdGl2ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgZGVjZWxlcmF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcG9pbnRlcklkID0gZXZlbnQuaWQ7XG5cbiAgICAgICAgICAgICAgICBwb2ludGVyTGFzdFggPSBwb2ludGVyQ3VycmVudFggPSBldmVudC54O1xuICAgICAgICAgICAgICAgIHBvaW50ZXJMYXN0WSA9IHBvaW50ZXJDdXJyZW50WSA9IGV2ZW50Lnk7XG4gICAgICAgICAgICAgICAgdHJhY2tpbmdQb2ludHMgPSBbXTtcbiAgICAgICAgICAgICAgICBhZGRUcmFja2luZ1BvaW50KHBvaW50ZXJMYXN0WCwgcG9pbnRlckxhc3RZKTtcblxuICAgICAgICAgICAgICAgIC8vIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vd2ViL3VwZGF0ZXMvMjAxNy8wMS9zY3JvbGxpbmctaW50ZXJ2ZW50aW9uXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgb25Nb3ZlLCBnZXRQYXNzaXZlU3VwcG9ydGVkKCkgPyB7IHBhc3NpdmU6IGZhbHNlIH0gOiBmYWxzZSk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblVwKTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGNhbmNlbCcsIHN0b3BUcmFja2luZyk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Nb3ZlLCBnZXRQYXNzaXZlU3VwcG9ydGVkKCkgPyB7IHBhc3NpdmU6IGZhbHNlIH0gOiBmYWxzZSk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uVXApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSGFuZGxlcyBtb3ZlIGV2ZW50c1xyXG4gICAgICAgICAqIEBwYXJhbSAge09iamVjdH0gZXYgTm9ybWFsaXplZCBldmVudFxyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBvbk1vdmUoZXYpIHtcbiAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBub3JtYWxpemVFdmVudChldik7XG5cbiAgICAgICAgICAgIGlmIChwb2ludGVyQWN0aXZlICYmIGV2ZW50LmlkID09PSBwb2ludGVySWQpIHtcbiAgICAgICAgICAgICAgICBwb2ludGVyQ3VycmVudFggPSBldmVudC54O1xuICAgICAgICAgICAgICAgIHBvaW50ZXJDdXJyZW50WSA9IGV2ZW50Lnk7XG4gICAgICAgICAgICAgICAgYWRkVHJhY2tpbmdQb2ludChwb2ludGVyTGFzdFgsIHBvaW50ZXJMYXN0WSk7XG4gICAgICAgICAgICAgICAgcmVxdWVzdFRpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhhbmRsZXMgdXAvZW5kIGV2ZW50c1xyXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBldiBOb3JtYWxpemVkIGV2ZW50XHJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIG9uVXAoZXYpIHtcbiAgICAgICAgICAgIHZhciBldmVudCA9IG5vcm1hbGl6ZUV2ZW50KGV2KTtcblxuICAgICAgICAgICAgaWYgKHBvaW50ZXJBY3RpdmUgJiYgZXZlbnQuaWQgPT09IHBvaW50ZXJJZCkge1xuICAgICAgICAgICAgICAgIHN0b3BUcmFja2luZygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU3RvcHMgbW92ZW1lbnQgdHJhY2tpbmcsIHN0YXJ0cyBhbmltYXRpb25cclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc3RvcFRyYWNraW5nKCkge1xuICAgICAgICAgICAgcG9pbnRlckFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgYWRkVHJhY2tpbmdQb2ludChwb2ludGVyTGFzdFgsIHBvaW50ZXJMYXN0WSk7XG4gICAgICAgICAgICBzdGFydERlY2VsQW5pbSgpO1xuXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvbk1vdmUpO1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBvblVwKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoY2FuY2VsJywgc3RvcFRyYWNraW5nKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvblVwKTtcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIG9uTW92ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBSZWNvcmRzIG1vdmVtZW50IGZvciB0aGUgbGFzdCAxMDBtc1xyXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XHJcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHkgW2Rlc2NyaXB0aW9uXVxyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBhZGRUcmFja2luZ1BvaW50KHgsIHkpIHtcbiAgICAgICAgICAgIHZhciB0aW1lID0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIHdoaWxlICh0cmFja2luZ1BvaW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRpbWUgLSB0cmFja2luZ1BvaW50c1swXS50aW1lIDw9IDEwMCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdHJhY2tpbmdQb2ludHMuc2hpZnQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJhY2tpbmdQb2ludHMucHVzaCh7IHg6IHgsIHk6IHksIHRpbWU6IHRpbWUgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDYWxjdWxhdGUgbmV3IHZhbHVlcywgY2FsbCB1cGRhdGUgZnVuY3Rpb25cclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gdXBkYXRlQW5kUmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIHBvaW50ZXJDaGFuZ2VYID0gcG9pbnRlckN1cnJlbnRYIC0gcG9pbnRlckxhc3RYO1xuICAgICAgICAgICAgdmFyIHBvaW50ZXJDaGFuZ2VZID0gcG9pbnRlckN1cnJlbnRZIC0gcG9pbnRlckxhc3RZO1xuXG4gICAgICAgICAgICB0YXJnZXRYICs9IHBvaW50ZXJDaGFuZ2VYICogbXVsdGlwbGllcjtcbiAgICAgICAgICAgIHRhcmdldFkgKz0gcG9pbnRlckNoYW5nZVkgKiBtdWx0aXBsaWVyO1xuXG4gICAgICAgICAgICBpZiAoYm91bmNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRpZmYgPSBjaGVja0JvdW5kcygpO1xuICAgICAgICAgICAgICAgIGlmIChkaWZmLnggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WCAtPSBwb2ludGVyQ2hhbmdlWCAqIGRyYWdPdXRPZkJvdW5kc011bHRpcGxpZXIoZGlmZi54KSAqIG11bHRpcGxpZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkaWZmLnkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WSAtPSBwb2ludGVyQ2hhbmdlWSAqIGRyYWdPdXRPZkJvdW5kc011bHRpcGxpZXIoZGlmZi55KSAqIG11bHRpcGxpZXI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjaGVja0JvdW5kcyh0cnVlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2FsbFVwZGF0ZUNhbGxiYWNrKCk7XG5cbiAgICAgICAgICAgIHBvaW50ZXJMYXN0WCA9IHBvaW50ZXJDdXJyZW50WDtcbiAgICAgICAgICAgIHBvaW50ZXJMYXN0WSA9IHBvaW50ZXJDdXJyZW50WTtcbiAgICAgICAgICAgIHRpY2tpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFJldHVybnMgYSB2YWx1ZSBmcm9tIGFyb3VuZCAwLjUgdG8gMSwgYmFzZWQgb24gZGlzdGFuY2VcclxuICAgICAgICAgKiBAcGFyYW0ge051bWJlcn0gdmFsXHJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGRyYWdPdXRPZkJvdW5kc011bHRpcGxpZXIodmFsKSB7XG4gICAgICAgICAgICByZXR1cm4gMC4wMDAwMDUgKiBNYXRoLnBvdyh2YWwsIDIpICsgMC4wMDAxICogdmFsICsgMC41NTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIHByZXZlbnRzIGFuaW1hdGluZyBmYXN0ZXIgdGhhbiBjdXJyZW50IGZyYW1lcmF0ZVxyXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiByZXF1ZXN0VGljaygpIHtcbiAgICAgICAgICAgIGlmICghdGlja2luZykge1xuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltRnJhbWUodXBkYXRlQW5kUmVuZGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRpY2tpbmcgPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogRGV0ZXJtaW5lIHBvc2l0aW9uIHJlbGF0aXZlIHRvIGJvdW5kc1xyXG4gICAgICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcmVzdHJpY3QgV2hldGhlciB0byByZXN0cmljdCB0YXJnZXQgdG8gYm91bmRzXHJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrQm91bmRzKHJlc3RyaWN0KSB7XG4gICAgICAgICAgICB2YXIgeERpZmYgPSAwO1xuICAgICAgICAgICAgdmFyIHlEaWZmID0gMDtcblxuICAgICAgICAgICAgaWYgKGJvdW5kWG1pbiAhPT0gdW5kZWZpbmVkICYmIHRhcmdldFggPCBib3VuZFhtaW4pIHtcbiAgICAgICAgICAgICAgICB4RGlmZiA9IGJvdW5kWG1pbiAtIHRhcmdldFg7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJvdW5kWG1heCAhPT0gdW5kZWZpbmVkICYmIHRhcmdldFggPiBib3VuZFhtYXgpIHtcbiAgICAgICAgICAgICAgICB4RGlmZiA9IGJvdW5kWG1heCAtIHRhcmdldFg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib3VuZFltaW4gIT09IHVuZGVmaW5lZCAmJiB0YXJnZXRZIDwgYm91bmRZbWluKSB7XG4gICAgICAgICAgICAgICAgeURpZmYgPSBib3VuZFltaW4gLSB0YXJnZXRZO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChib3VuZFltYXggIT09IHVuZGVmaW5lZCAmJiB0YXJnZXRZID4gYm91bmRZbWF4KSB7XG4gICAgICAgICAgICAgICAgeURpZmYgPSBib3VuZFltYXggLSB0YXJnZXRZO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmVzdHJpY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoeERpZmYgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WCA9IHhEaWZmID4gMCA/IGJvdW5kWG1pbiA6IGJvdW5kWG1heDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHlEaWZmICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFkgPSB5RGlmZiA+IDAgPyBib3VuZFltaW4gOiBib3VuZFltYXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHg6IHhEaWZmLFxuICAgICAgICAgICAgICAgIHk6IHlEaWZmLFxuICAgICAgICAgICAgICAgIGluQm91bmRzOiB4RGlmZiA9PT0gMCAmJiB5RGlmZiA9PT0gMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEluaXRpYWxpemUgYW5pbWF0aW9uIG9mIHZhbHVlcyBjb21pbmcgdG8gYSBzdG9wXHJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0RGVjZWxBbmltKCkge1xuICAgICAgICAgICAgdmFyIGZpcnN0UG9pbnQgPSB0cmFja2luZ1BvaW50c1swXTtcbiAgICAgICAgICAgIHZhciBsYXN0UG9pbnQgPSB0cmFja2luZ1BvaW50c1t0cmFja2luZ1BvaW50cy5sZW5ndGggLSAxXTtcblxuICAgICAgICAgICAgdmFyIHhPZmZzZXQgPSBsYXN0UG9pbnQueCAtIGZpcnN0UG9pbnQueDtcbiAgICAgICAgICAgIHZhciB5T2Zmc2V0ID0gbGFzdFBvaW50LnkgLSBmaXJzdFBvaW50Lnk7XG4gICAgICAgICAgICB2YXIgdGltZU9mZnNldCA9IGxhc3RQb2ludC50aW1lIC0gZmlyc3RQb2ludC50aW1lO1xuXG4gICAgICAgICAgICB2YXIgRCA9IHRpbWVPZmZzZXQgLyAxNSAvIG11bHRpcGxpZXI7XG5cbiAgICAgICAgICAgIGRlY1ZlbFggPSB4T2Zmc2V0IC8gRCB8fCAwOyAvLyBwcmV2ZW50IE5hTlxuICAgICAgICAgICAgZGVjVmVsWSA9IHlPZmZzZXQgLyBEIHx8IDA7XG5cbiAgICAgICAgICAgIHZhciBkaWZmID0gY2hlY2tCb3VuZHMoKTtcblxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKGRlY1ZlbFgpID4gMSB8fCBNYXRoLmFicyhkZWNWZWxZKSA+IDEgfHwgIWRpZmYuaW5Cb3VuZHMpIHtcbiAgICAgICAgICAgICAgICBkZWNlbGVyYXRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltRnJhbWUoc3RlcERlY2VsQW5pbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKipcclxuICAgICAgICAgKiBBbmltYXRlcyB2YWx1ZXMgc2xvd2luZyBkb3duXHJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXBEZWNlbEFuaW0oKSB7XG4gICAgICAgICAgICBpZiAoIWRlY2VsZXJhdGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZGVjVmVsWCAqPSBmcmljdGlvbjtcbiAgICAgICAgICAgIGRlY1ZlbFkgKj0gZnJpY3Rpb247XG5cbiAgICAgICAgICAgIHRhcmdldFggKz0gZGVjVmVsWDtcbiAgICAgICAgICAgIHRhcmdldFkgKz0gZGVjVmVsWTtcblxuICAgICAgICAgICAgdmFyIGRpZmYgPSBjaGVja0JvdW5kcygpO1xuXG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMoZGVjVmVsWCkgPiBzdG9wVGhyZXNob2xkIHx8IE1hdGguYWJzKGRlY1ZlbFkpID4gc3RvcFRocmVzaG9sZCB8fCAhZGlmZi5pbkJvdW5kcykge1xuXG4gICAgICAgICAgICAgICAgaWYgKGJvdW5jZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVib3VuZEFkanVzdCA9IDIuNTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZi54ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZi54ICogZGVjVmVsWCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjVmVsWCArPSBkaWZmLnggKiBib3VuY2VEZWNlbGVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGp1c3QgPSBkaWZmLnggPiAwID8gcmVib3VuZEFkanVzdCA6IC1yZWJvdW5kQWRqdXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY1ZlbFggPSAoZGlmZi54ICsgYWRqdXN0KSAqIGJvdW5jZUFjY2VsZXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZi55ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGlmZi55ICogZGVjVmVsWSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVjVmVsWSArPSBkaWZmLnkgKiBib3VuY2VEZWNlbGVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhZGp1c3QgPSBkaWZmLnkgPiAwID8gcmVib3VuZEFkanVzdCA6IC1yZWJvdW5kQWRqdXN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlY1ZlbFkgPSAoZGlmZi55ICsgYWRqdXN0KSAqIGJvdW5jZUFjY2VsZXJhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWZmLnggIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWZmLnggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WCA9IGJvdW5kWG1pbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WCA9IGJvdW5kWG1heDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY1ZlbFggPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkaWZmLnkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWZmLnkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WSA9IGJvdW5kWW1pbjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0WSA9IGJvdW5kWW1heDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY1ZlbFkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY2FsbFVwZGF0ZUNhbGxiYWNrKCk7XG5cbiAgICAgICAgICAgICAgICByZXF1ZXN0QW5pbUZyYW1lKHN0ZXBEZWNlbEFuaW0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkZWNlbGVyYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxyXG4gICAgICogQHNlZSBodHRwOi8vd3d3LnBhdWxpcmlzaC5jb20vMjAxMS9yZXF1ZXN0YW5pbWF0aW9uZnJhbWUtZm9yLXNtYXJ0LWFuaW1hdGluZy9cclxuICAgICAqL1xuICAgIDtcblxuICAgIG1vZHVsZS5leHBvcnRzID0gSW1wZXR1cztcbiAgICB2YXIgcmVxdWVzdEFuaW1GcmFtZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNhbGxiYWNrLCAxMDAwIC8gNjApO1xuICAgICAgICB9O1xuICAgIH0pKCk7XG5cbiAgICBmdW5jdGlvbiBnZXRQYXNzaXZlU3VwcG9ydGVkKCkge1xuICAgICAgICB2YXIgcGFzc2l2ZVN1cHBvcnRlZCA9IGZhbHNlO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgb3B0aW9ucyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgXCJwYXNzaXZlXCIsIHtcbiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICAgICAgICAgICAgcGFzc2l2ZVN1cHBvcnRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwidGVzdFwiLCBudWxsLCBvcHRpb25zKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7fVxuXG4gICAgICAgIGdldFBhc3NpdmVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFzc2l2ZVN1cHBvcnRlZDtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHBhc3NpdmVTdXBwb3J0ZWQ7XG4gICAgfVxufSk7XG4iLCIvKlxuICogY2xhc3NMaXN0LmpzOiBDcm9zcy1icm93c2VyIGZ1bGwgZWxlbWVudC5jbGFzc0xpc3QgaW1wbGVtZW50YXRpb24uXG4gKiAxLjEuMjAxNzA0MjdcbiAqXG4gKiBCeSBFbGkgR3JleSwgaHR0cDovL2VsaWdyZXkuY29tXG4gKiBMaWNlbnNlOiBEZWRpY2F0ZWQgdG8gdGhlIHB1YmxpYyBkb21haW4uXG4gKiAgIFNlZSBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9jbGFzc0xpc3QuanMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxuICovXG5cbi8qZ2xvYmFsIHNlbGYsIGRvY3VtZW50LCBET01FeGNlcHRpb24gKi9cblxuLyohIEBzb3VyY2UgaHR0cDovL3B1cmwuZWxpZ3JleS5jb20vZ2l0aHViL2NsYXNzTGlzdC5qcy9ibG9iL21hc3Rlci9jbGFzc0xpc3QuanMgKi9cblxuaWYgKFwiZG9jdW1lbnRcIiBpbiB3aW5kb3cuc2VsZikge1xuXG4vLyBGdWxsIHBvbHlmaWxsIGZvciBicm93c2VycyB3aXRoIG5vIGNsYXNzTGlzdCBzdXBwb3J0XG4vLyBJbmNsdWRpbmcgSUUgPCBFZGdlIG1pc3NpbmcgU1ZHRWxlbWVudC5jbGFzc0xpc3RcbmlmICghKFwiY2xhc3NMaXN0XCIgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIl9cIikpIFxuXHR8fCBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgJiYgIShcImNsYXNzTGlzdFwiIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXCJnXCIpKSkge1xuXG4oZnVuY3Rpb24gKHZpZXcpIHtcblxuXCJ1c2Ugc3RyaWN0XCI7XG5cbmlmICghKCdFbGVtZW50JyBpbiB2aWV3KSkgcmV0dXJuO1xuXG52YXJcblx0ICBjbGFzc0xpc3RQcm9wID0gXCJjbGFzc0xpc3RcIlxuXHQsIHByb3RvUHJvcCA9IFwicHJvdG90eXBlXCJcblx0LCBlbGVtQ3RyUHJvdG8gPSB2aWV3LkVsZW1lbnRbcHJvdG9Qcm9wXVxuXHQsIG9iakN0ciA9IE9iamVjdFxuXHQsIHN0clRyaW0gPSBTdHJpbmdbcHJvdG9Qcm9wXS50cmltIHx8IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gdGhpcy5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCBcIlwiKTtcblx0fVxuXHQsIGFyckluZGV4T2YgPSBBcnJheVtwcm90b1Byb3BdLmluZGV4T2YgfHwgZnVuY3Rpb24gKGl0ZW0pIHtcblx0XHR2YXJcblx0XHRcdCAgaSA9IDBcblx0XHRcdCwgbGVuID0gdGhpcy5sZW5ndGhcblx0XHQ7XG5cdFx0Zm9yICg7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKGkgaW4gdGhpcyAmJiB0aGlzW2ldID09PSBpdGVtKSB7XG5cdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gLTE7XG5cdH1cblx0Ly8gVmVuZG9yczogcGxlYXNlIGFsbG93IGNvbnRlbnQgY29kZSB0byBpbnN0YW50aWF0ZSBET01FeGNlcHRpb25zXG5cdCwgRE9NRXggPSBmdW5jdGlvbiAodHlwZSwgbWVzc2FnZSkge1xuXHRcdHRoaXMubmFtZSA9IHR5cGU7XG5cdFx0dGhpcy5jb2RlID0gRE9NRXhjZXB0aW9uW3R5cGVdO1xuXHRcdHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG5cdH1cblx0LCBjaGVja1Rva2VuQW5kR2V0SW5kZXggPSBmdW5jdGlvbiAoY2xhc3NMaXN0LCB0b2tlbikge1xuXHRcdGlmICh0b2tlbiA9PT0gXCJcIikge1xuXHRcdFx0dGhyb3cgbmV3IERPTUV4KFxuXHRcdFx0XHQgIFwiU1lOVEFYX0VSUlwiXG5cdFx0XHRcdCwgXCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWRcIlxuXHRcdFx0KTtcblx0XHR9XG5cdFx0aWYgKC9cXHMvLnRlc3QodG9rZW4pKSB7XG5cdFx0XHR0aHJvdyBuZXcgRE9NRXgoXG5cdFx0XHRcdCAgXCJJTlZBTElEX0NIQVJBQ1RFUl9FUlJcIlxuXHRcdFx0XHQsIFwiU3RyaW5nIGNvbnRhaW5zIGFuIGludmFsaWQgY2hhcmFjdGVyXCJcblx0XHRcdCk7XG5cdFx0fVxuXHRcdHJldHVybiBhcnJJbmRleE9mLmNhbGwoY2xhc3NMaXN0LCB0b2tlbik7XG5cdH1cblx0LCBDbGFzc0xpc3QgPSBmdW5jdGlvbiAoZWxlbSkge1xuXHRcdHZhclxuXHRcdFx0ICB0cmltbWVkQ2xhc3NlcyA9IHN0clRyaW0uY2FsbChlbGVtLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpIHx8IFwiXCIpXG5cdFx0XHQsIGNsYXNzZXMgPSB0cmltbWVkQ2xhc3NlcyA/IHRyaW1tZWRDbGFzc2VzLnNwbGl0KC9cXHMrLykgOiBbXVxuXHRcdFx0LCBpID0gMFxuXHRcdFx0LCBsZW4gPSBjbGFzc2VzLmxlbmd0aFxuXHRcdDtcblx0XHRmb3IgKDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHR0aGlzLnB1c2goY2xhc3Nlc1tpXSk7XG5cdFx0fVxuXHRcdHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdGVsZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgdGhpcy50b1N0cmluZygpKTtcblx0XHR9O1xuXHR9XG5cdCwgY2xhc3NMaXN0UHJvdG8gPSBDbGFzc0xpc3RbcHJvdG9Qcm9wXSA9IFtdXG5cdCwgY2xhc3NMaXN0R2V0dGVyID0gZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBuZXcgQ2xhc3NMaXN0KHRoaXMpO1xuXHR9XG47XG4vLyBNb3N0IERPTUV4Y2VwdGlvbiBpbXBsZW1lbnRhdGlvbnMgZG9uJ3QgYWxsb3cgY2FsbGluZyBET01FeGNlcHRpb24ncyB0b1N0cmluZygpXG4vLyBvbiBub24tRE9NRXhjZXB0aW9ucy4gRXJyb3IncyB0b1N0cmluZygpIGlzIHN1ZmZpY2llbnQgaGVyZS5cbkRPTUV4W3Byb3RvUHJvcF0gPSBFcnJvcltwcm90b1Byb3BdO1xuY2xhc3NMaXN0UHJvdG8uaXRlbSA9IGZ1bmN0aW9uIChpKSB7XG5cdHJldHVybiB0aGlzW2ldIHx8IG51bGw7XG59O1xuY2xhc3NMaXN0UHJvdG8uY29udGFpbnMgPSBmdW5jdGlvbiAodG9rZW4pIHtcblx0dG9rZW4gKz0gXCJcIjtcblx0cmV0dXJuIGNoZWNrVG9rZW5BbmRHZXRJbmRleCh0aGlzLCB0b2tlbikgIT09IC0xO1xufTtcbmNsYXNzTGlzdFByb3RvLmFkZCA9IGZ1bmN0aW9uICgpIHtcblx0dmFyXG5cdFx0ICB0b2tlbnMgPSBhcmd1bWVudHNcblx0XHQsIGkgPSAwXG5cdFx0LCBsID0gdG9rZW5zLmxlbmd0aFxuXHRcdCwgdG9rZW5cblx0XHQsIHVwZGF0ZWQgPSBmYWxzZVxuXHQ7XG5cdGRvIHtcblx0XHR0b2tlbiA9IHRva2Vuc1tpXSArIFwiXCI7XG5cdFx0aWYgKGNoZWNrVG9rZW5BbmRHZXRJbmRleCh0aGlzLCB0b2tlbikgPT09IC0xKSB7XG5cdFx0XHR0aGlzLnB1c2godG9rZW4pO1xuXHRcdFx0dXBkYXRlZCA9IHRydWU7XG5cdFx0fVxuXHR9XG5cdHdoaWxlICgrK2kgPCBsKTtcblxuXHRpZiAodXBkYXRlZCkge1xuXHRcdHRoaXMuX3VwZGF0ZUNsYXNzTmFtZSgpO1xuXHR9XG59O1xuY2xhc3NMaXN0UHJvdG8ucmVtb3ZlID0gZnVuY3Rpb24gKCkge1xuXHR2YXJcblx0XHQgIHRva2VucyA9IGFyZ3VtZW50c1xuXHRcdCwgaSA9IDBcblx0XHQsIGwgPSB0b2tlbnMubGVuZ3RoXG5cdFx0LCB0b2tlblxuXHRcdCwgdXBkYXRlZCA9IGZhbHNlXG5cdFx0LCBpbmRleFxuXHQ7XG5cdGRvIHtcblx0XHR0b2tlbiA9IHRva2Vuc1tpXSArIFwiXCI7XG5cdFx0aW5kZXggPSBjaGVja1Rva2VuQW5kR2V0SW5kZXgodGhpcywgdG9rZW4pO1xuXHRcdHdoaWxlIChpbmRleCAhPT0gLTEpIHtcblx0XHRcdHRoaXMuc3BsaWNlKGluZGV4LCAxKTtcblx0XHRcdHVwZGF0ZWQgPSB0cnVlO1xuXHRcdFx0aW5kZXggPSBjaGVja1Rva2VuQW5kR2V0SW5kZXgodGhpcywgdG9rZW4pO1xuXHRcdH1cblx0fVxuXHR3aGlsZSAoKytpIDwgbCk7XG5cblx0aWYgKHVwZGF0ZWQpIHtcblx0XHR0aGlzLl91cGRhdGVDbGFzc05hbWUoKTtcblx0fVxufTtcbmNsYXNzTGlzdFByb3RvLnRvZ2dsZSA9IGZ1bmN0aW9uICh0b2tlbiwgZm9yY2UpIHtcblx0dG9rZW4gKz0gXCJcIjtcblxuXHR2YXJcblx0XHQgIHJlc3VsdCA9IHRoaXMuY29udGFpbnModG9rZW4pXG5cdFx0LCBtZXRob2QgPSByZXN1bHQgP1xuXHRcdFx0Zm9yY2UgIT09IHRydWUgJiYgXCJyZW1vdmVcIlxuXHRcdDpcblx0XHRcdGZvcmNlICE9PSBmYWxzZSAmJiBcImFkZFwiXG5cdDtcblxuXHRpZiAobWV0aG9kKSB7XG5cdFx0dGhpc1ttZXRob2RdKHRva2VuKTtcblx0fVxuXG5cdGlmIChmb3JjZSA9PT0gdHJ1ZSB8fCBmb3JjZSA9PT0gZmFsc2UpIHtcblx0XHRyZXR1cm4gZm9yY2U7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuICFyZXN1bHQ7XG5cdH1cbn07XG5jbGFzc0xpc3RQcm90by50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcblx0cmV0dXJuIHRoaXMuam9pbihcIiBcIik7XG59O1xuXG5pZiAob2JqQ3RyLmRlZmluZVByb3BlcnR5KSB7XG5cdHZhciBjbGFzc0xpc3RQcm9wRGVzYyA9IHtcblx0XHQgIGdldDogY2xhc3NMaXN0R2V0dGVyXG5cdFx0LCBlbnVtZXJhYmxlOiB0cnVlXG5cdFx0LCBjb25maWd1cmFibGU6IHRydWVcblx0fTtcblx0dHJ5IHtcblx0XHRvYmpDdHIuZGVmaW5lUHJvcGVydHkoZWxlbUN0clByb3RvLCBjbGFzc0xpc3RQcm9wLCBjbGFzc0xpc3RQcm9wRGVzYyk7XG5cdH0gY2F0Y2ggKGV4KSB7IC8vIElFIDggZG9lc24ndCBzdXBwb3J0IGVudW1lcmFibGU6dHJ1ZVxuXHRcdC8vIGFkZGluZyB1bmRlZmluZWQgdG8gZmlnaHQgdGhpcyBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vZWxpZ3JleS9jbGFzc0xpc3QuanMvaXNzdWVzLzM2XG5cdFx0Ly8gbW9kZXJuaWUgSUU4LU1TVzcgbWFjaGluZSBoYXMgSUU4IDguMC42MDAxLjE4NzAyIGFuZCBpcyBhZmZlY3RlZFxuXHRcdGlmIChleC5udW1iZXIgPT09IHVuZGVmaW5lZCB8fCBleC5udW1iZXIgPT09IC0weDdGRjVFQzU0KSB7XG5cdFx0XHRjbGFzc0xpc3RQcm9wRGVzYy5lbnVtZXJhYmxlID0gZmFsc2U7XG5cdFx0XHRvYmpDdHIuZGVmaW5lUHJvcGVydHkoZWxlbUN0clByb3RvLCBjbGFzc0xpc3RQcm9wLCBjbGFzc0xpc3RQcm9wRGVzYyk7XG5cdFx0fVxuXHR9XG59IGVsc2UgaWYgKG9iakN0cltwcm90b1Byb3BdLl9fZGVmaW5lR2V0dGVyX18pIHtcblx0ZWxlbUN0clByb3RvLl9fZGVmaW5lR2V0dGVyX18oY2xhc3NMaXN0UHJvcCwgY2xhc3NMaXN0R2V0dGVyKTtcbn1cblxufSh3aW5kb3cuc2VsZikpO1xuXG59XG5cbi8vIFRoZXJlIGlzIGZ1bGwgb3IgcGFydGlhbCBuYXRpdmUgY2xhc3NMaXN0IHN1cHBvcnQsIHNvIGp1c3QgY2hlY2sgaWYgd2UgbmVlZFxuLy8gdG8gbm9ybWFsaXplIHRoZSBhZGQvcmVtb3ZlIGFuZCB0b2dnbGUgQVBJcy5cblxuKGZ1bmN0aW9uICgpIHtcblx0XCJ1c2Ugc3RyaWN0XCI7XG5cblx0dmFyIHRlc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIl9cIik7XG5cblx0dGVzdEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcImMxXCIsIFwiYzJcIik7XG5cblx0Ly8gUG9seWZpbGwgZm9yIElFIDEwLzExIGFuZCBGaXJlZm94IDwyNiwgd2hlcmUgY2xhc3NMaXN0LmFkZCBhbmRcblx0Ly8gY2xhc3NMaXN0LnJlbW92ZSBleGlzdCBidXQgc3VwcG9ydCBvbmx5IG9uZSBhcmd1bWVudCBhdCBhIHRpbWUuXG5cdGlmICghdGVzdEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFwiYzJcIikpIHtcblx0XHR2YXIgY3JlYXRlTWV0aG9kID0gZnVuY3Rpb24obWV0aG9kKSB7XG5cdFx0XHR2YXIgb3JpZ2luYWwgPSBET01Ub2tlbkxpc3QucHJvdG90eXBlW21ldGhvZF07XG5cblx0XHRcdERPTVRva2VuTGlzdC5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHRva2VuKSB7XG5cdFx0XHRcdHZhciBpLCBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuXG5cdFx0XHRcdGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0XHRcdHRva2VuID0gYXJndW1lbnRzW2ldO1xuXHRcdFx0XHRcdG9yaWdpbmFsLmNhbGwodGhpcywgdG9rZW4pO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdH07XG5cdFx0Y3JlYXRlTWV0aG9kKCdhZGQnKTtcblx0XHRjcmVhdGVNZXRob2QoJ3JlbW92ZScpO1xuXHR9XG5cblx0dGVzdEVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShcImMzXCIsIGZhbHNlKTtcblxuXHQvLyBQb2x5ZmlsbCBmb3IgSUUgMTAgYW5kIEZpcmVmb3ggPDI0LCB3aGVyZSBjbGFzc0xpc3QudG9nZ2xlIGRvZXMgbm90XG5cdC8vIHN1cHBvcnQgdGhlIHNlY29uZCBhcmd1bWVudC5cblx0aWYgKHRlc3RFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhcImMzXCIpKSB7XG5cdFx0dmFyIF90b2dnbGUgPSBET01Ub2tlbkxpc3QucHJvdG90eXBlLnRvZ2dsZTtcblxuXHRcdERPTVRva2VuTGlzdC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24odG9rZW4sIGZvcmNlKSB7XG5cdFx0XHRpZiAoMSBpbiBhcmd1bWVudHMgJiYgIXRoaXMuY29udGFpbnModG9rZW4pID09PSAhZm9yY2UpIHtcblx0XHRcdFx0cmV0dXJuIGZvcmNlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIF90b2dnbGUuY2FsbCh0aGlzLCB0b2tlbik7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHR9XG5cblx0dGVzdEVsZW1lbnQgPSBudWxsO1xufSgpKTtcblxufVxuIiwiLyohXG5Db3B5cmlnaHQgKEMpIDIwMTMtMjAxNSBieSBXZWJSZWZsZWN0aW9uXG5cblBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbm9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbmluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbnRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbmNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcblxuVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW5cbmFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTIE9SXG5JTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSxcbkZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRVxuQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSwgREFNQUdFUyBPUiBPVEhFUlxuTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSxcbk9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU5cblRIRSBTT0ZUV0FSRS5cblxuKi9cbihmdW5jdGlvbih3aW5kb3cpe1xuICAvKiEgKEMpIFdlYlJlZmxlY3Rpb24gTWl0IFN0eWxlIExpY2Vuc2UgKi9cbiAgaWYgKGRvY3VtZW50LmNyZWF0ZUV2ZW50KSByZXR1cm47XG4gIHZhclxuICAgIERVTk5PQUJPVVRET01MT0FERUQgPSB0cnVlLFxuICAgIFJFQURZRVZFTlRESVNQQVRDSEVEID0gZmFsc2UsXG4gICAgT05SRUFEWVNUQVRFQ0hBTkdFID0gJ29ucmVhZHlzdGF0ZWNoYW5nZScsXG4gICAgRE9NQ09OVEVOVExPQURFRCA9ICdET01Db250ZW50TG9hZGVkJyxcbiAgICBTRUNSRVQgPSAnX19JRThfXycgKyBNYXRoLnJhbmRvbSgpLFxuICAgIC8vIE9iamVjdCA9IHdpbmRvdy5PYmplY3QsXG4gICAgZGVmaW5lUHJvcGVydHkgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgfHxcbiAgICAvLyBqdXN0IGluIGNhc2UgLi4uXG4gICAgZnVuY3Rpb24gKG9iamVjdCwgcHJvcGVydHksIGRlc2NyaXB0b3IpIHtcbiAgICAgIG9iamVjdFtwcm9wZXJ0eV0gPSBkZXNjcmlwdG9yLnZhbHVlO1xuICAgIH0sXG4gICAgZGVmaW5lUHJvcGVydGllcyA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzIHx8XG4gICAgLy8gSUU4IGltcGxlbWVudGVkIGRlZmluZVByb3BlcnR5IGJ1dCBub3QgdGhlIHBsdXJhbC4uLlxuICAgIGZ1bmN0aW9uIChvYmplY3QsIGRlc2NyaXB0b3JzKSB7XG4gICAgICBmb3IodmFyIGtleSBpbiBkZXNjcmlwdG9ycykge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChkZXNjcmlwdG9ycywga2V5KSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwgZGVzY3JpcHRvcnNba2V5XSk7XG4gICAgICAgICAgfSBjYXRjaChvX08pIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuY29uc29sZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhrZXkgKyAnIGZhaWxlZCBvbiBvYmplY3Q6Jywgb2JqZWN0LCBvX08ubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFxuICAgIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxcbiAgICAvLyBoZXJlIElFNyB3aWxsIGJyZWFrIGxpa2UgYSBjaGFybVxuICAgIEVsZW1lbnRQcm90b3R5cGUgPSB3aW5kb3cuRWxlbWVudC5wcm90b3R5cGUsXG4gICAgVGV4dFByb3RvdHlwZSA9IHdpbmRvdy5UZXh0LnByb3RvdHlwZSxcbiAgICAvLyBub25lIG9mIGFib3ZlIG5hdGl2ZSBjb25zdHJ1Y3RvcnMgZXhpc3QvYXJlIGV4cG9zZWRcbiAgICBwb3NzaWJseU5hdGl2ZUV2ZW50ID0gL15bYS16XSskLyxcbiAgICAvLyBeIGFjdHVhbGx5IGNvdWxkIHByb2JhYmx5IGJlIGp1c3QgL15bYS16XSskL1xuICAgIHJlYWR5U3RhdGVPSyA9IC9sb2FkZWR8Y29tcGxldGUvLFxuICAgIHR5cGVzID0ge30sXG4gICAgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG4gICAgaHRtbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCxcbiAgICByZW1vdmVBdHRyaWJ1dGUgPSBodG1sLnJlbW92ZUF0dHJpYnV0ZSxcbiAgICBzZXRBdHRyaWJ1dGUgPSBodG1sLnNldEF0dHJpYnV0ZSxcbiAgICB2YWx1ZURlc2MgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiB2YWx1ZVxuICAgICAgfTtcbiAgICB9XG4gIDtcblxuICBmdW5jdGlvbiBjb21tb25FdmVudExvb3AoY3VycmVudFRhcmdldCwgZSwgJGhhbmRsZXJzLCBzeW50aGV0aWMpIHtcbiAgICBmb3IodmFyXG4gICAgICBoYW5kbGVyLFxuICAgICAgY29udGludWVQcm9wYWdhdGlvbixcbiAgICAgIGhhbmRsZXJzID0gJGhhbmRsZXJzLnNsaWNlKCksXG4gICAgICBldnQgPSBlbnJpY2goZSwgY3VycmVudFRhcmdldCksXG4gICAgICBpID0gMCwgbGVuZ3RoID0gaGFuZGxlcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKytcbiAgICApIHtcbiAgICAgIGhhbmRsZXIgPSBoYW5kbGVyc1tpXTtcbiAgICAgIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyLmhhbmRsZUV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgaGFuZGxlci5oYW5kbGVFdmVudChldnQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoYW5kbGVyLmNhbGwoY3VycmVudFRhcmdldCwgZXZ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChldnQuc3RvcHBlZEltbWVkaWF0ZVByb3BhZ2F0aW9uKSBicmVhaztcbiAgICB9XG4gICAgY29udGludWVQcm9wYWdhdGlvbiA9ICFldnQuc3RvcHBlZFByb3BhZ2F0aW9uO1xuICAgIC8qXG4gICAgaWYgKGNvbnRpbnVlUHJvcGFnYXRpb24gJiYgIXN5bnRoZXRpYyAmJiAhbGl2ZShjdXJyZW50VGFyZ2V0KSkge1xuICAgICAgZXZ0LmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgfVxuICAgICovXG4gICAgcmV0dXJuIChcbiAgICAgIHN5bnRoZXRpYyAmJlxuICAgICAgY29udGludWVQcm9wYWdhdGlvbiAmJlxuICAgICAgY3VycmVudFRhcmdldC5wYXJlbnROb2RlXG4gICAgKSA/XG4gICAgICBjdXJyZW50VGFyZ2V0LnBhcmVudE5vZGUuZGlzcGF0Y2hFdmVudChldnQpIDpcbiAgICAgICFldnQuZGVmYXVsdFByZXZlbnRlZFxuICAgIDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1vbkRlc2NyaXB0b3IoZ2V0LCBzZXQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gaWYgeW91IHRyeSB3aXRoIGVudW1lcmFibGU6IHRydWVcbiAgICAgIC8vIElFOCB3aWxsIG1pc2VyYWJseSBmYWlsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGdldCxcbiAgICAgIHNldDogc2V0XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbW1vblRleHRDb250ZW50KHByb3RvRGVzdCwgcHJvdG9Tb3VyY2UsIHByb3BlcnR5KSB7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoXG4gICAgICBwcm90b1NvdXJjZSB8fCBwcm90b0Rlc3QsIHByb3BlcnR5XG4gICAgKTtcbiAgICBkZWZpbmVQcm9wZXJ0eShcbiAgICAgIHByb3RvRGVzdCxcbiAgICAgICd0ZXh0Q29udGVudCcsXG4gICAgICBjb21tb25EZXNjcmlwdG9yKFxuICAgICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGRlc2NyaXB0b3IuZ2V0LmNhbGwodGhpcyk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICh0ZXh0Q29udGVudCkge1xuICAgICAgICAgIGRlc2NyaXB0b3Iuc2V0LmNhbGwodGhpcywgdGV4dENvbnRlbnQpO1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGVucmljaChlLCBjdXJyZW50VGFyZ2V0KSB7XG4gICAgZS5jdXJyZW50VGFyZ2V0ID0gY3VycmVudFRhcmdldDtcbiAgICBlLmV2ZW50UGhhc2UgPSAoXG4gICAgICAvLyBBVF9UQVJHRVQgOiBCVUJCTElOR19QSEFTRVxuICAgICAgZS50YXJnZXQgPT09IGUuY3VycmVudFRhcmdldCA/IDIgOiAzXG4gICAgKTtcbiAgICByZXR1cm4gZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmQoYXJyYXksIHZhbHVlKSB7XG4gICAgdmFyIGkgPSBhcnJheS5sZW5ndGg7XG4gICAgd2hpbGUoaS0tICYmIGFycmF5W2ldICE9PSB2YWx1ZSk7XG4gICAgcmV0dXJuIGk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRUZXh0Q29udGVudCgpIHtcbiAgICBpZiAodGhpcy50YWdOYW1lID09PSAnQlInKSByZXR1cm4gJ1xcbic7XG4gICAgdmFyXG4gICAgICB0ZXh0Tm9kZSA9IHRoaXMuZmlyc3RDaGlsZCxcbiAgICAgIGFycmF5Q29udGVudCA9IFtdXG4gICAgO1xuICAgIHdoaWxlKHRleHROb2RlKSB7XG4gICAgICBpZiAodGV4dE5vZGUubm9kZVR5cGUgIT09IDggJiYgdGV4dE5vZGUubm9kZVR5cGUgIT09IDcpIHtcbiAgICAgICAgYXJyYXlDb250ZW50LnB1c2godGV4dE5vZGUudGV4dENvbnRlbnQpO1xuICAgICAgfVxuICAgICAgdGV4dE5vZGUgPSB0ZXh0Tm9kZS5uZXh0U2libGluZztcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5Q29udGVudC5qb2luKCcnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpdmUoc2VsZikge1xuICAgIHJldHVybiBzZWxmLm5vZGVUeXBlICE9PSA5ICYmIGh0bWwuY29udGFpbnMoc2VsZik7XG4gIH1cblxuICBmdW5jdGlvbiBvbmtleXVwKGUpIHtcbiAgICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG4gICAgZXZ0LmluaXRFdmVudCgnaW5wdXQnLCB0cnVlLCB0cnVlKTtcbiAgICAoZS5zcmNFbGVtZW50IHx8IGUuZnJvbUVsZW1lbnQgfHwgZG9jdW1lbnQpLmRpc3BhdGNoRXZlbnQoZXZ0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUmVhZHlTdGF0ZShlKSB7XG4gICAgaWYgKCFSRUFEWUVWRU5URElTUEFUQ0hFRCAmJiByZWFkeVN0YXRlT0sudGVzdChcbiAgICAgIGRvY3VtZW50LnJlYWR5U3RhdGVcbiAgICApKSB7XG4gICAgICBSRUFEWUVWRU5URElTUEFUQ0hFRCA9ICFSRUFEWUVWRU5URElTUEFUQ0hFRDtcbiAgICAgIGRvY3VtZW50LmRldGFjaEV2ZW50KE9OUkVBRFlTVEFURUNIQU5HRSwgb25SZWFkeVN0YXRlKTtcbiAgICAgIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICAgIGUuaW5pdEV2ZW50KERPTUNPTlRFTlRMT0FERUQsIHRydWUsIHRydWUpO1xuICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChlKTtcbiAgICB9XG4gIH1cbiAgXG4gIGZ1bmN0aW9uIGdldHRlcihhdHRyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGh0bWxbYXR0cl0gfHwgKGRvY3VtZW50LmJvZHkgJiYgZG9jdW1lbnQuYm9keVthdHRyXSkgfHwgMDtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0VGV4dENvbnRlbnQodGV4dENvbnRlbnQpIHtcbiAgICB2YXIgbm9kZTtcbiAgICB3aGlsZSAoKG5vZGUgPSB0aGlzLmxhc3RDaGlsZCkpIHtcbiAgICAgIHRoaXMucmVtb3ZlQ2hpbGQobm9kZSk7XG4gICAgfVxuICAgIC8qanNoaW50IGVxbnVsbDp0cnVlICovXG4gICAgaWYgKHRleHRDb250ZW50ICE9IG51bGwpIHtcbiAgICAgIHRoaXMuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodGV4dENvbnRlbnQpKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB2ZXJpZnkoc2VsZiwgZSkge1xuICAgIGlmICghZSkge1xuICAgICAgZSA9IHdpbmRvdy5ldmVudDtcbiAgICB9XG4gICAgaWYgKCFlLnRhcmdldCkge1xuICAgICAgZS50YXJnZXQgPSBlLnNyY0VsZW1lbnQgfHwgZS5mcm9tRWxlbWVudCB8fCBkb2N1bWVudDtcbiAgICB9XG4gICAgaWYgKCFlLnRpbWVTdGFtcCkge1xuICAgICAgZS50aW1lU3RhbXAgPSAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgIH1cbiAgICByZXR1cm4gZTtcbiAgfVxuXG4gIC8vIG5vcm1hbGl6ZWQgdGV4dENvbnRlbnQgZm9yOlxuICAvLyAgY29tbWVudCwgc2NyaXB0LCBzdHlsZSwgdGV4dCwgdGl0bGVcbiAgY29tbW9uVGV4dENvbnRlbnQoXG4gICAgd2luZG93LkhUTUxDb21tZW50RWxlbWVudC5wcm90b3R5cGUsXG4gICAgRWxlbWVudFByb3RvdHlwZSxcbiAgICAnbm9kZVZhbHVlJ1xuICApO1xuXG4gIGNvbW1vblRleHRDb250ZW50KFxuICAgIHdpbmRvdy5IVE1MU2NyaXB0RWxlbWVudC5wcm90b3R5cGUsXG4gICAgbnVsbCxcbiAgICAndGV4dCdcbiAgKTtcblxuICBjb21tb25UZXh0Q29udGVudChcbiAgICBUZXh0UHJvdG90eXBlLFxuICAgIG51bGwsXG4gICAgJ25vZGVWYWx1ZSdcbiAgKTtcblxuICBjb21tb25UZXh0Q29udGVudChcbiAgICB3aW5kb3cuSFRNTFRpdGxlRWxlbWVudC5wcm90b3R5cGUsXG4gICAgbnVsbCxcbiAgICAndGV4dCdcbiAgKTtcblxuICBkZWZpbmVQcm9wZXJ0eShcbiAgICB3aW5kb3cuSFRNTFN0eWxlRWxlbWVudC5wcm90b3R5cGUsXG4gICAgJ3RleHRDb250ZW50JyxcbiAgICAoZnVuY3Rpb24oZGVzY3JpcHRvcil7XG4gICAgICByZXR1cm4gY29tbW9uRGVzY3JpcHRvcihcbiAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBkZXNjcmlwdG9yLmdldC5jYWxsKHRoaXMuc3R5bGVTaGVldCk7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1bmN0aW9uICh0ZXh0Q29udGVudCkge1xuICAgICAgICAgIGRlc2NyaXB0b3Iuc2V0LmNhbGwodGhpcy5zdHlsZVNoZWV0LCB0ZXh0Q29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfShnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iod2luZG93LkNTU1N0eWxlU2hlZXQucHJvdG90eXBlLCAnY3NzVGV4dCcpKSlcbiAgKTtcblxuICB2YXIgb3BhY2l0eXJlID0gL1xcYlxccyphbHBoYVxccypcXChcXHMqb3BhY2l0eVxccyo9XFxzKihcXGQrKVxccypcXCkvO1xuICBkZWZpbmVQcm9wZXJ0eShcbiAgICB3aW5kb3cuQ1NTU3R5bGVEZWNsYXJhdGlvbi5wcm90b3R5cGUsXG4gICAgJ29wYWNpdHknLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgbSA9IHRoaXMuZmlsdGVyLm1hdGNoKG9wYWNpdHlyZSk7XG4gICAgICAgIHJldHVybiBtID8gKG1bMV0gLyAxMDApLnRvU3RyaW5nKCkgOiAnJztcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuem9vbSA9IDE7XG4gICAgICAgIHZhciBmb3VuZCA9IGZhbHNlO1xuICAgICAgICBpZiAodmFsdWUgPCAxKSB7XG4gICAgICAgICAgdmFsdWUgPSAnIGFscGhhKG9wYWNpdHk9JyArIE1hdGgucm91bmQodmFsdWUgKiAxMDApICsgJyknO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHZhbHVlID0gJyc7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5maWx0ZXIgPSB0aGlzLmZpbHRlci5yZXBsYWNlKG9wYWNpdHlyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkgeyBmb3VuZCA9IHRydWU7IHJldHVybiB2YWx1ZTsgfSk7XG4gICAgICAgIGlmICghZm91bmQgJiYgdmFsdWUpIHtcbiAgICAgICAgICB0aGlzLmZpbHRlciArPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgKTtcblxuICBkZWZpbmVQcm9wZXJ0aWVzKFxuICAgIEVsZW1lbnRQcm90b3R5cGUsXG4gICAge1xuICAgICAgLy8gYm9udXNcbiAgICAgIHRleHRDb250ZW50OiB7XG4gICAgICAgIGdldDogZ2V0VGV4dENvbnRlbnQsXG4gICAgICAgIHNldDogc2V0VGV4dENvbnRlbnRcbiAgICAgIH0sXG4gICAgICAvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9FbGVtZW50VHJhdmVyc2FsLyNpbnRlcmZhY2UtZWxlbWVudFRyYXZlcnNhbFxuICAgICAgZmlyc3RFbGVtZW50Q2hpbGQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZm9yKHZhclxuICAgICAgICAgICAgY2hpbGROb2RlcyA9IHRoaXMuY2hpbGROb2RlcyB8fCBbXSxcbiAgICAgICAgICAgIGkgPSAwLCBsZW5ndGggPSBjaGlsZE5vZGVzLmxlbmd0aDtcbiAgICAgICAgICAgIGkgPCBsZW5ndGg7IGkrK1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgaWYgKGNoaWxkTm9kZXNbaV0ubm9kZVR5cGUgPT0gMSkgcmV0dXJuIGNoaWxkTm9kZXNbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbGFzdEVsZW1lbnRDaGlsZDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBmb3IodmFyXG4gICAgICAgICAgICBjaGlsZE5vZGVzID0gdGhpcy5jaGlsZE5vZGVzIHx8IFtdLFxuICAgICAgICAgICAgaSA9IGNoaWxkTm9kZXMubGVuZ3RoO1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICkge1xuICAgICAgICAgICAgaWYgKGNoaWxkTm9kZXNbaV0ubm9kZVR5cGUgPT0gMSkgcmV0dXJuIGNoaWxkTm9kZXNbaV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25pbnB1dDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fb25pbnB1dCB8fCBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChvbmlucHV0KSB7XG4gICAgICAgICAgaWYgKHRoaXMuX29uaW5wdXQpIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcignaW5wdXQnLCB0aGlzLl9vbmlucHV0KTtcbiAgICAgICAgICAgIHRoaXMuX29uaW5wdXQgPSBvbmlucHV0O1xuICAgICAgICAgICAgaWYgKG9uaW5wdXQpIHtcbiAgICAgICAgICAgICAgdGhpcy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIG9uaW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHByZXZpb3VzRWxlbWVudFNpYmxpbmc6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHByZXZpb3VzRWxlbWVudFNpYmxpbmcgPSB0aGlzLnByZXZpb3VzU2libGluZztcbiAgICAgICAgICB3aGlsZSAocHJldmlvdXNFbGVtZW50U2libGluZyAmJiBwcmV2aW91c0VsZW1lbnRTaWJsaW5nLm5vZGVUeXBlICE9IDEpIHtcbiAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudFNpYmxpbmcgPSBwcmV2aW91c0VsZW1lbnRTaWJsaW5nLnByZXZpb3VzU2libGluZztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBuZXh0RWxlbWVudFNpYmxpbmc6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIG5leHRFbGVtZW50U2libGluZyA9IHRoaXMubmV4dFNpYmxpbmc7XG4gICAgICAgICAgd2hpbGUgKG5leHRFbGVtZW50U2libGluZyAmJiBuZXh0RWxlbWVudFNpYmxpbmcubm9kZVR5cGUgIT0gMSkge1xuICAgICAgICAgICAgbmV4dEVsZW1lbnRTaWJsaW5nID0gbmV4dEVsZW1lbnRTaWJsaW5nLm5leHRTaWJsaW5nO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV4dEVsZW1lbnRTaWJsaW5nO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2hpbGRFbGVtZW50Q291bnQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZm9yKHZhclxuICAgICAgICAgICAgY291bnQgPSAwLFxuICAgICAgICAgICAgY2hpbGROb2RlcyA9IHRoaXMuY2hpbGROb2RlcyB8fCBbXSxcbiAgICAgICAgICAgIGkgPSBjaGlsZE5vZGVzLmxlbmd0aDsgaS0tOyBjb3VudCArPSBjaGlsZE5vZGVzW2ldLm5vZGVUeXBlID09IDFcbiAgICAgICAgICApO1xuICAgICAgICAgIHJldHVybiBjb3VudDtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8qXG4gICAgICAvLyBjaGlsZHJlbiB3b3VsZCBiZSBhbiBvdmVycmlkZVxuICAgICAgLy8gSUU4IGFscmVhZHkgc3VwcG9ydHMgdGhlbSBidXQgd2l0aCBjb21tZW50cyB0b29cbiAgICAgIC8vIG5vdCBqdXN0IG5vZGVUeXBlIDFcbiAgICAgIGNoaWxkcmVuOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZvcih2YXJcbiAgICAgICAgICAgIGNoaWxkcmVuID0gW10sXG4gICAgICAgICAgICBjaGlsZE5vZGVzID0gdGhpcy5jaGlsZE5vZGVzIHx8IFtdLFxuICAgICAgICAgICAgaSA9IDAsIGxlbmd0aCA9IGNoaWxkTm9kZXMubGVuZ3RoO1xuICAgICAgICAgICAgaSA8IGxlbmd0aDsgaSsrXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBpZiAoY2hpbGROb2Rlc1tpXS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgICAgICAgIGNoaWxkcmVuLnB1c2goY2hpbGROb2Rlc1tpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgICovXG4gICAgICAvLyBET00gTGV2ZWwgMiBFdmVudFRhcmdldCBtZXRob2RzIGFuZCBldmVudHNcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IHZhbHVlRGVzYyhmdW5jdGlvbiAodHlwZSwgaGFuZGxlciwgY2FwdHVyZSkge1xuICAgICAgICBpZiAodHlwZW9mIGhhbmRsZXIgIT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIGhhbmRsZXIgIT09ICdvYmplY3QnKSByZXR1cm47XG4gICAgICAgIHZhclxuICAgICAgICAgIHNlbGYgPSB0aGlzLFxuICAgICAgICAgIG9udHlwZSA9ICdvbicgKyB0eXBlLFxuICAgICAgICAgIHRlbXBsZSA9ICBzZWxmW1NFQ1JFVF0gfHxcbiAgICAgICAgICAgICAgICAgICAgICBkZWZpbmVQcm9wZXJ0eShcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYsIFNFQ1JFVCwge3ZhbHVlOiB7fX1cbiAgICAgICAgICAgICAgICAgICAgICApW1NFQ1JFVF0sXG4gICAgICAgICAgY3VycmVudFR5cGUgPSB0ZW1wbGVbb250eXBlXSB8fCAodGVtcGxlW29udHlwZV0gPSB7fSksXG4gICAgICAgICAgaGFuZGxlcnMgID0gY3VycmVudFR5cGUuaCB8fCAoY3VycmVudFR5cGUuaCA9IFtdKSxcbiAgICAgICAgICBlLCBhdHRyXG4gICAgICAgIDtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGN1cnJlbnRUeXBlLCAndycpKSB7XG4gICAgICAgICAgY3VycmVudFR5cGUudyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAvLyBlW1NFQ1JFVF0gaXMgYSBzaWxlbnQgbm90aWZpY2F0aW9uIG5lZWRlZCB0byBhdm9pZFxuICAgICAgICAgICAgLy8gZmlyZWQgZXZlbnRzIGR1cmluZyBsaXZlIHRlc3RcbiAgICAgICAgICAgIHJldHVybiBlW1NFQ1JFVF0gfHwgY29tbW9uRXZlbnRMb29wKHNlbGYsIHZlcmlmeShzZWxmLCBlKSwgaGFuZGxlcnMsIGZhbHNlKTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIC8vIGlmIG5vdCBkZXRlY3RlZCB5ZXRcbiAgICAgICAgICBpZiAoIWhhc093blByb3BlcnR5LmNhbGwodHlwZXMsIG9udHlwZSkpIHtcbiAgICAgICAgICAgIC8vIGFuZCBwb3RlbnRpYWxseSBhIG5hdGl2ZSBldmVudFxuICAgICAgICAgICAgaWYocG9zc2libHlOYXRpdmVFdmVudC50ZXN0KHR5cGUpKSB7XG4gICAgICAgICAgICAgIC8vIGRvIHRoaXMgaGVhdnkgdGhpbmdcbiAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiAgc2hvdWxkIEkgY29uc2lkZXIgdGFnTmFtZSB0b28gc28gdGhhdFxuICAgICAgICAgICAgICAgIC8vICAgICAgICBJTlBVVFtvbnR5cGVdIGNvdWxkIGJlIGRpZmZlcmVudCA/XG4gICAgICAgICAgICAgICAgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50T2JqZWN0KCk7XG4gICAgICAgICAgICAgICAgLy8gZG8gbm90IGNsb25lIGV2ZXIgYSBub2RlXG4gICAgICAgICAgICAgICAgLy8gc3BlY2lhbGx5IGEgZG9jdW1lbnQgb25lIC4uLlxuICAgICAgICAgICAgICAgIC8vIHVzZSB0aGUgc2VjcmV0IHRvIGlnbm9yZSB0aGVtIGFsbFxuICAgICAgICAgICAgICAgIGVbU0VDUkVUXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgLy8gZG9jdW1lbnQgYSBwYXJ0IGlmIGEgbm9kZSBoYXMgbmV2ZXIgYmVlblxuICAgICAgICAgICAgICAgIC8vIGFkZGVkIHRvIGFueSBvdGhlciBub2RlLCBmaXJlRXZlbnQgbWlnaHRcbiAgICAgICAgICAgICAgICAvLyBiZWhhdmUgdmVyeSB3ZWlyZGx5IChyZWFkOiB0cmlnZ2VyIHVuc3BlY2lmaWVkIGVycm9ycylcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5ub2RlVHlwZSAhPSA5KSB7XG4gICAgICAgICAgICAgICAgICAvKmpzaGludCBlcW51bGw6dHJ1ZSAqL1xuICAgICAgICAgICAgICAgICAgaWYgKHNlbGYucGFyZW50Tm9kZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChzZWxmKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGlmICgoYXR0ciA9IHNlbGYuZ2V0QXR0cmlidXRlKG9udHlwZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlbW92ZUF0dHJpYnV0ZS5jYWxsKHNlbGYsIG9udHlwZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNlbGYuZmlyZUV2ZW50KG9udHlwZSwgZSk7XG4gICAgICAgICAgICAgICAgdHlwZXNbb250eXBlXSA9IHRydWU7XG4gICAgICAgICAgICAgIH0gY2F0Y2gobWVoKSB7XG4gICAgICAgICAgICAgICAgdHlwZXNbb250eXBlXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHdoaWxlIChkaXYuaGFzQ2hpbGROb2RlcygpKSB7XG4gICAgICAgICAgICAgICAgICBkaXYucmVtb3ZlQ2hpbGQoZGl2LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAoYXR0ciAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgc2V0QXR0cmlidXRlLmNhbGwoc2VsZiwgb250eXBlLCBhdHRyKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gbm8gbmVlZCB0byBib3RoZXIgc2luY2VcbiAgICAgICAgICAgICAgLy8gJ3gtZXZlbnQnIGFpbid0IG5hdGl2ZSBmb3Igc3VyZVxuICAgICAgICAgICAgICB0eXBlc1tvbnR5cGVdID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgoY3VycmVudFR5cGUubiA9IHR5cGVzW29udHlwZV0pKSB7XG4gICAgICAgICAgICBzZWxmLmF0dGFjaEV2ZW50KG9udHlwZSwgY3VycmVudFR5cGUudyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmaW5kKGhhbmRsZXJzLCBoYW5kbGVyKSA8IDApIHtcbiAgICAgICAgICBoYW5kbGVyc1tjYXB0dXJlID8gJ3Vuc2hpZnQnIDogJ3B1c2gnXShoYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PT0gJ2lucHV0Jykge1xuICAgICAgICAgIHNlbGYuYXR0YWNoRXZlbnQoJ29ua2V5dXAnLCBvbmtleXVwKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBkaXNwYXRjaEV2ZW50OiB2YWx1ZURlc2MoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyXG4gICAgICAgICAgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgb250eXBlID0gJ29uJyArIGUudHlwZSxcbiAgICAgICAgICB0ZW1wbGUgPSAgc2VsZltTRUNSRVRdLFxuICAgICAgICAgIGN1cnJlbnRUeXBlID0gdGVtcGxlICYmIHRlbXBsZVtvbnR5cGVdLFxuICAgICAgICAgIHZhbGlkID0gISFjdXJyZW50VHlwZSxcbiAgICAgICAgICBwYXJlbnROb2RlXG4gICAgICAgIDtcbiAgICAgICAgaWYgKCFlLnRhcmdldCkgZS50YXJnZXQgPSBzZWxmO1xuICAgICAgICByZXR1cm4gKHZhbGlkID8gKFxuICAgICAgICAgIGN1cnJlbnRUeXBlLm4gLyogJiYgbGl2ZShzZWxmKSAqLyA/XG4gICAgICAgICAgICBzZWxmLmZpcmVFdmVudChvbnR5cGUsIGUpIDpcbiAgICAgICAgICAgIGNvbW1vbkV2ZW50TG9vcChcbiAgICAgICAgICAgICAgc2VsZixcbiAgICAgICAgICAgICAgZSxcbiAgICAgICAgICAgICAgY3VycmVudFR5cGUuaCxcbiAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgKVxuICAgICAgICApIDogKFxuICAgICAgICAgIChwYXJlbnROb2RlID0gc2VsZi5wYXJlbnROb2RlKSAvKiAmJiBsaXZlKHNlbGYpICovID9cbiAgICAgICAgICAgIHBhcmVudE5vZGUuZGlzcGF0Y2hFdmVudChlKSA6XG4gICAgICAgICAgICB0cnVlXG4gICAgICAgICkpLCAhZS5kZWZhdWx0UHJldmVudGVkO1xuICAgICAgfSksXG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyOiB2YWx1ZURlc2MoZnVuY3Rpb24gKHR5cGUsIGhhbmRsZXIsIGNhcHR1cmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVyICE9PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBoYW5kbGVyICE9PSAnb2JqZWN0JykgcmV0dXJuO1xuICAgICAgICB2YXJcbiAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICBvbnR5cGUgPSAnb24nICsgdHlwZSxcbiAgICAgICAgICB0ZW1wbGUgPSAgc2VsZltTRUNSRVRdLFxuICAgICAgICAgIGN1cnJlbnRUeXBlID0gdGVtcGxlICYmIHRlbXBsZVtvbnR5cGVdLFxuICAgICAgICAgIGhhbmRsZXJzID0gY3VycmVudFR5cGUgJiYgY3VycmVudFR5cGUuaCxcbiAgICAgICAgICBpID0gaGFuZGxlcnMgPyBmaW5kKGhhbmRsZXJzLCBoYW5kbGVyKSA6IC0xXG4gICAgICAgIDtcbiAgICAgICAgaWYgKC0xIDwgaSkgaGFuZGxlcnMuc3BsaWNlKGksIDEpO1xuICAgICAgfSlcbiAgICB9XG4gICk7XG5cbiAgLyogdGhpcyBpcyBub3QgbmVlZGVkIGluIElFOFxuICBkZWZpbmVQcm9wZXJ0aWVzKHdpbmRvdy5IVE1MU2VsZWN0RWxlbWVudC5wcm90b3R5cGUsIHtcbiAgICB2YWx1ZToge1xuICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnNbdGhpcy5zZWxlY3RlZEluZGV4XS52YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICAvLyovXG5cbiAgLy8gRXZlbnRUYXJnZXQgbWV0aG9kcyBmb3IgVGV4dCBub2RlcyB0b29cbiAgZGVmaW5lUHJvcGVydGllcyhUZXh0UHJvdG90eXBlLCB7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcjogdmFsdWVEZXNjKEVsZW1lbnRQcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciksXG4gICAgZGlzcGF0Y2hFdmVudDogdmFsdWVEZXNjKEVsZW1lbnRQcm90b3R5cGUuZGlzcGF0Y2hFdmVudCksXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogdmFsdWVEZXNjKEVsZW1lbnRQcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcilcbiAgfSk7XG5cbiAgZGVmaW5lUHJvcGVydGllcyhcbiAgICB3aW5kb3cuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLFxuICAgIHtcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IHZhbHVlRGVzYyhmdW5jdGlvbiAodHlwZSwgaGFuZGxlciwgY2FwdHVyZSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICBvbnR5cGUgPSAnb24nICsgdHlwZSxcbiAgICAgICAgICB0ZW1wbGUgPSAgc2VsZltTRUNSRVRdIHx8XG4gICAgICAgICAgICAgICAgICAgICAgZGVmaW5lUHJvcGVydHkoXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxmLCBTRUNSRVQsIHt2YWx1ZToge319XG4gICAgICAgICAgICAgICAgICAgICAgKVtTRUNSRVRdLFxuICAgICAgICAgIGN1cnJlbnRUeXBlID0gdGVtcGxlW29udHlwZV0gfHwgKHRlbXBsZVtvbnR5cGVdID0ge30pLFxuICAgICAgICAgIGhhbmRsZXJzICA9IGN1cnJlbnRUeXBlLmggfHwgKGN1cnJlbnRUeXBlLmggPSBbXSlcbiAgICAgICAgO1xuICAgICAgICBpZiAoZmluZChoYW5kbGVycywgaGFuZGxlcikgPCAwKSB7XG4gICAgICAgICAgaWYgKCFzZWxmW29udHlwZV0pIHtcbiAgICAgICAgICAgIHNlbGZbb250eXBlXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgdmFyIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICAgICAgICAgICAgZS5pbml0RXZlbnQodHlwZSwgdHJ1ZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgIHNlbGYuZGlzcGF0Y2hFdmVudChlKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIGhhbmRsZXJzW2NhcHR1cmUgPyAndW5zaGlmdCcgOiAncHVzaCddKGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIGRpc3BhdGNoRXZlbnQ6IHZhbHVlRGVzYyhmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgICBvbnR5cGUgPSAnb24nICsgZS50eXBlLFxuICAgICAgICAgIHRlbXBsZSA9ICBzZWxmW1NFQ1JFVF0sXG4gICAgICAgICAgY3VycmVudFR5cGUgPSB0ZW1wbGUgJiYgdGVtcGxlW29udHlwZV0sXG4gICAgICAgICAgdmFsaWQgPSAhIWN1cnJlbnRUeXBlXG4gICAgICAgIDtcbiAgICAgICAgcmV0dXJuIHZhbGlkICYmIChcbiAgICAgICAgICBjdXJyZW50VHlwZS5uIC8qICYmIGxpdmUoc2VsZikgKi8gP1xuICAgICAgICAgICAgc2VsZi5maXJlRXZlbnQob250eXBlLCBlKSA6XG4gICAgICAgICAgICBjb21tb25FdmVudExvb3AoXG4gICAgICAgICAgICAgIHNlbGYsXG4gICAgICAgICAgICAgIGUsXG4gICAgICAgICAgICAgIGN1cnJlbnRUeXBlLmgsXG4gICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH0pLFxuICAgICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcjogdmFsdWVEZXNjKEVsZW1lbnRQcm90b3R5cGUucmVtb3ZlRXZlbnRMaXN0ZW5lcilcbiAgICB9XG4gICk7XG5cbiAgdmFyIGJ1dHRvbkdldHRlciA9IGdldE93blByb3BlcnR5RGVzY3JpcHRvcihFdmVudC5wcm90b3R5cGUsICdidXR0b24nKS5nZXQ7XG4gIGRlZmluZVByb3BlcnRpZXMoXG4gICAgd2luZG93LkV2ZW50LnByb3RvdHlwZSxcbiAgICB7XG4gICAgICBidWJibGVzOiB2YWx1ZURlc2ModHJ1ZSksXG4gICAgICBjYW5jZWxhYmxlOiB2YWx1ZURlc2ModHJ1ZSksXG4gICAgICBwcmV2ZW50RGVmYXVsdDogdmFsdWVEZXNjKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FuY2VsYWJsZSkge1xuICAgICAgICAgIHRoaXMucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBzdG9wUHJvcGFnYXRpb246IHZhbHVlRGVzYyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RvcHBlZFByb3BhZ2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jYW5jZWxCdWJibGUgPSB0cnVlO1xuICAgICAgfSksXG4gICAgICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IHZhbHVlRGVzYyhmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RvcHBlZEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIH0pLFxuICAgICAgaW5pdEV2ZW50OiB2YWx1ZURlc2MoZnVuY3Rpb24odHlwZSwgYnViYmxlcywgY2FuY2VsYWJsZSl7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuYnViYmxlcyA9ICEhYnViYmxlcztcbiAgICAgICAgdGhpcy5jYW5jZWxhYmxlID0gISFjYW5jZWxhYmxlO1xuICAgICAgICBpZiAoIXRoaXMuYnViYmxlcykge1xuICAgICAgICAgIHRoaXMuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgcGFnZVg6IHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiB0aGlzLl9wYWdlWCB8fCAodGhpcy5fcGFnZVggPSB0aGlzLmNsaWVudFggKyB3aW5kb3cuc2Nyb2xsWCAtIChodG1sLmNsaWVudExlZnQgfHwgMCkpOyB9fSxcbiAgICAgIHBhZ2VZOiB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gdGhpcy5fcGFnZVkgfHwgKHRoaXMuX3BhZ2VZID0gdGhpcy5jbGllbnRZICsgd2luZG93LnNjcm9sbFkgLSAoaHRtbC5jbGllbnRUb3AgfHwgMCkpOyB9fSxcbiAgICAgIHdoaWNoOiB7Z2V0OiBmdW5jdGlvbigpeyByZXR1cm4gdGhpcy5rZXlDb2RlID8gdGhpcy5rZXlDb2RlIDogKGlzTmFOKHRoaXMuYnV0dG9uKSA/IHVuZGVmaW5lZCA6IHRoaXMuYnV0dG9uICsgMSk7IH19LFxuICAgICAgY2hhckNvZGU6IHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiAodGhpcy5rZXlDb2RlICYmIHRoaXMudHlwZSA9PSAna2V5cHJlc3MnKSA/IHRoaXMua2V5Q29kZSA6IDA7IH19LFxuICAgICAgYnV0dG9uczoge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIGJ1dHRvbkdldHRlci5jYWxsKHRoaXMpOyB9fSxcbiAgICAgIGJ1dHRvbjoge2dldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBidXR0b25zID0gdGhpcy5idXR0b25zO1xuICAgICAgICByZXR1cm4gKGJ1dHRvbnMgJiAxID8gMCA6IChidXR0b25zICYgMiA/IDIgOiAoYnV0dG9ucyAmIDQgPyAxIDogdW5kZWZpbmVkKSkpO1xuICAgICAgfX0sXG4gICAgICBkZWZhdWx0UHJldmVudGVkOiB7Z2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gaWYgcHJldmVudERlZmF1bHQoKSB3YXMgbmV2ZXIgY2FsbGVkLCBvciByZXR1cm5WYWx1ZSBub3QgZ2l2ZW4gYSB2YWx1ZVxuICAgICAgICAvLyB0aGVuIHJldHVyblZhbHVlIGlzIHVuZGVmaW5lZFxuICAgICAgICB2YXIgcmV0dXJuVmFsdWUgPSB0aGlzLnJldHVyblZhbHVlLCB1bmRlZjtcbiAgICAgICAgcmV0dXJuICEocmV0dXJuVmFsdWUgPT09IHVuZGVmIHx8IHJldHVyblZhbHVlKTtcbiAgICAgIH19LFxuICAgICAgcmVsYXRlZFRhcmdldDoge2dldDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB0eXBlID0gdGhpcy50eXBlO1xuICAgICAgICBpZiAodHlwZSA9PT0gJ21vdXNlb3ZlcicpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5mcm9tRWxlbWVudDtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnbW91c2VvdXQnKSB7XG4gICAgICAgICAgcmV0dXJuIHRoaXMudG9FbGVtZW50O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICB9fVxuICAgIH1cbiAgKTtcblxuICBkZWZpbmVQcm9wZXJ0aWVzKFxuICAgIHdpbmRvdy5IVE1MRG9jdW1lbnQucHJvdG90eXBlLFxuICAgIHtcbiAgICAgIGRlZmF1bHRWaWV3OiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLnBhcmVudFdpbmRvdztcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHRleHRDb250ZW50OiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB0aGlzLm5vZGVUeXBlID09PSAxMSA/IGdldFRleHRDb250ZW50LmNhbGwodGhpcykgOiBudWxsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh0ZXh0Q29udGVudCkge1xuICAgICAgICAgIGlmICh0aGlzLm5vZGVUeXBlID09PSAxMSkge1xuICAgICAgICAgICAgc2V0VGV4dENvbnRlbnQuY2FsbCh0aGlzLCB0ZXh0Q29udGVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogdmFsdWVEZXNjKGZ1bmN0aW9uKHR5cGUsIGhhbmRsZXIsIGNhcHR1cmUpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBFbGVtZW50UHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXIuY2FsbChzZWxmLCB0eXBlLCBoYW5kbGVyLCBjYXB0dXJlKTtcbiAgICAgICAgLy8gTk9URTogIGl0IHdvbid0IGZpcmUgaWYgYWxyZWFkeSBsb2FkZWQsIHRoaXMgaXMgTk9UIGEgJC5yZWFkeSgpIHNoaW0hXG4gICAgICAgIC8vICAgICAgICB0aGlzIGJlaGF2ZXMganVzdCBsaWtlIHN0YW5kYXJkIGJyb3dzZXJzXG4gICAgICAgIGlmIChcbiAgICAgICAgICBEVU5OT0FCT1VURE9NTE9BREVEICYmXG4gICAgICAgICAgdHlwZSA9PT0gRE9NQ09OVEVOVExPQURFRCAmJlxuICAgICAgICAgICFyZWFkeVN0YXRlT0sudGVzdChcbiAgICAgICAgICAgIHNlbGYucmVhZHlTdGF0ZVxuICAgICAgICAgIClcbiAgICAgICAgKSB7XG4gICAgICAgICAgRFVOTk9BQk9VVERPTUxPQURFRCA9IGZhbHNlO1xuICAgICAgICAgIHNlbGYuYXR0YWNoRXZlbnQoT05SRUFEWVNUQVRFQ0hBTkdFLCBvblJlYWR5U3RhdGUpO1xuICAgICAgICAgIC8qIGdsb2JhbCB0b3AgKi9cbiAgICAgICAgICBpZiAod2luZG93ID09IHRvcCkge1xuICAgICAgICAgICAgKGZ1bmN0aW9uIGdvbm5hKGUpe3RyeXtcbiAgICAgICAgICAgICAgc2VsZi5kb2N1bWVudEVsZW1lbnQuZG9TY3JvbGwoJ2xlZnQnKTtcbiAgICAgICAgICAgICAgb25SZWFkeVN0YXRlKCk7XG4gICAgICAgICAgICAgIH1jYXRjaChvX08pe1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGdvbm5hLCA1MCk7XG4gICAgICAgICAgICB9fSgpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgZGlzcGF0Y2hFdmVudDogdmFsdWVEZXNjKEVsZW1lbnRQcm90b3R5cGUuZGlzcGF0Y2hFdmVudCksXG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyOiB2YWx1ZURlc2MoRWxlbWVudFByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyKSxcbiAgICAgIGNyZWF0ZUV2ZW50OiB2YWx1ZURlc2MoZnVuY3Rpb24oQ2xhc3Mpe1xuICAgICAgICB2YXIgZTtcbiAgICAgICAgaWYgKENsYXNzICE9PSAnRXZlbnQnKSB0aHJvdyBuZXcgRXJyb3IoJ3Vuc3VwcG9ydGVkICcgKyBDbGFzcyk7XG4gICAgICAgIGUgPSBkb2N1bWVudC5jcmVhdGVFdmVudE9iamVjdCgpO1xuICAgICAgICBlLnRpbWVTdGFtcCA9IChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICAgIHJldHVybiBlO1xuICAgICAgfSlcbiAgICB9XG4gICk7XG5cbiAgZGVmaW5lUHJvcGVydGllcyhcbiAgICB3aW5kb3cuV2luZG93LnByb3RvdHlwZSxcbiAgICB7XG4gICAgICBnZXRDb21wdXRlZFN0eWxlOiB2YWx1ZURlc2MoZnVuY3Rpb24oKXtcblxuICAgICAgICB2YXIgLy8gcGFydGlhbGx5IGdyYWJiZWQgZnJvbSBqUXVlcnkgYW5kIERlYW4ncyBoYWNrXG4gICAgICAgICAgbm90cGl4ZWwgPSAvXig/OlsrLV0/KD86XFxkKlxcLnwpXFxkKyg/OltlRV1bKy1dP1xcZCt8KSkoPyFweClbYS16JV0rJC8sXG4gICAgICAgICAgcG9zaXRpb24gPSAvXih0b3B8cmlnaHR8Ym90dG9tfGxlZnQpJC8sXG4gICAgICAgICAgcmUgPSAvXFwtKFthLXpdKS9nLFxuICAgICAgICAgIHBsYWNlID0gZnVuY3Rpb24gKG1hdGNoLCAkMSkge1xuICAgICAgICAgICAgcmV0dXJuICQxLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgfVxuICAgICAgICA7XG5cbiAgICAgICAgZnVuY3Rpb24gQ29tcHV0ZWRTdHlsZShfKSB7XG4gICAgICAgICAgdGhpcy5fID0gXztcbiAgICAgICAgfVxuXG4gICAgICAgIENvbXB1dGVkU3R5bGUucHJvdG90eXBlLmdldFByb3BlcnR5VmFsdWUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgIHZhclxuICAgICAgICAgICAgZWwgPSB0aGlzLl8sXG4gICAgICAgICAgICBzdHlsZSA9IGVsLnN0eWxlLFxuICAgICAgICAgICAgY3VycmVudFN0eWxlID0gZWwuY3VycmVudFN0eWxlLFxuICAgICAgICAgICAgcnVudGltZVN0eWxlID0gZWwucnVudGltZVN0eWxlLFxuICAgICAgICAgICAgcmVzdWx0LFxuICAgICAgICAgICAgbGVmdCxcbiAgICAgICAgICAgIHJ0TGVmdFxuICAgICAgICAgIDtcbiAgICAgICAgICBpZiAobmFtZSA9PSAnb3BhY2l0eScpIHtcbiAgICAgICAgICAgIHJldHVybiBzdHlsZS5vcGFjaXR5IHx8ICcxJztcbiAgICAgICAgICB9XG4gICAgICAgICAgbmFtZSA9IChuYW1lID09PSAnZmxvYXQnID8gJ3N0eWxlLWZsb2F0JyA6IG5hbWUpLnJlcGxhY2UocmUsIHBsYWNlKTtcbiAgICAgICAgICByZXN1bHQgPSBjdXJyZW50U3R5bGUgPyBjdXJyZW50U3R5bGVbbmFtZV0gOiBzdHlsZVtuYW1lXTtcbiAgICAgICAgICBpZiAobm90cGl4ZWwudGVzdChyZXN1bHQpICYmICFwb3NpdGlvbi50ZXN0KG5hbWUpKSB7XG4gICAgICAgICAgICBsZWZ0ID0gc3R5bGUubGVmdDtcbiAgICAgICAgICAgIHJ0TGVmdCA9IHJ1bnRpbWVTdHlsZSAmJiBydW50aW1lU3R5bGUubGVmdDtcbiAgICAgICAgICAgIGlmIChydExlZnQpIHtcbiAgICAgICAgICAgICAgcnVudGltZVN0eWxlLmxlZnQgPSBjdXJyZW50U3R5bGUubGVmdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN0eWxlLmxlZnQgPSBuYW1lID09PSAnZm9udFNpemUnID8gJzFlbScgOiByZXN1bHQ7XG4gICAgICAgICAgICByZXN1bHQgPSBzdHlsZS5waXhlbExlZnQgKyAncHgnO1xuICAgICAgICAgICAgc3R5bGUubGVmdCA9IGxlZnQ7XG4gICAgICAgICAgICBpZiAocnRMZWZ0KSB7XG4gICAgICAgICAgICAgIHJ1bnRpbWVTdHlsZS5sZWZ0ID0gcnRMZWZ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICAvKmpzaGludCBlcW51bGw6dHJ1ZSAqL1xuICAgICAgICAgIHJldHVybiByZXN1bHQgPT0gbnVsbCA/XG4gICAgICAgICAgICByZXN1bHQgOiAoKHJlc3VsdCArICcnKSB8fCAnYXV0bycpO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHVuc3VwcG9ydGVkXG4gICAgICAgIGZ1bmN0aW9uIFBzZXVkb0NvbXB1dGVkU3R5bGUoKSB7fVxuICAgICAgICBQc2V1ZG9Db21wdXRlZFN0eWxlLnByb3RvdHlwZS5nZXRQcm9wZXJ0eVZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZWwsIHBzZXVkbykge1xuICAgICAgICAgIHJldHVybiBwc2V1ZG8gP1xuICAgICAgICAgICAgbmV3IFBzZXVkb0NvbXB1dGVkU3R5bGUoZWwpIDpcbiAgICAgICAgICAgIG5ldyBDb21wdXRlZFN0eWxlKGVsKTtcbiAgICAgICAgfTtcblxuICAgICAgfSgpKSxcblxuICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogdmFsdWVEZXNjKGZ1bmN0aW9uICh0eXBlLCBoYW5kbGVyLCBjYXB0dXJlKSB7XG4gICAgICAgIHZhclxuICAgICAgICAgIHNlbGYgPSB3aW5kb3csXG4gICAgICAgICAgb250eXBlID0gJ29uJyArIHR5cGUsXG4gICAgICAgICAgaGFuZGxlcnNcbiAgICAgICAgO1xuICAgICAgICBpZiAoIXNlbGZbb250eXBlXSkge1xuICAgICAgICAgIHNlbGZbb250eXBlXSA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBjb21tb25FdmVudExvb3Aoc2VsZiwgdmVyaWZ5KHNlbGYsIGUpLCBoYW5kbGVycywgZmFsc2UpICYmIHVuZGVmaW5lZDtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZXJzID0gc2VsZltvbnR5cGVdW1NFQ1JFVF0gfHwgKFxuICAgICAgICAgIHNlbGZbb250eXBlXVtTRUNSRVRdID0gW11cbiAgICAgICAgKTtcbiAgICAgICAgaWYgKGZpbmQoaGFuZGxlcnMsIGhhbmRsZXIpIDwgMCkge1xuICAgICAgICAgIGhhbmRsZXJzW2NhcHR1cmUgPyAndW5zaGlmdCcgOiAncHVzaCddKGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIGRpc3BhdGNoRXZlbnQ6IHZhbHVlRGVzYyhmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgbWV0aG9kID0gd2luZG93WydvbicgKyBlLnR5cGVdO1xuICAgICAgICByZXR1cm4gbWV0aG9kID8gbWV0aG9kLmNhbGwod2luZG93LCBlKSAhPT0gZmFsc2UgJiYgIWUuZGVmYXVsdFByZXZlbnRlZCA6IHRydWU7XG4gICAgICB9KSxcbiAgICAgIHJlbW92ZUV2ZW50TGlzdGVuZXI6IHZhbHVlRGVzYyhmdW5jdGlvbiAodHlwZSwgaGFuZGxlciwgY2FwdHVyZSkge1xuICAgICAgICB2YXJcbiAgICAgICAgICBvbnR5cGUgPSAnb24nICsgdHlwZSxcbiAgICAgICAgICBoYW5kbGVycyA9ICh3aW5kb3dbb250eXBlXSB8fCBPYmplY3QpW1NFQ1JFVF0sXG4gICAgICAgICAgaSA9IGhhbmRsZXJzID8gZmluZChoYW5kbGVycywgaGFuZGxlcikgOiAtMVxuICAgICAgICAgO1xuICAgICAgICBpZiAoLTEgPCBpKSBoYW5kbGVycy5zcGxpY2UoaSwgMSk7XG4gICAgICB9KSxcbiAgICAgIHBhZ2VYT2Zmc2V0OiB7Z2V0OiBnZXR0ZXIoJ3Njcm9sbExlZnQnKX0sXG4gICAgICBwYWdlWU9mZnNldDoge2dldDogZ2V0dGVyKCdzY3JvbGxUb3AnKX0sXG4gICAgICBzY3JvbGxYOiB7Z2V0OiBnZXR0ZXIoJ3Njcm9sbExlZnQnKX0sXG4gICAgICBzY3JvbGxZOiB7Z2V0OiBnZXR0ZXIoJ3Njcm9sbFRvcCcpfSxcbiAgICAgIGlubmVyV2lkdGg6IHtnZXQ6IGdldHRlcignY2xpZW50V2lkdGgnKX0sXG4gICAgICBpbm5lckhlaWdodDoge2dldDogZ2V0dGVyKCdjbGllbnRIZWlnaHQnKX1cbiAgICB9XG4gICk7XG5cbiAgd2luZG93LkhUTUxFbGVtZW50ID0gd2luZG93LkVsZW1lbnQ7XG5cbiAgKGZ1bmN0aW9uIChzdHlsZVNoZWV0cywgSFRNTDVFbGVtZW50LCBpKSB7XG4gICAgZm9yIChpID0gMDsgaSA8IEhUTUw1RWxlbWVudC5sZW5ndGg7IGkrKykgZG9jdW1lbnQuY3JlYXRlRWxlbWVudChIVE1MNUVsZW1lbnRbaV0pO1xuICAgIGlmICghc3R5bGVTaGVldHMubGVuZ3RoKSBkb2N1bWVudC5jcmVhdGVTdHlsZVNoZWV0KCcnKTtcbiAgICBzdHlsZVNoZWV0c1swXS5hZGRSdWxlKEhUTUw1RWxlbWVudC5qb2luKCcsJyksICdkaXNwbGF5OmJsb2NrOycpO1xuICB9KGRvY3VtZW50LnN0eWxlU2hlZXRzLCBbJ2hlYWRlcicsICduYXYnLCAnc2VjdGlvbicsICdhcnRpY2xlJywgJ2FzaWRlJywgJ2Zvb3RlciddKSk7XG59KHRoaXMud2luZG93IHx8IGdsb2JhbCkpOyIsIi8vXG4vLyByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgcG9seWZpbGwgYnkgRXJpayBNw7ZsbGVyLlxuLy8gIFdpdGggZml4ZXMgZnJvbSBQYXVsIElyaXNoIGFuZCBUaW5vIFppamRlbFxuLy9cbi8vICBodHRwOi8vcGF1bGlyaXNoLmNvbS8yMDExL3JlcXVlc3RhbmltYXRpb25mcmFtZS1mb3Itc21hcnQtYW5pbWF0aW5nL1xuLy8gIGh0dHA6Ly9teS5vcGVyYS5jb20vZW1vbGxlci9ibG9nLzIwMTEvMTIvMjAvcmVxdWVzdGFuaW1hdGlvbmZyYW1lLWZvci1zbWFydC1lci1hbmltYXRpbmdcbi8vXG4vLyAgTUlUIGxpY2Vuc2Vcbi8vXG4oZnVuY3Rpb24oKSB7XG4gICAgdmFyIGxhc3RUaW1lID0gMDtcbiAgICB2YXIgdmVuZG9ycyA9IFsnd2Via2l0JywgJ21veiddO1xuICAgIGZvciAodmFyIHggPSAwOyB4IDwgdmVuZG9ycy5sZW5ndGggJiYgIXdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7ICsreCkge1xuICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93W3ZlbmRvcnNbeF0gKyAnUmVxdWVzdEFuaW1hdGlvbkZyYW1lJ107XG4gICAgICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSA9XG4gICAgICAgICAgICB3aW5kb3dbdmVuZG9yc1t4XSArICdDYW5jZWxBbmltYXRpb25GcmFtZSddIHx8IHdpbmRvd1t2ZW5kb3JzW3hdICsgJ0NhbmNlbFJlcXVlc3RBbmltYXRpb25GcmFtZSddO1xuICAgIH1cblxuICAgIGlmICghd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSlcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSA9IGZ1bmN0aW9uKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICB2YXIgY3VyclRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIHZhciB0aW1lVG9DYWxsID0gTWF0aC5tYXgoMCwgMTYgLSAoY3VyclRpbWUgLSBsYXN0VGltZSkpO1xuICAgICAgICAgICAgdmFyIGlkID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soY3VyclRpbWUgKyB0aW1lVG9DYWxsKTtcbiAgICAgICAgICAgIH0sIHRpbWVUb0NhbGwpO1xuICAgICAgICAgICAgbGFzdFRpbWUgPSBjdXJyVGltZSArIHRpbWVUb0NhbGw7XG4gICAgICAgICAgICByZXR1cm4gaWQ7XG4gICAgICAgIH07XG5cbiAgICBpZiAoIXdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSlcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChpZCk7XG4gICAgICAgIH07XG59KCkpOyIsInZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBhcGk7XG4gICAgKGZ1bmN0aW9uIChhcGkpIHtcbiAgICAgICAgdmFyIGF1dGg7XG4gICAgICAgIChmdW5jdGlvbiAoYXV0aCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gdmFsaWRhdGUoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwaS5yZXF1ZXN0KFwiYXV0aC92YWxpZGF0ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF1dGgudmFsaWRhdGUgPSB2YWxpZGF0ZTtcbiAgICAgICAgfSkoYXV0aCA9IGFwaS5hdXRoIHx8IChhcGkuYXV0aCA9IHt9KSk7XG4gICAgfSkoYXBpID0gUmlkZVN0eWxlclNob3djYXNlLmFwaSB8fCAoUmlkZVN0eWxlclNob3djYXNlLmFwaSA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGFwaTtcbiAgICAoZnVuY3Rpb24gKGFwaSkge1xuICAgICAgICB2YXIgc2V0dGluZ3M7XG4gICAgICAgIChmdW5jdGlvbiAoc2V0dGluZ3NfMSkge1xuICAgICAgICAgICAgdmFyIGRlZmF1bHRTZXR0aW5ncyA9IHtcbiAgICAgICAgICAgICAgICBFbmFibGVTaGFyaW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgIFN1c3BlbnNpb25SYW5nZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgRGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgTWluOiAtNCxcbiAgICAgICAgICAgICAgICAgICAgICAgIE1heDogMFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBUcnVjazRXRDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgTWluOiAtNCxcbiAgICAgICAgICAgICAgICAgICAgICAgIE1heDogNFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBWYW40V0Q6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIE1pbjogLTQsXG4gICAgICAgICAgICAgICAgICAgICAgICBNYXg6IDRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgVXNlUmF3VGlyZURlc2NyaXB0aW9uOiBmYWxzZVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldFNldHRpbmdzKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSaWRlU3R5bGVyU2hvd2Nhc2UuUHJvbWlzZUhlbHBlci50aGVuKGFwaS5yZXF1ZXN0KFwib3JnYW5pemF0aW9uL2dldHNldHRpbmdzXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgS2V5czogWydFTkFCTEVfU0hBUklORycsICdTVVNQRU5TSU9OX1JBTkdFUycsICdSQVdUSVJFREVTQyddXG4gICAgICAgICAgICAgICAgfSksIGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc2V0dGluZ3MgPSByZXNwb25zZS5TZXR0aW5ncztcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzZXR0aW5ncykgcmV0dXJuIGRlZmF1bHRTZXR0aW5ncztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIEVuYWJsZVNoYXJpbmc6IHBhcnNlQm9vbGVhbihzZXR0aW5nc1tcIkVOQUJMRV9TSEFSSU5HXCJdIHx8IGRlZmF1bHRTZXR0aW5ncy5FbmFibGVTaGFyaW5nKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFN1c3BlbnNpb25SYW5nZXM6IHBhcnNlU3VzcGVuc2lvblJhbmdlcyhzZXR0aW5nc1tcIlNVU1BFTlNJT05fUkFOR0VTXCJdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFVzZVJhd1RpcmVEZXNjcmlwdGlvbjogcGFyc2VCb29sZWFuKHNldHRpbmdzW1wiUkFXVElSRURFU0NcIl0gfHwgZGVmYXVsdFNldHRpbmdzLlVzZVJhd1RpcmVEZXNjcmlwdGlvbilcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNldHRpbmdzXzEuZ2V0U2V0dGluZ3MgPSBnZXRTZXR0aW5ncztcbiAgICAgICAgICAgIGZ1bmN0aW9uIHBhcnNlQm9vbGVhbihib29sZWFuKSB7XG4gICAgICAgICAgICAgICAgLy8gTm90IGEgc3RyaW5nLCBvciBhbiBlbXB0eSBzdHJpbmcsIHJldHVybiB0cnVlIG9yIGZhbHNlXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBib29sZWFuICE9PSAnc3RyaW5nJyB8fCAhYm9vbGVhbikgcmV0dXJuICEhYm9vbGVhbjtcbiAgICAgICAgICAgICAgICB2YXIgZmlyc3RDaGFyID0gYm9vbGVhblswXTtcbiAgICAgICAgICAgICAgICAvLyBUcnVlIGlzOiB0aGUgZmlyc3QgY2hhciBiZWluZyB1cHBlcmNhc2UvbG93ZXJjYXNlIFQgb3IgWVxuICAgICAgICAgICAgICAgIGlmIChmaXJzdENoYXIgPT09ICd5JyB8fCBmaXJzdENoYXIgPT09ICdZJyB8fCBmaXJzdENoYXIgPT09ICd0JyB8fCBmaXJzdENoYXIgPT09ICdUJykgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgLy8gRmFsc2UgaXMgZXZlcnl0aGluZyBlbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gcGFyc2VTdXNwZW5zaW9uUmFuZ2VzKHN1c3BlbnNpb25SYW5nZXNTZXR0aW5nKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdXNwZW5zaW9uUmFuZ2VzU2V0dGluZykgcmV0dXJuIGRlZmF1bHRTZXR0aW5ncy5TdXNwZW5zaW9uUmFuZ2VzO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzdXNwZW5zaW9uUmFuZ2VzID0gSlNPTi5wYXJzZShzdXNwZW5zaW9uUmFuZ2VzU2V0dGluZyk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzdXNwZW5zaW9uUmFuZ2VzO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRTZXR0aW5ncy5TdXNwZW5zaW9uUmFuZ2VzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkoc2V0dGluZ3MgPSBhcGkuc2V0dGluZ3MgfHwgKGFwaS5zZXR0aW5ncyA9IHt9KSk7XG4gICAgfSkoYXBpID0gUmlkZVN0eWxlclNob3djYXNlLmFwaSB8fCAoUmlkZVN0eWxlclNob3djYXNlLmFwaSA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIGFwaSA9IHZvaWQgMDtcbiAgICAoZnVuY3Rpb24gKGFwaSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5pdGlhbGl6ZSB0aGUgUmlkZVN0eWxlciBBUEkgYnkgcGFzc2luZyBpbiBhIHVzZXIvcGFzc3dvcmQgY29tYmluYXRpb24sIGEgdXNlciB0b2tlbiwgb3IgYSBrZXkuXG4gICAgICAgICAqIEBwYXJhbSBzZXR0aW5ncyBUaGUgQVBJIGluaXRpYWxpemF0aW9uIHNldHRpbmdzXG4gICAgICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIChvciByZWplY3RlZCkgd2hlbiB0aGUgQVBJIGlzIGF1dGhlbnRpY2F0ZWQgKG9yIGZhaWxzIGF1dGhlbnRpY2F0aW9uKVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaW5pdGlhbGl6ZShzZXR0aW5ncykge1xuICAgICAgICAgICAgLy8gSWYgYXV0aGVudGljYXRpb24gaW5mb3JtYXRpb24gd2FzIHBhc3NlZCBpbiwgbGV0J3MgdXNlIHRoYXRcbiAgICAgICAgICAgIGlmIChzZXR0aW5ncykge1xuICAgICAgICAgICAgICAgIGlmICgndXNlcm5hbWUnIGluIHNldHRpbmdzICYmICdwYXNzd29yZCcgaW4gc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9naW4gdXNpbmcgYSB1c2VybmFtZSBhbmQgcGFzc3dvcmRcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgICAgICAgICAgICAgICAgcmlkZXN0eWxlci5hdXRoLnN0YXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBVc2VybmFtZTogc2V0dGluZ3MudXNlcm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgUGFzc3dvcmQ6IHNldHRpbmdzLnBhc3N3b3JkXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIGNhbGxiYWNrKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLlN1Y2Nlc3MpIGFwaS5hdXRoZW50aWNhdGVkLnJlc29sdmUoKTtlbHNlIGFwaS5hdXRoZW50aWNhdGVkLnJlamVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCBjYWxsaW5nIHZhbGlkYXRlIGJlbG93XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCd0b2tlbicgaW4gc2V0dGluZ3MgfHwgJ2tleScgaW4gc2V0dGluZ3MpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTG9naW4gdXNpbmcgYSBrZXkgb3IgdG9rZW5cbiAgICAgICAgICAgICAgICAgICAgcmlkZXN0eWxlci5hdXRoLnNldChzZXR0aW5ncyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVmFsaWRhdGUgdGhlIHVzZXIncyBrZXkgb3IgdG9rZW5cbiAgICAgICAgICAgIGFwaS5hdXRoLnZhbGlkYXRlKCkuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IHJpZGVzdHlsZXIuYWpheC51cmwoJycsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgaWYgKC9cXC9hcGktYWxwaGFcXC4vaS50ZXN0KHVybCkpIGFwaS5lbnZpcm9ubWVudCA9IEVudmlyb25tZW50LkFscGhhO2Vsc2UgaWYgKC9cXC9hcGktYmV0YVxcLi9pLnRlc3QodXJsKSkgYXBpLmVudmlyb25tZW50ID0gRW52aXJvbm1lbnQuQmV0YTtlbHNlIGlmICgvXFwvYXBpXFwuL2kudGVzdCh1cmwpKSBhcGkuZW52aXJvbm1lbnQgPSBFbnZpcm9ubWVudC5MaXZlO2Vsc2UgYXBpLmVudmlyb25tZW50ID0gRW52aXJvbm1lbnQuT3RoZXI7XG4gICAgICAgICAgICAgICAgYXBpLmF1dGhlbnRpY2F0ZWQucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFwaS5hdXRoZW50aWNhdGVkLnJlamVjdCgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gYXBpLmF1dGhlbnRpY2F0ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgYXBpLmluaXRpYWxpemUgPSBpbml0aWFsaXplO1xuICAgICAgICBhcGkuYXV0aGVudGljYXRlZCA9IHJpZGVzdHlsZXIucHJvbWlzZSgpO1xuICAgICAgICBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBpLmF1dGhlbnRpY2F0ZWQuc3RhdGUoKSA9PT0gMSAvKiBSZXNvbHZlZCAqLztcbiAgICAgICAgfVxuICAgICAgICBhcGkuaXNBdXRoZW50aWNhdGVkID0gaXNBdXRoZW50aWNhdGVkO1xuICAgICAgICBmdW5jdGlvbiBhZnRlckF1dGhlbnRpY2F0ZWQoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGlmIChpc0F1dGhlbnRpY2F0ZWQoKSkgY2FsbGJhY2soKTtlbHNlIGFwaS5hdXRoZW50aWNhdGVkLmRvbmUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYXBpLmFmdGVyQXV0aGVudGljYXRlZCA9IGFmdGVyQXV0aGVudGljYXRlZDtcbiAgICAgICAgZnVuY3Rpb24gcmVxdWVzdChhY3Rpb24sIGRhdGEpIHtcbiAgICAgICAgICAgIHZhciBwcm9taXNlID0gcmlkZXN0eWxlci5wcm9taXNlKCk7XG4gICAgICAgICAgICByaWRlc3R5bGVyLmFqYXguc2VuZCh7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogZnVuY3Rpb24gY2FsbGJhY2socmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLlN1Y2Nlc3MpIHByb21pc2UucmVzb2x2ZShyZXNwb25zZSk7ZWxzZSBwcm9taXNlLnJlamVjdChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBhcGkucmVxdWVzdCA9IHJlcXVlc3Q7XG4gICAgICAgIGZ1bmN0aW9uIGdldFVSTChhY3Rpb24sIGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiByaWRlc3R5bGVyLmFqYXgudXJsKGFjdGlvbiwgZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgYXBpLmdldFVSTCA9IGdldFVSTDtcbiAgICAgICAgdmFyIEVudmlyb25tZW50ID0gdm9pZCAwO1xuICAgICAgICAoZnVuY3Rpb24gKEVudmlyb25tZW50KSB7XG4gICAgICAgICAgICBFbnZpcm9ubWVudFtFbnZpcm9ubWVudFtcIkFscGhhXCJdID0gMF0gPSBcIkFscGhhXCI7XG4gICAgICAgICAgICBFbnZpcm9ubWVudFtFbnZpcm9ubWVudFtcIkJldGFcIl0gPSAxXSA9IFwiQmV0YVwiO1xuICAgICAgICAgICAgRW52aXJvbm1lbnRbRW52aXJvbm1lbnRbXCJMaXZlXCJdID0gMl0gPSBcIkxpdmVcIjtcbiAgICAgICAgICAgIEVudmlyb25tZW50W0Vudmlyb25tZW50W1wiT3RoZXJcIl0gPSAzXSA9IFwiT3RoZXJcIjtcbiAgICAgICAgfSkoRW52aXJvbm1lbnQgPSBhcGkuRW52aXJvbm1lbnQgfHwgKGFwaS5FbnZpcm9ubWVudCA9IHt9KSk7XG4gICAgfSkoYXBpID0gUmlkZVN0eWxlclNob3djYXNlLmFwaSB8fCAoUmlkZVN0eWxlclNob3djYXNlLmFwaSA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIEFycmF5SGVscGVyO1xuICAgIChmdW5jdGlvbiAoQXJyYXlIZWxwZXIpIHtcbiAgICAgICAgZnVuY3Rpb24gY29weShhcnJheSkge1xuICAgICAgICAgICAgdmFyIGNvcHkgPSBuZXcgQXJyYXkoYXJyYXkubGVuZ3RoKTtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBhcnJheS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBjb3B5W2luZGV4XSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgICAgIH1yZXR1cm4gY29weTtcbiAgICAgICAgfVxuICAgICAgICBBcnJheUhlbHBlci5jb3B5ID0gY29weTtcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlKGFycmF5LCBpdGVtTWF0Y2gpIHtcbiAgICAgICAgICAgIHZhciBuZXdBcnJheSA9IG5ldyBBcnJheShhcnJheS5sZW5ndGgpO1xuICAgICAgICAgICAgdmFyIG5ld0FycmF5SW5kZXggPSAtMTtcbiAgICAgICAgICAgIGZvciAodmFyIGFycmF5SW5kZXggPSAwOyBhcnJheUluZGV4IDwgYXJyYXkubGVuZ3RoOyBhcnJheUluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGFycmF5W2FycmF5SW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbU1hdGNoID09PSAnZnVuY3Rpb24nICYmIGl0ZW1NYXRjaChpdGVtKSB8fCBpdGVtID09PSBpdGVtTWF0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCBpdGVtcyB0aGF0IG1hdGNoIHRoZSBpdGVtTWF0Y2ggZnVuY3Rpb24gb3IgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5ld0FycmF5WysrbmV3QXJyYXlJbmRleF0gPSBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2hvcnRlbiBhcnJheSB0byBleGNsdWRlIGxlbmd0aCBmcm9tIHJlbW92ZWQgaXRlbXNcbiAgICAgICAgICAgIG5ld0FycmF5Lmxlbmd0aCA9IG5ld0FycmF5SW5kZXggKyAxO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0FycmF5O1xuICAgICAgICB9XG4gICAgICAgIEFycmF5SGVscGVyLnJlbW92ZSA9IHJlbW92ZTtcbiAgICAgICAgZnVuY3Rpb24gZmlsdGVyKGFycmF5LCBpdGVtTWF0Y2gpIHtcbiAgICAgICAgICAgIHJldHVybiByZW1vdmUoYXJyYXksIGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFpdGVtTWF0Y2goaXRlbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBBcnJheUhlbHBlci5maWx0ZXIgPSBmaWx0ZXI7XG4gICAgICAgIGZ1bmN0aW9uIG1hcChhcnJheSwgbWFwRnVuY3Rpb24sIHRoaXNBcmcpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgQXJyYXkucHJvdG90eXBlLm1hcCA9PT0gJ2Z1bmN0aW9uJykgcmV0dXJuIGFycmF5Lm1hcChtYXBGdW5jdGlvbiwgdGhpc0FyZyk7XG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KGFycmF5Lmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhcnJheVtpXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXNBcmcgPT09ICd1bmRlZmluZWQnKSByZXN1bHRbaV0gPSBtYXBGdW5jdGlvbihhcnJheVtpXSwgaSwgYXJyYXkpO2Vsc2UgcmVzdWx0W2ldID0gbWFwRnVuY3Rpb24uY2FsbCh0aGlzQXJnLCBhcnJheVtpXSwgaSwgYXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBBcnJheUhlbHBlci5tYXAgPSBtYXA7XG4gICAgICAgIGZ1bmN0aW9uIHJlZHVjZShhcnJheSwgcmVkdWNlciwgaW5pdGlhbFZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIEFycmF5LnByb3RvdHlwZS5yZWR1Y2UgPT09ICdmdW5jdGlvbicpIHJldHVybiBhcnJheS5yZWR1Y2UocmVkdWNlciwgaW5pdGlhbFZhbHVlKTtcbiAgICAgICAgICAgIHZhciBhY2N1bXVsYXRvciA9IGluaXRpYWxWYWx1ZTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBhY2N1bXVsYXRvciA9IGFjY3VtdWxhdG9yICE9PSB1bmRlZmluZWQgPyByZWR1Y2VyLmNhbGwodW5kZWZpbmVkLCBhY2N1bXVsYXRvciwgYXJyYXlbaV0sIGksIGFycmF5KSA6IGFycmF5W2ldO1xuICAgICAgICAgICAgfXJldHVybiBhY2N1bXVsYXRvcjtcbiAgICAgICAgfVxuICAgICAgICBBcnJheUhlbHBlci5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgfSkoQXJyYXlIZWxwZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuQXJyYXlIZWxwZXIgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlciA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIEJveEhlbHBlcjtcbiAgICAoZnVuY3Rpb24gKEJveEhlbHBlcikge1xuICAgICAgICAvKipcbiAgICAgICAgICogQm91bmQgYSBib3ggdG8gYSBtaW5pbXVtIGFuZC9vciBtYXhpbXVtIGJvdW5kaW5nIGJveFxuICAgICAgICAgKiBAcGFyYW0gYm94IFRoZSBib3ggdG8gYm91bmRcbiAgICAgICAgICogQHBhcmFtIGJvdW5kc01pbiBUaGUgbWluaW11bSBib3VuZGluZyBib3hcbiAgICAgICAgICogQHBhcmFtIGJvdW5kc01heCBUaGUgbWF4aW11bSBib3VuZGluZyBib3hcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGJvdW5kKGJveCwgYm91bmRzTWluLCBib3VuZHNNYXgpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYm91bmRzTWluID09PSAnbnVtYmVyJykgYm91bmRzTWluID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBib3VuZHNNaW4sXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBib3VuZHNNaW5cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodHlwZW9mIGJvdW5kc01heCA9PT0gJ251bWJlcicpIGJvdW5kc01heCA9IHtcbiAgICAgICAgICAgICAgICB3aWR0aDogYm91bmRzTWF4LFxuICAgICAgICAgICAgICAgIGhlaWdodDogYm91bmRzTWF4XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gR2V0IHRoZSBzY2FsZSBjaGFuZ2UgdG8gc2NhbGUgYm94IGRvd24gdG8gbWF4aW11bSBib3VuZHNcbiAgICAgICAgICAgIHZhciBzY2FsZVRvTWF4ID0gYm91bmRzTWF4ID8gTWF0aC5taW4oYm91bmRzTWF4LndpZHRoIC8gYm94LndpZHRoLCBib3VuZHNNYXguaGVpZ2h0IC8gYm94LmhlaWdodCkgOiAxO1xuICAgICAgICAgICAgLy8gR2V0IHRoZSBzY2FsZSBjaGFuZ2UgdG8gc2NhbGUgYm94IHVwIHRvIG1pbmltdW0gYm91bmRzXG4gICAgICAgICAgICB2YXIgc2NhbGVUb01pbiA9IGJvdW5kc01pbiA/IE1hdGgubWF4KGJvdW5kc01pbi53aWR0aCAvIGJveC53aWR0aCwgYm91bmRzTWluLmhlaWdodCAvIGJveC5oZWlnaHQpIDogMTtcbiAgICAgICAgICAgIHZhciBzY2FsYXIgPSB2b2lkIDA7XG4gICAgICAgICAgICBpZiAoc2NhbGVUb01heCA8IDEpIHNjYWxhciA9IHNjYWxlVG9NYXg7ZWxzZSBpZiAoc2NhbGVUb01pbiA+IDEpIHNjYWxhciA9IHNjYWxlVG9NaW47ZWxzZSByZXR1cm4gYm94O1xuICAgICAgICAgICAgcmV0dXJuIHNjYWxlKGJveCwgc2NhbGFyKTtcbiAgICAgICAgfVxuICAgICAgICBCb3hIZWxwZXIuYm91bmQgPSBib3VuZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYWxlIGEgYm94IGJ5IGEgc2NhbGFyXG4gICAgICAgICAqIEBwYXJhbSBib3ggVGhlIGJveFxuICAgICAgICAgKiBAcGFyYW0gc2NhbGFyIFRoZSBudW1iZXIgdG8gc2NhbGUgdGhlIGJveCBieVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gc2NhbGUoYm94LCBzY2FsYXIpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NhbGFyID09PSAnbnVtYmVyJykgc2NhbGFyID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBzY2FsYXIsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBzY2FsYXJcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBib3gud2lkdGggKiBzY2FsYXIud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBib3guaGVpZ2h0ICogc2NhbGFyLmhlaWdodFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBCb3hIZWxwZXIuc2NhbGUgPSBzY2FsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIGJveCwgd2l0aG91dCBkZWNpbWFsc1xuICAgICAgICAgKiBAcGFyYW0gYm94IFRoZSBib3hcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGZsb29yKGJveCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogfn5ib3gud2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiB+fmJveC5oZWlnaHRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgQm94SGVscGVyLmZsb29yID0gZmxvb3I7XG4gICAgfSkoQm94SGVscGVyID0gUmlkZVN0eWxlclNob3djYXNlLkJveEhlbHBlciB8fCAoUmlkZVN0eWxlclNob3djYXNlLkJveEhlbHBlciA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIEdVSURIZWxwZXIgPSB2b2lkIDA7XG4gICAgKGZ1bmN0aW9uIChHVUlESGVscGVyKSB7XG4gICAgICAgIC8vIE1hcHMgZm9yIG51bWJlciA8LT4gaGV4IHN0cmluZyBjb252ZXJzaW9uXG4gICAgICAgIHZhciBieXRlVG9IZXggPSBbXTtcbiAgICAgICAgdmFyIGhleFRvQnl0ZSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgaSsrKSB7XG4gICAgICAgICAgICBieXRlVG9IZXhbaV0gPSAoaSArIDB4MTAwKS50b1N0cmluZygxNikuc3Vic3RyKDEpO1xuICAgICAgICAgICAgaGV4VG9CeXRlW2J5dGVUb0hleFtpXV0gPSBpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQYXJzZSBhIEd1aWQgaW50byBhIGNvbW1vbiBmb3JtYXRcbiAgICAgICAgICogQHBhcmFtIGlkIFRoZSBJRCB0byBwYXJzZVxuICAgICAgICAgKiBAcGFyYW0gYnVmZmVyIEFuIGV4aXN0aW5nIEd1aWQvYXJyYXkgdG8gd3JpdGUgdG9cbiAgICAgICAgICogQHBhcmFtIG9mZnNldCBUaGUgb2Zmc2V0IHRvIGJlZ2luIHdyaXRpbmcgYXRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHBhcnNlKGlkLCBidWZmZXIsIG9mZnNldCkge1xuICAgICAgICAgICAgdmFyIGkgPSBidWZmZXIgJiYgb2Zmc2V0IHx8IDA7XG4gICAgICAgICAgICB2YXIgaiA9IDA7XG4gICAgICAgICAgICBidWZmZXIgPSBidWZmZXIgfHwgW107XG4gICAgICAgICAgICBpZC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1swLTlhLWZdezJ9L2csIGZ1bmN0aW9uIChvY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoaiA8IDE2KSBidWZmZXJbaSArIGorK10gPSBoZXhUb0J5dGVbb2N0XTtcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIFplcm8gb3V0IHJlbWFpbmluZyBieXRlcyBpZiBzdHJpbmcgd2FzIHNob3J0XG4gICAgICAgICAgICB3aGlsZSAoaiA8IDE2KSB7XG4gICAgICAgICAgICAgICAgYnVmZmVyW2kgKyBqKytdID0gMDtcbiAgICAgICAgICAgIH1yZXR1cm4gYnVmZmVyO1xuICAgICAgICB9XG4gICAgICAgIEdVSURIZWxwZXIucGFyc2UgPSBwYXJzZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlcnQgYSBwYXJzZWQgR3VpZCBiYWNrIGludG8gYSBzdHJpbmdcbiAgICAgICAgICogQHBhcmFtIGlkIEEgcGFyc2VkIEd1aWQgdG8gdW5wYXJzZVxuICAgICAgICAgKiBAcGFyYW0gb2Zmc2V0IFN0YXJ0aW5nIGluZGV4IGluIHRoZSBpZCB0byBiZWdpbiByZWFkaW5nIGZyb21cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHVucGFyc2UoaWQsIG9mZnNldCkge1xuICAgICAgICAgICAgdmFyIGkgPSBvZmZzZXQgfHwgMDtcbiAgICAgICAgICAgIHZhciBidGggPSBieXRlVG9IZXg7XG4gICAgICAgICAgICByZXR1cm4gYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgJy0nICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgJy0nICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgJy0nICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgJy0nICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dICsgYnRoW2lkW2krK11dO1xuICAgICAgICB9XG4gICAgICAgIEdVSURIZWxwZXIudW5wYXJzZSA9IHVucGFyc2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21wYXJlIHR3byBHdWlkcyB0byBkZXRlcm1pbmUgaWYgdGhleSBhcmUgZXF1YWxcbiAgICAgICAgICogQHBhcmFtIGlkQSBUaGUgZmlyc3QgSUQgdG8gcGFyc2UgKGlmIG5lZWRlZCkgYW5kIHRoZW4gY29tcGFyZVxuICAgICAgICAgKiBAcGFyYW0gaWRCIFRoZSBzZWNvbmQgSUQgdG8gcGFyc2UgKGlmIG5lZWRlZCkgYW5kIHRoZW4gY29tcGFyZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gYXJlRXF1YWwoaWRBLCBpZEIpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSB1bmRlZmluZWQvdW5zcGVjaWZpZWQgcGFyYW1ldGVyc1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICghaWRBKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaWRCKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWlkQikgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGd1aWRBID0gdm9pZCAwO1xuICAgICAgICAgICAgdmFyIGd1aWRCID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpZEEgPT09ICdzdHJpbmcnKSBndWlkQSA9IHBhcnNlKGlkQSk7ZWxzZSBndWlkQSA9IGlkQTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaWRCID09PSAnc3RyaW5nJykgZ3VpZEIgPSBwYXJzZShpZEIpO2Vsc2UgZ3VpZEIgPSBpZEI7XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgZ3VpZEEubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJ5dGVBID0gZ3VpZEFbX2ldO1xuICAgICAgICAgICAgICAgIHZhciBieXRlQiA9IGd1aWRCW19pXTtcbiAgICAgICAgICAgICAgICBpZiAoYnl0ZUEgIT09IGJ5dGVCKSByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBHVUlESGVscGVyLmFyZUVxdWFsID0gYXJlRXF1YWw7XG4gICAgfSkoR1VJREhlbHBlciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5HVUlESGVscGVyIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuR1VJREhlbHBlciA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgSFRNTEhlbHBlcjtcbiAgICAoZnVuY3Rpb24gKEhUTUxIZWxwZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgYSBuZXcgc2V0IG9mIGVsZW1lbnRzIG1hdGNoZWQgZnJvbSB0aGUgb3JpZ2luYWwgc2V0XG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50cyBUaGUgZWxlbWVudHMgdG8gbWF0Y2hcbiAgICAgICAgICogQHBhcmFtIG1hdGNoIFRoZSBtYXRjaGluZyBmdW5jdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZWxlbWVudHNNYXRjaGluZyhlbGVtZW50cywgbWF0Y2gpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaGluZ0VsZW1lbnRzID0gbmV3IEFycmF5KGVsZW1lbnRzLmxlbmd0aCk7XG4gICAgICAgICAgICB2YXIgbWF0Y2hpbmdFbGVtZW50c0luZGV4ID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBlbGVtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBlbGVtZW50c1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoKGNoaWxkKSkge1xuICAgICAgICAgICAgICAgICAgICBtYXRjaGluZ0VsZW1lbnRzW21hdGNoaW5nRWxlbWVudHNJbmRleCsrXSA9IGNoaWxkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hdGNoaW5nRWxlbWVudHMubGVuZ3RoID0gbWF0Y2hpbmdFbGVtZW50c0luZGV4O1xuICAgICAgICAgICAgcmV0dXJuIG1hdGNoaW5nRWxlbWVudHM7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5lbGVtZW50c01hdGNoaW5nID0gZWxlbWVudHNNYXRjaGluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIGZpcnN0IGVsZW1lbnQgaW4gdGhlIHNldCB0byBtYXRjaCB0aGUgZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnRzIFRoZSBzZXQgb2YgZWxlbWVudHMgdG8gc2VhcmNoIGluXG4gICAgICAgICAqIEBwYXJhbSBtYXRjaCBUaGUgbWF0Y2hpbmcgZnVuY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGZpcnN0RWxlbWVudE1hdGNoaW5nKGVsZW1lbnRzLCBtYXRjaCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwOyBpbmRleCA8IGVsZW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgICAgIHZhciBjaGlsZCA9IGVsZW1lbnRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2goY2hpbGQpKSByZXR1cm4gY2hpbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmZpcnN0RWxlbWVudE1hdGNoaW5nID0gZmlyc3RFbGVtZW50TWF0Y2hpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBsYXN0IGVsZW1lbnQgaW4gdGhlIHNldCB0byBtYXRjaCB0aGUgZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnRzIFRoZSBzZXQgb2YgZWxlbWVudHMgdG8gc2VhcmNoIGluXG4gICAgICAgICAqIEBwYXJhbSBtYXRjaCBUaGUgbWF0Y2hpbmcgZnVuY3Rpb25cbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGxhc3RFbGVtZW50TWF0Y2hpbmcoZWxlbWVudHMsIG1hdGNoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IGVsZW1lbnRzLmxlbmd0aCAtIDE7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBlbGVtZW50c1tpbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKG1hdGNoKGNoaWxkKSkgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5sYXN0RWxlbWVudE1hdGNoaW5nID0gbGFzdEVsZW1lbnRNYXRjaGluZztcbiAgICAgICAgZnVuY3Rpb24gY2hpbGRyZW5NYXRjaGluZyhlbGVtZW50LCBtYXRjaCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzTWF0Y2hpbmcoZWxlbWVudC5jaGlsZHJlbiwgbWF0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuY2hpbGRyZW5NYXRjaGluZyA9IGNoaWxkcmVuTWF0Y2hpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWFyY2ggYW4gZWxlbWVudCBmb3IgdGhlIGZpcnN0IGNoaWxkIG1hdGNoaW5nIHRoZSBtYXRjaCBmdW5jdGlvblxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBzZWFyY2ggY2hpbGRyZW4gb2ZcbiAgICAgICAgICogQHBhcmFtIG1hdGNoIFRoZSBtYXRjaCBmdW5jdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZmlyc3RDaGlsZE1hdGNoaW5nKGVsZW1lbnQsIG1hdGNoKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3RFbGVtZW50TWF0Y2hpbmcoZWxlbWVudC5jaGlsZHJlbiwgbWF0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuZmlyc3RDaGlsZE1hdGNoaW5nID0gZmlyc3RDaGlsZE1hdGNoaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBlbGVtZW50J3MgY2hpbGRyZW4gbWF0Y2hpbmcgdGhlIHBhc3NlZCBpbiBzZXQgb2ZcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gc2VhcmNoIHRoZSBjaGlsZHJlbiBvZlxuICAgICAgICAgKiBAcGFyYW0gY2xhc3NlcyBUaGUgc2V0IG9mIGNsYXNzZXMgdG8gbWF0Y2ggY2hpbGRyZW4gd2l0aFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gY2hpbGRyZW5XaXRoQ2xhc3NlcyhlbGVtZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NlcyA9IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY2xhc3NlcyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5mbGF0dGVuQ2xhc3NMaXN0KGNsYXNzZXMpO1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuTWF0Y2hpbmcoZWxlbWVudCwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci5oYXNDbGFzc2VzKGNoaWxkLCBjbGFzc2VzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuY2hpbGRyZW5XaXRoQ2xhc3NlcyA9IGNoaWxkcmVuV2l0aENsYXNzZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmVzIGNoaWxkcmVuIGZyb20gdGhlIGVsZW1lbnQgbWF0Y2hpbmcgYSBjbGFzcyBvciBzZXQgb2YgY2xhc3Nlc1xuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBzZWFyY2ggdGhlIGNoaWxkcmVuXG4gICAgICAgICAqIEBwYXJhbSBjbGFzc2VzIFRoZSBjbGFzc2VzIHRvIG1hdGNoIGNoaWxkcmVuIHRvIHJlbW92ZVxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW5XaXRoQ2xhc3NlcyhlbGVtZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzZXMgPSBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlO1xuICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yID0gY2hpbGRyZW5XaXRoQ2xhc3Nlcy5hcHBseSh1bmRlZmluZWQsIFtlbGVtZW50XS5jb25jYXQoY2xhc3NlcykpW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnJlbW92ZUNoaWxkKGNoaWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIucmVtb3ZlQ2hpbGRyZW5XaXRoQ2xhc3NlcyA9IHJlbW92ZUNoaWxkcmVuV2l0aENsYXNzZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWFyY2ggYW4gZWxlbWVudCBmb3IgdGhlIGZpcnN0IGNoaWxkIHdpdGggdGhlIHNwZWNpZmllZCB0YWdcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gc2VhcmNoIGNoaWxkcmVuIG9mXG4gICAgICAgICAqIEBwYXJhbSB0YWdOYW1lIFRoZSB0YWcgdG8gbG9vayBmb3JcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGZpcnN0Q2hpbGRXaXRoVGFnKGVsZW1lbnQsIHRhZ05hbWUpIHtcbiAgICAgICAgICAgIHRhZ05hbWUgPSB0YWdOYW1lLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3RDaGlsZE1hdGNoaW5nKGVsZW1lbnQsIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZC50YWdOYW1lID09PSB0YWdOYW1lO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5maXJzdENoaWxkV2l0aFRhZyA9IGZpcnN0Q2hpbGRXaXRoVGFnO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VhcmNoIGFuIGVsZW1lbnQgZm9yIHRoZSBmaXJzdCBjaGlsZCB3aXRoIHRoZSBzcGVjaWZpZWQgY2xhc3MoZXMpIGluIGl0cyBjbGFzcyBsaXN0XG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHNlYXJjaCBjaGlsZHJlbiBvZlxuICAgICAgICAgKiBAcGFyYW0gY2xhc3NlcyBUaGUgY2xhc3NlcyB0byBsb29rIGZvclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZmlyc3RDaGlsZFdpdGhDbGFzcyhlbGVtZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzZXMgPSBBcnJheShfbGVuMyA+IDEgPyBfbGVuMyAtIDEgOiAwKSwgX2tleTMgPSAxOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlc1tfa2V5MyAtIDFdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZpcnN0Q2hpbGRNYXRjaGluZyhlbGVtZW50LCBmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLmhhc0NsYXNzZXMoY2hpbGQsIGNsYXNzZXMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5maXJzdENoaWxkV2l0aENsYXNzID0gZmlyc3RDaGlsZFdpdGhDbGFzcztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGVjdHMgaWYgYW4gZWxlbWVudCBoYXMgYSBjaGlsZCB3aXRoIHRoZSBzcGVjaWZpZWQgY2xhc3MoZXMpXG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHNlYXJjaCB0aGUgY2hpbGRyZW4gb2ZcbiAgICAgICAgICogQHBhcmFtIGNsYXNzZXMgVGhlIGNsYXNzKGVzKSB0byBsb29rIGZvclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaGFzQ2hpbGRXaXRoQ2xhc3MoZWxlbWVudCkge1xuICAgICAgICAgICAgZm9yICh2YXIgX2xlbjQgPSBhcmd1bWVudHMubGVuZ3RoLCBjbGFzc2VzID0gQXJyYXkoX2xlbjQgPiAxID8gX2xlbjQgLSAxIDogMCksIF9rZXk0ID0gMTsgX2tleTQgPCBfbGVuNDsgX2tleTQrKykge1xuICAgICAgICAgICAgICAgIGNsYXNzZXNbX2tleTQgLSAxXSA9IGFyZ3VtZW50c1tfa2V5NF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiAhIWZpcnN0Q2hpbGRXaXRoQ2xhc3MuYXBwbHkodW5kZWZpbmVkLCBbZWxlbWVudF0uY29uY2F0KGNsYXNzZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmhhc0NoaWxkV2l0aENsYXNzID0gaGFzQ2hpbGRXaXRoQ2xhc3M7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlY3RzIGlmIGFuIGVsZW1lbnQgaGFzIGEgc2libGluZyB3aXRoIHRoZSBzcGVjaWZpZWQgY2xhc3MoZXMpXG4gICAgICAgICAqIEBwYXJhbSBlbGVtZW50IFRoZSBlbGVtZW50IHRvIHNlYXJjaCB0aGUgc2libGluZ3Mgb2ZcbiAgICAgICAgICogQHBhcmFtIGNsYXNzZXMgVGhlIGNsYXNzKGVzKSB0byBsb29rIGZvclxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaGFzU2libGluZ1dpdGhDbGFzcyhlbGVtZW50KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfbGVuNSA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzZXMgPSBBcnJheShfbGVuNSA+IDEgPyBfbGVuNSAtIDEgOiAwKSwgX2tleTUgPSAxOyBfa2V5NSA8IF9sZW41OyBfa2V5NSsrKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlc1tfa2V5NSAtIDFdID0gYXJndW1lbnRzW19rZXk1XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGhhc0NoaWxkV2l0aENsYXNzLmFwcGx5KHVuZGVmaW5lZCwgW2VsZW1lbnQucGFyZW50RWxlbWVudF0uY29uY2F0KGNsYXNzZXMpKTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmhhc1NpYmxpbmdXaXRoQ2xhc3MgPSBoYXNTaWJsaW5nV2l0aENsYXNzO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyB0aGUgbGFzdCBzaWJsaW5nIG9mIGFuIGVsZW1lbnQgbWF0Y2hpbmcgYSBzcGVjaWZpZWQgY2xhc3MgKG9yIHNwZWNpZmllZCBjbGFzc2VzKVxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudCB0byBzZWFyY2ggc2libGluZ3NcbiAgICAgICAgICogQHBhcmFtIGNsYXNzZXMgVGhlIGNsYXNzZXMgdG8gbG9vayBmb3JcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGxhc3RTaWJsaW5nV2l0aENsYXNzKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9sZW42ID0gYXJndW1lbnRzLmxlbmd0aCwgY2xhc3NlcyA9IEFycmF5KF9sZW42ID4gMSA/IF9sZW42IC0gMSA6IDApLCBfa2V5NiA9IDE7IF9rZXk2IDwgX2xlbjY7IF9rZXk2KyspIHtcbiAgICAgICAgICAgICAgICBjbGFzc2VzW19rZXk2IC0gMV0gPSBhcmd1bWVudHNbX2tleTZdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbGFzdEVsZW1lbnRNYXRjaGluZyhlbGVtZW50LnBhcmVudEVsZW1lbnQuY2hpbGRyZW4sIGZ1bmN0aW9uIChzaWJsaW5nKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpYmxpbmcgIT09IGVsZW1lbnQgJiYgUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLmhhc0NsYXNzZXMoc2libGluZywgY2xhc3Nlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmxhc3RTaWJsaW5nV2l0aENsYXNzID0gbGFzdFNpYmxpbmdXaXRoQ2xhc3M7XG4gICAgICAgIGZ1bmN0aW9uIGFwcGx5T3B0aW9ucyhlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgICAgICB2YXIgaHRtbEVsZW1lbnQgPSBlbGVtZW50O1xuICAgICAgICAgICAgaWYgKCh0eXBlb2Ygb3B0aW9ucyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yob3B0aW9ucykpICE9PSAnb2JqZWN0JykgcmV0dXJuO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmNsYXNzTmFtZSA9PT0gJ3N0cmluZycpIGVsZW1lbnQuY2xhc3NOYW1lID0gb3B0aW9ucy5jbGFzc05hbWU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuaWQgPT09ICdzdHJpbmcnKSBlbGVtZW50LmlkID0gb3B0aW9ucy5pZDtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLndyYXApIG9wdGlvbnMud3JhcC5hcHBlbmRDaGlsZChlbGVtZW50KTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFwcGVuZFRvKSBvcHRpb25zLmFwcGVuZFRvLmFwcGVuZENoaWxkKG9wdGlvbnMud3JhcCB8fCBlbGVtZW50KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy50ZXh0ID09PSAnc3RyaW5nJykgZWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShvcHRpb25zLnRleHQpKTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLmFwcGVuZCkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLmFwcGVuZCBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjIgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yMiA9IHVuZGVmaW5lZDtcblxuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IG9wdGlvbnMuYXBwZW5kW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNoaWxkRWxlbWVudCA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY2hpbGRFbGVtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjIgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IyID0gZXJyO1xuICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yICYmIF9pdGVyYXRvcjIucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmFwcGVuZENoaWxkKG9wdGlvbnMuYXBwZW5kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBvcHRpb25zLmF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZShrZXksIG9wdGlvbnMuYXR0cmlidXRlc1trZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnN0eWxlICYmIF90eXBlb2YoaHRtbEVsZW1lbnQuc3R5bGUpID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9rZXk3IGluIG9wdGlvbnMuc3R5bGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc3R5bGUuaGFzT3duUHJvcGVydHkoX2tleTcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sRWxlbWVudC5zdHlsZVtfa2V5N10gPSBvcHRpb25zLnN0eWxlW19rZXk3XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfa2V5OCBpbiBvcHRpb25zLnByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShfa2V5OCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbX2tleThdID0gb3B0aW9ucy5wcm9wZXJ0aWVzW19rZXk4XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBjcmVhdGVFbGVtZW50KHRhZ05hbWVPckRpdk9wdGlvbnMsIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciB0YWdOYW1lID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0YWdOYW1lT3JEaXZPcHRpb25zID09PSAnc3RyaW5nJykgdGFnTmFtZSA9IHRhZ05hbWVPckRpdk9wdGlvbnM7ZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFnTmFtZSA9ICdkaXYnO1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB0YWdOYW1lT3JEaXZPcHRpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZ05hbWUpO1xuICAgICAgICAgICAgYXBwbHlPcHRpb25zKGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50ID0gY3JlYXRlRWxlbWVudDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZXMgYW4gZWxlbWVudCB3aXRoIHRoZSBzcGVjaWZpZWQgdGV4dFxuICAgICAgICAgKiBAcGFyYW0gdGFnTmFtZSBUaGUgdGFnIG9mIHRoZSBlbGVtZW50IHRvIGNyZWF0ZVxuICAgICAgICAgKiBAcGFyYW0gdGV4dCBUaGUgdGV4dCB0byBhZGQgdG8gdGhlIGNyZWF0ZWQgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFdpdGhUZXh0KHRhZ05hbWUsIHRleHQpIHtcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVFbGVtZW50KHRhZ05hbWUsIHsgdGV4dDogdGV4dCB9KTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoVGV4dCA9IGNyZWF0ZUVsZW1lbnRXaXRoVGV4dDtcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFdpdGhDbGFzcyh0YWdOYW1lT3JDbGFzc05hbWUsIGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgdmFyIHRhZ05hbWUgPSB0YWdOYW1lT3JDbGFzc05hbWU7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGNsYXNzTmFtZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICB0YWdOYW1lID0gJ2Rpdic7XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gdGFnTmFtZU9yQ2xhc3NOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQodGFnTmFtZSwgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmNyZWF0ZUVsZW1lbnRXaXRoQ2xhc3MgPSBjcmVhdGVFbGVtZW50V2l0aENsYXNzO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlcyBhbiBlbGVtZW50IHdpdGggdGhlIHNwZWNpZmllZCBpZFxuICAgICAgICAgKiBAcGFyYW0gdGFnTmFtZSBUaGUgdGFnIG9mIHRoZSBlbGVtZW50IHRvIGNyZWF0ZVxuICAgICAgICAgKiBAcGFyYW0gaWQgVGhlIGlkIHRvIGFkZCB0byB0aGUgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlRWxlbWVudFdpdGhJRCh0YWdOYW1lLCBpZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUVsZW1lbnQodGFnTmFtZSwgeyBpZDogaWQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50V2l0aElEID0gY3JlYXRlRWxlbWVudFdpdGhJRDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIG5ldyB0ZXh0IGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIHRleHQgVGhlIHRleHQgdG8gY3JlYXRlIHRoZSB0ZXh0IGVsZW1lbnQgd2l0aFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlVGV4dEVsZW1lbnQodGV4dCkge1xuICAgICAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuY3JlYXRlVGV4dEVsZW1lbnQgPSBjcmVhdGVUZXh0RWxlbWVudDtcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQnV0dG9uKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50ID0gY3JlYXRlRWxlbWVudCgnYnV0dG9uJywgb3B0aW9ucyk7XG4gICAgICAgICAgICB2YXIgYnV0dG9uQ2xhc3NOYW1lID0gJ3JpZGVzdHlsZXItc2hvd2Nhc2UtYnV0dG9uJztcbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChidXR0b25DbGFzc05hbWUpO1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMubGFyZ2UpIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChidXR0b25DbGFzc05hbWUgKyAnLWxhcmdlJyk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5kaXNhYmxlZCkgZWxlbWVudC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5saW5rKSBlbGVtZW50LmNsYXNzTGlzdC5hZGQoYnV0dG9uQ2xhc3NOYW1lICsgJy1saW5rJyk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5za2lubnkpIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChidXR0b25DbGFzc05hbWUgKyAnLXNraW5ueScpO1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5jcmVhdGVCdXR0b24gPSBjcmVhdGVCdXR0b247XG4gICAgICAgIHZhciBpY29uQ2xhc3NQcmVmaXggPSAncmlkZXN0eWxlci1zaG93Y2FzZS1pY29uIHJpZGVzdHlsZXItc2hvd2Nhc2UtaWNvbi0nO1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVJY29uKGljb25Pck9wdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gdm9pZCAwO1xuICAgICAgICAgICAgLy8gU2V0dXAgb3B0aW9uc1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpY29uT3JPcHRpb25zID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgICAgICAgIGljb246IGljb25Pck9wdGlvbnNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRpb25zID0gaWNvbk9yT3B0aW9ucztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEJ1aWxkIGljb24gY2xhc3NOYW1lXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIGljb25DbGFzcyA9IG9wdGlvbnMuaWNvbjtcbiAgICAgICAgICAgICAgICBpZiAoIWljb25DbGFzcy5zdGFydHNXaXRoKGljb25DbGFzc1ByZWZpeCkpIGljb25DbGFzcyA9IGljb25DbGFzc1ByZWZpeCArIGljb25DbGFzcztcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMuY2xhc3NOYW1lID09PSAnc3RyaW5nJykgaWNvbkNsYXNzID0gb3B0aW9ucy5jbGFzc05hbWUgKyAnICcgKyBpY29uQ2xhc3M7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5jbGFzc05hbWUgPSBpY29uQ2xhc3M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY3JlYXRlRWxlbWVudCgnaScsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuY3JlYXRlSWNvbiA9IGNyZWF0ZUljb247XG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVNWR0VsZW1lbnQodGFnTmFtZSwgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgdGFnTmFtZSk7XG4gICAgICAgICAgICBhcHBseU9wdGlvbnMoZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmNyZWF0ZVNWR0VsZW1lbnQgPSBjcmVhdGVTVkdFbGVtZW50O1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVEZXNjcmlwdGlvbkxpc3QodmFsdWVzKSB7XG4gICAgICAgICAgICB2YXIgZGVzY3JpcHRpb25MaXN0ID0gSFRNTEhlbHBlci5jcmVhdGVFbGVtZW50KCdkbCcsIHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6ICdyaWRlc3R5bGVyLXNob3djYXNlLWRlc2NyaXB0aW9uLWxpc3QnLFxuICAgICAgICAgICAgICAgIGFwcGVuZFRvOiB0aGlzLnN1bW1hcnlFbGVtZW50XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh2YWx1ZXMpIGFwcGVuZERlc2NyaXB0aW9uTGlzdFZhbHVlcyhkZXNjcmlwdGlvbkxpc3QsIHZhbHVlcyk7XG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpcHRpb25MaXN0O1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIuY3JlYXRlRGVzY3JpcHRpb25MaXN0ID0gY3JlYXRlRGVzY3JpcHRpb25MaXN0O1xuICAgICAgICBmdW5jdGlvbiBhcHBlbmREZXNjcmlwdGlvbkxpc3RWYWx1ZXMoZGVzY3JpcHRpb25MaXN0LCB2YWx1ZXMpIHtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWU7XG4gICAgICAgICAgICB2YXIgX2RpZEl0ZXJhdG9yRXJyb3IzID0gZmFsc2U7XG4gICAgICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IzID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvcjMgPSB2YWx1ZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gX3N0ZXAzLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgICAgIEhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZHQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB2YWx1ZS5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBkZXNjcmlwdGlvbkxpc3RcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIEhUTUxIZWxwZXIuY3JlYXRlRWxlbWVudCgnZGQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiB2YWx1ZS5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZFRvOiBkZXNjcmlwdGlvbkxpc3RcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBfaXRlcmF0b3JFcnJvcjMgPSBlcnI7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgJiYgX2l0ZXJhdG9yMy5yZXR1cm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjMucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5hcHBlbmREZXNjcmlwdGlvbkxpc3RWYWx1ZXMgPSBhcHBlbmREZXNjcmlwdGlvbkxpc3RWYWx1ZXM7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmVzIGFsbCBjaGlsZHJlbiBmcm9tIGFuIGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnQgdG8gZW1wdHlcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGVtcHR5KGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZCA9IHZvaWQgMDtcbiAgICAgICAgICAgIHdoaWxlIChjaGlsZCA9IGVsZW1lbnQubGFzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVDaGlsZChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5lbXB0eSA9IGVtcHR5O1xuICAgICAgICBmdW5jdGlvbiBvbmNlKGVsZW1lbnQsIHR5cGUsIGxpc3RlbmVyLCB1c2VDYXB0dXJlKSB7XG4gICAgICAgICAgICB2YXIgb25jZUxpc3RlbmVyID0gZnVuY3Rpb24gb25jZUxpc3RlbmVyKGV2dCkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBvbmNlTGlzdGVuZXIsIHVzZUNhcHR1cmUpO1xuICAgICAgICAgICAgICAgIGlmICgodHlwZW9mIGxpc3RlbmVyID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihsaXN0ZW5lcikpID09PSAnb2JqZWN0JykgbGlzdGVuZXIgPSBsaXN0ZW5lci5oYW5kbGVFdmVudDtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGlzdGVuZXIuY2FsbCh0aGlzLCBldnQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBvbmNlTGlzdGVuZXIsIHVzZUNhcHR1cmUpO1xuICAgICAgICB9XG4gICAgICAgIEhUTUxIZWxwZXIub25jZSA9IG9uY2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSBkb2N1bWVudCB0aGF0IHRoZSBlbGVtZW50IGlzIGEgcGFydCBvZiAoaWYgdGhlcmUgaXMgb25lKVxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0RG9jdW1lbnQoZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQub3duZXJEb2N1bWVudDtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLmdldERvY3VtZW50ID0gZ2V0RG9jdW1lbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRoZSB3aW5kb3cgdGhhdCB0aGUgZWxlbWVudCBpcyBhIHBhcnQgb2YgKGlmIHRoZXJlIGlzIG9uZSlcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldFdpbmRvdyhlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0RG9jdW1lbnQoZWxlbWVudCkuZGVmYXVsdFZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgSFRNTEhlbHBlci5nZXRXaW5kb3cgPSBnZXRXaW5kb3c7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBjb250ZW50IG9mIGFuIGVsZW1lbnQgdG8gYSBzdHJpbmdcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIHRleHQgVGhlIHRleHRcbiAgICAgICAgICogQHJldHVybnMgVGhlIGVsZW1lbnQgdGhhdCB3YXMgcGFzc2VkIGluXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBzZXRUZXh0KGVsZW1lbnQsIHRleHQpIHtcbiAgICAgICAgICAgIGVtcHR5KGVsZW1lbnQpO1xuICAgICAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0ZXh0KSk7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBIVE1MSGVscGVyLnNldFRleHQgPSBzZXRUZXh0O1xuICAgIH0pKEhUTUxIZWxwZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuSFRNTEhlbHBlciB8fCAoUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBOdW1iZXJIZWxwZXI7XG4gICAgKGZ1bmN0aW9uIChOdW1iZXJIZWxwZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIG51bWJlciBib3VuZGVkIHRvIGEgcmFuZ2VcbiAgICAgICAgICogQHBhcmFtIG51bWJlciBUaGUgbnVtYmVyIHRvIGJvdW5kXG4gICAgICAgICAqIEBwYXJhbSBtaW4gVGhlIG1pbmltdW0gYWxsb3dhYmxlIG51bWJlclxuICAgICAgICAgKiBAcGFyYW0gbWF4IFRoZSBtYXhpbXVtIGFsbG93YWJsZSBudW1iZXJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGJvdW5kKG51bWJlciwgbWluLCBtYXgpIHtcbiAgICAgICAgICAgIHJldHVybiBudW1iZXIgPCBtaW4gPyBtaW4gOiBudW1iZXIgPiBtYXggPyBtYXggOiBudW1iZXI7XG4gICAgICAgIH1cbiAgICAgICAgTnVtYmVySGVscGVyLmJvdW5kID0gYm91bmQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHRlbmQgYSBudW1iZXIgcmFuZ2Ugd2l0aCBhIG51bWJlclxuICAgICAgICAgKiBAcGFyYW0gbnVtYmVyIFRoZSBudW1iZXIgdG8gZXh0ZW5kIHRoZSByYW5nZSB3aXRoXG4gICAgICAgICAqIEBwYXJhbSByYW5nZSBUaGUgcmFuZ2UgdG8gZXh0ZW5kXG4gICAgICAgICAqXG4gICAgICAgICAqIEByZXR1cm5zIFRoZSByYW5nZSBvYmplY3QgdGhhdCB3YXMgcGFzc2VkIGluIGV4dGVuZGVkIGJ5IHRoZSBudW1iZXJcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGV4dGVuZFJhbmdlKG51bWJlciwgcmFuZ2UpIHtcbiAgICAgICAgICAgIGlmICghcmFuZ2UpIHJhbmdlID0ge1xuICAgICAgICAgICAgICAgIG1pbjogSW5maW5pdHksXG4gICAgICAgICAgICAgICAgbWF4OiAtSW5maW5pdHlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAobnVtYmVyIDwgcmFuZ2UubWluKSByYW5nZS5taW4gPSBudW1iZXI7XG4gICAgICAgICAgICBpZiAobnVtYmVyID4gcmFuZ2UubWF4KSByYW5nZS5tYXggPSBudW1iZXI7XG4gICAgICAgICAgICByZXR1cm4gcmFuZ2U7XG4gICAgICAgIH1cbiAgICAgICAgTnVtYmVySGVscGVyLmV4dGVuZFJhbmdlID0gZXh0ZW5kUmFuZ2U7XG4gICAgfSkoTnVtYmVySGVscGVyID0gUmlkZVN0eWxlclNob3djYXNlLk51bWJlckhlbHBlciB8fCAoUmlkZVN0eWxlclNob3djYXNlLk51bWJlckhlbHBlciA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIE9iamVjdEhlbHBlciA9IHZvaWQgMDtcbiAgICAoZnVuY3Rpb24gKE9iamVjdEhlbHBlcikge1xuICAgICAgICBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0KSB7XG4gICAgICAgICAgICBpZiAodGFyZ2V0ID09IG51bGwpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY29udmVydCB1bmRlZmluZWQgb3IgbnVsbCB0byBvYmplY3RcIik7XG4gICAgICAgICAgICB2YXIgdG8gPSBPYmplY3QodGFyZ2V0KTtcblxuICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFzc2lnbk9iamVjdHMgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICAgICAgYXNzaWduT2JqZWN0c1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IGFzc2lnbk9iamVjdHNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIXNvdXJjZSkgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB0b1trZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfaXRlcmF0b3IucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gdG87XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0SGVscGVyLmFzc2lnbiA9IGFzc2lnbjtcbiAgICAgICAgZnVuY3Rpb24gY29weSh0YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBhc3NpZ24oe30sIHRhcmdldCk7XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0SGVscGVyLmNvcHkgPSBjb3B5O1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhbGwgb2YgdGhlIGtleXMgZm9yIG93biBwcm9wZXJ0aWVzIG9uIGFuIG9iamVjdFxuICAgICAgICAgKiBAcGFyYW0gdGFyZ2V0IFRoZSBvYmplY3RcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGdldEtleXModGFyZ2V0KSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuaGFzT3duUHJvcGVydHkoa2V5KSkga2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICB9cmV0dXJuIGtleXM7XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0SGVscGVyLmdldEtleXMgPSBnZXRLZXlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhbGwgb2YgdGhlIHZhbHVlcyBmb3Igb3duIHByb3BlcnRpZXMgb24gYW4gb2JqZWN0XG4gICAgICAgICAqIEBwYXJhbSB0YXJnZXQgVGhlIG9iamVjdFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0VmFsdWVzKHRhcmdldCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHRhcmdldCkge1xuICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuaGFzT3duUHJvcGVydHkoa2V5KSkgdmFsdWVzLnB1c2godGFyZ2V0W2tleV0pO1xuICAgICAgICAgICAgfXJldHVybiB2YWx1ZXM7XG4gICAgICAgIH1cbiAgICAgICAgT2JqZWN0SGVscGVyLmdldFZhbHVlcyA9IGdldFZhbHVlcztcbiAgICB9KShPYmplY3RIZWxwZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UuT2JqZWN0SGVscGVyID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBQcm9taXNlSGVscGVyO1xuICAgIChmdW5jdGlvbiAoUHJvbWlzZUhlbHBlcikge1xuICAgICAgICBmdW5jdGlvbiBhbGwocHJvbWlzZXMpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICAgICAgICB2YXIgbWVyZ2VkID0gUmlkZVN0eWxlclNob3djYXNlLkFycmF5SGVscGVyLnJlZHVjZShwcm9taXNlcywgZnVuY3Rpb24gKGFjY3VtdWxhdG9yLCBjdXJyZW50UHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGVuKHRoZW4oYWNjdW11bGF0b3IsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRQcm9taXNlO1xuICAgICAgICAgICAgICAgIH0pLCBmdW5jdGlvbiAocikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cy5wdXNoKHIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSwgcmVzb2x2ZWQobnVsbCkpO1xuICAgICAgICAgICAgUHJvbWlzZS5hbGw7XG4gICAgICAgICAgICByZXR1cm4gdGhlbihtZXJnZWQsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIFByb21pc2VIZWxwZXIuYWxsID0gYWxsO1xuICAgICAgICAvKipcbiAgICAgICAgKiBBdHRhY2hlcyBjYWxsYmFja3MgZm9yIHRoZSByZXNvbHV0aW9uIGFuZC9vciByZWplY3Rpb24gb2YgdGhlIFByb21pc2UuXG4gICAgICAgICogQHBhcmFtIG9uZnVsZmlsbGVkIFRoZSBjYWxsYmFjayB0byBleGVjdXRlIHdoZW4gdGhlIFByb21pc2UgaXMgcmVzb2x2ZWQuXG4gICAgICAgICogQHBhcmFtIG9ucmVqZWN0ZWQgVGhlIGNhbGxiYWNrIHRvIGV4ZWN1dGUgd2hlbiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZC5cbiAgICAgICAgKiBAcmV0dXJucyBBIFByb21pc2UgZm9yIHRoZSBjb21wbGV0aW9uIG9mIHdoaWNoIGV2ZXIgY2FsbGJhY2sgaXMgZXhlY3V0ZWQuXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIHRoZW4ocHJvbWlzZSwgb25mdWxmaWxsZWQsIG9ucmVqZWN0ZWQpIHtcbiAgICAgICAgICAgIHZhciByZXR1cm5Qcm9taXNlID0gcmlkZXN0eWxlci5wcm9taXNlKCk7XG4gICAgICAgICAgICBwcm9taXNlLmRvbmUoZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb25mdWxmaWxsZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG9uZnVsZmlsbGVkUmVzdWx0ID0gb25mdWxmaWxsZWQocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzUHJvbWlzZShvbmZ1bGZpbGxlZFJlc3VsdCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc29sdmUgdGhlIHByb21pc2Ugd2hlbiB0aGUgcmV0dXJuZWQgcHJvbWlzZSBpcyByZXNvbHZlZFxuICAgICAgICAgICAgICAgICAgICAgICAgb25mdWxmaWxsZWRSZXN1bHQuZG9uZShmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblByb21pc2UucmVqZWN0KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlc29sdmUgdGhlIHByb21pc2Ugd2l0aCB0aGUgcmV0dXJuZWQgdmFsdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblByb21pc2UucmVzb2x2ZShvbmZ1bGZpbGxlZFJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5Qcm9taXNlLnJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHByb21pc2UuZmFpbChmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvbnJlamVjdGVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBvbnJlamVjdGVkUmVzdWx0ID0gb25yZWplY3RlZChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNQcm9taXNlKG9ucmVqZWN0ZWRSZXN1bHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBSZXNvbHZlIHRoZSBwcm9taXNlIHdoZW4gdGhlIHJldHVybmVkIHByb21pc2UgaXMgcmVzb2x2ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ucmVqZWN0ZWRSZXN1bHQuZG9uZShmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkuZmFpbChmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldHVyblByb21pc2UucmVqZWN0KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblByb21pc2UucmVzb2x2ZShvbnJlamVjdGVkUmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblByb21pc2UucmVqZWN0KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcmV0dXJuUHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBQcm9taXNlSGVscGVyLnRoZW4gPSB0aGVuO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJucyBhIG5ldyByZXNvbHZlZCBwcm9taXNlIHdpdGggYW4gb3B0aW9uYWwgdmFsdWVcbiAgICAgICAgICogQHBhcmFtIHZhbHVlIE9wdGlvbmFsbHksIGEgdmFsdWUgdG8gcmVzb2x2ZSB0aGUgcHJvbWlzZSB3aXRoXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiByZXNvbHZlZCh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHByb21pc2UgPSByaWRlc3R5bGVyLnByb21pc2UoKTtcbiAgICAgICAgICAgIHByb21pc2UucmVzb2x2ZSh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBQcm9taXNlSGVscGVyLnJlc29sdmVkID0gcmVzb2x2ZWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUZXN0cyBhbiBvYmplY3QgZm9yIGEgUmlkZXN0eWxlclByb21pc2UtbGlrZSBpbnRlcmZhY2UsIHRlc3RpbmcgZm9yXG4gICAgICAgICAqIGRvbmUsIGZhaWwgYW5kIGFsd2F5cyBmdW5jdGlvbnMuXG4gICAgICAgICAqIEBwYXJhbSBvIFRoZSBvYmplY3QgdG8gdGVzdFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gaXNQcm9taXNlKG8pIHtcbiAgICAgICAgICAgIHJldHVybiAodHlwZW9mIG8gPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG8pKSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG8uZG9uZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygby5mYWlsID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBvLmFsd2F5cyA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgICAgfVxuICAgICAgICBQcm9taXNlSGVscGVyLmlzUHJvbWlzZSA9IGlzUHJvbWlzZTtcbiAgICB9KShQcm9taXNlSGVscGVyID0gUmlkZVN0eWxlclNob3djYXNlLlByb21pc2VIZWxwZXIgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5Qcm9taXNlSGVscGVyID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgU2Nyb2xsSGVscGVyO1xuICAgIChmdW5jdGlvbiAoU2Nyb2xsSGVscGVyKSB7XG4gICAgICAgIHZhciBzY3JvbGxFdmVudCA9IHZvaWQgMDtcbiAgICAgICAgdmFyIG1vdXNld2hlZWxFdmVudFNjYWxlID0gLTEgLyA0MDtcbiAgICAgICAge1xuICAgICAgICAgICAgdmFyIHRlc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBzY3JvbGxFdmVudCA9ICdvbndoZWVsJyBpbiB0ZXN0RWxlbWVudCA/ICd3aGVlbCcgOiAvLyBNb2Rlcm4gYnJvd2VycyBzdXBwb3J0IFwid2hlZWxcIlxuICAgICAgICAgICAgZG9jdW1lbnQub25tb3VzZXdoZWVsICE9PSB1bmRlZmluZWQgPyAnbW91c2V3aGVlbCcgOiAvLyBXZWJraXQgYW5kIElFIHN1cHBvcnQgYXQgbGVhc3QgXCJtb3VzZXdoZWVsXCJcbiAgICAgICAgICAgICdNb3pNb3VzZVBpeGVsU2Nyb2xsJzsgLy8gb2xkZXIgRmlyZWZveFxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGF0dGFjaFdoZWVsTGlzdGVuZXIoZWxlbWVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIGlmIChzY3JvbGxFdmVudCA9PT0gJ3doZWVsJykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2hlZWwnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWRFdmVudCA9IFJpZGVTdHlsZXJTaG93Y2FzZS5PYmplY3RIZWxwZXIuYXNzaWduKGV2ZW50LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpc3RlbmVyKG5vcm1hbGl6ZWRFdmVudCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKHNjcm9sbEV2ZW50LCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWV2ZW50KSBldmVudCA9IHdpbmRvdy5ldmVudDtcbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsaXplZEV2ZW50ID0ge1xuICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50OiBldmVudCxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiBldmVudC50YXJnZXQgfHwgZXZlbnQuc3JjRWxlbWVudCxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3doZWVsJyxcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFNb2RlOiBldmVudC50eXBlID09PSAnTW96TW91c2VQaXhlbFNjcm9sbCcgPyAwIDogMSxcbiAgICAgICAgICAgICAgICAgICAgZGVsdGFYOiAwLFxuICAgICAgICAgICAgICAgICAgICBkZWx0YVk6IDAsXG4gICAgICAgICAgICAgICAgICAgIGRlbHRhWjogMCxcbiAgICAgICAgICAgICAgICAgICAgcHJldmVudERlZmF1bHQ6IGZ1bmN0aW9uIHByZXZlbnREZWZhdWx0KCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBldmVudC5wcmV2ZW50RGVmYXVsdCA9PT0gJ2Z1bmN0aW9uJykgZXZlbnQucHJldmVudERlZmF1bHQoKTtlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudC5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsRXZlbnQgPT09ICdtb3VzZXdoZWVsJykge1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxpemVkRXZlbnQuZGVsdGFZID0gbW91c2V3aGVlbEV2ZW50U2NhbGUgKiBldmVudC53aGVlbERlbHRhO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQud2hlZWxEZWx0YVgpIG5vcm1hbGl6ZWRFdmVudC5kZWx0YVggPSBtb3VzZXdoZWVsRXZlbnRTY2FsZSAqIGV2ZW50LndoZWVsRGVsdGFYO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbGl6ZWRFdmVudC5kZWx0YVkgPSBldmVudC5kZXRhaWw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBsaXN0ZW5lcihub3JtYWxpemVkRXZlbnQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgU2Nyb2xsSGVscGVyLmF0dGFjaFdoZWVsTGlzdGVuZXIgPSBhdHRhY2hXaGVlbExpc3RlbmVyO1xuICAgIH0pKFNjcm9sbEhlbHBlciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5TY3JvbGxIZWxwZXIgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5TY3JvbGxIZWxwZXIgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBTdHJpbmdIZWxwZXI7XG4gICAgKGZ1bmN0aW9uIChTdHJpbmdIZWxwZXIpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHVybnMgdGhlIGZpcnN0IHdvcmQgb2YgdGhlIHNwZWNpZmllZCBzdHJpbmdcbiAgICAgICAgICogQHBhcmFtIHN0cmluZyBUaGUgc3RyaW5nIHRvIGdldCB0aGUgZmlyc3Qgd29yZCBvZlxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0Rmlyc3RXb3JkKHN0cmluZykge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZy50cmltKCkuc3Vic3RyKDAsIHN0cmluZy5pbmRleE9mKCcgJykpO1xuICAgICAgICB9XG4gICAgICAgIFN0cmluZ0hlbHBlci5nZXRGaXJzdFdvcmQgPSBnZXRGaXJzdFdvcmQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHNlcXVlbmNlIG9mIGVsZW1lbnRzIG9mIHNlYXJjaFN0cmluZyBjb252ZXJ0ZWQgdG8gYSBTdHJpbmcgaXMgdGhlXG4gICAgICAgICAqIHNhbWUgYXMgdGhlIGNvcnJlc3BvbmRpbmcgZWxlbWVudHMgb2YgdGhpcyBvYmplY3QgKGNvbnZlcnRlZCB0byBhIFN0cmluZykgc3RhcnRpbmcgYXRcbiAgICAgICAgICogZW5kUG9zaXRpb24g4oCTIGxlbmd0aCh0aGlzKS4gT3RoZXJ3aXNlIHJldHVybnMgZmFsc2UuXG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIGVuZGluZywgaW5kZXgpIHtcbiAgICAgICAgICAgIGlmICghKGluZGV4IDwgdGhpcy5sZW5ndGgpKSBpbmRleCA9IHRoaXMubGVuZ3RoO2Vsc2UgaW5kZXggfD0gMDtcbiAgICAgICAgICAgIHZhciBlbmRpbmdMZW5ndGggPSBlbmRpbmcubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIHN0cmluZy5zdWJzdHIoaW5kZXggLSBlbmRpbmdMZW5ndGgsIGVuZGluZ0xlbmd0aCkgPT09IGVuZGluZztcbiAgICAgICAgfVxuICAgICAgICBTdHJpbmdIZWxwZXIuZW5kc1dpdGggPSBlbmRzV2l0aDtcbiAgICAgICAgZnVuY3Rpb24gZXNjYXBlUmVnRXhwKHN0cmluZykge1xuICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgXG4gICAgICAgICAgICAgKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgdmFyIHJlUmVnRXhwQ2hhciA9IC9bXFxcXF4kLiorPygpW1xcXXt9fF0vZztcbiAgICAgICAgICAgIHZhciByZUhhc1JlZ0V4cENoYXIgPSBSZWdFeHAocmVSZWdFeHBDaGFyLnNvdXJjZSk7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5nICYmIHJlSGFzUmVnRXhwQ2hhci50ZXN0KHN0cmluZykgPyBzdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKSA6IHN0cmluZztcbiAgICAgICAgfVxuICAgICAgICBTdHJpbmdIZWxwZXIuZXNjYXBlUmVnRXhwID0gZXNjYXBlUmVnRXhwO1xuICAgIH0pKFN0cmluZ0hlbHBlciA9IFJpZGVTdHlsZXJTaG93Y2FzZS5TdHJpbmdIZWxwZXIgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5TdHJpbmdIZWxwZXIgPSB7fSkpO1xufSkoUmlkZVN0eWxlclNob3djYXNlIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2UgPSB7fSkpOyIsInZhciBSaWRlU3R5bGVyU2hvd2Nhc2U7XG4oZnVuY3Rpb24gKFJpZGVTdHlsZXJTaG93Y2FzZSkge1xuICAgIHZhciBTdHlsZUhlbHBlcjtcbiAgICAoZnVuY3Rpb24gKFN0eWxlSGVscGVyKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlLCB0aGUgd2luZG93LmdldENvbXB1dGVkU3R5bGUgaXMgYXZhaWxhYmxlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgaGFzR2V0Q29tcHV0ZWRTdHlsZSA9ICdnZXRDb21wdXRlZFN0eWxlJyBpbiB3aW5kb3c7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiB0cnVlLCBIVE1MRWxlbWVudC5jdXJyZW50U3R5bGUgaXMgYXZhaWxhYmxlXG4gICAgICAgICAqL1xuICAgICAgICB2YXIgaGFzQ3VycmVudFN0eWxlU3VwcG9ydCA9IGZhbHNlO1xuICAgICAgICAvLyBUZXN0IGZvciBzdXBwb3J0IG9uIGVsZW1lbnQgcHJvcGVydGllc1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRlc3RFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBoYXNDdXJyZW50U3R5bGVTdXBwb3J0ID0gJ2N1cnJlbnRTdHlsZScgaW4gdGVzdEVsZW1lbnQ7XG4gICAgICAgICAgICBTdHlsZUhlbHBlci50cmFuc2l0aW9uRW5kRXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgLy8gVHJhbnNpdGlvbiBldmVudCBtYXBwaW5nXG4gICAgICAgICAgICAgICAgdmFyIHRyYW5zaXRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAndHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJyxcbiAgICAgICAgICAgICAgICAgICAgJ1dlYmtpdFRyYW5zaXRpb24nOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgICAgICAgICAgICAgICAgICdNb3pUcmFuc2l0aW9uJzogJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgICAgICAgICAgICAgICAnT1RyYW5zaXRpb24nOiAnb1RyYW5zaXRpb25FbmQnXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrIGluIHRyYW5zaXRpb25zKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChrIGluIHRlc3RFbGVtZW50LnN0eWxlKSByZXR1cm4gdHJhbnNpdGlvbnNba107XG4gICAgICAgICAgICAgICAgfXJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9KCk7XG4gICAgICAgICAgICBTdHlsZUhlbHBlci50cmFuc2l0aW9uc1N1cHBvcnRlZCA9ICEhU3R5bGVIZWxwZXIudHJhbnNpdGlvbkVuZEV2ZW50O1xuICAgICAgICB9KSgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgZmFsc2UsIHRoaXMgaXMgbm90IGEgdG91Y2ggZGV2aWNlXG4gICAgICAgICAqL1xuICAgICAgICBTdHlsZUhlbHBlci5pc1RvdWNoRGV2aWNlID0gJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZiBmYWxzZSwgU1ZHcyBhcmUgbm90IHN1cHBvcnRlZCBieSB0aGUgYnJvd3NlclxuICAgICAgICAgKi9cbiAgICAgICAgU3R5bGVIZWxwZXIuc3ZnU3VwcG9ydGVkID0gISFkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMgJiYgISFkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3N2ZycpLmNyZWF0ZVNWR1JlY3Q7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIGN1cnJlbnQgY29tcHV0ZWQgc3R5bGUgb2YgYW4gZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KSB7XG4gICAgICAgICAgICBpZiAoaGFzR2V0Q29tcHV0ZWRTdHlsZSkgcmV0dXJuIHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xuICAgICAgICAgICAgaWYgKGhhc0N1cnJlbnRTdHlsZVN1cHBvcnQgJiYgZWxlbWVudFsnY3VycmVudFN0eWxlJ10gIT09IG51bGwpIHJldHVybiBlbGVtZW50WydjdXJyZW50U3R5bGUnXTtcbiAgICAgICAgICAgIHRocm93IFwiVW5hYmxlIHRvIGdldCBjb21wdXRlZCBzdHlsZVwiO1xuICAgICAgICB9XG4gICAgICAgIFN0eWxlSGVscGVyLmdldENvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlO1xuICAgICAgICB2YXIgb2Zmc2V0UG9zaXRpb25pbmdzID0gWydhYnNvbHV0ZScsICdyZWxhdGl2ZScsICdmaXhlZCddO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZWN0cyB3aGV0aGVyIG9yIG5vdCBhYnNvbHV0ZS9yZWxhdGl2ZS9maXhlZCBwb3NpdGlvbmluZyBpcyBlbmFibGVkIG9uIGFuIGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGlzT2Zmc2V0UG9zaXRpb25lZChlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBlbGVtZW50LnN0eWxlLnBvc2l0aW9uO1xuICAgICAgICAgICAgaWYgKCFwb3NpdGlvbikgcG9zaXRpb24gPSBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uO1xuICAgICAgICAgICAgLy8gSWYgd2Ugc3RpbGwgZG9uJ3QgaGF2ZSBhIHBvc2l0aW9uIGF0IHRoaXMgcG9pbnQgaXQncyBub3Qgb2Zmc2V0IHBvc2l0aW9uZWRcbiAgICAgICAgICAgIGlmICghcG9zaXRpb24pIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50IGlzIG9mZnNldCBwb3NpdGlvbmVkIGlmIGl0cyBvbmUgb2YgdGhlIGFib3ZlIGxpc3RcbiAgICAgICAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvckVycm9yID0gdW5kZWZpbmVkO1xuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IG9mZnNldFBvc2l0aW9uaW5nc1tTeW1ib2wuaXRlcmF0b3JdKCksIF9zdGVwOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSAoX3N0ZXAgPSBfaXRlcmF0b3IubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvc2l0aW9uaW5nID0gX3N0ZXAudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSBwb3NpdGlvbmluZykgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIFN0eWxlSGVscGVyLmlzT2Zmc2V0UG9zaXRpb25lZCA9IGlzT2Zmc2V0UG9zaXRpb25lZDtcbiAgICAgICAgZnVuY3Rpb24gZmxhdHRlbkNsYXNzTGlzdCgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBjbGFzc2VzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICAgICAgY2xhc3Nlc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIFJpZGVTdHlsZXJTaG93Y2FzZS5BcnJheUhlbHBlci5yZWR1Y2UoY2xhc3NlcywgZnVuY3Rpb24gKGNsYXNzTGlzdCwgY2xhc3NOYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1YmNsYXNzTGlzdCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNsYXNzTmFtZSA9PT0gJ3N0cmluZycpIHN1YmNsYXNzTGlzdCA9IFtjbGFzc05hbWVdO2Vsc2Ugc3ViY2xhc3NMaXN0ID0gY2xhc3NOYW1lO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgdmFyIF9kaWRJdGVyYXRvckVycm9yMiA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjIgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IyID0gc3ViY2xhc3NMaXN0W1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXAyOyAhKF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24yID0gKF9zdGVwMiA9IF9pdGVyYXRvcjIubmV4dCgpKS5kb25lKTsgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjIgPSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NMaXN0ID0gY2xhc3NMaXN0LmNvbmNhdChjLnNwbGl0KC9cXHMrLykpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIF9kaWRJdGVyYXRvckVycm9yMiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMiA9IGVycjtcbiAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMiAmJiBfaXRlcmF0b3IyLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIucmV0dXJuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX2RpZEl0ZXJhdG9yRXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgX2l0ZXJhdG9yRXJyb3IyO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNsYXNzTGlzdDtcbiAgICAgICAgICAgIH0sIFtdKTtcbiAgICAgICAgfVxuICAgICAgICBTdHlsZUhlbHBlci5mbGF0dGVuQ2xhc3NMaXN0ID0gZmxhdHRlbkNsYXNzTGlzdDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhdXNlcyB0aGUgYnJvd3NlciB0byByZWNhbGN1bGF0ZSB0aGUgc3R5bGVzIG9mIHRoZSBzcGVjaWZpZWQgZWxlbWVudFxuICAgICAgICAgKiBAcGFyYW0gZWxlbWVudCBUaGUgZWxlbWVudFxuICAgICAgICAgKi9cbiAgICAgICAgZnVuY3Rpb24gdHJpZ2dlclJlZmxvdyhlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50Lm9mZnNldEhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBTdHlsZUhlbHBlci50cmlnZ2VyUmVmbG93ID0gdHJpZ2dlclJlZmxvdztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNraXAgYSB0cmFuc2l0aW9uIG9uIGFuIGVsZW1lbnQgcHJlZm9ybWVkIGJ5IGEgY2FsbGJhY2sgZnVuY3Rpb25cbiAgICAgICAgICogQHBhcmFtIGVsZW1lbnQgVGhlIGVsZW1lbnRcbiAgICAgICAgICogQHBhcmFtIGNhbGxiYWNrIEEgZnVuY3Rpb24gdG8gcnVuIGNhdXNpbmcgYSB0cmFuc2l0aW9uIHRvIGJlIGZpcmVkIG9uIHRoZSBlbGVtZW50XG4gICAgICAgICAqL1xuICAgICAgICBmdW5jdGlvbiBza2lwVHJhbnNpdGlvbihlbGVtZW50LCBjYWxsYmFjaykge1xuICAgICAgICAgICAgaWYgKCFTdHlsZUhlbHBlci50cmFuc2l0aW9uc1N1cHBvcnRlZCkgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgICAgICAgICB2YXIgb2xkVHJhbnNpdGlvbiA9IGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbjtcbiAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbiA9ICdub25lJztcbiAgICAgICAgICAgIGNhbGxiYWNrLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB0cmlnZ2VyUmVmbG93KGVsZW1lbnQpO1xuICAgICAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2l0aW9uID0gb2xkVHJhbnNpdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBTdHlsZUhlbHBlci5za2lwVHJhbnNpdGlvbiA9IHNraXBUcmFuc2l0aW9uO1xuICAgICAgICBmdW5jdGlvbiBvbk5leHRUcmFuc2l0aW9uRW5kKGVsZW1lbnQsIGxpc3RlbmVyKSB7XG4gICAgICAgICAgICByZXR1cm4gUmlkZVN0eWxlclNob3djYXNlLkhUTUxIZWxwZXIub25jZShlbGVtZW50LCBTdHlsZUhlbHBlci50cmFuc2l0aW9uRW5kRXZlbnQsIGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgICBTdHlsZUhlbHBlci5vbk5leHRUcmFuc2l0aW9uRW5kID0gb25OZXh0VHJhbnNpdGlvbkVuZDtcbiAgICAgICAgZnVuY3Rpb24gaGFzQ2xhc3NlcyhlbGVtZW50LCBjbGFzc0FycmF5KSB7XG4gICAgICAgICAgICB2YXIgY2xhc3NlcyA9IHZvaWQgMDtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgY2xhc3NBcnJheSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfbGVuMiA9IGFyZ3VtZW50cy5sZW5ndGgsIGNsYXNzTGlzdCA9IEFycmF5KF9sZW4yID4gMiA/IF9sZW4yIC0gMiA6IDApLCBfa2V5MiA9IDI7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NMaXN0W19rZXkyIC0gMl0gPSBhcmd1bWVudHNbX2tleTJdO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBjbGFzc0xpc3QgfHwgW107XG4gICAgICAgICAgICAgICAgY2xhc3Nlcy5wdXNoKGNsYXNzQXJyYXkpO1xuICAgICAgICAgICAgfSBlbHNlIGNsYXNzZXMgPSBjbGFzc0FycmF5O1xuICAgICAgICAgICAgdmFyIF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24zID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvcjMgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBfaXRlcmF0b3JFcnJvcjMgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMyA9IGNsYXNzZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDM7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbjMgPSAoX3N0ZXAzID0gX2l0ZXJhdG9yMy5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyA9IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IF9zdGVwMy52YWx1ZTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIWVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfZGlkSXRlcmF0b3JFcnJvcjMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF9pdGVyYXRvckVycm9yMyA9IGVycjtcbiAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uMyAmJiBfaXRlcmF0b3IzLnJldHVybikge1xuICAgICAgICAgICAgICAgICAgICAgICAgX2l0ZXJhdG9yMy5yZXR1cm4oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcjMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yMztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgU3R5bGVIZWxwZXIuaGFzQ2xhc3NlcyA9IGhhc0NsYXNzZXM7XG4gICAgICAgIGZ1bmN0aW9uIHBhcnNlUGl4ZWxzKHBpeGVscykge1xuICAgICAgICAgICAgaWYgKCFSaWRlU3R5bGVyU2hvd2Nhc2UuU3RyaW5nSGVscGVyLmVuZHNXaXRoKHBpeGVscywgJ3B4JykpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQocGl4ZWxzKTtcbiAgICAgICAgfVxuICAgICAgICBTdHlsZUhlbHBlci5wYXJzZVBpeGVscyA9IHBhcnNlUGl4ZWxzO1xuICAgICAgICBmdW5jdGlvbiBjYWxjdWxhdGVQYWRkaW5nKGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBfZ2V0Q29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWxlbWVudCksXG4gICAgICAgICAgICAgICAgcGFkZGluZ0JvdHRvbSA9IF9nZXRDb21wdXRlZFN0eWxlLnBhZGRpbmdCb3R0b20sXG4gICAgICAgICAgICAgICAgcGFkZGluZ1RvcCA9IF9nZXRDb21wdXRlZFN0eWxlLnBhZGRpbmdUb3AsXG4gICAgICAgICAgICAgICAgcGFkZGluZ0xlZnQgPSBfZ2V0Q29tcHV0ZWRTdHlsZS5wYWRkaW5nTGVmdCxcbiAgICAgICAgICAgICAgICBwYWRkaW5nUmlnaHQgPSBfZ2V0Q29tcHV0ZWRTdHlsZS5wYWRkaW5nUmlnaHQ7XG5cbiAgICAgICAgICAgIHZhciB3aWR0aCA9IHBhcnNlUGl4ZWxzKHBhZGRpbmdMZWZ0KSArIHBhcnNlUGl4ZWxzKHBhZGRpbmdSaWdodCk7XG4gICAgICAgICAgICB2YXIgaGVpZ2h0ID0gcGFyc2VQaXhlbHMocGFkZGluZ1RvcCkgKyBwYXJzZVBpeGVscyhwYWRkaW5nQm90dG9tKTtcbiAgICAgICAgICAgIGlmIChpc05hTih3aWR0aCkpIHdpZHRoID0gMDtcbiAgICAgICAgICAgIGlmIChpc05hTihoZWlnaHQpKSBoZWlnaHQgPSAwO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgU3R5bGVIZWxwZXIuY2FsY3VsYXRlUGFkZGluZyA9IGNhbGN1bGF0ZVBhZGRpbmc7XG4gICAgfSkoU3R5bGVIZWxwZXIgPSBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlciA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7IiwidmFyIFJpZGVTdHlsZXJTaG93Y2FzZTtcbihmdW5jdGlvbiAoUmlkZVN0eWxlclNob3djYXNlKSB7XG4gICAgdmFyIFZpc2liaWxpdHlIZWxwZXI7XG4gICAgKGZ1bmN0aW9uIChWaXNpYmlsaXR5SGVscGVyKSB7XG4gICAgICAgIHZhciBkZWZhdWx0VHJhbnNpdGlvbkluQ2xhc3MgPSAnaW4nO1xuICAgICAgICBmdW5jdGlvbiBzaG93KGVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciB0cmFuc2l0aW9uQ2xhc3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGRlZmF1bHRUcmFuc2l0aW9uSW5DbGFzcztcblxuICAgICAgICAgICAgc2V0VmlzaWJpbGl0eShlbGVtZW50LCB0cnVlKTtcbiAgICAgICAgICAgIFJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci50cmlnZ2VyUmVmbG93KGVsZW1lbnQpO1xuICAgICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKHRyYW5zaXRpb25DbGFzcyk7XG4gICAgICAgICAgICB2YXIgcHJvbWlzZSA9IHJpZGVzdHlsZXIucHJvbWlzZSgpO1xuICAgICAgICAgICAgaWYgKCFSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIudHJhbnNpdGlvbnNTdXBwb3J0ZWQpIHByb21pc2UucmVzb2x2ZSgpO2Vsc2UgUmlkZVN0eWxlclNob3djYXNlLlN0eWxlSGVscGVyLm9uTmV4dFRyYW5zaXRpb25FbmQoZWxlbWVudCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH1cbiAgICAgICAgVmlzaWJpbGl0eUhlbHBlci5zaG93ID0gc2hvdztcbiAgICAgICAgZnVuY3Rpb24gaGlkZShlbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgdHJhbnNpdGlvbkNsYXNzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBkZWZhdWx0VHJhbnNpdGlvbkluQ2xhc3M7XG5cbiAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0cmFuc2l0aW9uQ2xhc3MpO1xuICAgICAgICAgICAgdmFyIHByb21pc2UgPSByaWRlc3R5bGVyLnByb21pc2UoKTtcbiAgICAgICAgICAgIHByb21pc2UuZG9uZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldFZpc2liaWxpdHkoZWxlbWVudCwgZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoIVJpZGVTdHlsZXJTaG93Y2FzZS5TdHlsZUhlbHBlci50cmFuc2l0aW9uc1N1cHBvcnRlZCkgcHJvbWlzZS5yZXNvbHZlKCk7ZWxzZSBSaWRlU3R5bGVyU2hvd2Nhc2UuU3R5bGVIZWxwZXIub25OZXh0VHJhbnNpdGlvbkVuZChlbGVtZW50LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZTtcbiAgICAgICAgfVxuICAgICAgICBWaXNpYmlsaXR5SGVscGVyLmhpZGUgPSBoaWRlO1xuICAgICAgICBmdW5jdGlvbiBzZXRWaXNpYmlsaXR5KGVsZW1lbnQsIHZpc2libGUpIHtcbiAgICAgICAgICAgIGlmICghdmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nO1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gJyc7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zdHlsZS5wb2ludGVyRXZlbnRzID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgVmlzaWJpbGl0eUhlbHBlci5zZXRWaXNpYmlsaXR5ID0gc2V0VmlzaWJpbGl0eTtcbiAgICB9KShWaXNpYmlsaXR5SGVscGVyID0gUmlkZVN0eWxlclNob3djYXNlLlZpc2liaWxpdHlIZWxwZXIgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZS5WaXNpYmlsaXR5SGVscGVyID0ge30pKTtcbn0pKFJpZGVTdHlsZXJTaG93Y2FzZSB8fCAoUmlkZVN0eWxlclNob3djYXNlID0ge30pKTsiLCJ2YXIgUmlkZVN0eWxlclNob3djYXNlO1xuKGZ1bmN0aW9uIChSaWRlU3R5bGVyU2hvd2Nhc2UpIHtcbiAgICB2YXIgc3RyaW5ncztcbiAgICAoZnVuY3Rpb24gKHN0cmluZ3MpIHtcbiAgICAgICAgc3RyaW5ncy5yZWdpc3Rlckxhbmd1YWdlKFJpZGVTdHlsZXJTaG93Y2FzZS5MYW5ndWFnZUtleXMuRW4sIHtcbiAgICAgICAgICAgIFwidmVoaWNsZS1zZWxlY3QtdmlzdWFsaXplLWludHJvXCI6IFwiVmlzdWFsaXplIHdoZWVscywgdGlyZXMgYW5kIHN1c3BlbnNpb24gbW9kaWZpY2F0aW9ucyBvbiB5b3VyIHZlaGljbGUuXCIsXG4gICAgICAgICAgICBcInZlaGljbGUtc2VsZWN0LXNoYXJlLWludHJvXCI6IFwiU2hhcmUgd2l0aCB5b3VyIGZyaWVuZHMsIG9yIHNhdmUgZm9yIGluc3BpcmF0aW9uLlwiLFxuICAgICAgICAgICAgXCJzZWxlY3QteW91ci12ZWhpY2xlXCI6IFwiU2VsZWN0IHlvdXIgVmVoaWNsZVwiLFxuICAgICAgICAgICAgXCJwYWludFwiOiBcIlBhaW50XCIsXG4gICAgICAgICAgICBcInN1c3BlbnNpb25cIjogXCJTdXNwZW5zaW9uXCIsXG4gICAgICAgICAgICBcIndoZWVsc1wiOiBcIldoZWVsc1wiLFxuICAgICAgICAgICAgXCJ0aXJlc1wiOiBcIlRpcmVzXCIsXG4gICAgICAgICAgICBcImZyb250XCI6IFwiRnJvbnRcIixcbiAgICAgICAgICAgIFwicmVhclwiOiBcIlJlYXJcIixcbiAgICAgICAgICAgIFwidmVoaWNsZS1kZXRhaWxzXCI6IFwiVmVoaWNsZSBEZXRhaWxzXCIsXG4gICAgICAgICAgICBcImNoYW5nZS12ZWhpY2xlXCI6IFwiQ2hhbmdlIFZlaGljbGVcIixcbiAgICAgICAgICAgIFwid2hlZWwtZGV0YWlsc1wiOiBcIldoZWVsIERldGFpbHNcIixcbiAgICAgICAgICAgIFwidGlyZS1kZXRhaWxzXCI6IFwiVGlyZSBEZXRhaWxzXCIsXG4gICAgICAgICAgICBcInNlbGVjdC1wYWludFwiOiBcIlNlbGVjdCBQYWludFwiLFxuICAgICAgICAgICAgXCJzZWxlY3Qtd2hlZWxzXCI6IFwiU2VsZWN0IFdoZWVsc1wiLFxuICAgICAgICAgICAgXCJzZWxlY3QtdGlyZXNcIjogXCJTZWxlY3QgVGlyZXNcIixcbiAgICAgICAgICAgIFwiYWRqdXN0LXN1c3BlbnNpb25cIjogXCJBZGp1c3QgU3VzcGVuc2lvblwiLFxuICAgICAgICAgICAgXCJjaGFuZ2Utd2hlZWwtc2l6ZVwiOiBcIldoZWVsIFNpemVcIixcbiAgICAgICAgICAgIFwibm8tcmVzdWx0c1wiOiBcIk5vIFJlc3VsdHMgRm91bmRcIixcbiAgICAgICAgICAgIFwibm8td2hlZWwtcmVzdWx0c1wiOiBcIk5vIHdoZWVscyBmb3VuZCBmb3IgdGhpcyB2ZWhpY2xlLlwiLFxuICAgICAgICAgICAgXCJ3aGVlbC1mZWF0dXJlcy1zcGVjc1wiOiBcIkZlYXR1cmVzICYgU3BlY3MuXCIsXG4gICAgICAgICAgICBcInNoYXJlLW15LXZlaGljbGVcIjogXCJTaGFyZSBNeSBWZWhpY2xlXCIsXG4gICAgICAgICAgICBcInNoYXJlLWluc3RydWN0aW9uc1wiOiBcIlVzZSB0aGUgYnV0dG9ucyB0byBzaGFyZSBvciBzYXZlIHlvdXIgdmVoaWNsZSBjb25maWd1cmF0aW9uLlwiLFxuICAgICAgICAgICAgXCJuby1kZXNjcmlwdGlvbi13aGVlbFwiOiBcIldlIGRvbid0IGhhdmUgYSBkZXNjcmlwdGlvbiBmb3IgdGhpcyB3aGVlbCB5ZXRcIixcbiAgICAgICAgICAgICdzaG93LXNwZWNzJzogXCJTaG93IFNwZWNzXCIsXG4gICAgICAgICAgICAnY2FsbCc6IFwiQ2FsbFwiLFxuICAgICAgICAgICAgJ3NpemUnOiBcIlNpemVcIixcbiAgICAgICAgICAgICdvZmZzZXQnOiBcIk9mZnNldFwiLFxuICAgICAgICAgICAgJ2JvbHQtcGF0dGVybic6IFwiQm9sdCBQYXR0ZXJuXCIsXG4gICAgICAgICAgICAnY2VudGVyYm9yZSc6IFwiQ2VudGVyYm9yZVwiLFxuICAgICAgICAgICAgJ3ByaWNlJzogXCJQcmljZVwiLFxuICAgICAgICAgICAgJ2l0ZW0tbnVtYmVyJzogXCJJdGVtICNcIixcbiAgICAgICAgICAgICdicmFuZHMnOiBcIkJyYW5kc1wiLFxuICAgICAgICAgICAgJ2ZpbmlzaGVzJzogXCJGaW5pc2hlc1wiLFxuICAgICAgICAgICAgJ3NpemVzJzogXCJTaXplc1wiLFxuICAgICAgICAgICAgJ2FsbCc6IFwiQWxsXCIsXG4gICAgICAgICAgICAnYWxsLWJyYW5kcyc6IFwiQWxsIEJyYW5kc1wiLFxuICAgICAgICAgICAgJ2FsbC1maW5pc2hlcyc6IFwiQWxsIEZpbmlzaGVzXCIsXG4gICAgICAgICAgICAnYWxsLXNpemVzJzogXCJBbGwgU2l6ZXNcIixcbiAgICAgICAgICAgICdmaWx0ZXItcmVzdWx0cyc6IFwiRmlsdGVyIFJlc3VsdHNcIixcbiAgICAgICAgICAgICdsb2FkaW5nLWVsbGlwc2lzJzogXCJMb2FkaW5nLi4uXCIsXG4gICAgICAgICAgICAnc2hvdy1jb3VudC1mb3JtYXQtdGlyZXMnOiBcIlNob3cge2NvdW50fSBUaXJlc1wiLFxuICAgICAgICAgICAgJ3Nob3ctY291bnQtZm9ybWF0LXdoZWVscyc6IFwiU2hvdyB7Y291bnR9IFdoZWVsc1wiLFxuICAgICAgICAgICAgJ3NwZWNpZmljYXRpb25zJzogXCJTcGVjaWZpY2F0aW9uc1wiLFxuICAgICAgICAgICAgJ3NwZWVkLXJhdGluZyc6IFwiU3BlZWQgUmF0aW5nXCIsXG4gICAgICAgICAgICAnYW55LXNwZWVkLXJhdGluZ3MnOiBcIkFueSBTcGVlZCBSYXRpbmdzXCIsXG4gICAgICAgICAgICAnZmVhdHVyZXMnOiBcIkZlYXR1cmVzXCIsXG4gICAgICAgICAgICAnYW55LWZlYXR1cmVzJzogXCJBbnkgRmVhdHVyZXNcIixcbiAgICAgICAgICAgICdmaW5pc2gnOiBcIkZpbmlzaFwiLFxuICAgICAgICAgICAgJ3N1bW1hcnknOiBcIlN1bW1hcnlcIixcbiAgICAgICAgICAgICdjaGVjay1vdXQtbXktdmVoaWNsZSc6IFwiQ2hlY2sgb3V0IG15IHZlaGljbGUhXCJcbiAgICAgICAgfSk7XG4gICAgfSkoc3RyaW5ncyA9IFJpZGVTdHlsZXJTaG93Y2FzZS5zdHJpbmdzIHx8IChSaWRlU3R5bGVyU2hvd2Nhc2Uuc3RyaW5ncyA9IHt9KSk7XG59KShSaWRlU3R5bGVyU2hvd2Nhc2UgfHwgKFJpZGVTdHlsZXJTaG93Y2FzZSA9IHt9KSk7Il19
