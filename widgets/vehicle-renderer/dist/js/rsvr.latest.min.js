function RideStylerViewport(e,t){var i=null,u=null,d=null,c=null,n=this,h=!0,p=!1,y={},o=0,l=0,s=0,r=0,a=0;(t=t||{}).state&&(y=t.state),"string"==typeof e?"function"==typeof document.querySelector?i=document.querySelector(e):"."===e[0]?i=document.getElementsByClassName(e.substring(1)):"#"===e[0]&&(i=document.getElementById(e.substring(1))):"object"==typeof e&&e.tagName&&(i=e),i||console.error("Could not find element specified for: "+e);var f,m="getComputedStyle"in window?getComputedStyle(i):i.runtimeStyle;!!(f=function(e){return"fixed"===e||"absolute"===e||"relative"===e})(i.style.position)||!!m&&f(m.position)||(i.style.position="relative"),(u=document.createElement("div")).className="rsvr-viewport",u.style.position="absolute",u.style.left=m.paddingLeft,u.style.top=m.paddingTop,u.style.right=m.paddingRight,u.style.bottom=m.paddingBottom,i.appendChild(u),(d=document.createElement("img")).src="//static.ridestyler.com/images/loaders/loader_radial_chaser_back_on_white_32.gif",d.alt="",d.className="rsvr-loader",d.style.padding="5px",d.style.borderRadius="21px",d.style.background="#fff",d.style.opacity=0,d.style.transition="opacity linear 300ms",d.style.position="absolute",d.style.left="50%",d.style.top="50%",d.style.zIndex="50",d.style.marginLeft="-21px",d.style.marginTop="-21px",u.appendChild(d),g(),c=new function(s){var r=null,a=[],e=0,t=null;function i(o){null==t||t.isResolved()||t.isRejected()||(clearTimeout(e),t.reject({cancelled:!0}));var l=t=ridestyler.promise();return e=setTimeout(function(){g(),null!=r&&(a.push(r),r=null);for(var e=a.length-1;0<=e;e--){var t=a[e];.5<t.style.opacity&&(t.style.opacity=.5)}var i=ridestyler.ajax.url("Vehicle/Render",o),n=document.createElement("img");n.className="rsvr-vehicle",n.style.position="absolute",n.style.maxWidth="100%",n.style.left=0,n.style.top=0,n.style.opacity=0,n.style.transition="opacity linear 300ms",n.alt="",s.appendChild(r=n),n.onload=function(){if(n==r){d.style.opacity=0,n.style.opacity=1;for(var t=a.splice(0,a.length),e=0;e<t.length;e++)t[e].style.opacity=0;setTimeout(function(){for(var e=0;e<t.length;e++)s.removeChild(t[e]);l.resolve()},300)}},n.onerror=function(){l.reject()},n.src=i},100),l}this.Render=function(e){return i(e)},this.Reset=function(){null!=r&&(s.removeChild(r),r=null)}}(u);var v=null;function g(){d.style.opacity=.75}"number"==typeof t.containerAspectRatio&&(v=t.containerAspectRatio),this.ResizeRenderArea=function(){(u.clientWidth!=o||null==v&&0==a&&u.clientHeight!=l)&&(o=u.clientWidth,0===(l=u.clientHeight)&&(null===v||0===i.clientHeight&&0!==i.clientWidth)&&(a=!0,u.style.position="relative",u.style.left="0",u.style.top="0"),a&&(u.style.height=.5*o+"px"),p&&(clearTimeout(s),s=setTimeout(function(){!0===p&&n.Update(!0)},150)))},this.SuspendLayout=function(){!1!==h&&!1!==t.responsive&&clearInterval(r)},this.ResumeLayout=function(){!1!==h&&(!1!==t.responsive&&(r=setInterval(this.ResizeRenderArea,100)),setTimeout(this.ResizeRenderArea,10))},this.Destroy=function(){!1!==h&&(h=!1,this.SuspendLayout(),i.removeChild(u),c=d=u=null)},this.CurrentInstructions=function(e){return void 0!==e?this.Update(e):y},this.Update=function(e){if(!1!==h){var t=!0===e,i=!1;p=!0;var n=window.devicePixelRatio?window.devicePixelRatio:1,o={width:Math.round(u.clientWidth*n),height:Math.round(u.clientHeight*n)};if(null!=v&&(o.height=Math.round(o.width*v)),!1===t){(e=function(e){var t={};if(e)if("string"==typeof e){var i=e.split("?");i=(1==i.length?i[0]:i[1]).split("&");for(var n=0;n<i.length;n++){var o=i[n].split("="),l=decodeURIComponent(o[0]).toLowerCase();"key"!=l&&"token"!=l&&(t[l]=decodeURIComponent(o[1]))}}else for(var s in e)t[s.toLowerCase()]=e[s];return t}(e)).width=o.width,e.height=o.height;var l=!1;for(var s in e){var r=y[s],a=e[s];r!=a&&(y[s]=a,l=!0)}!1===l&&(i=!0)}else y.width=o.width,y.height=o.height;if(0!=y.width&&0!=y.height||(console.log("Skipping vehicle render since current dimension would be 0."),i=!0),i){var d=ridestyler.promise();return d.resolve(),d}return c.Render(y)}},this.Reset=function(){!1!==h&&(y={},"function"==typeof c.Reset&&c.Reset())},this.ResumeLayout()}