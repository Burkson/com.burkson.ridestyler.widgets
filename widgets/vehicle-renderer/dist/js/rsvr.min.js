function RideStylerViewport(e,t){var i=null,n=null,l=null,o=null,s=this,r=!0,a=!1,u={},d=0,c=0,p=0,y=0,h=0;(t=t||{}).state&&(u=t.state),"string"==typeof e?"function"==typeof document.querySelector?i=document.querySelector(e):"."===e[0]?i=document.getElementsByClassName(e.substring(1)):"#"===e[0]&&(i=document.getElementById(e.substring(1))):"object"==typeof e&&e.tagName&&(i=e),i||console.error("Could not find element specified for: "+e);var f,m="getComputedStyle"in window?getComputedStyle(i):i.runtimeStyle;!!(f=function(e){return"fixed"===e||"absolute"===e||"relative"===e})(i.style.position)||!!m&&f(m.position)||(i.style.position="relative"),(n=document.createElement("div")).className="rsvr-viewport",n.style.position="absolute",n.style.left=m.paddingLeft,n.style.top=m.paddingTop,n.style.right=m.paddingRight,n.style.bottom=m.paddingBottom,i.appendChild(n),(l=document.createElement("img")).src="//static.ridestyler.net/images/loaders/loader_radial_chaser_back_on_white_32.gif",l.alt="",l.className="rsvr-loader",l.style.padding="5px",l.style.borderRadius="21px",l.style.background="#fff",l.style.opacity=0,l.style.transition="opacity linear 300ms",l.style.position="absolute",l.style.left="50%",l.style.top="50%",l.style.zIndex="50",l.style.marginLeft="-21px",l.style.marginTop="-21px",n.appendChild(l),g(),o=new function(e){var t=null,i=[],n=0,o=null;function s(s){null==o||o.isResolved()||o.isRejected()||(clearTimeout(n),o.reject({cancelled:!0}));var r=o=ridestyler.promise();return n=setTimeout(function(){g(),null!=t&&(i.push(t),t=null);for(var n=i.length-1;n>=0;n--){var o=i[n];o.style.opacity>.5&&(o.style.opacity=.5)}var a=ridestyler.ajax.url("Vehicle/Render",s),u=document.createElement("img");u.className="rsvr-vehicle",u.style.position="absolute",u.style.maxWidth="100%",u.style.left=0,u.style.top=0,u.style.opacity=0,u.style.transition="opacity linear 300ms",u.alt="",e.appendChild(t=u),u.onload=function(){if(u==t){l.style.opacity=0,u.style.opacity=1;for(var n=i.splice(0,i.length),o=0;o<n.length;o++)n[o].style.opacity=0;setTimeout(function(){for(var t=0;t<n.length;t++)e.removeChild(n[t]);r.resolve()},300)}},u.onerror=function(){r.reject()},u.src=a},100),r}this.Render=function(e){return s(e)},this.Reset=function(){null!=t&&(e.removeChild(t),t=null)}}(n);var v=null;function g(){l.style.opacity=.75}"number"==typeof t.containerAspectRatio&&(v=t.containerAspectRatio),this.ResizeRenderArea=function(){(n.clientWidth!=d||null==v&&0==h&&n.clientHeight!=c)&&(d=n.clientWidth,0===(c=n.clientHeight)&&null==v&&(h=!0,n.style.position="relative",n.style.left="0",n.style.top="0"),h&&(n.style.height=.5*d+"px"),a&&(clearTimeout(p),p=setTimeout(function(){!0===a&&s.Update(!0)},150)))},this.SuspendLayout=function(){!1!==r&&!1!==t.responsive&&clearInterval(y)},this.ResumeLayout=function(){!1!==r&&(!1!==t.responsive&&(y=setInterval(this.ResizeRenderArea,100)),setTimeout(this.ResizeRenderArea,10))},this.Destroy=function(){!1!==r&&(r=!1,this.SuspendLayout(),i.removeChild(n),n=null,l=null,o=null)},this.Update=function(e){if(!1!==r){var t=!0===e,i=!1;a=!0;var l=window.devicePixelRatio?window.devicePixelRatio:1,s={width:Math.round(n.clientWidth*l),height:Math.round(n.clientHeight*l)};if(null!=v&&(s.height=Math.round(s.width*v)),!1===t){(e=function(e){var t={};if(e)if("string"==typeof e){var i=e.split("?");i=(1==i.length?i[0]:i[1]).split("&");for(var n=0;n<i.length;n++){var l=i[n].split("="),o=decodeURIComponent(l[0]).toLowerCase();"key"!=o&&"token"!=o&&(t[o]=decodeURIComponent(l[1]))}}else for(var s in e)t[s.toLowerCase()]=e[s];return t}(e)).width=s.width,e.height=s.height;var d=!1;for(var c in e){var p=u[c],y=e[c];p!=y&&(u[c]=y,d=!0)}!1===d&&(i=!0)}else u.width=s.width,u.height=s.height;if(0!=u.width&&0!=u.height||(console.log("Skipping vehicle render since current dimension would be 0."),i=!0),i){var h=ridestyler.promise();return h.resolve(),h}return o.Render(u)}},this.Reset=function(){!1!==r&&(u={},"function"==typeof o.Reset&&o.Reset())},this.ResumeLayout()}