function RideStylerViewport(e,t){var i=null,c=null,d=null,u=null,n=this,p=!0,h=!1,y={},l=0,o=0,s=0,r=0,a=0;(t=t||{}).state&&(y=t.state),"string"==typeof e?"function"==typeof document.querySelector?i=document.querySelector(e):"."===e[0]?i=document.getElementsByClassName(e.substring(1)):"#"===e[0]&&(i=document.getElementById(e.substring(1))):"object"==typeof e&&e.tagName&&(i=e),i||console.error("Could not find element specified for: "+e);var f,m="getComputedStyle"in window?getComputedStyle(i):i.runtimeStyle;!!(f=function(e){return"fixed"===e||"absolute"===e||"relative"===e})(i.style.position)||!!m&&f(m.position)||(i.style.position="relative"),(c=document.createElement("div")).className="rsvr-viewport",c.style.position="absolute",c.style.left=m.paddingLeft,c.style.top=m.paddingTop,c.style.right=m.paddingRight,c.style.bottom=m.paddingBottom,i.appendChild(c),(d=document.createElement("img")).src="//static.ridestyler.net/images/loaders/loader_radial_chaser_back_on_white_32.gif",d.alt="",d.className="rsvr-loader",d.style.padding="5px",d.style.borderRadius="21px",d.style.background="#fff",d.style.opacity=0,d.style.transition="opacity linear 300ms",d.style.position="absolute",d.style.left="50%",d.style.top="50%",d.style.zIndex="50",d.style.marginLeft="-21px",d.style.marginTop="-21px",c.appendChild(d),v(),u=new function(s){var r=null,a=[],e=0,t=null;function i(l){null==t||t.isResolved()||t.isRejected()||(clearTimeout(e),t.reject({cancelled:!0}));var o=t=ridestyler.promise();return e=setTimeout(function(){v(),null!=r&&(a.push(r),r=null);for(var e=a.length-1;0<=e;e--){var t=a[e];.5<t.style.opacity&&(t.style.opacity=.5)}var i=ridestyler.ajax.url("Vehicle/Render",l),n=document.createElement("img");n.className="rsvr-vehicle",n.style.position="absolute",n.style.maxWidth="100%",n.style.left=0,n.style.top=0,n.style.opacity=0,n.style.transition="opacity linear 300ms",n.alt="",s.appendChild(r=n),n.onload=function(){if(n==r){d.style.opacity=0,n.style.opacity=1;for(var t=a.splice(0,a.length),e=0;e<t.length;e++)t[e].style.opacity=0;setTimeout(function(){for(var e=0;e<t.length;e++)s.removeChild(t[e]);o.resolve()},300)}},n.onerror=function(){o.reject()},n.src=i},100),o}this.Render=function(e){return i(e)},this.Reset=function(){null!=r&&(s.removeChild(r),r=null)}}(c);var g=null;function v(){d.style.opacity=.75}"number"==typeof t.containerAspectRatio&&(g=t.containerAspectRatio),this.ResizeRenderArea=function(){(c.clientWidth!=l||null==g&&0==a&&c.clientHeight!=o)&&(l=c.clientWidth,0===(o=c.clientHeight)&&(null===g||0===i.clientHeight&&0!==i.clientWidth)&&(a=!0,c.style.position="relative",c.style.left="0",c.style.top="0"),a&&(c.style.height=.5*l+"px"),h&&(clearTimeout(s),s=setTimeout(function(){!0===h&&n.Update(!0)},150)))},this.SuspendLayout=function(){!1!==p&&!1!==t.responsive&&clearInterval(r)},this.ResumeLayout=function(){!1!==p&&(!1!==t.responsive&&(r=setInterval(this.ResizeRenderArea,100)),setTimeout(this.ResizeRenderArea,10))},this.Destroy=function(){!1!==p&&(p=!1,this.SuspendLayout(),i.removeChild(c),u=d=c=null)},this.Update=function(e){if(!1!==p){var t=!0===e,i=!1;h=!0;var n=window.devicePixelRatio?window.devicePixelRatio:1,l={width:Math.round(c.clientWidth*n),height:Math.round(c.clientHeight*n)};if(null!=g&&(l.height=Math.round(l.width*g)),!1===t){(e=function(e){var t={};if(e)if("string"==typeof e){var i=e.split("?");i=(1==i.length?i[0]:i[1]).split("&");for(var n=0;n<i.length;n++){var l=i[n].split("="),o=decodeURIComponent(l[0]).toLowerCase();"key"!=o&&"token"!=o&&(t[o]=decodeURIComponent(l[1]))}}else for(var s in e)t[s.toLowerCase()]=e[s];return t}(e)).width=l.width,e.height=l.height;var o=!1;for(var s in e){var r=y[s],a=e[s];r!=a&&(y[s]=a,o=!0)}!1===o&&(i=!0)}else y.width=l.width,y.height=l.height;if(0!=y.width&&0!=y.height||(console.log("Skipping vehicle render since current dimension would be 0."),i=!0),i){var d=ridestyler.promise();return d.resolve(),d}return u.Render(y)}},this.Reset=function(){!1!==p&&(y={},"function"==typeof u.Reset&&u.Reset())},this.ResumeLayout()}