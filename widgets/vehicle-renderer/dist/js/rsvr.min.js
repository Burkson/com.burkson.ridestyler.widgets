function RideStylerViewport(e,t){var n=null,i=null,r=null,o=!1,l={};(t=t||{}).state&&(l=t.state),"string"==typeof e?"function"==typeof document.querySelector?n=document.querySelector(e):"."===e[0]?n=document.getElementsByClassName(e.substring(1)):"#"===e[0]&&(n=document.getElementById(e.substring(1))):"object"==typeof e&&e.tagName&&(n=e),n||console.error("Could not find element specified for: "+e),function(){var e=function(e){return"fixed"===e||"absolute"===e||"relative"===e};if(e(n.style.position))return!0;var t="getComputedStyle"in window?getComputedStyle(n):n.runtimeStyle;return!!t&&e(t.position)}()||(n.style.position="relative"),(i=document.createElement("img")).src="//static.ridestyler.net/images/loaders/loader_radial_chaser_back_on_white_32.gif",i.style.padding="5px",i.style.borderRadius="21px",i.style.background="#fff",i.style.opacity=0,i.style.transition="opacity linear 300ms",i.style.position="absolute",i.style.left="50%",i.style.top="50%",i.style.zIndex="50",i.style.marginLeft="-21px",i.style.marginTop="-21px",n.appendChild(i),c(),r=new function(e){var t=null,n=[];function r(r){var o=ridestyler.promise();c(),null!=t&&(n.push(t),t=null);for(var l=n.length-1;l>=0;l--){var s=n[l];s.style.opacity>.5&&(s.style.opacity=.5)}var a=ridestyler.ajax.url("Vehicle/Render",r),u=document.createElement("img");return u.style.position="absolute",u.style.left=0,u.style.top=0,u.style.opacity=0,u.style.transition="opacity linear 300ms",e.appendChild(t=u),u.onload=function(){if(u==t){i.style.opacity=0,u.style.opacity=1;for(var r=n.splice(0,n.length),l=0;l<r.length;l++)r[l].style.opacity=0;setTimeout(function(){for(var t=0;t<r.length;t++)e.removeChild(r[t]);o.resolve()},300)}},u.onerror=function(){o.reject()},u.src=a,o}this.Render=function(e){return r(e)},this.Reset=function(){null!=t&&(e.removeChild(t),t=null)}}(n);var s=null;"number"==typeof t.containerAspectRatio&&(s=t.containerAspectRatio);var a=0,u=0;function c(){i.style.opacity=.75}this.ResizeRenderArea=function(){if(n.clientWidth!=a){if(a=n.clientWidth,l.width=a,null!=s){var e=Math.round(a*s);n.style.height=e+"px",l.height=e}o&&(clearTimeout(u),u=setTimeout(function(){r.Render(l)},150))}},!1!==t.responsive&&setInterval(this.ResizeRenderArea,100),setTimeout(this.ResizeRenderArea,10),this.Update=function(e){o=!0,(e=function(e){var t={};if("string"==typeof e){var n=e.split("?");n=(1==n.length?n[0]:n[1]).split("&");for(var i=0;i<n.length;i++){var r=n[i].split("="),o=decodeURIComponent(r[0]).toLowerCase();"key"!=o&&"token"!=o&&(t[o]=decodeURIComponent(r[1]))}}else for(var l in e)t[l.toLowerCase()]=e[l];return t}(e)).width=n.clientWidth,e.height=n.clientHeight;var t=!1;for(var i in e){var s=l[i],a=e[i];s!=a&&(l[i]=a,t=!0)}if(0==t){var u=ridestyler.promise();return u.resolve(),u}return r.Render(l)},this.Reset=function(){l={},"function"==typeof r.Reset&&r.Reset()}}