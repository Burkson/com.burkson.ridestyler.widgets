function RideStylerViewport(e,t){var l=null,c=null,s=null,a=!1,u={};(t=t||{}).state&&(u=t.state),"string"==typeof e?"function"==typeof document.querySelector?l=document.querySelector(e):"."===e[0]?l=document.getElementsByClassName(e.substring(1)):"#"===e[0]&&(l=document.getElementById(e.substring(1))):"object"==typeof e&&e.tagName&&(l=e),l||console.error("Could not find element specified for: "+e),function(){var e=function(e){return"fixed"===e||"absolute"===e||"relative"===e};if(e(l.style.position))return!0;var t="getComputedStyle"in window?getComputedStyle(l):l.runtimeStyle;return!!t&&e(t.position)}()||(l.style.position="relative"),(c=document.createElement("img")).src="//static.ridestyler.net/images/loaders/loader_radial_chaser_back_on_white_32.gif",c.className="rsvr-loader",c.style.padding="5px",c.style.borderRadius="21px",c.style.background="#fff",c.style.opacity=0,c.style.transition="opacity linear 300ms",c.style.position="absolute",c.style.left="50%",c.style.top="50%",c.style.zIndex="50",c.style.marginLeft="-21px",c.style.marginTop="-21px",l.appendChild(c),d(),s=new function(l){var s=null,a=[];function t(e){var n=ridestyler.promise();d(),null!=s&&(a.push(s),s=null);for(var t=a.length-1;0<=t;t--){var i=a[t];.5<i.style.opacity&&(i.style.opacity=.5)}var r=ridestyler.ajax.url("Vehicle/Render",e),o=document.createElement("img");return o.className="rsvr-vehicle",o.style.position="absolute",o.style.left=0,o.style.top=0,o.style.opacity=0,o.style.transition="opacity linear 300ms",l.appendChild(s=o),o.onload=function(){if(o==s){c.style.opacity=0,o.style.opacity=1;for(var t=a.splice(0,a.length),e=0;e<t.length;e++)t[e].style.opacity=0;setTimeout(function(){for(var e=0;e<t.length;e++)l.removeChild(t[e]);n.resolve()},300)}},o.onerror=function(){n.reject()},o.src=r,n}this.Render=function(e){return t(e)},this.Reset=function(){null!=s&&(l.removeChild(s),s=null)}}(l);var n=null;"number"==typeof t.containerAspectRatio&&(n=t.containerAspectRatio);var i=0,r=0;function d(){c.style.opacity=.75}!(this.ResizeRenderArea=function(){if(l.clientWidth!=i){if(i=l.clientWidth,u.width=i,null!=n){var e=Math.round(i*n);l.style.height=e+"px",u.height=e}a&&(clearTimeout(r),r=setTimeout(function(){s.Render(u)},150))}})!==t.responsive&&setInterval(this.ResizeRenderArea,100),setTimeout(this.ResizeRenderArea,10),this.Update=function(e){a=!0,(e=function(e){var t={};if("string"==typeof e){var n=e.split("?");n=(1==n.length?n[0]:n[1]).split("&");for(var i=0;i<n.length;i++){var r=n[i].split("="),o=decodeURIComponent(r[0]).toLowerCase();"key"!=o&&"token"!=o&&(t[o]=decodeURIComponent(r[1]))}}else for(var l in e)t[l.toLowerCase()]=e[l];return t}(e)).width=l.clientWidth,e.height=l.clientHeight;var t=!1;for(var n in e){var i=u[n],r=e[n];i!=r&&(u[n]=r,t=!0)}if(0!=t)return s.Render(u);var o=ridestyler.promise();return o.resolve(),o},this.Reset=function(){u={},"function"==typeof s.Reset&&s.Reset()}}